(function(){const _e=document.createElement("link").relList;if(_e&&_e.supports&&_e.supports("modulepreload"))return;for(const nt of document.querySelectorAll('link[rel="modulepreload"]'))rt(nt);new MutationObserver(nt=>{for(const st of nt)if(st.type==="childList")for(const it of st.addedNodes)it.tagName==="LINK"&&it.rel==="modulepreload"&&rt(it)}).observe(document,{childList:!0,subtree:!0});function tt(nt){const st={};return nt.integrity&&(st.integrity=nt.integrity),nt.referrerPolicy&&(st.referrerPolicy=nt.referrerPolicy),nt.crossOrigin==="use-credentials"?st.credentials="include":nt.crossOrigin==="anonymous"?st.credentials="omit":st.credentials="same-origin",st}function rt(nt){if(nt.ep)return;nt.ep=!0;const st=tt(nt);fetch(nt.href,st)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$1(et){return et&&et.__esModule&&Object.prototype.hasOwnProperty.call(et,"default")?et.default:et}function getAugmentedNamespace(et){if(et.__esModule)return et;var _e=et.default;if(typeof _e=="function"){var tt=function rt(){return this instanceof rt?Reflect.construct(_e,arguments,this.constructor):_e.apply(this,arguments)};tt.prototype=_e.prototype}else tt={};return Object.defineProperty(tt,"__esModule",{value:!0}),Object.keys(et).forEach(function(rt){var nt=Object.getOwnPropertyDescriptor(et,rt);Object.defineProperty(tt,rt,nt.get?nt:{enumerable:!0,get:function(){return et[rt]}})}),tt}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$5=Symbol.for("react.element"),n$4=Symbol.for("react.portal"),p$5=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r$4=Symbol.for("react.profiler"),t$4=Symbol.for("react.provider"),u$3=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$2=Symbol.for("react.suspense"),x$2=Symbol.for("react.memo"),y$2=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(et){return et===null||typeof et!="object"?null:(et=z$2&&et[z$2]||et["@@iterator"],typeof et=="function"?et:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$2={};function E$2(et,_e,tt){this.props=et,this.context=_e,this.refs=D$2,this.updater=tt||B$1}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(et,_e){if(typeof et!="object"&&typeof et!="function"&&et!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,et,_e,"setState")};E$2.prototype.forceUpdate=function(et){this.updater.enqueueForceUpdate(this,et,"forceUpdate")};function F$2(){}F$2.prototype=E$2.prototype;function G$1(et,_e,tt){this.props=et,this.context=_e,this.refs=D$2,this.updater=tt||B$1}var H$2=G$1.prototype=new F$2;H$2.constructor=G$1;C$2(H$2,E$2.prototype);H$2.isPureReactComponent=!0;var I$2=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$1={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$3(et,_e,tt){var rt,nt={},st=null,it=null;if(_e!=null)for(rt in _e.ref!==void 0&&(it=_e.ref),_e.key!==void 0&&(st=""+_e.key),_e)J$1.call(_e,rt)&&!L$2.hasOwnProperty(rt)&&(nt[rt]=_e[rt]);var at=arguments.length-2;if(at===1)nt.children=tt;else if(1<at){for(var ot=Array(at),lt=0;lt<at;lt++)ot[lt]=arguments[lt+2];nt.children=ot}if(et&&et.defaultProps)for(rt in at=et.defaultProps,at)nt[rt]===void 0&&(nt[rt]=at[rt]);return{$$typeof:l$5,type:et,key:st,ref:it,props:nt,_owner:K$1.current}}function N$3(et,_e){return{$$typeof:l$5,type:et.type,key:_e,ref:et.ref,props:et.props,_owner:et._owner}}function O$2(et){return typeof et=="object"&&et!==null&&et.$$typeof===l$5}function escape$1(et){var _e={"=":"=0",":":"=2"};return"$"+et.replace(/[=:]/g,function(tt){return _e[tt]})}var P$2=/\/+/g;function Q$1(et,_e){return typeof et=="object"&&et!==null&&et.key!=null?escape$1(""+et.key):_e.toString(36)}function R$2(et,_e,tt,rt,nt){var st=typeof et;(st==="undefined"||st==="boolean")&&(et=null);var it=!1;if(et===null)it=!0;else switch(st){case"string":case"number":it=!0;break;case"object":switch(et.$$typeof){case l$5:case n$4:it=!0}}if(it)return it=et,nt=nt(it),et=rt===""?"."+Q$1(it,0):rt,I$2(nt)?(tt="",et!=null&&(tt=et.replace(P$2,"$&/")+"/"),R$2(nt,_e,tt,"",function(lt){return lt})):nt!=null&&(O$2(nt)&&(nt=N$3(nt,tt+(!nt.key||it&&it.key===nt.key?"":(""+nt.key).replace(P$2,"$&/")+"/")+et)),_e.push(nt)),1;if(it=0,rt=rt===""?".":rt+":",I$2(et))for(var at=0;at<et.length;at++){st=et[at];var ot=rt+Q$1(st,at);it+=R$2(st,_e,tt,ot,nt)}else if(ot=A$2(et),typeof ot=="function")for(et=ot.call(et),at=0;!(st=et.next()).done;)st=st.value,ot=rt+Q$1(st,at++),it+=R$2(st,_e,tt,ot,nt);else if(st==="object")throw _e=String(et),Error("Objects are not valid as a React child (found: "+(_e==="[object Object]"?"object with keys {"+Object.keys(et).join(", ")+"}":_e)+"). If you meant to render a collection of children, use an array instead.");return it}function S$2(et,_e,tt){if(et==null)return et;var rt=[],nt=0;return R$2(et,rt,"","",function(st){return _e.call(tt,st,nt++)}),rt}function T$2(et){if(et._status===-1){var _e=et._result;_e=_e(),_e.then(function(tt){(et._status===0||et._status===-1)&&(et._status=1,et._result=tt)},function(tt){(et._status===0||et._status===-1)&&(et._status=2,et._result=tt)}),et._status===-1&&(et._status=0,et._result=_e)}if(et._status===1)return et._result.default;throw et._result}var U$2={current:null},V$2={transition:null},W$2={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$1};react_production_min.Children={map:S$2,forEach:function(et,_e,tt){S$2(et,function(){_e.apply(this,arguments)},tt)},count:function(et){var _e=0;return S$2(et,function(){_e++}),_e},toArray:function(et){return S$2(et,function(_e){return _e})||[]},only:function(et){if(!O$2(et))throw Error("React.Children.only expected to receive a single React element child.");return et}};react_production_min.Component=E$2;react_production_min.Fragment=p$5;react_production_min.Profiler=r$4;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$2;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.cloneElement=function(et,_e,tt){if(et==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+et+".");var rt=C$2({},et.props),nt=et.key,st=et.ref,it=et._owner;if(_e!=null){if(_e.ref!==void 0&&(st=_e.ref,it=K$1.current),_e.key!==void 0&&(nt=""+_e.key),et.type&&et.type.defaultProps)var at=et.type.defaultProps;for(ot in _e)J$1.call(_e,ot)&&!L$2.hasOwnProperty(ot)&&(rt[ot]=_e[ot]===void 0&&at!==void 0?at[ot]:_e[ot])}var ot=arguments.length-2;if(ot===1)rt.children=tt;else if(1<ot){at=Array(ot);for(var lt=0;lt<ot;lt++)at[lt]=arguments[lt+2];rt.children=at}return{$$typeof:l$5,type:et.type,key:nt,ref:st,props:rt,_owner:it}};react_production_min.createContext=function(et){return et={$$typeof:u$3,_currentValue:et,_currentValue2:et,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},et.Provider={$$typeof:t$4,_context:et},et.Consumer=et};react_production_min.createElement=M$3;react_production_min.createFactory=function(et){var _e=M$3.bind(null,et);return _e.type=et,_e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(et){return{$$typeof:v$2,render:et}};react_production_min.isValidElement=O$2;react_production_min.lazy=function(et){return{$$typeof:y$2,_payload:{_status:-1,_result:et},_init:T$2}};react_production_min.memo=function(et,_e){return{$$typeof:x$2,type:et,compare:_e===void 0?null:_e}};react_production_min.startTransition=function(et){var _e=V$2.transition;V$2.transition={};try{et()}finally{V$2.transition=_e}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(et,_e){return U$2.current.useCallback(et,_e)};react_production_min.useContext=function(et){return U$2.current.useContext(et)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(et){return U$2.current.useDeferredValue(et)};react_production_min.useEffect=function(et,_e){return U$2.current.useEffect(et,_e)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(et,_e,tt){return U$2.current.useImperativeHandle(et,_e,tt)};react_production_min.useInsertionEffect=function(et,_e){return U$2.current.useInsertionEffect(et,_e)};react_production_min.useLayoutEffect=function(et,_e){return U$2.current.useLayoutEffect(et,_e)};react_production_min.useMemo=function(et,_e){return U$2.current.useMemo(et,_e)};react_production_min.useReducer=function(et,_e,tt){return U$2.current.useReducer(et,_e,tt)};react_production_min.useRef=function(et){return U$2.current.useRef(et)};react_production_min.useState=function(et){return U$2.current.useState(et)};react_production_min.useSyncExternalStore=function(et,_e,tt){return U$2.current.useSyncExternalStore(et,_e,tt)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs$1(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k$1=Symbol.for("react.element"),l$4=Symbol.for("react.fragment"),m$3=Object.prototype.hasOwnProperty,n$3=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$4={key:!0,ref:!0,__self:!0,__source:!0};function q$1(et,_e,tt){var rt,nt={},st=null,it=null;tt!==void 0&&(st=""+tt),_e.key!==void 0&&(st=""+_e.key),_e.ref!==void 0&&(it=_e.ref);for(rt in _e)m$3.call(_e,rt)&&!p$4.hasOwnProperty(rt)&&(nt[rt]=_e[rt]);if(et&&et.defaultProps)for(rt in _e=et.defaultProps,_e)nt[rt]===void 0&&(nt[rt]=_e[rt]);return{$$typeof:k$1,type:et,key:st,ref:it,props:nt,_owner:n$3.current}}reactJsxRuntime_production_min.Fragment=l$4;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(et){function _e(Ot,jt){var Ut=Ot.length;Ot.push(jt);e:for(;0<Ut;){var _t=Ut-1>>>1,It=Ot[_t];if(0<nt(It,jt))Ot[_t]=jt,Ot[Ut]=It,Ut=_t;else break e}}function tt(Ot){return Ot.length===0?null:Ot[0]}function rt(Ot){if(Ot.length===0)return null;var jt=Ot[0],Ut=Ot.pop();if(Ut!==jt){Ot[0]=Ut;e:for(var _t=0,It=Ot.length,Wt=It>>>1;_t<Wt;){var Kt=2*(_t+1)-1,Bt=Ot[Kt],Qt=Kt+1,Nt=Ot[Qt];if(0>nt(Bt,Ut))Qt<It&&0>nt(Nt,Bt)?(Ot[_t]=Nt,Ot[Qt]=Ut,_t=Qt):(Ot[_t]=Bt,Ot[Kt]=Ut,_t=Kt);else if(Qt<It&&0>nt(Nt,Ut))Ot[_t]=Nt,Ot[Qt]=Ut,_t=Qt;else break e}}return jt}function nt(Ot,jt){var Ut=Ot.sortIndex-jt.sortIndex;return Ut!==0?Ut:Ot.id-jt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var st=performance;et.unstable_now=function(){return st.now()}}else{var it=Date,at=it.now();et.unstable_now=function(){return it.now()-at}}var ot=[],lt=[],ct=1,ut=null,dt=3,ft=!1,ht=!1,pt=!1,gt=typeof setTimeout=="function"?setTimeout:null,mt=typeof clearTimeout=="function"?clearTimeout:null,bt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function vt(Ot){for(var jt=tt(lt);jt!==null;){if(jt.callback===null)rt(lt);else if(jt.startTime<=Ot)rt(lt),jt.sortIndex=jt.expirationTime,_e(ot,jt);else break;jt=tt(lt)}}function yt(Ot){if(pt=!1,vt(Ot),!ht)if(tt(ot)!==null)ht=!0,Ft(xt);else{var jt=tt(lt);jt!==null&&Mt(yt,jt.startTime-Ot)}}function xt(Ot,jt){ht=!1,pt&&(pt=!1,mt($t),$t=-1),ft=!0;var Ut=dt;try{for(vt(jt),ut=tt(ot);ut!==null&&(!(ut.expirationTime>jt)||Ot&&!Pt());){var _t=ut.callback;if(typeof _t=="function"){ut.callback=null,dt=ut.priorityLevel;var It=_t(ut.expirationTime<=jt);jt=et.unstable_now(),typeof It=="function"?ut.callback=It:ut===tt(ot)&&rt(ot),vt(jt)}else rt(ot);ut=tt(ot)}if(ut!==null)var Wt=!0;else{var Kt=tt(lt);Kt!==null&&Mt(yt,Kt.startTime-jt),Wt=!1}return Wt}finally{ut=null,dt=Ut,ft=!1}}var Et=!1,wt=null,$t=-1,Tt=5,St=-1;function Pt(){return!(et.unstable_now()-St<Tt)}function At(){if(wt!==null){var Ot=et.unstable_now();St=Ot;var jt=!0;try{jt=wt(!0,Ot)}finally{jt?Rt():(Et=!1,wt=null)}}else Et=!1}var Rt;if(typeof bt=="function")Rt=function(){bt(At)};else if(typeof MessageChannel<"u"){var Ct=new MessageChannel,Dt=Ct.port2;Ct.port1.onmessage=At,Rt=function(){Dt.postMessage(null)}}else Rt=function(){gt(At,0)};function Ft(Ot){wt=Ot,Et||(Et=!0,Rt())}function Mt(Ot,jt){$t=gt(function(){Ot(et.unstable_now())},jt)}et.unstable_IdlePriority=5,et.unstable_ImmediatePriority=1,et.unstable_LowPriority=4,et.unstable_NormalPriority=3,et.unstable_Profiling=null,et.unstable_UserBlockingPriority=2,et.unstable_cancelCallback=function(Ot){Ot.callback=null},et.unstable_continueExecution=function(){ht||ft||(ht=!0,Ft(xt))},et.unstable_forceFrameRate=function(Ot){0>Ot||125<Ot?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Tt=0<Ot?Math.floor(1e3/Ot):5},et.unstable_getCurrentPriorityLevel=function(){return dt},et.unstable_getFirstCallbackNode=function(){return tt(ot)},et.unstable_next=function(Ot){switch(dt){case 1:case 2:case 3:var jt=3;break;default:jt=dt}var Ut=dt;dt=jt;try{return Ot()}finally{dt=Ut}},et.unstable_pauseExecution=function(){},et.unstable_requestPaint=function(){},et.unstable_runWithPriority=function(Ot,jt){switch(Ot){case 1:case 2:case 3:case 4:case 5:break;default:Ot=3}var Ut=dt;dt=Ot;try{return jt()}finally{dt=Ut}},et.unstable_scheduleCallback=function(Ot,jt,Ut){var _t=et.unstable_now();switch(typeof Ut=="object"&&Ut!==null?(Ut=Ut.delay,Ut=typeof Ut=="number"&&0<Ut?_t+Ut:_t):Ut=_t,Ot){case 1:var It=-1;break;case 2:It=250;break;case 5:It=1073741823;break;case 4:It=1e4;break;default:It=5e3}return It=Ut+It,Ot={id:ct++,callback:jt,priorityLevel:Ot,startTime:Ut,expirationTime:It,sortIndex:-1},Ut>_t?(Ot.sortIndex=Ut,_e(lt,Ot),tt(ot)===null&&Ot===tt(lt)&&(pt?(mt($t),$t=-1):pt=!0,Mt(yt,Ut-_t))):(Ot.sortIndex=It,_e(ot,Ot),ht||ft||(ht=!0,Ft(xt))),Ot},et.unstable_shouldYield=Pt,et.unstable_wrapCallback=function(Ot){var jt=dt;return function(){var Ut=dt;dt=jt;try{return Ot.apply(this,arguments)}finally{dt=Ut}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$3(et){for(var _e="https://reactjs.org/docs/error-decoder.html?invariant="+et,tt=1;tt<arguments.length;tt++)_e+="&args[]="+encodeURIComponent(arguments[tt]);return"Minified React error #"+et+"; visit "+_e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(et,_e){ha(et,_e),ha(et+"Capture",_e)}function ha(et,_e){for(ea[et]=_e,et=0;et<_e.length;et++)da.add(_e[et])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(et){return ja.call(ma,et)?!0:ja.call(la,et)?!1:ka.test(et)?ma[et]=!0:(la[et]=!0,!1)}function pa(et,_e,tt,rt){if(tt!==null&&tt.type===0)return!1;switch(typeof _e){case"function":case"symbol":return!0;case"boolean":return rt?!1:tt!==null?!tt.acceptsBooleans:(et=et.toLowerCase().slice(0,5),et!=="data-"&&et!=="aria-");default:return!1}}function qa(et,_e,tt,rt){if(_e===null||typeof _e>"u"||pa(et,_e,tt,rt))return!0;if(rt)return!1;if(tt!==null)switch(tt.type){case 3:return!_e;case 4:return _e===!1;case 5:return isNaN(_e);case 6:return isNaN(_e)||1>_e}return!1}function v$1(et,_e,tt,rt,nt,st,it){this.acceptsBooleans=_e===2||_e===3||_e===4,this.attributeName=rt,this.attributeNamespace=nt,this.mustUseProperty=tt,this.propertyName=et,this.type=_e,this.sanitizeURL=st,this.removeEmptyString=it}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(et){z$1[et]=new v$1(et,0,!1,et,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(et){var _e=et[0];z$1[_e]=new v$1(_e,1,!1,et[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(et){z$1[et]=new v$1(et,2,!1,et.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(et){z$1[et]=new v$1(et,2,!1,et,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(et){z$1[et]=new v$1(et,3,!1,et.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(et){z$1[et]=new v$1(et,3,!0,et,null,!1,!1)});["capture","download"].forEach(function(et){z$1[et]=new v$1(et,4,!1,et,null,!1,!1)});["cols","rows","size","span"].forEach(function(et){z$1[et]=new v$1(et,6,!1,et,null,!1,!1)});["rowSpan","start"].forEach(function(et){z$1[et]=new v$1(et,5,!1,et.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(et){return et[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(et){var _e=et.replace(ra,sa);z$1[_e]=new v$1(_e,1,!1,et,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(et){var _e=et.replace(ra,sa);z$1[_e]=new v$1(_e,1,!1,et,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(et){var _e=et.replace(ra,sa);z$1[_e]=new v$1(_e,1,!1,et,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(et){z$1[et]=new v$1(et,1,!1,et.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(et){z$1[et]=new v$1(et,1,!1,et.toLowerCase(),null,!0,!0)});function ta(et,_e,tt,rt){var nt=z$1.hasOwnProperty(_e)?z$1[_e]:null;(nt!==null?nt.type!==0:rt||!(2<_e.length)||_e[0]!=="o"&&_e[0]!=="O"||_e[1]!=="n"&&_e[1]!=="N")&&(qa(_e,tt,nt,rt)&&(tt=null),rt||nt===null?oa(_e)&&(tt===null?et.removeAttribute(_e):et.setAttribute(_e,""+tt)):nt.mustUseProperty?et[nt.propertyName]=tt===null?nt.type===3?!1:"":tt:(_e=nt.attributeName,rt=nt.attributeNamespace,tt===null?et.removeAttribute(_e):(nt=nt.type,tt=nt===3||nt===4&&tt===!0?"":""+tt,rt?et.setAttributeNS(rt,_e,tt):et.setAttribute(_e,tt))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(et){return et===null||typeof et!="object"?null:(et=Ja&&et[Ja]||et["@@iterator"],typeof et=="function"?et:null)}var A$1=Object.assign,La;function Ma(et){if(La===void 0)try{throw Error()}catch(tt){var _e=tt.stack.trim().match(/\n( *(at )?)/);La=_e&&_e[1]||""}return`
`+La+et}var Na=!1;function Oa(et,_e){if(!et||Na)return"";Na=!0;var tt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(_e)if(_e=function(){throw Error()},Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(lt){var rt=lt}Reflect.construct(et,[],_e)}else{try{_e.call()}catch(lt){rt=lt}et.call(_e.prototype)}else{try{throw Error()}catch(lt){rt=lt}et()}}catch(lt){if(lt&&rt&&typeof lt.stack=="string"){for(var nt=lt.stack.split(`
`),st=rt.stack.split(`
`),it=nt.length-1,at=st.length-1;1<=it&&0<=at&&nt[it]!==st[at];)at--;for(;1<=it&&0<=at;it--,at--)if(nt[it]!==st[at]){if(it!==1||at!==1)do if(it--,at--,0>at||nt[it]!==st[at]){var ot=`
`+nt[it].replace(" at new "," at ");return et.displayName&&ot.includes("<anonymous>")&&(ot=ot.replace("<anonymous>",et.displayName)),ot}while(1<=it&&0<=at);break}}}finally{Na=!1,Error.prepareStackTrace=tt}return(et=et?et.displayName||et.name:"")?Ma(et):""}function Pa(et){switch(et.tag){case 5:return Ma(et.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return et=Oa(et.type,!1),et;case 11:return et=Oa(et.type.render,!1),et;case 1:return et=Oa(et.type,!0),et;default:return""}}function Qa(et){if(et==null)return null;if(typeof et=="function")return et.displayName||et.name||null;if(typeof et=="string")return et;switch(et){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof et=="object")switch(et.$$typeof){case Ca:return(et.displayName||"Context")+".Consumer";case Ba:return(et._context.displayName||"Context")+".Provider";case Da:var _e=et.render;return et=et.displayName,et||(et=_e.displayName||_e.name||"",et=et!==""?"ForwardRef("+et+")":"ForwardRef"),et;case Ga:return _e=et.displayName||null,_e!==null?_e:Qa(et.type)||"Memo";case Ha:_e=et._payload,et=et._init;try{return Qa(et(_e))}catch{}}return null}function Ra(et){var _e=et.type;switch(et.tag){case 24:return"Cache";case 9:return(_e.displayName||"Context")+".Consumer";case 10:return(_e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return et=_e.render,et=et.displayName||et.name||"",_e.displayName||(et!==""?"ForwardRef("+et+")":"ForwardRef");case 7:return"Fragment";case 5:return _e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(_e);case 8:return _e===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof _e=="function")return _e.displayName||_e.name||null;if(typeof _e=="string")return _e}return null}function Sa(et){switch(typeof et){case"boolean":case"number":case"string":case"undefined":return et;case"object":return et;default:return""}}function Ta(et){var _e=et.type;return(et=et.nodeName)&&et.toLowerCase()==="input"&&(_e==="checkbox"||_e==="radio")}function Ua(et){var _e=Ta(et)?"checked":"value",tt=Object.getOwnPropertyDescriptor(et.constructor.prototype,_e),rt=""+et[_e];if(!et.hasOwnProperty(_e)&&typeof tt<"u"&&typeof tt.get=="function"&&typeof tt.set=="function"){var nt=tt.get,st=tt.set;return Object.defineProperty(et,_e,{configurable:!0,get:function(){return nt.call(this)},set:function(it){rt=""+it,st.call(this,it)}}),Object.defineProperty(et,_e,{enumerable:tt.enumerable}),{getValue:function(){return rt},setValue:function(it){rt=""+it},stopTracking:function(){et._valueTracker=null,delete et[_e]}}}}function Va(et){et._valueTracker||(et._valueTracker=Ua(et))}function Wa(et){if(!et)return!1;var _e=et._valueTracker;if(!_e)return!0;var tt=_e.getValue(),rt="";return et&&(rt=Ta(et)?et.checked?"true":"false":et.value),et=rt,et!==tt?(_e.setValue(et),!0):!1}function Xa(et){if(et=et||(typeof document<"u"?document:void 0),typeof et>"u")return null;try{return et.activeElement||et.body}catch{return et.body}}function Ya(et,_e){var tt=_e.checked;return A$1({},_e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:tt??et._wrapperState.initialChecked})}function Za(et,_e){var tt=_e.defaultValue==null?"":_e.defaultValue,rt=_e.checked!=null?_e.checked:_e.defaultChecked;tt=Sa(_e.value!=null?_e.value:tt),et._wrapperState={initialChecked:rt,initialValue:tt,controlled:_e.type==="checkbox"||_e.type==="radio"?_e.checked!=null:_e.value!=null}}function ab(et,_e){_e=_e.checked,_e!=null&&ta(et,"checked",_e,!1)}function bb(et,_e){ab(et,_e);var tt=Sa(_e.value),rt=_e.type;if(tt!=null)rt==="number"?(tt===0&&et.value===""||et.value!=tt)&&(et.value=""+tt):et.value!==""+tt&&(et.value=""+tt);else if(rt==="submit"||rt==="reset"){et.removeAttribute("value");return}_e.hasOwnProperty("value")?cb(et,_e.type,tt):_e.hasOwnProperty("defaultValue")&&cb(et,_e.type,Sa(_e.defaultValue)),_e.checked==null&&_e.defaultChecked!=null&&(et.defaultChecked=!!_e.defaultChecked)}function db(et,_e,tt){if(_e.hasOwnProperty("value")||_e.hasOwnProperty("defaultValue")){var rt=_e.type;if(!(rt!=="submit"&&rt!=="reset"||_e.value!==void 0&&_e.value!==null))return;_e=""+et._wrapperState.initialValue,tt||_e===et.value||(et.value=_e),et.defaultValue=_e}tt=et.name,tt!==""&&(et.name=""),et.defaultChecked=!!et._wrapperState.initialChecked,tt!==""&&(et.name=tt)}function cb(et,_e,tt){(_e!=="number"||Xa(et.ownerDocument)!==et)&&(tt==null?et.defaultValue=""+et._wrapperState.initialValue:et.defaultValue!==""+tt&&(et.defaultValue=""+tt))}var eb=Array.isArray;function fb(et,_e,tt,rt){if(et=et.options,_e){_e={};for(var nt=0;nt<tt.length;nt++)_e["$"+tt[nt]]=!0;for(tt=0;tt<et.length;tt++)nt=_e.hasOwnProperty("$"+et[tt].value),et[tt].selected!==nt&&(et[tt].selected=nt),nt&&rt&&(et[tt].defaultSelected=!0)}else{for(tt=""+Sa(tt),_e=null,nt=0;nt<et.length;nt++){if(et[nt].value===tt){et[nt].selected=!0,rt&&(et[nt].defaultSelected=!0);return}_e!==null||et[nt].disabled||(_e=et[nt])}_e!==null&&(_e.selected=!0)}}function gb(et,_e){if(_e.dangerouslySetInnerHTML!=null)throw Error(p$3(91));return A$1({},_e,{value:void 0,defaultValue:void 0,children:""+et._wrapperState.initialValue})}function hb(et,_e){var tt=_e.value;if(tt==null){if(tt=_e.children,_e=_e.defaultValue,tt!=null){if(_e!=null)throw Error(p$3(92));if(eb(tt)){if(1<tt.length)throw Error(p$3(93));tt=tt[0]}_e=tt}_e==null&&(_e=""),tt=_e}et._wrapperState={initialValue:Sa(tt)}}function ib(et,_e){var tt=Sa(_e.value),rt=Sa(_e.defaultValue);tt!=null&&(tt=""+tt,tt!==et.value&&(et.value=tt),_e.defaultValue==null&&et.defaultValue!==tt&&(et.defaultValue=tt)),rt!=null&&(et.defaultValue=""+rt)}function jb(et){var _e=et.textContent;_e===et._wrapperState.initialValue&&_e!==""&&_e!==null&&(et.value=_e)}function kb(et){switch(et){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(et,_e){return et==null||et==="http://www.w3.org/1999/xhtml"?kb(_e):et==="http://www.w3.org/2000/svg"&&_e==="foreignObject"?"http://www.w3.org/1999/xhtml":et}var mb,nb=function(et){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(_e,tt,rt,nt){MSApp.execUnsafeLocalFunction(function(){return et(_e,tt,rt,nt)})}:et}(function(et,_e){if(et.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in et)et.innerHTML=_e;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+_e.valueOf().toString()+"</svg>",_e=mb.firstChild;et.firstChild;)et.removeChild(et.firstChild);for(;_e.firstChild;)et.appendChild(_e.firstChild)}});function ob(et,_e){if(_e){var tt=et.firstChild;if(tt&&tt===et.lastChild&&tt.nodeType===3){tt.nodeValue=_e;return}}et.textContent=_e}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(et){qb.forEach(function(_e){_e=_e+et.charAt(0).toUpperCase()+et.substring(1),pb[_e]=pb[et]})});function rb(et,_e,tt){return _e==null||typeof _e=="boolean"||_e===""?"":tt||typeof _e!="number"||_e===0||pb.hasOwnProperty(et)&&pb[et]?(""+_e).trim():_e+"px"}function sb(et,_e){et=et.style;for(var tt in _e)if(_e.hasOwnProperty(tt)){var rt=tt.indexOf("--")===0,nt=rb(tt,_e[tt],rt);tt==="float"&&(tt="cssFloat"),rt?et.setProperty(tt,nt):et[tt]=nt}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(et,_e){if(_e){if(tb[et]&&(_e.children!=null||_e.dangerouslySetInnerHTML!=null))throw Error(p$3(137,et));if(_e.dangerouslySetInnerHTML!=null){if(_e.children!=null)throw Error(p$3(60));if(typeof _e.dangerouslySetInnerHTML!="object"||!("__html"in _e.dangerouslySetInnerHTML))throw Error(p$3(61))}if(_e.style!=null&&typeof _e.style!="object")throw Error(p$3(62))}}function vb(et,_e){if(et.indexOf("-")===-1)return typeof _e.is=="string";switch(et){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(et){return et=et.target||et.srcElement||window,et.correspondingUseElement&&(et=et.correspondingUseElement),et.nodeType===3?et.parentNode:et}var yb=null,zb=null,Ab=null;function Bb(et){if(et=Cb(et)){if(typeof yb!="function")throw Error(p$3(280));var _e=et.stateNode;_e&&(_e=Db(_e),yb(et.stateNode,et.type,_e))}}function Eb(et){zb?Ab?Ab.push(et):Ab=[et]:zb=et}function Fb(){if(zb){var et=zb,_e=Ab;if(Ab=zb=null,Bb(et),_e)for(et=0;et<_e.length;et++)Bb(_e[et])}}function Gb(et,_e){return et(_e)}function Hb(){}var Ib=!1;function Jb(et,_e,tt){if(Ib)return et(_e,tt);Ib=!0;try{return Gb(et,_e,tt)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(et,_e){var tt=et.stateNode;if(tt===null)return null;var rt=Db(tt);if(rt===null)return null;tt=rt[_e];e:switch(_e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(rt=!rt.disabled)||(et=et.type,rt=!(et==="button"||et==="input"||et==="select"||et==="textarea")),et=!rt;break e;default:et=!1}if(et)return null;if(tt&&typeof tt!="function")throw Error(p$3(231,_e,typeof tt));return tt}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(et,_e,tt,rt,nt,st,it,at,ot){var lt=Array.prototype.slice.call(arguments,3);try{_e.apply(tt,lt)}catch(ct){this.onError(ct)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(et){Ob=!0,Pb=et}};function Tb(et,_e,tt,rt,nt,st,it,at,ot){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(et,_e,tt,rt,nt,st,it,at,ot){if(Tb.apply(this,arguments),Ob){if(Ob){var lt=Pb;Ob=!1,Pb=null}else throw Error(p$3(198));Qb||(Qb=!0,Rb=lt)}}function Vb(et){var _e=et,tt=et;if(et.alternate)for(;_e.return;)_e=_e.return;else{et=_e;do _e=et,_e.flags&4098&&(tt=_e.return),et=_e.return;while(et)}return _e.tag===3?tt:null}function Wb(et){if(et.tag===13){var _e=et.memoizedState;if(_e===null&&(et=et.alternate,et!==null&&(_e=et.memoizedState)),_e!==null)return _e.dehydrated}return null}function Xb(et){if(Vb(et)!==et)throw Error(p$3(188))}function Yb(et){var _e=et.alternate;if(!_e){if(_e=Vb(et),_e===null)throw Error(p$3(188));return _e!==et?null:et}for(var tt=et,rt=_e;;){var nt=tt.return;if(nt===null)break;var st=nt.alternate;if(st===null){if(rt=nt.return,rt!==null){tt=rt;continue}break}if(nt.child===st.child){for(st=nt.child;st;){if(st===tt)return Xb(nt),et;if(st===rt)return Xb(nt),_e;st=st.sibling}throw Error(p$3(188))}if(tt.return!==rt.return)tt=nt,rt=st;else{for(var it=!1,at=nt.child;at;){if(at===tt){it=!0,tt=nt,rt=st;break}if(at===rt){it=!0,rt=nt,tt=st;break}at=at.sibling}if(!it){for(at=st.child;at;){if(at===tt){it=!0,tt=st,rt=nt;break}if(at===rt){it=!0,rt=st,tt=nt;break}at=at.sibling}if(!it)throw Error(p$3(189))}}if(tt.alternate!==rt)throw Error(p$3(190))}if(tt.tag!==3)throw Error(p$3(188));return tt.stateNode.current===tt?et:_e}function Zb(et){return et=Yb(et),et!==null?$b(et):null}function $b(et){if(et.tag===5||et.tag===6)return et;for(et=et.child;et!==null;){var _e=$b(et);if(_e!==null)return _e;et=et.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(et){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,et,void 0,(et.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(et){return et>>>=0,et===0?32:31-(pc(et)/qc|0)|0}var rc=64,sc=4194304;function tc(et){switch(et&-et){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return et&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return et&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return et}}function uc(et,_e){var tt=et.pendingLanes;if(tt===0)return 0;var rt=0,nt=et.suspendedLanes,st=et.pingedLanes,it=tt&268435455;if(it!==0){var at=it&~nt;at!==0?rt=tc(at):(st&=it,st!==0&&(rt=tc(st)))}else it=tt&~nt,it!==0?rt=tc(it):st!==0&&(rt=tc(st));if(rt===0)return 0;if(_e!==0&&_e!==rt&&!(_e&nt)&&(nt=rt&-rt,st=_e&-_e,nt>=st||nt===16&&(st&4194240)!==0))return _e;if(rt&4&&(rt|=tt&16),_e=et.entangledLanes,_e!==0)for(et=et.entanglements,_e&=rt;0<_e;)tt=31-oc(_e),nt=1<<tt,rt|=et[tt],_e&=~nt;return rt}function vc(et,_e){switch(et){case 1:case 2:case 4:return _e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(et,_e){for(var tt=et.suspendedLanes,rt=et.pingedLanes,nt=et.expirationTimes,st=et.pendingLanes;0<st;){var it=31-oc(st),at=1<<it,ot=nt[it];ot===-1?(!(at&tt)||at&rt)&&(nt[it]=vc(at,_e)):ot<=_e&&(et.expiredLanes|=at),st&=~at}}function xc(et){return et=et.pendingLanes&-1073741825,et!==0?et:et&1073741824?1073741824:0}function yc(){var et=rc;return rc<<=1,!(rc&4194240)&&(rc=64),et}function zc(et){for(var _e=[],tt=0;31>tt;tt++)_e.push(et);return _e}function Ac(et,_e,tt){et.pendingLanes|=_e,_e!==536870912&&(et.suspendedLanes=0,et.pingedLanes=0),et=et.eventTimes,_e=31-oc(_e),et[_e]=tt}function Bc(et,_e){var tt=et.pendingLanes&~_e;et.pendingLanes=_e,et.suspendedLanes=0,et.pingedLanes=0,et.expiredLanes&=_e,et.mutableReadLanes&=_e,et.entangledLanes&=_e,_e=et.entanglements;var rt=et.eventTimes;for(et=et.expirationTimes;0<tt;){var nt=31-oc(tt),st=1<<nt;_e[nt]=0,rt[nt]=-1,et[nt]=-1,tt&=~st}}function Cc(et,_e){var tt=et.entangledLanes|=_e;for(et=et.entanglements;tt;){var rt=31-oc(tt),nt=1<<rt;nt&_e|et[rt]&_e&&(et[rt]|=_e),tt&=~nt}}var C$1=0;function Dc(et){return et&=-et,1<et?4<et?et&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(et,_e){switch(et){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(_e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(_e.pointerId)}}function Tc(et,_e,tt,rt,nt,st){return et===null||et.nativeEvent!==st?(et={blockedOn:_e,domEventName:tt,eventSystemFlags:rt,nativeEvent:st,targetContainers:[nt]},_e!==null&&(_e=Cb(_e),_e!==null&&Fc(_e)),et):(et.eventSystemFlags|=rt,_e=et.targetContainers,nt!==null&&_e.indexOf(nt)===-1&&_e.push(nt),et)}function Uc(et,_e,tt,rt,nt){switch(_e){case"focusin":return Lc=Tc(Lc,et,_e,tt,rt,nt),!0;case"dragenter":return Mc=Tc(Mc,et,_e,tt,rt,nt),!0;case"mouseover":return Nc=Tc(Nc,et,_e,tt,rt,nt),!0;case"pointerover":var st=nt.pointerId;return Oc.set(st,Tc(Oc.get(st)||null,et,_e,tt,rt,nt)),!0;case"gotpointercapture":return st=nt.pointerId,Pc.set(st,Tc(Pc.get(st)||null,et,_e,tt,rt,nt)),!0}return!1}function Vc(et){var _e=Wc(et.target);if(_e!==null){var tt=Vb(_e);if(tt!==null){if(_e=tt.tag,_e===13){if(_e=Wb(tt),_e!==null){et.blockedOn=_e,Ic(et.priority,function(){Gc(tt)});return}}else if(_e===3&&tt.stateNode.current.memoizedState.isDehydrated){et.blockedOn=tt.tag===3?tt.stateNode.containerInfo:null;return}}}et.blockedOn=null}function Xc(et){if(et.blockedOn!==null)return!1;for(var _e=et.targetContainers;0<_e.length;){var tt=Yc(et.domEventName,et.eventSystemFlags,_e[0],et.nativeEvent);if(tt===null){tt=et.nativeEvent;var rt=new tt.constructor(tt.type,tt);wb=rt,tt.target.dispatchEvent(rt),wb=null}else return _e=Cb(tt),_e!==null&&Fc(_e),et.blockedOn=tt,!1;_e.shift()}return!0}function Zc(et,_e,tt){Xc(et)&&tt.delete(_e)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(et,_e){et.blockedOn===_e&&(et.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(et){function _e(nt){return ad(nt,et)}if(0<Kc.length){ad(Kc[0],et);for(var tt=1;tt<Kc.length;tt++){var rt=Kc[tt];rt.blockedOn===et&&(rt.blockedOn=null)}}for(Lc!==null&&ad(Lc,et),Mc!==null&&ad(Mc,et),Nc!==null&&ad(Nc,et),Oc.forEach(_e),Pc.forEach(_e),tt=0;tt<Qc.length;tt++)rt=Qc[tt],rt.blockedOn===et&&(rt.blockedOn=null);for(;0<Qc.length&&(tt=Qc[0],tt.blockedOn===null);)Vc(tt),tt.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(et,_e,tt,rt){var nt=C$1,st=cd.transition;cd.transition=null;try{C$1=1,fd(et,_e,tt,rt)}finally{C$1=nt,cd.transition=st}}function gd(et,_e,tt,rt){var nt=C$1,st=cd.transition;cd.transition=null;try{C$1=4,fd(et,_e,tt,rt)}finally{C$1=nt,cd.transition=st}}function fd(et,_e,tt,rt){if(dd){var nt=Yc(et,_e,tt,rt);if(nt===null)hd(et,_e,rt,id$2,tt),Sc(et,rt);else if(Uc(nt,et,_e,tt,rt))rt.stopPropagation();else if(Sc(et,rt),_e&4&&-1<Rc.indexOf(et)){for(;nt!==null;){var st=Cb(nt);if(st!==null&&Ec(st),st=Yc(et,_e,tt,rt),st===null&&hd(et,_e,rt,id$2,tt),st===nt)break;nt=st}nt!==null&&rt.stopPropagation()}else hd(et,_e,rt,null,tt)}}var id$2=null;function Yc(et,_e,tt,rt){if(id$2=null,et=xb(rt),et=Wc(et),et!==null)if(_e=Vb(et),_e===null)et=null;else if(tt=_e.tag,tt===13){if(et=Wb(_e),et!==null)return et;et=null}else if(tt===3){if(_e.stateNode.current.memoizedState.isDehydrated)return _e.tag===3?_e.stateNode.containerInfo:null;et=null}else _e!==et&&(et=null);return id$2=et,null}function jd(et){switch(et){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var et,_e=ld,tt=_e.length,rt,nt="value"in kd?kd.value:kd.textContent,st=nt.length;for(et=0;et<tt&&_e[et]===nt[et];et++);var it=tt-et;for(rt=1;rt<=it&&_e[tt-rt]===nt[st-rt];rt++);return md=nt.slice(et,1<rt?1-rt:void 0)}function od(et){var _e=et.keyCode;return"charCode"in et?(et=et.charCode,et===0&&_e===13&&(et=13)):et=_e,et===10&&(et=13),32<=et||et===13?et:0}function pd(){return!0}function qd(){return!1}function rd(et){function _e(tt,rt,nt,st,it){this._reactName=tt,this._targetInst=nt,this.type=rt,this.nativeEvent=st,this.target=it,this.currentTarget=null;for(var at in et)et.hasOwnProperty(at)&&(tt=et[at],this[at]=tt?tt(st):st[at]);return this.isDefaultPrevented=(st.defaultPrevented!=null?st.defaultPrevented:st.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(_e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var tt=this.nativeEvent;tt&&(tt.preventDefault?tt.preventDefault():typeof tt.returnValue!="unknown"&&(tt.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var tt=this.nativeEvent;tt&&(tt.stopPropagation?tt.stopPropagation():typeof tt.cancelBubble!="unknown"&&(tt.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),_e}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(et){return et.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(et){return et.relatedTarget===void 0?et.fromElement===et.srcElement?et.toElement:et.fromElement:et.relatedTarget},movementX:function(et){return"movementX"in et?et.movementX:(et!==yd&&(yd&&et.type==="mousemove"?(wd=et.screenX-yd.screenX,xd=et.screenY-yd.screenY):xd=wd=0,yd=et),wd)},movementY:function(et){return"movementY"in et?et.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(et){return"clipboardData"in et?et.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(et){var _e=this.nativeEvent;return _e.getModifierState?_e.getModifierState(et):(et=Od[et])?!!_e[et]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(et){if(et.key){var _e=Md[et.key]||et.key;if(_e!=="Unidentified")return _e}return et.type==="keypress"?(et=od(et),et===13?"Enter":String.fromCharCode(et)):et.type==="keydown"||et.type==="keyup"?Nd[et.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(et){return et.type==="keypress"?od(et):0},keyCode:function(et){return et.type==="keydown"||et.type==="keyup"?et.keyCode:0},which:function(et){return et.type==="keypress"?od(et):et.type==="keydown"||et.type==="keyup"?et.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(et){return"deltaX"in et?et.deltaX:"wheelDeltaX"in et?-et.wheelDeltaX:0},deltaY:function(et){return"deltaY"in et?et.deltaY:"wheelDeltaY"in et?-et.wheelDeltaY:"wheelDelta"in et?-et.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(et,_e){switch(et){case"keyup":return $d.indexOf(_e.keyCode)!==-1;case"keydown":return _e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(et){return et=et.detail,typeof et=="object"&&"data"in et?et.data:null}var ie$1=!1;function je(et,_e){switch(et){case"compositionend":return he(_e);case"keypress":return _e.which!==32?null:(fe=!0,ee);case"textInput":return et=_e.data,et===ee&&fe?null:et;default:return null}}function ke(et,_e){if(ie$1)return et==="compositionend"||!ae&&ge(et,_e)?(et=nd(),md=ld=kd=null,ie$1=!1,et):null;switch(et){case"paste":return null;case"keypress":if(!(_e.ctrlKey||_e.altKey||_e.metaKey)||_e.ctrlKey&&_e.altKey){if(_e.char&&1<_e.char.length)return _e.char;if(_e.which)return String.fromCharCode(_e.which)}return null;case"compositionend":return de&&_e.locale!=="ko"?null:_e.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(et){var _e=et&&et.nodeName&&et.nodeName.toLowerCase();return _e==="input"?!!le[et.type]:_e==="textarea"}function ne(et,_e,tt,rt){Eb(rt),_e=oe(_e,"onChange"),0<_e.length&&(tt=new td("onChange","change",null,tt,rt),et.push({event:tt,listeners:_e}))}var pe=null,qe=null;function re$1(et){se$1(et,0)}function te(et){var _e=ue(et);if(Wa(_e))return et}function ve(et,_e){if(et==="change")return _e}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(et){if(et.propertyName==="value"&&te(qe)){var _e=[];ne(_e,qe,et,xb(et)),Jb(re$1,_e)}}function Ce(et,_e,tt){et==="focusin"?(Ae(),pe=_e,qe=tt,pe.attachEvent("onpropertychange",Be)):et==="focusout"&&Ae()}function De(et){if(et==="selectionchange"||et==="keyup"||et==="keydown")return te(qe)}function Ee(et,_e){if(et==="click")return te(_e)}function Fe(et,_e){if(et==="input"||et==="change")return te(_e)}function Ge(et,_e){return et===_e&&(et!==0||1/et===1/_e)||et!==et&&_e!==_e}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(et,_e){if(He(et,_e))return!0;if(typeof et!="object"||et===null||typeof _e!="object"||_e===null)return!1;var tt=Object.keys(et),rt=Object.keys(_e);if(tt.length!==rt.length)return!1;for(rt=0;rt<tt.length;rt++){var nt=tt[rt];if(!ja.call(_e,nt)||!He(et[nt],_e[nt]))return!1}return!0}function Je(et){for(;et&&et.firstChild;)et=et.firstChild;return et}function Ke(et,_e){var tt=Je(et);et=0;for(var rt;tt;){if(tt.nodeType===3){if(rt=et+tt.textContent.length,et<=_e&&rt>=_e)return{node:tt,offset:_e-et};et=rt}e:{for(;tt;){if(tt.nextSibling){tt=tt.nextSibling;break e}tt=tt.parentNode}tt=void 0}tt=Je(tt)}}function Le(et,_e){return et&&_e?et===_e?!0:et&&et.nodeType===3?!1:_e&&_e.nodeType===3?Le(et,_e.parentNode):"contains"in et?et.contains(_e):et.compareDocumentPosition?!!(et.compareDocumentPosition(_e)&16):!1:!1}function Me(){for(var et=window,_e=Xa();_e instanceof et.HTMLIFrameElement;){try{var tt=typeof _e.contentWindow.location.href=="string"}catch{tt=!1}if(tt)et=_e.contentWindow;else break;_e=Xa(et.document)}return _e}function Ne(et){var _e=et&&et.nodeName&&et.nodeName.toLowerCase();return _e&&(_e==="input"&&(et.type==="text"||et.type==="search"||et.type==="tel"||et.type==="url"||et.type==="password")||_e==="textarea"||et.contentEditable==="true")}function Oe(et){var _e=Me(),tt=et.focusedElem,rt=et.selectionRange;if(_e!==tt&&tt&&tt.ownerDocument&&Le(tt.ownerDocument.documentElement,tt)){if(rt!==null&&Ne(tt)){if(_e=rt.start,et=rt.end,et===void 0&&(et=_e),"selectionStart"in tt)tt.selectionStart=_e,tt.selectionEnd=Math.min(et,tt.value.length);else if(et=(_e=tt.ownerDocument||document)&&_e.defaultView||window,et.getSelection){et=et.getSelection();var nt=tt.textContent.length,st=Math.min(rt.start,nt);rt=rt.end===void 0?st:Math.min(rt.end,nt),!et.extend&&st>rt&&(nt=rt,rt=st,st=nt),nt=Ke(tt,st);var it=Ke(tt,rt);nt&&it&&(et.rangeCount!==1||et.anchorNode!==nt.node||et.anchorOffset!==nt.offset||et.focusNode!==it.node||et.focusOffset!==it.offset)&&(_e=_e.createRange(),_e.setStart(nt.node,nt.offset),et.removeAllRanges(),st>rt?(et.addRange(_e),et.extend(it.node,it.offset)):(_e.setEnd(it.node,it.offset),et.addRange(_e)))}}for(_e=[],et=tt;et=et.parentNode;)et.nodeType===1&&_e.push({element:et,left:et.scrollLeft,top:et.scrollTop});for(typeof tt.focus=="function"&&tt.focus(),tt=0;tt<_e.length;tt++)et=_e[tt],et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(et,_e,tt){var rt=tt.window===tt?tt.document:tt.nodeType===9?tt:tt.ownerDocument;Te||Qe==null||Qe!==Xa(rt)||(rt=Qe,"selectionStart"in rt&&Ne(rt)?rt={start:rt.selectionStart,end:rt.selectionEnd}:(rt=(rt.ownerDocument&&rt.ownerDocument.defaultView||window).getSelection(),rt={anchorNode:rt.anchorNode,anchorOffset:rt.anchorOffset,focusNode:rt.focusNode,focusOffset:rt.focusOffset}),Se&&Ie(Se,rt)||(Se=rt,rt=oe(Re,"onSelect"),0<rt.length&&(_e=new td("onSelect","select",null,_e,tt),et.push({event:_e,listeners:rt}),_e.target=Qe)))}function Ve(et,_e){var tt={};return tt[et.toLowerCase()]=_e.toLowerCase(),tt["Webkit"+et]="webkit"+_e,tt["Moz"+et]="moz"+_e,tt}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(et){if(Xe[et])return Xe[et];if(!We[et])return et;var _e=We[et],tt;for(tt in _e)if(_e.hasOwnProperty(tt)&&tt in Ye)return Xe[et]=_e[tt];return et}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(et,_e){df.set(et,_e),fa(_e,[et])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(et,_e,tt){var rt=et.type||"unknown-event";et.currentTarget=tt,Ub(rt,_e,void 0,et),et.currentTarget=null}function se$1(et,_e){_e=(_e&4)!==0;for(var tt=0;tt<et.length;tt++){var rt=et[tt],nt=rt.event;rt=rt.listeners;e:{var st=void 0;if(_e)for(var it=rt.length-1;0<=it;it--){var at=rt[it],ot=at.instance,lt=at.currentTarget;if(at=at.listener,ot!==st&&nt.isPropagationStopped())break e;nf(nt,at,lt),st=ot}else for(it=0;it<rt.length;it++){if(at=rt[it],ot=at.instance,lt=at.currentTarget,at=at.listener,ot!==st&&nt.isPropagationStopped())break e;nf(nt,at,lt),st=ot}}}if(Qb)throw et=Rb,Qb=!1,Rb=null,et}function D$1(et,_e){var tt=_e[of];tt===void 0&&(tt=_e[of]=new Set);var rt=et+"__bubble";tt.has(rt)||(pf(_e,et,2,!1),tt.add(rt))}function qf(et,_e,tt){var rt=0;_e&&(rt|=4),pf(tt,et,rt,_e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(et){if(!et[rf]){et[rf]=!0,da.forEach(function(tt){tt!=="selectionchange"&&(mf.has(tt)||qf(tt,!1,et),qf(tt,!0,et))});var _e=et.nodeType===9?et:et.ownerDocument;_e===null||_e[rf]||(_e[rf]=!0,qf("selectionchange",!1,_e))}}function pf(et,_e,tt,rt){switch(jd(_e)){case 1:var nt=ed;break;case 4:nt=gd;break;default:nt=fd}tt=nt.bind(null,_e,tt,et),nt=void 0,!Lb||_e!=="touchstart"&&_e!=="touchmove"&&_e!=="wheel"||(nt=!0),rt?nt!==void 0?et.addEventListener(_e,tt,{capture:!0,passive:nt}):et.addEventListener(_e,tt,!0):nt!==void 0?et.addEventListener(_e,tt,{passive:nt}):et.addEventListener(_e,tt,!1)}function hd(et,_e,tt,rt,nt){var st=rt;if(!(_e&1)&&!(_e&2)&&rt!==null)e:for(;;){if(rt===null)return;var it=rt.tag;if(it===3||it===4){var at=rt.stateNode.containerInfo;if(at===nt||at.nodeType===8&&at.parentNode===nt)break;if(it===4)for(it=rt.return;it!==null;){var ot=it.tag;if((ot===3||ot===4)&&(ot=it.stateNode.containerInfo,ot===nt||ot.nodeType===8&&ot.parentNode===nt))return;it=it.return}for(;at!==null;){if(it=Wc(at),it===null)return;if(ot=it.tag,ot===5||ot===6){rt=st=it;continue e}at=at.parentNode}}rt=rt.return}Jb(function(){var lt=st,ct=xb(tt),ut=[];e:{var dt=df.get(et);if(dt!==void 0){var ft=td,ht=et;switch(et){case"keypress":if(od(tt)===0)break e;case"keydown":case"keyup":ft=Rd;break;case"focusin":ht="focus",ft=Fd;break;case"focusout":ht="blur",ft=Fd;break;case"beforeblur":case"afterblur":ft=Fd;break;case"click":if(tt.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ft=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ft=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ft=Vd;break;case $e:case af:case bf:ft=Hd;break;case cf:ft=Xd;break;case"scroll":ft=vd;break;case"wheel":ft=Zd;break;case"copy":case"cut":case"paste":ft=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ft=Td}var pt=(_e&4)!==0,gt=!pt&&et==="scroll",mt=pt?dt!==null?dt+"Capture":null:dt;pt=[];for(var bt=lt,vt;bt!==null;){vt=bt;var yt=vt.stateNode;if(vt.tag===5&&yt!==null&&(vt=yt,mt!==null&&(yt=Kb(bt,mt),yt!=null&&pt.push(tf(bt,yt,vt)))),gt)break;bt=bt.return}0<pt.length&&(dt=new ft(dt,ht,null,tt,ct),ut.push({event:dt,listeners:pt}))}}if(!(_e&7)){e:{if(dt=et==="mouseover"||et==="pointerover",ft=et==="mouseout"||et==="pointerout",dt&&tt!==wb&&(ht=tt.relatedTarget||tt.fromElement)&&(Wc(ht)||ht[uf]))break e;if((ft||dt)&&(dt=ct.window===ct?ct:(dt=ct.ownerDocument)?dt.defaultView||dt.parentWindow:window,ft?(ht=tt.relatedTarget||tt.toElement,ft=lt,ht=ht?Wc(ht):null,ht!==null&&(gt=Vb(ht),ht!==gt||ht.tag!==5&&ht.tag!==6)&&(ht=null)):(ft=null,ht=lt),ft!==ht)){if(pt=Bd,yt="onMouseLeave",mt="onMouseEnter",bt="mouse",(et==="pointerout"||et==="pointerover")&&(pt=Td,yt="onPointerLeave",mt="onPointerEnter",bt="pointer"),gt=ft==null?dt:ue(ft),vt=ht==null?dt:ue(ht),dt=new pt(yt,bt+"leave",ft,tt,ct),dt.target=gt,dt.relatedTarget=vt,yt=null,Wc(ct)===lt&&(pt=new pt(mt,bt+"enter",ht,tt,ct),pt.target=vt,pt.relatedTarget=gt,yt=pt),gt=yt,ft&&ht)t:{for(pt=ft,mt=ht,bt=0,vt=pt;vt;vt=vf(vt))bt++;for(vt=0,yt=mt;yt;yt=vf(yt))vt++;for(;0<bt-vt;)pt=vf(pt),bt--;for(;0<vt-bt;)mt=vf(mt),vt--;for(;bt--;){if(pt===mt||mt!==null&&pt===mt.alternate)break t;pt=vf(pt),mt=vf(mt)}pt=null}else pt=null;ft!==null&&wf(ut,dt,ft,pt,!1),ht!==null&&gt!==null&&wf(ut,gt,ht,pt,!0)}}e:{if(dt=lt?ue(lt):window,ft=dt.nodeName&&dt.nodeName.toLowerCase(),ft==="select"||ft==="input"&&dt.type==="file")var xt=ve;else if(me(dt))if(we)xt=Fe;else{xt=De;var Et=Ce}else(ft=dt.nodeName)&&ft.toLowerCase()==="input"&&(dt.type==="checkbox"||dt.type==="radio")&&(xt=Ee);if(xt&&(xt=xt(et,lt))){ne(ut,xt,tt,ct);break e}Et&&Et(et,dt,lt),et==="focusout"&&(Et=dt._wrapperState)&&Et.controlled&&dt.type==="number"&&cb(dt,"number",dt.value)}switch(Et=lt?ue(lt):window,et){case"focusin":(me(Et)||Et.contentEditable==="true")&&(Qe=Et,Re=lt,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(ut,tt,ct);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(ut,tt,ct)}var wt;if(ae)e:{switch(et){case"compositionstart":var $t="onCompositionStart";break e;case"compositionend":$t="onCompositionEnd";break e;case"compositionupdate":$t="onCompositionUpdate";break e}$t=void 0}else ie$1?ge(et,tt)&&($t="onCompositionEnd"):et==="keydown"&&tt.keyCode===229&&($t="onCompositionStart");$t&&(de&&tt.locale!=="ko"&&(ie$1||$t!=="onCompositionStart"?$t==="onCompositionEnd"&&ie$1&&(wt=nd()):(kd=ct,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),Et=oe(lt,$t),0<Et.length&&($t=new Ld($t,et,null,tt,ct),ut.push({event:$t,listeners:Et}),wt?$t.data=wt:(wt=he(tt),wt!==null&&($t.data=wt)))),(wt=ce?je(et,tt):ke(et,tt))&&(lt=oe(lt,"onBeforeInput"),0<lt.length&&(ct=new Ld("onBeforeInput","beforeinput",null,tt,ct),ut.push({event:ct,listeners:lt}),ct.data=wt))}se$1(ut,_e)})}function tf(et,_e,tt){return{instance:et,listener:_e,currentTarget:tt}}function oe(et,_e){for(var tt=_e+"Capture",rt=[];et!==null;){var nt=et,st=nt.stateNode;nt.tag===5&&st!==null&&(nt=st,st=Kb(et,tt),st!=null&&rt.unshift(tf(et,st,nt)),st=Kb(et,_e),st!=null&&rt.push(tf(et,st,nt))),et=et.return}return rt}function vf(et){if(et===null)return null;do et=et.return;while(et&&et.tag!==5);return et||null}function wf(et,_e,tt,rt,nt){for(var st=_e._reactName,it=[];tt!==null&&tt!==rt;){var at=tt,ot=at.alternate,lt=at.stateNode;if(ot!==null&&ot===rt)break;at.tag===5&&lt!==null&&(at=lt,nt?(ot=Kb(tt,st),ot!=null&&it.unshift(tf(tt,ot,at))):nt||(ot=Kb(tt,st),ot!=null&&it.push(tf(tt,ot,at)))),tt=tt.return}it.length!==0&&et.push({event:_e,listeners:it})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(et){return(typeof et=="string"?et:""+et).replace(xf,`
`).replace(yf,"")}function Af(et,_e,tt){if(_e=zf(_e),zf(et)!==_e&&tt)throw Error(p$3(425))}function Bf(){}var Cf=null,Df=null;function Ef(et,_e){return et==="textarea"||et==="noscript"||typeof _e.children=="string"||typeof _e.children=="number"||typeof _e.dangerouslySetInnerHTML=="object"&&_e.dangerouslySetInnerHTML!==null&&_e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(et){return Hf.resolve(null).then(et).catch(If)}:Ff;function If(et){setTimeout(function(){throw et})}function Kf(et,_e){var tt=_e,rt=0;do{var nt=tt.nextSibling;if(et.removeChild(tt),nt&&nt.nodeType===8)if(tt=nt.data,tt==="/$"){if(rt===0){et.removeChild(nt),bd(_e);return}rt--}else tt!=="$"&&tt!=="$?"&&tt!=="$!"||rt++;tt=nt}while(tt);bd(_e)}function Lf(et){for(;et!=null;et=et.nextSibling){var _e=et.nodeType;if(_e===1||_e===3)break;if(_e===8){if(_e=et.data,_e==="$"||_e==="$!"||_e==="$?")break;if(_e==="/$")return null}}return et}function Mf(et){et=et.previousSibling;for(var _e=0;et;){if(et.nodeType===8){var tt=et.data;if(tt==="$"||tt==="$!"||tt==="$?"){if(_e===0)return et;_e--}else tt==="/$"&&_e++}et=et.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(et){var _e=et[Of];if(_e)return _e;for(var tt=et.parentNode;tt;){if(_e=tt[uf]||tt[Of]){if(tt=_e.alternate,_e.child!==null||tt!==null&&tt.child!==null)for(et=Mf(et);et!==null;){if(tt=et[Of])return tt;et=Mf(et)}return _e}et=tt,tt=et.parentNode}return null}function Cb(et){return et=et[Of]||et[uf],!et||et.tag!==5&&et.tag!==6&&et.tag!==13&&et.tag!==3?null:et}function ue(et){if(et.tag===5||et.tag===6)return et.stateNode;throw Error(p$3(33))}function Db(et){return et[Pf]||null}var Sf=[],Tf=-1;function Uf(et){return{current:et}}function E$1(et){0>Tf||(et.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(et,_e){Tf++,Sf[Tf]=et.current,et.current=_e}var Vf={},H$1=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(et,_e){var tt=et.type.contextTypes;if(!tt)return Vf;var rt=et.stateNode;if(rt&&rt.__reactInternalMemoizedUnmaskedChildContext===_e)return rt.__reactInternalMemoizedMaskedChildContext;var nt={},st;for(st in tt)nt[st]=_e[st];return rt&&(et=et.stateNode,et.__reactInternalMemoizedUnmaskedChildContext=_e,et.__reactInternalMemoizedMaskedChildContext=nt),nt}function Zf(et){return et=et.childContextTypes,et!=null}function $f(){E$1(Wf),E$1(H$1)}function ag(et,_e,tt){if(H$1.current!==Vf)throw Error(p$3(168));G(H$1,_e),G(Wf,tt)}function bg(et,_e,tt){var rt=et.stateNode;if(_e=_e.childContextTypes,typeof rt.getChildContext!="function")return tt;rt=rt.getChildContext();for(var nt in rt)if(!(nt in _e))throw Error(p$3(108,Ra(et)||"Unknown",nt));return A$1({},tt,rt)}function cg(et){return et=(et=et.stateNode)&&et.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$1.current,G(H$1,et),G(Wf,Wf.current),!0}function dg(et,_e,tt){var rt=et.stateNode;if(!rt)throw Error(p$3(169));tt?(et=bg(et,_e,Xf),rt.__reactInternalMemoizedMergedChildContext=et,E$1(Wf),E$1(H$1),G(H$1,et)):E$1(Wf),G(Wf,tt)}var eg=null,fg=!1,gg=!1;function hg(et){eg===null?eg=[et]:eg.push(et)}function ig(et){fg=!0,hg(et)}function jg(){if(!gg&&eg!==null){gg=!0;var et=0,_e=C$1;try{var tt=eg;for(C$1=1;et<tt.length;et++){var rt=tt[et];do rt=rt(!0);while(rt!==null)}eg=null,fg=!1}catch(nt){throw eg!==null&&(eg=eg.slice(et+1)),ac(fc,jg),nt}finally{C$1=_e,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(et,_e){kg[lg++]=ng,kg[lg++]=mg,mg=et,ng=_e}function ug(et,_e,tt){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=et;var rt=rg;et=sg;var nt=32-oc(rt)-1;rt&=~(1<<nt),tt+=1;var st=32-oc(_e)+nt;if(30<st){var it=nt-nt%5;st=(rt&(1<<it)-1).toString(32),rt>>=it,nt-=it,rg=1<<32-oc(_e)+nt|tt<<nt|rt,sg=st+et}else rg=1<<st|tt<<nt|rt,sg=et}function vg(et){et.return!==null&&(tg(et,1),ug(et,1,0))}function wg(et){for(;et===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;et===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(et,_e){var tt=Bg(5,null,null,0);tt.elementType="DELETED",tt.stateNode=_e,tt.return=et,_e=et.deletions,_e===null?(et.deletions=[tt],et.flags|=16):_e.push(tt)}function Cg(et,_e){switch(et.tag){case 5:var tt=et.type;return _e=_e.nodeType!==1||tt.toLowerCase()!==_e.nodeName.toLowerCase()?null:_e,_e!==null?(et.stateNode=_e,xg=et,yg=Lf(_e.firstChild),!0):!1;case 6:return _e=et.pendingProps===""||_e.nodeType!==3?null:_e,_e!==null?(et.stateNode=_e,xg=et,yg=null,!0):!1;case 13:return _e=_e.nodeType!==8?null:_e,_e!==null?(tt=qg!==null?{id:rg,overflow:sg}:null,et.memoizedState={dehydrated:_e,treeContext:tt,retryLane:1073741824},tt=Bg(18,null,null,0),tt.stateNode=_e,tt.return=et,et.child=tt,xg=et,yg=null,!0):!1;default:return!1}}function Dg(et){return(et.mode&1)!==0&&(et.flags&128)===0}function Eg(et){if(I$1){var _e=yg;if(_e){var tt=_e;if(!Cg(et,_e)){if(Dg(et))throw Error(p$3(418));_e=Lf(tt.nextSibling);var rt=xg;_e&&Cg(et,_e)?Ag(rt,tt):(et.flags=et.flags&-4097|2,I$1=!1,xg=et)}}else{if(Dg(et))throw Error(p$3(418));et.flags=et.flags&-4097|2,I$1=!1,xg=et}}}function Fg(et){for(et=et.return;et!==null&&et.tag!==5&&et.tag!==3&&et.tag!==13;)et=et.return;xg=et}function Gg(et){if(et!==xg)return!1;if(!I$1)return Fg(et),I$1=!0,!1;var _e;if((_e=et.tag!==3)&&!(_e=et.tag!==5)&&(_e=et.type,_e=_e!=="head"&&_e!=="body"&&!Ef(et.type,et.memoizedProps)),_e&&(_e=yg)){if(Dg(et))throw Hg(),Error(p$3(418));for(;_e;)Ag(et,_e),_e=Lf(_e.nextSibling)}if(Fg(et),et.tag===13){if(et=et.memoizedState,et=et!==null?et.dehydrated:null,!et)throw Error(p$3(317));e:{for(et=et.nextSibling,_e=0;et;){if(et.nodeType===8){var tt=et.data;if(tt==="/$"){if(_e===0){yg=Lf(et.nextSibling);break e}_e--}else tt!=="$"&&tt!=="$!"&&tt!=="$?"||_e++}et=et.nextSibling}yg=null}}else yg=xg?Lf(et.stateNode.nextSibling):null;return!0}function Hg(){for(var et=yg;et;)et=Lf(et.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(et){zg===null?zg=[et]:zg.push(et)}var Kg=ua.ReactCurrentBatchConfig;function Lg(et,_e){if(et&&et.defaultProps){_e=A$1({},_e),et=et.defaultProps;for(var tt in et)_e[tt]===void 0&&(_e[tt]=et[tt]);return _e}return _e}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(et){var _e=Mg.current;E$1(Mg),et._currentValue=_e}function Sg(et,_e,tt){for(;et!==null;){var rt=et.alternate;if((et.childLanes&_e)!==_e?(et.childLanes|=_e,rt!==null&&(rt.childLanes|=_e)):rt!==null&&(rt.childLanes&_e)!==_e&&(rt.childLanes|=_e),et===tt)break;et=et.return}}function Tg(et,_e){Ng=et,Pg=Og=null,et=et.dependencies,et!==null&&et.firstContext!==null&&(et.lanes&_e&&(Ug=!0),et.firstContext=null)}function Vg(et){var _e=et._currentValue;if(Pg!==et)if(et={context:et,memoizedValue:_e,next:null},Og===null){if(Ng===null)throw Error(p$3(308));Og=et,Ng.dependencies={lanes:0,firstContext:et}}else Og=Og.next=et;return _e}var Wg=null;function Xg(et){Wg===null?Wg=[et]:Wg.push(et)}function Yg(et,_e,tt,rt){var nt=_e.interleaved;return nt===null?(tt.next=tt,Xg(_e)):(tt.next=nt.next,nt.next=tt),_e.interleaved=tt,Zg(et,rt)}function Zg(et,_e){et.lanes|=_e;var tt=et.alternate;for(tt!==null&&(tt.lanes|=_e),tt=et,et=et.return;et!==null;)et.childLanes|=_e,tt=et.alternate,tt!==null&&(tt.childLanes|=_e),tt=et,et=et.return;return tt.tag===3?tt.stateNode:null}var $g=!1;function ah(et){et.updateQueue={baseState:et.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(et,_e){et=et.updateQueue,_e.updateQueue===et&&(_e.updateQueue={baseState:et.baseState,firstBaseUpdate:et.firstBaseUpdate,lastBaseUpdate:et.lastBaseUpdate,shared:et.shared,effects:et.effects})}function ch(et,_e){return{eventTime:et,lane:_e,tag:0,payload:null,callback:null,next:null}}function dh(et,_e,tt){var rt=et.updateQueue;if(rt===null)return null;if(rt=rt.shared,K&2){var nt=rt.pending;return nt===null?_e.next=_e:(_e.next=nt.next,nt.next=_e),rt.pending=_e,Zg(et,tt)}return nt=rt.interleaved,nt===null?(_e.next=_e,Xg(rt)):(_e.next=nt.next,nt.next=_e),rt.interleaved=_e,Zg(et,tt)}function eh(et,_e,tt){if(_e=_e.updateQueue,_e!==null&&(_e=_e.shared,(tt&4194240)!==0)){var rt=_e.lanes;rt&=et.pendingLanes,tt|=rt,_e.lanes=tt,Cc(et,tt)}}function fh(et,_e){var tt=et.updateQueue,rt=et.alternate;if(rt!==null&&(rt=rt.updateQueue,tt===rt)){var nt=null,st=null;if(tt=tt.firstBaseUpdate,tt!==null){do{var it={eventTime:tt.eventTime,lane:tt.lane,tag:tt.tag,payload:tt.payload,callback:tt.callback,next:null};st===null?nt=st=it:st=st.next=it,tt=tt.next}while(tt!==null);st===null?nt=st=_e:st=st.next=_e}else nt=st=_e;tt={baseState:rt.baseState,firstBaseUpdate:nt,lastBaseUpdate:st,shared:rt.shared,effects:rt.effects},et.updateQueue=tt;return}et=tt.lastBaseUpdate,et===null?tt.firstBaseUpdate=_e:et.next=_e,tt.lastBaseUpdate=_e}function gh(et,_e,tt,rt){var nt=et.updateQueue;$g=!1;var st=nt.firstBaseUpdate,it=nt.lastBaseUpdate,at=nt.shared.pending;if(at!==null){nt.shared.pending=null;var ot=at,lt=ot.next;ot.next=null,it===null?st=lt:it.next=lt,it=ot;var ct=et.alternate;ct!==null&&(ct=ct.updateQueue,at=ct.lastBaseUpdate,at!==it&&(at===null?ct.firstBaseUpdate=lt:at.next=lt,ct.lastBaseUpdate=ot))}if(st!==null){var ut=nt.baseState;it=0,ct=lt=ot=null,at=st;do{var dt=at.lane,ft=at.eventTime;if((rt&dt)===dt){ct!==null&&(ct=ct.next={eventTime:ft,lane:0,tag:at.tag,payload:at.payload,callback:at.callback,next:null});e:{var ht=et,pt=at;switch(dt=_e,ft=tt,pt.tag){case 1:if(ht=pt.payload,typeof ht=="function"){ut=ht.call(ft,ut,dt);break e}ut=ht;break e;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=pt.payload,dt=typeof ht=="function"?ht.call(ft,ut,dt):ht,dt==null)break e;ut=A$1({},ut,dt);break e;case 2:$g=!0}}at.callback!==null&&at.lane!==0&&(et.flags|=64,dt=nt.effects,dt===null?nt.effects=[at]:dt.push(at))}else ft={eventTime:ft,lane:dt,tag:at.tag,payload:at.payload,callback:at.callback,next:null},ct===null?(lt=ct=ft,ot=ut):ct=ct.next=ft,it|=dt;if(at=at.next,at===null){if(at=nt.shared.pending,at===null)break;dt=at,at=dt.next,dt.next=null,nt.lastBaseUpdate=dt,nt.shared.pending=null}}while(!0);if(ct===null&&(ot=ut),nt.baseState=ot,nt.firstBaseUpdate=lt,nt.lastBaseUpdate=ct,_e=nt.shared.interleaved,_e!==null){nt=_e;do it|=nt.lane,nt=nt.next;while(nt!==_e)}else st===null&&(nt.shared.lanes=0);hh|=it,et.lanes=it,et.memoizedState=ut}}function ih(et,_e,tt){if(et=_e.effects,_e.effects=null,et!==null)for(_e=0;_e<et.length;_e++){var rt=et[_e],nt=rt.callback;if(nt!==null){if(rt.callback=null,rt=tt,typeof nt!="function")throw Error(p$3(191,nt));nt.call(rt)}}}var jh=new aa.Component().refs;function kh(et,_e,tt,rt){_e=et.memoizedState,tt=tt(rt,_e),tt=tt==null?_e:A$1({},_e,tt),et.memoizedState=tt,et.lanes===0&&(et.updateQueue.baseState=tt)}var nh={isMounted:function(et){return(et=et._reactInternals)?Vb(et)===et:!1},enqueueSetState:function(et,_e,tt){et=et._reactInternals;var rt=L$1(),nt=lh(et),st=ch(rt,nt);st.payload=_e,tt!=null&&(st.callback=tt),_e=dh(et,st,nt),_e!==null&&(mh(_e,et,nt,rt),eh(_e,et,nt))},enqueueReplaceState:function(et,_e,tt){et=et._reactInternals;var rt=L$1(),nt=lh(et),st=ch(rt,nt);st.tag=1,st.payload=_e,tt!=null&&(st.callback=tt),_e=dh(et,st,nt),_e!==null&&(mh(_e,et,nt,rt),eh(_e,et,nt))},enqueueForceUpdate:function(et,_e){et=et._reactInternals;var tt=L$1(),rt=lh(et),nt=ch(tt,rt);nt.tag=2,_e!=null&&(nt.callback=_e),_e=dh(et,nt,rt),_e!==null&&(mh(_e,et,rt,tt),eh(_e,et,rt))}};function oh(et,_e,tt,rt,nt,st,it){return et=et.stateNode,typeof et.shouldComponentUpdate=="function"?et.shouldComponentUpdate(rt,st,it):_e.prototype&&_e.prototype.isPureReactComponent?!Ie(tt,rt)||!Ie(nt,st):!0}function ph(et,_e,tt){var rt=!1,nt=Vf,st=_e.contextType;return typeof st=="object"&&st!==null?st=Vg(st):(nt=Zf(_e)?Xf:H$1.current,rt=_e.contextTypes,st=(rt=rt!=null)?Yf(et,nt):Vf),_e=new _e(tt,st),et.memoizedState=_e.state!==null&&_e.state!==void 0?_e.state:null,_e.updater=nh,et.stateNode=_e,_e._reactInternals=et,rt&&(et=et.stateNode,et.__reactInternalMemoizedUnmaskedChildContext=nt,et.__reactInternalMemoizedMaskedChildContext=st),_e}function qh(et,_e,tt,rt){et=_e.state,typeof _e.componentWillReceiveProps=="function"&&_e.componentWillReceiveProps(tt,rt),typeof _e.UNSAFE_componentWillReceiveProps=="function"&&_e.UNSAFE_componentWillReceiveProps(tt,rt),_e.state!==et&&nh.enqueueReplaceState(_e,_e.state,null)}function rh(et,_e,tt,rt){var nt=et.stateNode;nt.props=tt,nt.state=et.memoizedState,nt.refs=jh,ah(et);var st=_e.contextType;typeof st=="object"&&st!==null?nt.context=Vg(st):(st=Zf(_e)?Xf:H$1.current,nt.context=Yf(et,st)),nt.state=et.memoizedState,st=_e.getDerivedStateFromProps,typeof st=="function"&&(kh(et,_e,st,tt),nt.state=et.memoizedState),typeof _e.getDerivedStateFromProps=="function"||typeof nt.getSnapshotBeforeUpdate=="function"||typeof nt.UNSAFE_componentWillMount!="function"&&typeof nt.componentWillMount!="function"||(_e=nt.state,typeof nt.componentWillMount=="function"&&nt.componentWillMount(),typeof nt.UNSAFE_componentWillMount=="function"&&nt.UNSAFE_componentWillMount(),_e!==nt.state&&nh.enqueueReplaceState(nt,nt.state,null),gh(et,tt,nt,rt),nt.state=et.memoizedState),typeof nt.componentDidMount=="function"&&(et.flags|=4194308)}function sh(et,_e,tt){if(et=tt.ref,et!==null&&typeof et!="function"&&typeof et!="object"){if(tt._owner){if(tt=tt._owner,tt){if(tt.tag!==1)throw Error(p$3(309));var rt=tt.stateNode}if(!rt)throw Error(p$3(147,et));var nt=rt,st=""+et;return _e!==null&&_e.ref!==null&&typeof _e.ref=="function"&&_e.ref._stringRef===st?_e.ref:(_e=function(it){var at=nt.refs;at===jh&&(at=nt.refs={}),it===null?delete at[st]:at[st]=it},_e._stringRef=st,_e)}if(typeof et!="string")throw Error(p$3(284));if(!tt._owner)throw Error(p$3(290,et))}return et}function th(et,_e){throw et=Object.prototype.toString.call(_e),Error(p$3(31,et==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":et))}function uh(et){var _e=et._init;return _e(et._payload)}function vh$1(et){function _e(mt,bt){if(et){var vt=mt.deletions;vt===null?(mt.deletions=[bt],mt.flags|=16):vt.push(bt)}}function tt(mt,bt){if(!et)return null;for(;bt!==null;)_e(mt,bt),bt=bt.sibling;return null}function rt(mt,bt){for(mt=new Map;bt!==null;)bt.key!==null?mt.set(bt.key,bt):mt.set(bt.index,bt),bt=bt.sibling;return mt}function nt(mt,bt){return mt=wh(mt,bt),mt.index=0,mt.sibling=null,mt}function st(mt,bt,vt){return mt.index=vt,et?(vt=mt.alternate,vt!==null?(vt=vt.index,vt<bt?(mt.flags|=2,bt):vt):(mt.flags|=2,bt)):(mt.flags|=1048576,bt)}function it(mt){return et&&mt.alternate===null&&(mt.flags|=2),mt}function at(mt,bt,vt,yt){return bt===null||bt.tag!==6?(bt=xh(vt,mt.mode,yt),bt.return=mt,bt):(bt=nt(bt,vt),bt.return=mt,bt)}function ot(mt,bt,vt,yt){var xt=vt.type;return xt===ya?ct(mt,bt,vt.props.children,yt,vt.key):bt!==null&&(bt.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===Ha&&uh(xt)===bt.type)?(yt=nt(bt,vt.props),yt.ref=sh(mt,bt,vt),yt.return=mt,yt):(yt=yh(vt.type,vt.key,vt.props,null,mt.mode,yt),yt.ref=sh(mt,bt,vt),yt.return=mt,yt)}function lt(mt,bt,vt,yt){return bt===null||bt.tag!==4||bt.stateNode.containerInfo!==vt.containerInfo||bt.stateNode.implementation!==vt.implementation?(bt=zh(vt,mt.mode,yt),bt.return=mt,bt):(bt=nt(bt,vt.children||[]),bt.return=mt,bt)}function ct(mt,bt,vt,yt,xt){return bt===null||bt.tag!==7?(bt=Ah(vt,mt.mode,yt,xt),bt.return=mt,bt):(bt=nt(bt,vt),bt.return=mt,bt)}function ut(mt,bt,vt){if(typeof bt=="string"&&bt!==""||typeof bt=="number")return bt=xh(""+bt,mt.mode,vt),bt.return=mt,bt;if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case va:return vt=yh(bt.type,bt.key,bt.props,null,mt.mode,vt),vt.ref=sh(mt,null,bt),vt.return=mt,vt;case wa:return bt=zh(bt,mt.mode,vt),bt.return=mt,bt;case Ha:var yt=bt._init;return ut(mt,yt(bt._payload),vt)}if(eb(bt)||Ka(bt))return bt=Ah(bt,mt.mode,vt,null),bt.return=mt,bt;th(mt,bt)}return null}function dt(mt,bt,vt,yt){var xt=bt!==null?bt.key:null;if(typeof vt=="string"&&vt!==""||typeof vt=="number")return xt!==null?null:at(mt,bt,""+vt,yt);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case va:return vt.key===xt?ot(mt,bt,vt,yt):null;case wa:return vt.key===xt?lt(mt,bt,vt,yt):null;case Ha:return xt=vt._init,dt(mt,bt,xt(vt._payload),yt)}if(eb(vt)||Ka(vt))return xt!==null?null:ct(mt,bt,vt,yt,null);th(mt,vt)}return null}function ft(mt,bt,vt,yt,xt){if(typeof yt=="string"&&yt!==""||typeof yt=="number")return mt=mt.get(vt)||null,at(bt,mt,""+yt,xt);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case va:return mt=mt.get(yt.key===null?vt:yt.key)||null,ot(bt,mt,yt,xt);case wa:return mt=mt.get(yt.key===null?vt:yt.key)||null,lt(bt,mt,yt,xt);case Ha:var Et=yt._init;return ft(mt,bt,vt,Et(yt._payload),xt)}if(eb(yt)||Ka(yt))return mt=mt.get(vt)||null,ct(bt,mt,yt,xt,null);th(bt,yt)}return null}function ht(mt,bt,vt,yt){for(var xt=null,Et=null,wt=bt,$t=bt=0,Tt=null;wt!==null&&$t<vt.length;$t++){wt.index>$t?(Tt=wt,wt=null):Tt=wt.sibling;var St=dt(mt,wt,vt[$t],yt);if(St===null){wt===null&&(wt=Tt);break}et&&wt&&St.alternate===null&&_e(mt,wt),bt=st(St,bt,$t),Et===null?xt=St:Et.sibling=St,Et=St,wt=Tt}if($t===vt.length)return tt(mt,wt),I$1&&tg(mt,$t),xt;if(wt===null){for(;$t<vt.length;$t++)wt=ut(mt,vt[$t],yt),wt!==null&&(bt=st(wt,bt,$t),Et===null?xt=wt:Et.sibling=wt,Et=wt);return I$1&&tg(mt,$t),xt}for(wt=rt(mt,wt);$t<vt.length;$t++)Tt=ft(wt,mt,$t,vt[$t],yt),Tt!==null&&(et&&Tt.alternate!==null&&wt.delete(Tt.key===null?$t:Tt.key),bt=st(Tt,bt,$t),Et===null?xt=Tt:Et.sibling=Tt,Et=Tt);return et&&wt.forEach(function(Pt){return _e(mt,Pt)}),I$1&&tg(mt,$t),xt}function pt(mt,bt,vt,yt){var xt=Ka(vt);if(typeof xt!="function")throw Error(p$3(150));if(vt=xt.call(vt),vt==null)throw Error(p$3(151));for(var Et=xt=null,wt=bt,$t=bt=0,Tt=null,St=vt.next();wt!==null&&!St.done;$t++,St=vt.next()){wt.index>$t?(Tt=wt,wt=null):Tt=wt.sibling;var Pt=dt(mt,wt,St.value,yt);if(Pt===null){wt===null&&(wt=Tt);break}et&&wt&&Pt.alternate===null&&_e(mt,wt),bt=st(Pt,bt,$t),Et===null?xt=Pt:Et.sibling=Pt,Et=Pt,wt=Tt}if(St.done)return tt(mt,wt),I$1&&tg(mt,$t),xt;if(wt===null){for(;!St.done;$t++,St=vt.next())St=ut(mt,St.value,yt),St!==null&&(bt=st(St,bt,$t),Et===null?xt=St:Et.sibling=St,Et=St);return I$1&&tg(mt,$t),xt}for(wt=rt(mt,wt);!St.done;$t++,St=vt.next())St=ft(wt,mt,$t,St.value,yt),St!==null&&(et&&St.alternate!==null&&wt.delete(St.key===null?$t:St.key),bt=st(St,bt,$t),Et===null?xt=St:Et.sibling=St,Et=St);return et&&wt.forEach(function(At){return _e(mt,At)}),I$1&&tg(mt,$t),xt}function gt(mt,bt,vt,yt){if(typeof vt=="object"&&vt!==null&&vt.type===ya&&vt.key===null&&(vt=vt.props.children),typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case va:e:{for(var xt=vt.key,Et=bt;Et!==null;){if(Et.key===xt){if(xt=vt.type,xt===ya){if(Et.tag===7){tt(mt,Et.sibling),bt=nt(Et,vt.props.children),bt.return=mt,mt=bt;break e}}else if(Et.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===Ha&&uh(xt)===Et.type){tt(mt,Et.sibling),bt=nt(Et,vt.props),bt.ref=sh(mt,Et,vt),bt.return=mt,mt=bt;break e}tt(mt,Et);break}else _e(mt,Et);Et=Et.sibling}vt.type===ya?(bt=Ah(vt.props.children,mt.mode,yt,vt.key),bt.return=mt,mt=bt):(yt=yh(vt.type,vt.key,vt.props,null,mt.mode,yt),yt.ref=sh(mt,bt,vt),yt.return=mt,mt=yt)}return it(mt);case wa:e:{for(Et=vt.key;bt!==null;){if(bt.key===Et)if(bt.tag===4&&bt.stateNode.containerInfo===vt.containerInfo&&bt.stateNode.implementation===vt.implementation){tt(mt,bt.sibling),bt=nt(bt,vt.children||[]),bt.return=mt,mt=bt;break e}else{tt(mt,bt);break}else _e(mt,bt);bt=bt.sibling}bt=zh(vt,mt.mode,yt),bt.return=mt,mt=bt}return it(mt);case Ha:return Et=vt._init,gt(mt,bt,Et(vt._payload),yt)}if(eb(vt))return ht(mt,bt,vt,yt);if(Ka(vt))return pt(mt,bt,vt,yt);th(mt,vt)}return typeof vt=="string"&&vt!==""||typeof vt=="number"?(vt=""+vt,bt!==null&&bt.tag===6?(tt(mt,bt.sibling),bt=nt(bt,vt),bt.return=mt,mt=bt):(tt(mt,bt),bt=xh(vt,mt.mode,yt),bt.return=mt,mt=bt),it(mt)):tt(mt,bt)}return gt}var Bh=vh$1(!0),Ch=vh$1(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(et){if(et===Dh)throw Error(p$3(174));return et}function Ih(et,_e){switch(G(Gh,_e),G(Fh,et),G(Eh,Dh),et=_e.nodeType,et){case 9:case 11:_e=(_e=_e.documentElement)?_e.namespaceURI:lb(null,"");break;default:et=et===8?_e.parentNode:_e,_e=et.namespaceURI||null,et=et.tagName,_e=lb(_e,et)}E$1(Eh),G(Eh,_e)}function Jh(){E$1(Eh),E$1(Fh),E$1(Gh)}function Kh(et){Hh(Gh.current);var _e=Hh(Eh.current),tt=lb(_e,et.type);_e!==tt&&(G(Fh,et),G(Eh,tt))}function Lh(et){Fh.current===et&&(E$1(Eh),E$1(Fh))}var M$2=Uf(0);function Mh(et){for(var _e=et;_e!==null;){if(_e.tag===13){var tt=_e.memoizedState;if(tt!==null&&(tt=tt.dehydrated,tt===null||tt.data==="$?"||tt.data==="$!"))return _e}else if(_e.tag===19&&_e.memoizedProps.revealOrder!==void 0){if(_e.flags&128)return _e}else if(_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===et)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===et)return null;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}return null}var Nh=[];function Oh(){for(var et=0;et<Nh.length;et++)Nh[et]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N$2=null,O$1=null,P$1=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p$3(321))}function Wh(et,_e){if(_e===null)return!1;for(var tt=0;tt<_e.length&&tt<et.length;tt++)if(!He(et[tt],_e[tt]))return!1;return!0}function Xh(et,_e,tt,rt,nt,st){if(Rh=st,N$2=_e,_e.memoizedState=null,_e.updateQueue=null,_e.lanes=0,Ph.current=et===null||et.memoizedState===null?Yh:Zh,et=tt(rt,nt),Th){st=0;do{if(Th=!1,Uh=0,25<=st)throw Error(p$3(301));st+=1,P$1=O$1=null,_e.updateQueue=null,Ph.current=$h,et=tt(rt,nt)}while(Th)}if(Ph.current=ai,_e=O$1!==null&&O$1.next!==null,Rh=0,P$1=O$1=N$2=null,Sh=!1,_e)throw Error(p$3(300));return et}function bi(){var et=Uh!==0;return Uh=0,et}function ci(){var et={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$1===null?N$2.memoizedState=P$1=et:P$1=P$1.next=et,P$1}function di(){if(O$1===null){var et=N$2.alternate;et=et!==null?et.memoizedState:null}else et=O$1.next;var _e=P$1===null?N$2.memoizedState:P$1.next;if(_e!==null)P$1=_e,O$1=et;else{if(et===null)throw Error(p$3(310));O$1=et,et={memoizedState:O$1.memoizedState,baseState:O$1.baseState,baseQueue:O$1.baseQueue,queue:O$1.queue,next:null},P$1===null?N$2.memoizedState=P$1=et:P$1=P$1.next=et}return P$1}function ei(et,_e){return typeof _e=="function"?_e(et):_e}function fi(et){var _e=di(),tt=_e.queue;if(tt===null)throw Error(p$3(311));tt.lastRenderedReducer=et;var rt=O$1,nt=rt.baseQueue,st=tt.pending;if(st!==null){if(nt!==null){var it=nt.next;nt.next=st.next,st.next=it}rt.baseQueue=nt=st,tt.pending=null}if(nt!==null){st=nt.next,rt=rt.baseState;var at=it=null,ot=null,lt=st;do{var ct=lt.lane;if((Rh&ct)===ct)ot!==null&&(ot=ot.next={lane:0,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null}),rt=lt.hasEagerState?lt.eagerState:et(rt,lt.action);else{var ut={lane:ct,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null};ot===null?(at=ot=ut,it=rt):ot=ot.next=ut,N$2.lanes|=ct,hh|=ct}lt=lt.next}while(lt!==null&&lt!==st);ot===null?it=rt:ot.next=at,He(rt,_e.memoizedState)||(Ug=!0),_e.memoizedState=rt,_e.baseState=it,_e.baseQueue=ot,tt.lastRenderedState=rt}if(et=tt.interleaved,et!==null){nt=et;do st=nt.lane,N$2.lanes|=st,hh|=st,nt=nt.next;while(nt!==et)}else nt===null&&(tt.lanes=0);return[_e.memoizedState,tt.dispatch]}function gi(et){var _e=di(),tt=_e.queue;if(tt===null)throw Error(p$3(311));tt.lastRenderedReducer=et;var rt=tt.dispatch,nt=tt.pending,st=_e.memoizedState;if(nt!==null){tt.pending=null;var it=nt=nt.next;do st=et(st,it.action),it=it.next;while(it!==nt);He(st,_e.memoizedState)||(Ug=!0),_e.memoizedState=st,_e.baseQueue===null&&(_e.baseState=st),tt.lastRenderedState=st}return[st,rt]}function hi(){}function ii(et,_e){var tt=N$2,rt=di(),nt=_e(),st=!He(rt.memoizedState,nt);if(st&&(rt.memoizedState=nt,Ug=!0),rt=rt.queue,ji(ki.bind(null,tt,rt,et),[et]),rt.getSnapshot!==_e||st||P$1!==null&&P$1.memoizedState.tag&1){if(tt.flags|=2048,li(9,mi.bind(null,tt,rt,nt,_e),void 0,null),R$1===null)throw Error(p$3(349));Rh&30||ni(tt,_e,nt)}return nt}function ni(et,_e,tt){et.flags|=16384,et={getSnapshot:_e,value:tt},_e=N$2.updateQueue,_e===null?(_e={lastEffect:null,stores:null},N$2.updateQueue=_e,_e.stores=[et]):(tt=_e.stores,tt===null?_e.stores=[et]:tt.push(et))}function mi(et,_e,tt,rt){_e.value=tt,_e.getSnapshot=rt,oi(_e)&&pi(et)}function ki(et,_e,tt){return tt(function(){oi(_e)&&pi(et)})}function oi(et){var _e=et.getSnapshot;et=et.value;try{var tt=_e();return!He(et,tt)}catch{return!0}}function pi(et){var _e=Zg(et,1);_e!==null&&mh(_e,et,1,-1)}function qi(et){var _e=ci();return typeof et=="function"&&(et=et()),_e.memoizedState=_e.baseState=et,et={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:et},_e.queue=et,et=et.dispatch=ri.bind(null,N$2,et),[_e.memoizedState,et]}function li(et,_e,tt,rt){return et={tag:et,create:_e,destroy:tt,deps:rt,next:null},_e=N$2.updateQueue,_e===null?(_e={lastEffect:null,stores:null},N$2.updateQueue=_e,_e.lastEffect=et.next=et):(tt=_e.lastEffect,tt===null?_e.lastEffect=et.next=et:(rt=tt.next,tt.next=et,et.next=rt,_e.lastEffect=et)),et}function si(){return di().memoizedState}function ti(et,_e,tt,rt){var nt=ci();N$2.flags|=et,nt.memoizedState=li(1|_e,tt,void 0,rt===void 0?null:rt)}function ui(et,_e,tt,rt){var nt=di();rt=rt===void 0?null:rt;var st=void 0;if(O$1!==null){var it=O$1.memoizedState;if(st=it.destroy,rt!==null&&Wh(rt,it.deps)){nt.memoizedState=li(_e,tt,st,rt);return}}N$2.flags|=et,nt.memoizedState=li(1|_e,tt,st,rt)}function vi(et,_e){return ti(8390656,8,et,_e)}function ji(et,_e){return ui(2048,8,et,_e)}function wi(et,_e){return ui(4,2,et,_e)}function xi(et,_e){return ui(4,4,et,_e)}function yi(et,_e){if(typeof _e=="function")return et=et(),_e(et),function(){_e(null)};if(_e!=null)return et=et(),_e.current=et,function(){_e.current=null}}function zi(et,_e,tt){return tt=tt!=null?tt.concat([et]):null,ui(4,4,yi.bind(null,_e,et),tt)}function Ai(){}function Bi(et,_e){var tt=di();_e=_e===void 0?null:_e;var rt=tt.memoizedState;return rt!==null&&_e!==null&&Wh(_e,rt[1])?rt[0]:(tt.memoizedState=[et,_e],et)}function Ci(et,_e){var tt=di();_e=_e===void 0?null:_e;var rt=tt.memoizedState;return rt!==null&&_e!==null&&Wh(_e,rt[1])?rt[0]:(et=et(),tt.memoizedState=[et,_e],et)}function Di(et,_e,tt){return Rh&21?(He(tt,_e)||(tt=yc(),N$2.lanes|=tt,hh|=tt,et.baseState=!0),_e):(et.baseState&&(et.baseState=!1,Ug=!0),et.memoizedState=tt)}function Ei(et,_e){var tt=C$1;C$1=tt!==0&&4>tt?tt:4,et(!0);var rt=Qh.transition;Qh.transition={};try{et(!1),_e()}finally{C$1=tt,Qh.transition=rt}}function Fi(){return di().memoizedState}function Gi(et,_e,tt){var rt=lh(et);if(tt={lane:rt,action:tt,hasEagerState:!1,eagerState:null,next:null},Hi(et))Ii(_e,tt);else if(tt=Yg(et,_e,tt,rt),tt!==null){var nt=L$1();mh(tt,et,rt,nt),Ji(tt,_e,rt)}}function ri(et,_e,tt){var rt=lh(et),nt={lane:rt,action:tt,hasEagerState:!1,eagerState:null,next:null};if(Hi(et))Ii(_e,nt);else{var st=et.alternate;if(et.lanes===0&&(st===null||st.lanes===0)&&(st=_e.lastRenderedReducer,st!==null))try{var it=_e.lastRenderedState,at=st(it,tt);if(nt.hasEagerState=!0,nt.eagerState=at,He(at,it)){var ot=_e.interleaved;ot===null?(nt.next=nt,Xg(_e)):(nt.next=ot.next,ot.next=nt),_e.interleaved=nt;return}}catch{}finally{}tt=Yg(et,_e,nt,rt),tt!==null&&(nt=L$1(),mh(tt,et,rt,nt),Ji(tt,_e,rt))}}function Hi(et){var _e=et.alternate;return et===N$2||_e!==null&&_e===N$2}function Ii(et,_e){Th=Sh=!0;var tt=et.pending;tt===null?_e.next=_e:(_e.next=tt.next,tt.next=_e),et.pending=_e}function Ji(et,_e,tt){if(tt&4194240){var rt=_e.lanes;rt&=et.pendingLanes,tt|=rt,_e.lanes=tt,Cc(et,tt)}}var ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(et,_e){return ci().memoizedState=[et,_e===void 0?null:_e],et},useContext:Vg,useEffect:vi,useImperativeHandle:function(et,_e,tt){return tt=tt!=null?tt.concat([et]):null,ti(4194308,4,yi.bind(null,_e,et),tt)},useLayoutEffect:function(et,_e){return ti(4194308,4,et,_e)},useInsertionEffect:function(et,_e){return ti(4,2,et,_e)},useMemo:function(et,_e){var tt=ci();return _e=_e===void 0?null:_e,et=et(),tt.memoizedState=[et,_e],et},useReducer:function(et,_e,tt){var rt=ci();return _e=tt!==void 0?tt(_e):_e,rt.memoizedState=rt.baseState=_e,et={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:et,lastRenderedState:_e},rt.queue=et,et=et.dispatch=Gi.bind(null,N$2,et),[rt.memoizedState,et]},useRef:function(et){var _e=ci();return et={current:et},_e.memoizedState=et},useState:qi,useDebugValue:Ai,useDeferredValue:function(et){return ci().memoizedState=et},useTransition:function(){var et=qi(!1),_e=et[0];return et=Ei.bind(null,et[1]),ci().memoizedState=et,[_e,et]},useMutableSource:function(){},useSyncExternalStore:function(et,_e,tt){var rt=N$2,nt=ci();if(I$1){if(tt===void 0)throw Error(p$3(407));tt=tt()}else{if(tt=_e(),R$1===null)throw Error(p$3(349));Rh&30||ni(rt,_e,tt)}nt.memoizedState=tt;var st={value:tt,getSnapshot:_e};return nt.queue=st,vi(ki.bind(null,rt,st,et),[et]),rt.flags|=2048,li(9,mi.bind(null,rt,st,tt,_e),void 0,null),tt},useId:function(){var et=ci(),_e=R$1.identifierPrefix;if(I$1){var tt=sg,rt=rg;tt=(rt&~(1<<32-oc(rt)-1)).toString(32)+tt,_e=":"+_e+"R"+tt,tt=Uh++,0<tt&&(_e+="H"+tt.toString(32)),_e+=":"}else tt=Vh++,_e=":"+_e+"r"+tt.toString(32)+":";return et.memoizedState=_e},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(et){var _e=di();return Di(_e,O$1.memoizedState,et)},useTransition:function(){var et=fi(ei)[0],_e=di().memoizedState;return[et,_e]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(et){var _e=di();return O$1===null?_e.memoizedState=et:Di(_e,O$1.memoizedState,et)},useTransition:function(){var et=gi(ei)[0],_e=di().memoizedState;return[et,_e]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(et,_e){try{var tt="",rt=_e;do tt+=Pa(rt),rt=rt.return;while(rt);var nt=tt}catch(st){nt=`
Error generating stack: `+st.message+`
`+st.stack}return{value:et,source:_e,stack:nt,digest:null}}function Li(et,_e,tt){return{value:et,source:null,stack:tt??null,digest:_e??null}}function Mi(et,_e){try{console.error(_e.value)}catch(tt){setTimeout(function(){throw tt})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(et,_e,tt){tt=ch(-1,tt),tt.tag=3,tt.payload={element:null};var rt=_e.value;return tt.callback=function(){Pi||(Pi=!0,Qi=rt),Mi(et,_e)},tt}function Ri(et,_e,tt){tt=ch(-1,tt),tt.tag=3;var rt=et.type.getDerivedStateFromError;if(typeof rt=="function"){var nt=_e.value;tt.payload=function(){return rt(nt)},tt.callback=function(){Mi(et,_e)}}var st=et.stateNode;return st!==null&&typeof st.componentDidCatch=="function"&&(tt.callback=function(){Mi(et,_e),typeof rt!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var it=_e.stack;this.componentDidCatch(_e.value,{componentStack:it!==null?it:""})}),tt}function Ti(et,_e,tt){var rt=et.pingCache;if(rt===null){rt=et.pingCache=new Ni;var nt=new Set;rt.set(_e,nt)}else nt=rt.get(_e),nt===void 0&&(nt=new Set,rt.set(_e,nt));nt.has(tt)||(nt.add(tt),et=Ui.bind(null,et,_e,tt),_e.then(et,et))}function Vi(et){do{var _e;if((_e=et.tag===13)&&(_e=et.memoizedState,_e=_e!==null?_e.dehydrated!==null:!0),_e)return et;et=et.return}while(et!==null);return null}function Wi(et,_e,tt,rt,nt){return et.mode&1?(et.flags|=65536,et.lanes=nt,et):(et===_e?et.flags|=65536:(et.flags|=128,tt.flags|=131072,tt.flags&=-52805,tt.tag===1&&(tt.alternate===null?tt.tag=17:(_e=ch(-1,1),_e.tag=2,dh(tt,_e,1))),tt.lanes|=1),et)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(et,_e,tt,rt){_e.child=et===null?Ch(_e,null,tt,rt):Bh(_e,et.child,tt,rt)}function Zi(et,_e,tt,rt,nt){tt=tt.render;var st=_e.ref;return Tg(_e,nt),rt=Xh(et,_e,tt,rt,st,nt),tt=bi(),et!==null&&!Ug?(_e.updateQueue=et.updateQueue,_e.flags&=-2053,et.lanes&=~nt,$i(et,_e,nt)):(I$1&&tt&&vg(_e),_e.flags|=1,Yi(et,_e,rt,nt),_e.child)}function aj(et,_e,tt,rt,nt){if(et===null){var st=tt.type;return typeof st=="function"&&!bj(st)&&st.defaultProps===void 0&&tt.compare===null&&tt.defaultProps===void 0?(_e.tag=15,_e.type=st,cj(et,_e,st,rt,nt)):(et=yh(tt.type,null,rt,_e,_e.mode,nt),et.ref=_e.ref,et.return=_e,_e.child=et)}if(st=et.child,!(et.lanes&nt)){var it=st.memoizedProps;if(tt=tt.compare,tt=tt!==null?tt:Ie,tt(it,rt)&&et.ref===_e.ref)return $i(et,_e,nt)}return _e.flags|=1,et=wh(st,rt),et.ref=_e.ref,et.return=_e,_e.child=et}function cj(et,_e,tt,rt,nt){if(et!==null){var st=et.memoizedProps;if(Ie(st,rt)&&et.ref===_e.ref)if(Ug=!1,_e.pendingProps=rt=st,(et.lanes&nt)!==0)et.flags&131072&&(Ug=!0);else return _e.lanes=et.lanes,$i(et,_e,nt)}return dj(et,_e,tt,rt,nt)}function ej(et,_e,tt){var rt=_e.pendingProps,nt=rt.children,st=et!==null?et.memoizedState:null;if(rt.mode==="hidden")if(!(_e.mode&1))_e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=tt;else{if(!(tt&1073741824))return et=st!==null?st.baseLanes|tt:tt,_e.lanes=_e.childLanes=1073741824,_e.memoizedState={baseLanes:et,cachePool:null,transitions:null},_e.updateQueue=null,G(fj,gj),gj|=et,null;_e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt=st!==null?st.baseLanes:tt,G(fj,gj),gj|=rt}else st!==null?(rt=st.baseLanes|tt,_e.memoizedState=null):rt=tt,G(fj,gj),gj|=rt;return Yi(et,_e,nt,tt),_e.child}function hj(et,_e){var tt=_e.ref;(et===null&&tt!==null||et!==null&&et.ref!==tt)&&(_e.flags|=512,_e.flags|=2097152)}function dj(et,_e,tt,rt,nt){var st=Zf(tt)?Xf:H$1.current;return st=Yf(_e,st),Tg(_e,nt),tt=Xh(et,_e,tt,rt,st,nt),rt=bi(),et!==null&&!Ug?(_e.updateQueue=et.updateQueue,_e.flags&=-2053,et.lanes&=~nt,$i(et,_e,nt)):(I$1&&rt&&vg(_e),_e.flags|=1,Yi(et,_e,tt,nt),_e.child)}function ij(et,_e,tt,rt,nt){if(Zf(tt)){var st=!0;cg(_e)}else st=!1;if(Tg(_e,nt),_e.stateNode===null)jj(et,_e),ph(_e,tt,rt),rh(_e,tt,rt,nt),rt=!0;else if(et===null){var it=_e.stateNode,at=_e.memoizedProps;it.props=at;var ot=it.context,lt=tt.contextType;typeof lt=="object"&&lt!==null?lt=Vg(lt):(lt=Zf(tt)?Xf:H$1.current,lt=Yf(_e,lt));var ct=tt.getDerivedStateFromProps,ut=typeof ct=="function"||typeof it.getSnapshotBeforeUpdate=="function";ut||typeof it.UNSAFE_componentWillReceiveProps!="function"&&typeof it.componentWillReceiveProps!="function"||(at!==rt||ot!==lt)&&qh(_e,it,rt,lt),$g=!1;var dt=_e.memoizedState;it.state=dt,gh(_e,rt,it,nt),ot=_e.memoizedState,at!==rt||dt!==ot||Wf.current||$g?(typeof ct=="function"&&(kh(_e,tt,ct,rt),ot=_e.memoizedState),(at=$g||oh(_e,tt,at,rt,dt,ot,lt))?(ut||typeof it.UNSAFE_componentWillMount!="function"&&typeof it.componentWillMount!="function"||(typeof it.componentWillMount=="function"&&it.componentWillMount(),typeof it.UNSAFE_componentWillMount=="function"&&it.UNSAFE_componentWillMount()),typeof it.componentDidMount=="function"&&(_e.flags|=4194308)):(typeof it.componentDidMount=="function"&&(_e.flags|=4194308),_e.memoizedProps=rt,_e.memoizedState=ot),it.props=rt,it.state=ot,it.context=lt,rt=at):(typeof it.componentDidMount=="function"&&(_e.flags|=4194308),rt=!1)}else{it=_e.stateNode,bh(et,_e),at=_e.memoizedProps,lt=_e.type===_e.elementType?at:Lg(_e.type,at),it.props=lt,ut=_e.pendingProps,dt=it.context,ot=tt.contextType,typeof ot=="object"&&ot!==null?ot=Vg(ot):(ot=Zf(tt)?Xf:H$1.current,ot=Yf(_e,ot));var ft=tt.getDerivedStateFromProps;(ct=typeof ft=="function"||typeof it.getSnapshotBeforeUpdate=="function")||typeof it.UNSAFE_componentWillReceiveProps!="function"&&typeof it.componentWillReceiveProps!="function"||(at!==ut||dt!==ot)&&qh(_e,it,rt,ot),$g=!1,dt=_e.memoizedState,it.state=dt,gh(_e,rt,it,nt);var ht=_e.memoizedState;at!==ut||dt!==ht||Wf.current||$g?(typeof ft=="function"&&(kh(_e,tt,ft,rt),ht=_e.memoizedState),(lt=$g||oh(_e,tt,lt,rt,dt,ht,ot)||!1)?(ct||typeof it.UNSAFE_componentWillUpdate!="function"&&typeof it.componentWillUpdate!="function"||(typeof it.componentWillUpdate=="function"&&it.componentWillUpdate(rt,ht,ot),typeof it.UNSAFE_componentWillUpdate=="function"&&it.UNSAFE_componentWillUpdate(rt,ht,ot)),typeof it.componentDidUpdate=="function"&&(_e.flags|=4),typeof it.getSnapshotBeforeUpdate=="function"&&(_e.flags|=1024)):(typeof it.componentDidUpdate!="function"||at===et.memoizedProps&&dt===et.memoizedState||(_e.flags|=4),typeof it.getSnapshotBeforeUpdate!="function"||at===et.memoizedProps&&dt===et.memoizedState||(_e.flags|=1024),_e.memoizedProps=rt,_e.memoizedState=ht),it.props=rt,it.state=ht,it.context=ot,rt=lt):(typeof it.componentDidUpdate!="function"||at===et.memoizedProps&&dt===et.memoizedState||(_e.flags|=4),typeof it.getSnapshotBeforeUpdate!="function"||at===et.memoizedProps&&dt===et.memoizedState||(_e.flags|=1024),rt=!1)}return kj(et,_e,tt,rt,st,nt)}function kj(et,_e,tt,rt,nt,st){hj(et,_e);var it=(_e.flags&128)!==0;if(!rt&&!it)return nt&&dg(_e,tt,!1),$i(et,_e,st);rt=_e.stateNode,Xi.current=_e;var at=it&&typeof tt.getDerivedStateFromError!="function"?null:rt.render();return _e.flags|=1,et!==null&&it?(_e.child=Bh(_e,et.child,null,st),_e.child=Bh(_e,null,at,st)):Yi(et,_e,at,st),_e.memoizedState=rt.state,nt&&dg(_e,tt,!0),_e.child}function lj(et){var _e=et.stateNode;_e.pendingContext?ag(et,_e.pendingContext,_e.pendingContext!==_e.context):_e.context&&ag(et,_e.context,!1),Ih(et,_e.containerInfo)}function mj(et,_e,tt,rt,nt){return Ig(),Jg(nt),_e.flags|=256,Yi(et,_e,tt,rt),_e.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(et){return{baseLanes:et,cachePool:null,transitions:null}}function pj(et,_e,tt){var rt=_e.pendingProps,nt=M$2.current,st=!1,it=(_e.flags&128)!==0,at;if((at=it)||(at=et!==null&&et.memoizedState===null?!1:(nt&2)!==0),at?(st=!0,_e.flags&=-129):(et===null||et.memoizedState!==null)&&(nt|=1),G(M$2,nt&1),et===null)return Eg(_e),et=_e.memoizedState,et!==null&&(et=et.dehydrated,et!==null)?(_e.mode&1?et.data==="$!"?_e.lanes=8:_e.lanes=1073741824:_e.lanes=1,null):(it=rt.children,et=rt.fallback,st?(rt=_e.mode,st=_e.child,it={mode:"hidden",children:it},!(rt&1)&&st!==null?(st.childLanes=0,st.pendingProps=it):st=qj(it,rt,0,null),et=Ah(et,rt,tt,null),st.return=_e,et.return=_e,st.sibling=et,_e.child=st,_e.child.memoizedState=oj(tt),_e.memoizedState=nj,et):rj(_e,it));if(nt=et.memoizedState,nt!==null&&(at=nt.dehydrated,at!==null))return sj(et,_e,it,rt,at,nt,tt);if(st){st=rt.fallback,it=_e.mode,nt=et.child,at=nt.sibling;var ot={mode:"hidden",children:rt.children};return!(it&1)&&_e.child!==nt?(rt=_e.child,rt.childLanes=0,rt.pendingProps=ot,_e.deletions=null):(rt=wh(nt,ot),rt.subtreeFlags=nt.subtreeFlags&14680064),at!==null?st=wh(at,st):(st=Ah(st,it,tt,null),st.flags|=2),st.return=_e,rt.return=_e,rt.sibling=st,_e.child=rt,rt=st,st=_e.child,it=et.child.memoizedState,it=it===null?oj(tt):{baseLanes:it.baseLanes|tt,cachePool:null,transitions:it.transitions},st.memoizedState=it,st.childLanes=et.childLanes&~tt,_e.memoizedState=nj,rt}return st=et.child,et=st.sibling,rt=wh(st,{mode:"visible",children:rt.children}),!(_e.mode&1)&&(rt.lanes=tt),rt.return=_e,rt.sibling=null,et!==null&&(tt=_e.deletions,tt===null?(_e.deletions=[et],_e.flags|=16):tt.push(et)),_e.child=rt,_e.memoizedState=null,rt}function rj(et,_e){return _e=qj({mode:"visible",children:_e},et.mode,0,null),_e.return=et,et.child=_e}function tj(et,_e,tt,rt){return rt!==null&&Jg(rt),Bh(_e,et.child,null,tt),et=rj(_e,_e.pendingProps.children),et.flags|=2,_e.memoizedState=null,et}function sj(et,_e,tt,rt,nt,st,it){if(tt)return _e.flags&256?(_e.flags&=-257,rt=Li(Error(p$3(422))),tj(et,_e,it,rt)):_e.memoizedState!==null?(_e.child=et.child,_e.flags|=128,null):(st=rt.fallback,nt=_e.mode,rt=qj({mode:"visible",children:rt.children},nt,0,null),st=Ah(st,nt,it,null),st.flags|=2,rt.return=_e,st.return=_e,rt.sibling=st,_e.child=rt,_e.mode&1&&Bh(_e,et.child,null,it),_e.child.memoizedState=oj(it),_e.memoizedState=nj,st);if(!(_e.mode&1))return tj(et,_e,it,null);if(nt.data==="$!"){if(rt=nt.nextSibling&&nt.nextSibling.dataset,rt)var at=rt.dgst;return rt=at,st=Error(p$3(419)),rt=Li(st,rt,void 0),tj(et,_e,it,rt)}if(at=(it&et.childLanes)!==0,Ug||at){if(rt=R$1,rt!==null){switch(it&-it){case 4:nt=2;break;case 16:nt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:nt=32;break;case 536870912:nt=268435456;break;default:nt=0}nt=nt&(rt.suspendedLanes|it)?0:nt,nt!==0&&nt!==st.retryLane&&(st.retryLane=nt,Zg(et,nt),mh(rt,et,nt,-1))}return uj(),rt=Li(Error(p$3(421))),tj(et,_e,it,rt)}return nt.data==="$?"?(_e.flags|=128,_e.child=et.child,_e=vj.bind(null,et),nt._reactRetry=_e,null):(et=st.treeContext,yg=Lf(nt.nextSibling),xg=_e,I$1=!0,zg=null,et!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=et.id,sg=et.overflow,qg=_e),_e=rj(_e,rt.children),_e.flags|=4096,_e)}function wj(et,_e,tt){et.lanes|=_e;var rt=et.alternate;rt!==null&&(rt.lanes|=_e),Sg(et.return,_e,tt)}function xj(et,_e,tt,rt,nt){var st=et.memoizedState;st===null?et.memoizedState={isBackwards:_e,rendering:null,renderingStartTime:0,last:rt,tail:tt,tailMode:nt}:(st.isBackwards=_e,st.rendering=null,st.renderingStartTime=0,st.last=rt,st.tail=tt,st.tailMode=nt)}function yj(et,_e,tt){var rt=_e.pendingProps,nt=rt.revealOrder,st=rt.tail;if(Yi(et,_e,rt.children,tt),rt=M$2.current,rt&2)rt=rt&1|2,_e.flags|=128;else{if(et!==null&&et.flags&128)e:for(et=_e.child;et!==null;){if(et.tag===13)et.memoizedState!==null&&wj(et,tt,_e);else if(et.tag===19)wj(et,tt,_e);else if(et.child!==null){et.child.return=et,et=et.child;continue}if(et===_e)break e;for(;et.sibling===null;){if(et.return===null||et.return===_e)break e;et=et.return}et.sibling.return=et.return,et=et.sibling}rt&=1}if(G(M$2,rt),!(_e.mode&1))_e.memoizedState=null;else switch(nt){case"forwards":for(tt=_e.child,nt=null;tt!==null;)et=tt.alternate,et!==null&&Mh(et)===null&&(nt=tt),tt=tt.sibling;tt=nt,tt===null?(nt=_e.child,_e.child=null):(nt=tt.sibling,tt.sibling=null),xj(_e,!1,nt,tt,st);break;case"backwards":for(tt=null,nt=_e.child,_e.child=null;nt!==null;){if(et=nt.alternate,et!==null&&Mh(et)===null){_e.child=nt;break}et=nt.sibling,nt.sibling=tt,tt=nt,nt=et}xj(_e,!0,tt,null,st);break;case"together":xj(_e,!1,null,null,void 0);break;default:_e.memoizedState=null}return _e.child}function jj(et,_e){!(_e.mode&1)&&et!==null&&(et.alternate=null,_e.alternate=null,_e.flags|=2)}function $i(et,_e,tt){if(et!==null&&(_e.dependencies=et.dependencies),hh|=_e.lanes,!(tt&_e.childLanes))return null;if(et!==null&&_e.child!==et.child)throw Error(p$3(153));if(_e.child!==null){for(et=_e.child,tt=wh(et,et.pendingProps),_e.child=tt,tt.return=_e;et.sibling!==null;)et=et.sibling,tt=tt.sibling=wh(et,et.pendingProps),tt.return=_e;tt.sibling=null}return _e.child}function zj(et,_e,tt){switch(_e.tag){case 3:lj(_e),Ig();break;case 5:Kh(_e);break;case 1:Zf(_e.type)&&cg(_e);break;case 4:Ih(_e,_e.stateNode.containerInfo);break;case 10:var rt=_e.type._context,nt=_e.memoizedProps.value;G(Mg,rt._currentValue),rt._currentValue=nt;break;case 13:if(rt=_e.memoizedState,rt!==null)return rt.dehydrated!==null?(G(M$2,M$2.current&1),_e.flags|=128,null):tt&_e.child.childLanes?pj(et,_e,tt):(G(M$2,M$2.current&1),et=$i(et,_e,tt),et!==null?et.sibling:null);G(M$2,M$2.current&1);break;case 19:if(rt=(tt&_e.childLanes)!==0,et.flags&128){if(rt)return yj(et,_e,tt);_e.flags|=128}if(nt=_e.memoizedState,nt!==null&&(nt.rendering=null,nt.tail=null,nt.lastEffect=null),G(M$2,M$2.current),rt)break;return null;case 22:case 23:return _e.lanes=0,ej(et,_e,tt)}return $i(et,_e,tt)}var Aj,Bj,Cj,Dj;Aj=function(et,_e){for(var tt=_e.child;tt!==null;){if(tt.tag===5||tt.tag===6)et.appendChild(tt.stateNode);else if(tt.tag!==4&&tt.child!==null){tt.child.return=tt,tt=tt.child;continue}if(tt===_e)break;for(;tt.sibling===null;){if(tt.return===null||tt.return===_e)return;tt=tt.return}tt.sibling.return=tt.return,tt=tt.sibling}};Bj=function(){};Cj=function(et,_e,tt,rt){var nt=et.memoizedProps;if(nt!==rt){et=_e.stateNode,Hh(Eh.current);var st=null;switch(tt){case"input":nt=Ya(et,nt),rt=Ya(et,rt),st=[];break;case"select":nt=A$1({},nt,{value:void 0}),rt=A$1({},rt,{value:void 0}),st=[];break;case"textarea":nt=gb(et,nt),rt=gb(et,rt),st=[];break;default:typeof nt.onClick!="function"&&typeof rt.onClick=="function"&&(et.onclick=Bf)}ub(tt,rt);var it;tt=null;for(lt in nt)if(!rt.hasOwnProperty(lt)&&nt.hasOwnProperty(lt)&&nt[lt]!=null)if(lt==="style"){var at=nt[lt];for(it in at)at.hasOwnProperty(it)&&(tt||(tt={}),tt[it]="")}else lt!=="dangerouslySetInnerHTML"&&lt!=="children"&&lt!=="suppressContentEditableWarning"&&lt!=="suppressHydrationWarning"&&lt!=="autoFocus"&&(ea.hasOwnProperty(lt)?st||(st=[]):(st=st||[]).push(lt,null));for(lt in rt){var ot=rt[lt];if(at=nt!=null?nt[lt]:void 0,rt.hasOwnProperty(lt)&&ot!==at&&(ot!=null||at!=null))if(lt==="style")if(at){for(it in at)!at.hasOwnProperty(it)||ot&&ot.hasOwnProperty(it)||(tt||(tt={}),tt[it]="");for(it in ot)ot.hasOwnProperty(it)&&at[it]!==ot[it]&&(tt||(tt={}),tt[it]=ot[it])}else tt||(st||(st=[]),st.push(lt,tt)),tt=ot;else lt==="dangerouslySetInnerHTML"?(ot=ot?ot.__html:void 0,at=at?at.__html:void 0,ot!=null&&at!==ot&&(st=st||[]).push(lt,ot)):lt==="children"?typeof ot!="string"&&typeof ot!="number"||(st=st||[]).push(lt,""+ot):lt!=="suppressContentEditableWarning"&&lt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(lt)?(ot!=null&&lt==="onScroll"&&D$1("scroll",et),st||at===ot||(st=[])):(st=st||[]).push(lt,ot))}tt&&(st=st||[]).push("style",tt);var lt=st;(_e.updateQueue=lt)&&(_e.flags|=4)}};Dj=function(et,_e,tt,rt){tt!==rt&&(_e.flags|=4)};function Ej(et,_e){if(!I$1)switch(et.tailMode){case"hidden":_e=et.tail;for(var tt=null;_e!==null;)_e.alternate!==null&&(tt=_e),_e=_e.sibling;tt===null?et.tail=null:tt.sibling=null;break;case"collapsed":tt=et.tail;for(var rt=null;tt!==null;)tt.alternate!==null&&(rt=tt),tt=tt.sibling;rt===null?_e||et.tail===null?et.tail=null:et.tail.sibling=null:rt.sibling=null}}function S$1(et){var _e=et.alternate!==null&&et.alternate.child===et.child,tt=0,rt=0;if(_e)for(var nt=et.child;nt!==null;)tt|=nt.lanes|nt.childLanes,rt|=nt.subtreeFlags&14680064,rt|=nt.flags&14680064,nt.return=et,nt=nt.sibling;else for(nt=et.child;nt!==null;)tt|=nt.lanes|nt.childLanes,rt|=nt.subtreeFlags,rt|=nt.flags,nt.return=et,nt=nt.sibling;return et.subtreeFlags|=rt,et.childLanes=tt,_e}function Fj(et,_e,tt){var rt=_e.pendingProps;switch(wg(_e),_e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(_e),null;case 1:return Zf(_e.type)&&$f(),S$1(_e),null;case 3:return rt=_e.stateNode,Jh(),E$1(Wf),E$1(H$1),Oh(),rt.pendingContext&&(rt.context=rt.pendingContext,rt.pendingContext=null),(et===null||et.child===null)&&(Gg(_e)?_e.flags|=4:et===null||et.memoizedState.isDehydrated&&!(_e.flags&256)||(_e.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(et,_e),S$1(_e),null;case 5:Lh(_e);var nt=Hh(Gh.current);if(tt=_e.type,et!==null&&_e.stateNode!=null)Cj(et,_e,tt,rt,nt),et.ref!==_e.ref&&(_e.flags|=512,_e.flags|=2097152);else{if(!rt){if(_e.stateNode===null)throw Error(p$3(166));return S$1(_e),null}if(et=Hh(Eh.current),Gg(_e)){rt=_e.stateNode,tt=_e.type;var st=_e.memoizedProps;switch(rt[Of]=_e,rt[Pf]=st,et=(_e.mode&1)!==0,tt){case"dialog":D$1("cancel",rt),D$1("close",rt);break;case"iframe":case"object":case"embed":D$1("load",rt);break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D$1(lf[nt],rt);break;case"source":D$1("error",rt);break;case"img":case"image":case"link":D$1("error",rt),D$1("load",rt);break;case"details":D$1("toggle",rt);break;case"input":Za(rt,st),D$1("invalid",rt);break;case"select":rt._wrapperState={wasMultiple:!!st.multiple},D$1("invalid",rt);break;case"textarea":hb(rt,st),D$1("invalid",rt)}ub(tt,st),nt=null;for(var it in st)if(st.hasOwnProperty(it)){var at=st[it];it==="children"?typeof at=="string"?rt.textContent!==at&&(st.suppressHydrationWarning!==!0&&Af(rt.textContent,at,et),nt=["children",at]):typeof at=="number"&&rt.textContent!==""+at&&(st.suppressHydrationWarning!==!0&&Af(rt.textContent,at,et),nt=["children",""+at]):ea.hasOwnProperty(it)&&at!=null&&it==="onScroll"&&D$1("scroll",rt)}switch(tt){case"input":Va(rt),db(rt,st,!0);break;case"textarea":Va(rt),jb(rt);break;case"select":case"option":break;default:typeof st.onClick=="function"&&(rt.onclick=Bf)}rt=nt,_e.updateQueue=rt,rt!==null&&(_e.flags|=4)}else{it=nt.nodeType===9?nt:nt.ownerDocument,et==="http://www.w3.org/1999/xhtml"&&(et=kb(tt)),et==="http://www.w3.org/1999/xhtml"?tt==="script"?(et=it.createElement("div"),et.innerHTML="<script><\/script>",et=et.removeChild(et.firstChild)):typeof rt.is=="string"?et=it.createElement(tt,{is:rt.is}):(et=it.createElement(tt),tt==="select"&&(it=et,rt.multiple?it.multiple=!0:rt.size&&(it.size=rt.size))):et=it.createElementNS(et,tt),et[Of]=_e,et[Pf]=rt,Aj(et,_e,!1,!1),_e.stateNode=et;e:{switch(it=vb(tt,rt),tt){case"dialog":D$1("cancel",et),D$1("close",et),nt=rt;break;case"iframe":case"object":case"embed":D$1("load",et),nt=rt;break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D$1(lf[nt],et);nt=rt;break;case"source":D$1("error",et),nt=rt;break;case"img":case"image":case"link":D$1("error",et),D$1("load",et),nt=rt;break;case"details":D$1("toggle",et),nt=rt;break;case"input":Za(et,rt),nt=Ya(et,rt),D$1("invalid",et);break;case"option":nt=rt;break;case"select":et._wrapperState={wasMultiple:!!rt.multiple},nt=A$1({},rt,{value:void 0}),D$1("invalid",et);break;case"textarea":hb(et,rt),nt=gb(et,rt),D$1("invalid",et);break;default:nt=rt}ub(tt,nt),at=nt;for(st in at)if(at.hasOwnProperty(st)){var ot=at[st];st==="style"?sb(et,ot):st==="dangerouslySetInnerHTML"?(ot=ot?ot.__html:void 0,ot!=null&&nb(et,ot)):st==="children"?typeof ot=="string"?(tt!=="textarea"||ot!=="")&&ob(et,ot):typeof ot=="number"&&ob(et,""+ot):st!=="suppressContentEditableWarning"&&st!=="suppressHydrationWarning"&&st!=="autoFocus"&&(ea.hasOwnProperty(st)?ot!=null&&st==="onScroll"&&D$1("scroll",et):ot!=null&&ta(et,st,ot,it))}switch(tt){case"input":Va(et),db(et,rt,!1);break;case"textarea":Va(et),jb(et);break;case"option":rt.value!=null&&et.setAttribute("value",""+Sa(rt.value));break;case"select":et.multiple=!!rt.multiple,st=rt.value,st!=null?fb(et,!!rt.multiple,st,!1):rt.defaultValue!=null&&fb(et,!!rt.multiple,rt.defaultValue,!0);break;default:typeof nt.onClick=="function"&&(et.onclick=Bf)}switch(tt){case"button":case"input":case"select":case"textarea":rt=!!rt.autoFocus;break e;case"img":rt=!0;break e;default:rt=!1}}rt&&(_e.flags|=4)}_e.ref!==null&&(_e.flags|=512,_e.flags|=2097152)}return S$1(_e),null;case 6:if(et&&_e.stateNode!=null)Dj(et,_e,et.memoizedProps,rt);else{if(typeof rt!="string"&&_e.stateNode===null)throw Error(p$3(166));if(tt=Hh(Gh.current),Hh(Eh.current),Gg(_e)){if(rt=_e.stateNode,tt=_e.memoizedProps,rt[Of]=_e,(st=rt.nodeValue!==tt)&&(et=xg,et!==null))switch(et.tag){case 3:Af(rt.nodeValue,tt,(et.mode&1)!==0);break;case 5:et.memoizedProps.suppressHydrationWarning!==!0&&Af(rt.nodeValue,tt,(et.mode&1)!==0)}st&&(_e.flags|=4)}else rt=(tt.nodeType===9?tt:tt.ownerDocument).createTextNode(rt),rt[Of]=_e,_e.stateNode=rt}return S$1(_e),null;case 13:if(E$1(M$2),rt=_e.memoizedState,et===null||et.memoizedState!==null&&et.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&_e.mode&1&&!(_e.flags&128))Hg(),Ig(),_e.flags|=98560,st=!1;else if(st=Gg(_e),rt!==null&&rt.dehydrated!==null){if(et===null){if(!st)throw Error(p$3(318));if(st=_e.memoizedState,st=st!==null?st.dehydrated:null,!st)throw Error(p$3(317));st[Of]=_e}else Ig(),!(_e.flags&128)&&(_e.memoizedState=null),_e.flags|=4;S$1(_e),st=!1}else zg!==null&&(Gj(zg),zg=null),st=!0;if(!st)return _e.flags&65536?_e:null}return _e.flags&128?(_e.lanes=tt,_e):(rt=rt!==null,rt!==(et!==null&&et.memoizedState!==null)&&rt&&(_e.child.flags|=8192,_e.mode&1&&(et===null||M$2.current&1?T$1===0&&(T$1=3):uj())),_e.updateQueue!==null&&(_e.flags|=4),S$1(_e),null);case 4:return Jh(),Bj(et,_e),et===null&&sf(_e.stateNode.containerInfo),S$1(_e),null;case 10:return Rg(_e.type._context),S$1(_e),null;case 17:return Zf(_e.type)&&$f(),S$1(_e),null;case 19:if(E$1(M$2),st=_e.memoizedState,st===null)return S$1(_e),null;if(rt=(_e.flags&128)!==0,it=st.rendering,it===null)if(rt)Ej(st,!1);else{if(T$1!==0||et!==null&&et.flags&128)for(et=_e.child;et!==null;){if(it=Mh(et),it!==null){for(_e.flags|=128,Ej(st,!1),rt=it.updateQueue,rt!==null&&(_e.updateQueue=rt,_e.flags|=4),_e.subtreeFlags=0,rt=tt,tt=_e.child;tt!==null;)st=tt,et=rt,st.flags&=14680066,it=st.alternate,it===null?(st.childLanes=0,st.lanes=et,st.child=null,st.subtreeFlags=0,st.memoizedProps=null,st.memoizedState=null,st.updateQueue=null,st.dependencies=null,st.stateNode=null):(st.childLanes=it.childLanes,st.lanes=it.lanes,st.child=it.child,st.subtreeFlags=0,st.deletions=null,st.memoizedProps=it.memoizedProps,st.memoizedState=it.memoizedState,st.updateQueue=it.updateQueue,st.type=it.type,et=it.dependencies,st.dependencies=et===null?null:{lanes:et.lanes,firstContext:et.firstContext}),tt=tt.sibling;return G(M$2,M$2.current&1|2),_e.child}et=et.sibling}st.tail!==null&&B()>Hj&&(_e.flags|=128,rt=!0,Ej(st,!1),_e.lanes=4194304)}else{if(!rt)if(et=Mh(it),et!==null){if(_e.flags|=128,rt=!0,tt=et.updateQueue,tt!==null&&(_e.updateQueue=tt,_e.flags|=4),Ej(st,!0),st.tail===null&&st.tailMode==="hidden"&&!it.alternate&&!I$1)return S$1(_e),null}else 2*B()-st.renderingStartTime>Hj&&tt!==1073741824&&(_e.flags|=128,rt=!0,Ej(st,!1),_e.lanes=4194304);st.isBackwards?(it.sibling=_e.child,_e.child=it):(tt=st.last,tt!==null?tt.sibling=it:_e.child=it,st.last=it)}return st.tail!==null?(_e=st.tail,st.rendering=_e,st.tail=_e.sibling,st.renderingStartTime=B(),_e.sibling=null,tt=M$2.current,G(M$2,rt?tt&1|2:tt&1),_e):(S$1(_e),null);case 22:case 23:return Ij(),rt=_e.memoizedState!==null,et!==null&&et.memoizedState!==null!==rt&&(_e.flags|=8192),rt&&_e.mode&1?gj&1073741824&&(S$1(_e),_e.subtreeFlags&6&&(_e.flags|=8192)):S$1(_e),null;case 24:return null;case 25:return null}throw Error(p$3(156,_e.tag))}function Jj(et,_e){switch(wg(_e),_e.tag){case 1:return Zf(_e.type)&&$f(),et=_e.flags,et&65536?(_e.flags=et&-65537|128,_e):null;case 3:return Jh(),E$1(Wf),E$1(H$1),Oh(),et=_e.flags,et&65536&&!(et&128)?(_e.flags=et&-65537|128,_e):null;case 5:return Lh(_e),null;case 13:if(E$1(M$2),et=_e.memoizedState,et!==null&&et.dehydrated!==null){if(_e.alternate===null)throw Error(p$3(340));Ig()}return et=_e.flags,et&65536?(_e.flags=et&-65537|128,_e):null;case 19:return E$1(M$2),null;case 4:return Jh(),null;case 10:return Rg(_e.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$1=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Mj(et,_e){var tt=et.ref;if(tt!==null)if(typeof tt=="function")try{tt(null)}catch(rt){W$1(et,_e,rt)}else tt.current=null}function Nj(et,_e,tt){try{tt()}catch(rt){W$1(et,_e,rt)}}var Oj=!1;function Pj(et,_e){if(Cf=dd,et=Me(),Ne(et)){if("selectionStart"in et)var tt={start:et.selectionStart,end:et.selectionEnd};else e:{tt=(tt=et.ownerDocument)&&tt.defaultView||window;var rt=tt.getSelection&&tt.getSelection();if(rt&&rt.rangeCount!==0){tt=rt.anchorNode;var nt=rt.anchorOffset,st=rt.focusNode;rt=rt.focusOffset;try{tt.nodeType,st.nodeType}catch{tt=null;break e}var it=0,at=-1,ot=-1,lt=0,ct=0,ut=et,dt=null;t:for(;;){for(var ft;ut!==tt||nt!==0&&ut.nodeType!==3||(at=it+nt),ut!==st||rt!==0&&ut.nodeType!==3||(ot=it+rt),ut.nodeType===3&&(it+=ut.nodeValue.length),(ft=ut.firstChild)!==null;)dt=ut,ut=ft;for(;;){if(ut===et)break t;if(dt===tt&&++lt===nt&&(at=it),dt===st&&++ct===rt&&(ot=it),(ft=ut.nextSibling)!==null)break;ut=dt,dt=ut.parentNode}ut=ft}tt=at===-1||ot===-1?null:{start:at,end:ot}}else tt=null}tt=tt||{start:0,end:0}}else tt=null;for(Df={focusedElem:et,selectionRange:tt},dd=!1,V$1=_e;V$1!==null;)if(_e=V$1,et=_e.child,(_e.subtreeFlags&1028)!==0&&et!==null)et.return=_e,V$1=et;else for(;V$1!==null;){_e=V$1;try{var ht=_e.alternate;if(_e.flags&1024)switch(_e.tag){case 0:case 11:case 15:break;case 1:if(ht!==null){var pt=ht.memoizedProps,gt=ht.memoizedState,mt=_e.stateNode,bt=mt.getSnapshotBeforeUpdate(_e.elementType===_e.type?pt:Lg(_e.type,pt),gt);mt.__reactInternalSnapshotBeforeUpdate=bt}break;case 3:var vt=_e.stateNode.containerInfo;vt.nodeType===1?vt.textContent="":vt.nodeType===9&&vt.documentElement&&vt.removeChild(vt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$3(163))}}catch(yt){W$1(_e,_e.return,yt)}if(et=_e.sibling,et!==null){et.return=_e.return,V$1=et;break}V$1=_e.return}return ht=Oj,Oj=!1,ht}function Qj(et,_e,tt){var rt=_e.updateQueue;if(rt=rt!==null?rt.lastEffect:null,rt!==null){var nt=rt=rt.next;do{if((nt.tag&et)===et){var st=nt.destroy;nt.destroy=void 0,st!==void 0&&Nj(_e,tt,st)}nt=nt.next}while(nt!==rt)}}function Rj(et,_e){if(_e=_e.updateQueue,_e=_e!==null?_e.lastEffect:null,_e!==null){var tt=_e=_e.next;do{if((tt.tag&et)===et){var rt=tt.create;tt.destroy=rt()}tt=tt.next}while(tt!==_e)}}function Sj(et){var _e=et.ref;if(_e!==null){var tt=et.stateNode;switch(et.tag){case 5:et=tt;break;default:et=tt}typeof _e=="function"?_e(et):_e.current=et}}function Tj(et){var _e=et.alternate;_e!==null&&(et.alternate=null,Tj(_e)),et.child=null,et.deletions=null,et.sibling=null,et.tag===5&&(_e=et.stateNode,_e!==null&&(delete _e[Of],delete _e[Pf],delete _e[of],delete _e[Qf],delete _e[Rf])),et.stateNode=null,et.return=null,et.dependencies=null,et.memoizedProps=null,et.memoizedState=null,et.pendingProps=null,et.stateNode=null,et.updateQueue=null}function Uj(et){return et.tag===5||et.tag===3||et.tag===4}function Vj(et){e:for(;;){for(;et.sibling===null;){if(et.return===null||Uj(et.return))return null;et=et.return}for(et.sibling.return=et.return,et=et.sibling;et.tag!==5&&et.tag!==6&&et.tag!==18;){if(et.flags&2||et.child===null||et.tag===4)continue e;et.child.return=et,et=et.child}if(!(et.flags&2))return et.stateNode}}function Wj(et,_e,tt){var rt=et.tag;if(rt===5||rt===6)et=et.stateNode,_e?tt.nodeType===8?tt.parentNode.insertBefore(et,_e):tt.insertBefore(et,_e):(tt.nodeType===8?(_e=tt.parentNode,_e.insertBefore(et,tt)):(_e=tt,_e.appendChild(et)),tt=tt._reactRootContainer,tt!=null||_e.onclick!==null||(_e.onclick=Bf));else if(rt!==4&&(et=et.child,et!==null))for(Wj(et,_e,tt),et=et.sibling;et!==null;)Wj(et,_e,tt),et=et.sibling}function Xj(et,_e,tt){var rt=et.tag;if(rt===5||rt===6)et=et.stateNode,_e?tt.insertBefore(et,_e):tt.appendChild(et);else if(rt!==4&&(et=et.child,et!==null))for(Xj(et,_e,tt),et=et.sibling;et!==null;)Xj(et,_e,tt),et=et.sibling}var X=null,Yj=!1;function Zj(et,_e,tt){for(tt=tt.child;tt!==null;)ak(et,_e,tt),tt=tt.sibling}function ak(et,_e,tt){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,tt)}catch{}switch(tt.tag){case 5:U$1||Mj(tt,_e);case 6:var rt=X,nt=Yj;X=null,Zj(et,_e,tt),X=rt,Yj=nt,X!==null&&(Yj?(et=X,tt=tt.stateNode,et.nodeType===8?et.parentNode.removeChild(tt):et.removeChild(tt)):X.removeChild(tt.stateNode));break;case 18:X!==null&&(Yj?(et=X,tt=tt.stateNode,et.nodeType===8?Kf(et.parentNode,tt):et.nodeType===1&&Kf(et,tt),bd(et)):Kf(X,tt.stateNode));break;case 4:rt=X,nt=Yj,X=tt.stateNode.containerInfo,Yj=!0,Zj(et,_e,tt),X=rt,Yj=nt;break;case 0:case 11:case 14:case 15:if(!U$1&&(rt=tt.updateQueue,rt!==null&&(rt=rt.lastEffect,rt!==null))){nt=rt=rt.next;do{var st=nt,it=st.destroy;st=st.tag,it!==void 0&&(st&2||st&4)&&Nj(tt,_e,it),nt=nt.next}while(nt!==rt)}Zj(et,_e,tt);break;case 1:if(!U$1&&(Mj(tt,_e),rt=tt.stateNode,typeof rt.componentWillUnmount=="function"))try{rt.props=tt.memoizedProps,rt.state=tt.memoizedState,rt.componentWillUnmount()}catch(at){W$1(tt,_e,at)}Zj(et,_e,tt);break;case 21:Zj(et,_e,tt);break;case 22:tt.mode&1?(U$1=(rt=U$1)||tt.memoizedState!==null,Zj(et,_e,tt),U$1=rt):Zj(et,_e,tt);break;default:Zj(et,_e,tt)}}function bk(et){var _e=et.updateQueue;if(_e!==null){et.updateQueue=null;var tt=et.stateNode;tt===null&&(tt=et.stateNode=new Lj),_e.forEach(function(rt){var nt=ck.bind(null,et,rt);tt.has(rt)||(tt.add(rt),rt.then(nt,nt))})}}function dk(et,_e){var tt=_e.deletions;if(tt!==null)for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];try{var st=et,it=_e,at=it;e:for(;at!==null;){switch(at.tag){case 5:X=at.stateNode,Yj=!1;break e;case 3:X=at.stateNode.containerInfo,Yj=!0;break e;case 4:X=at.stateNode.containerInfo,Yj=!0;break e}at=at.return}if(X===null)throw Error(p$3(160));ak(st,it,nt),X=null,Yj=!1;var ot=nt.alternate;ot!==null&&(ot.return=null),nt.return=null}catch(lt){W$1(nt,_e,lt)}}if(_e.subtreeFlags&12854)for(_e=_e.child;_e!==null;)ek(_e,et),_e=_e.sibling}function ek(et,_e){var tt=et.alternate,rt=et.flags;switch(et.tag){case 0:case 11:case 14:case 15:if(dk(_e,et),fk(et),rt&4){try{Qj(3,et,et.return),Rj(3,et)}catch(pt){W$1(et,et.return,pt)}try{Qj(5,et,et.return)}catch(pt){W$1(et,et.return,pt)}}break;case 1:dk(_e,et),fk(et),rt&512&&tt!==null&&Mj(tt,tt.return);break;case 5:if(dk(_e,et),fk(et),rt&512&&tt!==null&&Mj(tt,tt.return),et.flags&32){var nt=et.stateNode;try{ob(nt,"")}catch(pt){W$1(et,et.return,pt)}}if(rt&4&&(nt=et.stateNode,nt!=null)){var st=et.memoizedProps,it=tt!==null?tt.memoizedProps:st,at=et.type,ot=et.updateQueue;if(et.updateQueue=null,ot!==null)try{at==="input"&&st.type==="radio"&&st.name!=null&&ab(nt,st),vb(at,it);var lt=vb(at,st);for(it=0;it<ot.length;it+=2){var ct=ot[it],ut=ot[it+1];ct==="style"?sb(nt,ut):ct==="dangerouslySetInnerHTML"?nb(nt,ut):ct==="children"?ob(nt,ut):ta(nt,ct,ut,lt)}switch(at){case"input":bb(nt,st);break;case"textarea":ib(nt,st);break;case"select":var dt=nt._wrapperState.wasMultiple;nt._wrapperState.wasMultiple=!!st.multiple;var ft=st.value;ft!=null?fb(nt,!!st.multiple,ft,!1):dt!==!!st.multiple&&(st.defaultValue!=null?fb(nt,!!st.multiple,st.defaultValue,!0):fb(nt,!!st.multiple,st.multiple?[]:"",!1))}nt[Pf]=st}catch(pt){W$1(et,et.return,pt)}}break;case 6:if(dk(_e,et),fk(et),rt&4){if(et.stateNode===null)throw Error(p$3(162));nt=et.stateNode,st=et.memoizedProps;try{nt.nodeValue=st}catch(pt){W$1(et,et.return,pt)}}break;case 3:if(dk(_e,et),fk(et),rt&4&&tt!==null&&tt.memoizedState.isDehydrated)try{bd(_e.containerInfo)}catch(pt){W$1(et,et.return,pt)}break;case 4:dk(_e,et),fk(et);break;case 13:dk(_e,et),fk(et),nt=et.child,nt.flags&8192&&(st=nt.memoizedState!==null,nt.stateNode.isHidden=st,!st||nt.alternate!==null&&nt.alternate.memoizedState!==null||(gk=B())),rt&4&&bk(et);break;case 22:if(ct=tt!==null&&tt.memoizedState!==null,et.mode&1?(U$1=(lt=U$1)||ct,dk(_e,et),U$1=lt):dk(_e,et),fk(et),rt&8192){if(lt=et.memoizedState!==null,(et.stateNode.isHidden=lt)&&!ct&&et.mode&1)for(V$1=et,ct=et.child;ct!==null;){for(ut=V$1=ct;V$1!==null;){switch(dt=V$1,ft=dt.child,dt.tag){case 0:case 11:case 14:case 15:Qj(4,dt,dt.return);break;case 1:Mj(dt,dt.return);var ht=dt.stateNode;if(typeof ht.componentWillUnmount=="function"){rt=dt,tt=dt.return;try{_e=rt,ht.props=_e.memoizedProps,ht.state=_e.memoizedState,ht.componentWillUnmount()}catch(pt){W$1(rt,tt,pt)}}break;case 5:Mj(dt,dt.return);break;case 22:if(dt.memoizedState!==null){hk(ut);continue}}ft!==null?(ft.return=dt,V$1=ft):hk(ut)}ct=ct.sibling}e:for(ct=null,ut=et;;){if(ut.tag===5){if(ct===null){ct=ut;try{nt=ut.stateNode,lt?(st=nt.style,typeof st.setProperty=="function"?st.setProperty("display","none","important"):st.display="none"):(at=ut.stateNode,ot=ut.memoizedProps.style,it=ot!=null&&ot.hasOwnProperty("display")?ot.display:null,at.style.display=rb("display",it))}catch(pt){W$1(et,et.return,pt)}}}else if(ut.tag===6){if(ct===null)try{ut.stateNode.nodeValue=lt?"":ut.memoizedProps}catch(pt){W$1(et,et.return,pt)}}else if((ut.tag!==22&&ut.tag!==23||ut.memoizedState===null||ut===et)&&ut.child!==null){ut.child.return=ut,ut=ut.child;continue}if(ut===et)break e;for(;ut.sibling===null;){if(ut.return===null||ut.return===et)break e;ct===ut&&(ct=null),ut=ut.return}ct===ut&&(ct=null),ut.sibling.return=ut.return,ut=ut.sibling}}break;case 19:dk(_e,et),fk(et),rt&4&&bk(et);break;case 21:break;default:dk(_e,et),fk(et)}}function fk(et){var _e=et.flags;if(_e&2){try{e:{for(var tt=et.return;tt!==null;){if(Uj(tt)){var rt=tt;break e}tt=tt.return}throw Error(p$3(160))}switch(rt.tag){case 5:var nt=rt.stateNode;rt.flags&32&&(ob(nt,""),rt.flags&=-33);var st=Vj(et);Xj(et,st,nt);break;case 3:case 4:var it=rt.stateNode.containerInfo,at=Vj(et);Wj(et,at,it);break;default:throw Error(p$3(161))}}catch(ot){W$1(et,et.return,ot)}et.flags&=-3}_e&4096&&(et.flags&=-4097)}function ik(et,_e,tt){V$1=et,jk(et)}function jk(et,_e,tt){for(var rt=(et.mode&1)!==0;V$1!==null;){var nt=V$1,st=nt.child;if(nt.tag===22&&rt){var it=nt.memoizedState!==null||Kj;if(!it){var at=nt.alternate,ot=at!==null&&at.memoizedState!==null||U$1;at=Kj;var lt=U$1;if(Kj=it,(U$1=ot)&&!lt)for(V$1=nt;V$1!==null;)it=V$1,ot=it.child,it.tag===22&&it.memoizedState!==null?kk(nt):ot!==null?(ot.return=it,V$1=ot):kk(nt);for(;st!==null;)V$1=st,jk(st),st=st.sibling;V$1=nt,Kj=at,U$1=lt}lk(et)}else nt.subtreeFlags&8772&&st!==null?(st.return=nt,V$1=st):lk(et)}}function lk(et){for(;V$1!==null;){var _e=V$1;if(_e.flags&8772){var tt=_e.alternate;try{if(_e.flags&8772)switch(_e.tag){case 0:case 11:case 15:U$1||Rj(5,_e);break;case 1:var rt=_e.stateNode;if(_e.flags&4&&!U$1)if(tt===null)rt.componentDidMount();else{var nt=_e.elementType===_e.type?tt.memoizedProps:Lg(_e.type,tt.memoizedProps);rt.componentDidUpdate(nt,tt.memoizedState,rt.__reactInternalSnapshotBeforeUpdate)}var st=_e.updateQueue;st!==null&&ih(_e,st,rt);break;case 3:var it=_e.updateQueue;if(it!==null){if(tt=null,_e.child!==null)switch(_e.child.tag){case 5:tt=_e.child.stateNode;break;case 1:tt=_e.child.stateNode}ih(_e,it,tt)}break;case 5:var at=_e.stateNode;if(tt===null&&_e.flags&4){tt=at;var ot=_e.memoizedProps;switch(_e.type){case"button":case"input":case"select":case"textarea":ot.autoFocus&&tt.focus();break;case"img":ot.src&&(tt.src=ot.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(_e.memoizedState===null){var lt=_e.alternate;if(lt!==null){var ct=lt.memoizedState;if(ct!==null){var ut=ct.dehydrated;ut!==null&&bd(ut)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$3(163))}U$1||_e.flags&512&&Sj(_e)}catch(dt){W$1(_e,_e.return,dt)}}if(_e===et){V$1=null;break}if(tt=_e.sibling,tt!==null){tt.return=_e.return,V$1=tt;break}V$1=_e.return}}function hk(et){for(;V$1!==null;){var _e=V$1;if(_e===et){V$1=null;break}var tt=_e.sibling;if(tt!==null){tt.return=_e.return,V$1=tt;break}V$1=_e.return}}function kk(et){for(;V$1!==null;){var _e=V$1;try{switch(_e.tag){case 0:case 11:case 15:var tt=_e.return;try{Rj(4,_e)}catch(ot){W$1(_e,tt,ot)}break;case 1:var rt=_e.stateNode;if(typeof rt.componentDidMount=="function"){var nt=_e.return;try{rt.componentDidMount()}catch(ot){W$1(_e,nt,ot)}}var st=_e.return;try{Sj(_e)}catch(ot){W$1(_e,st,ot)}break;case 5:var it=_e.return;try{Sj(_e)}catch(ot){W$1(_e,it,ot)}}}catch(ot){W$1(_e,_e.return,ot)}if(_e===et){V$1=null;break}var at=_e.sibling;if(at!==null){at.return=_e.return,V$1=at;break}V$1=_e.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R$1=null,Y$1=null,Z$1=0,gj=0,fj=Uf(0),T$1=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$1(){return K&6?B():Bk!==-1?Bk:Bk=B()}function lh(et){return et.mode&1?K&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(et=C$1,et!==0||(et=window.event,et=et===void 0?16:jd(et.type)),et):1}function mh(et,_e,tt,rt){if(50<zk)throw zk=0,Ak=null,Error(p$3(185));Ac(et,tt,rt),(!(K&2)||et!==R$1)&&(et===R$1&&(!(K&2)&&(rk|=tt),T$1===4&&Dk(et,Z$1)),Ek(et,rt),tt===1&&K===0&&!(_e.mode&1)&&(Hj=B()+500,fg&&jg()))}function Ek(et,_e){var tt=et.callbackNode;wc(et,_e);var rt=uc(et,et===R$1?Z$1:0);if(rt===0)tt!==null&&bc(tt),et.callbackNode=null,et.callbackPriority=0;else if(_e=rt&-rt,et.callbackPriority!==_e){if(tt!=null&&bc(tt),_e===1)et.tag===0?ig(Fk.bind(null,et)):hg(Fk.bind(null,et)),Jf(function(){!(K&6)&&jg()}),tt=null;else{switch(Dc(rt)){case 1:tt=fc;break;case 4:tt=gc;break;case 16:tt=hc;break;case 536870912:tt=jc;break;default:tt=hc}tt=Gk(tt,Hk.bind(null,et))}et.callbackPriority=_e,et.callbackNode=tt}}function Hk(et,_e){if(Bk=-1,Ck=0,K&6)throw Error(p$3(327));var tt=et.callbackNode;if(Ik()&&et.callbackNode!==tt)return null;var rt=uc(et,et===R$1?Z$1:0);if(rt===0)return null;if(rt&30||rt&et.expiredLanes||_e)_e=Jk(et,rt);else{_e=rt;var nt=K;K|=2;var st=Kk();(R$1!==et||Z$1!==_e)&&(vk=null,Hj=B()+500,Lk(et,_e));do try{Mk();break}catch(at){Nk(et,at)}while(!0);Qg(),nk.current=st,K=nt,Y$1!==null?_e=0:(R$1=null,Z$1=0,_e=T$1)}if(_e!==0){if(_e===2&&(nt=xc(et),nt!==0&&(rt=nt,_e=Ok(et,nt))),_e===1)throw tt=qk,Lk(et,0),Dk(et,rt),Ek(et,B()),tt;if(_e===6)Dk(et,rt);else{if(nt=et.current.alternate,!(rt&30)&&!Pk(nt)&&(_e=Jk(et,rt),_e===2&&(st=xc(et),st!==0&&(rt=st,_e=Ok(et,st))),_e===1))throw tt=qk,Lk(et,0),Dk(et,rt),Ek(et,B()),tt;switch(et.finishedWork=nt,et.finishedLanes=rt,_e){case 0:case 1:throw Error(p$3(345));case 2:Qk(et,uk,vk);break;case 3:if(Dk(et,rt),(rt&130023424)===rt&&(_e=gk+500-B(),10<_e)){if(uc(et,0)!==0)break;if(nt=et.suspendedLanes,(nt&rt)!==rt){L$1(),et.pingedLanes|=et.suspendedLanes&nt;break}et.timeoutHandle=Ff(Qk.bind(null,et,uk,vk),_e);break}Qk(et,uk,vk);break;case 4:if(Dk(et,rt),(rt&4194240)===rt)break;for(_e=et.eventTimes,nt=-1;0<rt;){var it=31-oc(rt);st=1<<it,it=_e[it],it>nt&&(nt=it),rt&=~st}if(rt=nt,rt=B()-rt,rt=(120>rt?120:480>rt?480:1080>rt?1080:1920>rt?1920:3e3>rt?3e3:4320>rt?4320:1960*mk(rt/1960))-rt,10<rt){et.timeoutHandle=Ff(Qk.bind(null,et,uk,vk),rt);break}Qk(et,uk,vk);break;case 5:Qk(et,uk,vk);break;default:throw Error(p$3(329))}}}return Ek(et,B()),et.callbackNode===tt?Hk.bind(null,et):null}function Ok(et,_e){var tt=tk;return et.current.memoizedState.isDehydrated&&(Lk(et,_e).flags|=256),et=Jk(et,_e),et!==2&&(_e=uk,uk=tt,_e!==null&&Gj(_e)),et}function Gj(et){uk===null?uk=et:uk.push.apply(uk,et)}function Pk(et){for(var _e=et;;){if(_e.flags&16384){var tt=_e.updateQueue;if(tt!==null&&(tt=tt.stores,tt!==null))for(var rt=0;rt<tt.length;rt++){var nt=tt[rt],st=nt.getSnapshot;nt=nt.value;try{if(!He(st(),nt))return!1}catch{return!1}}}if(tt=_e.child,_e.subtreeFlags&16384&&tt!==null)tt.return=_e,_e=tt;else{if(_e===et)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===et)return!0;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}}return!0}function Dk(et,_e){for(_e&=~sk,_e&=~rk,et.suspendedLanes|=_e,et.pingedLanes&=~_e,et=et.expirationTimes;0<_e;){var tt=31-oc(_e),rt=1<<tt;et[tt]=-1,_e&=~rt}}function Fk(et){if(K&6)throw Error(p$3(327));Ik();var _e=uc(et,0);if(!(_e&1))return Ek(et,B()),null;var tt=Jk(et,_e);if(et.tag!==0&&tt===2){var rt=xc(et);rt!==0&&(_e=rt,tt=Ok(et,rt))}if(tt===1)throw tt=qk,Lk(et,0),Dk(et,_e),Ek(et,B()),tt;if(tt===6)throw Error(p$3(345));return et.finishedWork=et.current.alternate,et.finishedLanes=_e,Qk(et,uk,vk),Ek(et,B()),null}function Rk(et,_e){var tt=K;K|=1;try{return et(_e)}finally{K=tt,K===0&&(Hj=B()+500,fg&&jg())}}function Sk(et){xk!==null&&xk.tag===0&&!(K&6)&&Ik();var _e=K;K|=1;var tt=pk.transition,rt=C$1;try{if(pk.transition=null,C$1=1,et)return et()}finally{C$1=rt,pk.transition=tt,K=_e,!(K&6)&&jg()}}function Ij(){gj=fj.current,E$1(fj)}function Lk(et,_e){et.finishedWork=null,et.finishedLanes=0;var tt=et.timeoutHandle;if(tt!==-1&&(et.timeoutHandle=-1,Gf(tt)),Y$1!==null)for(tt=Y$1.return;tt!==null;){var rt=tt;switch(wg(rt),rt.tag){case 1:rt=rt.type.childContextTypes,rt!=null&&$f();break;case 3:Jh(),E$1(Wf),E$1(H$1),Oh();break;case 5:Lh(rt);break;case 4:Jh();break;case 13:E$1(M$2);break;case 19:E$1(M$2);break;case 10:Rg(rt.type._context);break;case 22:case 23:Ij()}tt=tt.return}if(R$1=et,Y$1=et=wh(et.current,null),Z$1=gj=_e,T$1=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(_e=0;_e<Wg.length;_e++)if(tt=Wg[_e],rt=tt.interleaved,rt!==null){tt.interleaved=null;var nt=rt.next,st=tt.pending;if(st!==null){var it=st.next;st.next=nt,rt.next=it}tt.pending=rt}Wg=null}return et}function Nk(et,_e){do{var tt=Y$1;try{if(Qg(),Ph.current=ai,Sh){for(var rt=N$2.memoizedState;rt!==null;){var nt=rt.queue;nt!==null&&(nt.pending=null),rt=rt.next}Sh=!1}if(Rh=0,P$1=O$1=N$2=null,Th=!1,Uh=0,ok.current=null,tt===null||tt.return===null){T$1=1,qk=_e,Y$1=null;break}e:{var st=et,it=tt.return,at=tt,ot=_e;if(_e=Z$1,at.flags|=32768,ot!==null&&typeof ot=="object"&&typeof ot.then=="function"){var lt=ot,ct=at,ut=ct.tag;if(!(ct.mode&1)&&(ut===0||ut===11||ut===15)){var dt=ct.alternate;dt?(ct.updateQueue=dt.updateQueue,ct.memoizedState=dt.memoizedState,ct.lanes=dt.lanes):(ct.updateQueue=null,ct.memoizedState=null)}var ft=Vi(it);if(ft!==null){ft.flags&=-257,Wi(ft,it,at,st,_e),ft.mode&1&&Ti(st,lt,_e),_e=ft,ot=lt;var ht=_e.updateQueue;if(ht===null){var pt=new Set;pt.add(ot),_e.updateQueue=pt}else ht.add(ot);break e}else{if(!(_e&1)){Ti(st,lt,_e),uj();break e}ot=Error(p$3(426))}}else if(I$1&&at.mode&1){var gt=Vi(it);if(gt!==null){!(gt.flags&65536)&&(gt.flags|=256),Wi(gt,it,at,st,_e),Jg(Ki(ot,at));break e}}st=ot=Ki(ot,at),T$1!==4&&(T$1=2),tk===null?tk=[st]:tk.push(st),st=it;do{switch(st.tag){case 3:st.flags|=65536,_e&=-_e,st.lanes|=_e;var mt=Oi(st,ot,_e);fh(st,mt);break e;case 1:at=ot;var bt=st.type,vt=st.stateNode;if(!(st.flags&128)&&(typeof bt.getDerivedStateFromError=="function"||vt!==null&&typeof vt.componentDidCatch=="function"&&(Si===null||!Si.has(vt)))){st.flags|=65536,_e&=-_e,st.lanes|=_e;var yt=Ri(st,at,_e);fh(st,yt);break e}}st=st.return}while(st!==null)}Tk(tt)}catch(xt){_e=xt,Y$1===tt&&tt!==null&&(Y$1=tt=tt.return);continue}break}while(!0)}function Kk(){var et=nk.current;return nk.current=ai,et===null?ai:et}function uj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),R$1===null||!(hh&268435455)&&!(rk&268435455)||Dk(R$1,Z$1)}function Jk(et,_e){var tt=K;K|=2;var rt=Kk();(R$1!==et||Z$1!==_e)&&(vk=null,Lk(et,_e));do try{Uk();break}catch(nt){Nk(et,nt)}while(!0);if(Qg(),K=tt,nk.current=rt,Y$1!==null)throw Error(p$3(261));return R$1=null,Z$1=0,T$1}function Uk(){for(;Y$1!==null;)Vk(Y$1)}function Mk(){for(;Y$1!==null&&!cc();)Vk(Y$1)}function Vk(et){var _e=Wk(et.alternate,et,gj);et.memoizedProps=et.pendingProps,_e===null?Tk(et):Y$1=_e,ok.current=null}function Tk(et){var _e=et;do{var tt=_e.alternate;if(et=_e.return,_e.flags&32768){if(tt=Jj(tt,_e),tt!==null){tt.flags&=32767,Y$1=tt;return}if(et!==null)et.flags|=32768,et.subtreeFlags=0,et.deletions=null;else{T$1=6,Y$1=null;return}}else if(tt=Fj(tt,_e,gj),tt!==null){Y$1=tt;return}if(_e=_e.sibling,_e!==null){Y$1=_e;return}Y$1=_e=et}while(_e!==null);T$1===0&&(T$1=5)}function Qk(et,_e,tt){var rt=C$1,nt=pk.transition;try{pk.transition=null,C$1=1,Xk(et,_e,tt,rt)}finally{pk.transition=nt,C$1=rt}return null}function Xk(et,_e,tt,rt){do Ik();while(xk!==null);if(K&6)throw Error(p$3(327));tt=et.finishedWork;var nt=et.finishedLanes;if(tt===null)return null;if(et.finishedWork=null,et.finishedLanes=0,tt===et.current)throw Error(p$3(177));et.callbackNode=null,et.callbackPriority=0;var st=tt.lanes|tt.childLanes;if(Bc(et,st),et===R$1&&(Y$1=R$1=null,Z$1=0),!(tt.subtreeFlags&2064)&&!(tt.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),st=(tt.flags&15990)!==0,tt.subtreeFlags&15990||st){st=pk.transition,pk.transition=null;var it=C$1;C$1=1;var at=K;K|=4,ok.current=null,Pj(et,tt),ek(tt,et),Oe(Df),dd=!!Cf,Df=Cf=null,et.current=tt,ik(tt),dc(),K=at,C$1=it,pk.transition=st}else et.current=tt;if(wk&&(wk=!1,xk=et,yk=nt),st=et.pendingLanes,st===0&&(Si=null),mc(tt.stateNode),Ek(et,B()),_e!==null)for(rt=et.onRecoverableError,tt=0;tt<_e.length;tt++)nt=_e[tt],rt(nt.value,{componentStack:nt.stack,digest:nt.digest});if(Pi)throw Pi=!1,et=Qi,Qi=null,et;return yk&1&&et.tag!==0&&Ik(),st=et.pendingLanes,st&1?et===Ak?zk++:(zk=0,Ak=et):zk=0,jg(),null}function Ik(){if(xk!==null){var et=Dc(yk),_e=pk.transition,tt=C$1;try{if(pk.transition=null,C$1=16>et?16:et,xk===null)var rt=!1;else{if(et=xk,xk=null,yk=0,K&6)throw Error(p$3(331));var nt=K;for(K|=4,V$1=et.current;V$1!==null;){var st=V$1,it=st.child;if(V$1.flags&16){var at=st.deletions;if(at!==null){for(var ot=0;ot<at.length;ot++){var lt=at[ot];for(V$1=lt;V$1!==null;){var ct=V$1;switch(ct.tag){case 0:case 11:case 15:Qj(8,ct,st)}var ut=ct.child;if(ut!==null)ut.return=ct,V$1=ut;else for(;V$1!==null;){ct=V$1;var dt=ct.sibling,ft=ct.return;if(Tj(ct),ct===lt){V$1=null;break}if(dt!==null){dt.return=ft,V$1=dt;break}V$1=ft}}}var ht=st.alternate;if(ht!==null){var pt=ht.child;if(pt!==null){ht.child=null;do{var gt=pt.sibling;pt.sibling=null,pt=gt}while(pt!==null)}}V$1=st}}if(st.subtreeFlags&2064&&it!==null)it.return=st,V$1=it;else e:for(;V$1!==null;){if(st=V$1,st.flags&2048)switch(st.tag){case 0:case 11:case 15:Qj(9,st,st.return)}var mt=st.sibling;if(mt!==null){mt.return=st.return,V$1=mt;break e}V$1=st.return}}var bt=et.current;for(V$1=bt;V$1!==null;){it=V$1;var vt=it.child;if(it.subtreeFlags&2064&&vt!==null)vt.return=it,V$1=vt;else e:for(it=bt;V$1!==null;){if(at=V$1,at.flags&2048)try{switch(at.tag){case 0:case 11:case 15:Rj(9,at)}}catch(xt){W$1(at,at.return,xt)}if(at===it){V$1=null;break e}var yt=at.sibling;if(yt!==null){yt.return=at.return,V$1=yt;break e}V$1=at.return}}if(K=nt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,et)}catch{}rt=!0}return rt}finally{C$1=tt,pk.transition=_e}}return!1}function Yk(et,_e,tt){_e=Ki(tt,_e),_e=Oi(et,_e,1),et=dh(et,_e,1),_e=L$1(),et!==null&&(Ac(et,1,_e),Ek(et,_e))}function W$1(et,_e,tt){if(et.tag===3)Yk(et,et,tt);else for(;_e!==null;){if(_e.tag===3){Yk(_e,et,tt);break}else if(_e.tag===1){var rt=_e.stateNode;if(typeof _e.type.getDerivedStateFromError=="function"||typeof rt.componentDidCatch=="function"&&(Si===null||!Si.has(rt))){et=Ki(tt,et),et=Ri(_e,et,1),_e=dh(_e,et,1),et=L$1(),_e!==null&&(Ac(_e,1,et),Ek(_e,et));break}}_e=_e.return}}function Ui(et,_e,tt){var rt=et.pingCache;rt!==null&&rt.delete(_e),_e=L$1(),et.pingedLanes|=et.suspendedLanes&tt,R$1===et&&(Z$1&tt)===tt&&(T$1===4||T$1===3&&(Z$1&130023424)===Z$1&&500>B()-gk?Lk(et,0):sk|=tt),Ek(et,_e)}function Zk(et,_e){_e===0&&(et.mode&1?(_e=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):_e=1);var tt=L$1();et=Zg(et,_e),et!==null&&(Ac(et,_e,tt),Ek(et,tt))}function vj(et){var _e=et.memoizedState,tt=0;_e!==null&&(tt=_e.retryLane),Zk(et,tt)}function ck(et,_e){var tt=0;switch(et.tag){case 13:var rt=et.stateNode,nt=et.memoizedState;nt!==null&&(tt=nt.retryLane);break;case 19:rt=et.stateNode;break;default:throw Error(p$3(314))}rt!==null&&rt.delete(_e),Zk(et,tt)}var Wk;Wk=function(et,_e,tt){if(et!==null)if(et.memoizedProps!==_e.pendingProps||Wf.current)Ug=!0;else{if(!(et.lanes&tt)&&!(_e.flags&128))return Ug=!1,zj(et,_e,tt);Ug=!!(et.flags&131072)}else Ug=!1,I$1&&_e.flags&1048576&&ug(_e,ng,_e.index);switch(_e.lanes=0,_e.tag){case 2:var rt=_e.type;jj(et,_e),et=_e.pendingProps;var nt=Yf(_e,H$1.current);Tg(_e,tt),nt=Xh(null,_e,rt,et,nt,tt);var st=bi();return _e.flags|=1,typeof nt=="object"&&nt!==null&&typeof nt.render=="function"&&nt.$$typeof===void 0?(_e.tag=1,_e.memoizedState=null,_e.updateQueue=null,Zf(rt)?(st=!0,cg(_e)):st=!1,_e.memoizedState=nt.state!==null&&nt.state!==void 0?nt.state:null,ah(_e),nt.updater=nh,_e.stateNode=nt,nt._reactInternals=_e,rh(_e,rt,et,tt),_e=kj(null,_e,rt,!0,st,tt)):(_e.tag=0,I$1&&st&&vg(_e),Yi(null,_e,nt,tt),_e=_e.child),_e;case 16:rt=_e.elementType;e:{switch(jj(et,_e),et=_e.pendingProps,nt=rt._init,rt=nt(rt._payload),_e.type=rt,nt=_e.tag=$k(rt),et=Lg(rt,et),nt){case 0:_e=dj(null,_e,rt,et,tt);break e;case 1:_e=ij(null,_e,rt,et,tt);break e;case 11:_e=Zi(null,_e,rt,et,tt);break e;case 14:_e=aj(null,_e,rt,Lg(rt.type,et),tt);break e}throw Error(p$3(306,rt,""))}return _e;case 0:return rt=_e.type,nt=_e.pendingProps,nt=_e.elementType===rt?nt:Lg(rt,nt),dj(et,_e,rt,nt,tt);case 1:return rt=_e.type,nt=_e.pendingProps,nt=_e.elementType===rt?nt:Lg(rt,nt),ij(et,_e,rt,nt,tt);case 3:e:{if(lj(_e),et===null)throw Error(p$3(387));rt=_e.pendingProps,st=_e.memoizedState,nt=st.element,bh(et,_e),gh(_e,rt,null,tt);var it=_e.memoizedState;if(rt=it.element,st.isDehydrated)if(st={element:rt,isDehydrated:!1,cache:it.cache,pendingSuspenseBoundaries:it.pendingSuspenseBoundaries,transitions:it.transitions},_e.updateQueue.baseState=st,_e.memoizedState=st,_e.flags&256){nt=Ki(Error(p$3(423)),_e),_e=mj(et,_e,rt,tt,nt);break e}else if(rt!==nt){nt=Ki(Error(p$3(424)),_e),_e=mj(et,_e,rt,tt,nt);break e}else for(yg=Lf(_e.stateNode.containerInfo.firstChild),xg=_e,I$1=!0,zg=null,tt=Ch(_e,null,rt,tt),_e.child=tt;tt;)tt.flags=tt.flags&-3|4096,tt=tt.sibling;else{if(Ig(),rt===nt){_e=$i(et,_e,tt);break e}Yi(et,_e,rt,tt)}_e=_e.child}return _e;case 5:return Kh(_e),et===null&&Eg(_e),rt=_e.type,nt=_e.pendingProps,st=et!==null?et.memoizedProps:null,it=nt.children,Ef(rt,nt)?it=null:st!==null&&Ef(rt,st)&&(_e.flags|=32),hj(et,_e),Yi(et,_e,it,tt),_e.child;case 6:return et===null&&Eg(_e),null;case 13:return pj(et,_e,tt);case 4:return Ih(_e,_e.stateNode.containerInfo),rt=_e.pendingProps,et===null?_e.child=Bh(_e,null,rt,tt):Yi(et,_e,rt,tt),_e.child;case 11:return rt=_e.type,nt=_e.pendingProps,nt=_e.elementType===rt?nt:Lg(rt,nt),Zi(et,_e,rt,nt,tt);case 7:return Yi(et,_e,_e.pendingProps,tt),_e.child;case 8:return Yi(et,_e,_e.pendingProps.children,tt),_e.child;case 12:return Yi(et,_e,_e.pendingProps.children,tt),_e.child;case 10:e:{if(rt=_e.type._context,nt=_e.pendingProps,st=_e.memoizedProps,it=nt.value,G(Mg,rt._currentValue),rt._currentValue=it,st!==null)if(He(st.value,it)){if(st.children===nt.children&&!Wf.current){_e=$i(et,_e,tt);break e}}else for(st=_e.child,st!==null&&(st.return=_e);st!==null;){var at=st.dependencies;if(at!==null){it=st.child;for(var ot=at.firstContext;ot!==null;){if(ot.context===rt){if(st.tag===1){ot=ch(-1,tt&-tt),ot.tag=2;var lt=st.updateQueue;if(lt!==null){lt=lt.shared;var ct=lt.pending;ct===null?ot.next=ot:(ot.next=ct.next,ct.next=ot),lt.pending=ot}}st.lanes|=tt,ot=st.alternate,ot!==null&&(ot.lanes|=tt),Sg(st.return,tt,_e),at.lanes|=tt;break}ot=ot.next}}else if(st.tag===10)it=st.type===_e.type?null:st.child;else if(st.tag===18){if(it=st.return,it===null)throw Error(p$3(341));it.lanes|=tt,at=it.alternate,at!==null&&(at.lanes|=tt),Sg(it,tt,_e),it=st.sibling}else it=st.child;if(it!==null)it.return=st;else for(it=st;it!==null;){if(it===_e){it=null;break}if(st=it.sibling,st!==null){st.return=it.return,it=st;break}it=it.return}st=it}Yi(et,_e,nt.children,tt),_e=_e.child}return _e;case 9:return nt=_e.type,rt=_e.pendingProps.children,Tg(_e,tt),nt=Vg(nt),rt=rt(nt),_e.flags|=1,Yi(et,_e,rt,tt),_e.child;case 14:return rt=_e.type,nt=Lg(rt,_e.pendingProps),nt=Lg(rt.type,nt),aj(et,_e,rt,nt,tt);case 15:return cj(et,_e,_e.type,_e.pendingProps,tt);case 17:return rt=_e.type,nt=_e.pendingProps,nt=_e.elementType===rt?nt:Lg(rt,nt),jj(et,_e),_e.tag=1,Zf(rt)?(et=!0,cg(_e)):et=!1,Tg(_e,tt),ph(_e,rt,nt),rh(_e,rt,nt,tt),kj(null,_e,rt,!0,et,tt);case 19:return yj(et,_e,tt);case 22:return ej(et,_e,tt)}throw Error(p$3(156,_e.tag))};function Gk(et,_e){return ac(et,_e)}function al(et,_e,tt,rt){this.tag=et,this.key=tt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=_e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=rt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(et,_e,tt,rt){return new al(et,_e,tt,rt)}function bj(et){return et=et.prototype,!(!et||!et.isReactComponent)}function $k(et){if(typeof et=="function")return bj(et)?1:0;if(et!=null){if(et=et.$$typeof,et===Da)return 11;if(et===Ga)return 14}return 2}function wh(et,_e){var tt=et.alternate;return tt===null?(tt=Bg(et.tag,_e,et.key,et.mode),tt.elementType=et.elementType,tt.type=et.type,tt.stateNode=et.stateNode,tt.alternate=et,et.alternate=tt):(tt.pendingProps=_e,tt.type=et.type,tt.flags=0,tt.subtreeFlags=0,tt.deletions=null),tt.flags=et.flags&14680064,tt.childLanes=et.childLanes,tt.lanes=et.lanes,tt.child=et.child,tt.memoizedProps=et.memoizedProps,tt.memoizedState=et.memoizedState,tt.updateQueue=et.updateQueue,_e=et.dependencies,tt.dependencies=_e===null?null:{lanes:_e.lanes,firstContext:_e.firstContext},tt.sibling=et.sibling,tt.index=et.index,tt.ref=et.ref,tt}function yh(et,_e,tt,rt,nt,st){var it=2;if(rt=et,typeof et=="function")bj(et)&&(it=1);else if(typeof et=="string")it=5;else e:switch(et){case ya:return Ah(tt.children,nt,st,_e);case za:it=8,nt|=8;break;case Aa:return et=Bg(12,tt,_e,nt|2),et.elementType=Aa,et.lanes=st,et;case Ea:return et=Bg(13,tt,_e,nt),et.elementType=Ea,et.lanes=st,et;case Fa:return et=Bg(19,tt,_e,nt),et.elementType=Fa,et.lanes=st,et;case Ia:return qj(tt,nt,st,_e);default:if(typeof et=="object"&&et!==null)switch(et.$$typeof){case Ba:it=10;break e;case Ca:it=9;break e;case Da:it=11;break e;case Ga:it=14;break e;case Ha:it=16,rt=null;break e}throw Error(p$3(130,et==null?et:typeof et,""))}return _e=Bg(it,tt,_e,nt),_e.elementType=et,_e.type=rt,_e.lanes=st,_e}function Ah(et,_e,tt,rt){return et=Bg(7,et,rt,_e),et.lanes=tt,et}function qj(et,_e,tt,rt){return et=Bg(22,et,rt,_e),et.elementType=Ia,et.lanes=tt,et.stateNode={isHidden:!1},et}function xh(et,_e,tt){return et=Bg(6,et,null,_e),et.lanes=tt,et}function zh(et,_e,tt){return _e=Bg(4,et.children!==null?et.children:[],et.key,_e),_e.lanes=tt,_e.stateNode={containerInfo:et.containerInfo,pendingChildren:null,implementation:et.implementation},_e}function bl(et,_e,tt,rt,nt){this.tag=_e,this.containerInfo=et,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=rt,this.onRecoverableError=nt,this.mutableSourceEagerHydrationData=null}function cl(et,_e,tt,rt,nt,st,it,at,ot){return et=new bl(et,_e,tt,at,ot),_e===1?(_e=1,st===!0&&(_e|=8)):_e=0,st=Bg(3,null,null,_e),et.current=st,st.stateNode=et,st.memoizedState={element:rt,isDehydrated:tt,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(st),et}function dl(et,_e,tt){var rt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:rt==null?null:""+rt,children:et,containerInfo:_e,implementation:tt}}function el(et){if(!et)return Vf;et=et._reactInternals;e:{if(Vb(et)!==et||et.tag!==1)throw Error(p$3(170));var _e=et;do{switch(_e.tag){case 3:_e=_e.stateNode.context;break e;case 1:if(Zf(_e.type)){_e=_e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}_e=_e.return}while(_e!==null);throw Error(p$3(171))}if(et.tag===1){var tt=et.type;if(Zf(tt))return bg(et,tt,_e)}return _e}function fl(et,_e,tt,rt,nt,st,it,at,ot){return et=cl(tt,rt,!0,et,nt,st,it,at,ot),et.context=el(null),tt=et.current,rt=L$1(),nt=lh(tt),st=ch(rt,nt),st.callback=_e??null,dh(tt,st,nt),et.current.lanes=nt,Ac(et,nt,rt),Ek(et,rt),et}function gl(et,_e,tt,rt){var nt=_e.current,st=L$1(),it=lh(nt);return tt=el(tt),_e.context===null?_e.context=tt:_e.pendingContext=tt,_e=ch(st,it),_e.payload={element:et},rt=rt===void 0?null:rt,rt!==null&&(_e.callback=rt),et=dh(nt,_e,it),et!==null&&(mh(et,nt,it,st),eh(et,nt,it)),it}function hl(et){if(et=et.current,!et.child)return null;switch(et.child.tag){case 5:return et.child.stateNode;default:return et.child.stateNode}}function il(et,_e){if(et=et.memoizedState,et!==null&&et.dehydrated!==null){var tt=et.retryLane;et.retryLane=tt!==0&&tt<_e?tt:_e}}function jl(et,_e){il(et,_e),(et=et.alternate)&&il(et,_e)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(et){console.error(et)};function ml(et){this._internalRoot=et}nl.prototype.render=ml.prototype.render=function(et){var _e=this._internalRoot;if(_e===null)throw Error(p$3(409));gl(et,_e,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var et=this._internalRoot;if(et!==null){this._internalRoot=null;var _e=et.containerInfo;Sk(function(){gl(null,et,null,null)}),_e[uf]=null}};function nl(et){this._internalRoot=et}nl.prototype.unstable_scheduleHydration=function(et){if(et){var _e=Hc();et={blockedOn:null,target:et,priority:_e};for(var tt=0;tt<Qc.length&&_e!==0&&_e<Qc[tt].priority;tt++);Qc.splice(tt,0,et),tt===0&&Vc(et)}};function ol(et){return!(!et||et.nodeType!==1&&et.nodeType!==9&&et.nodeType!==11)}function pl(et){return!(!et||et.nodeType!==1&&et.nodeType!==9&&et.nodeType!==11&&(et.nodeType!==8||et.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(et,_e,tt,rt,nt){if(nt){if(typeof rt=="function"){var st=rt;rt=function(){var lt=hl(it);st.call(lt)}}var it=fl(_e,rt,et,0,null,!1,!1,"",ql);return et._reactRootContainer=it,et[uf]=it.current,sf(et.nodeType===8?et.parentNode:et),Sk(),it}for(;nt=et.lastChild;)et.removeChild(nt);if(typeof rt=="function"){var at=rt;rt=function(){var lt=hl(ot);at.call(lt)}}var ot=cl(et,0,!1,null,null,!1,!1,"",ql);return et._reactRootContainer=ot,et[uf]=ot.current,sf(et.nodeType===8?et.parentNode:et),Sk(function(){gl(_e,ot,tt,rt)}),ot}function sl(et,_e,tt,rt,nt){var st=tt._reactRootContainer;if(st){var it=st;if(typeof nt=="function"){var at=nt;nt=function(){var ot=hl(it);at.call(ot)}}gl(_e,it,et,nt)}else it=rl(tt,_e,et,nt,rt);return hl(it)}Ec=function(et){switch(et.tag){case 3:var _e=et.stateNode;if(_e.current.memoizedState.isDehydrated){var tt=tc(_e.pendingLanes);tt!==0&&(Cc(_e,tt|1),Ek(_e,B()),!(K&6)&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var rt=Zg(et,1);if(rt!==null){var nt=L$1();mh(rt,et,1,nt)}}),jl(et,1)}};Fc=function(et){if(et.tag===13){var _e=Zg(et,134217728);if(_e!==null){var tt=L$1();mh(_e,et,134217728,tt)}jl(et,134217728)}};Gc=function(et){if(et.tag===13){var _e=lh(et),tt=Zg(et,_e);if(tt!==null){var rt=L$1();mh(tt,et,_e,rt)}jl(et,_e)}};Hc=function(){return C$1};Ic=function(et,_e){var tt=C$1;try{return C$1=et,_e()}finally{C$1=tt}};yb=function(et,_e,tt){switch(_e){case"input":if(bb(et,tt),_e=tt.name,tt.type==="radio"&&_e!=null){for(tt=et;tt.parentNode;)tt=tt.parentNode;for(tt=tt.querySelectorAll("input[name="+JSON.stringify(""+_e)+'][type="radio"]'),_e=0;_e<tt.length;_e++){var rt=tt[_e];if(rt!==et&&rt.form===et.form){var nt=Db(rt);if(!nt)throw Error(p$3(90));Wa(rt),bb(rt,nt)}}}break;case"textarea":ib(et,tt);break;case"select":_e=tt.value,_e!=null&&fb(et,!!tt.multiple,_e,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(et){return et=Zb(et),et===null?null:et.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(et,_e){var tt=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(_e))throw Error(p$3(200));return dl(et,_e,null,tt)};reactDom_production_min.createRoot=function(et,_e){if(!ol(et))throw Error(p$3(299));var tt=!1,rt="",nt=ll;return _e!=null&&(_e.unstable_strictMode===!0&&(tt=!0),_e.identifierPrefix!==void 0&&(rt=_e.identifierPrefix),_e.onRecoverableError!==void 0&&(nt=_e.onRecoverableError)),_e=cl(et,1,!1,null,null,tt,!1,rt,nt),et[uf]=_e.current,sf(et.nodeType===8?et.parentNode:et),new ml(_e)};reactDom_production_min.findDOMNode=function(et){if(et==null)return null;if(et.nodeType===1)return et;var _e=et._reactInternals;if(_e===void 0)throw typeof et.render=="function"?Error(p$3(188)):(et=Object.keys(et).join(","),Error(p$3(268,et)));return et=Zb(_e),et=et===null?null:et.stateNode,et};reactDom_production_min.flushSync=function(et){return Sk(et)};reactDom_production_min.hydrate=function(et,_e,tt){if(!pl(_e))throw Error(p$3(200));return sl(null,et,_e,!0,tt)};reactDom_production_min.hydrateRoot=function(et,_e,tt){if(!ol(et))throw Error(p$3(405));var rt=tt!=null&&tt.hydratedSources||null,nt=!1,st="",it=ll;if(tt!=null&&(tt.unstable_strictMode===!0&&(nt=!0),tt.identifierPrefix!==void 0&&(st=tt.identifierPrefix),tt.onRecoverableError!==void 0&&(it=tt.onRecoverableError)),_e=fl(_e,null,et,1,tt??null,nt,!1,st,it),et[uf]=_e.current,sf(et),rt)for(et=0;et<rt.length;et++)tt=rt[et],nt=tt._getVersion,nt=nt(tt._source),_e.mutableSourceEagerHydrationData==null?_e.mutableSourceEagerHydrationData=[tt,nt]:_e.mutableSourceEagerHydrationData.push(tt,nt);return new nl(_e)};reactDom_production_min.render=function(et,_e,tt){if(!pl(_e))throw Error(p$3(200));return sl(null,et,_e,!1,tt)};reactDom_production_min.unmountComponentAtNode=function(et){if(!pl(et))throw Error(p$3(40));return et._reactRootContainer?(Sk(function(){sl(null,null,et,!1,function(){et._reactRootContainer=null,et[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(et,_e,tt,rt){if(!pl(tt))throw Error(p$3(200));if(et==null||et._reactInternals===void 0)throw Error(p$3(38));return sl(et,_e,tt,!1,rt)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(et){console.error(et)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const $1CM7W$reactdom=getDefaultExportFromCjs$1(reactDomExports);var m$2=reactDomExports;client.createRoot=m$2.createRoot,client.hydrateRoot=m$2.hydrateRoot;function createContext2$1(et={}){const{strict:_e=!0,errorMessage:tt="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:rt}=et,nt=reactExports.createContext(void 0);nt.displayName=rt;function st(){var it;const at=reactExports.useContext(nt);if(!at&&_e){const ot=new Error(tt);throw ot.name="ContextError",(it=Error.captureStackTrace)==null||it.call(Error,ot,st),ot}return at}return[nt.Provider,st,nt]}function createDOMRef(et){return{UNSAFE_getDOMNode(){return et.current}}}function useDOMRef$1(et){const _e=reactExports.useRef(null);return reactExports.useImperativeHandle(et,()=>_e.current),_e}var __DEV__=!1;function isArray$f(et){return Array.isArray(et)}function isEmptyArray(et){return isArray$f(et)&&et.length===0}function isObject$a(et){const _e=typeof et;return et!=null&&(_e==="object"||_e==="function")&&!isArray$f(et)}function isEmptyObject(et){return isObject$a(et)&&Object.keys(et).length===0}function isEmpty(et){return isArray$f(et)?isEmptyArray(et):isObject$a(et)?isEmptyObject(et):et==null||et===""}function isFunction$6(et){return typeof et=="function"}var dataAttr$1=et=>et?"true":void 0,safeText=et=>(et==null?void 0:et.length)<=4?et:et==null?void 0:et.slice(0,3),safeAriaLabel=(...et)=>{let _e=" ";for(const tt of et)if(typeof tt=="string"&&tt.length>0){_e=tt;break}return _e};function toVal$1(et){var _e,tt,rt="";if(typeof et=="string"||typeof et=="number")rt+=et;else if(typeof et=="object")if(Array.isArray(et))for(_e=0;_e<et.length;_e++)et[_e]&&(tt=toVal$1(et[_e]))&&(rt&&(rt+=" "),rt+=tt);else for(_e in et)et[_e]&&(rt&&(rt+=" "),rt+=_e);return rt}function clsx$2(...et){for(var _e=0,tt,rt,nt="";_e<et.length;)(tt=et[_e++])&&(rt=toVal$1(tt))&&(nt&&(nt+=" "),nt+=rt);return nt}var warningStack$1={};function warn$2(et,_e,...tt){const nt=`[Next UI]${_e?` [${_e}]`:" "}: ${et}`;typeof console>"u"||warningStack$1[nt]||(warningStack$1[nt]=!0)}var __create$1=Object.create,__defProp$1=Object.defineProperty,__getOwnPropDesc$1=Object.getOwnPropertyDescriptor,__getOwnPropNames$1=Object.getOwnPropertyNames,__getProtoOf$1=Object.getPrototypeOf,__hasOwnProp$1=Object.prototype.hasOwnProperty,__commonJS$1=(et,_e)=>function(){return _e||(0,et[__getOwnPropNames$1(et)[0]])((_e={exports:{}}).exports,_e),_e.exports},__copyProps$1=(et,_e,tt,rt)=>{if(_e&&typeof _e=="object"||typeof _e=="function")for(let nt of __getOwnPropNames$1(_e))!__hasOwnProp$1.call(et,nt)&&nt!==tt&&__defProp$1(et,nt,{get:()=>_e[nt],enumerable:!(rt=__getOwnPropDesc$1(_e,nt))||rt.enumerable});return et},__toESM$1=(et,_e,tt)=>(tt=et!=null?__create$1(__getProtoOf$1(et)):{},__copyProps$1(_e||!et||!et.__esModule?__defProp$1(tt,"default",{value:et,enumerable:!0}):tt,et)),require_react_production_min$1=__commonJS$1({"../../../node_modules/.pnpm/react@18.2.0/node_modules/react/cjs/react.production.min.js"(et){var _e=Symbol.for("react.element"),tt=Symbol.for("react.portal"),rt=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),st=Symbol.for("react.profiler"),it=Symbol.for("react.provider"),at=Symbol.for("react.context"),ot=Symbol.for("react.forward_ref"),lt=Symbol.for("react.suspense"),ct=Symbol.for("react.memo"),ut=Symbol.for("react.lazy"),dt=Symbol.iterator;function ft(_t){return _t===null||typeof _t!="object"?null:(_t=dt&&_t[dt]||_t["@@iterator"],typeof _t=="function"?_t:null)}var ht={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pt=Object.assign,gt={};function mt(_t,It,Wt){this.props=_t,this.context=It,this.refs=gt,this.updater=Wt||ht}mt.prototype.isReactComponent={},mt.prototype.setState=function(_t,It){if(typeof _t!="object"&&typeof _t!="function"&&_t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_t,It,"setState")},mt.prototype.forceUpdate=function(_t){this.updater.enqueueForceUpdate(this,_t,"forceUpdate")};function bt(){}bt.prototype=mt.prototype;function vt(_t,It,Wt){this.props=_t,this.context=It,this.refs=gt,this.updater=Wt||ht}var yt=vt.prototype=new bt;yt.constructor=vt,pt(yt,mt.prototype),yt.isPureReactComponent=!0;var xt=Array.isArray,Et=Object.prototype.hasOwnProperty,wt={current:null},$t={key:!0,ref:!0,__self:!0,__source:!0};function Tt(_t,It,Wt){var Kt,Bt={},Qt=null,Nt=null;if(It!=null)for(Kt in It.ref!==void 0&&(Nt=It.ref),It.key!==void 0&&(Qt=""+It.key),It)Et.call(It,Kt)&&!$t.hasOwnProperty(Kt)&&(Bt[Kt]=It[Kt]);var Xt=arguments.length-2;if(Xt===1)Bt.children=Wt;else if(1<Xt){for(var Zt=Array(Xt),Yt=0;Yt<Xt;Yt++)Zt[Yt]=arguments[Yt+2];Bt.children=Zt}if(_t&&_t.defaultProps)for(Kt in Xt=_t.defaultProps,Xt)Bt[Kt]===void 0&&(Bt[Kt]=Xt[Kt]);return{$$typeof:_e,type:_t,key:Qt,ref:Nt,props:Bt,_owner:wt.current}}function St(_t,It){return{$$typeof:_e,type:_t.type,key:It,ref:_t.ref,props:_t.props,_owner:_t._owner}}function Pt(_t){return typeof _t=="object"&&_t!==null&&_t.$$typeof===_e}function At(_t){var It={"=":"=0",":":"=2"};return"$"+_t.replace(/[=:]/g,function(Wt){return It[Wt]})}var Rt=/\/+/g;function Ct(_t,It){return typeof _t=="object"&&_t!==null&&_t.key!=null?At(""+_t.key):It.toString(36)}function Dt(_t,It,Wt,Kt,Bt){var Qt=typeof _t;(Qt==="undefined"||Qt==="boolean")&&(_t=null);var Nt=!1;if(_t===null)Nt=!0;else switch(Qt){case"string":case"number":Nt=!0;break;case"object":switch(_t.$$typeof){case _e:case tt:Nt=!0}}if(Nt)return Nt=_t,Bt=Bt(Nt),_t=Kt===""?"."+Ct(Nt,0):Kt,xt(Bt)?(Wt="",_t!=null&&(Wt=_t.replace(Rt,"$&/")+"/"),Dt(Bt,It,Wt,"",function(Yt){return Yt})):Bt!=null&&(Pt(Bt)&&(Bt=St(Bt,Wt+(!Bt.key||Nt&&Nt.key===Bt.key?"":(""+Bt.key).replace(Rt,"$&/")+"/")+_t)),It.push(Bt)),1;if(Nt=0,Kt=Kt===""?".":Kt+":",xt(_t))for(var Xt=0;Xt<_t.length;Xt++){Qt=_t[Xt];var Zt=Kt+Ct(Qt,Xt);Nt+=Dt(Qt,It,Wt,Zt,Bt)}else if(Zt=ft(_t),typeof Zt=="function")for(_t=Zt.call(_t),Xt=0;!(Qt=_t.next()).done;)Qt=Qt.value,Zt=Kt+Ct(Qt,Xt++),Nt+=Dt(Qt,It,Wt,Zt,Bt);else if(Qt==="object")throw It=String(_t),Error("Objects are not valid as a React child (found: "+(It==="[object Object]"?"object with keys {"+Object.keys(_t).join(", ")+"}":It)+"). If you meant to render a collection of children, use an array instead.");return Nt}function Ft(_t,It,Wt){if(_t==null)return _t;var Kt=[],Bt=0;return Dt(_t,Kt,"","",function(Qt){return It.call(Wt,Qt,Bt++)}),Kt}function Mt(_t){if(_t._status===-1){var It=_t._result;It=It(),It.then(function(Wt){(_t._status===0||_t._status===-1)&&(_t._status=1,_t._result=Wt)},function(Wt){(_t._status===0||_t._status===-1)&&(_t._status=2,_t._result=Wt)}),_t._status===-1&&(_t._status=0,_t._result=It)}if(_t._status===1)return _t._result.default;throw _t._result}var Ot={current:null},jt={transition:null},Ut={ReactCurrentDispatcher:Ot,ReactCurrentBatchConfig:jt,ReactCurrentOwner:wt};et.Children={map:Ft,forEach:function(_t,It,Wt){Ft(_t,function(){It.apply(this,arguments)},Wt)},count:function(_t){var It=0;return Ft(_t,function(){It++}),It},toArray:function(_t){return Ft(_t,function(It){return It})||[]},only:function(_t){if(!Pt(_t))throw Error("React.Children.only expected to receive a single React element child.");return _t}},et.Component=mt,et.Fragment=rt,et.Profiler=st,et.PureComponent=vt,et.StrictMode=nt,et.Suspense=lt,et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ut,et.cloneElement=function(_t,It,Wt){if(_t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_t+".");var Kt=pt({},_t.props),Bt=_t.key,Qt=_t.ref,Nt=_t._owner;if(It!=null){if(It.ref!==void 0&&(Qt=It.ref,Nt=wt.current),It.key!==void 0&&(Bt=""+It.key),_t.type&&_t.type.defaultProps)var Xt=_t.type.defaultProps;for(Zt in It)Et.call(It,Zt)&&!$t.hasOwnProperty(Zt)&&(Kt[Zt]=It[Zt]===void 0&&Xt!==void 0?Xt[Zt]:It[Zt])}var Zt=arguments.length-2;if(Zt===1)Kt.children=Wt;else if(1<Zt){Xt=Array(Zt);for(var Yt=0;Yt<Zt;Yt++)Xt[Yt]=arguments[Yt+2];Kt.children=Xt}return{$$typeof:_e,type:_t.type,key:Bt,ref:Qt,props:Kt,_owner:Nt}},et.createContext=function(_t){return _t={$$typeof:at,_currentValue:_t,_currentValue2:_t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_t.Provider={$$typeof:it,_context:_t},_t.Consumer=_t},et.createElement=Tt,et.createFactory=function(_t){var It=Tt.bind(null,_t);return It.type=_t,It},et.createRef=function(){return{current:null}},et.forwardRef=function(_t){return{$$typeof:ot,render:_t}},et.isValidElement=Pt,et.lazy=function(_t){return{$$typeof:ut,_payload:{_status:-1,_result:_t},_init:Mt}},et.memo=function(_t,It){return{$$typeof:ct,type:_t,compare:It===void 0?null:It}},et.startTransition=function(_t){var It=jt.transition;jt.transition={};try{_t()}finally{jt.transition=It}},et.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},et.useCallback=function(_t,It){return Ot.current.useCallback(_t,It)},et.useContext=function(_t){return Ot.current.useContext(_t)},et.useDebugValue=function(){},et.useDeferredValue=function(_t){return Ot.current.useDeferredValue(_t)},et.useEffect=function(_t,It){return Ot.current.useEffect(_t,It)},et.useId=function(){return Ot.current.useId()},et.useImperativeHandle=function(_t,It,Wt){return Ot.current.useImperativeHandle(_t,It,Wt)},et.useInsertionEffect=function(_t,It){return Ot.current.useInsertionEffect(_t,It)},et.useLayoutEffect=function(_t,It){return Ot.current.useLayoutEffect(_t,It)},et.useMemo=function(_t,It){return Ot.current.useMemo(_t,It)},et.useReducer=function(_t,It,Wt){return Ot.current.useReducer(_t,It,Wt)},et.useRef=function(_t){return Ot.current.useRef(_t)},et.useState=function(_t){return Ot.current.useState(_t)},et.useSyncExternalStore=function(_t,It,Wt){return Ot.current.useSyncExternalStore(_t,It,Wt)},et.useTransition=function(){return Ot.current.useTransition()},et.version="18.2.0"}}),require_react$1=__commonJS$1({"../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"(et,_e){_e.exports=require_react_production_min$1()}}),import_react$1=__toESM$1(require_react$1()),capitalize=et=>et?et.charAt(0).toUpperCase()+et.slice(1).toLowerCase():"";function getUniqueID$1(et){return`${et}-${Math.floor(Math.random()*1e6)}`}function removeEvents(et){for(const _e in et)_e.startsWith("on")&&delete et[_e];return et}function objectToDeps$1(et){if(!et||typeof et!="object")return"";try{return JSON.stringify(et)}catch{return""}}var isReact19$1=()=>import_react$1.default.version.split(".")[0]==="19",getInertValue$1=et=>isReact19$1()?et:et?"":void 0;/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *//**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function clamp$2(et,_e,tt){return Math.min(Math.max(et,_e),tt)}function assignRef$1(et,_e){if(et!=null){if(isFunction$6(et)){et(_e);return}try{et.current=_e}catch{throw new Error(`Cannot assign value '${_e}' to ref '${et}'`)}}}function mergeRefs$1(...et){return _e=>{et.forEach(tt=>assignRef$1(tt,_e))}}var pickChildren=(et,_e)=>{var tt;let rt=[];const nt=(tt=reactExports.Children.map(et,it=>reactExports.isValidElement(it)&&it.type===_e?(rt.push(it),null):it))==null?void 0:tt.filter(Boolean),st=rt.length>=0?rt:void 0;return[nt,st]},DOMPropNames$1=new Set(["id","type","style","title","role","tabIndex","htmlFor","width","height","abbr","accept","acceptCharset","accessKey","action","allowFullScreen","allowTransparency","alt","async","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","challenge","charset","checked","cite","class","className","cols","colSpan","command","content","contentEditable","contextMenu","controls","coords","crossOrigin","data","dateTime","default","defer","dir","disabled","download","draggable","dropzone","encType","enterKeyHint","for","form","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","headers","hidden","high","href","hrefLang","httpEquiv","icon","inputMode","isMap","itemId","itemProp","itemRef","itemScope","itemType","kind","label","lang","list","loop","manifest","max","maxLength","media","mediaGroup","method","min","minLength","multiple","muted","name","noValidate","open","optimum","pattern","ping","placeholder","poster","preload","radioGroup","referrerPolicy","readOnly","rel","required","rows","rowSpan","sandbox","scope","scoped","scrolling","seamless","selected","shape","size","sizes","slot","sortable","span","spellCheck","src","srcDoc","srcSet","start","step","target","translate","typeMustMatch","useMap","value","wmode","wrap"]),DOMEventNames$1=new Set(["onCopy","onCut","onPaste","onLoad","onError","onWheel","onScroll","onCompositionEnd","onCompositionStart","onCompositionUpdate","onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onSubmit","onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onPointerDown","onPointerEnter","onPointerLeave","onPointerUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onAnimationStart","onAnimationEnd","onAnimationIteration","onTransitionEnd"]),propRe$1=/^(data-.*)$/,ariaRe$1=/^(aria-.*)$/,funcRe$1=/^(on[A-Z].*)$/;function filterDOMProps$1(et,_e={}){let{labelable:tt=!0,enabled:rt=!0,propNames:nt,omitPropNames:st,omitEventNames:it,omitDataProps:at,omitEventProps:ot}=_e,lt={};if(!rt)return et;for(const ct in et)st!=null&&st.has(ct)||it!=null&&it.has(ct)&&funcRe$1.test(ct)||funcRe$1.test(ct)&&!DOMEventNames$1.has(ct)||at&&propRe$1.test(ct)||ot&&funcRe$1.test(ct)||(Object.prototype.hasOwnProperty.call(et,ct)&&(DOMPropNames$1.has(ct)||tt&&ariaRe$1.test(ct)||nt!=null&&nt.has(ct)||propRe$1.test(ct))||funcRe$1.test(ct))&&(lt[ct]=et[ct]);return lt}var[ProviderContext$1,useProviderContext$1]=createContext2$1({name:"ProviderContext",strict:!1});const $148a7a147e38ea7f$var$RTL_SCRIPTS=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),$148a7a147e38ea7f$var$RTL_LANGS=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function $148a7a147e38ea7f$export$702d680b21cbd764(et){if(Intl.Locale){let tt=new Intl.Locale(et).maximize(),rt=typeof tt.getTextInfo=="function"?tt.getTextInfo():tt.textInfo;if(rt)return rt.direction==="rtl";if(tt.script)return $148a7a147e38ea7f$var$RTL_SCRIPTS.has(tt.script)}let _e=et.split("-")[0];return $148a7a147e38ea7f$var$RTL_LANGS.has(_e)}const $b5e257d569688ac6$var$defaultContext={prefix:String(Math.round(Math.random()*1e10)),current:0},$b5e257d569688ac6$var$SSRContext=React.createContext($b5e257d569688ac6$var$defaultContext),$b5e257d569688ac6$var$IsSSRContext=React.createContext(!1);let $b5e257d569688ac6$var$canUseDOM=!!(typeof window<"u"&&window.document&&window.document.createElement),$b5e257d569688ac6$var$componentIds=new WeakMap;function $b5e257d569688ac6$var$useCounter(et=!1){let _e=reactExports.useContext($b5e257d569688ac6$var$SSRContext),tt=reactExports.useRef(null);if(tt.current===null&&!et){var rt,nt;let st=(nt=React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||nt===void 0||(rt=nt.ReactCurrentOwner)===null||rt===void 0?void 0:rt.current;if(st){let it=$b5e257d569688ac6$var$componentIds.get(st);it==null?$b5e257d569688ac6$var$componentIds.set(st,{id:_e.current,state:st.memoizedState}):st.memoizedState!==it.state&&(_e.current=it.id,$b5e257d569688ac6$var$componentIds.delete(st))}tt.current=++_e.current}return tt.current}function $b5e257d569688ac6$var$useLegacySSRSafeId(et){let _e=reactExports.useContext($b5e257d569688ac6$var$SSRContext);_e===$b5e257d569688ac6$var$defaultContext&&!$b5e257d569688ac6$var$canUseDOM&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let tt=$b5e257d569688ac6$var$useCounter(!!et),rt=`react-aria${_e.prefix}`;return et||`${rt}-${tt}`}function $b5e257d569688ac6$var$useModernSSRSafeId(et){let _e=React.useId(),[tt]=reactExports.useState($b5e257d569688ac6$export$535bd6ca7f90a273()),rt=tt?"react-aria":`react-aria${$b5e257d569688ac6$var$defaultContext.prefix}`;return et||`${rt}-${_e}`}const $b5e257d569688ac6$export$619500959fc48b26=typeof React.useId=="function"?$b5e257d569688ac6$var$useModernSSRSafeId:$b5e257d569688ac6$var$useLegacySSRSafeId;function $b5e257d569688ac6$var$getSnapshot(){return!1}function $b5e257d569688ac6$var$getServerSnapshot(){return!0}function $b5e257d569688ac6$var$subscribe(et){return()=>{}}function $b5e257d569688ac6$export$535bd6ca7f90a273(){return typeof React.useSyncExternalStore=="function"?React.useSyncExternalStore($b5e257d569688ac6$var$subscribe,$b5e257d569688ac6$var$getSnapshot,$b5e257d569688ac6$var$getServerSnapshot):reactExports.useContext($b5e257d569688ac6$var$IsSSRContext)}const $1e5a04cdaf7d1af8$var$localeSymbol=Symbol.for("react-aria.i18n.locale");function $1e5a04cdaf7d1af8$export$f09106e7c6677ec5(){let et=typeof window<"u"&&window[$1e5a04cdaf7d1af8$var$localeSymbol]||typeof navigator<"u"&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([et])}catch{et="en-US"}return{locale:et,direction:$148a7a147e38ea7f$export$702d680b21cbd764(et)?"rtl":"ltr"}}let $1e5a04cdaf7d1af8$var$currentLocale=$1e5a04cdaf7d1af8$export$f09106e7c6677ec5(),$1e5a04cdaf7d1af8$var$listeners=new Set;function $1e5a04cdaf7d1af8$var$updateLocale(){$1e5a04cdaf7d1af8$var$currentLocale=$1e5a04cdaf7d1af8$export$f09106e7c6677ec5();for(let et of $1e5a04cdaf7d1af8$var$listeners)et($1e5a04cdaf7d1af8$var$currentLocale)}function $1e5a04cdaf7d1af8$export$188ec29ebc2bdc3a(){let et=$b5e257d569688ac6$export$535bd6ca7f90a273(),[_e,tt]=reactExports.useState($1e5a04cdaf7d1af8$var$currentLocale);return reactExports.useEffect(()=>($1e5a04cdaf7d1af8$var$listeners.size===0&&window.addEventListener("languagechange",$1e5a04cdaf7d1af8$var$updateLocale),$1e5a04cdaf7d1af8$var$listeners.add(tt),()=>{$1e5a04cdaf7d1af8$var$listeners.delete(tt),$1e5a04cdaf7d1af8$var$listeners.size===0&&window.removeEventListener("languagechange",$1e5a04cdaf7d1af8$var$updateLocale)}),[]),et?{locale:"en-US",direction:"ltr"}:_e}const $18f2051aff69b9bf$var$I18nContext=React.createContext(null);function $18f2051aff69b9bf$export$43bb16f9c6d9e3f7(){let et=$1e5a04cdaf7d1af8$export$188ec29ebc2bdc3a();return reactExports.useContext($18f2051aff69b9bf$var$I18nContext)||et}const $5b160d28a433310d$var$localeSymbol=Symbol.for("react-aria.i18n.locale"),$5b160d28a433310d$var$stringsSymbol=Symbol.for("react-aria.i18n.strings");let $5b160d28a433310d$var$cachedGlobalStrings;class $5b160d28a433310d$export$c17fa47878dc55b6{getStringForLocale(_e,tt){let nt=this.getStringsForLocale(tt)[_e];if(!nt)throw new Error(`Could not find intl message ${_e} in ${tt} locale`);return nt}getStringsForLocale(_e){let tt=this.strings[_e];return tt||(tt=$5b160d28a433310d$var$getStringsForLocale(_e,this.strings,this.defaultLocale),this.strings[_e]=tt),tt}static getGlobalDictionaryForPackage(_e){if(typeof window>"u")return null;let tt=window[$5b160d28a433310d$var$localeSymbol];if($5b160d28a433310d$var$cachedGlobalStrings===void 0){let nt=window[$5b160d28a433310d$var$stringsSymbol];if(!nt)return null;$5b160d28a433310d$var$cachedGlobalStrings={};for(let st in nt)$5b160d28a433310d$var$cachedGlobalStrings[st]=new $5b160d28a433310d$export$c17fa47878dc55b6({[tt]:nt[st]},tt)}let rt=$5b160d28a433310d$var$cachedGlobalStrings==null?void 0:$5b160d28a433310d$var$cachedGlobalStrings[_e];if(!rt)throw new Error(`Strings for package "${_e}" were not included by LocalizedStringProvider. Please add it to the list passed to createLocalizedStringDictionary.`);return rt}constructor(_e,tt="en-US"){this.strings=Object.fromEntries(Object.entries(_e).filter(([,rt])=>rt)),this.defaultLocale=tt}}function $5b160d28a433310d$var$getStringsForLocale(et,_e,tt="en-US"){if(_e[et])return _e[et];let rt=$5b160d28a433310d$var$getLanguage(et);if(_e[rt])return _e[rt];for(let nt in _e)if(nt.startsWith(rt+"-"))return _e[nt];return _e[tt]}function $5b160d28a433310d$var$getLanguage(et){return Intl.Locale?new Intl.Locale(et).language:et.split("-")[0]}const $6db58dc88e78b024$var$pluralRulesCache=new Map,$6db58dc88e78b024$var$numberFormatCache=new Map;class $6db58dc88e78b024$export$2f817fcdc4b89ae0{format(_e,tt){let rt=this.strings.getStringForLocale(_e,this.locale);return typeof rt=="function"?rt(tt,this):rt}plural(_e,tt,rt="cardinal"){let nt=tt["="+_e];if(nt)return typeof nt=="function"?nt():nt;let st=this.locale+":"+rt,it=$6db58dc88e78b024$var$pluralRulesCache.get(st);it||(it=new Intl.PluralRules(this.locale,{type:rt}),$6db58dc88e78b024$var$pluralRulesCache.set(st,it));let at=it.select(_e);return nt=tt[at]||tt.other,typeof nt=="function"?nt():nt}number(_e){let tt=$6db58dc88e78b024$var$numberFormatCache.get(this.locale);return tt||(tt=new Intl.NumberFormat(this.locale),$6db58dc88e78b024$var$numberFormatCache.set(this.locale,tt)),tt.format(_e)}select(_e,tt){let rt=_e[tt]||_e.other;return typeof rt=="function"?rt():rt}constructor(_e,tt){this.locale=_e,this.strings=tt}}const $fca6afa0e843324b$var$cache=new WeakMap;function $fca6afa0e843324b$var$getCachedDictionary(et){let _e=$fca6afa0e843324b$var$cache.get(et);return _e||(_e=new $5b160d28a433310d$export$c17fa47878dc55b6(et),$fca6afa0e843324b$var$cache.set(et,_e)),_e}function $fca6afa0e843324b$export$87b761675e8eaa10(et,_e){return _e&&$5b160d28a433310d$export$c17fa47878dc55b6.getGlobalDictionaryForPackage(_e)||$fca6afa0e843324b$var$getCachedDictionary(et)}function $fca6afa0e843324b$export$f12b703ca79dfbb1(et,_e){let{locale:tt}=$18f2051aff69b9bf$export$43bb16f9c6d9e3f7(),rt=$fca6afa0e843324b$export$87b761675e8eaa10(et,_e);return reactExports.useMemo(()=>new $6db58dc88e78b024$export$2f817fcdc4b89ae0(tt,rt),[tt,rt])}function _check_private_redeclaration(et,_e){if(_e.has(et))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _class_private_field_init(et,_e,tt){_check_private_redeclaration(et,_e),_e.set(et,tt)}const $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c=typeof document<"u"?React.useLayoutEffect:()=>{};function $8ae05eaa5c114e9c$export$7f54fc3180508a52(et){const _e=reactExports.useRef(null);return $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{_e.current=et},[et]),reactExports.useCallback((...tt)=>{const rt=_e.current;return rt==null?void 0:rt(...tt)},[])}function $1dbecbe27a04f9af$export$14d238f342723f25(et){let[_e,tt]=reactExports.useState(et),rt=reactExports.useRef(null),nt=$8ae05eaa5c114e9c$export$7f54fc3180508a52(()=>{if(!rt.current)return;let it=rt.current.next();if(it.done){rt.current=null;return}_e===it.value?nt():tt(it.value)});$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{rt.current&&nt()});let st=$8ae05eaa5c114e9c$export$7f54fc3180508a52(it=>{rt.current=it(_e),nt()});return[_e,st]}let $bdb11010cef70236$var$canUseDOM=!!(typeof window<"u"&&window.document&&window.document.createElement),$bdb11010cef70236$var$idsUpdaterMap=new Map;function $bdb11010cef70236$export$f680877a34711e37(et){let[_e,tt]=reactExports.useState(et),rt=reactExports.useRef(null),nt=$b5e257d569688ac6$export$619500959fc48b26(_e),st=reactExports.useCallback(it=>{rt.current=it},[]);return $bdb11010cef70236$var$canUseDOM&&($bdb11010cef70236$var$idsUpdaterMap.has(nt)&&!$bdb11010cef70236$var$idsUpdaterMap.get(nt).includes(st)?$bdb11010cef70236$var$idsUpdaterMap.set(nt,[...$bdb11010cef70236$var$idsUpdaterMap.get(nt),st]):$bdb11010cef70236$var$idsUpdaterMap.set(nt,[st])),$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{let it=nt;return()=>{$bdb11010cef70236$var$idsUpdaterMap.delete(it)}},[nt]),reactExports.useEffect(()=>{let it=rt.current;it&&(rt.current=null,tt(it))}),nt}function $bdb11010cef70236$export$cd8c9cb68f842629(et,_e){if(et===_e)return et;let tt=$bdb11010cef70236$var$idsUpdaterMap.get(et);if(tt)return tt.forEach(nt=>nt(_e)),_e;let rt=$bdb11010cef70236$var$idsUpdaterMap.get(_e);return rt?(rt.forEach(nt=>nt(et)),et):_e}function $bdb11010cef70236$export$b4cc09c592e8fdb8(et=[]){let _e=$bdb11010cef70236$export$f680877a34711e37(),[tt,rt]=$1dbecbe27a04f9af$export$14d238f342723f25(_e),nt=reactExports.useCallback(()=>{rt(function*(){yield _e,yield document.getElementById(_e)?_e:void 0})},[_e,rt]);return $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(nt,[_e,nt,...et]),tt}function $ff5963eb1fccf552$export$e08e3b67e392101e(...et){return(..._e)=>{for(let tt of et)typeof tt=="function"&&tt(..._e)}}const $431fbd86ca7dc216$export$b204af158042fbac=et=>{var _e;return(_e=et==null?void 0:et.ownerDocument)!==null&&_e!==void 0?_e:document},$431fbd86ca7dc216$export$f21a1ffae260145a=et=>et&&"window"in et&&et.window===et?et:$431fbd86ca7dc216$export$b204af158042fbac(et).defaultView||window;function r$3(et){var _e,tt,rt="";if(typeof et=="string"||typeof et=="number")rt+=et;else if(typeof et=="object")if(Array.isArray(et)){var nt=et.length;for(_e=0;_e<nt;_e++)et[_e]&&(tt=r$3(et[_e]))&&(rt&&(rt+=" "),rt+=tt)}else for(tt in et)et[tt]&&(rt&&(rt+=" "),rt+=tt);return rt}function clsx$1(){for(var et,_e,tt=0,rt="",nt=arguments.length;tt<nt;tt++)(et=arguments[tt])&&(_e=r$3(et))&&(rt&&(rt+=" "),rt+=_e);return rt}function $3ef42575df84b30b$export$9d1611c77c2fe928(...et){let _e={...et[0]};for(let tt=1;tt<et.length;tt++){let rt=et[tt];for(let nt in rt){let st=_e[nt],it=rt[nt];typeof st=="function"&&typeof it=="function"&&nt[0]==="o"&&nt[1]==="n"&&nt.charCodeAt(2)>=65&&nt.charCodeAt(2)<=90?_e[nt]=$ff5963eb1fccf552$export$e08e3b67e392101e(st,it):(nt==="className"||nt==="UNSAFE_className")&&typeof st=="string"&&typeof it=="string"?_e[nt]=clsx$1(st,it):nt==="id"&&st&&it?_e.id=$bdb11010cef70236$export$cd8c9cb68f842629(st,it):_e[nt]=it!==void 0?it:st}}return _e}function $5dc95899b306f630$export$c9058316764c140e(...et){return et.length===1&&et[0]?et[0]:_e=>{for(let tt of et)typeof tt=="function"?tt(_e):tt!=null&&(tt.current=_e)}}const $65484d02dcb7eb3e$var$DOMPropNames=new Set(["id"]),$65484d02dcb7eb3e$var$labelablePropNames=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),$65484d02dcb7eb3e$var$linkPropNames=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),$65484d02dcb7eb3e$var$propRe=/^(data-.*)$/;function $65484d02dcb7eb3e$export$457c3d6518dd4c6f(et,_e={}){let{labelable:tt,isLink:rt,propNames:nt}=_e,st={};for(const it in et)Object.prototype.hasOwnProperty.call(et,it)&&($65484d02dcb7eb3e$var$DOMPropNames.has(it)||tt&&$65484d02dcb7eb3e$var$labelablePropNames.has(it)||rt&&$65484d02dcb7eb3e$var$linkPropNames.has(it)||nt!=null&&nt.has(it)||$65484d02dcb7eb3e$var$propRe.test(it))&&(st[it]=et[it]);return st}function $7215afc6de606d6b$export$de79e2c695e052f3(et){if($7215afc6de606d6b$var$supportsPreventScroll())et.focus({preventScroll:!0});else{let _e=$7215afc6de606d6b$var$getScrollableElements(et);et.focus(),$7215afc6de606d6b$var$restoreScrollPosition(_e)}}let $7215afc6de606d6b$var$supportsPreventScrollCached=null;function $7215afc6de606d6b$var$supportsPreventScroll(){if($7215afc6de606d6b$var$supportsPreventScrollCached==null){$7215afc6de606d6b$var$supportsPreventScrollCached=!1;try{document.createElement("div").focus({get preventScroll(){return $7215afc6de606d6b$var$supportsPreventScrollCached=!0,!0}})}catch{}}return $7215afc6de606d6b$var$supportsPreventScrollCached}function $7215afc6de606d6b$var$getScrollableElements(et){let _e=et.parentNode,tt=[],rt=document.scrollingElement||document.documentElement;for(;_e instanceof HTMLElement&&_e!==rt;)(_e.offsetHeight<_e.scrollHeight||_e.offsetWidth<_e.scrollWidth)&&tt.push({element:_e,scrollTop:_e.scrollTop,scrollLeft:_e.scrollLeft}),_e=_e.parentNode;return rt instanceof HTMLElement&&tt.push({element:rt,scrollTop:rt.scrollTop,scrollLeft:rt.scrollLeft}),tt}function $7215afc6de606d6b$var$restoreScrollPosition(et){for(let{element:_e,scrollTop:tt,scrollLeft:rt}of et)_e.scrollTop=tt,_e.scrollLeft=rt}function $c87311424ea30a05$var$testUserAgent(et){var _e;return typeof window>"u"||window.navigator==null?!1:((_e=window.navigator.userAgentData)===null||_e===void 0?void 0:_e.brands.some(tt=>et.test(tt.brand)))||et.test(window.navigator.userAgent)}function $c87311424ea30a05$var$testPlatform(et){var _e;return typeof window<"u"&&window.navigator!=null?et.test(((_e=window.navigator.userAgentData)===null||_e===void 0?void 0:_e.platform)||window.navigator.platform):!1}function $c87311424ea30a05$var$cached(et){let _e=null;return()=>(_e==null&&(_e=et()),_e)}const $c87311424ea30a05$export$9ac100e40613ea10=$c87311424ea30a05$var$cached(function(){return $c87311424ea30a05$var$testPlatform(/^Mac/i)}),$c87311424ea30a05$export$186c6964ca17d99=$c87311424ea30a05$var$cached(function(){return $c87311424ea30a05$var$testPlatform(/^iPhone/i)}),$c87311424ea30a05$export$7bef049ce92e4224=$c87311424ea30a05$var$cached(function(){return $c87311424ea30a05$var$testPlatform(/^iPad/i)||$c87311424ea30a05$export$9ac100e40613ea10()&&navigator.maxTouchPoints>1}),$c87311424ea30a05$export$fedb369cb70207f1=$c87311424ea30a05$var$cached(function(){return $c87311424ea30a05$export$186c6964ca17d99()||$c87311424ea30a05$export$7bef049ce92e4224()}),$c87311424ea30a05$export$e1865c3bedcd822b=$c87311424ea30a05$var$cached(function(){return $c87311424ea30a05$export$9ac100e40613ea10()||$c87311424ea30a05$export$fedb369cb70207f1()}),$c87311424ea30a05$export$78551043582a6a98=$c87311424ea30a05$var$cached(function(){return $c87311424ea30a05$var$testUserAgent(/AppleWebKit/i)&&!$c87311424ea30a05$export$6446a186d09e379e()}),$c87311424ea30a05$export$6446a186d09e379e=$c87311424ea30a05$var$cached(function(){return $c87311424ea30a05$var$testUserAgent(/Chrome/i)}),$c87311424ea30a05$export$a11b0059900ceec8=$c87311424ea30a05$var$cached(function(){return $c87311424ea30a05$var$testUserAgent(/Android/i)}),$c87311424ea30a05$export$b7d78993b74f766d=$c87311424ea30a05$var$cached(function(){return $c87311424ea30a05$var$testUserAgent(/Firefox/i)}),$ea8dcbcb9ea1b556$var$RouterContext=reactExports.createContext({isNative:!0,open:$ea8dcbcb9ea1b556$var$openSyntheticLink,useHref:et=>et});function $ea8dcbcb9ea1b556$export$9a302a45f65d0572(){return reactExports.useContext($ea8dcbcb9ea1b556$var$RouterContext)}function $ea8dcbcb9ea1b556$export$95185d699e05d4d7(et,_e,tt=!0){var rt,nt;let{metaKey:st,ctrlKey:it,altKey:at,shiftKey:ot}=_e;$c87311424ea30a05$export$b7d78993b74f766d()&&(!((nt=window.event)===null||nt===void 0||(rt=nt.type)===null||rt===void 0)&&rt.startsWith("key"))&&et.target==="_blank"&&($c87311424ea30a05$export$9ac100e40613ea10()?st=!0:it=!0);let lt=$c87311424ea30a05$export$78551043582a6a98()&&$c87311424ea30a05$export$9ac100e40613ea10()&&!$c87311424ea30a05$export$7bef049ce92e4224()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:st,ctrlKey:it,altKey:at,shiftKey:ot}):new MouseEvent("click",{metaKey:st,ctrlKey:it,altKey:at,shiftKey:ot,bubbles:!0,cancelable:!0});$ea8dcbcb9ea1b556$export$95185d699e05d4d7.isOpening=tt,$7215afc6de606d6b$export$de79e2c695e052f3(et),et.dispatchEvent(lt),$ea8dcbcb9ea1b556$export$95185d699e05d4d7.isOpening=!1}$ea8dcbcb9ea1b556$export$95185d699e05d4d7.isOpening=!1;function $ea8dcbcb9ea1b556$var$getSyntheticLink(et,_e){if(et instanceof HTMLAnchorElement)_e(et);else if(et.hasAttribute("data-href")){let tt=document.createElement("a");tt.href=et.getAttribute("data-href"),et.hasAttribute("data-target")&&(tt.target=et.getAttribute("data-target")),et.hasAttribute("data-rel")&&(tt.rel=et.getAttribute("data-rel")),et.hasAttribute("data-download")&&(tt.download=et.getAttribute("data-download")),et.hasAttribute("data-ping")&&(tt.ping=et.getAttribute("data-ping")),et.hasAttribute("data-referrer-policy")&&(tt.referrerPolicy=et.getAttribute("data-referrer-policy")),et.appendChild(tt),_e(tt),et.removeChild(tt)}}function $ea8dcbcb9ea1b556$var$openSyntheticLink(et,_e){$ea8dcbcb9ea1b556$var$getSyntheticLink(et,tt=>$ea8dcbcb9ea1b556$export$95185d699e05d4d7(tt,_e))}function $ea8dcbcb9ea1b556$export$bdc77b0c0a3a85d6(et){let _e=$ea8dcbcb9ea1b556$export$9a302a45f65d0572();var tt;const rt=_e.useHref((tt=et.href)!==null&&tt!==void 0?tt:"");return{"data-href":et.href?rt:void 0,"data-target":et.target,"data-rel":et.rel,"data-download":et.download,"data-ping":et.ping,"data-referrer-policy":et.referrerPolicy}}function $ea8dcbcb9ea1b556$export$7e924b3091a3bd18(et){let _e=$ea8dcbcb9ea1b556$export$9a302a45f65d0572();var tt;const rt=_e.useHref((tt=et==null?void 0:et.href)!==null&&tt!==void 0?tt:"");return{href:et!=null&&et.href?rt:void 0,target:et==null?void 0:et.target,rel:et==null?void 0:et.rel,download:et==null?void 0:et.download,ping:et==null?void 0:et.ping,referrerPolicy:et==null?void 0:et.referrerPolicy}}let $bbed8b41f857bcc0$var$transitionsByElement=new Map,$bbed8b41f857bcc0$var$transitionCallbacks=new Set;function $bbed8b41f857bcc0$var$setupGlobalEvents(){if(typeof window>"u")return;function et(rt){return"propertyName"in rt}let _e=rt=>{if(!et(rt)||!rt.target)return;let nt=$bbed8b41f857bcc0$var$transitionsByElement.get(rt.target);nt||(nt=new Set,$bbed8b41f857bcc0$var$transitionsByElement.set(rt.target,nt),rt.target.addEventListener("transitioncancel",tt,{once:!0})),nt.add(rt.propertyName)},tt=rt=>{if(!et(rt)||!rt.target)return;let nt=$bbed8b41f857bcc0$var$transitionsByElement.get(rt.target);if(nt&&(nt.delete(rt.propertyName),nt.size===0&&(rt.target.removeEventListener("transitioncancel",tt),$bbed8b41f857bcc0$var$transitionsByElement.delete(rt.target)),$bbed8b41f857bcc0$var$transitionsByElement.size===0)){for(let st of $bbed8b41f857bcc0$var$transitionCallbacks)st();$bbed8b41f857bcc0$var$transitionCallbacks.clear()}};document.body.addEventListener("transitionrun",_e),document.body.addEventListener("transitionend",tt)}typeof document<"u"&&(document.readyState!=="loading"?$bbed8b41f857bcc0$var$setupGlobalEvents():document.addEventListener("DOMContentLoaded",$bbed8b41f857bcc0$var$setupGlobalEvents));function $bbed8b41f857bcc0$export$24490316f764c430(et){requestAnimationFrame(()=>{$bbed8b41f857bcc0$var$transitionsByElement.size===0?et():$bbed8b41f857bcc0$var$transitionCallbacks.add(et)})}function $03deb23ff14920c4$export$4eaf04e54aa8eed6(){let et=reactExports.useRef(new Map),_e=reactExports.useCallback((nt,st,it,at)=>{let ot=at!=null&&at.once?(...lt)=>{et.current.delete(it),it(...lt)}:it;et.current.set(it,{type:st,eventTarget:nt,fn:ot,options:at}),nt.addEventListener(st,it,at)},[]),tt=reactExports.useCallback((nt,st,it,at)=>{var ot;let lt=((ot=et.current.get(it))===null||ot===void 0?void 0:ot.fn)||it;nt.removeEventListener(st,lt,at),et.current.delete(it)},[]),rt=reactExports.useCallback(()=>{et.current.forEach((nt,st)=>{tt(nt.eventTarget,nt.type,st,nt.options)})},[tt]);return reactExports.useEffect(()=>rt,[rt]),{addGlobalListener:_e,removeGlobalListener:tt,removeAllGlobalListeners:rt}}function $313b98861ee5dd6c$export$d6875122194c7b44(et,_e){let{id:tt,"aria-label":rt,"aria-labelledby":nt}=et;return tt=$bdb11010cef70236$export$f680877a34711e37(tt),nt&&rt?nt=[...new Set([tt,...nt.trim().split(/\s+/)])].join(" "):nt&&(nt=nt.trim().split(/\s+/).join(" ")),!rt&&!nt&&_e&&(rt=_e),{id:tt,"aria-label":rt,"aria-labelledby":nt}}function $df56164dff5785e2$export$4338b53315abf666(et){const _e=reactExports.useRef(null);return reactExports.useMemo(()=>({get current(){return _e.current},set current(tt){_e.current=tt,typeof et=="function"?et(tt):et&&(et.current=tt)}}),[et])}function $4f58c5f72bcf79f7$export$496315a1608d9602(et,_e){const tt=reactExports.useRef(!0),rt=reactExports.useRef(null);reactExports.useEffect(()=>(tt.current=!0,()=>{tt.current=!1}),[]),reactExports.useEffect(()=>{tt.current?tt.current=!1:(!rt.current||_e.some((nt,st)=>!Object.is(nt,rt[st])))&&et(),rt.current=_e},_e)}function $9daab02d461809db$var$hasResizeObserver(){return typeof window.ResizeObserver<"u"}function $9daab02d461809db$export$683480f191c0e3ea(et){const{ref:_e,box:tt,onResize:rt}=et;reactExports.useEffect(()=>{let nt=_e==null?void 0:_e.current;if(nt)if($9daab02d461809db$var$hasResizeObserver()){const st=new window.ResizeObserver(it=>{it.length&&rt()});return st.observe(nt,{box:tt}),()=>{nt&&st.unobserve(nt)}}else return window.addEventListener("resize",rt,!1),()=>{window.removeEventListener("resize",rt,!1)}},[rt,_e,tt])}function $e7801be82b4b2a53$export$4debdb1a3f0fa79e(et,_e){$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{if(et&&et.ref&&_e)return et.ref.current=_e.current,()=>{et.ref&&(et.ref.current=null)}})}function $cc38e7bd3fc7b213$export$2bb74740c4e19def(et,_e){if(!et)return!1;let tt=window.getComputedStyle(et),rt=/(auto|scroll)/.test(tt.overflow+tt.overflowX+tt.overflowY);return rt&&_e&&(rt=et.scrollHeight!==et.clientHeight||et.scrollWidth!==et.clientWidth),rt}function $62d8ded9296f3872$export$cfa2225e87938781(et,_e){let tt=et;for($cc38e7bd3fc7b213$export$2bb74740c4e19def(tt,_e)&&(tt=tt.parentElement);tt&&!$cc38e7bd3fc7b213$export$2bb74740c4e19def(tt,_e);)tt=tt.parentElement;return tt||document.scrollingElement||document.documentElement}function $a40c673dc9f6d9c7$export$94ed1c92c7beeb22(et,_e){const tt=[];for(;et&&et!==document.documentElement;)$cc38e7bd3fc7b213$export$2bb74740c4e19def(et,_e)&&tt.push(et),et=et.parentElement;return tt}let $5df64b3807dc15ee$var$visualViewport=typeof document<"u"&&window.visualViewport;function $5df64b3807dc15ee$export$d699905dd57c73ca(){let et=$b5e257d569688ac6$export$535bd6ca7f90a273(),[_e,tt]=reactExports.useState(()=>et?{width:0,height:0}:$5df64b3807dc15ee$var$getViewportSize());return reactExports.useEffect(()=>{let rt=()=>{tt(nt=>{let st=$5df64b3807dc15ee$var$getViewportSize();return st.width===nt.width&&st.height===nt.height?nt:st})};return $5df64b3807dc15ee$var$visualViewport?$5df64b3807dc15ee$var$visualViewport.addEventListener("resize",rt):window.addEventListener("resize",rt),()=>{$5df64b3807dc15ee$var$visualViewport?$5df64b3807dc15ee$var$visualViewport.removeEventListener("resize",rt):window.removeEventListener("resize",rt)}},[]),_e}function $5df64b3807dc15ee$var$getViewportSize(){return{width:$5df64b3807dc15ee$var$visualViewport&&($5df64b3807dc15ee$var$visualViewport==null?void 0:$5df64b3807dc15ee$var$visualViewport.width)||window.innerWidth,height:$5df64b3807dc15ee$var$visualViewport&&($5df64b3807dc15ee$var$visualViewport==null?void 0:$5df64b3807dc15ee$var$visualViewport.height)||window.innerHeight}}let $ef06256079686ba0$var$descriptionId=0;const $ef06256079686ba0$var$descriptionNodes=new Map;function $ef06256079686ba0$export$f8aeda7b10753fa1(et){let[_e,tt]=reactExports.useState();return $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{if(!et)return;let rt=$ef06256079686ba0$var$descriptionNodes.get(et);if(rt)tt(rt.element.id);else{let nt=`react-aria-description-${$ef06256079686ba0$var$descriptionId++}`;tt(nt);let st=document.createElement("div");st.id=nt,st.style.display="none",st.textContent=et,document.body.appendChild(st),rt={refCount:0,element:st},$ef06256079686ba0$var$descriptionNodes.set(et,rt)}return rt.refCount++,()=>{rt&&--rt.refCount===0&&(rt.element.remove(),$ef06256079686ba0$var$descriptionNodes.delete(et))}},[et]),{"aria-describedby":et?_e:void 0}}function $e9faafb641e167db$export$90fc3a17d93f704c(et,_e,tt,rt){let nt=$8ae05eaa5c114e9c$export$7f54fc3180508a52(tt),st=tt==null;reactExports.useEffect(()=>{if(st||!et.current)return;let it=et.current;return it.addEventListener(_e,nt,rt),()=>{it.removeEventListener(_e,nt,rt)}},[et,_e,rt,st,nt])}function $2f04cbc44ee30ce0$export$53a0910f038337bd(et,_e){let tt=$2f04cbc44ee30ce0$var$relativeOffset(et,_e,"left"),rt=$2f04cbc44ee30ce0$var$relativeOffset(et,_e,"top"),nt=_e.offsetWidth,st=_e.offsetHeight,it=et.scrollLeft,at=et.scrollTop,{borderTopWidth:ot,borderLeftWidth:lt}=getComputedStyle(et),ct=et.scrollLeft+parseInt(lt,10),ut=et.scrollTop+parseInt(ot,10),dt=ct+et.clientWidth,ft=ut+et.clientHeight;tt<=it?it=tt-parseInt(lt,10):tt+nt>dt&&(it+=tt+nt-dt),rt<=ut?at=rt-parseInt(ot,10):rt+st>ft&&(at+=rt+st-ft),et.scrollLeft=it,et.scrollTop=at}function $2f04cbc44ee30ce0$var$relativeOffset(et,_e,tt){const rt=tt==="left"?"offsetLeft":"offsetTop";let nt=0;for(;_e.offsetParent&&(nt+=_e[rt],_e.offsetParent!==et);){if(_e.offsetParent.contains(et)){nt-=et[rt];break}_e=_e.offsetParent}return nt}function $2f04cbc44ee30ce0$export$c826860796309d1b(et,_e){if(et&&document.contains(et)){let it=document.scrollingElement||document.documentElement;if(window.getComputedStyle(it).overflow==="hidden"){let ot=$a40c673dc9f6d9c7$export$94ed1c92c7beeb22(et);for(let lt of ot)$2f04cbc44ee30ce0$export$53a0910f038337bd(lt,et)}else{var tt;let{left:ot,top:lt}=et.getBoundingClientRect();et==null||(tt=et.scrollIntoView)===null||tt===void 0||tt.call(et,{block:"nearest"});let{left:ct,top:ut}=et.getBoundingClientRect();if(Math.abs(ot-ct)>1||Math.abs(lt-ut)>1){var rt,nt,st;_e==null||(nt=_e.containingElement)===null||nt===void 0||(rt=nt.scrollIntoView)===null||rt===void 0||rt.call(nt,{block:"center",inline:"center"}),(st=et.scrollIntoView)===null||st===void 0||st.call(et,{block:"nearest"})}}}}function $6a7db85432448f7f$export$60278871457622de(et){return et.mozInputSource===0&&et.isTrusted?!0:$c87311424ea30a05$export$a11b0059900ceec8()&&et.pointerType?et.type==="click"&&et.buttons===1:et.detail===0&&!et.pointerType}function $6a7db85432448f7f$export$29bf1b5f2c56cf63(et){return!$c87311424ea30a05$export$a11b0059900ceec8()&&et.width===0&&et.height===0||et.width===1&&et.height===1&&et.pressure===0&&et.detail===0&&et.pointerType==="mouse"}function $99facab73266f662$export$5add1d006293d136(et,_e,tt){let rt=reactExports.useRef(_e),nt=$8ae05eaa5c114e9c$export$7f54fc3180508a52(()=>{tt&&tt(rt.current)});reactExports.useEffect(()=>{var st;let it=et==null||(st=et.current)===null||st===void 0?void 0:st.form;return it==null||it.addEventListener("reset",nt),()=>{it==null||it.removeEventListener("reset",nt)}},[et,nt])}function $458b0a5536c1a7cf$export$40bfa8c7b0832715(et,_e,tt){let[rt,nt]=reactExports.useState(et||_e),st=reactExports.useRef(et!==void 0),it=et!==void 0;reactExports.useEffect(()=>{let lt=st.current;lt!==it&&console.warn(`WARN: A component changed from ${lt?"controlled":"uncontrolled"} to ${it?"controlled":"uncontrolled"}.`),st.current=it},[it]);let at=it?et:rt,ot=reactExports.useCallback((lt,...ct)=>{let ut=(dt,...ft)=>{tt&&(Object.is(at,dt)||tt(dt,...ft)),it||(at=dt)};typeof lt=="function"?(console.warn("We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320"),nt((ft,...ht)=>{let pt=lt(it?at:ft,...ht);return ut(pt,...ct),it?ft:pt})):(it||nt(lt),ut(lt,...ct))},[it,at,tt]);return[at,ot]}function $9446cca9a3875146$export$7d15b64cf5a3a4c4(et,_e=-1/0,tt=1/0){return Math.min(Math.max(et,_e),tt)}let $488c6ddbf4ef74c2$var$formatterCache=new Map,$488c6ddbf4ef74c2$var$supportsSignDisplay=!1;try{$488c6ddbf4ef74c2$var$supportsSignDisplay=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let $488c6ddbf4ef74c2$var$supportsUnit=!1;try{$488c6ddbf4ef74c2$var$supportsUnit=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const $488c6ddbf4ef74c2$var$UNITS={degree:{narrow:{default:"","ja-JP":" ","zh-TW":"","sl-SI":" "}}};class $488c6ddbf4ef74c2$export$cc77c4ff7e8673c5{format(_e){let tt="";if(!$488c6ddbf4ef74c2$var$supportsSignDisplay&&this.options.signDisplay!=null?tt=$488c6ddbf4ef74c2$export$711b50b3c525e0f2(this.numberFormatter,this.options.signDisplay,_e):tt=this.numberFormatter.format(_e),this.options.style==="unit"&&!$488c6ddbf4ef74c2$var$supportsUnit){var rt;let{unit:nt,unitDisplay:st="short",locale:it}=this.resolvedOptions();if(!nt)return tt;let at=(rt=$488c6ddbf4ef74c2$var$UNITS[nt])===null||rt===void 0?void 0:rt[st];tt+=at[it]||at.default}return tt}formatToParts(_e){return this.numberFormatter.formatToParts(_e)}formatRange(_e,tt){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(_e,tt);if(tt<_e)throw new RangeError("End date must be >= start date");return`${this.format(_e)}  ${this.format(tt)}`}formatRangeToParts(_e,tt){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(_e,tt);if(tt<_e)throw new RangeError("End date must be >= start date");let rt=this.numberFormatter.formatToParts(_e),nt=this.numberFormatter.formatToParts(tt);return[...rt.map(st=>({...st,source:"startRange"})),{type:"literal",value:"  ",source:"shared"},...nt.map(st=>({...st,source:"endRange"}))]}resolvedOptions(){let _e=this.numberFormatter.resolvedOptions();return!$488c6ddbf4ef74c2$var$supportsSignDisplay&&this.options.signDisplay!=null&&(_e={..._e,signDisplay:this.options.signDisplay}),!$488c6ddbf4ef74c2$var$supportsUnit&&this.options.style==="unit"&&(_e={..._e,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),_e}constructor(_e,tt={}){this.numberFormatter=$488c6ddbf4ef74c2$var$getCachedNumberFormatter(_e,tt),this.options=tt}}function $488c6ddbf4ef74c2$var$getCachedNumberFormatter(et,_e={}){let{numberingSystem:tt}=_e;if(tt&&et.includes("-nu-")&&(et.includes("-u-")||(et+="-u-"),et+=`-nu-${tt}`),_e.style==="unit"&&!$488c6ddbf4ef74c2$var$supportsUnit){var rt;let{unit:it,unitDisplay:at="short"}=_e;if(!it)throw new Error('unit option must be provided with style: "unit"');if(!(!((rt=$488c6ddbf4ef74c2$var$UNITS[it])===null||rt===void 0)&&rt[at]))throw new Error(`Unsupported unit ${it} with unitDisplay = ${at}`);_e={..._e,style:"decimal"}}let nt=et+(_e?Object.entries(_e).sort((it,at)=>it[0]<at[0]?-1:1).join():"");if($488c6ddbf4ef74c2$var$formatterCache.has(nt))return $488c6ddbf4ef74c2$var$formatterCache.get(nt);let st=new Intl.NumberFormat(et,_e);return $488c6ddbf4ef74c2$var$formatterCache.set(nt,st),st}function $488c6ddbf4ef74c2$export$711b50b3c525e0f2(et,_e,tt){if(_e==="auto")return et.format(tt);if(_e==="never")return et.format(Math.abs(tt));{let rt=!1;if(_e==="always"?rt=tt>0||Object.is(tt,0):_e==="exceptZero"&&(Object.is(tt,-0)||Object.is(tt,0)?tt=Math.abs(tt):rt=tt>0),rt){let nt=et.format(-tt),st=et.format(tt),it=nt.replace(st,"").replace(/\u200e|\u061C/,"");return[...it].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),nt.replace(st,"!!!").replace(it,"+").replace("!!!",st)}else return et.format(tt)}}function $a916eb452884faea$export$b7a616150fdb9f44(et={}){let{locale:_e}=$18f2051aff69b9bf$export$43bb16f9c6d9e3f7();return reactExports.useMemo(()=>new $488c6ddbf4ef74c2$export$cc77c4ff7e8673c5(_e,et),[_e,et])}let $325a3faab7a68acd$var$cache=new Map;function $325a3faab7a68acd$export$a16aca283550c30d(et){let{locale:_e}=$18f2051aff69b9bf$export$43bb16f9c6d9e3f7(),tt=_e+(et?Object.entries(et).sort((nt,st)=>nt[0]<st[0]?-1:1).join():"");if($325a3faab7a68acd$var$cache.has(tt))return $325a3faab7a68acd$var$cache.get(tt);let rt=new Intl.Collator(_e,et);return $325a3faab7a68acd$var$cache.set(tt,rt),rt}const $edcf132a9284368a$var$AXIS={top:"top",bottom:"top",left:"left",right:"left"},$edcf132a9284368a$var$FLIPPED_DIRECTION={top:"bottom",bottom:"top",left:"right",right:"left"},$edcf132a9284368a$var$CROSS_AXIS={top:"left",left:"top"},$edcf132a9284368a$var$AXIS_SIZE={top:"height",left:"width"},$edcf132a9284368a$var$TOTAL_SIZE={width:"totalWidth",height:"totalHeight"},$edcf132a9284368a$var$PARSED_PLACEMENT_CACHE={};let $edcf132a9284368a$var$visualViewport=typeof document<"u"?window.visualViewport:null;function $edcf132a9284368a$var$getContainerDimensions(et){let _e=0,tt=0,rt=0,nt=0,st=0,it=0,at={};var ot;let lt=((ot=$edcf132a9284368a$var$visualViewport==null?void 0:$edcf132a9284368a$var$visualViewport.scale)!==null&&ot!==void 0?ot:1)>1;if(et.tagName==="BODY"){let ht=document.documentElement;rt=ht.clientWidth,nt=ht.clientHeight;var ct;_e=(ct=$edcf132a9284368a$var$visualViewport==null?void 0:$edcf132a9284368a$var$visualViewport.width)!==null&&ct!==void 0?ct:rt;var ut;tt=(ut=$edcf132a9284368a$var$visualViewport==null?void 0:$edcf132a9284368a$var$visualViewport.height)!==null&&ut!==void 0?ut:nt,at.top=ht.scrollTop||et.scrollTop,at.left=ht.scrollLeft||et.scrollLeft,$edcf132a9284368a$var$visualViewport&&(st=$edcf132a9284368a$var$visualViewport.offsetTop,it=$edcf132a9284368a$var$visualViewport.offsetLeft)}else({width:_e,height:tt,top:st,left:it}=$edcf132a9284368a$var$getOffset(et)),at.top=et.scrollTop,at.left=et.scrollLeft,rt=_e,nt=tt;if($c87311424ea30a05$export$78551043582a6a98()&&(et.tagName==="BODY"||et.tagName==="HTML")&&lt){at.top=0,at.left=0;var dt;st=(dt=$edcf132a9284368a$var$visualViewport==null?void 0:$edcf132a9284368a$var$visualViewport.pageTop)!==null&&dt!==void 0?dt:0;var ft;it=(ft=$edcf132a9284368a$var$visualViewport==null?void 0:$edcf132a9284368a$var$visualViewport.pageLeft)!==null&&ft!==void 0?ft:0}return{width:_e,height:tt,totalWidth:rt,totalHeight:nt,scroll:at,top:st,left:it}}function $edcf132a9284368a$var$getScroll(et){return{top:et.scrollTop,left:et.scrollLeft,width:et.scrollWidth,height:et.scrollHeight}}function $edcf132a9284368a$var$getDelta(et,_e,tt,rt,nt,st,it){var at;let ot=(at=nt.scroll[et])!==null&&at!==void 0?at:0,lt=rt[$edcf132a9284368a$var$AXIS_SIZE[et]],ct=rt.scroll[$edcf132a9284368a$var$AXIS[et]]+st,ut=lt+rt.scroll[$edcf132a9284368a$var$AXIS[et]]-st,dt=_e-ot+it[et]-rt[$edcf132a9284368a$var$AXIS[et]],ft=_e-ot+tt+it[et]-rt[$edcf132a9284368a$var$AXIS[et]];return dt<ct?ct-dt:ft>ut?Math.max(ut-ft,ct-dt):0}function $edcf132a9284368a$var$getMargins(et){let _e=window.getComputedStyle(et);return{top:parseInt(_e.marginTop,10)||0,bottom:parseInt(_e.marginBottom,10)||0,left:parseInt(_e.marginLeft,10)||0,right:parseInt(_e.marginRight,10)||0}}function $edcf132a9284368a$var$parsePlacement(et){if($edcf132a9284368a$var$PARSED_PLACEMENT_CACHE[et])return $edcf132a9284368a$var$PARSED_PLACEMENT_CACHE[et];let[_e,tt]=et.split(" "),rt=$edcf132a9284368a$var$AXIS[_e]||"right",nt=$edcf132a9284368a$var$CROSS_AXIS[rt];$edcf132a9284368a$var$AXIS[tt]||(tt="center");let st=$edcf132a9284368a$var$AXIS_SIZE[rt],it=$edcf132a9284368a$var$AXIS_SIZE[nt];return $edcf132a9284368a$var$PARSED_PLACEMENT_CACHE[et]={placement:_e,crossPlacement:tt,axis:rt,crossAxis:nt,size:st,crossSize:it},$edcf132a9284368a$var$PARSED_PLACEMENT_CACHE[et]}function $edcf132a9284368a$var$computePosition(et,_e,tt,rt,nt,st,it,at,ot,lt){let{placement:ct,crossPlacement:ut,axis:dt,crossAxis:ft,size:ht,crossSize:pt}=rt,gt={};var mt;gt[ft]=(mt=et[ft])!==null&&mt!==void 0?mt:0;var bt,vt,yt,xt;ut==="center"?gt[ft]+=(((bt=et[pt])!==null&&bt!==void 0?bt:0)-((vt=tt[pt])!==null&&vt!==void 0?vt:0))/2:ut!==ft&&(gt[ft]+=((yt=et[pt])!==null&&yt!==void 0?yt:0)-((xt=tt[pt])!==null&&xt!==void 0?xt:0)),gt[ft]+=st;const Et=et[ft]-tt[pt]+ot+lt,wt=et[ft]+et[pt]-ot-lt;if(gt[ft]=$9446cca9a3875146$export$7d15b64cf5a3a4c4(gt[ft],Et,wt),ct===dt){const $t=at?it[ht]:_e[$edcf132a9284368a$var$TOTAL_SIZE[ht]];gt[$edcf132a9284368a$var$FLIPPED_DIRECTION[dt]]=Math.floor($t-et[dt]+nt)}else gt[dt]=Math.floor(et[dt]+et[ht]+nt);return gt}function $edcf132a9284368a$var$getMaxHeight(et,_e,tt,rt,nt,st,it,at){const ot=rt?tt.height:_e[$edcf132a9284368a$var$TOTAL_SIZE.height];var lt;let ct=et.top!=null?tt.top+et.top:tt.top+(ot-((lt=et.bottom)!==null&&lt!==void 0?lt:0)-it);var ut,dt,ft,ht,pt,gt;let mt=at!=="top"?Math.max(0,_e.height+_e.top+((ut=_e.scroll.top)!==null&&ut!==void 0?ut:0)-ct-(((dt=nt.top)!==null&&dt!==void 0?dt:0)+((ft=nt.bottom)!==null&&ft!==void 0?ft:0)+st)):Math.max(0,ct+it-(_e.top+((ht=_e.scroll.top)!==null&&ht!==void 0?ht:0))-(((pt=nt.top)!==null&&pt!==void 0?pt:0)+((gt=nt.bottom)!==null&&gt!==void 0?gt:0)+st));return Math.min(_e.height-st*2,mt)}function $edcf132a9284368a$var$getAvailableSpace(et,_e,tt,rt,nt,st){let{placement:it,axis:at,size:ot}=st;var lt,ct;if(it===at)return Math.max(0,tt[at]-et[at]-((lt=et.scroll[at])!==null&&lt!==void 0?lt:0)+_e[at]-((ct=rt[at])!==null&&ct!==void 0?ct:0)-rt[$edcf132a9284368a$var$FLIPPED_DIRECTION[at]]-nt);var ut;return Math.max(0,et[ot]+et[at]+et.scroll[at]-_e[at]-tt[at]-tt[ot]-((ut=rt[at])!==null&&ut!==void 0?ut:0)-rt[$edcf132a9284368a$var$FLIPPED_DIRECTION[at]]-nt)}function $edcf132a9284368a$export$6839422d1f33cee9(et,_e,tt,rt,nt,st,it,at,ot,lt,ct,ut,dt,ft,ht,pt){let gt=$edcf132a9284368a$var$parsePlacement(et),{size:mt,crossAxis:bt,crossSize:vt,placement:yt,crossPlacement:xt}=gt,Et=$edcf132a9284368a$var$computePosition(_e,at,tt,gt,ct,ut,lt,dt,ht,pt),wt=ct,$t=$edcf132a9284368a$var$getAvailableSpace(at,lt,_e,nt,st+ct,gt);if(it&&rt[mt]>$t){let Kt=$edcf132a9284368a$var$parsePlacement(`${$edcf132a9284368a$var$FLIPPED_DIRECTION[yt]} ${xt}`),Bt=$edcf132a9284368a$var$computePosition(_e,at,tt,Kt,ct,ut,lt,dt,ht,pt);$edcf132a9284368a$var$getAvailableSpace(at,lt,_e,nt,st+ct,Kt)>$t&&(gt=Kt,Et=Bt,wt=ct)}let Tt="bottom";gt.axis==="top"?gt.placement==="top"?Tt="top":gt.placement==="bottom"&&(Tt="bottom"):gt.crossAxis==="top"&&(gt.crossPlacement==="top"?Tt="bottom":gt.crossPlacement==="bottom"&&(Tt="top"));let St=$edcf132a9284368a$var$getDelta(bt,Et[bt],tt[vt],at,ot,st,lt);Et[bt]+=St;let Pt=$edcf132a9284368a$var$getMaxHeight(Et,at,lt,dt,nt,st,tt.height,Tt);ft&&ft<Pt&&(Pt=ft),tt.height=Math.min(tt.height,Pt),Et=$edcf132a9284368a$var$computePosition(_e,at,tt,gt,wt,ut,lt,dt,ht,pt),St=$edcf132a9284368a$var$getDelta(bt,Et[bt],tt[vt],at,ot,st,lt),Et[bt]+=St;let At={},Rt=_e[bt]+.5*_e[vt]-Et[bt]-nt[$edcf132a9284368a$var$AXIS[bt]];const Ct=ht/2+pt;var Dt,Ft,Mt,Ot;const jt=$edcf132a9284368a$var$AXIS[bt]==="left"?((Dt=nt.left)!==null&&Dt!==void 0?Dt:0)+((Ft=nt.right)!==null&&Ft!==void 0?Ft:0):((Mt=nt.top)!==null&&Mt!==void 0?Mt:0)+((Ot=nt.bottom)!==null&&Ot!==void 0?Ot:0),Ut=tt[vt]-jt-ht/2-pt,_t=_e[bt]+ht/2-(Et[bt]+nt[$edcf132a9284368a$var$AXIS[bt]]),It=_e[bt]+_e[vt]-ht/2-(Et[bt]+nt[$edcf132a9284368a$var$AXIS[bt]]),Wt=$9446cca9a3875146$export$7d15b64cf5a3a4c4(Rt,_t,It);return At[bt]=$9446cca9a3875146$export$7d15b64cf5a3a4c4(Wt,Ct,Ut),{position:Et,maxHeight:Pt,arrowOffsetLeft:At.left,arrowOffsetTop:At.top,placement:gt.placement}}function $edcf132a9284368a$export$b3ceb0cbf1056d98(et){let{placement:_e,targetNode:tt,overlayNode:rt,scrollNode:nt,padding:st,shouldFlip:it,boundaryElement:at,offset:ot,crossOffset:lt,maxHeight:ct,arrowSize:ut=0,arrowBoundaryOffset:dt=0}=et,ft=rt instanceof HTMLElement?$edcf132a9284368a$var$getContainingBlock(rt):document.documentElement,ht=ft===document.documentElement;const pt=window.getComputedStyle(ft).position;let gt=!!pt&&pt!=="static",mt=ht?$edcf132a9284368a$var$getOffset(tt):$edcf132a9284368a$var$getPosition(tt,ft);if(!ht){let{marginTop:At,marginLeft:Rt}=window.getComputedStyle(tt);mt.top+=parseInt(At,10)||0,mt.left+=parseInt(Rt,10)||0}let bt=$edcf132a9284368a$var$getOffset(rt),vt=$edcf132a9284368a$var$getMargins(rt);var yt,xt;bt.width+=((yt=vt.left)!==null&&yt!==void 0?yt:0)+((xt=vt.right)!==null&&xt!==void 0?xt:0);var Et,wt;bt.height+=((Et=vt.top)!==null&&Et!==void 0?Et:0)+((wt=vt.bottom)!==null&&wt!==void 0?wt:0);let $t=$edcf132a9284368a$var$getScroll(nt),Tt=$edcf132a9284368a$var$getContainerDimensions(at),St=$edcf132a9284368a$var$getContainerDimensions(ft),Pt=at.tagName==="BODY"?$edcf132a9284368a$var$getOffset(ft):$edcf132a9284368a$var$getPosition(ft,at);return ft.tagName==="HTML"&&at.tagName==="BODY"&&(St.scroll.top=0,St.scroll.left=0),$edcf132a9284368a$export$6839422d1f33cee9(_e,mt,bt,$t,vt,st,it,Tt,St,Pt,ot,lt,gt,ct,ut,dt)}function $edcf132a9284368a$var$getOffset(et){let{top:_e,left:tt,width:rt,height:nt}=et.getBoundingClientRect(),{scrollTop:st,scrollLeft:it,clientTop:at,clientLeft:ot}=document.documentElement;return{top:_e+st-at,left:tt+it-ot,width:rt,height:nt}}function $edcf132a9284368a$var$getPosition(et,_e){let tt=window.getComputedStyle(et),rt;if(tt.position==="fixed"){let{top:nt,left:st,width:it,height:at}=et.getBoundingClientRect();rt={top:nt,left:st,width:it,height:at}}else{rt=$edcf132a9284368a$var$getOffset(et);let nt=$edcf132a9284368a$var$getOffset(_e),st=window.getComputedStyle(_e);nt.top+=(parseInt(st.borderTopWidth,10)||0)-_e.scrollTop,nt.left+=(parseInt(st.borderLeftWidth,10)||0)-_e.scrollLeft,rt.top-=nt.top,rt.left-=nt.left}return rt.top-=parseInt(tt.marginTop,10)||0,rt.left-=parseInt(tt.marginLeft,10)||0,rt}function $edcf132a9284368a$var$getContainingBlock(et){let _e=et.offsetParent;if(_e&&_e===document.body&&window.getComputedStyle(_e).position==="static"&&!$edcf132a9284368a$var$isContainingBlock(_e)&&(_e=document.documentElement),_e==null)for(_e=et.parentElement;_e&&!$edcf132a9284368a$var$isContainingBlock(_e);)_e=_e.parentElement;return _e||document.documentElement}function $edcf132a9284368a$var$isContainingBlock(et){let _e=window.getComputedStyle(et);return _e.transform!=="none"||/transform|perspective/.test(_e.willChange)||_e.filter!=="none"||_e.contain==="paint"||"backdropFilter"in _e&&_e.backdropFilter!=="none"||"WebkitBackdropFilter"in _e&&_e.WebkitBackdropFilter!=="none"}const $dd149f63282afbbf$export$f6211563215e3b37=new WeakMap;function $dd149f63282afbbf$export$18fc8428861184da(et){let{triggerRef:_e,isOpen:tt,onClose:rt}=et;reactExports.useEffect(()=>{if(!tt||rt===null)return;let nt=st=>{let it=st.target;if(!_e.current||it instanceof Node&&!it.contains(_e.current)||st.target instanceof HTMLInputElement||st.target instanceof HTMLTextAreaElement)return;let at=rt||$dd149f63282afbbf$export$f6211563215e3b37.get(_e.current);at&&at()};return window.addEventListener("scroll",nt,!0),()=>{window.removeEventListener("scroll",nt,!0)}},[tt,rt,_e])}let $2a41e45df1593e64$var$visualViewport=typeof document<"u"?window.visualViewport:null;function $2a41e45df1593e64$export$d39e1813b3bdd0e1(et){let{direction:_e}=$18f2051aff69b9bf$export$43bb16f9c6d9e3f7(),{arrowSize:tt=0,targetRef:rt,overlayRef:nt,scrollRef:st=nt,placement:it="bottom",containerPadding:at=12,shouldFlip:ot=!0,boundaryElement:lt=typeof document<"u"?document.body:null,offset:ct=0,crossOffset:ut=0,shouldUpdatePosition:dt=!0,isOpen:ft=!0,onClose:ht,maxHeight:pt,arrowBoundaryOffset:gt=0}=et,[mt,bt]=reactExports.useState(null),vt=[dt,it,nt.current,rt.current,st.current,at,ot,lt,ct,ut,ft,_e,pt,gt,tt],yt=reactExports.useRef($2a41e45df1593e64$var$visualViewport==null?void 0:$2a41e45df1593e64$var$visualViewport.scale);reactExports.useEffect(()=>{ft&&(yt.current=$2a41e45df1593e64$var$visualViewport==null?void 0:$2a41e45df1593e64$var$visualViewport.scale)},[ft]);let xt=reactExports.useCallback(()=>{if(dt===!1||!ft||!nt.current||!rt.current||!lt||($2a41e45df1593e64$var$visualViewport==null?void 0:$2a41e45df1593e64$var$visualViewport.scale)!==yt.current)return;let St=null;if(st.current&&st.current.contains(document.activeElement)){var Pt;let Ot=(Pt=document.activeElement)===null||Pt===void 0?void 0:Pt.getBoundingClientRect(),jt=st.current.getBoundingClientRect();var At;if(St={type:"top",offset:((At=Ot==null?void 0:Ot.top)!==null&&At!==void 0?At:0)-jt.top},St.offset>jt.height/2){St.type="bottom";var Rt;St.offset=((Rt=Ot==null?void 0:Ot.bottom)!==null&&Rt!==void 0?Rt:0)-jt.bottom}}let Ct=nt.current;if(!pt&&nt.current){var Dt;Ct.style.top="0px",Ct.style.bottom="";var Ft;Ct.style.maxHeight=((Ft=(Dt=window.visualViewport)===null||Dt===void 0?void 0:Dt.height)!==null&&Ft!==void 0?Ft:window.innerHeight)+"px"}let Mt=$edcf132a9284368a$export$b3ceb0cbf1056d98({placement:$2a41e45df1593e64$var$translateRTL(it,_e),overlayNode:nt.current,targetNode:rt.current,scrollNode:st.current||nt.current,padding:at,shouldFlip:ot,boundaryElement:lt,offset:ct,crossOffset:ut,maxHeight:pt,arrowSize:tt,arrowBoundaryOffset:gt});if(Mt.position){if(Ct.style.top="",Ct.style.bottom="",Ct.style.left="",Ct.style.right="",Object.keys(Mt.position).forEach(Ot=>Ct.style[Ot]=Mt.position[Ot]+"px"),Ct.style.maxHeight=Mt.maxHeight!=null?Mt.maxHeight+"px":"",St&&document.activeElement&&st.current){let Ot=document.activeElement.getBoundingClientRect(),jt=st.current.getBoundingClientRect(),Ut=Ot[St.type]-jt[St.type];st.current.scrollTop+=Ut-St.offset}bt(Mt)}},vt);$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(xt,vt),$2a41e45df1593e64$var$useResize(xt),$9daab02d461809db$export$683480f191c0e3ea({ref:nt,onResize:xt}),$9daab02d461809db$export$683480f191c0e3ea({ref:rt,onResize:xt});let Et=reactExports.useRef(!1);$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{let St,Pt=()=>{Et.current=!0,clearTimeout(St),St=setTimeout(()=>{Et.current=!1},500),xt()},At=()=>{Et.current&&Pt()};return $2a41e45df1593e64$var$visualViewport==null||$2a41e45df1593e64$var$visualViewport.addEventListener("resize",Pt),$2a41e45df1593e64$var$visualViewport==null||$2a41e45df1593e64$var$visualViewport.addEventListener("scroll",At),()=>{$2a41e45df1593e64$var$visualViewport==null||$2a41e45df1593e64$var$visualViewport.removeEventListener("resize",Pt),$2a41e45df1593e64$var$visualViewport==null||$2a41e45df1593e64$var$visualViewport.removeEventListener("scroll",At)}},[xt]);let wt=reactExports.useCallback(()=>{Et.current||ht==null||ht()},[ht,Et]);$dd149f63282afbbf$export$18fc8428861184da({triggerRef:rt,isOpen:ft,onClose:ht&&wt});var $t,Tt;return{overlayProps:{style:{position:"absolute",zIndex:1e5,...mt==null?void 0:mt.position,maxHeight:($t=mt==null?void 0:mt.maxHeight)!==null&&$t!==void 0?$t:"100vh"}},placement:(Tt=mt==null?void 0:mt.placement)!==null&&Tt!==void 0?Tt:null,arrowProps:{"aria-hidden":"true",role:"presentation",style:{left:mt==null?void 0:mt.arrowOffsetLeft,top:mt==null?void 0:mt.arrowOffsetTop}},updatePosition:xt}}function $2a41e45df1593e64$var$useResize(et){$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>(window.addEventListener("resize",et,!1),()=>{window.removeEventListener("resize",et,!1)}),[et])}function $2a41e45df1593e64$var$translateRTL(et,_e){return _e==="rtl"?et.replace("start","right").replace("end","left"):et.replace("start","left").replace("end","right")}let $14c0b72509d70225$var$state="default",$14c0b72509d70225$var$savedUserSelect="",$14c0b72509d70225$var$modifiedElementMap=new WeakMap;function $14c0b72509d70225$export$16a4697467175487(et){if($c87311424ea30a05$export$fedb369cb70207f1()){if($14c0b72509d70225$var$state==="default"){const _e=$431fbd86ca7dc216$export$b204af158042fbac(et);$14c0b72509d70225$var$savedUserSelect=_e.documentElement.style.webkitUserSelect,_e.documentElement.style.webkitUserSelect="none"}$14c0b72509d70225$var$state="disabled"}else(et instanceof HTMLElement||et instanceof SVGElement)&&($14c0b72509d70225$var$modifiedElementMap.set(et,et.style.userSelect),et.style.userSelect="none")}function $14c0b72509d70225$export$b0d6fa1ab32e3295(et){if($c87311424ea30a05$export$fedb369cb70207f1()){if($14c0b72509d70225$var$state!=="disabled")return;$14c0b72509d70225$var$state="restoring",setTimeout(()=>{$bbed8b41f857bcc0$export$24490316f764c430(()=>{if($14c0b72509d70225$var$state==="restoring"){const _e=$431fbd86ca7dc216$export$b204af158042fbac(et);_e.documentElement.style.webkitUserSelect==="none"&&(_e.documentElement.style.webkitUserSelect=$14c0b72509d70225$var$savedUserSelect||""),$14c0b72509d70225$var$savedUserSelect="",$14c0b72509d70225$var$state="default"}})},300)}else if((et instanceof HTMLElement||et instanceof SVGElement)&&et&&$14c0b72509d70225$var$modifiedElementMap.has(et)){let _e=$14c0b72509d70225$var$modifiedElementMap.get(et);et.style.userSelect==="none"&&(et.style.userSelect=_e),et.getAttribute("style")===""&&et.removeAttribute("style"),$14c0b72509d70225$var$modifiedElementMap.delete(et)}}const $ae1eeba8b9eafd08$export$5165eccb35aaadb5=React.createContext({register:()=>{}});$ae1eeba8b9eafd08$export$5165eccb35aaadb5.displayName="PressResponderContext";function _class_apply_descriptor_get(et,_e){return _e.get?_e.get.call(et):_e.value}function _class_extract_field_descriptor(et,_e,tt){if(!_e.has(et))throw new TypeError("attempted to "+tt+" private field on non-instance");return _e.get(et)}function _class_private_field_get(et,_e){var tt=_class_extract_field_descriptor(et,_e,"get");return _class_apply_descriptor_get(et,tt)}function _class_apply_descriptor_set(et,_e,tt){if(_e.set)_e.set.call(et,tt);else{if(!_e.writable)throw new TypeError("attempted to set read only private field");_e.value=tt}}function _class_private_field_set(et,_e,tt){var rt=_class_extract_field_descriptor(et,_e,"set");return _class_apply_descriptor_set(et,rt,tt),tt}function $f6c31cce2adf654f$var$usePressResponderContext(et){let _e=reactExports.useContext($ae1eeba8b9eafd08$export$5165eccb35aaadb5);if(_e){let{register:tt,...rt}=_e;et=$3ef42575df84b30b$export$9d1611c77c2fe928(rt,et),tt()}return $e7801be82b4b2a53$export$4debdb1a3f0fa79e(_e,et.ref),et}var $f6c31cce2adf654f$var$_shouldStopPropagation=new WeakMap;class $f6c31cce2adf654f$var$PressEvent{continuePropagation(){_class_private_field_set(this,$f6c31cce2adf654f$var$_shouldStopPropagation,!1)}get shouldStopPropagation(){return _class_private_field_get(this,$f6c31cce2adf654f$var$_shouldStopPropagation)}constructor(_e,tt,rt,nt){_class_private_field_init(this,$f6c31cce2adf654f$var$_shouldStopPropagation,{writable:!0,value:void 0}),_class_private_field_set(this,$f6c31cce2adf654f$var$_shouldStopPropagation,!0);var st;let it=(st=nt==null?void 0:nt.target)!==null&&st!==void 0?st:rt.currentTarget;const at=it==null?void 0:it.getBoundingClientRect();let ot,lt=0,ct,ut=null;rt.clientX!=null&&rt.clientY!=null&&(ct=rt.clientX,ut=rt.clientY),at&&(ct!=null&&ut!=null?(ot=ct-at.left,lt=ut-at.top):(ot=at.width/2,lt=at.height/2)),this.type=_e,this.pointerType=tt,this.target=rt.currentTarget,this.shiftKey=rt.shiftKey,this.metaKey=rt.metaKey,this.ctrlKey=rt.ctrlKey,this.altKey=rt.altKey,this.x=ot,this.y=lt}}const $f6c31cce2adf654f$var$LINK_CLICKED=Symbol("linkClicked");function $f6c31cce2adf654f$export$45712eceda6fad21(et){let{onPress:_e,onPressChange:tt,onPressStart:rt,onPressEnd:nt,onPressUp:st,isDisabled:it,isPressed:at,preventFocusOnPress:ot,shouldCancelOnPointerExit:lt,allowTextSelectionOnPress:ct,ref:ut,...dt}=$f6c31cce2adf654f$var$usePressResponderContext(et),[ft,ht]=reactExports.useState(!1),pt=reactExports.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:gt,removeAllGlobalListeners:mt}=$03deb23ff14920c4$export$4eaf04e54aa8eed6(),bt=$8ae05eaa5c114e9c$export$7f54fc3180508a52(($t,Tt)=>{let St=pt.current;if(it||St.didFirePressStart)return!1;let Pt=!0;if(St.isTriggeringEvent=!0,rt){let At=new $f6c31cce2adf654f$var$PressEvent("pressstart",Tt,$t);rt(At),Pt=At.shouldStopPropagation}return tt&&tt(!0),St.isTriggeringEvent=!1,St.didFirePressStart=!0,ht(!0),Pt}),vt=$8ae05eaa5c114e9c$export$7f54fc3180508a52(($t,Tt,St=!0)=>{let Pt=pt.current;if(!Pt.didFirePressStart)return!1;Pt.ignoreClickAfterPress=!0,Pt.didFirePressStart=!1,Pt.isTriggeringEvent=!0;let At=!0;if(nt){let Rt=new $f6c31cce2adf654f$var$PressEvent("pressend",Tt,$t);nt(Rt),At=Rt.shouldStopPropagation}if(tt&&tt(!1),ht(!1),_e&&St&&!it){let Rt=new $f6c31cce2adf654f$var$PressEvent("press",Tt,$t);_e(Rt),At&&(At=Rt.shouldStopPropagation)}return Pt.isTriggeringEvent=!1,At}),yt=$8ae05eaa5c114e9c$export$7f54fc3180508a52(($t,Tt)=>{let St=pt.current;if(it)return!1;if(st){St.isTriggeringEvent=!0;let Pt=new $f6c31cce2adf654f$var$PressEvent("pressup",Tt,$t);return st(Pt),St.isTriggeringEvent=!1,Pt.shouldStopPropagation}return!0}),xt=$8ae05eaa5c114e9c$export$7f54fc3180508a52($t=>{let Tt=pt.current;Tt.isPressed&&Tt.target&&(Tt.isOverTarget&&Tt.pointerType!=null&&vt($f6c31cce2adf654f$var$createEvent(Tt.target,$t),Tt.pointerType,!1),Tt.isPressed=!1,Tt.isOverTarget=!1,Tt.activePointerId=null,Tt.pointerType=null,mt(),ct||$14c0b72509d70225$export$b0d6fa1ab32e3295(Tt.target))}),Et=$8ae05eaa5c114e9c$export$7f54fc3180508a52($t=>{lt&&xt($t)}),wt=reactExports.useMemo(()=>{let $t=pt.current,Tt={onKeyDown(Pt){if($f6c31cce2adf654f$var$isValidKeyboardEvent(Pt.nativeEvent,Pt.currentTarget)&&Pt.currentTarget.contains(Pt.target)){var At;$f6c31cce2adf654f$var$shouldPreventDefaultKeyboard(Pt.target,Pt.key)&&Pt.preventDefault();let Rt=!0;if(!$t.isPressed&&!Pt.repeat){$t.target=Pt.currentTarget,$t.isPressed=!0,Rt=bt(Pt,"keyboard");let Ct=Pt.currentTarget,Dt=Ft=>{$f6c31cce2adf654f$var$isValidKeyboardEvent(Ft,Ct)&&!Ft.repeat&&Ct.contains(Ft.target)&&$t.target&&yt($f6c31cce2adf654f$var$createEvent($t.target,Ft),"keyboard")};gt($431fbd86ca7dc216$export$b204af158042fbac(Pt.currentTarget),"keyup",$ff5963eb1fccf552$export$e08e3b67e392101e(Dt,St),!0)}Rt&&Pt.stopPropagation(),Pt.metaKey&&$c87311424ea30a05$export$9ac100e40613ea10()&&((At=$t.metaKeyEvents)===null||At===void 0||At.set(Pt.key,Pt.nativeEvent))}else Pt.key==="Meta"&&($t.metaKeyEvents=new Map)},onClick(Pt){if(!(Pt&&!Pt.currentTarget.contains(Pt.target))&&Pt&&Pt.button===0&&!$t.isTriggeringEvent&&!$ea8dcbcb9ea1b556$export$95185d699e05d4d7.isOpening){let At=!0;if(it&&Pt.preventDefault(),!$t.ignoreClickAfterPress&&!$t.ignoreEmulatedMouseEvents&&!$t.isPressed&&($t.pointerType==="virtual"||$6a7db85432448f7f$export$60278871457622de(Pt.nativeEvent))){!it&&!ot&&$7215afc6de606d6b$export$de79e2c695e052f3(Pt.currentTarget);let Rt=bt(Pt,"virtual"),Ct=yt(Pt,"virtual"),Dt=vt(Pt,"virtual");At=Rt&&Ct&&Dt}$t.ignoreEmulatedMouseEvents=!1,$t.ignoreClickAfterPress=!1,At&&Pt.stopPropagation()}}},St=Pt=>{var At;if($t.isPressed&&$t.target&&$f6c31cce2adf654f$var$isValidKeyboardEvent(Pt,$t.target)){var Rt;$f6c31cce2adf654f$var$shouldPreventDefaultKeyboard(Pt.target,Pt.key)&&Pt.preventDefault();let Dt=Pt.target;vt($f6c31cce2adf654f$var$createEvent($t.target,Pt),"keyboard",$t.target.contains(Dt)),mt(),Pt.key!=="Enter"&&$f6c31cce2adf654f$var$isHTMLAnchorLink($t.target)&&$t.target.contains(Dt)&&!Pt[$f6c31cce2adf654f$var$LINK_CLICKED]&&(Pt[$f6c31cce2adf654f$var$LINK_CLICKED]=!0,$ea8dcbcb9ea1b556$export$95185d699e05d4d7($t.target,Pt,!1)),$t.isPressed=!1,(Rt=$t.metaKeyEvents)===null||Rt===void 0||Rt.delete(Pt.key)}else if(Pt.key==="Meta"&&(!((At=$t.metaKeyEvents)===null||At===void 0)&&At.size)){var Ct;let Dt=$t.metaKeyEvents;$t.metaKeyEvents=void 0;for(let Ft of Dt.values())(Ct=$t.target)===null||Ct===void 0||Ct.dispatchEvent(new KeyboardEvent("keyup",Ft))}};if(typeof PointerEvent<"u"){Tt.onPointerDown=Dt=>{if(Dt.button!==0||!Dt.currentTarget.contains(Dt.target))return;if($6a7db85432448f7f$export$29bf1b5f2c56cf63(Dt.nativeEvent)){$t.pointerType="virtual";return}$f6c31cce2adf654f$var$shouldPreventDefaultDown(Dt.currentTarget)&&Dt.preventDefault(),$t.pointerType=Dt.pointerType;let Ft=!0;$t.isPressed||($t.isPressed=!0,$t.isOverTarget=!0,$t.activePointerId=Dt.pointerId,$t.target=Dt.currentTarget,!it&&!ot&&$7215afc6de606d6b$export$de79e2c695e052f3(Dt.currentTarget),ct||$14c0b72509d70225$export$16a4697467175487($t.target),Ft=bt(Dt,$t.pointerType),gt($431fbd86ca7dc216$export$b204af158042fbac(Dt.currentTarget),"pointermove",Pt,!1),gt($431fbd86ca7dc216$export$b204af158042fbac(Dt.currentTarget),"pointerup",At,!1),gt($431fbd86ca7dc216$export$b204af158042fbac(Dt.currentTarget),"pointercancel",Ct,!1)),Ft&&Dt.stopPropagation()},Tt.onMouseDown=Dt=>{Dt.currentTarget.contains(Dt.target)&&Dt.button===0&&($f6c31cce2adf654f$var$shouldPreventDefaultDown(Dt.currentTarget)&&Dt.preventDefault(),Dt.stopPropagation())},Tt.onPointerUp=Dt=>{!Dt.currentTarget.contains(Dt.target)||$t.pointerType==="virtual"||Dt.button===0&&$f6c31cce2adf654f$var$isOverTarget(Dt,Dt.currentTarget)&&yt(Dt,$t.pointerType||Dt.pointerType)};let Pt=Dt=>{Dt.pointerId===$t.activePointerId&&($t.target&&$f6c31cce2adf654f$var$isOverTarget(Dt,$t.target)?!$t.isOverTarget&&$t.pointerType!=null&&($t.isOverTarget=!0,bt($f6c31cce2adf654f$var$createEvent($t.target,Dt),$t.pointerType)):$t.target&&$t.isOverTarget&&$t.pointerType!=null&&($t.isOverTarget=!1,vt($f6c31cce2adf654f$var$createEvent($t.target,Dt),$t.pointerType,!1),Et(Dt)))},At=Dt=>{Dt.pointerId===$t.activePointerId&&$t.isPressed&&Dt.button===0&&$t.target&&($f6c31cce2adf654f$var$isOverTarget(Dt,$t.target)&&$t.pointerType!=null?vt($f6c31cce2adf654f$var$createEvent($t.target,Dt),$t.pointerType):$t.isOverTarget&&$t.pointerType!=null&&vt($f6c31cce2adf654f$var$createEvent($t.target,Dt),$t.pointerType,!1),$t.isPressed=!1,$t.isOverTarget=!1,$t.activePointerId=null,$t.pointerType=null,mt(),ct||$14c0b72509d70225$export$b0d6fa1ab32e3295($t.target),"ontouchend"in $t.target&&Dt.pointerType!=="mouse"&&gt($t.target,"touchend",Rt,{once:!0}))},Rt=Dt=>{$f6c31cce2adf654f$var$shouldPreventDefaultUp(Dt.currentTarget)&&Dt.preventDefault()},Ct=Dt=>{xt(Dt)};Tt.onDragStart=Dt=>{Dt.currentTarget.contains(Dt.target)&&xt(Dt)}}else{Tt.onMouseDown=Rt=>{if(Rt.button!==0||!Rt.currentTarget.contains(Rt.target))return;if($f6c31cce2adf654f$var$shouldPreventDefaultDown(Rt.currentTarget)&&Rt.preventDefault(),$t.ignoreEmulatedMouseEvents){Rt.stopPropagation();return}$t.isPressed=!0,$t.isOverTarget=!0,$t.target=Rt.currentTarget,$t.pointerType=$6a7db85432448f7f$export$60278871457622de(Rt.nativeEvent)?"virtual":"mouse",!it&&!ot&&$7215afc6de606d6b$export$de79e2c695e052f3(Rt.currentTarget),bt(Rt,$t.pointerType)&&Rt.stopPropagation(),gt($431fbd86ca7dc216$export$b204af158042fbac(Rt.currentTarget),"mouseup",Pt,!1)},Tt.onMouseEnter=Rt=>{if(!Rt.currentTarget.contains(Rt.target))return;let Ct=!0;$t.isPressed&&!$t.ignoreEmulatedMouseEvents&&$t.pointerType!=null&&($t.isOverTarget=!0,Ct=bt(Rt,$t.pointerType)),Ct&&Rt.stopPropagation()},Tt.onMouseLeave=Rt=>{if(!Rt.currentTarget.contains(Rt.target))return;let Ct=!0;$t.isPressed&&!$t.ignoreEmulatedMouseEvents&&$t.pointerType!=null&&($t.isOverTarget=!1,Ct=vt(Rt,$t.pointerType,!1),Et(Rt)),Ct&&Rt.stopPropagation()},Tt.onMouseUp=Rt=>{Rt.currentTarget.contains(Rt.target)&&!$t.ignoreEmulatedMouseEvents&&Rt.button===0&&yt(Rt,$t.pointerType||"mouse")};let Pt=Rt=>{if(Rt.button===0){if($t.isPressed=!1,mt(),$t.ignoreEmulatedMouseEvents){$t.ignoreEmulatedMouseEvents=!1;return}$t.target&&$f6c31cce2adf654f$var$isOverTarget(Rt,$t.target)&&$t.pointerType!=null?vt($f6c31cce2adf654f$var$createEvent($t.target,Rt),$t.pointerType):$t.target&&$t.isOverTarget&&$t.pointerType!=null&&vt($f6c31cce2adf654f$var$createEvent($t.target,Rt),$t.pointerType,!1),$t.isOverTarget=!1}};Tt.onTouchStart=Rt=>{if(!Rt.currentTarget.contains(Rt.target))return;let Ct=$f6c31cce2adf654f$var$getTouchFromEvent(Rt.nativeEvent);if(!Ct)return;$t.activePointerId=Ct.identifier,$t.ignoreEmulatedMouseEvents=!0,$t.isOverTarget=!0,$t.isPressed=!0,$t.target=Rt.currentTarget,$t.pointerType="touch",!it&&!ot&&$7215afc6de606d6b$export$de79e2c695e052f3(Rt.currentTarget),ct||$14c0b72509d70225$export$16a4697467175487($t.target),bt($f6c31cce2adf654f$var$createTouchEvent($t.target,Rt),$t.pointerType)&&Rt.stopPropagation(),gt($431fbd86ca7dc216$export$f21a1ffae260145a(Rt.currentTarget),"scroll",At,!0)},Tt.onTouchMove=Rt=>{if(!Rt.currentTarget.contains(Rt.target))return;if(!$t.isPressed){Rt.stopPropagation();return}let Ct=$f6c31cce2adf654f$var$getTouchById(Rt.nativeEvent,$t.activePointerId),Dt=!0;Ct&&$f6c31cce2adf654f$var$isOverTarget(Ct,Rt.currentTarget)?!$t.isOverTarget&&$t.pointerType!=null&&($t.isOverTarget=!0,Dt=bt($f6c31cce2adf654f$var$createTouchEvent($t.target,Rt),$t.pointerType)):$t.isOverTarget&&$t.pointerType!=null&&($t.isOverTarget=!1,Dt=vt($f6c31cce2adf654f$var$createTouchEvent($t.target,Rt),$t.pointerType,!1),Et($f6c31cce2adf654f$var$createTouchEvent($t.target,Rt))),Dt&&Rt.stopPropagation()},Tt.onTouchEnd=Rt=>{if(!Rt.currentTarget.contains(Rt.target))return;if(!$t.isPressed){Rt.stopPropagation();return}let Ct=$f6c31cce2adf654f$var$getTouchById(Rt.nativeEvent,$t.activePointerId),Dt=!0;Ct&&$f6c31cce2adf654f$var$isOverTarget(Ct,Rt.currentTarget)&&$t.pointerType!=null?(yt($f6c31cce2adf654f$var$createTouchEvent($t.target,Rt),$t.pointerType),Dt=vt($f6c31cce2adf654f$var$createTouchEvent($t.target,Rt),$t.pointerType)):$t.isOverTarget&&$t.pointerType!=null&&(Dt=vt($f6c31cce2adf654f$var$createTouchEvent($t.target,Rt),$t.pointerType,!1)),Dt&&Rt.stopPropagation(),$t.isPressed=!1,$t.activePointerId=null,$t.isOverTarget=!1,$t.ignoreEmulatedMouseEvents=!0,$t.target&&!ct&&$14c0b72509d70225$export$b0d6fa1ab32e3295($t.target),mt()},Tt.onTouchCancel=Rt=>{Rt.currentTarget.contains(Rt.target)&&(Rt.stopPropagation(),$t.isPressed&&xt($f6c31cce2adf654f$var$createTouchEvent($t.target,Rt)))};let At=Rt=>{$t.isPressed&&Rt.target.contains($t.target)&&xt({currentTarget:$t.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};Tt.onDragStart=Rt=>{Rt.currentTarget.contains(Rt.target)&&xt(Rt)}}return Tt},[gt,it,ot,mt,ct,xt,Et,vt,bt,yt]);return reactExports.useEffect(()=>()=>{var $t;ct||$14c0b72509d70225$export$b0d6fa1ab32e3295(($t=pt.current.target)!==null&&$t!==void 0?$t:void 0)},[ct]),{isPressed:at||ft,pressProps:$3ef42575df84b30b$export$9d1611c77c2fe928(dt,wt)}}function $f6c31cce2adf654f$var$isHTMLAnchorLink(et){return et.tagName==="A"&&et.hasAttribute("href")}function $f6c31cce2adf654f$var$isValidKeyboardEvent(et,_e){const{key:tt,code:rt}=et,nt=_e,st=nt.getAttribute("role");return(tt==="Enter"||tt===" "||tt==="Spacebar"||rt==="Space")&&!(nt instanceof $431fbd86ca7dc216$export$f21a1ffae260145a(nt).HTMLInputElement&&!$f6c31cce2adf654f$var$isValidInputKey(nt,tt)||nt instanceof $431fbd86ca7dc216$export$f21a1ffae260145a(nt).HTMLTextAreaElement||nt.isContentEditable)&&!((st==="link"||!st&&$f6c31cce2adf654f$var$isHTMLAnchorLink(nt))&&tt!=="Enter")}function $f6c31cce2adf654f$var$getTouchFromEvent(et){const{targetTouches:_e}=et;return _e.length>0?_e[0]:null}function $f6c31cce2adf654f$var$getTouchById(et,_e){const tt=et.changedTouches;for(let rt=0;rt<tt.length;rt++){const nt=tt[rt];if(nt.identifier===_e)return nt}return null}function $f6c31cce2adf654f$var$createTouchEvent(et,_e){let tt=0,rt=0;return _e.targetTouches&&_e.targetTouches.length===1&&(tt=_e.targetTouches[0].clientX,rt=_e.targetTouches[0].clientY),{currentTarget:et,shiftKey:_e.shiftKey,ctrlKey:_e.ctrlKey,metaKey:_e.metaKey,altKey:_e.altKey,clientX:tt,clientY:rt}}function $f6c31cce2adf654f$var$createEvent(et,_e){let tt=_e.clientX,rt=_e.clientY;return{currentTarget:et,shiftKey:_e.shiftKey,ctrlKey:_e.ctrlKey,metaKey:_e.metaKey,altKey:_e.altKey,clientX:tt,clientY:rt}}function $f6c31cce2adf654f$var$getPointClientRect(et){let _e=0,tt=0;return et.width!==void 0?_e=et.width/2:et.radiusX!==void 0&&(_e=et.radiusX),et.height!==void 0?tt=et.height/2:et.radiusY!==void 0&&(tt=et.radiusY),{top:et.clientY-tt,right:et.clientX+_e,bottom:et.clientY+tt,left:et.clientX-_e}}function $f6c31cce2adf654f$var$areRectanglesOverlapping(et,_e){return!(et.left>_e.right||_e.left>et.right||et.top>_e.bottom||_e.top>et.bottom)}function $f6c31cce2adf654f$var$isOverTarget(et,_e){let tt=_e.getBoundingClientRect(),rt=$f6c31cce2adf654f$var$getPointClientRect(et);return $f6c31cce2adf654f$var$areRectanglesOverlapping(tt,rt)}function $f6c31cce2adf654f$var$shouldPreventDefaultDown(et){return!(et instanceof HTMLElement)||!et.hasAttribute("draggable")}function $f6c31cce2adf654f$var$shouldPreventDefaultUp(et){return et instanceof HTMLInputElement?!1:et instanceof HTMLButtonElement?et.type!=="submit"&&et.type!=="reset":!$f6c31cce2adf654f$var$isHTMLAnchorLink(et)}function $f6c31cce2adf654f$var$shouldPreventDefaultKeyboard(et,_e){return et instanceof HTMLInputElement?!$f6c31cce2adf654f$var$isValidInputKey(et,_e):$f6c31cce2adf654f$var$shouldPreventDefaultUp(et)}const $f6c31cce2adf654f$var$nonTextInputTypes=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function $f6c31cce2adf654f$var$isValidInputKey(et,_e){return et.type==="checkbox"||et.type==="radio"?_e===" ":$f6c31cce2adf654f$var$nonTextInputTypes.has(et.type)}function $f1ab8c75478c6f73$export$cf75428e0b9ed1ea({children:et}){let _e=reactExports.useMemo(()=>({register:()=>{}}),[]);return React.createElement($ae1eeba8b9eafd08$export$5165eccb35aaadb5.Provider,{value:_e},et)}class $8a9cb279dc87e130$export$905e7fc544a71f36{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(_e,tt){this.nativeEvent=tt,this.target=tt.target,this.currentTarget=tt.currentTarget,this.relatedTarget=tt.relatedTarget,this.bubbles=tt.bubbles,this.cancelable=tt.cancelable,this.defaultPrevented=tt.defaultPrevented,this.eventPhase=tt.eventPhase,this.isTrusted=tt.isTrusted,this.timeStamp=tt.timeStamp,this.type=_e}}function $8a9cb279dc87e130$export$715c682d09d639cc(et){let _e=reactExports.useRef({isFocused:!1,observer:null});$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{const rt=_e.current;return()=>{rt.observer&&(rt.observer.disconnect(),rt.observer=null)}},[]);let tt=$8ae05eaa5c114e9c$export$7f54fc3180508a52(rt=>{et==null||et(rt)});return reactExports.useCallback(rt=>{if(rt.target instanceof HTMLButtonElement||rt.target instanceof HTMLInputElement||rt.target instanceof HTMLTextAreaElement||rt.target instanceof HTMLSelectElement){_e.current.isFocused=!0;let nt=rt.target,st=it=>{_e.current.isFocused=!1,nt.disabled&&tt(new $8a9cb279dc87e130$export$905e7fc544a71f36("blur",it)),_e.current.observer&&(_e.current.observer.disconnect(),_e.current.observer=null)};nt.addEventListener("focusout",st,{once:!0}),_e.current.observer=new MutationObserver(()=>{if(_e.current.isFocused&&nt.disabled){var it;(it=_e.current.observer)===null||it===void 0||it.disconnect();let at=nt===document.activeElement?null:document.activeElement;nt.dispatchEvent(new FocusEvent("blur",{relatedTarget:at})),nt.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:at}))}}),_e.current.observer.observe(nt,{attributes:!0,attributeFilter:["disabled"]})}},[tt])}function $a1ea59d68270f0dd$export$f8168d8dd8fd66e6(et){let{isDisabled:_e,onFocus:tt,onBlur:rt,onFocusChange:nt}=et;const st=reactExports.useCallback(ot=>{if(ot.target===ot.currentTarget)return rt&&rt(ot),nt&&nt(!1),!0},[rt,nt]),it=$8a9cb279dc87e130$export$715c682d09d639cc(st),at=reactExports.useCallback(ot=>{const lt=$431fbd86ca7dc216$export$b204af158042fbac(ot.target);ot.target===ot.currentTarget&&lt.activeElement===ot.target&&(tt&&tt(ot),nt&&nt(!0),it(ot))},[nt,tt,it]);return{focusProps:{onFocus:!_e&&(tt||nt||rt)?at:void 0,onBlur:!_e&&(rt||nt)?st:void 0}}}let $507fabe10e71c6fb$var$currentModality=null,$507fabe10e71c6fb$var$changeHandlers=new Set,$507fabe10e71c6fb$export$d90243b58daecda7=new Map,$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!1;const $507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS={Tab:!0,Escape:!0};function $507fabe10e71c6fb$var$triggerChangeHandlers(et,_e){for(let tt of $507fabe10e71c6fb$var$changeHandlers)tt(et,_e)}function $507fabe10e71c6fb$var$isValidKey(et){return!(et.metaKey||!$c87311424ea30a05$export$9ac100e40613ea10()&&et.altKey||et.ctrlKey||et.key==="Control"||et.key==="Shift"||et.key==="Meta")}function $507fabe10e71c6fb$var$handleKeyboardEvent(et){$507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$isValidKey(et)&&($507fabe10e71c6fb$var$currentModality="keyboard",$507fabe10e71c6fb$var$triggerChangeHandlers("keyboard",et))}function $507fabe10e71c6fb$var$handlePointerEvent(et){$507fabe10e71c6fb$var$currentModality="pointer",(et.type==="mousedown"||et.type==="pointerdown")&&($507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$triggerChangeHandlers("pointer",et))}function $507fabe10e71c6fb$var$handleClickEvent(et){$6a7db85432448f7f$export$60278871457622de(et)&&($507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$currentModality="virtual")}function $507fabe10e71c6fb$var$handleFocusEvent(et){et.target===window||et.target===document||(!$507fabe10e71c6fb$var$hasEventBeforeFocus&&!$507fabe10e71c6fb$var$hasBlurredWindowRecently&&($507fabe10e71c6fb$var$currentModality="virtual",$507fabe10e71c6fb$var$triggerChangeHandlers("virtual",et)),$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!1)}function $507fabe10e71c6fb$var$handleWindowBlur(){$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!0}function $507fabe10e71c6fb$var$setupGlobalFocusEvents(et){if(typeof window>"u"||$507fabe10e71c6fb$export$d90243b58daecda7.get($431fbd86ca7dc216$export$f21a1ffae260145a(et)))return;const _e=$431fbd86ca7dc216$export$f21a1ffae260145a(et),tt=$431fbd86ca7dc216$export$b204af158042fbac(et);let rt=_e.HTMLElement.prototype.focus;_e.HTMLElement.prototype.focus=function(){$507fabe10e71c6fb$var$hasEventBeforeFocus=!0,rt.apply(this,arguments)},tt.addEventListener("keydown",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),tt.addEventListener("keyup",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),tt.addEventListener("click",$507fabe10e71c6fb$var$handleClickEvent,!0),_e.addEventListener("focus",$507fabe10e71c6fb$var$handleFocusEvent,!0),_e.addEventListener("blur",$507fabe10e71c6fb$var$handleWindowBlur,!1),typeof PointerEvent<"u"?(tt.addEventListener("pointerdown",$507fabe10e71c6fb$var$handlePointerEvent,!0),tt.addEventListener("pointermove",$507fabe10e71c6fb$var$handlePointerEvent,!0),tt.addEventListener("pointerup",$507fabe10e71c6fb$var$handlePointerEvent,!0)):(tt.addEventListener("mousedown",$507fabe10e71c6fb$var$handlePointerEvent,!0),tt.addEventListener("mousemove",$507fabe10e71c6fb$var$handlePointerEvent,!0),tt.addEventListener("mouseup",$507fabe10e71c6fb$var$handlePointerEvent,!0)),_e.addEventListener("beforeunload",()=>{$507fabe10e71c6fb$var$tearDownWindowFocusTracking(et)},{once:!0}),$507fabe10e71c6fb$export$d90243b58daecda7.set(_e,{focus:rt})}const $507fabe10e71c6fb$var$tearDownWindowFocusTracking=(et,_e)=>{const tt=$431fbd86ca7dc216$export$f21a1ffae260145a(et),rt=$431fbd86ca7dc216$export$b204af158042fbac(et);_e&&rt.removeEventListener("DOMContentLoaded",_e),$507fabe10e71c6fb$export$d90243b58daecda7.has(tt)&&(tt.HTMLElement.prototype.focus=$507fabe10e71c6fb$export$d90243b58daecda7.get(tt).focus,rt.removeEventListener("keydown",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),rt.removeEventListener("keyup",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),rt.removeEventListener("click",$507fabe10e71c6fb$var$handleClickEvent,!0),tt.removeEventListener("focus",$507fabe10e71c6fb$var$handleFocusEvent,!0),tt.removeEventListener("blur",$507fabe10e71c6fb$var$handleWindowBlur,!1),typeof PointerEvent<"u"?(rt.removeEventListener("pointerdown",$507fabe10e71c6fb$var$handlePointerEvent,!0),rt.removeEventListener("pointermove",$507fabe10e71c6fb$var$handlePointerEvent,!0),rt.removeEventListener("pointerup",$507fabe10e71c6fb$var$handlePointerEvent,!0)):(rt.removeEventListener("mousedown",$507fabe10e71c6fb$var$handlePointerEvent,!0),rt.removeEventListener("mousemove",$507fabe10e71c6fb$var$handlePointerEvent,!0),rt.removeEventListener("mouseup",$507fabe10e71c6fb$var$handlePointerEvent,!0)),$507fabe10e71c6fb$export$d90243b58daecda7.delete(tt))};function $507fabe10e71c6fb$export$2f1888112f558a7d(et){const _e=$431fbd86ca7dc216$export$b204af158042fbac(et);let tt;return _e.readyState!=="loading"?$507fabe10e71c6fb$var$setupGlobalFocusEvents(et):(tt=()=>{$507fabe10e71c6fb$var$setupGlobalFocusEvents(et)},_e.addEventListener("DOMContentLoaded",tt)),()=>$507fabe10e71c6fb$var$tearDownWindowFocusTracking(et,tt)}typeof document<"u"&&$507fabe10e71c6fb$export$2f1888112f558a7d();function $507fabe10e71c6fb$export$b9b3dfddab17db27(){return $507fabe10e71c6fb$var$currentModality!=="pointer"}function $507fabe10e71c6fb$export$630ff653c5ada6a9(){return $507fabe10e71c6fb$var$currentModality}function $507fabe10e71c6fb$export$8397ddfc504fdb9a(et){$507fabe10e71c6fb$var$currentModality=et,$507fabe10e71c6fb$var$triggerChangeHandlers(et,null)}function $507fabe10e71c6fb$export$98e20ec92f614cfe(){$507fabe10e71c6fb$var$setupGlobalFocusEvents();let[et,_e]=reactExports.useState($507fabe10e71c6fb$var$currentModality);return reactExports.useEffect(()=>{let tt=()=>{_e($507fabe10e71c6fb$var$currentModality)};return $507fabe10e71c6fb$var$changeHandlers.add(tt),()=>{$507fabe10e71c6fb$var$changeHandlers.delete(tt)}},[]),$b5e257d569688ac6$export$535bd6ca7f90a273()?null:et}const $507fabe10e71c6fb$var$nonTextInputTypes=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function $507fabe10e71c6fb$var$isKeyboardFocusEvent(et,_e,tt){var rt;const nt=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(tt==null?void 0:tt.target).HTMLInputElement:HTMLInputElement,st=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(tt==null?void 0:tt.target).HTMLTextAreaElement:HTMLTextAreaElement,it=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(tt==null?void 0:tt.target).HTMLElement:HTMLElement,at=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(tt==null?void 0:tt.target).KeyboardEvent:KeyboardEvent;return et=et||(tt==null?void 0:tt.target)instanceof nt&&!$507fabe10e71c6fb$var$nonTextInputTypes.has(tt==null||(rt=tt.target)===null||rt===void 0?void 0:rt.type)||(tt==null?void 0:tt.target)instanceof st||(tt==null?void 0:tt.target)instanceof it&&(tt==null?void 0:tt.target.isContentEditable),!(et&&_e==="keyboard"&&tt instanceof at&&!$507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS[tt.key])}function $507fabe10e71c6fb$export$ec71b4b83ac08ec3(et,_e,tt){$507fabe10e71c6fb$var$setupGlobalFocusEvents(),reactExports.useEffect(()=>{let rt=(nt,st)=>{$507fabe10e71c6fb$var$isKeyboardFocusEvent(!!(tt!=null&&tt.isTextInput),nt,st)&&et($507fabe10e71c6fb$export$b9b3dfddab17db27())};return $507fabe10e71c6fb$var$changeHandlers.add(rt),()=>{$507fabe10e71c6fb$var$changeHandlers.delete(rt)}},_e)}function $9ab94262bd0047c7$export$420e68273165f4ec(et){let{isDisabled:_e,onBlurWithin:tt,onFocusWithin:rt,onFocusWithinChange:nt}=et,st=reactExports.useRef({isFocusWithin:!1}),it=reactExports.useCallback(lt=>{st.current.isFocusWithin&&!lt.currentTarget.contains(lt.relatedTarget)&&(st.current.isFocusWithin=!1,tt&&tt(lt),nt&&nt(!1))},[tt,nt,st]),at=$8a9cb279dc87e130$export$715c682d09d639cc(it),ot=reactExports.useCallback(lt=>{!st.current.isFocusWithin&&document.activeElement===lt.target&&(rt&&rt(lt),nt&&nt(!0),st.current.isFocusWithin=!0,at(lt))},[rt,nt,at]);return _e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:ot,onBlur:it}}}let $6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!1,$6179b936705e76d3$var$hoverCount=0;function $6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents(){$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!0,setTimeout(()=>{$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!1},50)}function $6179b936705e76d3$var$handleGlobalPointerEvent(et){et.pointerType==="touch"&&$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents()}function $6179b936705e76d3$var$setupGlobalTouchEvents(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",$6179b936705e76d3$var$handleGlobalPointerEvent):document.addEventListener("touchend",$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents),$6179b936705e76d3$var$hoverCount++,()=>{$6179b936705e76d3$var$hoverCount--,!($6179b936705e76d3$var$hoverCount>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",$6179b936705e76d3$var$handleGlobalPointerEvent):document.removeEventListener("touchend",$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents))}}function $6179b936705e76d3$export$ae780daf29e6d456(et){let{onHoverStart:_e,onHoverChange:tt,onHoverEnd:rt,isDisabled:nt}=et,[st,it]=reactExports.useState(!1),at=reactExports.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;reactExports.useEffect($6179b936705e76d3$var$setupGlobalTouchEvents,[]);let{hoverProps:ot,triggerHoverEnd:lt}=reactExports.useMemo(()=>{let ct=(ft,ht)=>{if(at.pointerType=ht,nt||ht==="touch"||at.isHovered||!ft.currentTarget.contains(ft.target))return;at.isHovered=!0;let pt=ft.currentTarget;at.target=pt,_e&&_e({type:"hoverstart",target:pt,pointerType:ht}),tt&&tt(!0),it(!0)},ut=(ft,ht)=>{if(at.pointerType="",at.target=null,ht==="touch"||!at.isHovered)return;at.isHovered=!1;let pt=ft.currentTarget;rt&&rt({type:"hoverend",target:pt,pointerType:ht}),tt&&tt(!1),it(!1)},dt={};return typeof PointerEvent<"u"?(dt.onPointerEnter=ft=>{$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents&&ft.pointerType==="mouse"||ct(ft,ft.pointerType)},dt.onPointerLeave=ft=>{!nt&&ft.currentTarget.contains(ft.target)&&ut(ft,ft.pointerType)}):(dt.onTouchStart=()=>{at.ignoreEmulatedMouseEvents=!0},dt.onMouseEnter=ft=>{!at.ignoreEmulatedMouseEvents&&!$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents&&ct(ft,"mouse"),at.ignoreEmulatedMouseEvents=!1},dt.onMouseLeave=ft=>{!nt&&ft.currentTarget.contains(ft.target)&&ut(ft,"mouse")}),{hoverProps:dt,triggerHoverEnd:ut}},[_e,tt,rt,nt,at]);return reactExports.useEffect(()=>{nt&&lt({currentTarget:at.target},at.pointerType)},[nt]),{hoverProps:ot,isHovered:st}}function $e0b6e0b68ec7f50f$export$872b660ac5a1ff98(et){let{ref:_e,onInteractOutside:tt,isDisabled:rt,onInteractOutsideStart:nt}=et,st=reactExports.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),it=$8ae05eaa5c114e9c$export$7f54fc3180508a52(ot=>{tt&&$e0b6e0b68ec7f50f$var$isValidEvent(ot,_e)&&(nt&&nt(ot),st.current.isPointerDown=!0)}),at=$8ae05eaa5c114e9c$export$7f54fc3180508a52(ot=>{tt&&tt(ot)});reactExports.useEffect(()=>{let ot=st.current;if(rt)return;const lt=_e.current,ct=$431fbd86ca7dc216$export$b204af158042fbac(lt);if(typeof PointerEvent<"u"){let ut=dt=>{ot.isPointerDown&&$e0b6e0b68ec7f50f$var$isValidEvent(dt,_e)&&at(dt),ot.isPointerDown=!1};return ct.addEventListener("pointerdown",it,!0),ct.addEventListener("pointerup",ut,!0),()=>{ct.removeEventListener("pointerdown",it,!0),ct.removeEventListener("pointerup",ut,!0)}}else{let ut=ft=>{ot.ignoreEmulatedMouseEvents?ot.ignoreEmulatedMouseEvents=!1:ot.isPointerDown&&$e0b6e0b68ec7f50f$var$isValidEvent(ft,_e)&&at(ft),ot.isPointerDown=!1},dt=ft=>{ot.ignoreEmulatedMouseEvents=!0,ot.isPointerDown&&$e0b6e0b68ec7f50f$var$isValidEvent(ft,_e)&&at(ft),ot.isPointerDown=!1};return ct.addEventListener("mousedown",it,!0),ct.addEventListener("mouseup",ut,!0),ct.addEventListener("touchstart",it,!0),ct.addEventListener("touchend",dt,!0),()=>{ct.removeEventListener("mousedown",it,!0),ct.removeEventListener("mouseup",ut,!0),ct.removeEventListener("touchstart",it,!0),ct.removeEventListener("touchend",dt,!0)}}},[_e,rt,it,at])}function $e0b6e0b68ec7f50f$var$isValidEvent(et,_e){if(et.button>0)return!1;if(et.target){const tt=et.target.ownerDocument;if(!tt||!tt.documentElement.contains(et.target)||et.target.closest("[data-react-aria-top-layer]"))return!1}return _e.current&&!_e.current.contains(et.target)}function $93925083ecbb358c$export$48d1ea6320830260(et){if(!et)return;let _e=!0;return tt=>{let rt={...tt,preventDefault(){tt.preventDefault()},isDefaultPrevented(){return tt.isDefaultPrevented()},stopPropagation(){console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.")},continuePropagation(){_e=!1}};et(rt),_e&&tt.stopPropagation()}}function $46d819fcbaf35654$export$8f71654801c2f7cd(et){return{keyboardProps:et.isDisabled?{}:{onKeyDown:$93925083ecbb358c$export$48d1ea6320830260(et.onKeyDown),onKeyUp:$93925083ecbb358c$export$48d1ea6320830260(et.onKeyUp)}}}function $e8a7022cf87cba2a$export$36da96379f79f245(et){let{onMoveStart:_e,onMove:tt,onMoveEnd:rt}=et,nt=reactExports.useRef({didMove:!1,lastPosition:null,id:null}),{addGlobalListener:st,removeGlobalListener:it}=$03deb23ff14920c4$export$4eaf04e54aa8eed6(),at=$8ae05eaa5c114e9c$export$7f54fc3180508a52((ct,ut,dt,ft)=>{dt===0&&ft===0||(nt.current.didMove||(nt.current.didMove=!0,_e==null||_e({type:"movestart",pointerType:ut,shiftKey:ct.shiftKey,metaKey:ct.metaKey,ctrlKey:ct.ctrlKey,altKey:ct.altKey})),tt==null||tt({type:"move",pointerType:ut,deltaX:dt,deltaY:ft,shiftKey:ct.shiftKey,metaKey:ct.metaKey,ctrlKey:ct.ctrlKey,altKey:ct.altKey}))}),ot=$8ae05eaa5c114e9c$export$7f54fc3180508a52((ct,ut)=>{$14c0b72509d70225$export$b0d6fa1ab32e3295(),nt.current.didMove&&(rt==null||rt({type:"moveend",pointerType:ut,shiftKey:ct.shiftKey,metaKey:ct.metaKey,ctrlKey:ct.ctrlKey,altKey:ct.altKey}))});return{moveProps:reactExports.useMemo(()=>{let ct={},ut=()=>{$14c0b72509d70225$export$16a4697467175487(),nt.current.didMove=!1};if(typeof PointerEvent>"u"){let ft=mt=>{if(mt.button===0){var bt,vt,yt,xt;at(mt,"mouse",mt.pageX-((yt=(bt=nt.current.lastPosition)===null||bt===void 0?void 0:bt.pageX)!==null&&yt!==void 0?yt:0),mt.pageY-((xt=(vt=nt.current.lastPosition)===null||vt===void 0?void 0:vt.pageY)!==null&&xt!==void 0?xt:0)),nt.current.lastPosition={pageX:mt.pageX,pageY:mt.pageY}}},ht=mt=>{mt.button===0&&(ot(mt,"mouse"),it(window,"mousemove",ft,!1),it(window,"mouseup",ht,!1))};ct.onMouseDown=mt=>{mt.button===0&&(ut(),mt.stopPropagation(),mt.preventDefault(),nt.current.lastPosition={pageX:mt.pageX,pageY:mt.pageY},st(window,"mousemove",ft,!1),st(window,"mouseup",ht,!1))};let pt=mt=>{let bt=[...mt.changedTouches].findIndex(({identifier:wt})=>wt===nt.current.id);if(bt>=0){var vt,yt;let{pageX:wt,pageY:$t}=mt.changedTouches[bt];var xt,Et;at(mt,"touch",wt-((xt=(vt=nt.current.lastPosition)===null||vt===void 0?void 0:vt.pageX)!==null&&xt!==void 0?xt:0),$t-((Et=(yt=nt.current.lastPosition)===null||yt===void 0?void 0:yt.pageY)!==null&&Et!==void 0?Et:0)),nt.current.lastPosition={pageX:wt,pageY:$t}}},gt=mt=>{[...mt.changedTouches].findIndex(({identifier:vt})=>vt===nt.current.id)>=0&&(ot(mt,"touch"),nt.current.id=null,it(window,"touchmove",pt),it(window,"touchend",gt),it(window,"touchcancel",gt))};ct.onTouchStart=mt=>{if(mt.changedTouches.length===0||nt.current.id!=null)return;let{pageX:bt,pageY:vt,identifier:yt}=mt.changedTouches[0];ut(),mt.stopPropagation(),mt.preventDefault(),nt.current.lastPosition={pageX:bt,pageY:vt},nt.current.id=yt,st(window,"touchmove",pt,!1),st(window,"touchend",gt,!1),st(window,"touchcancel",gt,!1)}}else{let ft=pt=>{if(pt.pointerId===nt.current.id){var gt,mt;let yt=pt.pointerType||"mouse";var bt,vt;at(pt,yt,pt.pageX-((bt=(gt=nt.current.lastPosition)===null||gt===void 0?void 0:gt.pageX)!==null&&bt!==void 0?bt:0),pt.pageY-((vt=(mt=nt.current.lastPosition)===null||mt===void 0?void 0:mt.pageY)!==null&&vt!==void 0?vt:0)),nt.current.lastPosition={pageX:pt.pageX,pageY:pt.pageY}}},ht=pt=>{if(pt.pointerId===nt.current.id){let gt=pt.pointerType||"mouse";ot(pt,gt),nt.current.id=null,it(window,"pointermove",ft,!1),it(window,"pointerup",ht,!1),it(window,"pointercancel",ht,!1)}};ct.onPointerDown=pt=>{pt.button===0&&nt.current.id==null&&(ut(),pt.stopPropagation(),pt.preventDefault(),nt.current.lastPosition={pageX:pt.pageX,pageY:pt.pageY},nt.current.id=pt.pointerId,st(window,"pointermove",ft,!1),st(window,"pointerup",ht,!1),st(window,"pointercancel",ht,!1))}}let dt=(ft,ht,pt)=>{ut(),at(ft,"keyboard",ht,pt),ot(ft,"keyboard")};return ct.onKeyDown=ft=>{switch(ft.key){case"Left":case"ArrowLeft":ft.preventDefault(),ft.stopPropagation(),dt(ft,-1,0);break;case"Right":case"ArrowRight":ft.preventDefault(),ft.stopPropagation(),dt(ft,1,0);break;case"Up":case"ArrowUp":ft.preventDefault(),ft.stopPropagation(),dt(ft,0,-1);break;case"Down":case"ArrowDown":ft.preventDefault(),ft.stopPropagation(),dt(ft,0,1);break}},ct},[nt,st,it,at,ot])}}const $8a26561d2877236e$var$DEFAULT_THRESHOLD=500;function $8a26561d2877236e$export$c24ed0104d07eab9(et){let{isDisabled:_e,onLongPressStart:tt,onLongPressEnd:rt,onLongPress:nt,threshold:st=$8a26561d2877236e$var$DEFAULT_THRESHOLD,accessibilityDescription:it}=et;const at=reactExports.useRef(void 0);let{addGlobalListener:ot,removeGlobalListener:lt}=$03deb23ff14920c4$export$4eaf04e54aa8eed6(),{pressProps:ct}=$f6c31cce2adf654f$export$45712eceda6fad21({isDisabled:_e,onPressStart(dt){if(dt.continuePropagation(),(dt.pointerType==="mouse"||dt.pointerType==="touch")&&(tt&&tt({...dt,type:"longpressstart"}),at.current=setTimeout(()=>{dt.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),nt&&nt({...dt,type:"longpress"}),at.current=void 0},st),dt.pointerType==="touch")){let ft=ht=>{ht.preventDefault()};ot(dt.target,"contextmenu",ft,{once:!0}),ot(window,"pointerup",()=>{setTimeout(()=>{lt(dt.target,"contextmenu",ft)},30)},{once:!0})}},onPressEnd(dt){at.current&&clearTimeout(at.current),rt&&(dt.pointerType==="mouse"||dt.pointerType==="touch")&&rt({...dt,type:"longpressend"})}}),ut=$ef06256079686ba0$export$f8aeda7b10753fa1(nt&&!_e?it:void 0);return{longPressProps:$3ef42575df84b30b$export$9d1611c77c2fe928(ct,ut)}}function $6a99195332edec8b$export$80f3e147d781571c(et){const _e=$431fbd86ca7dc216$export$b204af158042fbac(et);if($507fabe10e71c6fb$export$630ff653c5ada6a9()==="virtual"){let tt=_e.activeElement;$bbed8b41f857bcc0$export$24490316f764c430(()=>{_e.activeElement===tt&&et.isConnected&&$7215afc6de606d6b$export$de79e2c695e052f3(et)})}else $7215afc6de606d6b$export$de79e2c695e052f3(et)}function $645f2e67b85a24c9$var$isStyleVisible(et){const _e=$431fbd86ca7dc216$export$f21a1ffae260145a(et);if(!(et instanceof _e.HTMLElement)&&!(et instanceof _e.SVGElement))return!1;let{display:tt,visibility:rt}=et.style,nt=tt!=="none"&&rt!=="hidden"&&rt!=="collapse";if(nt){const{getComputedStyle:st}=et.ownerDocument.defaultView;let{display:it,visibility:at}=st(et);nt=it!=="none"&&at!=="hidden"&&at!=="collapse"}return nt}function $645f2e67b85a24c9$var$isAttributeVisible(et,_e){return!et.hasAttribute("hidden")&&!et.hasAttribute("data-react-aria-prevent-focus")&&(et.nodeName==="DETAILS"&&_e&&_e.nodeName!=="SUMMARY"?et.hasAttribute("open"):!0)}function $645f2e67b85a24c9$export$e989c0fffaa6b27a(et,_e){return et.nodeName!=="#comment"&&$645f2e67b85a24c9$var$isStyleVisible(et)&&$645f2e67b85a24c9$var$isAttributeVisible(et,_e)&&(!et.parentElement||$645f2e67b85a24c9$export$e989c0fffaa6b27a(et.parentElement,et))}const $9bf71ea28793e738$var$FocusContext=React.createContext(null),$9bf71ea28793e738$var$RESTORE_FOCUS_EVENT="react-aria-focus-scope-restore";let $9bf71ea28793e738$var$activeScope=null;function $9bf71ea28793e738$export$20e40289641fbbb6(et){let{children:_e,contain:tt,restoreFocus:rt,autoFocus:nt}=et,st=reactExports.useRef(null),it=reactExports.useRef(null),at=reactExports.useRef([]),{parentNode:ot}=reactExports.useContext($9bf71ea28793e738$var$FocusContext)||{},lt=reactExports.useMemo(()=>new $9bf71ea28793e738$var$TreeNode({scopeRef:at}),[at]);$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{let dt=ot||$9bf71ea28793e738$export$d06fae2ee68b101e.root;if($9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(dt.scopeRef)&&$9bf71ea28793e738$var$activeScope&&!$9bf71ea28793e738$var$isAncestorScope($9bf71ea28793e738$var$activeScope,dt.scopeRef)){let ft=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode($9bf71ea28793e738$var$activeScope);ft&&(dt=ft)}dt.addChild(lt),$9bf71ea28793e738$export$d06fae2ee68b101e.addNode(lt)},[lt,ot]),$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{let dt=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(at);dt&&(dt.contain=!!tt)},[tt]),$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{var dt;let ft=(dt=st.current)===null||dt===void 0?void 0:dt.nextSibling,ht=[],pt=gt=>gt.stopPropagation();for(;ft&&ft!==it.current;)ht.push(ft),ft.addEventListener($9bf71ea28793e738$var$RESTORE_FOCUS_EVENT,pt),ft=ft.nextSibling;return at.current=ht,()=>{for(let gt of ht)gt.removeEventListener($9bf71ea28793e738$var$RESTORE_FOCUS_EVENT,pt)}},[_e]),$9bf71ea28793e738$var$useActiveScopeTracker(at,rt,tt),$9bf71ea28793e738$var$useFocusContainment(at,tt),$9bf71ea28793e738$var$useRestoreFocus(at,rt,tt),$9bf71ea28793e738$var$useAutoFocus(at,nt),reactExports.useEffect(()=>{const dt=$431fbd86ca7dc216$export$b204af158042fbac(at.current?at.current[0]:void 0).activeElement;let ft=null;if($9bf71ea28793e738$var$isElementInScope(dt,at.current)){for(let ht of $9bf71ea28793e738$export$d06fae2ee68b101e.traverse())ht.scopeRef&&$9bf71ea28793e738$var$isElementInScope(dt,ht.scopeRef.current)&&(ft=ht);ft===$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(at)&&($9bf71ea28793e738$var$activeScope=ft.scopeRef)}},[at]),$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>()=>{var dt,ft,ht;let pt=(ht=(ft=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(at))===null||ft===void 0||(dt=ft.parent)===null||dt===void 0?void 0:dt.scopeRef)!==null&&ht!==void 0?ht:null;(at===$9bf71ea28793e738$var$activeScope||$9bf71ea28793e738$var$isAncestorScope(at,$9bf71ea28793e738$var$activeScope))&&(!pt||$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(pt))&&($9bf71ea28793e738$var$activeScope=pt),$9bf71ea28793e738$export$d06fae2ee68b101e.removeTreeNode(at)},[at]);let ct=reactExports.useMemo(()=>$9bf71ea28793e738$var$createFocusManagerForScope(at),[]),ut=reactExports.useMemo(()=>({focusManager:ct,parentNode:lt}),[lt,ct]);return React.createElement($9bf71ea28793e738$var$FocusContext.Provider,{value:ut},React.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:st}),_e,React.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:it}))}function $9bf71ea28793e738$var$createFocusManagerForScope(et){return{focusNext(_e={}){let tt=et.current,{from:rt,tabbable:nt,wrap:st,accept:it}=_e,at=rt||$431fbd86ca7dc216$export$b204af158042fbac(tt[0]).activeElement,ot=tt[0].previousElementSibling,lt=$9bf71ea28793e738$var$getScopeRoot(tt),ct=$9bf71ea28793e738$export$2d6ec8fc375ceafa(lt,{tabbable:nt,accept:it},tt);ct.currentNode=$9bf71ea28793e738$var$isElementInScope(at,tt)?at:ot;let ut=ct.nextNode();return!ut&&st&&(ct.currentNode=ot,ut=ct.nextNode()),ut&&$9bf71ea28793e738$var$focusElement(ut,!0),ut},focusPrevious(_e={}){let tt=et.current,{from:rt,tabbable:nt,wrap:st,accept:it}=_e,at=rt||$431fbd86ca7dc216$export$b204af158042fbac(tt[0]).activeElement,ot=tt[tt.length-1].nextElementSibling,lt=$9bf71ea28793e738$var$getScopeRoot(tt),ct=$9bf71ea28793e738$export$2d6ec8fc375ceafa(lt,{tabbable:nt,accept:it},tt);ct.currentNode=$9bf71ea28793e738$var$isElementInScope(at,tt)?at:ot;let ut=ct.previousNode();return!ut&&st&&(ct.currentNode=ot,ut=ct.previousNode()),ut&&$9bf71ea28793e738$var$focusElement(ut,!0),ut},focusFirst(_e={}){let tt=et.current,{tabbable:rt,accept:nt}=_e,st=$9bf71ea28793e738$var$getScopeRoot(tt),it=$9bf71ea28793e738$export$2d6ec8fc375ceafa(st,{tabbable:rt,accept:nt},tt);it.currentNode=tt[0].previousElementSibling;let at=it.nextNode();return at&&$9bf71ea28793e738$var$focusElement(at,!0),at},focusLast(_e={}){let tt=et.current,{tabbable:rt,accept:nt}=_e,st=$9bf71ea28793e738$var$getScopeRoot(tt),it=$9bf71ea28793e738$export$2d6ec8fc375ceafa(st,{tabbable:rt,accept:nt},tt);it.currentNode=tt[tt.length-1].nextElementSibling;let at=it.previousNode();return at&&$9bf71ea28793e738$var$focusElement(at,!0),at}}}const $9bf71ea28793e738$var$focusableElements=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],$9bf71ea28793e738$var$FOCUSABLE_ELEMENT_SELECTOR=$9bf71ea28793e738$var$focusableElements.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";$9bf71ea28793e738$var$focusableElements.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const $9bf71ea28793e738$var$TABBABLE_ELEMENT_SELECTOR=$9bf71ea28793e738$var$focusableElements.join(':not([hidden]):not([tabindex="-1"]),');function $9bf71ea28793e738$var$getScopeRoot(et){return et[0].parentElement}function $9bf71ea28793e738$var$shouldContainFocus(et){let _e=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode($9bf71ea28793e738$var$activeScope);for(;_e&&_e.scopeRef!==et;){if(_e.contain)return!1;_e=_e.parent}return!0}function $9bf71ea28793e738$var$useFocusContainment(et,_e){let tt=reactExports.useRef(void 0),rt=reactExports.useRef(void 0);$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{let nt=et.current;if(!_e){rt.current&&(cancelAnimationFrame(rt.current),rt.current=void 0);return}const st=$431fbd86ca7dc216$export$b204af158042fbac(nt?nt[0]:void 0);let it=lt=>{if(lt.key!=="Tab"||lt.altKey||lt.ctrlKey||lt.metaKey||!$9bf71ea28793e738$var$shouldContainFocus(et)||lt.isComposing)return;let ct=st.activeElement,ut=et.current;if(!ut||!$9bf71ea28793e738$var$isElementInScope(ct,ut))return;let dt=$9bf71ea28793e738$var$getScopeRoot(ut),ft=$9bf71ea28793e738$export$2d6ec8fc375ceafa(dt,{tabbable:!0},ut);if(!ct)return;ft.currentNode=ct;let ht=lt.shiftKey?ft.previousNode():ft.nextNode();ht||(ft.currentNode=lt.shiftKey?ut[ut.length-1].nextElementSibling:ut[0].previousElementSibling,ht=lt.shiftKey?ft.previousNode():ft.nextNode()),lt.preventDefault(),ht&&$9bf71ea28793e738$var$focusElement(ht,!0)},at=lt=>{(!$9bf71ea28793e738$var$activeScope||$9bf71ea28793e738$var$isAncestorScope($9bf71ea28793e738$var$activeScope,et))&&$9bf71ea28793e738$var$isElementInScope(lt.target,et.current)?($9bf71ea28793e738$var$activeScope=et,tt.current=lt.target):$9bf71ea28793e738$var$shouldContainFocus(et)&&!$9bf71ea28793e738$var$isElementInChildScope(lt.target,et)?tt.current?tt.current.focus():$9bf71ea28793e738$var$activeScope&&$9bf71ea28793e738$var$activeScope.current&&$9bf71ea28793e738$var$focusFirstInScope($9bf71ea28793e738$var$activeScope.current):$9bf71ea28793e738$var$shouldContainFocus(et)&&(tt.current=lt.target)},ot=lt=>{rt.current&&cancelAnimationFrame(rt.current),rt.current=requestAnimationFrame(()=>{if(st.activeElement&&$9bf71ea28793e738$var$shouldContainFocus(et)&&!$9bf71ea28793e738$var$isElementInChildScope(st.activeElement,et))if($9bf71ea28793e738$var$activeScope=et,st.body.contains(lt.target)){var ct;tt.current=lt.target,(ct=tt.current)===null||ct===void 0||ct.focus()}else $9bf71ea28793e738$var$activeScope.current&&$9bf71ea28793e738$var$focusFirstInScope($9bf71ea28793e738$var$activeScope.current)})};return st.addEventListener("keydown",it,!1),st.addEventListener("focusin",at,!1),nt==null||nt.forEach(lt=>lt.addEventListener("focusin",at,!1)),nt==null||nt.forEach(lt=>lt.addEventListener("focusout",ot,!1)),()=>{st.removeEventListener("keydown",it,!1),st.removeEventListener("focusin",at,!1),nt==null||nt.forEach(lt=>lt.removeEventListener("focusin",at,!1)),nt==null||nt.forEach(lt=>lt.removeEventListener("focusout",ot,!1))}},[et,_e]),$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>()=>{rt.current&&cancelAnimationFrame(rt.current)},[rt])}function $9bf71ea28793e738$var$isElementInAnyScope(et){return $9bf71ea28793e738$var$isElementInChildScope(et)}function $9bf71ea28793e738$var$isElementInScope(et,_e){return!et||!_e?!1:_e.some(tt=>tt.contains(et))}function $9bf71ea28793e738$var$isElementInChildScope(et,_e=null){if(et instanceof Element&&et.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:tt}of $9bf71ea28793e738$export$d06fae2ee68b101e.traverse($9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(_e)))if(tt&&$9bf71ea28793e738$var$isElementInScope(et,tt.current))return!0;return!1}function $9bf71ea28793e738$export$1258395f99bf9cbf(et){return $9bf71ea28793e738$var$isElementInChildScope(et,$9bf71ea28793e738$var$activeScope)}function $9bf71ea28793e738$var$isAncestorScope(et,_e){var tt;let rt=(tt=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(_e))===null||tt===void 0?void 0:tt.parent;for(;rt;){if(rt.scopeRef===et)return!0;rt=rt.parent}return!1}function $9bf71ea28793e738$var$focusElement(et,_e=!1){if(et!=null&&!_e)try{$6a99195332edec8b$export$80f3e147d781571c(et)}catch{}else if(et!=null)try{et.focus()}catch{}}function $9bf71ea28793e738$var$getFirstInScope(et,_e=!0){let tt=et[0].previousElementSibling,rt=$9bf71ea28793e738$var$getScopeRoot(et),nt=$9bf71ea28793e738$export$2d6ec8fc375ceafa(rt,{tabbable:_e},et);nt.currentNode=tt;let st=nt.nextNode();return _e&&!st&&(rt=$9bf71ea28793e738$var$getScopeRoot(et),nt=$9bf71ea28793e738$export$2d6ec8fc375ceafa(rt,{tabbable:!1},et),nt.currentNode=tt,st=nt.nextNode()),st}function $9bf71ea28793e738$var$focusFirstInScope(et,_e=!0){$9bf71ea28793e738$var$focusElement($9bf71ea28793e738$var$getFirstInScope(et,_e))}function $9bf71ea28793e738$var$useAutoFocus(et,_e){const tt=React.useRef(_e);reactExports.useEffect(()=>{if(tt.current){$9bf71ea28793e738$var$activeScope=et;const rt=$431fbd86ca7dc216$export$b204af158042fbac(et.current?et.current[0]:void 0);!$9bf71ea28793e738$var$isElementInScope(rt.activeElement,$9bf71ea28793e738$var$activeScope.current)&&et.current&&$9bf71ea28793e738$var$focusFirstInScope(et.current)}tt.current=!1},[et])}function $9bf71ea28793e738$var$useActiveScopeTracker(et,_e,tt){$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{if(_e||tt)return;let rt=et.current;const nt=$431fbd86ca7dc216$export$b204af158042fbac(rt?rt[0]:void 0);let st=it=>{let at=it.target;$9bf71ea28793e738$var$isElementInScope(at,et.current)?$9bf71ea28793e738$var$activeScope=et:$9bf71ea28793e738$var$isElementInAnyScope(at)||($9bf71ea28793e738$var$activeScope=null)};return nt.addEventListener("focusin",st,!1),rt==null||rt.forEach(it=>it.addEventListener("focusin",st,!1)),()=>{nt.removeEventListener("focusin",st,!1),rt==null||rt.forEach(it=>it.removeEventListener("focusin",st,!1))}},[et,_e,tt])}function $9bf71ea28793e738$var$shouldRestoreFocus(et){let _e=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode($9bf71ea28793e738$var$activeScope);for(;_e&&_e.scopeRef!==et;){if(_e.nodeToRestore)return!1;_e=_e.parent}return(_e==null?void 0:_e.scopeRef)===et}function $9bf71ea28793e738$var$useRestoreFocus(et,_e,tt){const rt=reactExports.useRef(typeof document<"u"?$431fbd86ca7dc216$export$b204af158042fbac(et.current?et.current[0]:void 0).activeElement:null);$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{let nt=et.current;const st=$431fbd86ca7dc216$export$b204af158042fbac(nt?nt[0]:void 0);if(!_e||tt)return;let it=()=>{(!$9bf71ea28793e738$var$activeScope||$9bf71ea28793e738$var$isAncestorScope($9bf71ea28793e738$var$activeScope,et))&&$9bf71ea28793e738$var$isElementInScope(st.activeElement,et.current)&&($9bf71ea28793e738$var$activeScope=et)};return st.addEventListener("focusin",it,!1),nt==null||nt.forEach(at=>at.addEventListener("focusin",it,!1)),()=>{st.removeEventListener("focusin",it,!1),nt==null||nt.forEach(at=>at.removeEventListener("focusin",it,!1))}},[et,tt]),$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{const nt=$431fbd86ca7dc216$export$b204af158042fbac(et.current?et.current[0]:void 0);if(!_e)return;let st=it=>{if(it.key!=="Tab"||it.altKey||it.ctrlKey||it.metaKey||!$9bf71ea28793e738$var$shouldContainFocus(et)||it.isComposing)return;let at=nt.activeElement;if(!$9bf71ea28793e738$var$isElementInChildScope(at,et)||!$9bf71ea28793e738$var$shouldRestoreFocus(et))return;let ot=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(et);if(!ot)return;let lt=ot.nodeToRestore,ct=$9bf71ea28793e738$export$2d6ec8fc375ceafa(nt.body,{tabbable:!0});ct.currentNode=at;let ut=it.shiftKey?ct.previousNode():ct.nextNode();if((!lt||!nt.body.contains(lt)||lt===nt.body)&&(lt=void 0,ot.nodeToRestore=void 0),(!ut||!$9bf71ea28793e738$var$isElementInChildScope(ut,et))&&lt){ct.currentNode=lt;do ut=it.shiftKey?ct.previousNode():ct.nextNode();while($9bf71ea28793e738$var$isElementInChildScope(ut,et));it.preventDefault(),it.stopPropagation(),ut?$9bf71ea28793e738$var$focusElement(ut,!0):$9bf71ea28793e738$var$isElementInAnyScope(lt)?$9bf71ea28793e738$var$focusElement(lt,!0):at.blur()}};return tt||nt.addEventListener("keydown",st,!0),()=>{tt||nt.removeEventListener("keydown",st,!0)}},[et,_e,tt]),$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{const nt=$431fbd86ca7dc216$export$b204af158042fbac(et.current?et.current[0]:void 0);if(!_e)return;let st=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(et);if(st){var it;return st.nodeToRestore=(it=rt.current)!==null&&it!==void 0?it:void 0,()=>{let at=$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(et);if(!at)return;let ot=at.nodeToRestore;if(_e&&ot&&(nt.activeElement&&$9bf71ea28793e738$var$isElementInChildScope(nt.activeElement,et)||nt.activeElement===nt.body&&$9bf71ea28793e738$var$shouldRestoreFocus(et))){let lt=$9bf71ea28793e738$export$d06fae2ee68b101e.clone();requestAnimationFrame(()=>{if(nt.activeElement===nt.body){let ct=lt.getTreeNode(et);for(;ct;){if(ct.nodeToRestore&&ct.nodeToRestore.isConnected){$9bf71ea28793e738$var$restoreFocusToElement(ct.nodeToRestore);return}ct=ct.parent}for(ct=lt.getTreeNode(et);ct;){if(ct.scopeRef&&ct.scopeRef.current&&$9bf71ea28793e738$export$d06fae2ee68b101e.getTreeNode(ct.scopeRef)){let ut=$9bf71ea28793e738$var$getFirstInScope(ct.scopeRef.current,!0);$9bf71ea28793e738$var$restoreFocusToElement(ut);return}ct=ct.parent}}})}}}},[et,_e])}function $9bf71ea28793e738$var$restoreFocusToElement(et){et.dispatchEvent(new CustomEvent($9bf71ea28793e738$var$RESTORE_FOCUS_EVENT,{bubbles:!0,cancelable:!0}))&&$9bf71ea28793e738$var$focusElement(et)}function $9bf71ea28793e738$export$2d6ec8fc375ceafa(et,_e,tt){let rt=_e!=null&&_e.tabbable?$9bf71ea28793e738$var$TABBABLE_ELEMENT_SELECTOR:$9bf71ea28793e738$var$FOCUSABLE_ELEMENT_SELECTOR,nt=$431fbd86ca7dc216$export$b204af158042fbac(et).createTreeWalker(et,NodeFilter.SHOW_ELEMENT,{acceptNode(st){var it;return!(_e==null||(it=_e.from)===null||it===void 0)&&it.contains(st)?NodeFilter.FILTER_REJECT:st.matches(rt)&&$645f2e67b85a24c9$export$e989c0fffaa6b27a(st)&&(!tt||$9bf71ea28793e738$var$isElementInScope(st,tt))&&(!(_e!=null&&_e.accept)||_e.accept(st))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return _e!=null&&_e.from&&(nt.currentNode=_e.from),nt}class $9bf71ea28793e738$var$Tree{get size(){return this.fastMap.size}getTreeNode(_e){return this.fastMap.get(_e)}addTreeNode(_e,tt,rt){let nt=this.fastMap.get(tt??null);if(!nt)return;let st=new $9bf71ea28793e738$var$TreeNode({scopeRef:_e});nt.addChild(st),st.parent=nt,this.fastMap.set(_e,st),rt&&(st.nodeToRestore=rt)}addNode(_e){this.fastMap.set(_e.scopeRef,_e)}removeTreeNode(_e){if(_e===null)return;let tt=this.fastMap.get(_e);if(!tt)return;let rt=tt.parent;for(let st of this.traverse())st!==tt&&tt.nodeToRestore&&st.nodeToRestore&&tt.scopeRef&&tt.scopeRef.current&&$9bf71ea28793e738$var$isElementInScope(st.nodeToRestore,tt.scopeRef.current)&&(st.nodeToRestore=tt.nodeToRestore);let nt=tt.children;rt&&(rt.removeChild(tt),nt.size>0&&nt.forEach(st=>rt&&rt.addChild(st))),this.fastMap.delete(tt.scopeRef)}*traverse(_e=this.root){if(_e.scopeRef!=null&&(yield _e),_e.children.size>0)for(let tt of _e.children)yield*this.traverse(tt)}clone(){var _e;let tt=new $9bf71ea28793e738$var$Tree;var rt;for(let nt of this.traverse())tt.addTreeNode(nt.scopeRef,(rt=(_e=nt.parent)===null||_e===void 0?void 0:_e.scopeRef)!==null&&rt!==void 0?rt:null,nt.nodeToRestore);return tt}constructor(){this.fastMap=new Map,this.root=new $9bf71ea28793e738$var$TreeNode({scopeRef:null}),this.fastMap.set(null,this.root)}}class $9bf71ea28793e738$var$TreeNode{addChild(_e){this.children.add(_e),_e.parent=this}removeChild(_e){this.children.delete(_e),_e.parent=void 0}constructor(_e){this.children=new Set,this.contain=!1,this.scopeRef=_e.scopeRef}}let $9bf71ea28793e738$export$d06fae2ee68b101e=new $9bf71ea28793e738$var$Tree;function $f7dceffc5ad7768b$export$4e328f61c538687f(et={}){let{autoFocus:_e=!1,isTextInput:tt,within:rt}=et,nt=reactExports.useRef({isFocused:!1,isFocusVisible:_e||$507fabe10e71c6fb$export$b9b3dfddab17db27()}),[st,it]=reactExports.useState(!1),[at,ot]=reactExports.useState(()=>nt.current.isFocused&&nt.current.isFocusVisible),lt=reactExports.useCallback(()=>ot(nt.current.isFocused&&nt.current.isFocusVisible),[]),ct=reactExports.useCallback(ft=>{nt.current.isFocused=ft,it(ft),lt()},[lt]);$507fabe10e71c6fb$export$ec71b4b83ac08ec3(ft=>{nt.current.isFocusVisible=ft,lt()},[],{isTextInput:tt});let{focusProps:ut}=$a1ea59d68270f0dd$export$f8168d8dd8fd66e6({isDisabled:rt,onFocusChange:ct}),{focusWithinProps:dt}=$9ab94262bd0047c7$export$420e68273165f4ec({isDisabled:!rt,onFocusWithinChange:ct});return{isFocused:st,isFocusVisible:at,focusProps:rt?dt:ut}}let $e6afbd83fe6ebbd2$var$FocusableContext=React.createContext(null);function $e6afbd83fe6ebbd2$var$useFocusableContext(et){let _e=reactExports.useContext($e6afbd83fe6ebbd2$var$FocusableContext)||{};$e7801be82b4b2a53$export$4debdb1a3f0fa79e(_e,et);let{ref:tt,...rt}=_e;return rt}function $e6afbd83fe6ebbd2$export$4c014de7c8940b4c(et,_e){let{focusProps:tt}=$a1ea59d68270f0dd$export$f8168d8dd8fd66e6(et),{keyboardProps:rt}=$46d819fcbaf35654$export$8f71654801c2f7cd(et),nt=$3ef42575df84b30b$export$9d1611c77c2fe928(tt,rt),st=$e6afbd83fe6ebbd2$var$useFocusableContext(_e),it=et.isDisabled?{}:st,at=reactExports.useRef(et.autoFocus);return reactExports.useEffect(()=>{at.current&&_e.current&&$6a99195332edec8b$export$80f3e147d781571c(_e.current),at.current=!1},[_e]),{focusableProps:$3ef42575df84b30b$export$9d1611c77c2fe928({...nt,tabIndex:et.excludeFromTabOrder&&!et.isDisabled?-1:void 0},it)}}function $83013635b024ae3d$export$eac1895992b9f3d6(et,_e){let tt=_e==null?void 0:_e.isDisabled,[rt,nt]=reactExports.useState(!1);return $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{if(et!=null&&et.current&&!tt){let st=()=>{if(et.current){let at=$9bf71ea28793e738$export$2d6ec8fc375ceafa(et.current,{tabbable:!0});nt(!!at.nextNode())}};st();let it=new MutationObserver(st);return it.observe(et.current,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["tabIndex","disabled"]}),()=>{it.disconnect()}}}),tt?!1:rt}const $a11501f3d1d39e6c$var$visibleOverlays=[];function $a11501f3d1d39e6c$export$ea8f71083e90600f(et,_e){let{onClose:tt,shouldCloseOnBlur:rt,isOpen:nt,isDismissable:st=!1,isKeyboardDismissDisabled:it=!1,shouldCloseOnInteractOutside:at}=et;reactExports.useEffect(()=>(nt&&$a11501f3d1d39e6c$var$visibleOverlays.push(_e),()=>{let ht=$a11501f3d1d39e6c$var$visibleOverlays.indexOf(_e);ht>=0&&$a11501f3d1d39e6c$var$visibleOverlays.splice(ht,1)}),[nt,_e]);let ot=()=>{$a11501f3d1d39e6c$var$visibleOverlays[$a11501f3d1d39e6c$var$visibleOverlays.length-1]===_e&&tt&&tt()},lt=ht=>{(!at||at(ht.target))&&$a11501f3d1d39e6c$var$visibleOverlays[$a11501f3d1d39e6c$var$visibleOverlays.length-1]===_e&&(ht.stopPropagation(),ht.preventDefault())},ct=ht=>{(!at||at(ht.target))&&($a11501f3d1d39e6c$var$visibleOverlays[$a11501f3d1d39e6c$var$visibleOverlays.length-1]===_e&&(ht.stopPropagation(),ht.preventDefault()),ot())},ut=ht=>{ht.key==="Escape"&&!it&&!ht.nativeEvent.isComposing&&(ht.stopPropagation(),ht.preventDefault(),ot())};$e0b6e0b68ec7f50f$export$872b660ac5a1ff98({ref:_e,onInteractOutside:st&&nt?ct:void 0,onInteractOutsideStart:lt});let{focusWithinProps:dt}=$9ab94262bd0047c7$export$420e68273165f4ec({isDisabled:!rt,onBlurWithin:ht=>{!ht.relatedTarget||$9bf71ea28793e738$export$1258395f99bf9cbf(ht.relatedTarget)||(!at||at(ht.relatedTarget))&&(tt==null||tt())}}),ft=ht=>{ht.target===ht.currentTarget&&ht.preventDefault()};return{overlayProps:{onKeyDown:ut,...dt},underlayProps:{onPointerDown:ft}}}function $628037886ba31236$export$f9d5c8beee7d008d(et,_e,tt){let{type:rt}=et,{isOpen:nt}=_e;reactExports.useEffect(()=>{tt&&tt.current&&$dd149f63282afbbf$export$f6211563215e3b37.set(tt.current,_e.close)});let st;rt==="menu"?st=!0:rt==="listbox"&&(st="listbox");let it=$bdb11010cef70236$export$f680877a34711e37();return{triggerProps:{"aria-haspopup":st,"aria-expanded":nt,"aria-controls":nt?it:void 0,onPress:_e.toggle},overlayProps:{id:it}}}const $49c51c25361d4cd2$var$visualViewport=typeof document<"u"&&window.visualViewport,$49c51c25361d4cd2$var$nonTextInputTypes=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let $49c51c25361d4cd2$var$preventScrollCount=0,$49c51c25361d4cd2$var$restore;function $49c51c25361d4cd2$export$ee0f7cc6afcd1c18(et={}){let{isDisabled:_e}=et;$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{if(!_e)return $49c51c25361d4cd2$var$preventScrollCount++,$49c51c25361d4cd2$var$preventScrollCount===1&&($c87311424ea30a05$export$fedb369cb70207f1()?$49c51c25361d4cd2$var$restore=$49c51c25361d4cd2$var$preventScrollMobileSafari():$49c51c25361d4cd2$var$restore=$49c51c25361d4cd2$var$preventScrollStandard()),()=>{$49c51c25361d4cd2$var$preventScrollCount--,$49c51c25361d4cd2$var$preventScrollCount===0&&$49c51c25361d4cd2$var$restore()}},[_e])}function $49c51c25361d4cd2$var$preventScrollStandard(){return $ff5963eb1fccf552$export$e08e3b67e392101e($49c51c25361d4cd2$var$setStyle(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),$49c51c25361d4cd2$var$setStyle(document.documentElement,"overflow","hidden"))}function $49c51c25361d4cd2$var$preventScrollMobileSafari(){let et,_e,tt=lt=>{et=$62d8ded9296f3872$export$cfa2225e87938781(lt.target,!0),!(et===document.documentElement&&et===document.body)&&et instanceof HTMLElement&&window.getComputedStyle(et).overscrollBehavior==="auto"&&(_e=$49c51c25361d4cd2$var$setStyle(et,"overscrollBehavior","contain"))},rt=lt=>{if(!et||et===document.documentElement||et===document.body){lt.preventDefault();return}et.scrollHeight===et.clientHeight&&et.scrollWidth===et.clientWidth&&lt.preventDefault()},nt=lt=>{let ct=lt.target;$49c51c25361d4cd2$var$willOpenKeyboard(ct)&&ct!==document.activeElement&&(lt.preventDefault(),at(),ct.style.transform="translateY(-2000px)",ct.focus(),requestAnimationFrame(()=>{ct.style.transform=""})),_e&&_e()},st=lt=>{let ct=lt.target;$49c51c25361d4cd2$var$willOpenKeyboard(ct)&&(at(),ct.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{ct.style.transform="",$49c51c25361d4cd2$var$visualViewport&&($49c51c25361d4cd2$var$visualViewport.height<window.innerHeight?requestAnimationFrame(()=>{$49c51c25361d4cd2$var$scrollIntoView(ct)}):$49c51c25361d4cd2$var$visualViewport.addEventListener("resize",()=>$49c51c25361d4cd2$var$scrollIntoView(ct),{once:!0}))}))},it=null,at=()=>{if(it)return;let lt=()=>{window.scrollTo(0,0)},ct=window.pageXOffset,ut=window.pageYOffset;it=$ff5963eb1fccf552$export$e08e3b67e392101e($49c51c25361d4cd2$var$addEvent(window,"scroll",lt),$49c51c25361d4cd2$var$setStyle(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),$49c51c25361d4cd2$var$setStyle(document.documentElement,"overflow","hidden"),$49c51c25361d4cd2$var$setStyle(document.body,"marginTop",`-${ut}px`),()=>{window.scrollTo(ct,ut)}),window.scrollTo(0,0)},ot=$ff5963eb1fccf552$export$e08e3b67e392101e($49c51c25361d4cd2$var$addEvent(document,"touchstart",tt,{passive:!1,capture:!0}),$49c51c25361d4cd2$var$addEvent(document,"touchmove",rt,{passive:!1,capture:!0}),$49c51c25361d4cd2$var$addEvent(document,"touchend",nt,{passive:!1,capture:!0}),$49c51c25361d4cd2$var$addEvent(document,"focus",st,!0));return()=>{_e==null||_e(),it==null||it(),ot()}}function $49c51c25361d4cd2$var$setStyle(et,_e,tt){let rt=et.style[_e];return et.style[_e]=tt,()=>{et.style[_e]=rt}}function $49c51c25361d4cd2$var$addEvent(et,_e,tt,rt){return et.addEventListener(_e,tt,rt),()=>{et.removeEventListener(_e,tt,rt)}}function $49c51c25361d4cd2$var$scrollIntoView(et){let _e=document.scrollingElement||document.documentElement,tt=et;for(;tt&&tt!==_e;){let rt=$62d8ded9296f3872$export$cfa2225e87938781(tt);if(rt!==document.documentElement&&rt!==document.body&&rt!==tt){let nt=rt.getBoundingClientRect().top,st=tt.getBoundingClientRect().top;st>nt+tt.clientHeight&&(rt.scrollTop+=st-nt)}tt=rt.parentElement}}function $49c51c25361d4cd2$var$willOpenKeyboard(et){return et instanceof HTMLInputElement&&!$49c51c25361d4cd2$var$nonTextInputTypes.has(et.type)||et instanceof HTMLTextAreaElement||et instanceof HTMLElement&&et.isContentEditable}const $f57aed4a881a3485$var$Context=React.createContext(null);function $f57aed4a881a3485$export$178405afcd8c5eb(et){let{children:_e}=et,tt=reactExports.useContext($f57aed4a881a3485$var$Context),[rt,nt]=reactExports.useState(0),st=reactExports.useMemo(()=>({parent:tt,modalCount:rt,addModal(){nt(it=>it+1),tt&&tt.addModal()},removeModal(){nt(it=>it-1),tt&&tt.removeModal()}}),[tt,rt]);return React.createElement($f57aed4a881a3485$var$Context.Provider,{value:st},_e)}function $f57aed4a881a3485$export$d9aaed4c3ece1bc0(){let et=reactExports.useContext($f57aed4a881a3485$var$Context);return{modalProviderProps:{"aria-hidden":et&&et.modalCount>0?!0:void 0}}}function $f57aed4a881a3485$var$OverlayContainerDOM(et){let{modalProviderProps:_e}=$f57aed4a881a3485$export$d9aaed4c3ece1bc0();return React.createElement("div",{"data-overlay-container":!0,...et,..._e})}function $f57aed4a881a3485$export$bf688221f59024e5(et){return React.createElement($f57aed4a881a3485$export$178405afcd8c5eb,null,React.createElement($f57aed4a881a3485$var$OverlayContainerDOM,et))}function $f57aed4a881a3485$export$b47c3594eab58386(et){let _e=$b5e257d569688ac6$export$535bd6ca7f90a273(),{portalContainer:tt=_e?null:document.body,...rt}=et;if(React.useEffect(()=>{if(tt!=null&&tt.closest("[data-overlay-container]"))throw new Error("An OverlayContainer must not be inside another container. Please change the portalContainer prop.")},[tt]),!tt)return null;let nt=React.createElement($f57aed4a881a3485$export$bf688221f59024e5,rt);return $1CM7W$reactdom.createPortal(nt,tt)}var $773d5888b972f1cf$exports={};$773d5888b972f1cf$exports={dismiss:""};var $d11f19852b941573$exports={};$d11f19852b941573$exports={dismiss:""};var $b983974c2ee1efb3$exports={};$b983974c2ee1efb3$exports={dismiss:"Odstranit"};var $5809cc9d4e92de73$exports={};$5809cc9d4e92de73$exports={dismiss:"Luk"};var $c68c2e4fc74398d1$exports={};$c68c2e4fc74398d1$exports={dismiss:"Schlieen"};var $0898b4c153db2b77$exports={};$0898b4c153db2b77$exports={dismiss:""};var $6d74810286a15183$exports={};$6d74810286a15183$exports={dismiss:"Dismiss"};var $309d73dc65f78055$exports={};$309d73dc65f78055$exports={dismiss:"Descartar"};var $44ad94f7205cf593$exports={};$44ad94f7205cf593$exports={dismiss:"Lpeta"};var $7c28f5687f0779a9$exports={};$7c28f5687f0779a9$exports={dismiss:"Hylk"};var $e6d75df4b68bd73a$exports={};$e6d75df4b68bd73a$exports={dismiss:"Rejeter"};var $87505c9dab186d0f$exports={};$87505c9dab186d0f$exports={dismiss:""};var $553439c3ffb3e492$exports={};$553439c3ffb3e492$exports={dismiss:"Odbaci"};var $74cf411061b983a2$exports={};$74cf411061b983a2$exports={dismiss:"Elutasts"};var $e933f298574dc435$exports={};$e933f298574dc435$exports={dismiss:"Ignora"};var $ac91fc9fe02f71f6$exports={};$ac91fc9fe02f71f6$exports={dismiss:""};var $52b96f86422025af$exports={};$52b96f86422025af$exports={dismiss:""};var $c0d724c3e51dafa6$exports={};$c0d724c3e51dafa6$exports={dismiss:"Atmesti"};var $c92899672a3fe72e$exports={};$c92899672a3fe72e$exports={dismiss:"Nerdt"};var $9f576b39d8e7a9d6$exports={};$9f576b39d8e7a9d6$exports={dismiss:"Lukk"};var $9d025808aeec81a7$exports={};$9d025808aeec81a7$exports={dismiss:"Negeren"};var $fce709921e2c0fa6$exports={};$fce709921e2c0fa6$exports={dismiss:"Zignoruj"};var $2599cf0c4ab37f59$exports={};$2599cf0c4ab37f59$exports={dismiss:"Descartar"};var $3c220ae7ef8a35fd$exports={};$3c220ae7ef8a35fd$exports={dismiss:"Dispensar"};var $93562b5094072f54$exports={};$93562b5094072f54$exports={dismiss:"Revocare"};var $cd9e2abd0d06c7b4$exports={};$cd9e2abd0d06c7b4$exports={dismiss:""};var $45375701f409adf1$exports={};$45375701f409adf1$exports={dismiss:"Zrui"};var $27fab53a576de9dd$exports={};$27fab53a576de9dd$exports={dismiss:"Opusti"};var $4438748d9952e7c7$exports={};$4438748d9952e7c7$exports={dismiss:"Odbaci"};var $0936d7347ef4da4c$exports={};$0936d7347ef4da4c$exports={dismiss:"Avvisa"};var $29700c92185d38f8$exports={};$29700c92185d38f8$exports={dismiss:"Kapat"};var $662ccaf2be4c25b3$exports={};$662ccaf2be4c25b3$exports={dismiss:""};var $d80a27deda7cdb3c$exports={};$d80a27deda7cdb3c$exports={dismiss:""};var $2b2734393847c884$exports={};$2b2734393847c884$exports={dismiss:""};var $a2f21f5f14f60553$exports={};$a2f21f5f14f60553$exports={"ar-AE":$773d5888b972f1cf$exports,"bg-BG":$d11f19852b941573$exports,"cs-CZ":$b983974c2ee1efb3$exports,"da-DK":$5809cc9d4e92de73$exports,"de-DE":$c68c2e4fc74398d1$exports,"el-GR":$0898b4c153db2b77$exports,"en-US":$6d74810286a15183$exports,"es-ES":$309d73dc65f78055$exports,"et-EE":$44ad94f7205cf593$exports,"fi-FI":$7c28f5687f0779a9$exports,"fr-FR":$e6d75df4b68bd73a$exports,"he-IL":$87505c9dab186d0f$exports,"hr-HR":$553439c3ffb3e492$exports,"hu-HU":$74cf411061b983a2$exports,"it-IT":$e933f298574dc435$exports,"ja-JP":$ac91fc9fe02f71f6$exports,"ko-KR":$52b96f86422025af$exports,"lt-LT":$c0d724c3e51dafa6$exports,"lv-LV":$c92899672a3fe72e$exports,"nb-NO":$9f576b39d8e7a9d6$exports,"nl-NL":$9d025808aeec81a7$exports,"pl-PL":$fce709921e2c0fa6$exports,"pt-BR":$2599cf0c4ab37f59$exports,"pt-PT":$3c220ae7ef8a35fd$exports,"ro-RO":$93562b5094072f54$exports,"ru-RU":$cd9e2abd0d06c7b4$exports,"sk-SK":$45375701f409adf1$exports,"sl-SI":$27fab53a576de9dd$exports,"sr-SP":$4438748d9952e7c7$exports,"sv-SE":$0936d7347ef4da4c$exports,"tr-TR":$29700c92185d38f8$exports,"uk-UA":$662ccaf2be4c25b3$exports,"zh-CN":$d80a27deda7cdb3c$exports,"zh-TW":$2b2734393847c884$exports};const $5c3e21d68f1c4674$var$styles={border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"};function $5c3e21d68f1c4674$export$a966af930f325cab(et={}){let{style:_e,isFocusable:tt}=et,[rt,nt]=reactExports.useState(!1),{focusWithinProps:st}=$9ab94262bd0047c7$export$420e68273165f4ec({isDisabled:!tt,onFocusWithinChange:at=>nt(at)}),it=reactExports.useMemo(()=>rt?_e:_e?{...$5c3e21d68f1c4674$var$styles,..._e}:$5c3e21d68f1c4674$var$styles,[rt]);return{visuallyHiddenProps:{...st,style:it}}}function $5c3e21d68f1c4674$export$439d29a4e110a164(et){let{children:_e,elementType:tt="div",isFocusable:rt,style:nt,...st}=et,{visuallyHiddenProps:it}=$5c3e21d68f1c4674$export$a966af930f325cab(et);return React.createElement(tt,$3ef42575df84b30b$export$9d1611c77c2fe928(st,it),_e)}function $parcel$interopDefault$7(et){return et&&et.__esModule?et.default:et}function $86ea4cb521eb2e37$export$2317d149ed6f78c4(et){let{onDismiss:_e,...tt}=et,rt=$fca6afa0e843324b$export$f12b703ca79dfbb1($parcel$interopDefault$7($a2f21f5f14f60553$exports),"@react-aria/overlays"),nt=$313b98861ee5dd6c$export$d6875122194c7b44(tt,rt.format("dismiss")),st=()=>{_e&&_e()};return React.createElement($5c3e21d68f1c4674$export$439d29a4e110a164,null,React.createElement("button",{...nt,tabIndex:-1,onClick:st,style:{width:1,height:1}}))}let $5e3802645cc19319$var$refCountMap=new WeakMap,$5e3802645cc19319$var$observerStack=[];function $5e3802645cc19319$export$1c3ebcada18427bf(et,_e=document.body){let tt=new Set(et),rt=new Set,nt=ot=>{for(let dt of ot.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))tt.add(dt);let lt=dt=>{if(tt.has(dt)||dt.parentElement&&rt.has(dt.parentElement)&&dt.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let ft of tt)if(dt.contains(ft))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},ct=document.createTreeWalker(ot,NodeFilter.SHOW_ELEMENT,{acceptNode:lt}),ut=lt(ot);if(ut===NodeFilter.FILTER_ACCEPT&&st(ot),ut!==NodeFilter.FILTER_REJECT){let dt=ct.nextNode();for(;dt!=null;)st(dt),dt=ct.nextNode()}},st=ot=>{var lt;let ct=(lt=$5e3802645cc19319$var$refCountMap.get(ot))!==null&&lt!==void 0?lt:0;ot.getAttribute("aria-hidden")==="true"&&ct===0||(ct===0&&ot.setAttribute("aria-hidden","true"),rt.add(ot),$5e3802645cc19319$var$refCountMap.set(ot,ct+1))};$5e3802645cc19319$var$observerStack.length&&$5e3802645cc19319$var$observerStack[$5e3802645cc19319$var$observerStack.length-1].disconnect(),nt(_e);let it=new MutationObserver(ot=>{for(let lt of ot)if(!(lt.type!=="childList"||lt.addedNodes.length===0)&&![...tt,...rt].some(ct=>ct.contains(lt.target))){for(let ct of lt.removedNodes)ct instanceof Element&&(tt.delete(ct),rt.delete(ct));for(let ct of lt.addedNodes)(ct instanceof HTMLElement||ct instanceof SVGElement)&&(ct.dataset.liveAnnouncer==="true"||ct.dataset.reactAriaTopLayer==="true")?tt.add(ct):ct instanceof Element&&nt(ct)}});it.observe(_e,{childList:!0,subtree:!0});let at={observe(){it.observe(_e,{childList:!0,subtree:!0})},disconnect(){it.disconnect()}};return $5e3802645cc19319$var$observerStack.push(at),()=>{it.disconnect();for(let ot of rt){let lt=$5e3802645cc19319$var$refCountMap.get(ot);lt!=null&&(lt===1?(ot.removeAttribute("aria-hidden"),$5e3802645cc19319$var$refCountMap.delete(ot)):$5e3802645cc19319$var$refCountMap.set(ot,lt-1))}at===$5e3802645cc19319$var$observerStack[$5e3802645cc19319$var$observerStack.length-1]?($5e3802645cc19319$var$observerStack.pop(),$5e3802645cc19319$var$observerStack.length&&$5e3802645cc19319$var$observerStack[$5e3802645cc19319$var$observerStack.length-1].observe()):$5e3802645cc19319$var$observerStack.splice($5e3802645cc19319$var$observerStack.indexOf(at),1)}}const $96b38030c423d352$export$60d741e20e0aa309=reactExports.createContext({});function $96b38030c423d352$export$574e9b0fb070c3b0(){var et;return(et=reactExports.useContext($96b38030c423d352$export$60d741e20e0aa309))!==null&&et!==void 0?et:{}}const $337b884510726a0d$export$a2200b96afd16271=React.createContext(null);function $337b884510726a0d$export$c6fdb837b070b4ff(et){let _e=$b5e257d569688ac6$export$535bd6ca7f90a273(),{portalContainer:tt=_e?null:document.body,isExiting:rt}=et,[nt,st]=reactExports.useState(!1),it=reactExports.useMemo(()=>({contain:nt,setContain:st}),[nt,st]),{getContainer:at}=$96b38030c423d352$export$574e9b0fb070c3b0();if(!et.portalContainer&&at&&(tt=at()),!tt)return null;let ot=et.children;return et.disableFocusManagement||(ot=React.createElement($9bf71ea28793e738$export$20e40289641fbbb6,{restoreFocus:!0,contain:nt&&!rt},ot)),ot=React.createElement($337b884510726a0d$export$a2200b96afd16271.Provider,{value:it},React.createElement($f1ab8c75478c6f73$export$cf75428e0b9ed1ea,null,ot)),$1CM7W$reactdom.createPortal(ot,tt)}function $337b884510726a0d$export$14c98a7594375490(){let et=reactExports.useContext($337b884510726a0d$export$a2200b96afd16271),_e=et==null?void 0:et.setContain;$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{_e==null||_e(!0)},[_e])}function createDOMMotionComponentProxy(et){if(typeof Proxy>"u")return et;const _e=new Map,tt=(...rt)=>et(...rt);return new Proxy(tt,{get:(rt,nt)=>nt==="create"?et:(_e.has(nt)||_e.set(nt,et(nt)),_e.get(nt))})}function isAnimationControls(et){return et!==null&&typeof et=="object"&&typeof et.start=="function"}const isKeyframesTarget=et=>Array.isArray(et);function shallowCompare(et,_e){if(!Array.isArray(_e))return!1;const tt=_e.length;if(tt!==et.length)return!1;for(let rt=0;rt<tt;rt++)if(_e[rt]!==et[rt])return!1;return!0}function isVariantLabel(et){return typeof et=="string"||Array.isArray(et)}function getValueState(et){const _e=[{},{}];return et==null||et.values.forEach((tt,rt)=>{_e[0][rt]=tt.get(),_e[1][rt]=tt.getVelocity()}),_e}function resolveVariantFromProps(et,_e,tt,rt){if(typeof _e=="function"){const[nt,st]=getValueState(rt);_e=_e(tt!==void 0?tt:et.custom,nt,st)}if(typeof _e=="string"&&(_e=et.variants&&et.variants[_e]),typeof _e=="function"){const[nt,st]=getValueState(rt);_e=_e(tt!==void 0?tt:et.custom,nt,st)}return _e}function resolveVariant(et,_e,tt){const rt=et.getProps();return resolveVariantFromProps(rt,_e,tt!==void 0?tt:rt.custom,et)}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder],transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder),secondsToMilliseconds=et=>et*1e3,millisecondsToSeconds=et=>et/1e3,underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=et=>({type:"spring",stiffness:550,damping:et===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(et,{keyframes:_e})=>_e.length>2?keyframesTransition:transformProps.has(et)?et.startsWith("scale")?criticallyDampedSpring(_e[1]):underDampedSpring:ease;function getValueTransition(et,_e){return et?et[_e]||et.default||et:void 0}const MotionGlobalConfig={skipAnimations:!1,useManualTiming:!1},isNotNull=et=>et!==null;function getFinalKeyframe(et,{repeat:_e,repeatType:tt="loop"},rt){const nt=et.filter(isNotNull),st=_e&&tt!=="loop"&&_e%2===1?0:nt.length-1;return!st||rt===void 0?nt[st]:rt}const noop$2=et=>et;let invariant=noop$2;function createRenderStep(et){let _e=new Set,tt=new Set,rt=!1,nt=!1;const st=new WeakSet;let it={delta:0,timestamp:0,isProcessing:!1};function at(lt){st.has(lt)&&(ot.schedule(lt),et()),lt(it)}const ot={schedule:(lt,ct=!1,ut=!1)=>{const ft=ut&&rt?_e:tt;return ct&&st.add(lt),ft.has(lt)||ft.add(lt),lt},cancel:lt=>{tt.delete(lt),st.delete(lt)},process:lt=>{if(it=lt,rt){nt=!0;return}rt=!0,[_e,tt]=[tt,_e],_e.forEach(at),_e.clear(),rt=!1,nt&&(nt=!1,ot.process(lt))}};return ot}const stepsOrder=["read","resolveKeyframes","update","preRender","render","postRender"],maxElapsed=40;function createRenderBatcher(et,_e){let tt=!1,rt=!0;const nt={delta:0,timestamp:0,isProcessing:!1},st=()=>tt=!0,it=stepsOrder.reduce((mt,bt)=>(mt[bt]=createRenderStep(st),mt),{}),{read:at,resolveKeyframes:ot,update:lt,preRender:ct,render:ut,postRender:dt}=it,ft=()=>{const mt=performance.now();tt=!1,nt.delta=rt?1e3/60:Math.max(Math.min(mt-nt.timestamp,maxElapsed),1),nt.timestamp=mt,nt.isProcessing=!0,at.process(nt),ot.process(nt),lt.process(nt),ct.process(nt),ut.process(nt),dt.process(nt),nt.isProcessing=!1,tt&&_e&&(rt=!1,et(ft))},ht=()=>{tt=!0,rt=!0,nt.isProcessing||et(ft)};return{schedule:stepsOrder.reduce((mt,bt)=>{const vt=it[bt];return mt[bt]=(yt,xt=!1,Et=!1)=>(tt||ht(),vt.schedule(yt,xt,Et)),mt},{}),cancel:mt=>{for(let bt=0;bt<stepsOrder.length;bt++)it[stepsOrder[bt]].cancel(mt)},state:nt,steps:it}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$2,!0),calcBezier=(et,_e,tt)=>(((1-3*tt+3*_e)*et+(3*tt-6*_e))*et+3*_e)*et,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(et,_e,tt,rt,nt){let st,it,at=0;do it=_e+(tt-_e)/2,st=calcBezier(it,rt,nt)-et,st>0?tt=it:_e=it;while(Math.abs(st)>subdivisionPrecision&&++at<subdivisionMaxIterations);return it}function cubicBezier(et,_e,tt,rt){if(et===_e&&tt===rt)return noop$2;const nt=st=>binarySubdivide(st,0,1,et,tt);return st=>st===0||st===1?st:calcBezier(nt(st),_e,rt)}const mirrorEasing=et=>_e=>_e<=.5?et(2*_e)/2:(2-et(2*(1-_e)))/2,reverseEasing=et=>_e=>1-et(1-_e),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=et=>(et*=2)<1?.5*backIn(et):.5*(2-Math.pow(2,-10*(et-1))),circIn=et=>1-Math.sin(Math.acos(et)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),isZeroValueString=et=>/^0[^.\s]+$/u.test(et);function isNone(et){return typeof et=="number"?et===0:et!==null?et==="none"||et==="0"||isZeroValueString(et):!0}const isNumericalString=et=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(et),checkStringStartsWith=et=>_e=>typeof _e=="string"&&_e.startsWith(et),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=et=>startsAsVariableToken(et)?singleCssVariableRegex.test(et.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(et){const _e=splitCSSVariableRegex.exec(et);if(!_e)return[,];const[,tt,rt,nt]=_e;return[`--${tt??rt}`,nt]}function getVariableValue(et,_e,tt=1){const[rt,nt]=parseCSSVariable(et);if(!rt)return;const st=window.getComputedStyle(_e).getPropertyValue(rt);if(st){const it=st.trim();return isNumericalString(it)?parseFloat(it):it}return isCSSVariableToken(nt)?getVariableValue(nt,_e,tt+1):nt}const clamp$1=(et,_e,tt)=>tt>_e?_e:tt<et?et:tt,number={test:et=>typeof et=="number",parse:parseFloat,transform:et=>et},alpha={...number,transform:et=>clamp$1(0,1,et)},scale={...number,default:1},createUnitType=et=>({test:_e=>typeof _e=="string"&&_e.endsWith(et)&&_e.split(" ").length===1,parse:parseFloat,transform:_e=>`${_e}${et}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:et=>percent.parse(et)/100,transform:et=>percent.transform(et*100)},positionalKeys=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),isNumOrPxType=et=>et===number||et===px,getPosFromMatrix=(et,_e)=>parseFloat(et.split(", ")[_e]),getTranslateFromMatrix=(et,_e)=>(tt,{transform:rt})=>{if(rt==="none"||!rt)return 0;const nt=rt.match(/^matrix3d\((.+)\)$/u);if(nt)return getPosFromMatrix(nt[1],_e);{const st=rt.match(/^matrix\((.+)\)$/u);return st?getPosFromMatrix(st[1],et):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(et=>!transformKeys.has(et));function removeNonTranslationalTransform(et){const _e=[];return nonTranslationalTransformKeys.forEach(tt=>{const rt=et.getValue(tt);rt!==void 0&&(_e.push([tt,rt.get()]),rt.set(tt.startsWith("scale")?1:0))}),_e}const positionalValues={width:({x:et},{paddingLeft:_e="0",paddingRight:tt="0"})=>et.max-et.min-parseFloat(_e)-parseFloat(tt),height:({y:et},{paddingTop:_e="0",paddingBottom:tt="0"})=>et.max-et.min-parseFloat(_e)-parseFloat(tt),top:(et,{top:_e})=>parseFloat(_e),left:(et,{left:_e})=>parseFloat(_e),bottom:({y:et},{top:_e})=>parseFloat(_e)+(et.max-et.min),right:({x:et},{left:_e})=>parseFloat(_e)+(et.max-et.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const testValueType=et=>_e=>_e.test(et),auto={test:et=>et==="auto",parse:et=>et},dimensionValueTypes=[number,px,percent,degrees,vw,vh,auto],findDimensionValueType=et=>dimensionValueTypes.find(testValueType(et)),toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const et=Array.from(toResolve).filter(rt=>rt.needsMeasurement),_e=new Set(et.map(rt=>rt.element)),tt=new Map;_e.forEach(rt=>{const nt=removeNonTranslationalTransform(rt);nt.length&&(tt.set(rt,nt),rt.render())}),et.forEach(rt=>rt.measureInitialState()),_e.forEach(rt=>{rt.render();const nt=tt.get(rt);nt&&nt.forEach(([st,it])=>{var at;(at=rt.getValue(st))===null||at===void 0||at.set(it)})}),et.forEach(rt=>rt.measureEndState()),et.forEach(rt=>{rt.suspendedScrollY!==void 0&&window.scrollTo(0,rt.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(et=>et.complete()),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(et=>{et.readKeyframes(),et.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){readAllKeyframes(),measureAllKeyframes()}class KeyframeResolver{constructor(_e,tt,rt,nt,st,it=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[..._e],this.onComplete=tt,this.name=rt,this.motionValue=nt,this.element=st,this.isAsync=it}scheduleResolve(){this.isScheduled=!0,this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:_e,name:tt,element:rt,motionValue:nt}=this;for(let st=0;st<_e.length;st++)if(_e[st]===null)if(st===0){const it=nt==null?void 0:nt.get(),at=_e[_e.length-1];if(it!==void 0)_e[0]=it;else if(rt&&tt){const ot=rt.readValue(tt,at);ot!=null&&(_e[0]=ot)}_e[0]===void 0&&(_e[0]=at),nt&&it===void 0&&nt.set(_e[0])}else _e[st]=_e[st-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),toResolve.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,toResolve.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const sanitize=et=>Math.round(et*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish(et){return et==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(et,_e)=>tt=>!!(typeof tt=="string"&&singleColorRegex.test(tt)&&tt.startsWith(et)||_e&&!isNullish(tt)&&Object.prototype.hasOwnProperty.call(tt,_e)),splitColor=(et,_e,tt)=>rt=>{if(typeof rt!="string")return rt;const[nt,st,it,at]=rt.match(floatRegex);return{[et]:parseFloat(nt),[_e]:parseFloat(st),[tt]:parseFloat(it),alpha:at!==void 0?parseFloat(at):1}},clampRgbUnit=et=>clamp$1(0,255,et),rgbUnit={...number,transform:et=>Math.round(clampRgbUnit(et))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:et,green:_e,blue:tt,alpha:rt=1})=>"rgba("+rgbUnit.transform(et)+", "+rgbUnit.transform(_e)+", "+rgbUnit.transform(tt)+", "+sanitize(alpha.transform(rt))+")"};function parseHex(et){let _e="",tt="",rt="",nt="";return et.length>5?(_e=et.substring(1,3),tt=et.substring(3,5),rt=et.substring(5,7),nt=et.substring(7,9)):(_e=et.substring(1,2),tt=et.substring(2,3),rt=et.substring(3,4),nt=et.substring(4,5),_e+=_e,tt+=tt,rt+=rt,nt+=nt),{red:parseInt(_e,16),green:parseInt(tt,16),blue:parseInt(rt,16),alpha:nt?parseInt(nt,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:et,saturation:_e,lightness:tt,alpha:rt=1})=>"hsla("+Math.round(et)+", "+percent.transform(sanitize(_e))+", "+percent.transform(sanitize(tt))+", "+sanitize(alpha.transform(rt))+")"},color={test:et=>rgba.test(et)||hex.test(et)||hsla.test(et),parse:et=>rgba.test(et)?rgba.parse(et):hsla.test(et)?hsla.parse(et):hex.parse(et),transform:et=>typeof et=="string"?et:et.hasOwnProperty("red")?rgba.transform(et):hsla.transform(et)},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test(et){var _e,tt;return isNaN(et)&&typeof et=="string"&&(((_e=et.match(floatRegex))===null||_e===void 0?void 0:_e.length)||0)+(((tt=et.match(colorRegex))===null||tt===void 0?void 0:tt.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(et){const _e=et.toString(),tt=[],rt={color:[],number:[],var:[]},nt=[];let st=0;const at=_e.replace(complexRegex,ot=>(color.test(ot)?(rt.color.push(st),nt.push(COLOR_TOKEN),tt.push(color.parse(ot))):ot.startsWith(VAR_FUNCTION_TOKEN)?(rt.var.push(st),nt.push(VAR_TOKEN),tt.push(ot)):(rt.number.push(st),nt.push(NUMBER_TOKEN),tt.push(parseFloat(ot))),++st,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:tt,split:at,indexes:rt,types:nt}}function parseComplexValue(et){return analyseComplexValue(et).values}function createTransformer(et){const{split:_e,types:tt}=analyseComplexValue(et),rt=_e.length;return nt=>{let st="";for(let it=0;it<rt;it++)if(st+=_e[it],nt[it]!==void 0){const at=tt[it];at===NUMBER_TOKEN?st+=sanitize(nt[it]):at===COLOR_TOKEN?st+=color.transform(nt[it]):st+=nt[it]}return st}}const convertNumbersToZero=et=>typeof et=="number"?0:et;function getAnimatableNone$1(et){const _e=parseComplexValue(et);return createTransformer(et)(_e.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(et){const[_e,tt]=et.slice(0,-1).split("(");if(_e==="drop-shadow")return et;const[rt]=tt.match(floatRegex)||[];if(!rt)return et;const nt=tt.replace(rt,"");let st=maxDefaults.has(_e)?1:0;return rt!==tt&&(st*=100),_e+"("+st+nt+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:et=>{const _e=et.match(functionRegex);return _e?_e.map(applyDefaultFilter).join(" "):et}},browserNumberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,backgroundPositionX:px,backgroundPositionY:px},transformValueTypes={rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px},int={...number,transform:Math.round},numberValueTypes={...browserNumberValueTypes,...transformValueTypes,zIndex:int,size:px,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter},getDefaultValueType=et=>defaultValueTypes[et];function getAnimatableNone(et,_e){let tt=getDefaultValueType(et);return tt!==filter&&(tt=complex),tt.getAnimatableNone?tt.getAnimatableNone(_e):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(et,_e,tt){let rt=0,nt;for(;rt<et.length&&!nt;){const st=et[rt];typeof st=="string"&&!invalidTemplates.has(st)&&analyseComplexValue(st).values.length&&(nt=et[rt]),rt++}if(nt&&tt)for(const st of _e)et[st]=getAnimatableNone(tt,nt)}class DOMKeyframesResolver extends KeyframeResolver{constructor(_e,tt,rt,nt,st){super(_e,tt,rt,nt,st,!0)}readKeyframes(){const{unresolvedKeyframes:_e,element:tt,name:rt}=this;if(!tt||!tt.current)return;super.readKeyframes();for(let ot=0;ot<_e.length;ot++){let lt=_e[ot];if(typeof lt=="string"&&(lt=lt.trim(),isCSSVariableToken(lt))){const ct=getVariableValue(lt,tt.current);ct!==void 0&&(_e[ot]=ct),ot===_e.length-1&&(this.finalKeyframe=lt)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(rt)||_e.length!==2)return;const[nt,st]=_e,it=findDimensionValueType(nt),at=findDimensionValueType(st);if(it!==at)if(isNumOrPxType(it)&&isNumOrPxType(at))for(let ot=0;ot<_e.length;ot++){const lt=_e[ot];typeof lt=="string"&&(_e[ot]=parseFloat(lt))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:_e,name:tt}=this,rt=[];for(let nt=0;nt<_e.length;nt++)isNone(_e[nt])&&rt.push(nt);rt.length&&makeNoneKeyframesAnimatable(_e,rt,tt)}measureInitialState(){const{element:_e,unresolvedKeyframes:tt,name:rt}=this;if(!_e||!_e.current)return;rt==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[rt](_e.measureViewportBox(),window.getComputedStyle(_e.current)),tt[0]=this.measuredOrigin;const nt=tt[tt.length-1];nt!==void 0&&_e.getValue(rt,nt).jump(nt,!1)}measureEndState(){var _e;const{element:tt,name:rt,unresolvedKeyframes:nt}=this;if(!tt||!tt.current)return;const st=tt.getValue(rt);st&&st.jump(this.measuredOrigin,!1);const it=nt.length-1,at=nt[it];nt[it]=positionalValues[rt](tt.measureViewportBox(),window.getComputedStyle(tt.current)),at!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=at),!((_e=this.removedTransforms)===null||_e===void 0)&&_e.length&&this.removedTransforms.forEach(([ot,lt])=>{tt.getValue(ot).set(lt)}),this.resolveNoneKeyframes()}}function isGenerator(et){return typeof et=="function"}let now$4;function clearTime(){now$4=void 0}const time={now:()=>(now$4===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now$4),set:et=>{now$4=et,queueMicrotask(clearTime)}},isAnimatable=(et,_e)=>_e==="zIndex"?!1:!!(typeof et=="number"||Array.isArray(et)||typeof et=="string"&&(complex.test(et)||et==="0")&&!et.startsWith("url("));function hasKeyframesChanged(et){const _e=et[0];if(et.length===1)return!0;for(let tt=0;tt<et.length;tt++)if(et[tt]!==_e)return!0}function canAnimate(et,_e,tt,rt){const nt=et[0];if(nt===null)return!1;if(_e==="display"||_e==="visibility")return!0;const st=et[et.length-1],it=isAnimatable(nt,_e),at=isAnimatable(st,_e);return!it||!at?!1:hasKeyframesChanged(et)||(tt==="spring"||isGenerator(tt))&&rt}const MAX_RESOLVE_DELAY=40;class BaseAnimation{constructor({autoplay:_e=!0,delay:tt=0,type:rt="keyframes",repeat:nt=0,repeatDelay:st=0,repeatType:it="loop",...at}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=time.now(),this.options={autoplay:_e,delay:tt,type:rt,repeat:nt,repeatDelay:st,repeatType:it,...at},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&flushKeyframeResolvers(),this._resolved}onKeyframesResolved(_e,tt){this.resolvedAt=time.now(),this.hasAttemptedResolve=!0;const{name:rt,type:nt,velocity:st,delay:it,onComplete:at,onUpdate:ot,isGenerator:lt}=this.options;if(!lt&&!canAnimate(_e,rt,nt,st))if(it)this.options.duration=0;else{ot==null||ot(getFinalKeyframe(_e,this.options,tt)),at==null||at(),this.resolveFinishedPromise();return}const ct=this.initPlayback(_e,tt);ct!==!1&&(this._resolved={keyframes:_e,finalKeyframe:tt,...ct},this.onPostResolved())}onPostResolved(){}then(_e,tt){return this.currentFinishedPromise.then(_e,tt)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(_e=>{this.resolveFinishedPromise=_e})}}const progress=(et,_e,tt)=>{const rt=_e-et;return rt===0?1:(tt-et)/rt},generateLinearEasing=(et,_e,tt=10)=>{let rt="";const nt=Math.max(Math.round(_e/tt),2);for(let st=0;st<nt;st++)rt+=et(progress(0,nt-1,st))+", ";return`linear(${rt.substring(0,rt.length-2)})`};function velocityPerSecond(et,_e){return _e?et*(1e3/_e):0}const velocitySampleDuration=5;function calcGeneratorVelocity(et,_e,tt){const rt=Math.max(_e-velocitySampleDuration,0);return velocityPerSecond(tt-et(rt),_e-rt)}const springDefaults={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin=.001;function findSpring({duration:et=springDefaults.duration,bounce:_e=springDefaults.bounce,velocity:tt=springDefaults.velocity,mass:rt=springDefaults.mass}){let nt,st,it=1-_e;it=clamp$1(springDefaults.minDamping,springDefaults.maxDamping,it),et=clamp$1(springDefaults.minDuration,springDefaults.maxDuration,millisecondsToSeconds(et)),it<1?(nt=lt=>{const ct=lt*it,ut=ct*et,dt=ct-tt,ft=calcAngularFreq(lt,it),ht=Math.exp(-ut);return safeMin-dt/ft*ht},st=lt=>{const ut=lt*it*et,dt=ut*tt+tt,ft=Math.pow(it,2)*Math.pow(lt,2)*et,ht=Math.exp(-ut),pt=calcAngularFreq(Math.pow(lt,2),it);return(-nt(lt)+safeMin>0?-1:1)*((dt-ft)*ht)/pt}):(nt=lt=>{const ct=Math.exp(-lt*et),ut=(lt-tt)*et+1;return-safeMin+ct*ut},st=lt=>{const ct=Math.exp(-lt*et),ut=(tt-lt)*(et*et);return ct*ut});const at=5/et,ot=approximateRoot(nt,st,at);if(et=secondsToMilliseconds(et),isNaN(ot))return{stiffness:springDefaults.stiffness,damping:springDefaults.damping,duration:et};{const lt=Math.pow(ot,2)*rt;return{stiffness:lt,damping:it*2*Math.sqrt(rt*lt),duration:et}}}const rootIterations=12;function approximateRoot(et,_e,tt){let rt=tt;for(let nt=1;nt<rootIterations;nt++)rt=rt-et(rt)/_e(rt);return rt}function calcAngularFreq(et,_e){return et*Math.sqrt(1-_e*_e)}const maxGeneratorDuration=2e4;function calcGeneratorDuration(et){let _e=0;const tt=50;let rt=et.next(_e);for(;!rt.done&&_e<maxGeneratorDuration;)_e+=tt,rt=et.next(_e);return _e>=maxGeneratorDuration?1/0:_e}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(et,_e){return _e.some(tt=>et[tt]!==void 0)}function getSpringOptions(et){let _e={velocity:springDefaults.velocity,stiffness:springDefaults.stiffness,damping:springDefaults.damping,mass:springDefaults.mass,isResolvedFromDuration:!1,...et};if(!isSpringType(et,physicsKeys)&&isSpringType(et,durationKeys))if(et.visualDuration){const tt=et.visualDuration,rt=2*Math.PI/(tt*1.2),nt=rt*rt,st=2*clamp$1(.05,1,1-et.bounce)*Math.sqrt(nt);_e={..._e,mass:springDefaults.mass,stiffness:nt,damping:st}}else{const tt=findSpring(et);_e={..._e,...tt,mass:springDefaults.mass},_e.isResolvedFromDuration=!0}return _e}function spring(et=springDefaults.visualDuration,_e=springDefaults.bounce){const tt=typeof et!="object"?{visualDuration:et,keyframes:[0,1],bounce:_e}:et;let{restSpeed:rt,restDelta:nt}=tt;const st=tt.keyframes[0],it=tt.keyframes[tt.keyframes.length-1],at={done:!1,value:st},{stiffness:ot,damping:lt,mass:ct,duration:ut,velocity:dt,isResolvedFromDuration:ft}=getSpringOptions({...tt,velocity:-millisecondsToSeconds(tt.velocity||0)}),ht=dt||0,pt=lt/(2*Math.sqrt(ot*ct)),gt=it-st,mt=millisecondsToSeconds(Math.sqrt(ot/ct)),bt=Math.abs(gt)<5;rt||(rt=bt?springDefaults.restSpeed.granular:springDefaults.restSpeed.default),nt||(nt=bt?springDefaults.restDelta.granular:springDefaults.restDelta.default);let vt;if(pt<1){const xt=calcAngularFreq(mt,pt);vt=Et=>{const wt=Math.exp(-pt*mt*Et);return it-wt*((ht+pt*mt*gt)/xt*Math.sin(xt*Et)+gt*Math.cos(xt*Et))}}else if(pt===1)vt=xt=>it-Math.exp(-mt*xt)*(gt+(ht+mt*gt)*xt);else{const xt=mt*Math.sqrt(pt*pt-1);vt=Et=>{const wt=Math.exp(-pt*mt*Et),$t=Math.min(xt*Et,300);return it-wt*((ht+pt*mt*gt)*Math.sinh($t)+xt*gt*Math.cosh($t))/xt}}const yt={calculatedDuration:ft&&ut||null,next:xt=>{const Et=vt(xt);if(ft)at.done=xt>=ut;else{let wt=0;pt<1&&(wt=xt===0?secondsToMilliseconds(ht):calcGeneratorVelocity(vt,xt,Et));const $t=Math.abs(wt)<=rt,Tt=Math.abs(it-Et)<=nt;at.done=$t&&Tt}return at.value=at.done?it:Et,at},toString:()=>{const xt=Math.min(calcGeneratorDuration(yt),maxGeneratorDuration),Et=generateLinearEasing(wt=>yt.next(xt*wt).value,xt,30);return xt+"ms "+Et}};return yt}function inertia({keyframes:et,velocity:_e=0,power:tt=.8,timeConstant:rt=325,bounceDamping:nt=10,bounceStiffness:st=500,modifyTarget:it,min:at,max:ot,restDelta:lt=.5,restSpeed:ct}){const ut=et[0],dt={done:!1,value:ut},ft=$t=>at!==void 0&&$t<at||ot!==void 0&&$t>ot,ht=$t=>at===void 0?ot:ot===void 0||Math.abs(at-$t)<Math.abs(ot-$t)?at:ot;let pt=tt*_e;const gt=ut+pt,mt=it===void 0?gt:it(gt);mt!==gt&&(pt=mt-ut);const bt=$t=>-pt*Math.exp(-$t/rt),vt=$t=>mt+bt($t),yt=$t=>{const Tt=bt($t),St=vt($t);dt.done=Math.abs(Tt)<=lt,dt.value=dt.done?mt:St};let xt,Et;const wt=$t=>{ft(dt.value)&&(xt=$t,Et=spring({keyframes:[dt.value,ht(dt.value)],velocity:calcGeneratorVelocity(vt,$t,dt.value),damping:nt,stiffness:st,restDelta:lt,restSpeed:ct}))};return wt(0),{calculatedDuration:null,next:$t=>{let Tt=!1;return!Et&&xt===void 0&&(Tt=!0,yt($t),wt($t)),xt!==void 0&&$t>=xt?Et.next($t-xt):(!Tt&&yt($t),dt)}}}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=et=>Array.isArray(et)&&typeof et[0]!="number",isBezierDefinition=et=>Array.isArray(et)&&typeof et[0]=="number",easingLookup={linear:noop$2,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=et=>{if(isBezierDefinition(et)){invariant(et.length===4);const[_e,tt,rt,nt]=et;return cubicBezier(_e,tt,rt,nt)}else if(typeof et=="string")return easingLookup[et];return et},combineFunctions=(et,_e)=>tt=>_e(et(tt)),pipe=(...et)=>et.reduce(combineFunctions),mixNumber$1=(et,_e,tt)=>et+(_e-et)*tt;function hueToRgb(et,_e,tt){return tt<0&&(tt+=1),tt>1&&(tt-=1),tt<1/6?et+(_e-et)*6*tt:tt<1/2?_e:tt<2/3?et+(_e-et)*(2/3-tt)*6:et}function hslaToRgba({hue:et,saturation:_e,lightness:tt,alpha:rt}){et/=360,_e/=100,tt/=100;let nt=0,st=0,it=0;if(!_e)nt=st=it=tt;else{const at=tt<.5?tt*(1+_e):tt+_e-tt*_e,ot=2*tt-at;nt=hueToRgb(ot,at,et+1/3),st=hueToRgb(ot,at,et),it=hueToRgb(ot,at,et-1/3)}return{red:Math.round(nt*255),green:Math.round(st*255),blue:Math.round(it*255),alpha:rt}}function mixImmediate(et,_e){return tt=>tt>0?_e:et}const mixLinearColor=(et,_e,tt)=>{const rt=et*et,nt=tt*(_e*_e-rt)+rt;return nt<0?0:Math.sqrt(nt)},colorTypes=[hex,rgba,hsla],getColorType=et=>colorTypes.find(_e=>_e.test(et));function asRGBA(et){const _e=getColorType(et);if(!_e)return!1;let tt=_e.parse(et);return _e===hsla&&(tt=hslaToRgba(tt)),tt}const mixColor=(et,_e)=>{const tt=asRGBA(et),rt=asRGBA(_e);if(!tt||!rt)return mixImmediate(et,_e);const nt={...tt};return st=>(nt.red=mixLinearColor(tt.red,rt.red,st),nt.green=mixLinearColor(tt.green,rt.green,st),nt.blue=mixLinearColor(tt.blue,rt.blue,st),nt.alpha=mixNumber$1(tt.alpha,rt.alpha,st),rgba.transform(nt))},invisibleValues=new Set(["none","hidden"]);function mixVisibility(et,_e){return invisibleValues.has(et)?tt=>tt<=0?et:_e:tt=>tt>=1?_e:et}function mixNumber(et,_e){return tt=>mixNumber$1(et,_e,tt)}function getMixer(et){return typeof et=="number"?mixNumber:typeof et=="string"?isCSSVariableToken(et)?mixImmediate:color.test(et)?mixColor:mixComplex:Array.isArray(et)?mixArray:typeof et=="object"?color.test(et)?mixColor:mixObject:mixImmediate}function mixArray(et,_e){const tt=[...et],rt=tt.length,nt=et.map((st,it)=>getMixer(st)(st,_e[it]));return st=>{for(let it=0;it<rt;it++)tt[it]=nt[it](st);return tt}}function mixObject(et,_e){const tt={...et,..._e},rt={};for(const nt in tt)et[nt]!==void 0&&_e[nt]!==void 0&&(rt[nt]=getMixer(et[nt])(et[nt],_e[nt]));return nt=>{for(const st in rt)tt[st]=rt[st](nt);return tt}}function matchOrder(et,_e){var tt;const rt=[],nt={color:0,var:0,number:0};for(let st=0;st<_e.values.length;st++){const it=_e.types[st],at=et.indexes[it][nt[it]],ot=(tt=et.values[at])!==null&&tt!==void 0?tt:0;rt[st]=ot,nt[it]++}return rt}const mixComplex=(et,_e)=>{const tt=complex.createTransformer(_e),rt=analyseComplexValue(et),nt=analyseComplexValue(_e);return rt.indexes.var.length===nt.indexes.var.length&&rt.indexes.color.length===nt.indexes.color.length&&rt.indexes.number.length>=nt.indexes.number.length?invisibleValues.has(et)&&!nt.values.length||invisibleValues.has(_e)&&!rt.values.length?mixVisibility(et,_e):pipe(mixArray(matchOrder(rt,nt),nt.values),tt):mixImmediate(et,_e)};function mix(et,_e,tt){return typeof et=="number"&&typeof _e=="number"&&typeof tt=="number"?mixNumber$1(et,_e,tt):getMixer(et)(et,_e)}function createMixers(et,_e,tt){const rt=[],nt=tt||mix,st=et.length-1;for(let it=0;it<st;it++){let at=nt(et[it],et[it+1]);if(_e){const ot=Array.isArray(_e)?_e[it]||noop$2:_e;at=pipe(ot,at)}rt.push(at)}return rt}function interpolate(et,_e,{clamp:tt=!0,ease:rt,mixer:nt}={}){const st=et.length;if(invariant(st===_e.length),st===1)return()=>_e[0];if(st===2&&et[0]===et[1])return()=>_e[1];et[0]>et[st-1]&&(et=[...et].reverse(),_e=[..._e].reverse());const it=createMixers(_e,rt,nt),at=it.length,ot=lt=>{let ct=0;if(at>1)for(;ct<et.length-2&&!(lt<et[ct+1]);ct++);const ut=progress(et[ct],et[ct+1],lt);return it[ct](ut)};return tt?lt=>ot(clamp$1(et[0],et[st-1],lt)):ot}function fillOffset(et,_e){const tt=et[et.length-1];for(let rt=1;rt<=_e;rt++){const nt=progress(0,_e,rt);et.push(mixNumber$1(tt,1,nt))}}function defaultOffset(et){const _e=[0];return fillOffset(_e,et.length-1),_e}function convertOffsetToTimes(et,_e){return et.map(tt=>tt*_e)}function defaultEasing(et,_e){return et.map(()=>_e||easeInOut).splice(0,et.length-1)}function keyframes({duration:et=300,keyframes:_e,times:tt,ease:rt="easeInOut"}){const nt=isEasingArray(rt)?rt.map(easingDefinitionToFunction):easingDefinitionToFunction(rt),st={done:!1,value:_e[0]},it=convertOffsetToTimes(tt&&tt.length===_e.length?tt:defaultOffset(_e),et),at=interpolate(it,_e,{ease:Array.isArray(nt)?nt:defaultEasing(_e,nt)});return{calculatedDuration:et,next:ot=>(st.value=at(ot),st.done=ot>=et,st)}}const frameloopDriver=et=>{const _e=({timestamp:tt})=>et(tt);return{start:()=>frame.update(_e,!0),stop:()=>cancelFrame(_e),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generators={decay:inertia,inertia,tween:keyframes,keyframes,spring},percentToProgress=et=>et/100;class MainThreadAnimation extends BaseAnimation{constructor(_e){super(_e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:ot}=this.options;ot&&ot()};const{name:tt,motionValue:rt,element:nt,keyframes:st}=this.options,it=(nt==null?void 0:nt.KeyframeResolver)||KeyframeResolver,at=(ot,lt)=>this.onKeyframesResolved(ot,lt);this.resolver=new it(st,at,tt,rt,nt),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(_e){const{type:tt="keyframes",repeat:rt=0,repeatDelay:nt=0,repeatType:st,velocity:it=0}=this.options,at=isGenerator(tt)?tt:generators[tt]||keyframes;let ot,lt;at!==keyframes&&typeof _e[0]!="number"&&(ot=pipe(percentToProgress,mix(_e[0],_e[1])),_e=[0,100]);const ct=at({...this.options,keyframes:_e});st==="mirror"&&(lt=at({...this.options,keyframes:[..._e].reverse(),velocity:-it})),ct.calculatedDuration===null&&(ct.calculatedDuration=calcGeneratorDuration(ct));const{calculatedDuration:ut}=ct,dt=ut+nt,ft=dt*(rt+1)-nt;return{generator:ct,mirroredGenerator:lt,mapPercentToKeyframes:ot,calculatedDuration:ut,resolvedDuration:dt,totalDuration:ft}}onPostResolved(){const{autoplay:_e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!_e?this.pause():this.state=this.pendingPlayState}tick(_e,tt=!1){const{resolved:rt}=this;if(!rt){const{keyframes:$t}=this.options;return{done:!0,value:$t[$t.length-1]}}const{finalKeyframe:nt,generator:st,mirroredGenerator:it,mapPercentToKeyframes:at,keyframes:ot,calculatedDuration:lt,totalDuration:ct,resolvedDuration:ut}=rt;if(this.startTime===null)return st.next(0);const{delay:dt,repeat:ft,repeatType:ht,repeatDelay:pt,onUpdate:gt}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,_e):this.speed<0&&(this.startTime=Math.min(_e-ct/this.speed,this.startTime)),tt?this.currentTime=_e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(_e-this.startTime)*this.speed;const mt=this.currentTime-dt*(this.speed>=0?1:-1),bt=this.speed>=0?mt<0:mt>ct;this.currentTime=Math.max(mt,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=ct);let vt=this.currentTime,yt=st;if(ft){const $t=Math.min(this.currentTime,ct)/ut;let Tt=Math.floor($t),St=$t%1;!St&&$t>=1&&(St=1),St===1&&Tt--,Tt=Math.min(Tt,ft+1),!!(Tt%2)&&(ht==="reverse"?(St=1-St,pt&&(St-=pt/ut)):ht==="mirror"&&(yt=it)),vt=clamp$1(0,1,St)*ut}const xt=bt?{done:!1,value:ot[0]}:yt.next(vt);at&&(xt.value=at(xt.value));let{done:Et}=xt;!bt&&lt!==null&&(Et=this.speed>=0?this.currentTime>=ct:this.currentTime<=0);const wt=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Et);return wt&&nt!==void 0&&(xt.value=getFinalKeyframe(ot,this.options,nt)),gt&&gt(xt.value),wt&&this.finish(),xt}get duration(){const{resolved:_e}=this;return _e?millisecondsToSeconds(_e.calculatedDuration):0}get time(){return millisecondsToSeconds(this.currentTime)}set time(_e){_e=secondsToMilliseconds(_e),this.currentTime=_e,this.holdTime!==null||this.speed===0?this.holdTime=_e:this.driver&&(this.startTime=this.driver.now()-_e/this.speed)}get speed(){return this.playbackSpeed}set speed(_e){const tt=this.playbackSpeed!==_e;this.playbackSpeed=_e,tt&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:_e=frameloopDriver,onPlay:tt,startTime:rt}=this.options;this.driver||(this.driver=_e(st=>this.tick(st))),tt&&tt();const nt=this.driver.now();this.holdTime!==null?this.startTime=nt-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=nt):this.startTime=rt??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var _e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(_e=this.currentTime)!==null&&_e!==void 0?_e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:_e}=this.options;_e&&_e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(_e){return this.startTime=0,this.tick(_e,!0)}}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]);function memo$1(et){let _e;return()=>(_e===void 0&&(_e=et()),_e)}const supportsFlags={linearEasing:void 0};function memoSupports(et,_e){const tt=memo$1(et);return()=>{var rt;return(rt=supportsFlags[_e])!==null&&rt!==void 0?rt:tt()}}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function isWaapiSupportedEasing(et){return!!(typeof et=="function"&&supportsLinearEasing()||!et||typeof et=="string"&&(et in supportedWaapiEasing||supportsLinearEasing())||isBezierDefinition(et)||Array.isArray(et)&&et.every(isWaapiSupportedEasing))}const cubicBezierAsString=([et,_e,tt,rt])=>`cubic-bezier(${et}, ${_e}, ${tt}, ${rt})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(et,_e){if(et)return typeof et=="function"&&supportsLinearEasing()?generateLinearEasing(et,_e):isBezierDefinition(et)?cubicBezierAsString(et):Array.isArray(et)?et.map(tt=>mapEasingToNativeEasing(tt,_e)||supportedWaapiEasing.easeOut):supportedWaapiEasing[et]}function startWaapiAnimation(et,_e,tt,{delay:rt=0,duration:nt=300,repeat:st=0,repeatType:it="loop",ease:at="easeInOut",times:ot}={}){const lt={[_e]:tt};ot&&(lt.offset=ot);const ct=mapEasingToNativeEasing(at,nt);return Array.isArray(ct)&&(lt.easing=ct),et.animate(lt,{delay:rt,duration:nt,easing:Array.isArray(ct)?"linear":ct,fill:"both",iterations:st+1,direction:it==="reverse"?"alternate":"normal"})}function attachTimeline(et,_e){et.timeline=_e,et.onfinish=null}const supportsWaapi=memo$1(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sampleDelta=10,maxDuration=2e4;function requiresPregeneratedKeyframes(et){return isGenerator(et.type)||et.type==="spring"||!isWaapiSupportedEasing(et.ease)}function pregenerateKeyframes(et,_e){const tt=new MainThreadAnimation({..._e,keyframes:et,repeat:0,delay:0,isGenerator:!0});let rt={done:!1,value:et[0]};const nt=[];let st=0;for(;!rt.done&&st<maxDuration;)rt=tt.sample(st),nt.push(rt.value),st+=sampleDelta;return{times:void 0,keyframes:nt,duration:st-sampleDelta,ease:"linear"}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(et){return et in unsupportedEasingFunctions}class AcceleratedAnimation extends BaseAnimation{constructor(_e){super(_e);const{name:tt,motionValue:rt,element:nt,keyframes:st}=this.options;this.resolver=new DOMKeyframesResolver(st,(it,at)=>this.onKeyframesResolved(it,at),tt,rt,nt),this.resolver.scheduleResolve()}initPlayback(_e,tt){var rt;let{duration:nt=300,times:st,ease:it,type:at,motionValue:ot,name:lt,startTime:ct}=this.options;if(!(!((rt=ot.owner)===null||rt===void 0)&&rt.current))return!1;if(typeof it=="string"&&supportsLinearEasing()&&isUnsupportedEase(it)&&(it=unsupportedEasingFunctions[it]),requiresPregeneratedKeyframes(this.options)){const{onComplete:dt,onUpdate:ft,motionValue:ht,element:pt,...gt}=this.options,mt=pregenerateKeyframes(_e,gt);_e=mt.keyframes,_e.length===1&&(_e[1]=_e[0]),nt=mt.duration,st=mt.times,it=mt.ease,at="keyframes"}const ut=startWaapiAnimation(ot.owner.current,lt,_e,{...this.options,duration:nt,times:st,ease:it});return ut.startTime=ct??this.calcStartTime(),this.pendingTimeline?(attachTimeline(ut,this.pendingTimeline),this.pendingTimeline=void 0):ut.onfinish=()=>{const{onComplete:dt}=this.options;ot.set(getFinalKeyframe(_e,this.options,tt)),dt&&dt(),this.cancel(),this.resolveFinishedPromise()},{animation:ut,duration:nt,times:st,type:at,ease:it,keyframes:_e}}get duration(){const{resolved:_e}=this;if(!_e)return 0;const{duration:tt}=_e;return millisecondsToSeconds(tt)}get time(){const{resolved:_e}=this;if(!_e)return 0;const{animation:tt}=_e;return millisecondsToSeconds(tt.currentTime||0)}set time(_e){const{resolved:tt}=this;if(!tt)return;const{animation:rt}=tt;rt.currentTime=secondsToMilliseconds(_e)}get speed(){const{resolved:_e}=this;if(!_e)return 1;const{animation:tt}=_e;return tt.playbackRate}set speed(_e){const{resolved:tt}=this;if(!tt)return;const{animation:rt}=tt;rt.playbackRate=_e}get state(){const{resolved:_e}=this;if(!_e)return"idle";const{animation:tt}=_e;return tt.playState}get startTime(){const{resolved:_e}=this;if(!_e)return null;const{animation:tt}=_e;return tt.startTime}attachTimeline(_e){if(!this._resolved)this.pendingTimeline=_e;else{const{resolved:tt}=this;if(!tt)return noop$2;const{animation:rt}=tt;attachTimeline(rt,_e)}return noop$2}play(){if(this.isStopped)return;const{resolved:_e}=this;if(!_e)return;const{animation:tt}=_e;tt.playState==="finished"&&this.updateFinishedPromise(),tt.play()}pause(){const{resolved:_e}=this;if(!_e)return;const{animation:tt}=_e;tt.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:_e}=this;if(!_e)return;const{animation:tt,keyframes:rt,duration:nt,type:st,ease:it,times:at}=_e;if(tt.playState==="idle"||tt.playState==="finished")return;if(this.time){const{motionValue:lt,onUpdate:ct,onComplete:ut,element:dt,...ft}=this.options,ht=new MainThreadAnimation({...ft,keyframes:rt,duration:nt,type:st,ease:it,times:at,isGenerator:!0}),pt=secondsToMilliseconds(this.time);lt.setWithVelocity(ht.sample(pt-sampleDelta).value,ht.sample(pt).value,sampleDelta)}const{onStop:ot}=this.options;ot&&ot(),this.cancel()}complete(){const{resolved:_e}=this;_e&&_e.animation.finish()}cancel(){const{resolved:_e}=this;_e&&_e.animation.cancel()}static supports(_e){const{motionValue:tt,name:rt,repeatDelay:nt,repeatType:st,damping:it,type:at}=_e;return supportsWaapi()&&rt&&acceleratedValues.has(rt)&&tt&&tt.owner&&tt.owner.current instanceof HTMLElement&&!tt.owner.getProps().onUpdate&&!nt&&st!=="mirror"&&it!==0&&at!=="inertia"}}const supportsScrollTimeline=memo$1(()=>window.ScrollTimeline!==void 0);class GroupPlaybackControls{constructor(_e){this.stop=()=>this.runAll("stop"),this.animations=_e.filter(Boolean)}then(_e,tt){return Promise.all(this.animations).then(_e).catch(tt)}getAll(_e){return this.animations[0][_e]}setAll(_e,tt){for(let rt=0;rt<this.animations.length;rt++)this.animations[rt][_e]=tt}attachTimeline(_e,tt){const rt=this.animations.map(nt=>supportsScrollTimeline()&&nt.attachTimeline?nt.attachTimeline(_e):tt(nt));return()=>{rt.forEach((nt,st)=>{nt&&nt(),this.animations[st].stop()})}}get time(){return this.getAll("time")}set time(_e){this.setAll("time",_e)}get speed(){return this.getAll("speed")}set speed(_e){this.setAll("speed",_e)}get startTime(){return this.getAll("startTime")}get duration(){let _e=0;for(let tt=0;tt<this.animations.length;tt++)_e=Math.max(_e,this.animations[tt].duration);return _e}runAll(_e){this.animations.forEach(tt=>tt[_e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function isTransitionDefined({when:et,delay:_e,delayChildren:tt,staggerChildren:rt,staggerDirection:nt,repeat:st,repeatType:it,repeatDelay:at,from:ot,elapsed:lt,...ct}){return!!Object.keys(ct).length}const animateMotionValue=(et,_e,tt,rt={},nt,st)=>it=>{const at=getValueTransition(rt,et)||{},ot=at.delay||rt.delay||0;let{elapsed:lt=0}=rt;lt=lt-secondsToMilliseconds(ot);let ct={keyframes:Array.isArray(tt)?tt:[null,tt],ease:"easeOut",velocity:_e.getVelocity(),...at,delay:-lt,onUpdate:dt=>{_e.set(dt),at.onUpdate&&at.onUpdate(dt)},onComplete:()=>{it(),at.onComplete&&at.onComplete()},name:et,motionValue:_e,element:st?void 0:nt};isTransitionDefined(at)||(ct={...ct,...getDefaultTransition(et,ct)}),ct.duration&&(ct.duration=secondsToMilliseconds(ct.duration)),ct.repeatDelay&&(ct.repeatDelay=secondsToMilliseconds(ct.repeatDelay)),ct.from!==void 0&&(ct.keyframes[0]=ct.from);let ut=!1;if((ct.type===!1||ct.duration===0&&!ct.repeatDelay)&&(ct.duration=0,ct.delay===0&&(ut=!0)),ut&&!st&&_e.get()!==void 0){const dt=getFinalKeyframe(ct.keyframes,at);if(dt!==void 0)return frame.update(()=>{ct.onUpdate(dt),ct.onComplete()}),new GroupPlaybackControls([])}return!st&&AcceleratedAnimation.supports(ct)?new AcceleratedAnimation(ct):new MainThreadAnimation(ct)},isCustomValue=et=>!!(et&&typeof et=="object"&&et.mix&&et.toValue),resolveFinalValueInKeyframes=et=>isKeyframesTarget(et)?et[et.length-1]||0:et;function addUniqueItem(et,_e){et.indexOf(_e)===-1&&et.push(_e)}function removeItem(et,_e){const tt=et.indexOf(_e);tt>-1&&et.splice(tt,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(_e){return addUniqueItem(this.subscriptions,_e),()=>removeItem(this.subscriptions,_e)}notify(_e,tt,rt){const nt=this.subscriptions.length;if(nt)if(nt===1)this.subscriptions[0](_e,tt,rt);else for(let st=0;st<nt;st++){const it=this.subscriptions[st];it&&it(_e,tt,rt)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const MAX_VELOCITY_DELTA=30,isFloat=et=>!isNaN(parseFloat(et));class MotionValue{constructor(_e,tt={}){this.version="11.15.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(rt,nt=!0)=>{const st=time.now();this.updatedAt!==st&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(rt),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),nt&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(_e),this.owner=tt.owner}setCurrent(_e){this.current=_e,this.updatedAt=time.now(),this.canTrackVelocity===null&&_e!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(_e=this.current){this.prevFrameValue=_e,this.prevUpdatedAt=this.updatedAt}onChange(_e){return this.on("change",_e)}on(_e,tt){this.events[_e]||(this.events[_e]=new SubscriptionManager);const rt=this.events[_e].add(tt);return _e==="change"?()=>{rt(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:rt}clearListeners(){for(const _e in this.events)this.events[_e].clear()}attach(_e,tt){this.passiveEffect=_e,this.stopPassiveEffect=tt}set(_e,tt=!0){!tt||!this.passiveEffect?this.updateAndNotify(_e,tt):this.passiveEffect(_e,this.updateAndNotify)}setWithVelocity(_e,tt,rt){this.set(tt),this.prev=void 0,this.prevFrameValue=_e,this.prevUpdatedAt=this.updatedAt-rt}jump(_e,tt=!0){this.updateAndNotify(_e),this.prev=_e,this.prevUpdatedAt=this.prevFrameValue=void 0,tt&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const _e=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||_e-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const tt=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),tt)}start(_e){return this.stop(),new Promise(tt=>{this.hasAnimated=!0,this.animation=_e(tt),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(et,_e){return new MotionValue(et,_e)}function setMotionValue(et,_e,tt){et.hasValue(_e)?et.getValue(_e).set(tt):et.addValue(_e,motionValue(tt))}function setTarget(et,_e){const tt=resolveVariant(et,_e);let{transitionEnd:rt={},transition:nt={},...st}=tt||{};st={...st,...rt};for(const it in st){const at=resolveFinalValueInKeyframes(st[it]);setMotionValue(et,it,at)}}const camelToDash=et=>et.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId);function getOptimisedAppearId(et){return et.props[optimizedAppearDataAttribute]}const isMotionValue=et=>!!(et&&et.getVelocity);function isWillChangeMotionValue(et){return!!(isMotionValue(et)&&et.add)}function addValueToWillChange(et,_e){const tt=et.getValue("willChange");if(isWillChangeMotionValue(tt))return tt.add(_e)}function shouldBlockAnimation({protectedKeys:et,needsAnimating:_e},tt){const rt=et.hasOwnProperty(tt)&&_e[tt]!==!0;return _e[tt]=!1,rt}function animateTarget(et,_e,{delay:tt=0,transitionOverride:rt,type:nt}={}){var st;let{transition:it=et.getDefaultTransition(),transitionEnd:at,...ot}=_e;rt&&(it=rt);const lt=[],ct=nt&&et.animationState&&et.animationState.getState()[nt];for(const ut in ot){const dt=et.getValue(ut,(st=et.latestValues[ut])!==null&&st!==void 0?st:null),ft=ot[ut];if(ft===void 0||ct&&shouldBlockAnimation(ct,ut))continue;const ht={delay:tt,...getValueTransition(it||{},ut)};let pt=!1;if(window.MotionHandoffAnimation){const mt=getOptimisedAppearId(et);if(mt){const bt=window.MotionHandoffAnimation(mt,ut,frame);bt!==null&&(ht.startTime=bt,pt=!0)}}addValueToWillChange(et,ut),dt.start(animateMotionValue(ut,dt,ft,et.shouldReduceMotion&&transformProps.has(ut)?{type:!1}:ht,et,pt));const gt=dt.animation;gt&&lt.push(gt)}return at&&Promise.all(lt).then(()=>{frame.update(()=>{at&&setTarget(et,at)})}),lt}function animateVariant(et,_e,tt={}){var rt;const nt=resolveVariant(et,_e,tt.type==="exit"?(rt=et.presenceContext)===null||rt===void 0?void 0:rt.custom:void 0);let{transition:st=et.getDefaultTransition()||{}}=nt||{};tt.transitionOverride&&(st=tt.transitionOverride);const it=nt?()=>Promise.all(animateTarget(et,nt,tt)):()=>Promise.resolve(),at=et.variantChildren&&et.variantChildren.size?(lt=0)=>{const{delayChildren:ct=0,staggerChildren:ut,staggerDirection:dt}=st;return animateChildren(et,_e,ct+lt,ut,dt,tt)}:()=>Promise.resolve(),{when:ot}=st;if(ot){const[lt,ct]=ot==="beforeChildren"?[it,at]:[at,it];return lt().then(()=>ct())}else return Promise.all([it(),at(tt.delay)])}function animateChildren(et,_e,tt=0,rt=0,nt=1,st){const it=[],at=(et.variantChildren.size-1)*rt,ot=nt===1?(lt=0)=>lt*rt:(lt=0)=>at-lt*rt;return Array.from(et.variantChildren).sort(sortByTreeOrder).forEach((lt,ct)=>{lt.notify("AnimationStart",_e),it.push(animateVariant(lt,_e,{...st,delay:tt+ot(ct)}).then(()=>lt.notify("AnimationComplete",_e)))}),Promise.all(it)}function sortByTreeOrder(et,_e){return et.sortNodePosition(_e)}function animateVisualElement(et,_e,tt={}){et.notify("AnimationStart",_e);let rt;if(Array.isArray(_e)){const nt=_e.map(st=>animateVariant(et,st,tt));rt=Promise.all(nt)}else if(typeof _e=="string")rt=animateVariant(et,_e,tt);else{const nt=typeof _e=="function"?resolveVariant(et,_e,tt.custom):_e;rt=Promise.all(animateTarget(et,nt,tt))}return rt.then(()=>{et.notify("AnimationComplete",_e)})}const numVariantProps=variantProps.length;function getVariantContext(et){if(!et)return;if(!et.isControllingVariants){const tt=et.parent?getVariantContext(et.parent)||{}:{};return et.props.initial!==void 0&&(tt.initial=et.props.initial),tt}const _e={};for(let tt=0;tt<numVariantProps;tt++){const rt=variantProps[tt],nt=et.props[rt];(isVariantLabel(nt)||nt===!1)&&(_e[rt]=nt)}return _e}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(et){return _e=>Promise.all(_e.map(({animation:tt,options:rt})=>animateVisualElement(et,tt,rt)))}function createAnimationState(et){let _e=animateList(et),tt=createState(),rt=!0;const nt=ot=>(lt,ct)=>{var ut;const dt=resolveVariant(et,ct,ot==="exit"?(ut=et.presenceContext)===null||ut===void 0?void 0:ut.custom:void 0);if(dt){const{transition:ft,transitionEnd:ht,...pt}=dt;lt={...lt,...pt,...ht}}return lt};function st(ot){_e=ot(et)}function it(ot){const{props:lt}=et,ct=getVariantContext(et.parent)||{},ut=[],dt=new Set;let ft={},ht=1/0;for(let gt=0;gt<numAnimationTypes;gt++){const mt=reversePriorityOrder[gt],bt=tt[mt],vt=lt[mt]!==void 0?lt[mt]:ct[mt],yt=isVariantLabel(vt),xt=mt===ot?bt.isActive:null;xt===!1&&(ht=gt);let Et=vt===ct[mt]&&vt!==lt[mt]&&yt;if(Et&&rt&&et.manuallyAnimateOnMount&&(Et=!1),bt.protectedKeys={...ft},!bt.isActive&&xt===null||!vt&&!bt.prevProp||isAnimationControls(vt)||typeof vt=="boolean")continue;const wt=checkVariantsDidChange(bt.prevProp,vt);let $t=wt||mt===ot&&bt.isActive&&!Et&&yt||gt>ht&&yt,Tt=!1;const St=Array.isArray(vt)?vt:[vt];let Pt=St.reduce(nt(mt),{});xt===!1&&(Pt={});const{prevResolvedValues:At={}}=bt,Rt={...At,...Pt},Ct=Mt=>{$t=!0,dt.has(Mt)&&(Tt=!0,dt.delete(Mt)),bt.needsAnimating[Mt]=!0;const Ot=et.getValue(Mt);Ot&&(Ot.liveStyle=!1)};for(const Mt in Rt){const Ot=Pt[Mt],jt=At[Mt];if(ft.hasOwnProperty(Mt))continue;let Ut=!1;isKeyframesTarget(Ot)&&isKeyframesTarget(jt)?Ut=!shallowCompare(Ot,jt):Ut=Ot!==jt,Ut?Ot!=null?Ct(Mt):dt.add(Mt):Ot!==void 0&&dt.has(Mt)?Ct(Mt):bt.protectedKeys[Mt]=!0}bt.prevProp=vt,bt.prevResolvedValues=Pt,bt.isActive&&(ft={...ft,...Pt}),rt&&et.blockInitialAnimation&&($t=!1),$t&&(!(Et&&wt)||Tt)&&ut.push(...St.map(Mt=>({animation:Mt,options:{type:mt}})))}if(dt.size){const gt={};dt.forEach(mt=>{const bt=et.getBaseTarget(mt),vt=et.getValue(mt);vt&&(vt.liveStyle=!0),gt[mt]=bt??null}),ut.push({animation:gt})}let pt=!!ut.length;return rt&&(lt.initial===!1||lt.initial===lt.animate)&&!et.manuallyAnimateOnMount&&(pt=!1),rt=!1,pt?_e(ut):Promise.resolve()}function at(ot,lt){var ct;if(tt[ot].isActive===lt)return Promise.resolve();(ct=et.variantChildren)===null||ct===void 0||ct.forEach(dt=>{var ft;return(ft=dt.animationState)===null||ft===void 0?void 0:ft.setActive(ot,lt)}),tt[ot].isActive=lt;const ut=it(ot);for(const dt in tt)tt[dt].protectedKeys={};return ut}return{animateChanges:it,setActive:at,setAnimateFunction:st,getState:()=>tt,reset:()=>{tt=createState(),rt=!0}}}function checkVariantsDidChange(et,_e){return typeof _e=="string"?_e!==et:Array.isArray(_e)?!shallowCompare(_e,et):!1}function createTypeState(et=!1){return{isActive:et,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(_e){this.isMounted=!1,this.node=_e}update(){}}class AnimationFeature extends Feature{constructor(_e){super(_e),_e.animationState||(_e.animationState=createAnimationState(_e))}updateAnimationControlsSubscription(){const{animate:_e}=this.node.getProps();isAnimationControls(_e)&&(this.unmountControls=_e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:_e}=this.node.getProps(),{animate:tt}=this.node.prevProps||{};_e!==tt&&this.updateAnimationControlsSubscription()}unmount(){var _e;this.node.animationState.reset(),(_e=this.unmountControls)===null||_e===void 0||_e.call(this)}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:_e,onExitComplete:tt}=this.node.presenceContext,{isPresent:rt}=this.node.prevPresenceContext||{};if(!this.node.animationState||_e===rt)return;const nt=this.node.animationState.setActive("exit",!_e);tt&&!_e&&nt.then(()=>tt(this.id))}mount(){const{register:_e}=this.node.presenceContext||{};_e&&(this.unmount=_e(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}},isDragging={x:!1,y:!1};function isDragActive(){return isDragging.x||isDragging.y}function resolveElements(et,_e,tt){var rt;if(et instanceof Element)return[et];if(typeof et=="string"){let nt=document;_e&&(nt=_e.current);const st=(rt=tt==null?void 0:tt[et])!==null&&rt!==void 0?rt:nt.querySelectorAll(et);return st?Array.from(st):[]}return Array.from(et)}function setupGesture(et,_e){const tt=resolveElements(et),rt=new AbortController,nt={passive:!0,..._e,signal:rt.signal};return[tt,nt,()=>rt.abort()]}function filterEvents$1(et){return _e=>{_e.pointerType==="touch"||isDragActive()||et(_e)}}function hover$2(et,_e,tt={}){const[rt,nt,st]=setupGesture(et,tt),it=filterEvents$1(at=>{const{target:ot}=at,lt=_e(at);if(!lt||!ot)return;const ct=filterEvents$1(ut=>{lt(ut),ot.removeEventListener("pointerleave",ct)});ot.addEventListener("pointerleave",ct,nt)});return rt.forEach(at=>{at.addEventListener("pointerenter",it,nt)}),st}const isPrimaryPointer=et=>et.pointerType==="mouse"?typeof et.button!="number"||et.button<=0:et.isPrimary!==!1,isPressing=new WeakSet;function filterEvents(et){return _e=>{_e.key==="Enter"&&et(_e)}}function firePointerEvent(et,_e){et.dispatchEvent(new PointerEvent("pointer"+_e,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress=(et,_e)=>{const tt=et.currentTarget;if(!tt)return;const rt=filterEvents(()=>{if(isPressing.has(tt))return;firePointerEvent(tt,"down");const nt=filterEvents(()=>{firePointerEvent(tt,"up")}),st=()=>firePointerEvent(tt,"cancel");tt.addEventListener("keyup",nt,_e),tt.addEventListener("blur",st,_e)});tt.addEventListener("keydown",rt,_e),tt.addEventListener("blur",()=>tt.removeEventListener("keydown",rt),_e)},focusableElements=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible(et){return focusableElements.has(et.tagName)||et.tabIndex!==-1}const isNodeOrChild=(et,_e)=>_e?et===_e?!0:isNodeOrChild(et,_e.parentElement):!1;function isValidPressEvent(et){return isPrimaryPointer(et)&&!isDragActive()}function press(et,_e,tt={}){const[rt,nt,st]=setupGesture(et,tt),it=at=>{const ot=at.currentTarget;if(!isValidPressEvent(at)||isPressing.has(ot))return;isPressing.add(ot);const lt=_e(at),ct=(ft,ht)=>{window.removeEventListener("pointerup",ut),window.removeEventListener("pointercancel",dt),!(!isValidPressEvent(ft)||!isPressing.has(ot))&&(isPressing.delete(ot),lt&&lt(ft,{success:ht}))},ut=ft=>{ct(ft,tt.useGlobalTarget||isNodeOrChild(ot,ft.target))},dt=ft=>{ct(ft,!1)};window.addEventListener("pointerup",ut,nt),window.addEventListener("pointercancel",dt,nt)};return rt.forEach(at=>{isElementKeyboardAccessible(at)||(at.tabIndex=0),(tt.useGlobalTarget?window:at).addEventListener("pointerdown",it,nt),at.addEventListener("focus",lt=>enableKeyboardPress(lt,nt),nt)}),st}function setDragLock(et){return et==="x"||et==="y"?isDragging[et]?null:(isDragging[et]=!0,()=>{isDragging[et]=!1}):isDragging.x||isDragging.y?null:(isDragging.x=isDragging.y=!0,()=>{isDragging.x=isDragging.y=!1})}function extractEventInfo(et){return{point:{x:et.pageX,y:et.pageY}}}const addPointerInfo=et=>_e=>isPrimaryPointer(_e)&&et(_e,extractEventInfo(_e));function addDomEvent(et,_e,tt,rt={passive:!0}){return et.addEventListener(_e,tt,rt),()=>et.removeEventListener(_e,tt)}function addPointerEvent(et,_e,tt,rt){return addDomEvent(et,_e,addPointerInfo(tt),rt)}const distance=(et,_e)=>Math.abs(et-_e);function distance2D(et,_e){const tt=distance(et.x,_e.x),rt=distance(et.y,_e.y);return Math.sqrt(tt**2+rt**2)}class PanSession{constructor(_e,tt,{transformPagePoint:rt,contextWindow:nt,dragSnapToOrigin:st=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const ut=getPanInfo(this.lastMoveEventInfo,this.history),dt=this.startEvent!==null,ft=distance2D(ut.offset,{x:0,y:0})>=3;if(!dt&&!ft)return;const{point:ht}=ut,{timestamp:pt}=frameData;this.history.push({...ht,timestamp:pt});const{onStart:gt,onMove:mt}=this.handlers;dt||(gt&&gt(this.lastMoveEvent,ut),this.startEvent=this.lastMoveEvent),mt&&mt(this.lastMoveEvent,ut)},this.handlePointerMove=(ut,dt)=>{this.lastMoveEvent=ut,this.lastMoveEventInfo=transformPoint(dt,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(ut,dt)=>{this.end();const{onEnd:ft,onSessionEnd:ht,resumeAnimation:pt}=this.handlers;if(this.dragSnapToOrigin&&pt&&pt(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const gt=getPanInfo(ut.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(dt,this.transformPagePoint),this.history);this.startEvent&&ft&&ft(ut,gt),ht&&ht(ut,gt)},!isPrimaryPointer(_e))return;this.dragSnapToOrigin=st,this.handlers=tt,this.transformPagePoint=rt,this.contextWindow=nt||window;const it=extractEventInfo(_e),at=transformPoint(it,this.transformPagePoint),{point:ot}=at,{timestamp:lt}=frameData;this.history=[{...ot,timestamp:lt}];const{onSessionStart:ct}=tt;ct&&ct(_e,getPanInfo(at,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(_e){this.handlers=_e}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(et,_e){return _e?{point:_e(et.point)}:et}function subtractPoint(et,_e){return{x:et.x-_e.x,y:et.y-_e.y}}function getPanInfo({point:et},_e){return{point:et,delta:subtractPoint(et,lastDevicePoint(_e)),offset:subtractPoint(et,startDevicePoint(_e)),velocity:getVelocity(_e,.1)}}function startDevicePoint(et){return et[0]}function lastDevicePoint(et){return et[et.length-1]}function getVelocity(et,_e){if(et.length<2)return{x:0,y:0};let tt=et.length-1,rt=null;const nt=lastDevicePoint(et);for(;tt>=0&&(rt=et[tt],!(nt.timestamp-rt.timestamp>secondsToMilliseconds(_e)));)tt--;if(!rt)return{x:0,y:0};const st=millisecondsToSeconds(nt.timestamp-rt.timestamp);if(st===0)return{x:0,y:0};const it={x:(nt.x-rt.x)/st,y:(nt.y-rt.y)/st};return it.x===1/0&&(it.x=0),it.y===1/0&&(it.y=0),it}function isRefObject(et){return et&&typeof et=="object"&&Object.prototype.hasOwnProperty.call(et,"current")}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(et){return et.max-et.min}function isNear(et,_e,tt){return Math.abs(et-_e)<=tt}function calcAxisDelta(et,_e,tt,rt=.5){et.origin=rt,et.originPoint=mixNumber$1(_e.min,_e.max,et.origin),et.scale=calcLength(tt)/calcLength(_e),et.translate=mixNumber$1(tt.min,tt.max,et.origin)-et.originPoint,(et.scale>=SCALE_MIN&&et.scale<=SCALE_MAX||isNaN(et.scale))&&(et.scale=1),(et.translate>=TRANSLATE_MIN&&et.translate<=TRANSLATE_MAX||isNaN(et.translate))&&(et.translate=0)}function calcBoxDelta(et,_e,tt,rt){calcAxisDelta(et.x,_e.x,tt.x,rt?rt.originX:void 0),calcAxisDelta(et.y,_e.y,tt.y,rt?rt.originY:void 0)}function calcRelativeAxis(et,_e,tt){et.min=tt.min+_e.min,et.max=et.min+calcLength(_e)}function calcRelativeBox(et,_e,tt){calcRelativeAxis(et.x,_e.x,tt.x),calcRelativeAxis(et.y,_e.y,tt.y)}function calcRelativeAxisPosition(et,_e,tt){et.min=_e.min-tt.min,et.max=et.min+calcLength(_e)}function calcRelativePosition(et,_e,tt){calcRelativeAxisPosition(et.x,_e.x,tt.x),calcRelativeAxisPosition(et.y,_e.y,tt.y)}function applyConstraints(et,{min:_e,max:tt},rt){return _e!==void 0&&et<_e?et=rt?mixNumber$1(_e,et,rt.min):Math.max(et,_e):tt!==void 0&&et>tt&&(et=rt?mixNumber$1(tt,et,rt.max):Math.min(et,tt)),et}function calcRelativeAxisConstraints(et,_e,tt){return{min:_e!==void 0?et.min+_e:void 0,max:tt!==void 0?et.max+tt-(et.max-et.min):void 0}}function calcRelativeConstraints(et,{top:_e,left:tt,bottom:rt,right:nt}){return{x:calcRelativeAxisConstraints(et.x,tt,nt),y:calcRelativeAxisConstraints(et.y,_e,rt)}}function calcViewportAxisConstraints(et,_e){let tt=_e.min-et.min,rt=_e.max-et.max;return _e.max-_e.min<et.max-et.min&&([tt,rt]=[rt,tt]),{min:tt,max:rt}}function calcViewportConstraints(et,_e){return{x:calcViewportAxisConstraints(et.x,_e.x),y:calcViewportAxisConstraints(et.y,_e.y)}}function calcOrigin$1(et,_e){let tt=.5;const rt=calcLength(et),nt=calcLength(_e);return nt>rt?tt=progress(_e.min,_e.max-rt,et.min):rt>nt&&(tt=progress(et.min,et.max-nt,_e.min)),clamp$1(0,1,tt)}function rebaseAxisConstraints(et,_e){const tt={};return _e.min!==void 0&&(tt.min=_e.min-et.min),_e.max!==void 0&&(tt.max=_e.max-et.min),tt}const defaultElastic=.35;function resolveDragElastic(et=defaultElastic){return et===!1?et=0:et===!0&&(et=defaultElastic),{x:resolveAxisElastic(et,"left","right"),y:resolveAxisElastic(et,"top","bottom")}}function resolveAxisElastic(et,_e,tt){return{min:resolvePointElastic(et,_e),max:resolvePointElastic(et,tt)}}function resolvePointElastic(et,_e){return typeof et=="number"?et:et[_e]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(et){return[et("x"),et("y")]}function convertBoundingBoxToBox({top:et,left:_e,right:tt,bottom:rt}){return{x:{min:_e,max:tt},y:{min:et,max:rt}}}function convertBoxToBoundingBox({x:et,y:_e}){return{top:_e.min,right:et.max,bottom:_e.max,left:et.min}}function transformBoxPoints(et,_e){if(!_e)return et;const tt=_e({x:et.left,y:et.top}),rt=_e({x:et.right,y:et.bottom});return{top:tt.y,left:tt.x,bottom:rt.y,right:rt.x}}function isIdentityScale(et){return et===void 0||et===1}function hasScale({scale:et,scaleX:_e,scaleY:tt}){return!isIdentityScale(et)||!isIdentityScale(_e)||!isIdentityScale(tt)}function hasTransform(et){return hasScale(et)||has2DTranslate(et)||et.z||et.rotate||et.rotateX||et.rotateY||et.skewX||et.skewY}function has2DTranslate(et){return is2DTranslate(et.x)||is2DTranslate(et.y)}function is2DTranslate(et){return et&&et!=="0%"}function scalePoint(et,_e,tt){const rt=et-tt,nt=_e*rt;return tt+nt}function applyPointDelta(et,_e,tt,rt,nt){return nt!==void 0&&(et=scalePoint(et,nt,rt)),scalePoint(et,tt,rt)+_e}function applyAxisDelta(et,_e=0,tt=1,rt,nt){et.min=applyPointDelta(et.min,_e,tt,rt,nt),et.max=applyPointDelta(et.max,_e,tt,rt,nt)}function applyBoxDelta(et,{x:_e,y:tt}){applyAxisDelta(et.x,_e.translate,_e.scale,_e.originPoint),applyAxisDelta(et.y,tt.translate,tt.scale,tt.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(et,_e,tt,rt=!1){const nt=tt.length;if(!nt)return;_e.x=_e.y=1;let st,it;for(let at=0;at<nt;at++){st=tt[at],it=st.projectionDelta;const{visualElement:ot}=st.options;ot&&ot.props.style&&ot.props.style.display==="contents"||(rt&&st.options.layoutScroll&&st.scroll&&st!==st.root&&transformBox(et,{x:-st.scroll.offset.x,y:-st.scroll.offset.y}),it&&(_e.x*=it.x.scale,_e.y*=it.y.scale,applyBoxDelta(et,it)),rt&&hasTransform(st.latestValues)&&transformBox(et,st.latestValues))}_e.x<TREE_SCALE_SNAP_MAX&&_e.x>TREE_SCALE_SNAP_MIN&&(_e.x=1),_e.y<TREE_SCALE_SNAP_MAX&&_e.y>TREE_SCALE_SNAP_MIN&&(_e.y=1)}function translateAxis(et,_e){et.min=et.min+_e,et.max=et.max+_e}function transformAxis(et,_e,tt,rt,nt=.5){const st=mixNumber$1(et.min,et.max,nt);applyAxisDelta(et,_e,tt,st,rt)}function transformBox(et,_e){transformAxis(et.x,_e.x,_e.scaleX,_e.scale,_e.originX),transformAxis(et.y,_e.y,_e.scaleY,_e.scale,_e.originY)}function measureViewportBox(et,_e){return convertBoundingBoxToBox(transformBoxPoints(et.getBoundingClientRect(),_e))}function measurePageBox(et,_e,tt){const rt=measureViewportBox(et,tt),{scroll:nt}=_e;return nt&&(translateAxis(rt.x,nt.offset.x),translateAxis(rt.y,nt.offset.y)),rt}const getContextWindow=({current:et})=>et?et.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor(_e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=_e}start(_e,{snapToCursor:tt=!1}={}){const{presenceContext:rt}=this.visualElement;if(rt&&rt.isPresent===!1)return;const nt=ct=>{const{dragSnapToOrigin:ut}=this.getProps();ut?this.pauseAnimation():this.stopAnimation(),tt&&this.snapToCursor(extractEventInfo(ct).point)},st=(ct,ut)=>{const{drag:dt,dragPropagation:ft,onDragStart:ht}=this.getProps();if(dt&&!ft&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock(dt),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(gt=>{let mt=this.getAxisMotionValue(gt).get()||0;if(percent.test(mt)){const{projection:bt}=this.visualElement;if(bt&&bt.layout){const vt=bt.layout.layoutBox[gt];vt&&(mt=calcLength(vt)*(parseFloat(mt)/100))}}this.originPoint[gt]=mt}),ht&&frame.postRender(()=>ht(ct,ut)),addValueToWillChange(this.visualElement,"transform");const{animationState:pt}=this.visualElement;pt&&pt.setActive("whileDrag",!0)},it=(ct,ut)=>{const{dragPropagation:dt,dragDirectionLock:ft,onDirectionLock:ht,onDrag:pt}=this.getProps();if(!dt&&!this.openDragLock)return;const{offset:gt}=ut;if(ft&&this.currentDirection===null){this.currentDirection=getCurrentDirection(gt),this.currentDirection!==null&&ht&&ht(this.currentDirection);return}this.updateAxis("x",ut.point,gt),this.updateAxis("y",ut.point,gt),this.visualElement.render(),pt&&pt(ct,ut)},at=(ct,ut)=>this.stop(ct,ut),ot=()=>eachAxis(ct=>{var ut;return this.getAnimationState(ct)==="paused"&&((ut=this.getAxisMotionValue(ct).animation)===null||ut===void 0?void 0:ut.play())}),{dragSnapToOrigin:lt}=this.getProps();this.panSession=new PanSession(_e,{onSessionStart:nt,onStart:st,onMove:it,onSessionEnd:at,resumeAnimation:ot},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:lt,contextWindow:getContextWindow(this.visualElement)})}stop(_e,tt){const rt=this.isDragging;if(this.cancel(),!rt)return;const{velocity:nt}=tt;this.startAnimation(nt);const{onDragEnd:st}=this.getProps();st&&frame.postRender(()=>st(_e,tt))}cancel(){this.isDragging=!1;const{projection:_e,animationState:tt}=this.visualElement;_e&&(_e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:rt}=this.getProps();!rt&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),tt&&tt.setActive("whileDrag",!1)}updateAxis(_e,tt,rt){const{drag:nt}=this.getProps();if(!rt||!shouldDrag(_e,nt,this.currentDirection))return;const st=this.getAxisMotionValue(_e);let it=this.originPoint[_e]+rt[_e];this.constraints&&this.constraints[_e]&&(it=applyConstraints(it,this.constraints[_e],this.elastic[_e])),st.set(it)}resolveConstraints(){var _e;const{dragConstraints:tt,dragElastic:rt}=this.getProps(),nt=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(_e=this.visualElement.projection)===null||_e===void 0?void 0:_e.layout,st=this.constraints;tt&&isRefObject(tt)?this.constraints||(this.constraints=this.resolveRefConstraints()):tt&&nt?this.constraints=calcRelativeConstraints(nt.layoutBox,tt):this.constraints=!1,this.elastic=resolveDragElastic(rt),st!==this.constraints&&nt&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(it=>{this.constraints!==!1&&this.getAxisMotionValue(it)&&(this.constraints[it]=rebaseAxisConstraints(nt.layoutBox[it],this.constraints[it]))})}resolveRefConstraints(){const{dragConstraints:_e,onMeasureDragConstraints:tt}=this.getProps();if(!_e||!isRefObject(_e))return!1;const rt=_e.current,{projection:nt}=this.visualElement;if(!nt||!nt.layout)return!1;const st=measurePageBox(rt,nt.root,this.visualElement.getTransformPagePoint());let it=calcViewportConstraints(nt.layout.layoutBox,st);if(tt){const at=tt(convertBoxToBoundingBox(it));this.hasMutatedConstraints=!!at,at&&(it=convertBoundingBoxToBox(at))}return it}startAnimation(_e){const{drag:tt,dragMomentum:rt,dragElastic:nt,dragTransition:st,dragSnapToOrigin:it,onDragTransitionEnd:at}=this.getProps(),ot=this.constraints||{},lt=eachAxis(ct=>{if(!shouldDrag(ct,tt,this.currentDirection))return;let ut=ot&&ot[ct]||{};it&&(ut={min:0,max:0});const dt=nt?200:1e6,ft=nt?40:1e7,ht={type:"inertia",velocity:rt?_e[ct]:0,bounceStiffness:dt,bounceDamping:ft,timeConstant:750,restDelta:1,restSpeed:10,...st,...ut};return this.startAxisValueAnimation(ct,ht)});return Promise.all(lt).then(at)}startAxisValueAnimation(_e,tt){const rt=this.getAxisMotionValue(_e);return addValueToWillChange(this.visualElement,_e),rt.start(animateMotionValue(_e,rt,0,tt,this.visualElement,!1))}stopAnimation(){eachAxis(_e=>this.getAxisMotionValue(_e).stop())}pauseAnimation(){eachAxis(_e=>{var tt;return(tt=this.getAxisMotionValue(_e).animation)===null||tt===void 0?void 0:tt.pause()})}getAnimationState(_e){var tt;return(tt=this.getAxisMotionValue(_e).animation)===null||tt===void 0?void 0:tt.state}getAxisMotionValue(_e){const tt=`_drag${_e.toUpperCase()}`,rt=this.visualElement.getProps(),nt=rt[tt];return nt||this.visualElement.getValue(_e,(rt.initial?rt.initial[_e]:void 0)||0)}snapToCursor(_e){eachAxis(tt=>{const{drag:rt}=this.getProps();if(!shouldDrag(tt,rt,this.currentDirection))return;const{projection:nt}=this.visualElement,st=this.getAxisMotionValue(tt);if(nt&&nt.layout){const{min:it,max:at}=nt.layout.layoutBox[tt];st.set(_e[tt]-mixNumber$1(it,at,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:_e,dragConstraints:tt}=this.getProps(),{projection:rt}=this.visualElement;if(!isRefObject(tt)||!rt||!this.constraints)return;this.stopAnimation();const nt={x:0,y:0};eachAxis(it=>{const at=this.getAxisMotionValue(it);if(at&&this.constraints!==!1){const ot=at.get();nt[it]=calcOrigin$1({min:ot,max:ot},this.constraints[it])}});const{transformTemplate:st}=this.visualElement.getProps();this.visualElement.current.style.transform=st?st({},""):"none",rt.root&&rt.root.updateScroll(),rt.updateLayout(),this.resolveConstraints(),eachAxis(it=>{if(!shouldDrag(it,_e,null))return;const at=this.getAxisMotionValue(it),{min:ot,max:lt}=this.constraints[it];at.set(mixNumber$1(ot,lt,nt[it]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const _e=this.visualElement.current,tt=addPointerEvent(_e,"pointerdown",ot=>{const{drag:lt,dragListener:ct=!0}=this.getProps();lt&&ct&&this.start(ot)}),rt=()=>{const{dragConstraints:ot}=this.getProps();isRefObject(ot)&&ot.current&&(this.constraints=this.resolveRefConstraints())},{projection:nt}=this.visualElement,st=nt.addEventListener("measure",rt);nt&&!nt.layout&&(nt.root&&nt.root.updateScroll(),nt.updateLayout()),frame.read(rt);const it=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),at=nt.addEventListener("didUpdate",({delta:ot,hasLayoutChanged:lt})=>{this.isDragging&&lt&&(eachAxis(ct=>{const ut=this.getAxisMotionValue(ct);ut&&(this.originPoint[ct]+=ot[ct].translate,ut.set(ut.get()+ot[ct].translate))}),this.visualElement.render())});return()=>{it(),tt(),st(),at&&at()}}getProps(){const _e=this.visualElement.getProps(),{drag:tt=!1,dragDirectionLock:rt=!1,dragPropagation:nt=!1,dragConstraints:st=!1,dragElastic:it=defaultElastic,dragMomentum:at=!0}=_e;return{..._e,drag:tt,dragDirectionLock:rt,dragPropagation:nt,dragConstraints:st,dragElastic:it,dragMomentum:at}}}function shouldDrag(et,_e,tt){return(_e===!0||_e===et)&&(tt===null||tt===et)}function getCurrentDirection(et,_e=10){let tt=null;return Math.abs(et.y)>_e?tt="y":Math.abs(et.x)>_e&&(tt="x"),tt}class DragGesture extends Feature{constructor(_e){super(_e),this.removeGroupControls=noop$2,this.removeListeners=noop$2,this.controls=new VisualElementDragControls(_e)}mount(){const{dragControls:_e}=this.node.getProps();_e&&(this.removeGroupControls=_e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$2}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=et=>(_e,tt)=>{et&&frame.postRender(()=>et(_e,tt))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$2}onPointerDown(_e){this.session=new PanSession(_e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:_e,onPanStart:tt,onPan:rt,onPanEnd:nt}=this.node.getProps();return{onSessionStart:asyncHandler(_e),onStart:asyncHandler(tt),onMove:rt,onEnd:(st,it)=>{delete this.session,nt&&frame.postRender(()=>nt(st,it))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",_e=>this.onPointerDown(_e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const PresenceContext=reactExports.createContext(null);function usePresence(){const et=reactExports.useContext(PresenceContext);if(et===null)return[!0,null];const{isPresent:_e,onExitComplete:tt,register:rt}=et,nt=reactExports.useId();reactExports.useEffect(()=>rt(nt),[]);const st=reactExports.useCallback(()=>tt&&tt(nt),[nt,tt]);return!_e&&tt?[!1,st]:[!0]}const LayoutGroupContext=reactExports.createContext({}),SwitchLayoutGroupContext=reactExports.createContext({}),globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(et,_e){return _e.max===_e.min?0:et/(_e.max-_e.min)*100}const correctBorderRadius={correct:(et,_e)=>{if(!_e.target)return et;if(typeof et=="string")if(px.test(et))et=parseFloat(et);else return et;const tt=pixelsToPercent(et,_e.target.x),rt=pixelsToPercent(et,_e.target.y);return`${tt}% ${rt}%`}},correctBoxShadow={correct:(et,{treeScale:_e,projectionDelta:tt})=>{const rt=et,nt=complex.parse(et);if(nt.length>5)return rt;const st=complex.createTransformer(et),it=typeof nt[0]!="number"?1:0,at=tt.x.scale*_e.x,ot=tt.y.scale*_e.y;nt[0+it]/=at,nt[1+it]/=ot;const lt=mixNumber$1(at,ot,.5);return typeof nt[2+it]=="number"&&(nt[2+it]/=lt),typeof nt[3+it]=="number"&&(nt[3+it]/=lt),st(nt)}},scaleCorrectors={};function addScaleCorrector(et){Object.assign(scaleCorrectors,et)}const{schedule:microtask,cancel:cancelMicrotask}=createRenderBatcher(queueMicrotask,!1);class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:_e,layoutGroup:tt,switchLayoutGroup:rt,layoutId:nt}=this.props,{projection:st}=_e;addScaleCorrector(defaultScaleCorrectors),st&&(tt.group&&tt.group.add(st),rt&&rt.register&&nt&&rt.register(st),st.root.didUpdate(),st.addEventListener("animationComplete",()=>{this.safeToRemove()}),st.setOptions({...st.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(_e){const{layoutDependency:tt,visualElement:rt,drag:nt,isPresent:st}=this.props,it=rt.projection;return it&&(it.isPresent=st,nt||_e.layoutDependency!==tt||tt===void 0?it.willUpdate():this.safeToRemove(),_e.isPresent!==st&&(st?it.promote():it.relegate()||frame.postRender(()=>{const at=it.getStack();(!at||!at.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:_e}=this.props.visualElement;_e&&(_e.root.didUpdate(),microtask.postRender(()=>{!_e.currentAnimation&&_e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:_e,layoutGroup:tt,switchLayoutGroup:rt}=this.props,{projection:nt}=_e;nt&&(nt.scheduleCheckAfterUnmount(),tt&&tt.group&&tt.group.remove(nt),rt&&rt.deregister&&rt.deregister(nt))}safeToRemove(){const{safeToRemove:_e}=this.props;_e&&_e()}render(){return null}}function MeasureLayout(et){const[_e,tt]=usePresence(),rt=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...et,layoutGroup:rt,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:_e,safeToRemove:tt})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow},borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=et=>typeof et=="string"?parseFloat(et):et,isPx=et=>typeof et=="number"||px.test(et);function mixValues(et,_e,tt,rt,nt,st){nt?(et.opacity=mixNumber$1(0,tt.opacity!==void 0?tt.opacity:1,easeCrossfadeIn(rt)),et.opacityExit=mixNumber$1(_e.opacity!==void 0?_e.opacity:1,0,easeCrossfadeOut(rt))):st&&(et.opacity=mixNumber$1(_e.opacity!==void 0?_e.opacity:1,tt.opacity!==void 0?tt.opacity:1,rt));for(let it=0;it<numBorders;it++){const at=`border${borders[it]}Radius`;let ot=getRadius(_e,at),lt=getRadius(tt,at);if(ot===void 0&&lt===void 0)continue;ot||(ot=0),lt||(lt=0),ot===0||lt===0||isPx(ot)===isPx(lt)?(et[at]=Math.max(mixNumber$1(asNumber(ot),asNumber(lt),rt),0),(percent.test(lt)||percent.test(ot))&&(et[at]+="%")):et[at]=lt}(_e.rotate||tt.rotate)&&(et.rotate=mixNumber$1(_e.rotate||0,tt.rotate||0,rt))}function getRadius(et,_e){return et[_e]!==void 0?et[_e]:et.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$2);function compress(et,_e,tt){return rt=>rt<et?0:rt>_e?1:tt(progress(et,_e,rt))}function copyAxisInto(et,_e){et.min=_e.min,et.max=_e.max}function copyBoxInto(et,_e){copyAxisInto(et.x,_e.x),copyAxisInto(et.y,_e.y)}function copyAxisDeltaInto(et,_e){et.translate=_e.translate,et.scale=_e.scale,et.originPoint=_e.originPoint,et.origin=_e.origin}function removePointDelta(et,_e,tt,rt,nt){return et-=_e,et=scalePoint(et,1/tt,rt),nt!==void 0&&(et=scalePoint(et,1/nt,rt)),et}function removeAxisDelta(et,_e=0,tt=1,rt=.5,nt,st=et,it=et){if(percent.test(_e)&&(_e=parseFloat(_e),_e=mixNumber$1(it.min,it.max,_e/100)-it.min),typeof _e!="number")return;let at=mixNumber$1(st.min,st.max,rt);et===st&&(at-=_e),et.min=removePointDelta(et.min,_e,tt,at,nt),et.max=removePointDelta(et.max,_e,tt,at,nt)}function removeAxisTransforms(et,_e,[tt,rt,nt],st,it){removeAxisDelta(et,_e[tt],_e[rt],_e[nt],_e.scale,st,it)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(et,_e,tt,rt){removeAxisTransforms(et.x,_e,xKeys,tt?tt.x:void 0,rt?rt.x:void 0),removeAxisTransforms(et.y,_e,yKeys,tt?tt.y:void 0,rt?rt.y:void 0)}function isAxisDeltaZero(et){return et.translate===0&&et.scale===1}function isDeltaZero(et){return isAxisDeltaZero(et.x)&&isAxisDeltaZero(et.y)}function axisEquals(et,_e){return et.min===_e.min&&et.max===_e.max}function boxEquals(et,_e){return axisEquals(et.x,_e.x)&&axisEquals(et.y,_e.y)}function axisEqualsRounded(et,_e){return Math.round(et.min)===Math.round(_e.min)&&Math.round(et.max)===Math.round(_e.max)}function boxEqualsRounded(et,_e){return axisEqualsRounded(et.x,_e.x)&&axisEqualsRounded(et.y,_e.y)}function aspectRatio(et){return calcLength(et.x)/calcLength(et.y)}function axisDeltaEquals(et,_e){return et.translate===_e.translate&&et.scale===_e.scale&&et.originPoint===_e.originPoint}class NodeStack{constructor(){this.members=[]}add(_e){addUniqueItem(this.members,_e),_e.scheduleRender()}remove(_e){if(removeItem(this.members,_e),_e===this.prevLead&&(this.prevLead=void 0),_e===this.lead){const tt=this.members[this.members.length-1];tt&&this.promote(tt)}}relegate(_e){const tt=this.members.findIndex(nt=>_e===nt);if(tt===0)return!1;let rt;for(let nt=tt;nt>=0;nt--){const st=this.members[nt];if(st.isPresent!==!1){rt=st;break}}return rt?(this.promote(rt),!0):!1}promote(_e,tt){const rt=this.lead;if(_e!==rt&&(this.prevLead=rt,this.lead=_e,_e.show(),rt)){rt.instance&&rt.scheduleRender(),_e.scheduleRender(),_e.resumeFrom=rt,tt&&(_e.resumeFrom.preserveOpacity=!0),rt.snapshot&&(_e.snapshot=rt.snapshot,_e.snapshot.latestValues=rt.animationValues||rt.latestValues),_e.root&&_e.root.isUpdating&&(_e.isLayoutDirty=!0);const{crossfade:nt}=_e.options;nt===!1&&rt.hide()}}exitAnimationComplete(){this.members.forEach(_e=>{const{options:tt,resumingFrom:rt}=_e;tt.onExitComplete&&tt.onExitComplete(),rt&&rt.options.onExitComplete&&rt.options.onExitComplete()})}scheduleRender(){this.members.forEach(_e=>{_e.instance&&_e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(et,_e,tt){let rt="";const nt=et.x.translate/_e.x,st=et.y.translate/_e.y,it=(tt==null?void 0:tt.z)||0;if((nt||st||it)&&(rt=`translate3d(${nt}px, ${st}px, ${it}px) `),(_e.x!==1||_e.y!==1)&&(rt+=`scale(${1/_e.x}, ${1/_e.y}) `),tt){const{transformPerspective:lt,rotate:ct,rotateX:ut,rotateY:dt,skewX:ft,skewY:ht}=tt;lt&&(rt=`perspective(${lt}px) ${rt}`),ct&&(rt+=`rotate(${ct}deg) `),ut&&(rt+=`rotateX(${ut}deg) `),dt&&(rt+=`rotateY(${dt}deg) `),ft&&(rt+=`skewX(${ft}deg) `),ht&&(rt+=`skewY(${ht}deg) `)}const at=et.x.scale*_e.x,ot=et.y.scale*_e.y;return(at!==1||ot!==1)&&(rt+=`scale(${at}, ${ot})`),rt||"none"}const compareByDepth=(et,_e)=>et.depth-_e.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(_e){addUniqueItem(this.children,_e),this.isDirty=!0}remove(_e){removeItem(this.children,_e),this.isDirty=!0}forEach(_e){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(_e)}}function resolveMotionValue(et){const _e=isMotionValue(et)?et.get():et;return isCustomValue(_e)?_e.toValue():_e}function delay(et,_e){const tt=time.now(),rt=({timestamp:nt})=>{const st=nt-tt;st>=_e&&(cancelFrame(rt),et(st-_e))};return frame.read(rt,!0),()=>cancelFrame(rt)}function isSVGElement(et){return et instanceof SVGElement&&et.tagName!=="svg"}function animateSingleValue(et,_e,tt){const rt=isMotionValue(et)?et:motionValue(et);return rt.start(animateMotionValue("",rt,_e,tt)),rt.animation}const metrics={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},isDebug=typeof window<"u"&&window.MotionDebug!==void 0,transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id=0;function resetDistortingTransform(et,_e,tt,rt){const{latestValues:nt}=_e;nt[et]&&(tt[et]=nt[et],_e.setStaticValue(et,0),rt&&(rt[et]=0))}function cancelTreeOptimisedTransformAnimations(et){if(et.hasCheckedOptimisedAppear=!0,et.root===et)return;const{visualElement:_e}=et.options;if(!_e)return;const tt=getOptimisedAppearId(_e);if(window.MotionHasOptimisedAnimation(tt,"transform")){const{layout:nt,layoutId:st}=et.options;window.MotionCancelOptimisedAnimation(tt,"transform",frame,!(nt||st))}const{parent:rt}=et;rt&&!rt.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(rt)}function createProjectionNode$1({attachResizeListener:et,defaultParent:_e,measureScroll:tt,checkIsScrollRoot:rt,resetTransform:nt}){return class{constructor(it={},at=_e==null?void 0:_e()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,isDebug&&(metrics.totalNodes=metrics.resolvedTargetDeltas=metrics.recalculatedProjection=0),this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),isDebug&&window.MotionDebug.record(metrics)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=it,this.root=at?at.root||at:this,this.path=at?[...at.path,at]:[],this.parent=at,this.depth=at?at.depth+1:0;for(let ot=0;ot<this.path.length;ot++)this.path[ot].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(it,at){return this.eventHandlers.has(it)||this.eventHandlers.set(it,new SubscriptionManager),this.eventHandlers.get(it).add(at)}notifyListeners(it,...at){const ot=this.eventHandlers.get(it);ot&&ot.notify(...at)}hasListeners(it){return this.eventHandlers.has(it)}mount(it,at=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(it),this.instance=it;const{layoutId:ot,layout:lt,visualElement:ct}=this.options;if(ct&&!ct.current&&ct.mount(it),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),at&&(lt||ot)&&(this.isLayoutDirty=!0),et){let ut;const dt=()=>this.root.updateBlockedByResize=!1;et(it,()=>{this.root.updateBlockedByResize=!0,ut&&ut(),ut=delay(dt,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}ot&&this.root.registerSharedNode(ot,this),this.options.animate!==!1&&ct&&(ot||lt)&&this.addEventListener("didUpdate",({delta:ut,hasLayoutChanged:dt,hasRelativeTargetChanged:ft,layout:ht})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const pt=this.options.transition||ct.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:gt,onLayoutAnimationComplete:mt}=ct.getProps(),bt=!this.targetLayout||!boxEqualsRounded(this.targetLayout,ht)||ft,vt=!dt&&ft;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||vt||dt&&(bt||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(ut,vt);const yt={...getValueTransition(pt,"layout"),onPlay:gt,onComplete:mt};(ct.shouldReduceMotion||this.options.layoutRoot)&&(yt.delay=0,yt.type=!1),this.startAnimation(yt)}else dt||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=ht})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const it=this.getStack();it&&it.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:it}=this.options;return it&&it.getProps().transformTemplate}willUpdate(it=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let ct=0;ct<this.path.length;ct++){const ut=this.path[ct];ut.shouldResetTransform=!0,ut.updateScroll("snapshot"),ut.options.layoutRoot&&ut.willUpdate(!1)}const{layoutId:at,layout:ot}=this.options;if(at===void 0&&!ot)return;const lt=this.getTransformTemplate();this.prevTransformTemplateValue=lt?lt(this.latestValues,""):void 0,this.updateSnapshot(),it&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const at=time.now();frameData.delta=clamp$1(0,1e3/60,at-frameData.timestamp),frameData.timestamp=at,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let ot=0;ot<this.path.length;ot++)this.path[ot].updateScroll();const it=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:at}=this.options;at&&at.notify("LayoutMeasure",this.layout.layoutBox,it?it.layoutBox:void 0)}updateScroll(it="measure"){let at=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===it&&(at=!1),at){const ot=rt(this.instance);this.scroll={animationId:this.root.animationId,phase:it,isRoot:ot,offset:tt(this.instance),wasRoot:this.scroll?this.scroll.isRoot:ot}}}resetTransform(){if(!nt)return;const it=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,at=this.projectionDelta&&!isDeltaZero(this.projectionDelta),ot=this.getTransformTemplate(),lt=ot?ot(this.latestValues,""):void 0,ct=lt!==this.prevTransformTemplateValue;it&&(at||hasTransform(this.latestValues)||ct)&&(nt(this.instance,lt),this.shouldResetTransform=!1,this.scheduleRender())}measure(it=!0){const at=this.measurePageBox();let ot=this.removeElementScroll(at);return it&&(ot=this.removeTransform(ot)),roundBox(ot),{animationId:this.root.animationId,measuredBox:at,layoutBox:ot,latestValues:{},source:this.id}}measurePageBox(){var it;const{visualElement:at}=this.options;if(!at)return createBox();const ot=at.measureViewportBox();if(!(((it=this.scroll)===null||it===void 0?void 0:it.wasRoot)||this.path.some(checkNodeWasScrollRoot))){const{scroll:ct}=this.root;ct&&(translateAxis(ot.x,ct.offset.x),translateAxis(ot.y,ct.offset.y))}return ot}removeElementScroll(it){var at;const ot=createBox();if(copyBoxInto(ot,it),!((at=this.scroll)===null||at===void 0)&&at.wasRoot)return ot;for(let lt=0;lt<this.path.length;lt++){const ct=this.path[lt],{scroll:ut,options:dt}=ct;ct!==this.root&&ut&&dt.layoutScroll&&(ut.wasRoot&&copyBoxInto(ot,it),translateAxis(ot.x,ut.offset.x),translateAxis(ot.y,ut.offset.y))}return ot}applyTransform(it,at=!1){const ot=createBox();copyBoxInto(ot,it);for(let lt=0;lt<this.path.length;lt++){const ct=this.path[lt];!at&&ct.options.layoutScroll&&ct.scroll&&ct!==ct.root&&transformBox(ot,{x:-ct.scroll.offset.x,y:-ct.scroll.offset.y}),hasTransform(ct.latestValues)&&transformBox(ot,ct.latestValues)}return hasTransform(this.latestValues)&&transformBox(ot,this.latestValues),ot}removeTransform(it){const at=createBox();copyBoxInto(at,it);for(let ot=0;ot<this.path.length;ot++){const lt=this.path[ot];if(!lt.instance||!hasTransform(lt.latestValues))continue;hasScale(lt.latestValues)&&lt.updateSnapshot();const ct=createBox(),ut=lt.measurePageBox();copyBoxInto(ct,ut),removeBoxTransforms(at,lt.latestValues,lt.snapshot?lt.snapshot.layoutBox:void 0,ct)}return hasTransform(this.latestValues)&&removeBoxTransforms(at,this.latestValues),at}setTargetDelta(it){this.targetDelta=it,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(it){this.options={...this.options,...it,crossfade:it.crossfade!==void 0?it.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(it=!1){var at;const ot=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=ot.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=ot.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=ot.isSharedProjectionDirty);const lt=!!this.resumingFrom||this!==ot;if(!(it||lt&&this.isSharedProjectionDirty||this.isProjectionDirty||!((at=this.parent)===null||at===void 0)&&at.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:ut,layoutId:dt}=this.options;if(!(!this.layout||!(ut||dt))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const ft=this.getClosestProjectingParent();ft&&ft.layout&&this.animationProgress!==1?(this.relativeParent=ft,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,ft.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const ft=this.getClosestProjectingParent();ft&&!!ft.resumingFrom==!!this.resumingFrom&&!ft.options.layoutScroll&&ft.target&&this.animationProgress!==1?(this.relativeParent=ft,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,ft.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}isDebug&&metrics.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var it;const at=this.getLead(),ot=!!this.resumingFrom||this!==at;let lt=!0;if((this.isProjectionDirty||!((it=this.parent)===null||it===void 0)&&it.isProjectionDirty)&&(lt=!1),ot&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(lt=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(lt=!1),lt)return;const{layout:ct,layoutId:ut}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(ct||ut))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const dt=this.treeScale.x,ft=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,ot),at.layout&&!at.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(at.target=at.layout.layoutBox,at.targetWithTransforms=createBox());const{target:ht}=at;if(!ht){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,ht,this.latestValues),(this.treeScale.x!==dt||this.treeScale.y!==ft||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",ht)),isDebug&&metrics.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(it=!0){var at;if((at=this.options.visualElement)===null||at===void 0||at.scheduleRender(),it){const ot=this.getStack();ot&&ot.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(it,at=!1){const ot=this.snapshot,lt=ot?ot.latestValues:{},ct={...this.latestValues},ut=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!at;const dt=createBox(),ft=ot?ot.source:void 0,ht=this.layout?this.layout.source:void 0,pt=ft!==ht,gt=this.getStack(),mt=!gt||gt.members.length<=1,bt=!!(pt&&!mt&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let vt;this.mixTargetDelta=yt=>{const xt=yt/1e3;mixAxisDelta(ut.x,it.x,xt),mixAxisDelta(ut.y,it.y,xt),this.setTargetDelta(ut),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(dt,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,dt,xt),vt&&boxEquals(this.relativeTarget,vt)&&(this.isProjectionDirty=!1),vt||(vt=createBox()),copyBoxInto(vt,this.relativeTarget)),pt&&(this.animationValues=ct,mixValues(ct,lt,this.latestValues,xt,bt,mt)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=xt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(it){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...it,onUpdate:at=>{this.mixTargetDelta(at),it.onUpdate&&it.onUpdate(at)},onComplete:()=>{it.onComplete&&it.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const it=this.getStack();it&&it.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const it=this.getLead();let{targetWithTransforms:at,target:ot,layout:lt,latestValues:ct}=it;if(!(!at||!ot||!lt)){if(this!==it&&this.layout&&lt&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,lt.layoutBox)){ot=this.target||createBox();const ut=calcLength(this.layout.layoutBox.x);ot.x.min=it.target.x.min,ot.x.max=ot.x.min+ut;const dt=calcLength(this.layout.layoutBox.y);ot.y.min=it.target.y.min,ot.y.max=ot.y.min+dt}copyBoxInto(at,ot),transformBox(at,ct),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,at,ct)}}registerSharedNode(it,at){this.sharedNodes.has(it)||this.sharedNodes.set(it,new NodeStack),this.sharedNodes.get(it).add(at);const lt=at.options.initialPromotionConfig;at.promote({transition:lt?lt.transition:void 0,preserveFollowOpacity:lt&&lt.shouldPreserveFollowOpacity?lt.shouldPreserveFollowOpacity(at):void 0})}isLead(){const it=this.getStack();return it?it.lead===this:!0}getLead(){var it;const{layoutId:at}=this.options;return at?((it=this.getStack())===null||it===void 0?void 0:it.lead)||this:this}getPrevLead(){var it;const{layoutId:at}=this.options;return at?(it=this.getStack())===null||it===void 0?void 0:it.prevLead:void 0}getStack(){const{layoutId:it}=this.options;if(it)return this.root.sharedNodes.get(it)}promote({needsReset:it,transition:at,preserveFollowOpacity:ot}={}){const lt=this.getStack();lt&&lt.promote(this,ot),it&&(this.projectionDelta=void 0,this.needsReset=!0),at&&this.setOptions({transition:at})}relegate(){const it=this.getStack();return it?it.relegate(this):!1}resetSkewAndRotation(){const{visualElement:it}=this.options;if(!it)return;let at=!1;const{latestValues:ot}=it;if((ot.z||ot.rotate||ot.rotateX||ot.rotateY||ot.rotateZ||ot.skewX||ot.skewY)&&(at=!0),!at)return;const lt={};ot.z&&resetDistortingTransform("z",it,lt,this.animationValues);for(let ct=0;ct<transformAxes.length;ct++)resetDistortingTransform(`rotate${transformAxes[ct]}`,it,lt,this.animationValues),resetDistortingTransform(`skew${transformAxes[ct]}`,it,lt,this.animationValues);it.render();for(const ct in lt)it.setStaticValue(ct,lt[ct]),this.animationValues&&(this.animationValues[ct]=lt[ct]);it.scheduleRender()}getProjectionStyles(it){var at,ot;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const lt={visibility:""},ct=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,lt.opacity="",lt.pointerEvents=resolveMotionValue(it==null?void 0:it.pointerEvents)||"",lt.transform=ct?ct(this.latestValues,""):"none",lt;const ut=this.getLead();if(!this.projectionDelta||!this.layout||!ut.target){const pt={};return this.options.layoutId&&(pt.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,pt.pointerEvents=resolveMotionValue(it==null?void 0:it.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(pt.transform=ct?ct({},""):"none",this.hasProjected=!1),pt}const dt=ut.animationValues||ut.latestValues;this.applyTransformsToTarget(),lt.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,dt),ct&&(lt.transform=ct(dt,lt.transform));const{x:ft,y:ht}=this.projectionDelta;lt.transformOrigin=`${ft.origin*100}% ${ht.origin*100}% 0`,ut.animationValues?lt.opacity=ut===this?(ot=(at=dt.opacity)!==null&&at!==void 0?at:this.latestValues.opacity)!==null&&ot!==void 0?ot:1:this.preserveOpacity?this.latestValues.opacity:dt.opacityExit:lt.opacity=ut===this?dt.opacity!==void 0?dt.opacity:"":dt.opacityExit!==void 0?dt.opacityExit:0;for(const pt in scaleCorrectors){if(dt[pt]===void 0)continue;const{correct:gt,applyTo:mt}=scaleCorrectors[pt],bt=lt.transform==="none"?dt[pt]:gt(dt[pt],ut);if(mt){const vt=mt.length;for(let yt=0;yt<vt;yt++)lt[mt[yt]]=bt}else lt[pt]=bt}return this.options.layoutId&&(lt.pointerEvents=ut===this?resolveMotionValue(it==null?void 0:it.pointerEvents)||"":"none"),lt}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(it=>{var at;return(at=it.currentAnimation)===null||at===void 0?void 0:at.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(et){et.updateLayout()}function notifyLayoutUpdate(et){var _e;const tt=((_e=et.resumeFrom)===null||_e===void 0?void 0:_e.snapshot)||et.snapshot;if(et.isLead()&&et.layout&&tt&&et.hasListeners("didUpdate")){const{layoutBox:rt,measuredBox:nt}=et.layout,{animationType:st}=et.options,it=tt.source!==et.layout.source;st==="size"?eachAxis(ut=>{const dt=it?tt.measuredBox[ut]:tt.layoutBox[ut],ft=calcLength(dt);dt.min=rt[ut].min,dt.max=dt.min+ft}):shouldAnimatePositionOnly(st,tt.layoutBox,rt)&&eachAxis(ut=>{const dt=it?tt.measuredBox[ut]:tt.layoutBox[ut],ft=calcLength(rt[ut]);dt.max=dt.min+ft,et.relativeTarget&&!et.currentAnimation&&(et.isProjectionDirty=!0,et.relativeTarget[ut].max=et.relativeTarget[ut].min+ft)});const at=createDelta();calcBoxDelta(at,rt,tt.layoutBox);const ot=createDelta();it?calcBoxDelta(ot,et.applyTransform(nt,!0),tt.measuredBox):calcBoxDelta(ot,rt,tt.layoutBox);const lt=!isDeltaZero(at);let ct=!1;if(!et.resumeFrom){const ut=et.getClosestProjectingParent();if(ut&&!ut.resumeFrom){const{snapshot:dt,layout:ft}=ut;if(dt&&ft){const ht=createBox();calcRelativePosition(ht,tt.layoutBox,dt.layoutBox);const pt=createBox();calcRelativePosition(pt,rt,ft.layoutBox),boxEqualsRounded(ht,pt)||(ct=!0),ut.options.layoutRoot&&(et.relativeTarget=pt,et.relativeTargetOrigin=ht,et.relativeParent=ut)}}}et.notifyListeners("didUpdate",{layout:rt,snapshot:tt,delta:ot,layoutDelta:at,hasLayoutChanged:lt,hasRelativeTargetChanged:ct})}else if(et.isLead()){const{onExitComplete:rt}=et.options;rt&&rt()}et.options.transition=void 0}function propagateDirtyNodes(et){isDebug&&metrics.totalNodes++,et.parent&&(et.isProjecting()||(et.isProjectionDirty=et.parent.isProjectionDirty),et.isSharedProjectionDirty||(et.isSharedProjectionDirty=!!(et.isProjectionDirty||et.parent.isProjectionDirty||et.parent.isSharedProjectionDirty)),et.isTransformDirty||(et.isTransformDirty=et.parent.isTransformDirty))}function cleanDirtyNodes(et){et.isProjectionDirty=et.isSharedProjectionDirty=et.isTransformDirty=!1}function clearSnapshot(et){et.clearSnapshot()}function clearMeasurements(et){et.clearMeasurements()}function clearIsLayoutDirty(et){et.isLayoutDirty=!1}function resetTransformStyle(et){const{visualElement:_e}=et.options;_e&&_e.getProps().onBeforeLayoutMeasure&&_e.notify("BeforeLayoutMeasure"),et.resetTransform()}function finishAnimation(et){et.finishAnimation(),et.targetDelta=et.relativeTarget=et.target=void 0,et.isProjectionDirty=!0}function resolveTargetDelta(et){et.resolveTargetDelta()}function calcProjection(et){et.calcProjection()}function resetSkewAndRotation(et){et.resetSkewAndRotation()}function removeLeadSnapshots(et){et.removeLeadSnapshot()}function mixAxisDelta(et,_e,tt){et.translate=mixNumber$1(_e.translate,0,tt),et.scale=mixNumber$1(_e.scale,1,tt),et.origin=_e.origin,et.originPoint=_e.originPoint}function mixAxis(et,_e,tt,rt){et.min=mixNumber$1(_e.min,tt.min,rt),et.max=mixNumber$1(_e.max,tt.max,rt)}function mixBox(et,_e,tt,rt){mixAxis(et.x,_e.x,tt.x,rt),mixAxis(et.y,_e.y,tt.y,rt)}function hasOpacityCrossfade(et){return et.animationValues&&et.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=et=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(et),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$2;function roundAxis(et){et.min=roundPoint(et.min),et.max=roundPoint(et.max)}function roundBox(et){roundAxis(et.x),roundAxis(et.y)}function shouldAnimatePositionOnly(et,_e,tt){return et==="position"||et==="preserve-aspect"&&!isNear(aspectRatio(_e),aspectRatio(tt),.2)}function checkNodeWasScrollRoot(et){var _e;return et!==et.root&&((_e=et.scroll)===null||_e===void 0?void 0:_e.wasRoot)}const DocumentProjectionNode=createProjectionNode$1({attachResizeListener:(et,_e)=>addDomEvent(et,"resize",_e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode$1({measureScroll:et=>({x:et.scrollLeft,y:et.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const et=new DocumentProjectionNode({});et.mount(window),et.setOptions({layoutScroll:!0}),rootProjectionNode.current=et}return rootProjectionNode.current},resetTransform:(et,_e)=>{et.style.transform=_e!==void 0?_e:"none"},checkIsScrollRoot:et=>window.getComputedStyle(et).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function handleHoverEvent(et,_e,tt){const{props:rt}=et;et.animationState&&rt.whileHover&&et.animationState.setActive("whileHover",tt==="Start");const nt="onHover"+tt,st=rt[nt];st&&frame.postRender(()=>st(_e,extractEventInfo(_e)))}class HoverGesture extends Feature{mount(){const{current:_e}=this.node;_e&&(this.unmount=hover$2(_e,tt=>(handleHoverEvent(this.node,tt,"Start"),rt=>handleHoverEvent(this.node,rt,"End"))))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let _e=!1;try{_e=this.node.current.matches(":focus-visible")}catch{_e=!0}!_e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function handlePressEvent(et,_e,tt){const{props:rt}=et;et.animationState&&rt.whileTap&&et.animationState.setActive("whileTap",tt==="Start");const nt="onTap"+(tt==="End"?"":tt),st=rt[nt];st&&frame.postRender(()=>st(_e,extractEventInfo(_e)))}class PressGesture extends Feature{mount(){const{current:_e}=this.node;_e&&(this.unmount=press(_e,tt=>(handlePressEvent(this.node,tt,"Start"),(rt,{success:nt})=>handlePressEvent(this.node,rt,nt?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=et=>{const _e=observerCallbacks.get(et.target);_e&&_e(et)},fireAllObserverCallbacks=et=>{et.forEach(fireObserverCallback)};function initIntersectionObserver({root:et,..._e}){const tt=et||document;observers.has(tt)||observers.set(tt,{});const rt=observers.get(tt),nt=JSON.stringify(_e);return rt[nt]||(rt[nt]=new IntersectionObserver(fireAllObserverCallbacks,{root:et,..._e})),rt[nt]}function observeIntersection(et,_e,tt){const rt=initIntersectionObserver(_e);return observerCallbacks.set(et,tt),rt.observe(et),()=>{observerCallbacks.delete(et),rt.unobserve(et)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:_e={}}=this.node.getProps(),{root:tt,margin:rt,amount:nt="some",once:st}=_e,it={root:tt?tt.current:void 0,rootMargin:rt,threshold:typeof nt=="number"?nt:thresholdNames[nt]},at=ot=>{const{isIntersecting:lt}=ot;if(this.isInView===lt||(this.isInView=lt,st&&!lt&&this.hasEnteredView))return;lt&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",lt);const{onViewportEnter:ct,onViewportLeave:ut}=this.node.getProps(),dt=lt?ct:ut;dt&&dt(ot)};return observeIntersection(this.node.current,it,at)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:_e,prevProps:tt}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(_e,tt))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:et={}},{viewport:_e={}}={}){return tt=>et[tt]!==_e[tt]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},MotionConfigContext=reactExports.createContext({transformPagePoint:et=>et,isStatic:!1,reducedMotion:"never"}),MotionContext=reactExports.createContext({}),isBrowser=typeof window<"u",useIsomorphicLayoutEffect$1=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,LazyContext=reactExports.createContext({strict:!1});function useVisualElement(et,_e,tt,rt,nt){var st,it;const{visualElement:at}=reactExports.useContext(MotionContext),ot=reactExports.useContext(LazyContext),lt=reactExports.useContext(PresenceContext),ct=reactExports.useContext(MotionConfigContext).reducedMotion,ut=reactExports.useRef(null);rt=rt||ot.renderer,!ut.current&&rt&&(ut.current=rt(et,{visualState:_e,parent:at,props:tt,presenceContext:lt,blockInitialAnimation:lt?lt.initial===!1:!1,reducedMotionConfig:ct}));const dt=ut.current,ft=reactExports.useContext(SwitchLayoutGroupContext);dt&&!dt.projection&&nt&&(dt.type==="html"||dt.type==="svg")&&createProjectionNode(ut.current,tt,nt,ft);const ht=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{dt&&ht.current&&dt.update(tt,lt)});const pt=tt[optimizedAppearDataAttribute],gt=reactExports.useRef(!!pt&&!(!((st=window.MotionHandoffIsComplete)===null||st===void 0)&&st.call(window,pt))&&((it=window.MotionHasOptimisedAnimation)===null||it===void 0?void 0:it.call(window,pt)));return useIsomorphicLayoutEffect$1(()=>{dt&&(ht.current=!0,window.MotionIsMounted=!0,dt.updateFeatures(),microtask.render(dt.render),gt.current&&dt.animationState&&dt.animationState.animateChanges())}),reactExports.useEffect(()=>{dt&&(!gt.current&&dt.animationState&&dt.animationState.animateChanges(),gt.current&&(queueMicrotask(()=>{var mt;(mt=window.MotionHandoffMarkAsComplete)===null||mt===void 0||mt.call(window,pt)}),gt.current=!1))}),dt}function createProjectionNode(et,_e,tt,rt){const{layoutId:nt,layout:st,drag:it,dragConstraints:at,layoutScroll:ot,layoutRoot:lt}=_e;et.projection=new tt(et.latestValues,_e["data-framer-portal-id"]?void 0:getClosestProjectingNode(et.parent)),et.projection.setOptions({layoutId:nt,layout:st,alwaysMeasureLayout:!!it||at&&isRefObject(at),visualElement:et,animationType:typeof st=="string"?st:"both",initialPromotionConfig:rt,layoutScroll:ot,layoutRoot:lt})}function getClosestProjectingNode(et){if(et)return et.options.allowProjection!==!1?et.projection:getClosestProjectingNode(et.parent)}function useMotionRef(et,_e,tt){return reactExports.useCallback(rt=>{rt&&et.mount&&et.mount(rt),_e&&(rt?_e.mount(rt):_e.unmount()),tt&&(typeof tt=="function"?tt(rt):isRefObject(tt)&&(tt.current=rt))},[_e])}function isControllingVariants(et){return isAnimationControls(et.animate)||variantProps.some(_e=>isVariantLabel(et[_e]))}function isVariantNode(et){return!!(isControllingVariants(et)||et.variants)}function getCurrentTreeVariants(et,_e){if(isControllingVariants(et)){const{initial:tt,animate:rt}=et;return{initial:tt===!1||isVariantLabel(tt)?tt:void 0,animate:isVariantLabel(rt)?rt:void 0}}return et.inherit!==!1?_e:{}}function useCreateMotionContext(et){const{initial:_e,animate:tt}=getCurrentTreeVariants(et,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:_e,animate:tt}),[variantLabelsAsDependency(_e),variantLabelsAsDependency(tt)])}function variantLabelsAsDependency(et){return Array.isArray(et)?et.join(" "):et}const featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const et in featureProps)featureDefinitions[et]={isEnabled:_e=>featureProps[et].some(tt=>!!_e[tt])};function loadFeatures(et){for(const _e in et)featureDefinitions[_e]={...featureDefinitions[_e],...et[_e]}}const motionComponentSymbol=Symbol.for("motionComponentSymbol");function createRendererMotionComponent({preloadedFeatures:et,createVisualElement:_e,useRender:tt,useVisualState:rt,Component:nt}){et&&loadFeatures(et);function st(at,ot){let lt;const ct={...reactExports.useContext(MotionConfigContext),...at,layoutId:useLayoutId(at)},{isStatic:ut}=ct,dt=useCreateMotionContext(at),ft=rt(at,ut);if(!ut&&isBrowser){useStrictMode();const ht=getProjectionFunctionality(ct);lt=ht.MeasureLayout,dt.visualElement=useVisualElement(nt,ft,ct,_e,ht.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:dt,children:[lt&&dt.visualElement?jsxRuntimeExports.jsx(lt,{visualElement:dt.visualElement,...ct}):null,tt(nt,at,useMotionRef(ft,dt.visualElement,ot),ft,ut,dt.visualElement)]})}const it=reactExports.forwardRef(st);return it[motionComponentSymbol]=nt,it}function useLayoutId({layoutId:et}){const _e=reactExports.useContext(LayoutGroupContext).id;return _e&&et!==void 0?_e+"-"+et:et}function useStrictMode(et,_e){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(et){const{drag:_e,layout:tt}=featureDefinitions;if(!_e&&!tt)return{};const rt={..._e,...tt};return{MeasureLayout:_e!=null&&_e.isEnabled(et)||tt!=null&&tt.isEnabled(et)?rt.MeasureLayout:void 0,ProjectionNode:rt.ProjectionNode}}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(et){return typeof et!="string"||et.includes("-")?!1:!!(lowercaseSVGElements.indexOf(et)>-1||/[A-Z]/u.test(et))}function renderHTML(et,{style:_e,vars:tt},rt,nt){Object.assign(et.style,_e,nt&&nt.getProjectionStyles(rt));for(const st in tt)et.style.setProperty(st,tt[st])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(et,_e,tt,rt){renderHTML(et,_e,void 0,rt);for(const nt in _e.attrs)et.setAttribute(camelCaseAttributes.has(nt)?nt:camelToDash(nt),_e.attrs[nt])}function isForcedMotionValue(et,{layout:_e,layoutId:tt}){return transformProps.has(et)||et.startsWith("origin")||(_e||tt!==void 0)&&(!!scaleCorrectors[et]||et==="opacity")}function scrapeMotionValuesFromProps$1(et,_e,tt){var rt;const{style:nt}=et,st={};for(const it in nt)(isMotionValue(nt[it])||_e.style&&isMotionValue(_e.style[it])||isForcedMotionValue(it,et)||((rt=tt==null?void 0:tt.getValue(it))===null||rt===void 0?void 0:rt.liveStyle)!==void 0)&&(st[it]=nt[it]);return st}function scrapeMotionValuesFromProps(et,_e,tt){const rt=scrapeMotionValuesFromProps$1(et,_e,tt);for(const nt in et)if(isMotionValue(et[nt])||isMotionValue(_e[nt])){const st=transformPropOrder.indexOf(nt)!==-1?"attr"+nt.charAt(0).toUpperCase()+nt.substring(1):nt;rt[st]=et[nt]}return rt}function useConstant(et){const _e=reactExports.useRef(null);return _e.current===null&&(_e.current=et()),_e.current}function makeState({scrapeMotionValuesFromProps:et,createRenderState:_e,onMount:tt},rt,nt,st){const it={latestValues:makeLatestValues(rt,nt,st,et),renderState:_e()};return tt&&(it.mount=at=>tt(rt,at,it)),it}const makeUseVisualState=et=>(_e,tt)=>{const rt=reactExports.useContext(MotionContext),nt=reactExports.useContext(PresenceContext),st=()=>makeState(et,_e,rt,nt);return tt?st():useConstant(st)};function makeLatestValues(et,_e,tt,rt){const nt={},st=rt(et,{});for(const dt in st)nt[dt]=resolveMotionValue(st[dt]);let{initial:it,animate:at}=et;const ot=isControllingVariants(et),lt=isVariantNode(et);_e&&lt&&!ot&&et.inherit!==!1&&(it===void 0&&(it=_e.initial),at===void 0&&(at=_e.animate));let ct=tt?tt.initial===!1:!1;ct=ct||it===!1;const ut=ct?at:it;if(ut&&typeof ut!="boolean"&&!isAnimationControls(ut)){const dt=Array.isArray(ut)?ut:[ut];for(let ft=0;ft<dt.length;ft++){const ht=resolveVariantFromProps(et,dt[ft]);if(ht){const{transitionEnd:pt,transition:gt,...mt}=ht;for(const bt in mt){let vt=mt[bt];if(Array.isArray(vt)){const yt=ct?vt.length-1:0;vt=vt[yt]}vt!==null&&(nt[bt]=vt)}for(const bt in pt)nt[bt]=pt[bt]}}}return nt}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),getValueAsType=(et,_e)=>_e&&typeof et=="number"?_e.transform(et):et,translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(et,_e,tt){let rt="",nt=!0;for(let st=0;st<numTransforms;st++){const it=transformPropOrder[st],at=et[it];if(at===void 0)continue;let ot=!0;if(typeof at=="number"?ot=at===(it.startsWith("scale")?1:0):ot=parseFloat(at)===0,!ot||tt){const lt=getValueAsType(at,numberValueTypes[it]);if(!ot){nt=!1;const ct=translateAlias[it]||it;rt+=`${ct}(${lt}) `}tt&&(_e[it]=lt)}}return rt=rt.trim(),tt?rt=tt(_e,nt?"":rt):nt&&(rt="none"),rt}function buildHTMLStyles(et,_e,tt){const{style:rt,vars:nt,transformOrigin:st}=et;let it=!1,at=!1;for(const ot in _e){const lt=_e[ot];if(transformProps.has(ot)){it=!0;continue}else if(isCSSVariableName(ot)){nt[ot]=lt;continue}else{const ct=getValueAsType(lt,numberValueTypes[ot]);ot.startsWith("origin")?(at=!0,st[ot]=ct):rt[ot]=ct}}if(_e.transform||(it||tt?rt.transform=buildTransform(_e,et.transform,tt):rt.transform&&(rt.transform="none")),at){const{originX:ot="50%",originY:lt="50%",originZ:ct=0}=st;rt.transformOrigin=`${ot} ${lt} ${ct}`}}function calcOrigin(et,_e,tt){return typeof et=="string"?et:px.transform(_e+tt*et)}function calcSVGTransformOrigin(et,_e,tt){const rt=calcOrigin(_e,et.x,et.width),nt=calcOrigin(tt,et.y,et.height);return`${rt} ${nt}`}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(et,_e,tt=1,rt=0,nt=!0){et.pathLength=1;const st=nt?dashKeys:camelKeys;et[st.offset]=px.transform(-rt);const it=px.transform(_e),at=px.transform(tt);et[st.array]=`${it} ${at}`}function buildSVGAttrs(et,{attrX:_e,attrY:tt,attrScale:rt,originX:nt,originY:st,pathLength:it,pathSpacing:at=1,pathOffset:ot=0,...lt},ct,ut){if(buildHTMLStyles(et,lt,ut),ct){et.style.viewBox&&(et.attrs.viewBox=et.style.viewBox);return}et.attrs=et.style,et.style={};const{attrs:dt,style:ft,dimensions:ht}=et;dt.transform&&(ht&&(ft.transform=dt.transform),delete dt.transform),ht&&(nt!==void 0||st!==void 0||ft.transform)&&(ft.transformOrigin=calcSVGTransformOrigin(ht,nt!==void 0?nt:.5,st!==void 0?st:.5)),_e!==void 0&&(dt.x=_e),tt!==void 0&&(dt.y=tt),rt!==void 0&&(dt.scale=rt),it!==void 0&&buildSVGPath(dt,it,at,ot,!1)}const isSVGTag=et=>typeof et=="string"&&et.toLowerCase()==="svg",svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onMount:(et,_e,{renderState:tt,latestValues:rt})=>{frame.read(()=>{try{tt.dimensions=typeof _e.getBBox=="function"?_e.getBBox():_e.getBoundingClientRect()}catch{tt.dimensions={x:0,y:0,width:0,height:0}}}),frame.render(()=>{buildSVGAttrs(tt,rt,isSVGTag(_e.tagName),et.transformTemplate),renderSVG(_e,tt)})}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function copyRawValuesOnly(et,_e,tt){for(const rt in _e)!isMotionValue(_e[rt])&&!isForcedMotionValue(rt,tt)&&(et[rt]=_e[rt])}function useInitialMotionValues({transformTemplate:et},_e){return reactExports.useMemo(()=>{const tt=createHtmlRenderState();return buildHTMLStyles(tt,_e,et),Object.assign({},tt.vars,tt.style)},[_e])}function useStyle(et,_e){const tt=et.style||{},rt={};return copyRawValuesOnly(rt,tt,et),Object.assign(rt,useInitialMotionValues(et,_e)),rt}function useHTMLProps(et,_e){const tt={},rt=useStyle(et,_e);return et.drag&&et.dragListener!==!1&&(tt.draggable=!1,rt.userSelect=rt.WebkitUserSelect=rt.WebkitTouchCallout="none",rt.touchAction=et.drag===!0?"none":`pan-${et.drag==="x"?"y":"x"}`),et.tabIndex===void 0&&(et.onTap||et.onTapStart||et.whileTap)&&(tt.tabIndex=0),tt.style=rt,tt}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(et){return et.startsWith("while")||et.startsWith("drag")&&et!=="draggable"||et.startsWith("layout")||et.startsWith("onTap")||et.startsWith("onPan")||et.startsWith("onLayout")||validMotionProps.has(et)}let shouldForward=et=>!isValidMotionProp(et);function loadExternalIsValidProp(et){et&&(shouldForward=_e=>_e.startsWith("on")?!isValidMotionProp(_e):et(_e))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(et,_e,tt){const rt={};for(const nt in et)nt==="values"&&typeof et.values=="object"||(shouldForward(nt)||tt===!0&&isValidMotionProp(nt)||!_e&&!isValidMotionProp(nt)||et.draggable&&nt.startsWith("onDrag"))&&(rt[nt]=et[nt]);return rt}function useSVGProps(et,_e,tt,rt){const nt=reactExports.useMemo(()=>{const st=createSvgRenderState();return buildSVGAttrs(st,_e,isSVGTag(rt),et.transformTemplate),{...st.attrs,style:{...st.style}}},[_e]);if(et.style){const st={};copyRawValuesOnly(st,et.style,et),nt.style={...st,...nt.style}}return nt}function createUseRender(et=!1){return(tt,rt,nt,{latestValues:st},it)=>{const ot=(isSVGComponent(tt)?useSVGProps:useHTMLProps)(rt,st,it,tt),lt=filterProps(rt,typeof tt=="string",et),ct=tt!==reactExports.Fragment?{...lt,...ot,ref:nt}:{},{children:ut}=rt,dt=reactExports.useMemo(()=>isMotionValue(ut)?ut.get():ut,[ut]);return reactExports.createElement(tt,{...ct,children:dt})}}function createMotionComponentFactory(et,_e){return function(rt,{forwardMotionProps:nt}={forwardMotionProps:!1}){const it={...isSVGComponent(rt)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:et,useRender:createUseRender(nt),createVisualElement:_e,Component:rt};return createRendererMotionComponent(it)}}const prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const et=window.matchMedia("(prefers-reduced-motion)"),_e=()=>prefersReducedMotion.current=et.matches;et.addListener(_e),_e()}else prefersReducedMotion.current=!1}function updateMotionValuesFromProps(et,_e,tt){for(const rt in _e){const nt=_e[rt],st=tt[rt];if(isMotionValue(nt))et.addValue(rt,nt);else if(isMotionValue(st))et.addValue(rt,motionValue(nt,{owner:et}));else if(st!==nt)if(et.hasValue(rt)){const it=et.getValue(rt);it.liveStyle===!0?it.jump(nt):it.hasAnimated||it.set(nt)}else{const it=et.getStaticValue(rt);et.addValue(rt,motionValue(it!==void 0?it:nt,{owner:et}))}}for(const rt in tt)_e[rt]===void 0&&et.removeValue(rt);return _e}const visualElementStore=new WeakMap,valueTypes=[...dimensionValueTypes,color,complex],findValueType=et=>valueTypes.find(testValueType(et)),propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(_e,tt,rt){return{}}constructor({parent:_e,props:tt,presenceContext:rt,reducedMotionConfig:nt,blockInitialAnimation:st,visualState:it},at={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const dt=time.now();this.renderScheduledAt<dt&&(this.renderScheduledAt=dt,frame.render(this.render,!1,!0))};const{latestValues:ot,renderState:lt}=it;this.latestValues=ot,this.baseTarget={...ot},this.initialValues=tt.initial?{...ot}:{},this.renderState=lt,this.parent=_e,this.props=tt,this.presenceContext=rt,this.depth=_e?_e.depth+1:0,this.reducedMotionConfig=nt,this.options=at,this.blockInitialAnimation=!!st,this.isControllingVariants=isControllingVariants(tt),this.isVariantNode=isVariantNode(tt),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(_e&&_e.current);const{willChange:ct,...ut}=this.scrapeMotionValuesFromProps(tt,{},this);for(const dt in ut){const ft=ut[dt];ot[dt]!==void 0&&isMotionValue(ft)&&ft.set(ot[dt],!1)}}mount(_e){this.current=_e,visualElementStore.set(_e,this),this.projection&&!this.projection.instance&&this.projection.mount(_e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((tt,rt)=>this.bindToMotionValue(rt,tt)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(_e=>_e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const _e in this.events)this.events[_e].clear();for(const _e in this.features){const tt=this.features[_e];tt&&(tt.unmount(),tt.isMounted=!1)}this.current=null}bindToMotionValue(_e,tt){this.valueSubscriptions.has(_e)&&this.valueSubscriptions.get(_e)();const rt=transformProps.has(_e),nt=tt.on("change",at=>{this.latestValues[_e]=at,this.props.onUpdate&&frame.preRender(this.notifyUpdate),rt&&this.projection&&(this.projection.isTransformDirty=!0)}),st=tt.on("renderRequest",this.scheduleRender);let it;window.MotionCheckAppearSync&&(it=window.MotionCheckAppearSync(this,_e,tt)),this.valueSubscriptions.set(_e,()=>{nt(),st(),it&&it(),tt.owner&&tt.stop()})}sortNodePosition(_e){return!this.current||!this.sortInstanceNodePosition||this.type!==_e.type?0:this.sortInstanceNodePosition(this.current,_e.current)}updateFeatures(){let _e="animation";for(_e in featureDefinitions){const tt=featureDefinitions[_e];if(!tt)continue;const{isEnabled:rt,Feature:nt}=tt;if(!this.features[_e]&&nt&&rt(this.props)&&(this.features[_e]=new nt(this)),this.features[_e]){const st=this.features[_e];st.isMounted?st.update():(st.mount(),st.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(_e){return this.latestValues[_e]}setStaticValue(_e,tt){this.latestValues[_e]=tt}update(_e,tt){(_e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=_e,this.prevPresenceContext=this.presenceContext,this.presenceContext=tt;for(let rt=0;rt<propEventHandlers.length;rt++){const nt=propEventHandlers[rt];this.propEventSubscriptions[nt]&&(this.propEventSubscriptions[nt](),delete this.propEventSubscriptions[nt]);const st="on"+nt,it=_e[st];it&&(this.propEventSubscriptions[nt]=this.on(nt,it))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(_e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(_e){return this.props.variants?this.props.variants[_e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(_e){const tt=this.getClosestVariantNode();if(tt)return tt.variantChildren&&tt.variantChildren.add(_e),()=>tt.variantChildren.delete(_e)}addValue(_e,tt){const rt=this.values.get(_e);tt!==rt&&(rt&&this.removeValue(_e),this.bindToMotionValue(_e,tt),this.values.set(_e,tt),this.latestValues[_e]=tt.get())}removeValue(_e){this.values.delete(_e);const tt=this.valueSubscriptions.get(_e);tt&&(tt(),this.valueSubscriptions.delete(_e)),delete this.latestValues[_e],this.removeValueFromRenderState(_e,this.renderState)}hasValue(_e){return this.values.has(_e)}getValue(_e,tt){if(this.props.values&&this.props.values[_e])return this.props.values[_e];let rt=this.values.get(_e);return rt===void 0&&tt!==void 0&&(rt=motionValue(tt===null?void 0:tt,{owner:this}),this.addValue(_e,rt)),rt}readValue(_e,tt){var rt;let nt=this.latestValues[_e]!==void 0||!this.current?this.latestValues[_e]:(rt=this.getBaseTargetFromProps(this.props,_e))!==null&&rt!==void 0?rt:this.readValueFromInstance(this.current,_e,this.options);return nt!=null&&(typeof nt=="string"&&(isNumericalString(nt)||isZeroValueString(nt))?nt=parseFloat(nt):!findValueType(nt)&&complex.test(tt)&&(nt=getAnimatableNone(_e,tt)),this.setBaseTarget(_e,isMotionValue(nt)?nt.get():nt)),isMotionValue(nt)?nt.get():nt}setBaseTarget(_e,tt){this.baseTarget[_e]=tt}getBaseTarget(_e){var tt;const{initial:rt}=this.props;let nt;if(typeof rt=="string"||typeof rt=="object"){const it=resolveVariantFromProps(this.props,rt,(tt=this.presenceContext)===null||tt===void 0?void 0:tt.custom);it&&(nt=it[_e])}if(rt&&nt!==void 0)return nt;const st=this.getBaseTargetFromProps(this.props,_e);return st!==void 0&&!isMotionValue(st)?st:this.initialValues[_e]!==void 0&&nt===void 0?void 0:this.baseTarget[_e]}on(_e,tt){return this.events[_e]||(this.events[_e]=new SubscriptionManager),this.events[_e].add(tt)}notify(_e,...tt){this.events[_e]&&this.events[_e].notify(...tt)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(_e,tt){return _e.compareDocumentPosition(tt)&2?1:-1}getBaseTargetFromProps(_e,tt){return _e.style?_e.style[tt]:void 0}removeValueFromRenderState(_e,{vars:tt,style:rt}){delete tt[_e],delete rt[_e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:_e}=this.props;isMotionValue(_e)&&(this.childSubscription=_e.on("change",tt=>{this.current&&(this.current.textContent=`${tt}`)}))}}function getComputedStyle$1(et){return window.getComputedStyle(et)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(_e,tt){if(transformProps.has(tt)){const rt=getDefaultValueType(tt);return rt&&rt.default||0}else{const rt=getComputedStyle$1(_e),nt=(isCSSVariableName(tt)?rt.getPropertyValue(tt):rt[tt])||0;return typeof nt=="string"?nt.trim():nt}}measureInstanceViewportBox(_e,{transformPagePoint:tt}){return measureViewportBox(_e,tt)}build(_e,tt,rt){buildHTMLStyles(_e,tt,rt.transformTemplate)}scrapeMotionValuesFromProps(_e,tt,rt){return scrapeMotionValuesFromProps$1(_e,tt,rt)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(_e,tt){return _e[tt]}readValueFromInstance(_e,tt){if(transformProps.has(tt)){const rt=getDefaultValueType(tt);return rt&&rt.default||0}return tt=camelCaseAttributes.has(tt)?tt:camelToDash(tt),_e.getAttribute(tt)}scrapeMotionValuesFromProps(_e,tt,rt){return scrapeMotionValuesFromProps(_e,tt,rt)}build(_e,tt,rt){buildSVGAttrs(_e,tt,this.isSVGTag,rt.transformTemplate)}renderInstance(_e,tt,rt,nt){renderSVG(_e,tt,rt,nt)}mount(_e){this.isSVGTag=isSVGTag(_e.tagName),super.mount(_e)}}const createDomVisualElement=(et,_e)=>isSVGComponent(et)?new SVGVisualElement(_e):new HTMLVisualElement(_e,{allowProjection:et!==reactExports.Fragment}),createMotionComponent=createMotionComponentFactory({...animations,...gestureAnimations,...drag,...layout},createDomVisualElement),motion=createDOMMotionComponentProxy(createMotionComponent),createMinimalMotionComponent=createMotionComponentFactory(),m$1=createDOMMotionComponentProxy(createMinimalMotionComponent);class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(_e){const tt=this.props.childRef.current;if(tt&&_e.isPresent&&!this.props.isPresent){const rt=this.props.sizeRef.current;rt.height=tt.offsetHeight||0,rt.width=tt.offsetWidth||0,rt.top=tt.offsetTop,rt.left=tt.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:et,isPresent:_e}){const tt=reactExports.useId(),rt=reactExports.useRef(null),nt=reactExports.useRef({width:0,height:0,top:0,left:0}),{nonce:st}=reactExports.useContext(MotionConfigContext);return reactExports.useInsertionEffect(()=>{const{width:it,height:at,top:ot,left:lt}=nt.current;if(_e||!rt.current||!it||!at)return;rt.current.dataset.motionPopId=tt;const ct=document.createElement("style");return st&&(ct.nonce=st),document.head.appendChild(ct),ct.sheet&&ct.sheet.insertRule(`
          [data-motion-pop-id="${tt}"] {
            position: absolute !important;
            width: ${it}px !important;
            height: ${at}px !important;
            top: ${ot}px !important;
            left: ${lt}px !important;
          }
        `),()=>{document.head.removeChild(ct)}},[_e]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:_e,childRef:rt,sizeRef:nt,children:reactExports.cloneElement(et,{ref:rt})})}const PresenceChild=({children:et,initial:_e,isPresent:tt,onExitComplete:rt,custom:nt,presenceAffectsLayout:st,mode:it})=>{const at=useConstant(newChildrenMap),ot=reactExports.useId(),lt=reactExports.useCallback(ut=>{at.set(ut,!0);for(const dt of at.values())if(!dt)return;rt&&rt()},[at,rt]),ct=reactExports.useMemo(()=>({id:ot,initial:_e,isPresent:tt,custom:nt,onExitComplete:lt,register:ut=>(at.set(ut,!1),()=>at.delete(ut))}),st?[Math.random(),lt]:[tt,lt]);return reactExports.useMemo(()=>{at.forEach((ut,dt)=>at.set(dt,!1))},[tt]),reactExports.useEffect(()=>{!tt&&!at.size&&rt&&rt()},[tt]),it==="popLayout"&&(et=jsxRuntimeExports.jsx(PopChild,{isPresent:tt,children:et})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:ct,children:et})};function newChildrenMap(){return new Map}const getChildKey=et=>et.key||"";function onlyElements(et){const _e=[];return reactExports.Children.forEach(et,tt=>{reactExports.isValidElement(tt)&&_e.push(tt)}),_e}const AnimatePresence=({children:et,exitBeforeEnter:_e,custom:tt,initial:rt=!0,onExitComplete:nt,presenceAffectsLayout:st=!0,mode:it="sync"})=>{const at=reactExports.useMemo(()=>onlyElements(et),[et]),ot=at.map(getChildKey),lt=reactExports.useRef(!0),ct=reactExports.useRef(at),ut=useConstant(()=>new Map),[dt,ft]=reactExports.useState(at),[ht,pt]=reactExports.useState(at);useIsomorphicLayoutEffect$1(()=>{lt.current=!1,ct.current=at;for(let bt=0;bt<ht.length;bt++){const vt=getChildKey(ht[bt]);ot.includes(vt)?ut.delete(vt):ut.get(vt)!==!0&&ut.set(vt,!1)}},[ht,ot.length,ot.join("-")]);const gt=[];if(at!==dt){let bt=[...at];for(let vt=0;vt<ht.length;vt++){const yt=ht[vt],xt=getChildKey(yt);ot.includes(xt)||(bt.splice(vt,0,yt),gt.push(yt))}it==="wait"&&gt.length&&(bt=gt),pt(onlyElements(bt)),ft(at);return}const{forceRender:mt}=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:ht.map(bt=>{const vt=getChildKey(bt),yt=at===ht||ot.includes(vt),xt=()=>{if(ut.has(vt))ut.set(vt,!0);else return;let Et=!0;ut.forEach(wt=>{wt||(Et=!1)}),Et&&(mt==null||mt(),pt(ct.current),nt&&nt())};return jsxRuntimeExports.jsx(PresenceChild,{isPresent:yt,initial:!lt.current||rt?void 0:!1,custom:yt?void 0:tt,presenceAffectsLayout:st,mode:it,onExitComplete:yt?void 0:xt,children:bt},vt)})})};function LazyMotion({children:et,features:_e,strict:tt=!1}){const[,rt]=reactExports.useState(!isLazyBundle(_e)),nt=reactExports.useRef(void 0);if(!isLazyBundle(_e)){const{renderer:st,...it}=_e;nt.current=st,loadFeatures(it)}return reactExports.useEffect(()=>{isLazyBundle(_e)&&_e().then(({renderer:st,...it})=>{loadFeatures(it),nt.current=st,rt(!0)})},[]),jsxRuntimeExports.jsx(LazyContext.Provider,{value:{renderer:nt.current,strict:tt},children:et})}function isLazyBundle(et){return typeof et=="function"}const DeprecatedLayoutGroupContext=reactExports.createContext(null);function useIsMounted$2(){const et=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>(et.current=!0,()=>{et.current=!1}),[]),et}function useForceUpdate(){const et=useIsMounted$2(),[_e,tt]=reactExports.useState(0),rt=reactExports.useCallback(()=>{et.current&&tt(_e+1)},[_e]);return[reactExports.useCallback(()=>frame.postRender(rt),[rt]),_e]}const notify=et=>!et.isLayoutDirty&&et.willUpdate(!1);function nodeGroup(){const et=new Set,_e=new WeakMap,tt=()=>et.forEach(notify);return{add:rt=>{et.add(rt),_e.set(rt,rt.addEventListener("willUpdate",tt))},remove:rt=>{et.delete(rt);const nt=_e.get(rt);nt&&(nt(),_e.delete(rt)),tt()},dirty:tt}}const shouldInheritGroup=et=>et===!0,shouldInheritId=et=>shouldInheritGroup(et===!0)||et==="id",LayoutGroup=({children:et,id:_e,inherit:tt=!0})=>{const rt=reactExports.useContext(LayoutGroupContext),nt=reactExports.useContext(DeprecatedLayoutGroupContext),[st,it]=useForceUpdate(),at=reactExports.useRef(null),ot=rt.id||nt;at.current===null&&(shouldInheritId(tt)&&ot&&(_e=_e?ot+"-"+_e:ot),at.current={id:_e,group:shouldInheritGroup(tt)&&rt.group||nodeGroup()});const lt=reactExports.useMemo(()=>({...at.current,forceRender:st}),[it]);return jsxRuntimeExports.jsx(LayoutGroupContext.Provider,{value:lt,children:et})},domAnimation$7={renderer:createDomVisualElement,...animations,...gestureAnimations},domMax={...domAnimation$7,...drag,...layout};function getWillChangeName(et){if(transformProps.has(et))return"transform";if(acceleratedValues.has(et))return camelToDash(et)}class WillChangeMotionValue extends MotionValue{constructor(){super(...arguments),this.values=[]}add(_e){const tt=getWillChangeName(_e);tt&&(addUniqueItem(this.values,tt),this.update())}update(){this.set(this.values.length?this.values.join(", "):"auto")}}function useWillChange(){return useConstant(()=>new WillChangeMotionValue("auto"))}function forwardRef$1(et){return reactExports.forwardRef(et)}var mapPropsVariants$1=(et,_e,tt=!0)=>{if(!_e)return[et,{}];const rt=_e.reduce((nt,st)=>st in et?{...nt,[st]:et[st]}:nt,{});return tt?[Object.keys(et).filter(st=>!_e.includes(st)).reduce((st,it)=>({...st,[it]:et[it]}),{}),rt]:[et,rt]},COMMON_UNITS$1=["small","medium","large"],twMergeConfig$1={theme:{opacity:["disabled"],spacing:["divider"],borderWidth:COMMON_UNITS$1,borderRadius:COMMON_UNITS$1},classGroups:{shadow:[{shadow:COMMON_UNITS$1}],"font-size":[{text:["tiny",...COMMON_UNITS$1]}],"bg-image":["bg-stripe-gradient-default","bg-stripe-gradient-primary","bg-stripe-gradient-secondary","bg-stripe-gradient-success","bg-stripe-gradient-warning","bg-stripe-gradient-danger"]}},l$3=et=>typeof et=="boolean"?`${et}`:et===0?"0":et,u$2=et=>!et||typeof et!="object"||Object.keys(et).length===0,x$1=(et,_e)=>JSON.stringify(et)===JSON.stringify(_e);function i$3(et,_e){et.forEach(function(tt){Array.isArray(tt)?i$3(tt,_e):_e.push(tt)})}function y$1(et){let _e=[];return i$3(et,_e),_e}var a$2=(...et)=>y$1(et).filter(Boolean),p$2=(et,_e)=>{let tt={},rt=Object.keys(et),nt=Object.keys(_e);for(let st of rt)if(nt.includes(st)){let it=et[st],at=_e[st];typeof it=="object"&&typeof at=="object"?tt[st]=p$2(it,at):Array.isArray(it)||Array.isArray(at)?tt[st]=a$2(at,it):tt[st]=at+" "+it}else tt[st]=et[st];for(let st of nt)rt.includes(st)||(tt[st]=_e[st]);return tt},g$1=et=>!et||typeof et!="string"?et:et.replace(/\s+/g," ").trim();function twJoin(){for(var et=0,_e,tt,rt="";et<arguments.length;)(_e=arguments[et++])&&(tt=toValue(_e))&&(rt&&(rt+=" "),rt+=tt);return rt}function toValue(et){if(typeof et=="string")return et;for(var _e,tt="",rt=0;rt<et.length;rt++)et[rt]&&(_e=toValue(et[rt]))&&(tt&&(tt+=" "),tt+=_e);return tt}var CLASS_PART_SEPARATOR="-";function createClassUtils(et){var _e=createClassMap(et),tt=et.conflictingClassGroups,rt=et.conflictingClassGroupModifiers,nt=rt===void 0?{}:rt;function st(at){var ot=at.split(CLASS_PART_SEPARATOR);return ot[0]===""&&ot.length!==1&&ot.shift(),getGroupRecursive(ot,_e)||getGroupIdForArbitraryProperty(at)}function it(at,ot){var lt=tt[at]||[];return ot&&nt[at]?[].concat(lt,nt[at]):lt}return{getClassGroupId:st,getConflictingClassGroupIds:it}}function getGroupRecursive(et,_e){var it;if(et.length===0)return _e.classGroupId;var tt=et[0],rt=_e.nextPart.get(tt),nt=rt?getGroupRecursive(et.slice(1),rt):void 0;if(nt)return nt;if(_e.validators.length!==0){var st=et.join(CLASS_PART_SEPARATOR);return(it=_e.validators.find(function(at){var ot=at.validator;return ot(st)}))==null?void 0:it.classGroupId}}var arbitraryPropertyRegex=/^\[(.+)\]$/;function getGroupIdForArbitraryProperty(et){if(arbitraryPropertyRegex.test(et)){var _e=arbitraryPropertyRegex.exec(et)[1],tt=_e==null?void 0:_e.substring(0,_e.indexOf(":"));if(tt)return"arbitrary.."+tt}}function createClassMap(et){var _e=et.theme,tt=et.prefix,rt={nextPart:new Map,validators:[]},nt=getPrefixedClassGroupEntries(Object.entries(et.classGroups),tt);return nt.forEach(function(st){var it=st[0],at=st[1];processClassesRecursively(at,rt,it,_e)}),rt}function processClassesRecursively(et,_e,tt,rt){et.forEach(function(nt){if(typeof nt=="string"){var st=nt===""?_e:getPart(_e,nt);st.classGroupId=tt;return}if(typeof nt=="function"){if(isThemeGetter(nt)){processClassesRecursively(nt(rt),_e,tt,rt);return}_e.validators.push({validator:nt,classGroupId:tt});return}Object.entries(nt).forEach(function(it){var at=it[0],ot=it[1];processClassesRecursively(ot,getPart(_e,at),tt,rt)})})}function getPart(et,_e){var tt=et;return _e.split(CLASS_PART_SEPARATOR).forEach(function(rt){tt.nextPart.has(rt)||tt.nextPart.set(rt,{nextPart:new Map,validators:[]}),tt=tt.nextPart.get(rt)}),tt}function isThemeGetter(et){return et.isThemeGetter}function getPrefixedClassGroupEntries(et,_e){return _e?et.map(function(tt){var rt=tt[0],nt=tt[1],st=nt.map(function(it){return typeof it=="string"?_e+it:typeof it=="object"?Object.fromEntries(Object.entries(it).map(function(at){var ot=at[0],lt=at[1];return[_e+ot,lt]})):it});return[rt,st]}):et}function createLruCache(et){if(et<1)return{get:function(){},set:function(){}};var _e=0,tt=new Map,rt=new Map;function nt(st,it){tt.set(st,it),_e++,_e>et&&(_e=0,rt=tt,tt=new Map)}return{get:function(it){var at=tt.get(it);if(at!==void 0)return at;if((at=rt.get(it))!==void 0)return nt(it,at),at},set:function(it,at){tt.has(it)?tt.set(it,at):nt(it,at)}}}var IMPORTANT_MODIFIER="!";function createSplitModifiers(et){var _e=et.separator||":",tt=_e.length===1,rt=_e[0],nt=_e.length;return function(it){for(var at=[],ot=0,lt=0,ct,ut=0;ut<it.length;ut++){var dt=it[ut];if(ot===0){if(dt===rt&&(tt||it.slice(ut,ut+nt)===_e)){at.push(it.slice(lt,ut)),lt=ut+nt;continue}if(dt==="/"){ct=ut;continue}}dt==="["?ot++:dt==="]"&&ot--}var ft=at.length===0?it:it.substring(lt),ht=ft.startsWith(IMPORTANT_MODIFIER),pt=ht?ft.substring(1):ft,gt=ct&&ct>lt?ct-lt:void 0;return{modifiers:at,hasImportantModifier:ht,baseClassName:pt,maybePostfixModifierPosition:gt}}}function sortModifiers(et){if(et.length<=1)return et;var _e=[],tt=[];return et.forEach(function(rt){var nt=rt[0]==="[";nt?(_e.push.apply(_e,tt.sort().concat([rt])),tt=[]):tt.push(rt)}),_e.push.apply(_e,tt.sort()),_e}function createConfigUtils(et){return{cache:createLruCache(et.cacheSize),splitModifiers:createSplitModifiers(et),...createClassUtils(et)}}var SPLIT_CLASSES_REGEX=/\s+/;function mergeClassList(et,_e){var tt=_e.splitModifiers,rt=_e.getClassGroupId,nt=_e.getConflictingClassGroupIds,st=new Set;return et.trim().split(SPLIT_CLASSES_REGEX).map(function(it){var at=tt(it),ot=at.modifiers,lt=at.hasImportantModifier,ct=at.baseClassName,ut=at.maybePostfixModifierPosition,dt=rt(ut?ct.substring(0,ut):ct),ft=!!ut;if(!dt){if(!ut)return{isTailwindClass:!1,originalClassName:it};if(dt=rt(ct),!dt)return{isTailwindClass:!1,originalClassName:it};ft=!1}var ht=sortModifiers(ot).join(":"),pt=lt?ht+IMPORTANT_MODIFIER:ht;return{isTailwindClass:!0,modifierId:pt,classGroupId:dt,originalClassName:it,hasPostfixModifier:ft}}).reverse().filter(function(it){if(!it.isTailwindClass)return!0;var at=it.modifierId,ot=it.classGroupId,lt=it.hasPostfixModifier,ct=at+ot;return st.has(ct)?!1:(st.add(ct),nt(ot,lt).forEach(function(ut){return st.add(at+ut)}),!0)}).reverse().map(function(it){return it.originalClassName}).join(" ")}function createTailwindMerge(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];var rt,nt,st,it=at;function at(lt){var ct=_e[0],ut=_e.slice(1),dt=ut.reduce(function(ft,ht){return ht(ft)},ct());return rt=createConfigUtils(dt),nt=rt.cache.get,st=rt.cache.set,it=ot,ot(lt)}function ot(lt){var ct=nt(lt);if(ct)return ct;var ut=mergeClassList(lt,rt);return st(lt,ut),ut}return function(){return it(twJoin.apply(null,arguments))}}function fromTheme(et){var _e=function(rt){return rt[et]||[]};return _e.isThemeGetter=!0,_e}var arbitraryValueRegex=/^\[(?:([a-z-]+):)?(.+)\]$/i,fractionRegex=/^\d+\/\d+$/,stringLengths=new Set(["px","full","screen"]),tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,shadowRegex=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function isLength$5(et){return isNumber$1(et)||stringLengths.has(et)||fractionRegex.test(et)||isArbitraryLength(et)}function isArbitraryLength(et){return getIsArbitraryValue(et,"length",isLengthOnly)}function isArbitrarySize(et){return getIsArbitraryValue(et,"size",isNever)}function isArbitraryPosition(et){return getIsArbitraryValue(et,"position",isNever)}function isArbitraryUrl(et){return getIsArbitraryValue(et,"url",isUrl)}function isArbitraryNumber(et){return getIsArbitraryValue(et,"number",isNumber$1)}function isNumber$1(et){return!Number.isNaN(Number(et))}function isPercent(et){return et.endsWith("%")&&isNumber$1(et.slice(0,-1))}function isInteger(et){return isIntegerOnly(et)||getIsArbitraryValue(et,"number",isIntegerOnly)}function isArbitraryValue(et){return arbitraryValueRegex.test(et)}function isAny(){return!0}function isTshirtSize(et){return tshirtUnitRegex.test(et)}function isArbitraryShadow(et){return getIsArbitraryValue(et,"",isShadow)}function getIsArbitraryValue(et,_e,tt){var rt=arbitraryValueRegex.exec(et);return rt?rt[1]?rt[1]===_e:tt(rt[2]):!1}function isLengthOnly(et){return lengthUnitRegex.test(et)}function isNever(){return!1}function isUrl(et){return et.startsWith("url(")}function isIntegerOnly(et){return Number.isInteger(Number(et))}function isShadow(et){return shadowRegex.test(et)}function getDefaultConfig(){var et=fromTheme("colors"),_e=fromTheme("spacing"),tt=fromTheme("blur"),rt=fromTheme("brightness"),nt=fromTheme("borderColor"),st=fromTheme("borderRadius"),it=fromTheme("borderSpacing"),at=fromTheme("borderWidth"),ot=fromTheme("contrast"),lt=fromTheme("grayscale"),ct=fromTheme("hueRotate"),ut=fromTheme("invert"),dt=fromTheme("gap"),ft=fromTheme("gradientColorStops"),ht=fromTheme("gradientColorStopPositions"),pt=fromTheme("inset"),gt=fromTheme("margin"),mt=fromTheme("opacity"),bt=fromTheme("padding"),vt=fromTheme("saturate"),yt=fromTheme("scale"),xt=fromTheme("sepia"),Et=fromTheme("skew"),wt=fromTheme("space"),$t=fromTheme("translate"),Tt=function(){return["auto","contain","none"]},St=function(){return["auto","hidden","clip","visible","scroll"]},Pt=function(){return["auto",isArbitraryValue,_e]},At=function(){return[isArbitraryValue,_e]},Rt=function(){return["",isLength$5]},Ct=function(){return["auto",isNumber$1,isArbitraryValue]},Dt=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},Ft=function(){return["solid","dashed","dotted","double","none"]},Mt=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},Ot=function(){return["start","end","center","between","around","evenly","stretch"]},jt=function(){return["","0",isArbitraryValue]},Ut=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},_t=function(){return[isNumber$1,isArbitraryNumber]},It=function(){return[isNumber$1,isArbitraryValue]};return{cacheSize:500,theme:{colors:[isAny],spacing:[isLength$5],blur:["none","",isTshirtSize,isArbitraryValue],brightness:_t(),borderColor:[et],borderRadius:["none","","full",isTshirtSize,isArbitraryValue],borderSpacing:At(),borderWidth:Rt(),contrast:_t(),grayscale:jt(),hueRotate:It(),invert:jt(),gap:At(),gradientColorStops:[et],gradientColorStopPositions:[isPercent,isArbitraryLength],inset:Pt(),margin:Pt(),opacity:_t(),padding:At(),saturate:_t(),scale:_t(),sepia:jt(),skew:It(),space:At(),translate:At()},classGroups:{aspect:[{aspect:["auto","square","video",isArbitraryValue]}],container:["container"],columns:[{columns:[isTshirtSize]}],"break-after":[{"break-after":Ut()}],"break-before":[{"break-before":Ut()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(Dt(),[isArbitraryValue])}],overflow:[{overflow:St()}],"overflow-x":[{"overflow-x":St()}],"overflow-y":[{"overflow-y":St()}],overscroll:[{overscroll:Tt()}],"overscroll-x":[{"overscroll-x":Tt()}],"overscroll-y":[{"overscroll-y":Tt()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[pt]}],"inset-x":[{"inset-x":[pt]}],"inset-y":[{"inset-y":[pt]}],start:[{start:[pt]}],end:[{end:[pt]}],top:[{top:[pt]}],right:[{right:[pt]}],bottom:[{bottom:[pt]}],left:[{left:[pt]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",isInteger]}],basis:[{basis:Pt()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",isArbitraryValue]}],grow:[{grow:jt()}],shrink:[{shrink:jt()}],order:[{order:["first","last","none",isInteger]}],"grid-cols":[{"grid-cols":[isAny]}],"col-start-end":[{col:["auto",{span:["full",isInteger]},isArbitraryValue]}],"col-start":[{"col-start":Ct()}],"col-end":[{"col-end":Ct()}],"grid-rows":[{"grid-rows":[isAny]}],"row-start-end":[{row:["auto",{span:[isInteger]},isArbitraryValue]}],"row-start":[{"row-start":Ct()}],"row-end":[{"row-end":Ct()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",isArbitraryValue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",isArbitraryValue]}],gap:[{gap:[dt]}],"gap-x":[{"gap-x":[dt]}],"gap-y":[{"gap-y":[dt]}],"justify-content":[{justify:["normal"].concat(Ot())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(Ot(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(Ot(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[bt]}],px:[{px:[bt]}],py:[{py:[bt]}],ps:[{ps:[bt]}],pe:[{pe:[bt]}],pt:[{pt:[bt]}],pr:[{pr:[bt]}],pb:[{pb:[bt]}],pl:[{pl:[bt]}],m:[{m:[gt]}],mx:[{mx:[gt]}],my:[{my:[gt]}],ms:[{ms:[gt]}],me:[{me:[gt]}],mt:[{mt:[gt]}],mr:[{mr:[gt]}],mb:[{mb:[gt]}],ml:[{ml:[gt]}],"space-x":[{"space-x":[wt]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[wt]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",isArbitraryValue,_e]}],"min-w":[{"min-w":["min","max","fit",isArbitraryValue,isLength$5]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[isTshirtSize]},isTshirtSize,isArbitraryValue]}],h:[{h:[isArbitraryValue,_e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",isArbitraryValue,isLength$5]}],"max-h":[{"max-h":[isArbitraryValue,_e,"min","max","fit"]}],"font-size":[{text:["base",isTshirtSize,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",isArbitraryNumber]}],"font-family":[{font:[isAny]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",isArbitraryValue]}],"line-clamp":[{"line-clamp":["none",isNumber$1,isArbitraryNumber]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",isArbitraryValue,isLength$5]}],"list-image":[{"list-image":["none",isArbitraryValue]}],"list-style-type":[{list:["none","disc","decimal",isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[et]}],"placeholder-opacity":[{"placeholder-opacity":[mt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[et]}],"text-opacity":[{"text-opacity":[mt]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(Ft(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",isLength$5]}],"underline-offset":[{"underline-offset":["auto",isArbitraryValue,isLength$5]}],"text-decoration-color":[{decoration:[et]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:At()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[mt]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(Dt(),[isArbitraryPosition])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",isArbitrarySize]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},isArbitraryUrl]}],"bg-color":[{bg:[et]}],"gradient-from-pos":[{from:[ht]}],"gradient-via-pos":[{via:[ht]}],"gradient-to-pos":[{to:[ht]}],"gradient-from":[{from:[ft]}],"gradient-via":[{via:[ft]}],"gradient-to":[{to:[ft]}],rounded:[{rounded:[st]}],"rounded-s":[{"rounded-s":[st]}],"rounded-e":[{"rounded-e":[st]}],"rounded-t":[{"rounded-t":[st]}],"rounded-r":[{"rounded-r":[st]}],"rounded-b":[{"rounded-b":[st]}],"rounded-l":[{"rounded-l":[st]}],"rounded-ss":[{"rounded-ss":[st]}],"rounded-se":[{"rounded-se":[st]}],"rounded-ee":[{"rounded-ee":[st]}],"rounded-es":[{"rounded-es":[st]}],"rounded-tl":[{"rounded-tl":[st]}],"rounded-tr":[{"rounded-tr":[st]}],"rounded-br":[{"rounded-br":[st]}],"rounded-bl":[{"rounded-bl":[st]}],"border-w":[{border:[at]}],"border-w-x":[{"border-x":[at]}],"border-w-y":[{"border-y":[at]}],"border-w-s":[{"border-s":[at]}],"border-w-e":[{"border-e":[at]}],"border-w-t":[{"border-t":[at]}],"border-w-r":[{"border-r":[at]}],"border-w-b":[{"border-b":[at]}],"border-w-l":[{"border-l":[at]}],"border-opacity":[{"border-opacity":[mt]}],"border-style":[{border:[].concat(Ft(),["hidden"])}],"divide-x":[{"divide-x":[at]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[at]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[mt]}],"divide-style":[{divide:Ft()}],"border-color":[{border:[nt]}],"border-color-x":[{"border-x":[nt]}],"border-color-y":[{"border-y":[nt]}],"border-color-t":[{"border-t":[nt]}],"border-color-r":[{"border-r":[nt]}],"border-color-b":[{"border-b":[nt]}],"border-color-l":[{"border-l":[nt]}],"divide-color":[{divide:[nt]}],"outline-style":[{outline:[""].concat(Ft())}],"outline-offset":[{"outline-offset":[isArbitraryValue,isLength$5]}],"outline-w":[{outline:[isLength$5]}],"outline-color":[{outline:[et]}],"ring-w":[{ring:Rt()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[et]}],"ring-opacity":[{"ring-opacity":[mt]}],"ring-offset-w":[{"ring-offset":[isLength$5]}],"ring-offset-color":[{"ring-offset":[et]}],shadow:[{shadow:["","inner","none",isTshirtSize,isArbitraryShadow]}],"shadow-color":[{shadow:[isAny]}],opacity:[{opacity:[mt]}],"mix-blend":[{"mix-blend":Mt()}],"bg-blend":[{"bg-blend":Mt()}],filter:[{filter:["","none"]}],blur:[{blur:[tt]}],brightness:[{brightness:[rt]}],contrast:[{contrast:[ot]}],"drop-shadow":[{"drop-shadow":["","none",isTshirtSize,isArbitraryValue]}],grayscale:[{grayscale:[lt]}],"hue-rotate":[{"hue-rotate":[ct]}],invert:[{invert:[ut]}],saturate:[{saturate:[vt]}],sepia:[{sepia:[xt]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[tt]}],"backdrop-brightness":[{"backdrop-brightness":[rt]}],"backdrop-contrast":[{"backdrop-contrast":[ot]}],"backdrop-grayscale":[{"backdrop-grayscale":[lt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ct]}],"backdrop-invert":[{"backdrop-invert":[ut]}],"backdrop-opacity":[{"backdrop-opacity":[mt]}],"backdrop-saturate":[{"backdrop-saturate":[vt]}],"backdrop-sepia":[{"backdrop-sepia":[xt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[it]}],"border-spacing-x":[{"border-spacing-x":[it]}],"border-spacing-y":[{"border-spacing-y":[it]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",isArbitraryValue]}],duration:[{duration:It()}],ease:[{ease:["linear","in","out","in-out",isArbitraryValue]}],delay:[{delay:It()}],animate:[{animate:["none","spin","ping","pulse","bounce",isArbitraryValue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[yt]}],"scale-x":[{"scale-x":[yt]}],"scale-y":[{"scale-y":[yt]}],rotate:[{rotate:[isInteger,isArbitraryValue]}],"translate-x":[{"translate-x":[$t]}],"translate-y":[{"translate-y":[$t]}],"skew-x":[{"skew-x":[Et]}],"skew-y":[{"skew-y":[Et]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",isArbitraryValue]}],accent:[{accent:["auto",et]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryValue]}],"caret-color":[{caret:[et]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":At()}],"scroll-mx":[{"scroll-mx":At()}],"scroll-my":[{"scroll-my":At()}],"scroll-ms":[{"scroll-ms":At()}],"scroll-me":[{"scroll-me":At()}],"scroll-mt":[{"scroll-mt":At()}],"scroll-mr":[{"scroll-mr":At()}],"scroll-mb":[{"scroll-mb":At()}],"scroll-ml":[{"scroll-ml":At()}],"scroll-p":[{"scroll-p":At()}],"scroll-px":[{"scroll-px":At()}],"scroll-py":[{"scroll-py":At()}],"scroll-ps":[{"scroll-ps":At()}],"scroll-pe":[{"scroll-pe":At()}],"scroll-pt":[{"scroll-pt":At()}],"scroll-pr":[{"scroll-pr":At()}],"scroll-pb":[{"scroll-pb":At()}],"scroll-pl":[{"scroll-pl":At()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryValue]}],fill:[{fill:[et,"none"]}],"stroke-w":[{stroke:[isLength$5,isArbitraryNumber]}],stroke:[{stroke:[et,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function mergeConfigs(et,_e){for(var tt in _e)mergePropertyRecursively(et,tt,_e[tt]);return et}var hasOwnProperty$q=Object.prototype.hasOwnProperty,overrideTypes=new Set(["string","number","boolean"]);function mergePropertyRecursively(et,_e,tt){if(!hasOwnProperty$q.call(et,_e)||overrideTypes.has(typeof tt)||tt===null){et[_e]=tt;return}if(Array.isArray(tt)&&Array.isArray(et[_e])){et[_e]=et[_e].concat(tt);return}if(typeof tt=="object"&&typeof et[_e]=="object"){if(et[_e]===null){et[_e]=tt;return}for(var rt in tt)mergePropertyRecursively(et[_e],rt,tt[rt])}}function extendTailwindMerge(et){for(var _e=arguments.length,tt=new Array(_e>1?_e-1:0),rt=1;rt<_e;rt++)tt[rt-1]=arguments[rt];return typeof et=="function"?createTailwindMerge.apply(void 0,[getDefaultConfig,et].concat(tt)):createTailwindMerge.apply(void 0,[function(){return mergeConfigs(getDefaultConfig(),et)}].concat(tt))}var twMerge=createTailwindMerge(getDefaultConfig),se={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},_$1=et=>et||void 0,N$1=(...et)=>_$1(y$1(et).filter(Boolean).join(" ")),q=null,M$1={},F$1=!1,w$1=(...et)=>_e=>_e.twMerge?((!q||F$1)&&(F$1=!1,q=u$2(M$1)?twMerge:extendTailwindMerge(M$1)),_$1(q(N$1(et)))):N$1(et),Z=(et,_e)=>{for(let tt in _e)et.hasOwnProperty(tt)?et[tt]=N$1(et[tt],_e[tt]):et[tt]=_e[tt];return et},ie=(et,_e)=>{let{extend:tt=null,slots:rt={},variants:nt={},compoundVariants:st=[],compoundSlots:it=[],defaultVariants:at={}}=et,ot={...se,..._e},lt=tt!=null&&tt.base?N$1(tt.base,et==null?void 0:et.base):et==null?void 0:et.base,ct=tt!=null&&tt.variants&&!u$2(tt.variants)?p$2(nt,tt.variants):nt,ut=tt!=null&&tt.defaultVariants&&!u$2(tt.defaultVariants)?{...tt.defaultVariants,...at}:at;!u$2(ot.twMergeConfig)&&!x$1(ot.twMergeConfig,M$1)&&(F$1=!0,M$1=ot.twMergeConfig);let dt=u$2(tt==null?void 0:tt.slots),ft=u$2(rt)?{}:{base:N$1(et==null?void 0:et.base,dt&&(tt==null?void 0:tt.base)),...rt},ht=dt?ft:Z({...tt==null?void 0:tt.slots},u$2(ft)?{base:et==null?void 0:et.base}:ft),pt=mt=>{if(u$2(ct)&&u$2(rt)&&dt)return w$1(lt,mt==null?void 0:mt.class,mt==null?void 0:mt.className)(ot);if(st&&!Array.isArray(st))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof st}`);if(it&&!Array.isArray(it))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof it}`);let bt=(At,Rt,Ct=[],Dt)=>{let Ft=Ct;if(typeof Rt=="string")Ft=Ft.concat(g$1(Rt).split(" ").map(Mt=>`${At}:${Mt}`));else if(Array.isArray(Rt))Ft=Ft.concat(Rt.reduce((Mt,Ot)=>Mt.concat(`${At}:${Ot}`),[]));else if(typeof Rt=="object"&&typeof Dt=="string"){for(let Mt in Rt)if(Rt.hasOwnProperty(Mt)&&Mt===Dt){let Ot=Rt[Mt];if(Ot&&typeof Ot=="string"){let jt=g$1(Ot);Ft[Dt]?Ft[Dt]=Ft[Dt].concat(jt.split(" ").map(Ut=>`${At}:${Ut}`)):Ft[Dt]=jt.split(" ").map(Ut=>`${At}:${Ut}`)}else Array.isArray(Ot)&&Ot.length>0&&(Ft[Dt]=Ot.reduce((jt,Ut)=>jt.concat(`${At}:${Ut}`),[]))}}return Ft},vt=(At,Rt=ct,Ct=null,Dt=null)=>{var Ft;let Mt=Rt[At];if(!Mt||u$2(Mt))return null;let Ot=(Ft=Dt==null?void 0:Dt[At])!=null?Ft:mt==null?void 0:mt[At];if(Ot===null)return null;let jt=l$3(Ot),Ut=Array.isArray(ot.responsiveVariants)&&ot.responsiveVariants.length>0||ot.responsiveVariants===!0,_t=ut==null?void 0:ut[At],It=[];if(typeof jt=="object"&&Ut)for(let[Kt,Bt]of Object.entries(jt)){let Qt=Mt[Bt];if(Kt==="initial"){_t=Bt;continue}Array.isArray(ot.responsiveVariants)&&!ot.responsiveVariants.includes(Kt)||(It=bt(Kt,Qt,It,Ct))}let Wt=Mt[jt]||Mt[l$3(_t)];return typeof It=="object"&&typeof Ct=="string"&&It[Ct]?Z(It,Wt):It.length>0?(It.push(Wt),It):Wt},yt=()=>ct?Object.keys(ct).map(At=>vt(At,ct)):null,xt=(At,Rt)=>{if(!ct||typeof ct!="object")return null;let Ct=new Array;for(let Dt in ct){let Ft=vt(Dt,ct,At,Rt),Mt=At==="base"&&typeof Ft=="string"?Ft:Ft&&Ft[At];Mt&&(Ct[Ct.length]=Mt)}return Ct},Et={};for(let At in mt)mt[At]!==void 0&&(Et[At]=mt[At]);let wt=(At,Rt)=>{var Ct;let Dt=typeof(mt==null?void 0:mt[At])=="object"?{[At]:(Ct=mt[At])==null?void 0:Ct.initial}:{};return{...ut,...Et,...Dt,...Rt}},$t=(At=[],Rt)=>{let Ct=[];for(let{class:Dt,className:Ft,...Mt}of At){let Ot=!0;for(let[jt,Ut]of Object.entries(Mt)){let _t=wt(jt,Rt);if(Array.isArray(Ut)){if(!Ut.includes(_t[jt])){Ot=!1;break}}else if(_t[jt]!==Ut){Ot=!1;break}}Ot&&(Dt&&Ct.push(Dt),Ft&&Ct.push(Ft))}return Ct},Tt=At=>{let Rt=$t(st,At),Ct=$t(tt==null?void 0:tt.compoundVariants,At);return a$2(Ct,Rt)},St=At=>{let Rt=Tt(At);if(!Array.isArray(Rt))return Rt;let Ct={};for(let Dt of Rt)if(typeof Dt=="string"&&(Ct.base=w$1(Ct.base,Dt)(ot)),typeof Dt=="object")for(let[Ft,Mt]of Object.entries(Dt))Ct[Ft]=w$1(Ct[Ft],Mt)(ot);return Ct},Pt=At=>{if(it.length<1)return null;let Rt={};for(let{slots:Ct=[],class:Dt,className:Ft,...Mt}of it){if(!u$2(Mt)){let Ot=!0;for(let jt of Object.keys(Mt)){let Ut=wt(jt,At)[jt];if(Ut===void 0||(Array.isArray(Mt[jt])?!Mt[jt].includes(Ut):Mt[jt]!==Ut)){Ot=!1;break}}if(!Ot)continue}for(let Ot of Ct)Rt[Ot]=Rt[Ot]||[],Rt[Ot].push([Dt,Ft])}return Rt};if(!u$2(rt)||!dt){let At={};if(typeof ht=="object"&&!u$2(ht))for(let Rt of Object.keys(ht))At[Rt]=Ct=>{var Dt,Ft;return w$1(ht[Rt],xt(Rt,Ct),((Dt=St(Ct))!=null?Dt:[])[Rt],((Ft=Pt(Ct))!=null?Ft:[])[Rt],Ct==null?void 0:Ct.class,Ct==null?void 0:Ct.className)(ot)};return At}return w$1(lt,yt(),Tt(),mt==null?void 0:mt.class,mt==null?void 0:mt.className)(ot)},gt=()=>{if(!(!ct||typeof ct!="object"))return Object.keys(ct)};return pt.variantKeys=gt(),pt.extend=tt,pt.base=lt,pt.slots=ht,pt.variants=ct,pt.defaultVariants=ut,pt.compoundSlots=it,pt.compoundVariants=st,pt},tv$1=(et,_e)=>{var tt,rt,nt;return ie(et,{..._e,twMerge:(tt=_e==null?void 0:_e.twMerge)!=null?tt:!0,twMergeConfig:{..._e==null?void 0:_e.twMergeConfig,theme:{...(rt=_e==null?void 0:_e.twMergeConfig)==null?void 0:rt.theme,...twMergeConfig$1.theme},classGroups:{...(nt=_e==null?void 0:_e.twMergeConfig)==null?void 0:nt.classGroups,...twMergeConfig$1.classGroups}}})},spacer=tv$1({base:"w-px h-px inline-block",variants:{isInline:{true:"inline-block",false:"block"}},defaultVariants:{isInline:!1}}),spinner=tv$1({slots:{base:"relative inline-flex flex-col gap-2 items-center justify-center",wrapper:"relative flex",circle1:["absolute","w-full","h-full","rounded-full","animate-spinner-ease-spin","border-2","border-solid","border-t-transparent","border-l-transparent","border-r-transparent"],circle2:["absolute","w-full","h-full","rounded-full","opacity-75","animate-spinner-linear-spin","border-2","border-dotted","border-t-transparent","border-l-transparent","border-r-transparent"],label:"text-foreground dark:text-foreground-dark font-regular"},variants:{size:{sm:{wrapper:"w-5 h-5",circle1:"border-2",circle2:"border-2",label:"text-small"},md:{wrapper:"w-8 h-8",circle1:"border-3",circle2:"border-3",label:"text-medium"},lg:{wrapper:"w-10 h-10",circle1:"border-3",circle2:"border-3",label:"text-large"}},color:{current:{circle1:"border-b-current",circle2:"border-b-current"},white:{circle1:"border-b-white",circle2:"border-b-white"},default:{circle1:"border-b-default",circle2:"border-b-default"},primary:{circle1:"border-b-primary",circle2:"border-b-primary"},secondary:{circle1:"border-b-secondary",circle2:"border-b-secondary"},success:{circle1:"border-b-success",circle2:"border-b-success"},warning:{circle1:"border-b-warning",circle2:"border-b-warning"},danger:{circle1:"border-b-danger",circle2:"border-b-danger"}},labelColor:{foreground:{label:"text-foreground"},primary:{label:"text-primary"},secondary:{label:"text-secondary"},success:{label:"text-success"},warning:{label:"text-warning"},danger:{label:"text-danger"}}},defaultVariants:{size:"md",color:"primary",labelColor:"foreground"}}),dataFocusVisibleClasses$1=["outline-none","data-[focus-visible=true]:z-10","data-[focus-visible=true]:outline-2","data-[focus-visible=true]:outline-focus","data-[focus-visible=true]:outline-offset-2"],groupDataFocusVisibleClasses=["outline-none","group-data-[focus-visible=true]:z-10","group-data-[focus-visible=true]:ring-2","group-data-[focus-visible=true]:ring-focus","group-data-[focus-visible=true]:ring-offset-2","group-data-[focus-visible=true]:ring-offset-background"],ringClasses=["outline-none","ring-2","ring-focus","ring-offset-2","ring-offset-background"],translateCenterClasses=["absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2"],collapseAdjacentVariantBorders={default:["[&+.border-medium.border-default]:ms-[calc(theme(borderWidth.medium)*-1)]"],primary:["[&+.border-medium.border-primary]:ms-[calc(theme(borderWidth.medium)*-1)]"],secondary:["[&+.border-medium.border-secondary]:ms-[calc(theme(borderWidth.medium)*-1)]"],success:["[&+.border-medium.border-success]:ms-[calc(theme(borderWidth.medium)*-1)]"],warning:["[&+.border-medium.border-warning]:ms-[calc(theme(borderWidth.medium)*-1)]"],danger:["[&+.border-medium.border-danger]:ms-[calc(theme(borderWidth.medium)*-1)]"]},hiddenInputClasses=["[--cursor-hit-x:8px]","font-inherit","text-[100%]","leading-[1.15]","m-0","p-0","overflow-visible","box-border","absolute","top-0","start-[calc(var(--cursor-hit-x)*-1)]","w-[calc(100%+var(--cursor-hit-x)*2)]","h-full","opacity-[0.0001]","z-[1]","cursor-pointer","disabled:cursor-default"],table=tv$1({slots:{base:"flex flex-col relative gap-4",wrapper:["p-4","z-0","flex","flex-col","relative","justify-between","gap-4","shadow-small","bg-content1","overflow-auto"],table:"min-w-full h-auto",thead:"[&>tr]:first:rounded-lg",tbody:"",tr:["group/tr","outline-none",...dataFocusVisibleClasses$1],th:["group/th","px-3","h-10","text-start","align-middle","bg-default-100","whitespace-nowrap","text-foreground-500","text-tiny","font-semibold","first:rounded-s-lg","last:rounded-e-lg","outline-none","data-[sortable=true]:cursor-pointer","data-[hover=true]:text-foreground-400",...dataFocusVisibleClasses$1],td:["py-2","px-3","relative","align-middle","whitespace-normal","text-small","font-normal","outline-none","[&>*]:z-1","[&>*]:relative",...dataFocusVisibleClasses$1,"before:content-['']","before:absolute","before:z-0","before:inset-0","before:opacity-0","data-[selected=true]:before:opacity-100","group-data-[disabled=true]/tr:text-foreground-300","group-data-[disabled=true]/tr:cursor-not-allowed"],tfoot:"",sortIcon:["ms-2","mb-px","opacity-0","text-inherit","inline-block","transition-transform-opacity","data-[visible=true]:opacity-100","group-data-[hover=true]/th:opacity-100","data-[direction=ascending]:rotate-180"],emptyWrapper:"text-foreground-400 align-middle text-center h-40",loadingWrapper:"absolute inset-0 flex items-center justify-center"},variants:{color:{default:{td:"before:bg-default/60 data-[selected=true]:text-default-foreground"},primary:{td:"before:bg-primary/20 data-[selected=true]:text-primary"},secondary:{td:"before:bg-secondary/20 data-[selected=true]:text-secondary"},success:{td:"before:bg-success/20 data-[selected=true]:text-success-600 dark:data-[selected=true]:text-success"},warning:{td:"before:bg-warning/20 data-[selected=true]:text-warning-600 dark:data-[selected=true]:text-warning"},danger:{td:"before:bg-danger/20 data-[selected=true]:text-danger dark:data-[selected=true]:text-danger-500"}},layout:{auto:{table:"table-auto"},fixed:{table:"table-fixed"}},radius:{none:{wrapper:"rounded-none"},sm:{wrapper:"rounded-small"},md:{wrapper:"rounded-medium"},lg:{wrapper:"rounded-large"}},shadow:{none:{wrapper:"shadow-none"},sm:{wrapper:"shadow-small"},md:{wrapper:"shadow-medium"},lg:{wrapper:"shadow-large"}},hideHeader:{true:{thead:"hidden"}},isStriped:{true:{td:["group-data-[odd=true]/tr:before:bg-default-100","group-data-[odd=true]/tr:before:opacity-100","group-data-[odd=true]/tr:before:-z-10"]}},isCompact:{true:{td:"py-1"},false:{}},isHeaderSticky:{true:{thead:"sticky top-0 z-20 [&>tr]:first:shadow-small"}},isSelectable:{true:{tr:"cursor-default",td:["group-aria-[selected=false]/tr:group-data-[hover=true]/tr:before:bg-default-100","group-aria-[selected=false]/tr:group-data-[hover=true]/tr:before:opacity-70"]}},isMultiSelectable:{true:{td:["group-data-[first=true]/tr:first:before:rounded-ts-lg","group-data-[first=true]/tr:last:before:rounded-te-lg","group-data-[middle=true]/tr:before:rounded-none","group-data-[last=true]/tr:first:before:rounded-bs-lg","group-data-[last=true]/tr:last:before:rounded-be-lg"]},false:{td:["first:before:rounded-s-lg","last:before:rounded-e-lg"]}},fullWidth:{true:{base:"w-full",wrapper:"w-full",table:"w-full"}},align:{start:{th:"text-start",td:"text-start"},center:{th:"text-center",td:"text-center"},end:{th:"text-end",td:"text-end"}}},defaultVariants:{layout:"auto",shadow:"sm",radius:"lg",color:"default",isCompact:!1,hideHeader:!1,isStriped:!1,fullWidth:!0,align:"start"},compoundVariants:[{isStriped:!0,color:"default",class:{td:"group-data-[odd=true]/tr:data-[selected=true]/tr:before:bg-default/60"}},{isStriped:!0,color:"primary",class:{td:"group-data-[odd=true]/tr:data-[selected=true]/tr:before:bg-primary/20"}},{isStriped:!0,color:"secondary",class:{td:"group-data-[odd=true]/tr:data-[selected=true]/tr:before:bg-secondary/20"}},{isStriped:!0,color:"success",class:{td:"group-data-[odd=true]/tr:data-[selected=true]/tr:before:bg-success/20"}},{isStriped:!0,color:"warning",class:{td:"group-data-[odd=true]/tr:data-[selected=true]/tr:before:bg-warning/20"}},{isStriped:!0,color:"danger",class:{td:"group-data-[odd=true]/tr:data-[selected=true]/tr:before:bg-danger/20"}}]}),solid$1={default:"bg-default text-default-foreground",primary:"bg-primary text-primary-foreground",secondary:"bg-secondary text-secondary-foreground",success:"bg-success text-success-foreground",warning:"bg-warning text-warning-foreground",danger:"bg-danger text-danger-foreground",foreground:"bg-foreground text-background"},shadow$1={default:"shadow-lg shadow-default/50 bg-default text-default-foreground",primary:"shadow-lg shadow-primary/40 bg-primary text-primary-foreground",secondary:"shadow-lg shadow-secondary/40 bg-secondary text-secondary-foreground",success:"shadow-lg shadow-success/40 bg-success text-success-foreground",warning:"shadow-lg shadow-warning/40 bg-warning text-warning-foreground",danger:"shadow-lg shadow-danger/40 bg-danger text-danger-foreground",foreground:"shadow-lg shadow-foreground/40 bg-foreground text-background"},bordered$1={default:"bg-transparent border-default text-foreground",primary:"bg-transparent border-primary text-primary",secondary:"bg-transparent border-secondary text-secondary",success:"bg-transparent border-success text-success",warning:"bg-transparent border-warning text-warning",danger:"bg-transparent border-danger text-danger",foreground:"bg-transparent border-foreground text-foreground"},flat$1={default:"bg-default/40 text-default-700",primary:"bg-primary/20 text-primary-600",secondary:"bg-secondary/20 text-secondary-600",success:"bg-success/20 text-success-700 dark:text-success",warning:"bg-warning/20 text-warning-700 dark:text-warning",danger:"bg-danger/20 text-danger-600 dark:text-danger-500",foreground:"bg-foreground/10 text-foreground"},faded$1={default:"border-default bg-default-100 text-default-foreground",primary:"border-default bg-default-100 text-primary",secondary:"border-default bg-default-100 text-secondary",success:"border-default bg-default-100 text-success",warning:"border-default bg-default-100 text-warning",danger:"border-default bg-default-100 text-danger",foreground:"border-default bg-default-100 text-foreground"},light$1={default:"bg-transparent text-default-foreground",primary:"bg-transparent text-primary",secondary:"bg-transparent text-secondary",success:"bg-transparent text-success",warning:"bg-transparent text-warning",danger:"bg-transparent text-danger",foreground:"bg-transparent text-foreground"},ghost$1={default:"border-default text-default-foreground",primary:"border-primary text-primary",secondary:"border-secondary text-secondary",success:"border-success text-success",warning:"border-warning text-warning",danger:"border-danger text-danger",foreground:"border-foreground text-foreground hover:!bg-foreground"},colorVariants$1={solid:solid$1,shadow:shadow$1,bordered:bordered$1,flat:flat$1,faded:faded$1,light:light$1,ghost:ghost$1},tabs$1=tv$1({slots:{base:"inline-flex",tabList:["flex","p-1","h-fit","gap-2","items-center","flex-nowrap","overflow-x-scroll","scrollbar-hide","bg-default-100"],tab:["z-0","w-full","px-3","py-1","flex","group","relative","justify-center","items-center","outline-none","cursor-pointer","transition-opacity","tap-highlight-transparent","data-[disabled=true]:cursor-not-allowed","data-[disabled=true]:opacity-30","data-[hover-unselected=true]:opacity-disabled",...dataFocusVisibleClasses$1],tabContent:["relative","z-10","text-inherit","whitespace-nowrap","transition-colors","text-default-500","group-data-[selected=true]:text-foreground"],cursor:["absolute","z-0","bg-white"],panel:["py-3","px-1","outline-none","data-[inert=true]:hidden",...dataFocusVisibleClasses$1],wrapper:[]},variants:{variant:{solid:{cursor:"inset-0"},light:{tabList:"bg-transparent dark:bg-transparent",cursor:"inset-0"},underlined:{tabList:"bg-transparent dark:bg-transparent",cursor:"h-[2px] w-[80%] bottom-0 shadow-[0_1px_0px_0_rgba(0,0,0,0.05)]"},bordered:{tabList:"bg-transparent dark:bg-transparent border-medium border-default-200 shadow-sm",cursor:"inset-0"}},color:{default:{},primary:{},secondary:{},success:{},warning:{},danger:{}},size:{sm:{tabList:"rounded-medium",tab:"h-7 text-tiny rounded-small",cursor:"rounded-small"},md:{tabList:"rounded-medium",tab:"h-8 text-small rounded-small",cursor:"rounded-small"},lg:{tabList:"rounded-large",tab:"h-9 text-medium rounded-medium",cursor:"rounded-medium"}},radius:{none:{tabList:"rounded-none",tab:"rounded-none",cursor:"rounded-none"},sm:{tabList:"rounded-medium",tab:"rounded-small",cursor:"rounded-small"},md:{tabList:"rounded-medium",tab:"rounded-small",cursor:"rounded-small"},lg:{tabList:"rounded-large",tab:"rounded-medium",cursor:"rounded-medium"},full:{tabList:"rounded-full",tab:"rounded-full",cursor:"rounded-full"}},fullWidth:{true:{base:"w-full",tabList:"w-full"}},isDisabled:{true:{tabList:"opacity-disabled pointer-events-none"}},disableAnimation:{true:{tab:"transition-none",tabContent:"transition-none"}},placement:{top:{},start:{tabList:"flex-col",panel:"py-0 px-3",wrapper:"flex"},end:{tabList:"flex-col",panel:"py-0 px-3",wrapper:"flex flex-row-reverse"},bottom:{wrapper:"flex flex-col-reverse"}}},defaultVariants:{color:"default",variant:"solid",size:"md",fullWidth:!1,isDisabled:!1},compoundVariants:[{variant:["solid","bordered","light"],color:"default",class:{cursor:["bg-background","dark:bg-default","shadow-small"],tabContent:"group-data-[selected=true]:text-default-foreground"}},{variant:["solid","bordered","light"],color:"primary",class:{cursor:colorVariants$1.solid.primary,tabContent:"group-data-[selected=true]:text-primary-foreground"}},{variant:["solid","bordered","light"],color:"secondary",class:{cursor:colorVariants$1.solid.secondary,tabContent:"group-data-[selected=true]:text-secondary-foreground"}},{variant:["solid","bordered","light"],color:"success",class:{cursor:colorVariants$1.solid.success,tabContent:"group-data-[selected=true]:text-success-foreground"}},{variant:["solid","bordered","light"],color:"warning",class:{cursor:colorVariants$1.solid.warning,tabContent:"group-data-[selected=true]:text-warning-foreground"}},{variant:["solid","bordered","light"],color:"danger",class:{cursor:colorVariants$1.solid.danger,tabContent:"group-data-[selected=true]:text-danger-foreground"}},{variant:"underlined",color:"default",class:{cursor:"bg-foreground",tabContent:"group-data-[selected=true]:text-foreground"}},{variant:"underlined",color:"primary",class:{cursor:"bg-primary",tabContent:"group-data-[selected=true]:text-primary"}},{variant:"underlined",color:"secondary",class:{cursor:"bg-secondary",tabContent:"group-data-[selected=true]:text-secondary"}},{variant:"underlined",color:"success",class:{cursor:"bg-success",tabContent:"group-data-[selected=true]:text-success"}},{variant:"underlined",color:"warning",class:{cursor:"bg-warning",tabContent:"group-data-[selected=true]:text-warning"}},{variant:"underlined",color:"danger",class:{cursor:"bg-danger",tabContent:"group-data-[selected=true]:text-danger"}},{disableAnimation:!0,variant:"underlined",class:{tab:["after:content-['']","after:absolute","after:bottom-0","after:h-[2px]","after:w-[80%]","after:opacity-0","after:shadow-[0_1px_0px_0_rgba(0,0,0,0.05)]","data-[selected=true]:after:opacity-100"]}},{disableAnimation:!0,color:"default",variant:["solid","bordered","light"],class:{tab:"data-[selected=true]:bg-default data-[selected=true]:text-default-foreground"}},{disableAnimation:!0,color:"primary",variant:["solid","bordered","light"],class:{tab:"data-[selected=true]:bg-primary data-[selected=true]:text-primary-foreground"}},{disableAnimation:!0,color:"secondary",variant:["solid","bordered","light"],class:{tab:"data-[selected=true]:bg-secondary data-[selected=true]:text-secondary-foreground"}},{disableAnimation:!0,color:"success",variant:["solid","bordered","light"],class:{tab:"data-[selected=true]:bg-success data-[selected=true]:text-success-foreground"}},{disableAnimation:!0,color:"warning",variant:["solid","bordered","light"],class:{tab:"data-[selected=true]:bg-warning data-[selected=true]:text-warning-foreground"}},{disableAnimation:!0,color:"danger",variant:["solid","bordered","light"],class:{tab:"data-[selected=true]:bg-danger data-[selected=true]:text-danger-foreground"}},{disableAnimation:!0,color:"default",variant:"underlined",class:{tab:"data-[selected=true]:after:bg-foreground"}},{disableAnimation:!0,color:"primary",variant:"underlined",class:{tab:"data-[selected=true]:after:bg-primary"}},{disableAnimation:!0,color:"secondary",variant:"underlined",class:{tab:"data-[selected=true]:after:bg-secondary"}},{disableAnimation:!0,color:"success",variant:"underlined",class:{tab:"data-[selected=true]:after:bg-success"}},{disableAnimation:!0,color:"warning",variant:"underlined",class:{tab:"data-[selected=true]:after:bg-warning"}},{disableAnimation:!0,color:"danger",variant:"underlined",class:{tab:"data-[selected=true]:after:bg-danger"}}],compoundSlots:[{variant:"underlined",slots:["tab","tabList","cursor"],class:["rounded-none"]}]}),toggle$1=tv$1({slots:{base:"group relative max-w-fit inline-flex items-center justify-start cursor-pointer touch-none tap-highlight-transparent select-none",wrapper:["px-1","relative","inline-flex","items-center","justify-start","flex-shrink-0","overflow-hidden","bg-default-200","rounded-full",...groupDataFocusVisibleClasses],thumb:["z-10","flex","items-center","justify-center","bg-white","shadow-small","rounded-full","origin-right","pointer-events-none"],hiddenInput:hiddenInputClasses,startContent:"z-0 absolute start-1.5 text-current",endContent:"z-0 absolute end-1.5 text-default-600",thumbIcon:"text-black",label:"relative text-foreground select-none ms-2"},variants:{color:{default:{wrapper:["group-data-[selected=true]:bg-default-400","group-data-[selected=true]:text-default-foreground"]},primary:{wrapper:["group-data-[selected=true]:bg-primary","group-data-[selected=true]:text-primary-foreground"]},secondary:{wrapper:["group-data-[selected=true]:bg-secondary","group-data-[selected=true]:text-secondary-foreground"]},success:{wrapper:["group-data-[selected=true]:bg-success","group-data-[selected=true]:text-success-foreground"]},warning:{wrapper:["group-data-[selected=true]:bg-warning","group-data-[selected=true]:text-warning-foreground"]},danger:{wrapper:["group-data-[selected=true]:bg-danger","data-[selected=true]:text-danger-foreground"]}},size:{sm:{wrapper:"w-10 h-6",thumb:["w-4 h-4 text-tiny","group-data-[selected=true]:ms-4"],endContent:"text-tiny",startContent:"text-tiny",label:"text-small"},md:{wrapper:"w-12 h-7",thumb:["w-5 h-5 text-small","group-data-[selected=true]:ms-5"],endContent:"text-small",startContent:"text-small",label:"text-medium"},lg:{wrapper:"w-14 h-8",thumb:["w-6 h-6 text-medium","group-data-[selected=true]:ms-6"],endContent:"text-medium",startContent:"text-medium",label:"text-large"}},isDisabled:{true:{base:"opacity-disabled pointer-events-none"}},disableAnimation:{true:{wrapper:"transition-none",thumb:"transition-none"},false:{wrapper:"transition-background",thumb:"transition-all",startContent:["opacity-0","scale-50","transition-transform-opacity","group-data-[selected=true]:scale-100","group-data-[selected=true]:opacity-100"],endContent:["opacity-100","transition-transform-opacity","group-data-[selected=true]:translate-x-3","group-data-[selected=true]:opacity-0"]}}},defaultVariants:{color:"primary",size:"md",isDisabled:!1},compoundVariants:[{disableAnimation:!1,size:"sm",class:{thumb:["group-data-[pressed=true]:w-5","group-data-[selected]:group-data-[pressed]:ml-3"]}},{disableAnimation:!1,size:"md",class:{thumb:["group-data-[pressed=true]:w-6","group-data-[selected]:group-data-[pressed]:ml-4"]}},{disableAnimation:!1,size:"lg",class:{thumb:["group-data-[pressed=true]:w-7","group-data-[selected]:group-data-[pressed]:ml-5"]}}]}),popover=tv$1({slots:{base:["z-0","relative","bg-transparent","before:content-['']","before:hidden","before:z-[-1]","before:absolute","before:rotate-45","before:w-2.5","before:h-2.5","before:rounded-sm","data-[arrow=true]:before:block","data-[placement=top]:before:-bottom-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=top]:before:left-1/2","data-[placement=top]:before:-translate-x-1/2","data-[placement=top-start]:before:-bottom-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=top-start]:before:left-3","data-[placement=top-end]:before:-bottom-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=top-end]:before:right-3","data-[placement=bottom]:before:-top-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=bottom]:before:left-1/2","data-[placement=bottom]:before:-translate-x-1/2","data-[placement=bottom-start]:before:-top-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=bottom-start]:before:left-3","data-[placement=bottom-end]:before:-top-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=bottom-end]:before:right-3","data-[placement=left]:before:-right-[calc(theme(spacing.5)/4_-_2px)]","data-[placement=left]:before:top-1/2","data-[placement=left]:before:-translate-y-1/2","data-[placement=left-start]:before:-right-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=left-start]:before:top-1/4","data-[placement=left-end]:before:-right-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=left-end]:before:bottom-1/4","data-[placement=right]:before:-left-[calc(theme(spacing.5)/4_-_2px)]","data-[placement=right]:before:top-1/2","data-[placement=right]:before:-translate-y-1/2","data-[placement=right-start]:before:-left-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=right-start]:before:top-1/4","data-[placement=right-end]:before:-left-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=right-end]:before:bottom-1/4",...dataFocusVisibleClasses$1],content:["z-10","px-2.5","py-1","w-full","inline-flex","flex-col","items-center","justify-center","box-border","subpixel-antialiased","outline-none","box-border"],trigger:["z-10"],backdrop:["hidden"],arrow:[]},variants:{size:{sm:{content:"text-tiny"},md:{content:"text-small"},lg:{content:"text-medium"}},color:{default:{base:"before:bg-content1 before:shadow-small",content:"bg-content1"},foreground:{base:"before:bg-foreground",content:colorVariants$1.solid.foreground},primary:{base:"before:bg-primary",content:colorVariants$1.solid.primary},secondary:{base:"before:bg-secondary",content:colorVariants$1.solid.secondary},success:{base:"before:bg-success",content:colorVariants$1.solid.success},warning:{base:"before:bg-warning",content:colorVariants$1.solid.warning},danger:{base:"before:bg-danger",content:colorVariants$1.solid.danger}},radius:{none:{content:"rounded-none"},sm:{content:"rounded-small"},md:{content:"rounded-medium"},lg:{content:"rounded-large"},full:{content:"rounded-full"}},shadow:{sm:{content:"shadow-small"},md:{content:"shadow-medium"},lg:{content:"shadow-large"}},backdrop:{transparent:{},opaque:{backdrop:"bg-overlay/50 backdrop-opacity-disabled"},blur:{backdrop:"backdrop-blur-sm backdrop-saturate-150 bg-overlay/30"}},triggerScaleOnOpen:{true:{trigger:["aria-expanded:scale-[0.97]","aria-expanded:opacity-70","subpixel-antialiased"]},false:{}},disableAnimation:{true:{base:"animate-none"}},isTriggerDisabled:{true:{trigger:"opacity-disabled pointer-events-none"},false:{}}},defaultVariants:{color:"default",radius:"lg",size:"md",shadow:"md",backdrop:"transparent",triggerScaleOnOpen:!0},compoundVariants:[{backdrop:["opaque","blur"],class:{backdrop:"block w-full h-full fixed inset-0 -z-30"}}]}),verticalShadow=["data-[top-scroll=true]:[mask-image:linear-gradient(0deg,#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]","data-[bottom-scroll=true]:[mask-image:linear-gradient(180deg,#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]","data-[top-bottom-scroll=true]:[mask-image:linear-gradient(#000,#000,transparent_0,#000_var(--scroll-shadow-size),#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]"],horizontalShadow=["data-[left-scroll=true]:[mask-image:linear-gradient(270deg,#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]","data-[right-scroll=true]:[mask-image:linear-gradient(90deg,#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]","data-[left-right-scroll=true]:[mask-image:linear-gradient(to_right,#000,#000,transparent_0,#000_var(--scroll-shadow-size),#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]"],scrollShadow=tv$1({base:[],variants:{orientation:{vertical:["overflow-y-auto",...verticalShadow],horizontal:["overflow-x-auto",...horizontalShadow]},hideScrollBar:{true:"scrollbar-hide",false:""}},defaultVariants:{orientation:"vertical",hideScrollBar:!1}}),select=tv$1({slots:{base:["group inline-flex flex-col relative"],label:["block","absolute","z-10","origin-top-left","rtl:origin-top-right","subpixel-antialiased","text-small","text-foreground-500","pointer-events-none"],mainWrapper:"w-full flex flex-col",trigger:"relative px-3 gap-3 w-full inline-flex flex-row items-center shadow-sm outline-none tap-highlight-transparent",innerWrapper:"inline-flex h-full w-[calc(100%_-_theme(spacing.6))] min-h-4 items-center gap-1.5 box-border",selectorIcon:"absolute end-3 w-4 h-4",spinner:"absolute end-3",value:["text-foreground-500","font-normal","w-full","text-start"],listboxWrapper:"scroll-py-6 w-full",listbox:"",popoverContent:"w-full p-1 overflow-hidden",helperWrapper:"p-1 flex relative flex-col gap-1.5",description:"text-tiny text-foreground-400",errorMessage:"text-tiny text-danger"},variants:{variant:{flat:{trigger:["bg-default-100","data-[hover=true]:bg-default-200","group-data-[focus=true]:bg-default-200"]},faded:{trigger:["bg-default-100","border-medium","border-default-200","data-[hover=true]:border-default-400 data-[focus=true]:border-default-400 data-[open=true]:border-default-400"],value:"group-data-[has-value=true]:text-default-foreground"},bordered:{trigger:["border-medium","border-default-200","data-[hover=true]:border-default-400","data-[open=true]:border-default-foreground","data-[focus=true]:border-default-foreground"],value:"group-data-[has-value=true]:text-default-foreground"},underlined:{trigger:["!px-1","!pb-0","!gap-0","relative","box-border","border-b-medium","shadow-[0_1px_0px_0_rgba(0,0,0,0.05)]","border-default-200","!rounded-none","hover:border-default-300","after:content-['']","after:w-0","after:origin-center","after:bg-default-foreground","after:absolute","after:left-1/2","after:-translate-x-1/2","after:-bottom-[2px]","after:h-[2px]","data-[open=true]:after:w-full","data-[focus=true]:after:w-full"],value:"group-data-[has-value=true]:text-default-foreground"}},color:{default:{},primary:{selectorIcon:"text-primary"},secondary:{selectorIcon:"text-secondary"},success:{selectorIcon:"text-success"},warning:{selectorIcon:"text-warning"},danger:{selectorIcon:"text-danger"}},size:{sm:{label:"text-tiny",trigger:"h-8 min-h-8 px-2 rounded-small",value:"text-small"},md:{trigger:"h-10 min-h-10 rounded-medium",value:"text-small"},lg:{trigger:"h-12 min-h-12 rounded-large",value:"text-medium"}},radius:{none:{trigger:"rounded-none"},sm:{trigger:"rounded-small"},md:{trigger:"rounded-medium"},lg:{trigger:"rounded-large"},full:{trigger:"rounded-full"}},labelPlacement:{outside:{base:"flex flex-col"},"outside-left":{base:"flex-row items-center flex-nowrap items-start",label:"relative pe-2 text-foreground"},inside:{label:"text-tiny cursor-pointer",trigger:"flex-col items-start justify-center gap-0"}},fullWidth:{true:{base:"w-full"},false:{base:"min-w-40"}},isDisabled:{true:{base:"opacity-disabled pointer-events-none",trigger:"pointer-events-none"}},isInvalid:{true:{label:"!text-danger",value:"!text-danger",selectorIcon:"text-danger"}},isRequired:{true:{label:"after:content-['*'] after:text-danger after:ms-0.5"}},isMultiline:{true:{label:"relative",trigger:"!h-auto"},false:{value:"truncate"}},disableAnimation:{true:{trigger:"after:transition-none",base:"transition-none",label:"transition-none",selectorIcon:"transition-none"},false:{base:"transition-background motion-reduce:transition-none !duration-150",label:["will-change-auto","origin-top-left","rtl:origin-top-right","!duration-200","!ease-out","transition-[transform,color,left,opacity]","motion-reduce:transition-none"],selectorIcon:"transition-transform duration-150 ease motion-reduce:transition-none"}},disableSelectorIconRotation:{true:{},false:{selectorIcon:"data-[open=true]:rotate-180"}}},defaultVariants:{variant:"flat",color:"default",size:"md",labelPlacement:"inside",fullWidth:!0,isDisabled:!1,isMultiline:!1,disableSelectorIconRotation:!1},compoundVariants:[{variant:"flat",color:"default",class:{value:"group-data-[has-value=true]:text-default-foreground",trigger:["bg-default-100","data-[hover=true]:bg-default-200"]}},{variant:"flat",color:"primary",class:{trigger:["bg-primary-100","text-primary","data-[hover=true]:bg-primary-50","group-data-[focus=true]:bg-primary-50"],value:"text-primary",label:"text-primary"}},{variant:"flat",color:"secondary",class:{trigger:["bg-secondary-100","text-secondary","data-[hover=true]:bg-secondary-50","group-data-[focus=true]:bg-secondary-50"],value:"text-secondary",label:"text-secondary"}},{variant:"flat",color:"success",class:{trigger:["bg-success-100","text-success-600","dark:text-success","data-[hover=true]:bg-success-50","group-data-[focus=true]:bg-success-50"],value:"text-success-600 dark:text-success",label:"text-success-600 dark:text-success"}},{variant:"flat",color:"warning",class:{trigger:["bg-warning-100","text-warning-600","dark:text-warning","data-[hover=true]:bg-warning-50","group-data-[focus=true]:bg-warning-50"],value:"text-warning-600 dark:text-warning",label:"text-warning-600 dark:text-warning"}},{variant:"flat",color:"danger",class:{trigger:["bg-danger-100","text-danger","dark:text-danger-500","data-[hover=true]:bg-danger-50","group-data-[focus=true]:bg-danger-50"],value:"text-danger dark:text-danger-500",label:"text-danger dark:text-danger-500"}},{variant:"faded",color:"primary",class:{trigger:"data-[hover=true]:border-primary data-[focus=true]:border-primary data-[open=true]:border-primary",label:"text-primary"}},{variant:"faded",color:"secondary",class:{trigger:"data-[hover=true]:border-secondary data-[focus=true]:border-secondary data-[open=true]:border-secondary",label:"text-secondary"}},{variant:"faded",color:"success",class:{trigger:"data-[hover=true]:border-success data-[focus=true]:border-success data-[open=true]:border-success",label:"text-success"}},{variant:"faded",color:"warning",class:{trigger:"data-[hover=true]:border-warning data-[focus=true]:border-warning data-[open=true]:border-warning",label:"text-warning"}},{variant:"faded",color:"danger",class:{trigger:"data-[hover=true]:border-danger data-[focus=true]:border-danger data-[open=true]:border-danger",label:"text-danger"}},{variant:"underlined",color:"default",class:{value:"group-data-[has-value=true]:text-foreground"}},{variant:"underlined",color:"primary",class:{trigger:"after:bg-primary",label:"text-primary"}},{variant:"underlined",color:"secondary",class:{trigger:"after:bg-secondary",label:"text-secondary"}},{variant:"underlined",color:"success",class:{trigger:"after:bg-success",label:"text-success"}},{variant:"underlined",color:"warning",class:{trigger:"after:bg-warning",label:"text-warning"}},{variant:"underlined",color:"danger",class:{trigger:"after:bg-danger",label:"text-danger"}},{variant:"bordered",color:"primary",class:{trigger:["data-[open=true]:border-primary","data-[focus=true]:border-primary"],label:"text-primary"}},{variant:"bordered",color:"secondary",class:{trigger:["data-[open=true]:border-secondary","data-[focus=true]:border-secondary"],label:"text-secondary"}},{variant:"bordered",color:"success",class:{trigger:["data-[open=true]:border-success","data-[focus=true]:border-success"],label:"text-success"}},{variant:"bordered",color:"warning",class:{trigger:["data-[open=true]:border-warning","data-[focus=true]:border-warning"],label:"text-warning"}},{variant:"bordered",color:"danger",class:{trigger:["data-[open=true]:border-danger","data-[focus=true]:border-danger"],label:"text-danger"}},{labelPlacement:"inside",color:"default",class:{label:"group-data-[filled=true]:text-default-600"}},{labelPlacement:"outside",color:"default",class:{label:"group-data-[filled=true]:text-foreground"}},{radius:"full",size:["sm"],class:{trigger:"px-3"}},{radius:"full",size:"md",class:{trigger:"px-4"}},{radius:"full",size:"lg",class:{trigger:"px-5"}},{disableAnimation:!1,variant:["faded","bordered"],class:{trigger:"transition-colors motion-reduce:transition-none"}},{disableAnimation:!1,variant:"underlined",class:{trigger:"after:transition-width motion-reduce:after:transition-none"}},{variant:["flat","faded"],class:{trigger:[...dataFocusVisibleClasses$1]}},{isInvalid:!0,variant:"flat",class:{trigger:["bg-danger-50","data-[hover=true]:bg-danger-100","group-data-[focus=true]:bg-danger-50"]}},{isInvalid:!0,variant:"bordered",class:{trigger:"!border-danger group-data-[focus=true]:border-danger"}},{isInvalid:!0,variant:"underlined",class:{trigger:"after:bg-danger"}},{labelPlacement:"inside",size:"sm",class:{trigger:"h-12 min-h-12 py-1.5 px-3"}},{labelPlacement:"inside",size:"md",class:{trigger:"h-14 min-h-14 py-2"}},{labelPlacement:"inside",size:"lg",class:{label:"text-medium",trigger:"h-16 min-h-16 py-2.5 gap-0"}},{labelPlacement:"outside",isMultiline:!1,class:{base:"group relative justify-end",label:["pb-0","z-20","top-1/2","-translate-y-1/2","group-data-[filled=true]:start-0"]}},{labelPlacement:["inside"],class:{label:"group-data-[filled=true]:scale-85"}},{labelPlacement:"inside",size:["sm","md"],class:{label:"text-small"}},{labelPlacement:"inside",isMultiline:!1,size:"sm",class:{label:["group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.tiny)/2_-_8px)]"],innerWrapper:"group-data-[has-label=true]:pt-4"}},{labelPlacement:"inside",isMultiline:!1,size:"md",class:{label:["group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_6px)]"],innerWrapper:"group-data-[has-label=true]:pt-4"}},{labelPlacement:"inside",isMultiline:!1,size:"lg",class:{label:["text-medium","group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_8px)]"],innerWrapper:"group-data-[has-label=true]:pt-5"}},{labelPlacement:"inside",variant:["faded","bordered"],isMultiline:!1,size:"sm",class:{label:["group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.tiny)/2_-_8px_-_theme(borderWidth.medium))]"]}},{labelPlacement:"inside",variant:["faded","bordered"],isMultiline:!1,size:"md",class:{label:["group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_6px_-_theme(borderWidth.medium))]"]}},{labelPlacement:"inside",variant:["faded","bordered"],isMultiline:!1,size:"lg",class:{label:["text-medium","group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_8px_-_theme(borderWidth.medium))]"]}},{labelPlacement:"inside",variant:"underlined",isMultiline:!1,size:"sm",class:{label:["group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.tiny)/2_-_5px)]"]}},{labelPlacement:"inside",variant:"underlined",isMultiline:!1,size:"md",class:{label:["group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_3.5px)]"]}},{labelPlacement:"inside",variant:"underlined",isMultiline:!1,size:"lg",class:{label:["text-medium","group-data-[filled=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_4px)]"]}},{labelPlacement:"outside",size:"sm",isMultiline:!1,class:{label:["start-2","text-tiny","group-data-[filled=true]:-translate-y-[calc(100%_+_theme(fontSize.tiny)/2_+_16px)]"],base:"data-[has-label=true]:mt-[calc(theme(fontSize.small)_+_8px)]"}},{labelPlacement:"outside",isMultiline:!1,size:"md",class:{label:["start-3","text-small","group-data-[filled=true]:-translate-y-[calc(100%_+_theme(fontSize.small)/2_+_20px)]"],base:"data-[has-label=true]:mt-[calc(theme(fontSize.small)_+_10px)]"}},{labelPlacement:"outside",isMultiline:!1,size:"lg",class:{label:["start-3","text-medium","group-data-[filled=true]:-translate-y-[calc(100%_+_theme(fontSize.small)/2_+_24px)]"],base:"data-[has-label=true]:mt-[calc(theme(fontSize.small)_+_12px)]"}},{labelPlacement:"outside",isMultiline:!0,class:{label:"pb-1.5"}},{labelPlacement:["inside","outside"],class:{label:["pe-2","max-w-full","text-ellipsis","overflow-hidden"]}}]}),input=tv$1({slots:{base:"group flex flex-col data-[hidden=true]:hidden",label:["absolute","z-10","pointer-events-none","origin-top-left","flex-shrink-0","rtl:origin-top-right","subpixel-antialiased","block","text-small","text-foreground-500"],mainWrapper:"h-full",inputWrapper:"relative w-full inline-flex tap-highlight-transparent flex-row items-center shadow-sm px-3 gap-3",innerWrapper:"inline-flex w-full items-center h-full box-border",input:["w-full font-normal bg-transparent !outline-none placeholder:text-foreground-500 focus-visible:outline-none","data-[has-start-content=true]:ps-1.5","data-[has-end-content=true]:pe-1.5","file:cursor-pointer file:bg-transparent file:border-0","autofill:bg-transparent bg-clip-text"],clearButton:["p-2","-m-2","z-10","absolute","end-3","start-auto","pointer-events-none","appearance-none","outline-none","select-none","opacity-0","hover:!opacity-100","cursor-pointer","active:!opacity-70","rounded-full",...dataFocusVisibleClasses$1],helperWrapper:"hidden group-data-[has-helper=true]:flex p-1 relative flex-col gap-1.5",description:"text-tiny text-foreground-400",errorMessage:"text-tiny text-danger"},variants:{variant:{flat:{inputWrapper:["bg-default-100","data-[hover=true]:bg-default-200","group-data-[focus=true]:bg-default-100"]},faded:{inputWrapper:["bg-default-100","border-medium","border-default-200","data-[hover=true]:border-default-400 focus-within:border-default-400"],value:"group-data-[has-value=true]:text-default-foreground"},bordered:{inputWrapper:["border-medium","border-default-200","data-[hover=true]:border-default-400","group-data-[focus=true]:border-default-foreground"]},underlined:{inputWrapper:["!px-1","!pb-0","!gap-0","relative","box-border","border-b-medium","shadow-[0_1px_0px_0_rgba(0,0,0,0.05)]","border-default-200","!rounded-none","hover:border-default-300","after:content-['']","after:w-0","after:origin-center","after:bg-default-foreground","after:absolute","after:left-1/2","after:-translate-x-1/2","after:-bottom-[2px]","after:h-[2px]","group-data-[focus=true]:after:w-full"],innerWrapper:"pb-1",label:"group-data-[filled-within=true]:text-foreground"}},color:{default:{},primary:{},secondary:{},success:{},warning:{},danger:{}},size:{sm:{label:"text-tiny",inputWrapper:"h-8 min-h-8 px-2 rounded-small",input:"text-small",clearButton:"text-medium"},md:{inputWrapper:"h-10 min-h-10 rounded-medium",input:"text-small",clearButton:"text-large"},lg:{label:"text-medium",inputWrapper:"h-12 min-h-12 rounded-large",input:"text-medium",clearButton:"text-large"}},radius:{none:{inputWrapper:"rounded-none"},sm:{inputWrapper:"rounded-small"},md:{inputWrapper:"rounded-medium"},lg:{inputWrapper:"rounded-large"},full:{inputWrapper:"rounded-full"}},labelPlacement:{outside:{mainWrapper:"flex flex-col"},"outside-left":{base:"flex-row items-center flex-nowrap data-[has-helper=true]:items-start",inputWrapper:"flex-1",mainWrapper:"flex flex-col",label:"relative text-foreground pe-2 ps-2 pointer-events-auto"},inside:{label:"cursor-text",inputWrapper:"flex-col items-start justify-center gap-0",innerWrapper:"group-data-[has-label=true]:items-end"}},fullWidth:{true:{base:"w-full"},false:{}},isClearable:{true:{input:"peer pe-6 input-search-cancel-button-none",clearButton:["peer-data-[filled=true]:pointer-events-auto","peer-data-[filled=true]:opacity-70 peer-data-[filled=true]:block","peer-data-[filled=true]:scale-100"]}},isDisabled:{true:{base:"opacity-disabled pointer-events-none",inputWrapper:"pointer-events-none",label:"pointer-events-none"}},isInvalid:{true:{label:"!text-danger",input:"!placeholder:text-danger !text-danger"}},isRequired:{true:{label:"after:content-['*'] after:text-danger after:ms-0.5"}},isMultiline:{true:{label:"relative",inputWrapper:"!h-auto",innerWrapper:"items-start group-data-[has-label=true]:items-start",input:"resize-none data-[hide-scroll=true]:scrollbar-hide",clearButton:"absolute top-2 right-2 rtl:right-auto rtl:left-2 z-10"}},disableAnimation:{true:{input:"transition-none",inputWrapper:"transition-none",label:"transition-none"},false:{inputWrapper:"transition-background motion-reduce:transition-none !duration-150",label:["will-change-auto","!duration-200","!ease-out","motion-reduce:transition-none","transition-[transform,color,left,opacity]"],clearButton:["scale-90","ease-out","duration-150","transition-[opacity,transform]","motion-reduce:transition-none","motion-reduce:scale-100"]}}},defaultVariants:{variant:"flat",color:"default",size:"md",fullWidth:!0,labelPlacement:"inside",isDisabled:!1,isMultiline:!1},compoundVariants:[{variant:"flat",color:"default",class:{input:"group-data-[has-value=true]:text-default-foreground"}},{variant:"flat",color:"primary",class:{inputWrapper:["bg-primary-100","data-[hover=true]:bg-primary-50","text-primary","group-data-[focus=true]:bg-primary-50","placeholder:text-primary"],input:"placeholder:text-primary",label:"text-primary"}},{variant:"flat",color:"secondary",class:{inputWrapper:["bg-secondary-100","text-secondary","data-[hover=true]:bg-secondary-50","group-data-[focus=true]:bg-secondary-50","placeholder:text-secondary"],input:"placeholder:text-secondary",label:"text-secondary"}},{variant:"flat",color:"success",class:{inputWrapper:["bg-success-100","text-success-600","dark:text-success","placeholder:text-success-600","dark:placeholder:text-success","data-[hover=true]:bg-success-50","group-data-[focus=true]:bg-success-50"],input:"placeholder:text-success-600 dark:placeholder:text-success",label:"text-success-600 dark:text-success"}},{variant:"flat",color:"warning",class:{inputWrapper:["bg-warning-100","text-warning-600","dark:text-warning","placeholder:text-warning-600","dark:placeholder:text-warning","data-[hover=true]:bg-warning-50","group-data-[focus=true]:bg-warning-50"],input:"placeholder:text-warning-600 dark:placeholder:text-warning",label:"text-warning-600 dark:text-warning"}},{variant:"flat",color:"danger",class:{inputWrapper:["bg-danger-100","text-danger","dark:text-danger-500","placeholder:text-danger","dark:placeholder:text-danger-500","data-[hover=true]:bg-danger-50","group-data-[focus=true]:bg-danger-50"],input:"placeholder:text-danger dark:placeholder:text-danger-500",label:"text-danger dark:text-danger-500"}},{variant:"faded",color:"primary",class:{label:"text-primary",inputWrapper:"data-[hover=true]:border-primary focus-within:border-primary"}},{variant:"faded",color:"secondary",class:{label:"text-secondary",inputWrapper:"data-[hover=true]:border-secondary focus-within:border-secondary"}},{variant:"faded",color:"success",class:{label:"text-success",inputWrapper:"data-[hover=true]:border-success focus-within:border-success"}},{variant:"faded",color:"warning",class:{label:"text-warning",inputWrapper:"data-[hover=true]:border-warning focus-within:border-warning"}},{variant:"faded",color:"danger",class:{label:"text-danger",inputWrapper:"data-[hover=true]:border-danger focus-within:border-danger"}},{variant:"underlined",color:"default",class:{input:"group-data-[has-value=true]:text-foreground"}},{variant:"underlined",color:"primary",class:{inputWrapper:"after:bg-primary",label:"text-primary"}},{variant:"underlined",color:"secondary",class:{inputWrapper:"after:bg-secondary",label:"text-secondary"}},{variant:"underlined",color:"success",class:{inputWrapper:"after:bg-success",label:"text-success"}},{variant:"underlined",color:"warning",class:{inputWrapper:"after:bg-warning",label:"text-warning"}},{variant:"underlined",color:"danger",class:{inputWrapper:"after:bg-danger",label:"text-danger"}},{variant:"bordered",color:"primary",class:{inputWrapper:"group-data-[focus=true]:border-primary",label:"text-primary"}},{variant:"bordered",color:"secondary",class:{inputWrapper:"group-data-[focus=true]:border-secondary",label:"text-secondary"}},{variant:"bordered",color:"success",class:{inputWrapper:"group-data-[focus=true]:border-success",label:"text-success"}},{variant:"bordered",color:"warning",class:{inputWrapper:"group-data-[focus=true]:border-warning",label:"text-warning"}},{variant:"bordered",color:"danger",class:{inputWrapper:"group-data-[focus=true]:border-danger",label:"text-danger"}},{labelPlacement:"inside",color:"default",class:{label:"group-data-[filled-within=true]:text-default-600"}},{labelPlacement:"outside",color:"default",class:{label:"group-data-[filled-within=true]:text-foreground"}},{radius:"full",size:["sm"],class:{inputWrapper:"px-3"}},{radius:"full",size:"md",class:{inputWrapper:"px-4"}},{radius:"full",size:"lg",class:{inputWrapper:"px-5"}},{disableAnimation:!1,variant:["faded","bordered"],class:{inputWrapper:"transition-colors motion-reduce:transition-none"}},{disableAnimation:!1,variant:"underlined",class:{inputWrapper:"after:transition-width motion-reduce:after:transition-none"}},{variant:["flat","faded"],class:{inputWrapper:[...groupDataFocusVisibleClasses]}},{isInvalid:!0,variant:"flat",class:{inputWrapper:["!bg-danger-50","data-[hover=true]:!bg-danger-100","group-data-[focus=true]:!bg-danger-50"]}},{isInvalid:!0,variant:"bordered",class:{inputWrapper:"!border-danger group-data-[focus=true]:!border-danger"}},{isInvalid:!0,variant:"underlined",class:{inputWrapper:"after:!bg-danger"}},{labelPlacement:"inside",size:"sm",class:{inputWrapper:"h-12 py-1.5 px-3"}},{labelPlacement:"inside",size:"md",class:{inputWrapper:"h-14 py-2"}},{labelPlacement:"inside",size:"lg",class:{inputWrapper:"h-16 py-2.5 gap-0"}},{labelPlacement:"inside",size:"sm",variant:["bordered","faded"],class:{inputWrapper:"py-1"}},{labelPlacement:["inside","outside"],class:{label:["group-data-[filled-within=true]:pointer-events-auto"]}},{labelPlacement:"outside",isMultiline:!1,class:{base:"relative justify-end",label:["pb-0","z-20","top-1/2","-translate-y-1/2","group-data-[filled-within=true]:start-0"]}},{labelPlacement:["inside"],class:{label:["group-data-[filled-within=true]:scale-85"]}},{labelPlacement:["inside"],variant:"flat",class:{innerWrapper:"pb-0.5"}},{variant:"underlined",size:"sm",class:{innerWrapper:"pb-1"}},{variant:"underlined",size:["md","lg"],class:{innerWrapper:"pb-1.5"}},{labelPlacement:"inside",size:["sm","md"],class:{label:"text-small"}},{labelPlacement:"inside",isMultiline:!1,size:"sm",class:{label:["group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.tiny)/2_-_8px)]"]}},{labelPlacement:"inside",isMultiline:!1,size:"md",class:{label:["group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_6px)]"]}},{labelPlacement:"inside",isMultiline:!1,size:"lg",class:{label:["text-medium","group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_8px)]"]}},{labelPlacement:"inside",variant:["faded","bordered"],isMultiline:!1,size:"sm",class:{label:["group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.tiny)/2_-_8px_-_theme(borderWidth.medium))]"]}},{labelPlacement:"inside",variant:["faded","bordered"],isMultiline:!1,size:"md",class:{label:["group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_6px_-_theme(borderWidth.medium))]"]}},{labelPlacement:"inside",variant:["faded","bordered"],isMultiline:!1,size:"lg",class:{label:["text-medium","group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_8px_-_theme(borderWidth.medium))]"]}},{labelPlacement:"inside",variant:"underlined",isMultiline:!1,size:"sm",class:{label:["group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.tiny)/2_-_5px)]"]}},{labelPlacement:"inside",variant:"underlined",isMultiline:!1,size:"md",class:{label:["group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_3.5px)]"]}},{labelPlacement:"inside",variant:"underlined",size:"lg",isMultiline:!1,class:{label:["text-medium","group-data-[filled-within=true]:-translate-y-[calc(50%_+_theme(fontSize.small)/2_-_4px)]"]}},{labelPlacement:"outside",size:"sm",isMultiline:!1,class:{label:["start-2","text-tiny","group-data-[filled-within=true]:-translate-y-[calc(100%_+_theme(fontSize.tiny)/2_+_16px)]"],base:"data-[has-label=true]:mt-[calc(theme(fontSize.small)_+_8px)]"}},{labelPlacement:"outside",size:"md",isMultiline:!1,class:{label:["start-3","end-auto","text-small","group-data-[filled-within=true]:-translate-y-[calc(100%_+_theme(fontSize.small)/2_+_20px)]"],base:"data-[has-label=true]:mt-[calc(theme(fontSize.small)_+_10px)]"}},{labelPlacement:"outside",size:"lg",isMultiline:!1,class:{label:["start-3","end-auto","text-medium","group-data-[filled-within=true]:-translate-y-[calc(100%_+_theme(fontSize.small)/2_+_24px)]"],base:"data-[has-label=true]:mt-[calc(theme(fontSize.small)_+_12px)]"}},{labelPlacement:"outside-left",size:"sm",class:{label:"group-data-[has-helper=true]:pt-2"}},{labelPlacement:"outside-left",size:"md",class:{label:"group-data-[has-helper=true]:pt-3"}},{labelPlacement:"outside-left",size:"lg",class:{label:"group-data-[has-helper=true]:pt-4"}},{labelPlacement:["outside","outside-left"],isMultiline:!0,class:{inputWrapper:"py-2"}},{labelPlacement:"outside",isMultiline:!0,class:{label:"pb-1.5"}},{labelPlacement:"inside",isMultiline:!0,class:{label:"pb-0.5",input:"pt-0"}},{isMultiline:!0,disableAnimation:!1,class:{input:"transition-height !duration-100 motion-reduce:transition-none"}},{labelPlacement:["inside","outside"],class:{label:["pe-2","max-w-full","text-ellipsis","overflow-hidden"]}},{isMultiline:!0,radius:"full",class:{inputWrapper:"data-[has-multiple-rows=true]:rounded-large"}},{isClearable:!0,isMultiline:!0,class:{clearButton:["group-data-[has-value=true]:opacity-70 group-data-[has-value=true]:block","group-data-[has-value=true]:scale-100","group-data-[has-value=true]:pointer-events-auto"]}}]}),menu=tv$1({slots:{base:"w-full relative flex flex-col gap-1 p-1 overflow-clip",list:"w-full flex flex-col gap-0.5 outline-none",emptyContent:["h-10","px-2","py-1.5","w-full","h-full","text-foreground-400","text-start"]}}),menuItem=tv$1({slots:{base:["flex","group","gap-2","items-center","justify-between","relative","px-2","py-1.5","w-full","h-full","box-border","rounded-small","subpixel-antialiased","outline-none","cursor-pointer","tap-highlight-transparent",...dataFocusVisibleClasses$1,"data-[focus-visible=true]:dark:ring-offset-background-content1"],wrapper:"w-full flex flex-col items-start justify-center",title:"flex-1 text-small font-normal",description:["w-full","text-tiny","text-foreground-500","group-hover:text-current"],selectedIcon:["text-inherit","w-3","h-3","flex-shrink-0"],shortcut:["px-1","py-0.5","rounded","font-sans","text-foreground-500","text-tiny","border-small","border-default-300","group-hover:border-current"]},variants:{variant:{solid:{base:""},bordered:{base:"border-medium border-transparent bg-transparent"},light:{base:"bg-transparent"},faded:{base:["border-small border-transparent hover:border-default data-[hover=true]:bg-default-100","data-[selectable=true]:focus:border-default data-[selectable=true]:focus:bg-default-100"]},flat:{base:""},shadow:{base:"data-[hover=true]:shadow-lg"}},color:{default:{},primary:{},secondary:{},success:{},warning:{},danger:{}},showDivider:{true:{base:["mb-1.5","after:content-['']","after:absolute","after:-bottom-1","after:left-0","after:right-0","after:h-divider","after:bg-divider"]},false:{}},isDisabled:{true:{base:"opacity-disabled pointer-events-none"}},disableAnimation:{true:{},false:{base:"data-[hover=true]:transition-colors"}},hasTitleTextChild:{true:{title:"truncate"}},hasDescriptionTextChild:{true:{description:"truncate"}}},defaultVariants:{variant:"solid",color:"default",showDivider:!1},compoundVariants:[{variant:"solid",color:"default",class:{base:["data-[hover=true]:bg-default","data-[hover=true]:text-default-foreground","data-[selectable=true]:focus:bg-default","data-[selectable=true]:focus:text-default-foreground"]}},{variant:"solid",color:"primary",class:{base:["data-[hover=true]:bg-primary data-[hover=true]:text-primary-foreground","data-[selectable=true]:focus:bg-primary data-[selectable=true]:focus:text-primary-foreground"]}},{variant:"solid",color:"secondary",class:{base:["data-[hover=true]:bg-secondary data-[hover=true]:text-secondary-foreground","data-[selectable=true]:focus:bg-secondary data-[selectable=true]:focus:text-secondary-foreground"]}},{variant:"solid",color:"success",class:{base:["data-[hover=true]:bg-success data-[hover=true]:text-success-foreground","data-[selectable=true]:focus:bg-success data-[selectable=true]:focus:text-success-foreground"]}},{variant:"solid",color:"warning",class:{base:["data-[hover=true]:bg-warning data-[hover=true]:text-warning-foreground","data-[selectable=true]:focus:bg-warning data-[selectable=true]:focus:text-warning-foreground"]}},{variant:"solid",color:"danger",class:{base:["data-[hover=true]:bg-danger data-[hover=true]:text-danger-foreground","data-[selectable=true]:focus:bg-danger data-[selectable=true]:focus:text-danger-foreground"]}},{variant:"shadow",color:"default",class:{base:["data-[hover=true]:shadow-default/50 data-[hover=true]:bg-default data-[hover=true]:text-default-foreground","data-[selectable=true]:focus:shadow-default/50 data-[selectable=true]:focus:bg-default data-[selectable=true]:focus:text-default-foreground"]}},{variant:"shadow",color:"primary",class:{base:["data-[hover=true]:shadow-primary/30 data-[hover=true]:bg-primary data-[hover=true]:text-primary-foreground","data-[selectable=true]:focus:shadow-primary/30 data-[selectable=true]:focus:bg-primary data-[selectable=true]:focus:text-primary-foreground"]}},{variant:"shadow",color:"secondary",class:{base:["data-[hover=true]:shadow-secondary/30 data-[hover=true]:bg-secondary data-[hover=true]:text-secondary-foreground","data-[selectable=true]:focus:shadow-secondary/30 data-[selectable=true]:focus:bg-secondary data-[selectable=true]:focus:text-secondary-foreground"]}},{variant:"shadow",color:"success",class:{base:["data-[hover=true]:shadow-success/30 data-[hover=true]:bg-success data-[hover=true]:text-success-foreground","data-[selectable=true]:focus:shadow-success/30 data-[selectable=true]:focus:bg-success data-[selectable=true]:focus:text-success-foreground"]}},{variant:"shadow",color:"warning",class:{base:["data-[hover=true]:shadow-warning/30 data-[hover=true]:bg-warning data-[hover=true]:text-warning-foreground","data-[selectable=true]:focus:shadow-warning/30 data-[selectable=true]:focus:bg-warning data-[selectable=true]:focus:text-warning-foreground"]}},{variant:"shadow",color:"danger",class:{base:["data-[hover=true]:shadow-danger/30 data-[hover=true]:bg-danger data-[hover=true]:text-danger-foreground","data-[selectable=true]:focus:shadow-danger/30 data-[selectable=true]:focus:bg-danger data-[selectable=true]:focus:text-danger-foreground"]}},{variant:"bordered",color:"default",class:{base:["data-[hover=true]:border-default","data-[selectable=true]:focus:border-default"]}},{variant:"bordered",color:"primary",class:{base:["data-[hover=true]:border-primary data-[hover=true]:text-primary","data-[selectable=true]:focus:border-primary data-[selectable=true]:focus:text-primary"]}},{variant:"bordered",color:"secondary",class:{base:["data-[hover=true]:border-secondary data-[hover=true]:text-secondary","data-[selectable=true]:focus:border-secondary data-[selectable=true]:focus:text-secondary"]}},{variant:"bordered",color:"success",class:{base:["data-[hover=true]:border-success data-[hover=true]:text-success","data-[selectable=true]:focus:border-success data-[selectable=true]:focus:text-success"]}},{variant:"bordered",color:"warning",class:{base:["data-[hover=true]:border-warning data-[hover=true]:text-warning","data-[selectable=true]:focus:border-warning data-[selectable=true]:focus:text-warning"]}},{variant:"bordered",color:"danger",class:{base:["data-[hover=true]:border-danger data-[hover=true]:text-danger","data-[selectable=true]:focus:border-danger data-[selectable=true]:focus:text-danger"]}},{variant:"flat",color:"default",class:{base:["data-[hover=true]:bg-default/40","data-[hover=true]:text-default-foreground","data-[selectable=true]:focus:bg-default/40","data-[selectable=true]:focus:text-default-foreground"]}},{variant:"flat",color:"primary",class:{base:["data-[hover=true]:bg-primary/20 data-[hover=true]:text-primary","data-[selectable=true]:focus:bg-primary/20 data-[selectable=true]:focus:text-primary"]}},{variant:"flat",color:"secondary",class:{base:["data-[hover=true]:bg-secondary/20 data-[hover=true]:text-secondary","data-[selectable=true]:focus:bg-secondary/20 data-[selectable=true]:focus:text-secondary"]}},{variant:"flat",color:"success",class:{base:["data-[hover=true]:bg-success/20 data-[hover=true]:text-success","data-[selectable=true]:focus:bg-success/20 data-[selectable=true]:focus:text-success"]}},{variant:"flat",color:"warning",class:{base:["data-[hover=true]:bg-warning/20 data-[hover=true]:text-warning","data-[selectable=true]:focus:bg-warning/20 data-[selectable=true]:focus:text-warning"]}},{variant:"flat",color:"danger",class:{base:["data-[hover=true]:bg-danger/20 data-[hover=true]:text-danger","data-[selectable=true]:focus:bg-danger/20 data-[selectable=true]:focus:text-danger"]}},{variant:"faded",color:"default",class:{base:["data-[hover=true]:text-default-foreground","data-[selectable=true]:focus:text-default-foreground"]}},{variant:"faded",color:"primary",class:{base:["data-[hover=true]:text-primary","data-[selectable=true]:focus:text-primary"]}},{variant:"faded",color:"secondary",class:{base:["data-[hover=true]:text-secondary","data-[selectable=true]:focus:text-secondary"]}},{variant:"faded",color:"success",class:{base:["data-[hover=true]:text-success","data-[selectable=true]:focus:text-success"]}},{variant:"faded",color:"warning",class:{base:["data-[hover=true]:text-warning","data-[selectable=true]:focus:text-warning"]}},{variant:"faded",color:"danger",class:{base:["data-[hover=true]:text-danger","data-[selectable=true]:focus:text-danger"]}},{variant:"light",color:"default",class:{base:["data-[hover=true]:text-default-500","data-[selectable=true]:focus:text-default-500"]}},{variant:"light",color:"primary",class:{base:["data-[hover=true]:text-primary","data-[selectable=true]:focus:text-primary"]}},{variant:"light",color:"secondary",class:{base:["data-[hover=true]:text-secondary","data-[selectable=true]:focus:text-secondary"]}},{variant:"light",color:"success",class:{base:["data-[hover=true]:text-success","data-[selectable=true]:focus:text-success"]}},{variant:"light",color:"warning",class:{base:["data-[hover=true]:text-warning","data-[selectable=true]:focus:text-warning"]}},{variant:"light",color:"danger",class:{base:["data-[hover=true]:text-danger","data-[selectable=true]:focus:text-danger"]}}]}),menuSection=tv$1({slots:{base:"relative mb-2",heading:"pl-1 text-tiny text-foreground-500",group:"data-[has-title=true]:pt-1",divider:"mt-2"}}),modal=tv$1({slots:{wrapper:["flex","w-screen","h-[100dvh]","fixed","inset-0","z-50","overflow-x-auto","justify-center","h-[--visual-viewport-height]"],base:["flex","flex-col","relative","bg-white","z-50","w-full","box-border","bg-content1","outline-none","mx-1","my-1","sm:mx-6","sm:my-16"],backdrop:"z-50",header:"flex py-4 px-6 flex-initial text-large font-semibold",body:"flex flex-1 flex-col gap-3 px-6 py-2",footer:"flex flex-row gap-2 px-6 py-4 justify-end",closeButton:["absolute","appearance-none","outline-none","select-none","top-1","end-1","p-2","text-foreground-500","rounded-full","hover:bg-default-100","active:bg-default-200","tap-highlight-transparent",...dataFocusVisibleClasses$1]},variants:{size:{xs:{base:"max-w-xs"},sm:{base:"max-w-sm"},md:{base:"max-w-md"},lg:{base:"max-w-lg"},xl:{base:"max-w-xl"},"2xl":{base:"max-w-2xl"},"3xl":{base:"max-w-3xl"},"4xl":{base:"max-w-4xl"},"5xl":{base:"max-w-5xl"},full:{base:"my-0 mx-0 sm:mx-0 sm:my-0 max-w-full h-[100dvh] min-h-[100dvh] !rounded-none"}},radius:{none:{base:"rounded-none"},sm:{base:"rounded-small"},md:{base:"rounded-medium"},lg:{base:"rounded-large"}},placement:{auto:{wrapper:"items-end sm:items-center"},center:{wrapper:"items-center sm:items-center"},top:{wrapper:"items-start sm:items-start"},"top-center":{wrapper:"items-start sm:items-center"},bottom:{wrapper:"items-end sm:items-end"},"bottom-center":{wrapper:"items-end sm:items-center"}},shadow:{sm:{base:"shadow-small"},md:{base:"shadow-medium"},lg:{base:"shadow-large"}},backdrop:{transparent:{backdrop:"hidden"},opaque:{backdrop:"bg-overlay/50 backdrop-opacity-disabled"},blur:{backdrop:"backdrop-blur-md backdrop-saturate-150 bg-overlay/30"}},scrollBehavior:{normal:{base:"overflow-y-hidden"},inside:{base:"max-h-[calc(100%_-_8rem)]",body:"overflow-y-auto"},outside:{wrapper:"items-start sm:items-start overflow-y-auto",base:"my-16"}},disableAnimation:{false:{wrapper:["[--scale-enter:100%]","[--scale-exit:100%]","[--slide-enter:0px]","[--slide-exit:80px]","sm:[--scale-enter:100%]","sm:[--scale-exit:103%]","sm:[--slide-enter:0px]","sm:[--slide-exit:0px]"]}}},defaultVariants:{size:"md",radius:"lg",shadow:"sm",placement:"auto",backdrop:"opaque",scrollBehavior:"normal"},compoundVariants:[{backdrop:["opaque","blur"],class:{backdrop:"w-screen h-screen fixed inset-0"}}]}),divider$1=tv$1({base:"shrink-0 bg-divider border-none",variants:{orientation:{horizontal:"w-full h-divider",vertical:"h-full w-divider"}},defaultVariants:{orientation:"horizontal"}}),dropdown=tv$1({base:["w-full","p-1","min-w-[200px]"]});tv$1({slots:{base:["flex","group","gap-2","items-center","justify-between","relative","px-2","py-1.5","w-full","h-full","box-border","rounded-small","outline-none","cursor-pointer","tap-highlight-transparent","data-[pressed=true]:opacity-70",...dataFocusVisibleClasses$1,"data-[focus-visible=true]:dark:ring-offset-background-content1"],wrapper:"w-full flex flex-col items-start justify-center",title:"flex-1 text-small font-normal truncate",description:["w-full","text-tiny","text-foreground-500","group-hover:text-current"],selectedIcon:["text-inherit","w-3","h-3","flex-shrink-0"],shortcut:["px-1","py-0.5","rounded","font-sans","text-foreground-500","text-tiny","border-small","border-default-300","group-hover:border-current"]},variants:{variant:{solid:{base:""},bordered:{base:"border-medium border-transparent bg-transparent"},light:{base:"bg-transparent"},faded:{base:"border-small border-transparent hover:border-default data-[hover=true]:bg-default-100"},flat:{base:""},shadow:{base:"data-[hover=true]:shadow-lg"}},color:{default:{},primary:{},secondary:{},success:{},warning:{},danger:{}},isDisabled:{true:{base:"opacity-disabled pointer-events-none"}},disableAnimation:{true:{},false:{}}},defaultVariants:{variant:"solid",color:"default"},compoundVariants:[{variant:"solid",color:"default",class:{base:"data-[hover=true]:bg-default data-[hover=true]:text-default-foreground"}},{variant:"solid",color:"primary",class:{base:"data-[hover=true]:bg-primary data-[hover=true]:text-primary-foreground"}},{variant:"solid",color:"secondary",class:{base:"data-[hover=true]:bg-secondary data-[hover=true]:text-secondary-foreground"}},{variant:"solid",color:"success",class:{base:"data-[hover=true]:bg-success data-[hover=true]:text-success-foreground"}},{variant:"solid",color:"warning",class:{base:"data-[hover=true]:bg-warning data-[hover=true]:text-warning-foreground"}},{variant:"solid",color:"danger",class:{base:"data-[hover=true]:bg-danger data-[hover=true]:text-danger-foreground"}},{variant:"shadow",color:"default",class:{base:"data-[hover=true]:shadow-default/50 data-[hover=true]:bg-default data-[hover=true]:text-default-foreground"}},{variant:"shadow",color:"primary",class:{base:"data-[hover=true]:shadow-primary/30 data-[hover=true]:bg-primary data-[hover=true]:text-primary-foreground"}},{variant:"shadow",color:"secondary",class:{base:"data-[hover=true]:shadow-secondary/30 data-[hover=true]:bg-secondary data-[hover=true]:text-secondary-foreground"}},{variant:"shadow",color:"success",class:{base:"data-[hover=true]:shadow-success/30 data-[hover=true]:bg-success data-[hover=true]:text-success-foreground"}},{variant:"shadow",color:"warning",class:{base:"data-[hover=true]:shadow-warning/30 data-[hover=true]:bg-warning data-[hover=true]:text-warning-foreground"}},{variant:"shadow",color:"danger",class:{base:"data-[hover=true]:shadow-danger/30 data-[hover=true]:bg-danger data-[hover=true]:text-danger-foreground"}},{variant:"bordered",color:"default",class:{base:"data-[hover=true]:border-default"}},{variant:"bordered",color:"primary",class:{base:"data-[hover=true]:border-primary data-[hover=true]:text-primary"}},{variant:"bordered",color:"secondary",class:{base:"data-[hover=true]:border-secondary data-[hover=true]:text-secondary"}},{variant:"bordered",color:"success",class:{base:"data-[hover=true]:border-success data-[hover=true]:text-success"}},{variant:"bordered",color:"warning",class:{base:"data-[hover=true]:border-warning data-[hover=true]:text-warning"}},{variant:"bordered",color:"danger",class:{base:"data-[hover=true]:border-danger data-[hover=true]:text-danger"}},{variant:"flat",color:"default",class:{base:"data-[hover=true]:bg-default/40 data-[hover=true]:text-default-foreground"}},{variant:"flat",color:"primary",class:{base:"data-[hover=true]:bg-primary/20 data-[hover=true]:text-primary"}},{variant:"flat",color:"secondary",class:{base:"data-[hover=true]:bg-secondary/20 data-[hover=true]:text-secondary"}},{variant:"flat",color:"success",class:{base:"data-[hover=true]:bg-success/20 data-[hover=true]:text-success "}},{variant:"flat",color:"warning",class:{base:"data-[hover=true]:bg-warning/20 data-[hover=true]:text-warning"}},{variant:"flat",color:"danger",class:{base:"data-[hover=true]:bg-danger/20 data-[hover=true]:text-danger"}},{variant:"faded",color:"default",class:{base:"data-[hover=true]:text-default-foreground"}},{variant:"faded",color:"primary",class:{base:"data-[hover=true]:text-primary"}},{variant:"faded",color:"secondary",class:{base:"data-[hover=true]:text-secondary"}},{variant:"faded",color:"success",class:{base:"data-[hover=true]:text-success"}},{variant:"faded",color:"warning",class:{base:"data-[hover=true]:text-warning"}},{variant:"faded",color:"danger",class:{base:"data-[hover=true]:text-danger"}},{variant:"light",color:"default",class:{base:"data-[hover=true]:text-default-500"}},{variant:"light",color:"primary",class:{base:"data-[hover=true]:text-primary"}},{variant:"light",color:"secondary",class:{base:"data-[hover=true]:text-secondary"}},{variant:"light",color:"success",class:{base:"data-[hover=true]:text-success"}},{variant:"light",color:"warning",class:{base:"data-[hover=true]:text-warning"}},{variant:"light",color:"danger",class:{base:"data-[hover=true]:text-danger"}}]});tv$1({slots:{base:"relative mb-2",heading:"pl-1 text-tiny text-foreground-500",group:"data-[has-title=true]:pt-1",divider:"mt-2"}});tv$1({base:"w-full flex flex-col gap-0.5 p-1"});var form=tv$1({base:"flex flex-col gap-2 items-start"}),button=tv$1({base:["z-0","group","relative","inline-flex","items-center","justify-center","box-border","appearance-none","outline-none","select-none","whitespace-nowrap","min-w-max","font-normal","subpixel-antialiased","overflow-hidden","tap-highlight-transparent","data-[pressed=true]:scale-[0.97]",...dataFocusVisibleClasses$1],variants:{variant:{solid:"",bordered:"border-medium bg-transparent",light:"bg-transparent",flat:"",faded:"border-medium",shadow:"",ghost:"border-medium bg-transparent"},size:{sm:"px-3 min-w-16 h-8 text-tiny gap-2 rounded-small",md:"px-4 min-w-20 h-10 text-small gap-2 rounded-medium",lg:"px-6 min-w-24 h-12 text-medium gap-3 rounded-large"},color:{default:"",primary:"",secondary:"",success:"",warning:"",danger:""},radius:{none:"rounded-none",sm:"rounded-small",md:"rounded-medium",lg:"rounded-large",full:"rounded-full"},fullWidth:{true:"w-full"},isDisabled:{true:"opacity-disabled pointer-events-none"},isInGroup:{true:"[&:not(:first-child):not(:last-child)]:rounded-none"},isIconOnly:{true:"px-0 !gap-0",false:"[&>svg]:max-w-[theme(spacing.8)]"},disableAnimation:{true:"!transition-none data-[pressed=true]:scale-100",false:"transition-transform-colors-opacity motion-reduce:transition-none"}},defaultVariants:{size:"md",variant:"solid",color:"default",fullWidth:!1,isDisabled:!1,isInGroup:!1},compoundVariants:[{variant:"solid",color:"default",class:colorVariants$1.solid.default},{variant:"solid",color:"primary",class:colorVariants$1.solid.primary},{variant:"solid",color:"secondary",class:colorVariants$1.solid.secondary},{variant:"solid",color:"success",class:colorVariants$1.solid.success},{variant:"solid",color:"warning",class:colorVariants$1.solid.warning},{variant:"solid",color:"danger",class:colorVariants$1.solid.danger},{variant:"shadow",color:"default",class:colorVariants$1.shadow.default},{variant:"shadow",color:"primary",class:colorVariants$1.shadow.primary},{variant:"shadow",color:"secondary",class:colorVariants$1.shadow.secondary},{variant:"shadow",color:"success",class:colorVariants$1.shadow.success},{variant:"shadow",color:"warning",class:colorVariants$1.shadow.warning},{variant:"shadow",color:"danger",class:colorVariants$1.shadow.danger},{variant:"bordered",color:"default",class:colorVariants$1.bordered.default},{variant:"bordered",color:"primary",class:colorVariants$1.bordered.primary},{variant:"bordered",color:"secondary",class:colorVariants$1.bordered.secondary},{variant:"bordered",color:"success",class:colorVariants$1.bordered.success},{variant:"bordered",color:"warning",class:colorVariants$1.bordered.warning},{variant:"bordered",color:"danger",class:colorVariants$1.bordered.danger},{variant:"flat",color:"default",class:colorVariants$1.flat.default},{variant:"flat",color:"primary",class:colorVariants$1.flat.primary},{variant:"flat",color:"secondary",class:colorVariants$1.flat.secondary},{variant:"flat",color:"success",class:colorVariants$1.flat.success},{variant:"flat",color:"warning",class:colorVariants$1.flat.warning},{variant:"flat",color:"danger",class:colorVariants$1.flat.danger},{variant:"faded",color:"default",class:colorVariants$1.faded.default},{variant:"faded",color:"primary",class:colorVariants$1.faded.primary},{variant:"faded",color:"secondary",class:colorVariants$1.faded.secondary},{variant:"faded",color:"success",class:colorVariants$1.faded.success},{variant:"faded",color:"warning",class:colorVariants$1.faded.warning},{variant:"faded",color:"danger",class:colorVariants$1.faded.danger},{variant:"light",color:"default",class:[colorVariants$1.light.default,"data-[hover=true]:bg-default/40"]},{variant:"light",color:"primary",class:[colorVariants$1.light.primary,"data-[hover=true]:bg-primary/20"]},{variant:"light",color:"secondary",class:[colorVariants$1.light.secondary,"data-[hover=true]:bg-secondary/20"]},{variant:"light",color:"success",class:[colorVariants$1.light.success,"data-[hover=true]:bg-success/20"]},{variant:"light",color:"warning",class:[colorVariants$1.light.warning,"data-[hover=true]:bg-warning/20"]},{variant:"light",color:"danger",class:[colorVariants$1.light.danger,"data-[hover=true]:bg-danger/20"]},{variant:"ghost",color:"default",class:[colorVariants$1.ghost.default,"data-[hover=true]:!bg-default"]},{variant:"ghost",color:"primary",class:[colorVariants$1.ghost.primary,"data-[hover=true]:!bg-primary data-[hover=true]:!text-primary-foreground"]},{variant:"ghost",color:"secondary",class:[colorVariants$1.ghost.secondary,"data-[hover=true]:!bg-secondary data-[hover=true]:!text-secondary-foreground"]},{variant:"ghost",color:"success",class:[colorVariants$1.ghost.success,"data-[hover=true]:!bg-success data-[hover=true]:!text-success-foreground"]},{variant:"ghost",color:"warning",class:[colorVariants$1.ghost.warning,"data-[hover=true]:!bg-warning data-[hover=true]:!text-warning-foreground"]},{variant:"ghost",color:"danger",class:[colorVariants$1.ghost.danger,"data-[hover=true]:!bg-danger data-[hover=true]:!text-danger-foreground"]},{isInGroup:!0,class:"rounded-none first:rounded-s-medium last:rounded-e-medium"},{isInGroup:!0,size:"sm",class:"rounded-none first:rounded-s-small last:rounded-e-small"},{isInGroup:!0,size:"md",class:"rounded-none first:rounded-s-medium last:rounded-e-medium"},{isInGroup:!0,size:"lg",class:"rounded-none first:rounded-s-large last:rounded-e-large"},{isInGroup:!0,isRounded:!0,class:"rounded-none first:rounded-s-full last:rounded-e-full"},{isInGroup:!0,radius:"none",class:"rounded-none first:rounded-s-none last:rounded-e-none"},{isInGroup:!0,radius:"sm",class:"rounded-none first:rounded-s-small last:rounded-e-small"},{isInGroup:!0,radius:"md",class:"rounded-none first:rounded-s-medium last:rounded-e-medium"},{isInGroup:!0,radius:"lg",class:"rounded-none first:rounded-s-large last:rounded-e-large"},{isInGroup:!0,radius:"full",class:"rounded-none first:rounded-s-full last:rounded-e-full"},{isInGroup:!0,variant:["ghost","bordered"],color:"default",className:collapseAdjacentVariantBorders.default},{isInGroup:!0,variant:["ghost","bordered"],color:"primary",className:collapseAdjacentVariantBorders.primary},{isInGroup:!0,variant:["ghost","bordered"],color:"secondary",className:collapseAdjacentVariantBorders.secondary},{isInGroup:!0,variant:["ghost","bordered"],color:"success",className:collapseAdjacentVariantBorders.success},{isInGroup:!0,variant:["ghost","bordered"],color:"warning",className:collapseAdjacentVariantBorders.warning},{isInGroup:!0,variant:["ghost","bordered"],color:"danger",className:collapseAdjacentVariantBorders.danger},{isIconOnly:!0,size:"sm",class:"min-w-8 w-8 h-8"},{isIconOnly:!0,size:"md",class:"min-w-10 w-10 h-10"},{isIconOnly:!0,size:"lg",class:"min-w-12 w-12 h-12"},{variant:["solid","faded","flat","bordered","shadow"],class:"data-[hover=true]:opacity-hover"}]});tv$1({base:"inline-flex items-center justify-center h-auto",variants:{fullWidth:{true:"w-full"}},defaultVariants:{fullWidth:!1}});var card$1=tv$1({slots:{base:["flex","flex-col","relative","overflow-hidden","h-auto","outline-none","text-foreground","box-border","bg-content1",...dataFocusVisibleClasses$1],header:["flex","p-3","z-10","w-full","justify-start","items-center","shrink-0","overflow-inherit","color-inherit","subpixel-antialiased"],body:["relative","flex","flex-1","w-full","p-3","flex-auto","flex-col","place-content-inherit","align-items-inherit","h-auto","break-words","text-left","overflow-y-auto","subpixel-antialiased"],footer:["p-3","h-auto","flex","w-full","items-center","overflow-hidden","color-inherit","subpixel-antialiased"]},variants:{shadow:{none:{base:"shadow-none"},sm:{base:"shadow-small"},md:{base:"shadow-medium"},lg:{base:"shadow-large"}},radius:{none:{base:"rounded-none",header:"rounded-none",footer:"rounded-none"},sm:{base:"rounded-small",header:"rounded-t-small",footer:"rounded-b-small"},md:{base:"rounded-medium",header:"rounded-t-medium",footer:"rounded-b-medium"},lg:{base:"rounded-large",header:"rounded-t-large",footer:"rounded-b-large"}},fullWidth:{true:{base:"w-full"}},isHoverable:{true:{base:"data-[hover=true]:bg-content2 dark:data-[hover=true]:bg-content2"}},isPressable:{true:{base:"cursor-pointer"}},isBlurred:{true:{base:["bg-background/80","dark:bg-background/20","backdrop-blur-md","backdrop-saturate-150"]}},isFooterBlurred:{true:{footer:["bg-background/10","backdrop-blur","backdrop-saturate-150"]}},isDisabled:{true:{base:"opacity-disabled cursor-not-allowed"}},disableAnimation:{true:"",false:{base:"transition-transform-background motion-reduce:transition-none"}}},compoundVariants:[{isPressable:!0,class:"data-[pressed=true]:scale-[0.97] tap-highlight-transparent"}],defaultVariants:{radius:"lg",shadow:"md",fullWidth:!1,isHoverable:!1,isPressable:!1,isDisabled:!1,isFooterBlurred:!1}}),checkbox=tv$1({slots:{base:"group relative max-w-fit inline-flex items-center justify-start cursor-pointer tap-highlight-transparent p-2 -m-2 select-none",wrapper:["relative","inline-flex","items-center","justify-center","flex-shrink-0","overflow-hidden","before:content-['']","before:absolute","before:inset-0","before:border-solid","before:border-2","before:box-border","before:border-default","after:content-['']","after:absolute","after:inset-0","after:scale-50","after:opacity-0","after:origin-center","group-data-[selected=true]:after:scale-100","group-data-[selected=true]:after:opacity-100","group-data-[hover=true]:before:bg-default-100",...groupDataFocusVisibleClasses],hiddenInput:hiddenInputClasses,icon:"z-10 w-4 h-3 opacity-0 group-data-[selected=true]:opacity-100 pointer-events-none",label:"relative text-foreground select-none"},variants:{color:{default:{wrapper:"after:bg-default after:text-default-foreground text-default-foreground"},primary:{wrapper:"after:bg-primary after:text-primary-foreground text-primary-foreground"},secondary:{wrapper:"after:bg-secondary after:text-secondary-foreground text-secondary-foreground"},success:{wrapper:"after:bg-success after:text-success-foreground text-success-foreground"},warning:{wrapper:"after:bg-warning after:text-warning-foreground text-warning-foreground"},danger:{wrapper:"after:bg-danger after:text-danger-foreground text-danger-foreground"}},size:{sm:{wrapper:["w-4 h-4 me-2","rounded-[calc(theme(borderRadius.medium)*0.5)]","before:rounded-[calc(theme(borderRadius.medium)*0.5)]","after:rounded-[calc(theme(borderRadius.medium)*0.5)]"],label:"text-small",icon:"w-3 h-2"},md:{wrapper:["w-5 h-5 me-2","rounded-[calc(theme(borderRadius.medium)*0.6)]","before:rounded-[calc(theme(borderRadius.medium)*0.6)]","after:rounded-[calc(theme(borderRadius.medium)*0.6)]"],label:"text-medium",icon:"w-4 h-3"},lg:{wrapper:["w-6 h-6 me-2","rounded-[calc(theme(borderRadius.medium)*0.7)]","before:rounded-[calc(theme(borderRadius.medium)*0.7)]","after:rounded-[calc(theme(borderRadius.medium)*0.7)]"],label:"text-large",icon:"w-5 h-4"}},radius:{none:{wrapper:"rounded-none before:rounded-none after:rounded-none"},sm:{wrapper:["rounded-[calc(theme(borderRadius.medium)*0.5)]","before:rounded-[calc(theme(borderRadius.medium)*0.5)]","after:rounded-[calc(theme(borderRadius.medium)*0.5)]"]},md:{wrapper:["rounded-[calc(theme(borderRadius.medium)*0.6)]","before:rounded-[calc(theme(borderRadius.medium)*0.6)]","after:rounded-[calc(theme(borderRadius.medium)*0.6)]"]},lg:{wrapper:["rounded-[calc(theme(borderRadius.medium)*0.7)]","before:rounded-[calc(theme(borderRadius.medium)*0.7)]","after:rounded-[calc(theme(borderRadius.medium)*0.7)]"]},full:{wrapper:"rounded-full before:rounded-full after:rounded-full"}},lineThrough:{true:{label:["inline-flex","items-center","justify-center","before:content-['']","before:absolute","before:bg-foreground","before:w-0","before:h-0.5","group-data-[selected=true]:opacity-60","group-data-[selected=true]:before:w-full"]}},isDisabled:{true:{base:"opacity-disabled pointer-events-none"}},isInvalid:{true:{wrapper:"before:border-danger",label:"text-danger"}},disableAnimation:{true:{wrapper:"transition-none",icon:"transition-none",label:"transition-none"},false:{wrapper:["before:transition-colors","group-data-[pressed=true]:scale-95","transition-transform","after:transition-transform-opacity","after:!ease-linear","after:!duration-200","motion-reduce:transition-none"],icon:"transition-opacity motion-reduce:transition-none",label:"transition-colors-opacity before:transition-width motion-reduce:transition-none"}}},defaultVariants:{color:"primary",size:"md",isDisabled:!1,lineThrough:!1}});tv$1({slots:{base:"relative flex flex-col gap-2",label:"relative text-medium text-foreground-500",wrapper:"flex flex-col flex-wrap gap-2 data-[orientation=horizontal]:flex-row",description:"text-small text-foreground-400",errorMessage:"text-small text-danger"},variants:{isRequired:{true:{label:"after:content-['*'] after:text-danger after:ml-0.5"}},isInvalid:{true:{description:"text-danger"}},disableAnimation:{true:{},false:{description:"transition-colors !duration-150 motion-reduce:transition-none"}}},defaultVariants:{isInvalid:!1,isRequired:!1}});var chip=tv$1({slots:{base:["relative","max-w-fit","min-w-min","inline-flex","items-center","justify-between","box-border","whitespace-nowrap"],content:"flex-1 text-inherit font-normal",dot:["w-2","h-2","ml-1","rounded-full"],avatar:"flex-shrink-0",closeButton:["z-10","appearance-none","outline-none","select-none","transition-opacity","opacity-70","hover:opacity-100","cursor-pointer","active:opacity-disabled","tap-highlight-transparent"]},variants:{variant:{solid:{},bordered:{base:"border-medium bg-transparent"},light:{base:"bg-transparent"},flat:{},faded:{base:"border-medium"},shadow:{},dot:{base:"border-medium border-default text-foreground bg-transparent"}},color:{default:{dot:"bg-default-400"},primary:{dot:"bg-primary"},secondary:{dot:"bg-secondary"},success:{dot:"bg-success"},warning:{dot:"bg-warning"},danger:{dot:"bg-danger"}},size:{sm:{base:"px-1 h-6 text-tiny",content:"px-1",closeButton:"text-medium",avatar:"w-4 h-4"},md:{base:"px-1 h-7 text-small",content:"px-2",closeButton:"text-large",avatar:"w-5 h-5"},lg:{base:"px-2 h-8 text-medium",content:"px-2",closeButton:"text-xl",avatar:"w-6 h-6"}},radius:{none:{base:"rounded-none"},sm:{base:"rounded-small"},md:{base:"rounded-medium"},lg:{base:"rounded-large"},full:{base:"rounded-full"}},isOneChar:{true:{},false:{}},isCloseable:{true:{},false:{}},hasStartContent:{true:{}},hasEndContent:{true:{}},isDisabled:{true:{base:"opacity-disabled pointer-events-none"}},isCloseButtonFocusVisible:{true:{closeButton:[...ringClasses,"ring-1","rounded-full"]}}},defaultVariants:{variant:"solid",color:"default",size:"md",radius:"full",isDisabled:!1},compoundVariants:[{variant:"solid",color:"default",class:{base:colorVariants$1.solid.default}},{variant:"solid",color:"primary",class:{base:colorVariants$1.solid.primary}},{variant:"solid",color:"secondary",class:{base:colorVariants$1.solid.secondary}},{variant:"solid",color:"success",class:{base:colorVariants$1.solid.success}},{variant:"solid",color:"warning",class:{base:colorVariants$1.solid.warning}},{variant:"solid",color:"danger",class:{base:colorVariants$1.solid.danger}},{variant:"shadow",color:"default",class:{base:colorVariants$1.shadow.default}},{variant:"shadow",color:"primary",class:{base:colorVariants$1.shadow.primary}},{variant:"shadow",color:"secondary",class:{base:colorVariants$1.shadow.secondary}},{variant:"shadow",color:"success",class:{base:colorVariants$1.shadow.success}},{variant:"shadow",color:"warning",class:{base:colorVariants$1.shadow.warning}},{variant:"shadow",color:"danger",class:{base:colorVariants$1.shadow.danger}},{variant:"bordered",color:"default",class:{base:colorVariants$1.bordered.default}},{variant:"bordered",color:"primary",class:{base:colorVariants$1.bordered.primary}},{variant:"bordered",color:"secondary",class:{base:colorVariants$1.bordered.secondary}},{variant:"bordered",color:"success",class:{base:colorVariants$1.bordered.success}},{variant:"bordered",color:"warning",class:{base:colorVariants$1.bordered.warning}},{variant:"bordered",color:"danger",class:{base:colorVariants$1.bordered.danger}},{variant:"flat",color:"default",class:{base:colorVariants$1.flat.default}},{variant:"flat",color:"primary",class:{base:colorVariants$1.flat.primary}},{variant:"flat",color:"secondary",class:{base:colorVariants$1.flat.secondary}},{variant:"flat",color:"success",class:{base:colorVariants$1.flat.success}},{variant:"flat",color:"warning",class:{base:colorVariants$1.flat.warning}},{variant:"flat",color:"danger",class:{base:colorVariants$1.flat.danger}},{variant:"faded",color:"default",class:{base:colorVariants$1.faded.default}},{variant:"faded",color:"primary",class:{base:colorVariants$1.faded.primary}},{variant:"faded",color:"secondary",class:{base:colorVariants$1.faded.secondary}},{variant:"faded",color:"success",class:{base:colorVariants$1.faded.success}},{variant:"faded",color:"warning",class:{base:colorVariants$1.faded.warning}},{variant:"faded",color:"danger",class:{base:colorVariants$1.faded.danger}},{variant:"light",color:"default",class:{base:colorVariants$1.light.default}},{variant:"light",color:"primary",class:{base:colorVariants$1.light.primary}},{variant:"light",color:"secondary",class:{base:colorVariants$1.light.secondary}},{variant:"light",color:"success",class:{base:colorVariants$1.light.success}},{variant:"light",color:"warning",class:{base:colorVariants$1.light.warning}},{variant:"light",color:"danger",class:{base:colorVariants$1.light.danger}},{isOneChar:!0,hasStartContent:!1,hasEndContent:!1,size:"sm",class:{base:"w-5 h-5 min-w-5 min-h-5"}},{isOneChar:!0,hasStartContent:!1,hasEndContent:!1,size:"md",class:{base:"w-6 h-6 min-w-6 min-h-6"}},{isOneChar:!0,hasStartContent:!1,hasEndContent:!1,size:"lg",class:{base:"w-7 h-7 min-w-7 min-h-7"}},{isOneChar:!0,isCloseable:!1,hasStartContent:!1,hasEndContent:!1,class:{base:"px-0 justify-center",content:"px-0 flex-none"}},{isOneChar:!0,isCloseable:!0,hasStartContent:!1,hasEndContent:!1,class:{base:"w-auto"}},{isOneChar:!0,variant:"dot",class:{base:"w-auto h-7 px-1 items-center",content:"px-2"}},{hasStartContent:!0,size:"sm",class:{content:"pl-0.5"}},{hasStartContent:!0,size:["md","lg"],class:{content:"pl-1"}},{hasEndContent:!0,size:"sm",class:{content:"pr-0.5"}},{hasEndContent:!0,size:["md","lg"],class:{content:"pr-1"}}]}),avatar=tv$1({slots:{base:["flex","relative","justify-center","items-center","box-border","overflow-hidden","align-middle","text-white","z-0",...dataFocusVisibleClasses$1],img:["flex","object-cover","w-full","h-full","transition-opacity","!duration-500","opacity-0","data-[loaded=true]:opacity-100"],fallback:[...translateCenterClasses,"flex","items-center","justify-center"],name:[...translateCenterClasses,"font-normal","text-center","text-inherit"],icon:[...translateCenterClasses,"flex","items-center","justify-center","text-inherit","w-full","h-full"]},variants:{size:{sm:{base:"w-8 h-8 text-tiny"},md:{base:"w-10 h-10 text-tiny"},lg:{base:"w-14 h-14 text-small"}},color:{default:{base:colorVariants$1.solid.default},primary:{base:colorVariants$1.solid.primary},secondary:{base:colorVariants$1.solid.secondary},success:{base:colorVariants$1.solid.success},warning:{base:colorVariants$1.solid.warning},danger:{base:colorVariants$1.solid.danger}},radius:{none:{base:"rounded-none"},sm:{base:"rounded-small"},md:{base:"rounded-medium"},lg:{base:"rounded-large"},full:{base:"rounded-full"}},isBordered:{true:{base:"ring-2 ring-offset-2 ring-offset-background dark:ring-offset-background-dark"}},isDisabled:{true:{base:"opacity-disabled"}},isInGroup:{true:{base:["-ms-2 data-[hover=true]:-translate-x-3 rtl:data-[hover=true]:translate-x-3 transition-transform","data-[focus-visible=true]:-translate-x-3 rtl:data-[focus-visible=true]:translate-x-3"]}},isInGridGroup:{true:{base:"m-0 data-[hover=true]:translate-x-0"}},disableAnimation:{true:{base:"transition-none",img:"transition-none"},false:{}}},defaultVariants:{size:"md",color:"default",radius:"full"},compoundVariants:[{color:"default",isBordered:!0,class:{base:"ring-default"}},{color:"primary",isBordered:!0,class:{base:"ring-primary"}},{color:"secondary",isBordered:!0,class:{base:"ring-secondary"}},{color:"success",isBordered:!0,class:{base:"ring-success"}},{color:"warning",isBordered:!0,class:{base:"ring-warning"}},{color:"danger",isBordered:!0,class:{base:"ring-danger"}}]});tv$1({slots:{base:"flex items-center justify-center h-auto w-max",count:"hover:-translate-x-0"},variants:{isGrid:{true:"inline-grid grid-cols-4 gap-3"}}});var badge=tv$1({slots:{base:["relative","inline-flex","shrink-0"],badge:["flex","z-10","flex-wrap","absolute","box-border","rounded-full","whitespace-nowrap","place-content-center","origin-center","items-center","text-inherit","select-none","font-regular","scale-100","opacity-100","subpixel-antialiased","data-[invisible=true]:scale-0","data-[invisible=true]:opacity-0"]},variants:{variant:{solid:{},flat:{},faded:{badge:"border-medium"},shadow:{}},color:{default:{},primary:{},secondary:{},success:{},warning:{},danger:{}},size:{sm:{badge:"px-1 text-tiny"},md:{badge:"px-1 text-small"},lg:{badge:"px-1 text-small"}},placement:{"top-right":{},"top-left":{},"bottom-right":{},"bottom-left":{}},shape:{circle:{},rectangle:{}},isInvisible:{true:{}},isOneChar:{true:{badge:"px-0"}},isDot:{true:{}},disableAnimation:{true:{badge:"transition-none"},false:{badge:"transition-transform-opacity !ease-soft-spring !duration-300"}},showOutline:{true:{badge:"border-2 border-background"},false:{badge:"border-transparent border-0"}}},defaultVariants:{variant:"solid",color:"default",size:"md",shape:"rectangle",placement:"top-right",showOutline:!0,isInvisible:!1},compoundVariants:[{variant:"solid",color:"default",class:{badge:colorVariants$1.solid.default}},{variant:"solid",color:"primary",class:{badge:colorVariants$1.solid.primary}},{variant:"solid",color:"secondary",class:{badge:colorVariants$1.solid.secondary}},{variant:"solid",color:"success",class:{badge:colorVariants$1.solid.success}},{variant:"solid",color:"warning",class:{badge:colorVariants$1.solid.warning}},{variant:"solid",color:"danger",class:{badge:colorVariants$1.solid.danger}},{variant:"shadow",color:"default",class:{badge:colorVariants$1.shadow.default}},{variant:"shadow",color:"primary",class:{badge:colorVariants$1.shadow.primary}},{variant:"shadow",color:"secondary",class:{badge:colorVariants$1.shadow.secondary}},{variant:"shadow",color:"success",class:{badge:colorVariants$1.shadow.success}},{variant:"shadow",color:"warning",class:{badge:colorVariants$1.shadow.warning}},{variant:"shadow",color:"danger",class:{badge:colorVariants$1.shadow.danger}},{variant:"flat",color:"default",class:{badge:colorVariants$1.flat.default}},{variant:"flat",color:"primary",class:{badge:colorVariants$1.flat.primary}},{variant:"flat",color:"secondary",class:{badge:colorVariants$1.flat.secondary}},{variant:"flat",color:"success",class:{badge:colorVariants$1.flat.success}},{variant:"flat",color:"warning",class:{badge:colorVariants$1.flat.warning}},{variant:"flat",color:"danger",class:{badge:colorVariants$1.flat.danger}},{variant:"faded",color:"default",class:{badge:colorVariants$1.faded.default}},{variant:"faded",color:"primary",class:{badge:colorVariants$1.faded.primary}},{variant:"faded",color:"secondary",class:{badge:colorVariants$1.faded.secondary}},{variant:"faded",color:"success",class:{badge:colorVariants$1.faded.success}},{variant:"faded",color:"warning",class:{badge:colorVariants$1.faded.warning}},{variant:"faded",color:"danger",class:{badge:colorVariants$1.faded.danger}},{isOneChar:!0,size:"sm",class:{badge:"w-4 h-4 min-w-4 min-h-4"}},{isOneChar:!0,size:"md",class:{badge:"w-5 h-5 min-w-5 min-h-5"}},{isOneChar:!0,size:"lg",class:{badge:"w-6 h-6 min-w-6 min-h-6"}},{isDot:!0,size:"sm",class:{badge:"w-3 h-3 min-w-3 min-h-3"}},{isDot:!0,size:"md",class:{badge:"w-3.5 h-3.5 min-w-3.5 min-h-3.5"}},{isDot:!0,size:"lg",class:{badge:"w-4 h-4 min-w-4 min-h-4"}},{placement:"top-right",shape:"rectangle",class:{badge:"top-[5%] right-[5%] translate-x-1/2 -translate-y-1/2"}},{placement:"top-left",shape:"rectangle",class:{badge:"top-[5%] left-[5%] -translate-x-1/2 -translate-y-1/2"}},{placement:"bottom-right",shape:"rectangle",class:{badge:"bottom-[5%] right-[5%] translate-x-1/2 translate-y-1/2"}},{placement:"bottom-left",shape:"rectangle",class:{badge:"bottom-[5%] left-[5%] -translate-x-1/2 translate-y-1/2"}},{placement:"top-right",shape:"circle",class:{badge:"top-[10%] right-[10%] translate-x-1/2 -translate-y-1/2"}},{placement:"top-left",shape:"circle",class:{badge:"top-[10%] left-[10%] -translate-x-1/2 -translate-y-1/2"}},{placement:"bottom-right",shape:"circle",class:{badge:"bottom-[10%] right-[10%] translate-x-1/2 translate-y-1/2"}},{placement:"bottom-left",shape:"circle",class:{badge:"bottom-[10%] left-[10%] -translate-x-1/2 translate-y-1/2"}}]}),mergeClasses$2=(et,_e)=>{if(!et&&!_e)return{};const tt=new Set([...Object.keys(et||{}),...Object.keys(_e||{})]);return Array.from(tt).reduce((rt,nt)=>({...rt,[nt]:clsx$2(et==null?void 0:et[nt],_e==null?void 0:_e[nt])}),{})};const scriptRel="modulepreload",assetsURL=function(et){return"/"+et},seen={},__vitePreload=function(_e,tt,rt){let nt=Promise.resolve();if(tt&&tt.length>0){const st=document.getElementsByTagName("link");nt=Promise.all(tt.map(it=>{if(it=assetsURL(it),it in seen)return;seen[it]=!0;const at=it.endsWith(".css"),ot=at?'[rel="stylesheet"]':"";if(!!rt)for(let ut=st.length-1;ut>=0;ut--){const dt=st[ut];if(dt.href===it&&(!at||dt.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${it}"]${ot}`))return;const ct=document.createElement("link");if(ct.rel=at?"stylesheet":scriptRel,at||(ct.as="script",ct.crossOrigin=""),ct.href=it,document.head.appendChild(ct),at)return new Promise((ut,dt)=>{ct.addEventListener("load",ut),ct.addEventListener("error",()=>dt(new Error(`Unable to preload CSS for ${it}`)))})}))}return nt.then(()=>_e()).catch(st=>{const it=new Event("vite:preloadError",{cancelable:!0});if(it.payload=st,window.dispatchEvent(it),!it.defaultPrevented)throw st})};function $701a24aa0da5b062$export$ea18c227d4417cc3(et,_e){let{elementType:tt="button",isDisabled:rt,onPress:nt,onPressStart:st,onPressEnd:it,onPressUp:at,onPressChange:ot,preventFocusOnPress:lt,allowFocusWhenDisabled:ct,onClick:ut,href:dt,target:ft,rel:ht,type:pt="button"}=et,gt;tt==="button"?gt={type:pt,disabled:rt}:gt={role:"button",tabIndex:rt?void 0:0,href:tt==="a"&&!rt?dt:void 0,target:tt==="a"?ft:void 0,type:tt==="input"?pt:void 0,disabled:tt==="input"?rt:void 0,"aria-disabled":!rt||tt==="input"?void 0:rt,rel:tt==="a"?ht:void 0};let{pressProps:mt,isPressed:bt}=$f6c31cce2adf654f$export$45712eceda6fad21({onPressStart:st,onPressEnd:it,onPressChange:ot,onPress:nt,onPressUp:at,isDisabled:rt,preventFocusOnPress:lt,ref:_e}),{focusableProps:vt}=$e6afbd83fe6ebbd2$export$4c014de7c8940b4c(et,_e);ct&&(vt.tabIndex=rt?-1:vt.tabIndex);let yt=$3ef42575df84b30b$export$9d1611c77c2fe928(vt,mt,$65484d02dcb7eb3e$export$457c3d6518dd4c6f(et,{labelable:!0}));return{isPressed:bt,buttonProps:$3ef42575df84b30b$export$9d1611c77c2fe928(gt,yt,{"aria-haspopup":et["aria-haspopup"],"aria-expanded":et["aria-expanded"],"aria-controls":et["aria-controls"],"aria-pressed":et["aria-pressed"],onClick:xt=>{ut&&(ut(xt),console.warn("onClick is deprecated, please use onPress"))}})}}function $feb5ffebff200149$export$d3e3bd3e26688c04(et){return $c87311424ea30a05$export$e1865c3bedcd822b()?et.altKey:et.ctrlKey}function $feb5ffebff200149$export$16792effe837dba3(et){return $c87311424ea30a05$export$9ac100e40613ea10()?et.metaKey:et.ctrlKey}const $fb3050f43d946246$var$TYPEAHEAD_DEBOUNCE_WAIT_MS=1e3;function $fb3050f43d946246$export$e32c88dfddc6e1d8(et){let{keyboardDelegate:_e,selectionManager:tt,onTypeSelect:rt}=et,nt=reactExports.useRef({search:"",timeout:void 0}).current,st=it=>{let at=$fb3050f43d946246$var$getStringForKey(it.key);if(!(!at||it.ctrlKey||it.metaKey||!it.currentTarget.contains(it.target))){if(at===" "&&nt.search.trim().length>0&&(it.preventDefault(),"continuePropagation"in it||it.stopPropagation()),nt.search+=at,_e.getKeyForSearch!=null){let ot=_e.getKeyForSearch(nt.search,tt.focusedKey);ot==null&&(ot=_e.getKeyForSearch(nt.search)),ot!=null&&(tt.setFocusedKey(ot),rt&&rt(ot))}clearTimeout(nt.timeout),nt.timeout=setTimeout(()=>{nt.search=""},$fb3050f43d946246$var$TYPEAHEAD_DEBOUNCE_WAIT_MS)}};return{typeSelectProps:{onKeyDownCapture:_e.getKeyForSearch?st:void 0}}}function $fb3050f43d946246$var$getStringForKey(et){return et.length===1||!/^[A-Z]/i.test(et)?et:""}function $ae20dd8cbca75726$export$d6daf82dcd84e87c(et){let{selectionManager:_e,keyboardDelegate:tt,ref:rt,autoFocus:nt=!1,shouldFocusWrap:st=!1,disallowEmptySelection:it=!1,disallowSelectAll:at=!1,selectOnFocus:ot=_e.selectionBehavior==="replace",disallowTypeAhead:lt=!1,shouldUseVirtualFocus:ct,allowsTabNavigation:ut=!1,isVirtualized:dt,scrollRef:ft=rt,linkBehavior:ht="action"}=et,{direction:pt}=$18f2051aff69b9bf$export$43bb16f9c6d9e3f7(),gt=$ea8dcbcb9ea1b556$export$9a302a45f65d0572(),mt=St=>{var Pt;if(St.altKey&&St.key==="Tab"&&St.preventDefault(),!(!((Pt=rt.current)===null||Pt===void 0)&&Pt.contains(St.target)))return;const At=(Bt,Qt)=>{if(Bt!=null){if(_e.isLink(Bt)&&ht==="selection"&&ot&&!$feb5ffebff200149$export$d3e3bd3e26688c04(St)){var Nt;reactDomExports.flushSync(()=>{_e.setFocusedKey(Bt,Qt)});let Xt=(Nt=ft.current)===null||Nt===void 0?void 0:Nt.querySelector(`[data-key="${CSS.escape(Bt.toString())}"]`),Zt=_e.getItemProps(Bt);Xt&&gt.open(Xt,St,Zt.href,Zt.routerOptions);return}if(_e.setFocusedKey(Bt,Qt),_e.isLink(Bt)&&ht==="override")return;St.shiftKey&&_e.selectionMode==="multiple"?_e.extendSelection(Bt):ot&&!$feb5ffebff200149$export$d3e3bd3e26688c04(St)&&_e.replaceSelection(Bt)}};switch(St.key){case"ArrowDown":if(tt.getKeyBelow){var Rt,Ct,Dt;let Bt=_e.focusedKey!=null?(Rt=tt.getKeyBelow)===null||Rt===void 0?void 0:Rt.call(tt,_e.focusedKey):(Ct=tt.getFirstKey)===null||Ct===void 0?void 0:Ct.call(tt);Bt==null&&st&&(Bt=(Dt=tt.getFirstKey)===null||Dt===void 0?void 0:Dt.call(tt,_e.focusedKey)),Bt!=null&&(St.preventDefault(),At(Bt))}break;case"ArrowUp":if(tt.getKeyAbove){var Ft,Mt,Ot;let Bt=_e.focusedKey!=null?(Ft=tt.getKeyAbove)===null||Ft===void 0?void 0:Ft.call(tt,_e.focusedKey):(Mt=tt.getLastKey)===null||Mt===void 0?void 0:Mt.call(tt);Bt==null&&st&&(Bt=(Ot=tt.getLastKey)===null||Ot===void 0?void 0:Ot.call(tt,_e.focusedKey)),Bt!=null&&(St.preventDefault(),At(Bt))}break;case"ArrowLeft":if(tt.getKeyLeftOf){var jt,Ut,_t;let Bt=_e.focusedKey!=null?(jt=tt.getKeyLeftOf)===null||jt===void 0?void 0:jt.call(tt,_e.focusedKey):null;Bt==null&&st&&(Bt=pt==="rtl"?(Ut=tt.getFirstKey)===null||Ut===void 0?void 0:Ut.call(tt,_e.focusedKey):(_t=tt.getLastKey)===null||_t===void 0?void 0:_t.call(tt,_e.focusedKey)),Bt!=null&&(St.preventDefault(),At(Bt,pt==="rtl"?"first":"last"))}break;case"ArrowRight":if(tt.getKeyRightOf){var It,Wt,Kt;let Bt=_e.focusedKey!=null?(It=tt.getKeyRightOf)===null||It===void 0?void 0:It.call(tt,_e.focusedKey):null;Bt==null&&st&&(Bt=pt==="rtl"?(Wt=tt.getLastKey)===null||Wt===void 0?void 0:Wt.call(tt,_e.focusedKey):(Kt=tt.getFirstKey)===null||Kt===void 0?void 0:Kt.call(tt,_e.focusedKey)),Bt!=null&&(St.preventDefault(),At(Bt,pt==="rtl"?"last":"first"))}break;case"Home":if(tt.getFirstKey){St.preventDefault();let Bt=tt.getFirstKey(_e.focusedKey,$feb5ffebff200149$export$16792effe837dba3(St));_e.setFocusedKey(Bt),Bt!=null&&($feb5ffebff200149$export$16792effe837dba3(St)&&St.shiftKey&&_e.selectionMode==="multiple"?_e.extendSelection(Bt):ot&&_e.replaceSelection(Bt))}break;case"End":if(tt.getLastKey){St.preventDefault();let Bt=tt.getLastKey(_e.focusedKey,$feb5ffebff200149$export$16792effe837dba3(St));_e.setFocusedKey(Bt),Bt!=null&&($feb5ffebff200149$export$16792effe837dba3(St)&&St.shiftKey&&_e.selectionMode==="multiple"?_e.extendSelection(Bt):ot&&_e.replaceSelection(Bt))}break;case"PageDown":if(tt.getKeyPageBelow&&_e.focusedKey!=null){let Bt=tt.getKeyPageBelow(_e.focusedKey);Bt!=null&&(St.preventDefault(),At(Bt))}break;case"PageUp":if(tt.getKeyPageAbove&&_e.focusedKey!=null){let Bt=tt.getKeyPageAbove(_e.focusedKey);Bt!=null&&(St.preventDefault(),At(Bt))}break;case"a":$feb5ffebff200149$export$16792effe837dba3(St)&&_e.selectionMode==="multiple"&&at!==!0&&(St.preventDefault(),_e.selectAll());break;case"Escape":!it&&_e.selectedKeys.size!==0&&(St.stopPropagation(),St.preventDefault(),_e.clearSelection());break;case"Tab":if(!ut){if(St.shiftKey)rt.current.focus();else{let Bt=$9bf71ea28793e738$export$2d6ec8fc375ceafa(rt.current,{tabbable:!0}),Qt,Nt;do Nt=Bt.lastChild(),Nt&&(Qt=Nt);while(Nt);Qt&&!Qt.contains(document.activeElement)&&$7215afc6de606d6b$export$de79e2c695e052f3(Qt)}break}}},bt=reactExports.useRef({top:0,left:0});$e9faafb641e167db$export$90fc3a17d93f704c(ft,"scroll",dt?void 0:()=>{var St,Pt,At,Rt;bt.current={top:(At=(St=ft.current)===null||St===void 0?void 0:St.scrollTop)!==null&&At!==void 0?At:0,left:(Rt=(Pt=ft.current)===null||Pt===void 0?void 0:Pt.scrollLeft)!==null&&Rt!==void 0?Rt:0}});let vt=St=>{if(_e.isFocused){St.currentTarget.contains(St.target)||_e.setFocused(!1);return}if(St.currentTarget.contains(St.target)){if(_e.setFocused(!0),_e.focusedKey==null){var Pt,At;let Dt=Mt=>{Mt!=null&&(_e.setFocusedKey(Mt),ot&&_e.replaceSelection(Mt))},Ft=St.relatedTarget;var Rt,Ct;Ft&&St.currentTarget.compareDocumentPosition(Ft)&Node.DOCUMENT_POSITION_FOLLOWING?Dt((Rt=_e.lastSelectedKey)!==null&&Rt!==void 0?Rt:(Pt=tt.getLastKey)===null||Pt===void 0?void 0:Pt.call(tt)):Dt((Ct=_e.firstSelectedKey)!==null&&Ct!==void 0?Ct:(At=tt.getFirstKey)===null||At===void 0?void 0:At.call(tt))}else!dt&&ft.current&&(ft.current.scrollTop=bt.current.top,ft.current.scrollLeft=bt.current.left);if(_e.focusedKey!=null&&ft.current){let Dt=ft.current.querySelector(`[data-key="${CSS.escape(_e.focusedKey.toString())}"]`);Dt&&(Dt.contains(document.activeElement)||$7215afc6de606d6b$export$de79e2c695e052f3(Dt),$507fabe10e71c6fb$export$630ff653c5ada6a9()==="keyboard"&&$2f04cbc44ee30ce0$export$c826860796309d1b(Dt,{containingElement:rt.current}))}}},yt=St=>{St.currentTarget.contains(St.relatedTarget)||_e.setFocused(!1)};const xt=reactExports.useRef(nt);reactExports.useEffect(()=>{if(xt.current){var St,Pt;let Ct=null;var At;nt==="first"&&(Ct=(At=(St=tt.getFirstKey)===null||St===void 0?void 0:St.call(tt))!==null&&At!==void 0?At:null);var Rt;nt==="last"&&(Ct=(Rt=(Pt=tt.getLastKey)===null||Pt===void 0?void 0:Pt.call(tt))!==null&&Rt!==void 0?Rt:null);let Dt=_e.selectedKeys;if(Dt.size){for(let Ft of Dt)if(_e.canSelectItem(Ft)){Ct=Ft;break}}_e.setFocused(!0),_e.setFocusedKey(Ct),Ct==null&&!ct&&rt.current&&$6a99195332edec8b$export$80f3e147d781571c(rt.current)}},[]);let Et=reactExports.useRef(_e.focusedKey);reactExports.useEffect(()=>{if(_e.isFocused&&_e.focusedKey!=null&&(_e.focusedKey!==Et.current||xt.current)&&ft.current&&rt.current){let St=$507fabe10e71c6fb$export$630ff653c5ada6a9(),Pt=rt.current.querySelector(`[data-key="${CSS.escape(_e.focusedKey.toString())}"]`);if(!Pt)return;(St==="keyboard"||xt.current)&&($2f04cbc44ee30ce0$export$53a0910f038337bd(ft.current,Pt),St!=="virtual"&&$2f04cbc44ee30ce0$export$c826860796309d1b(Pt,{containingElement:rt.current}))}!ct&&_e.isFocused&&_e.focusedKey==null&&Et.current!=null&&rt.current&&$6a99195332edec8b$export$80f3e147d781571c(rt.current),Et.current=_e.focusedKey,xt.current=!1}),$e9faafb641e167db$export$90fc3a17d93f704c(rt,"react-aria-focus-scope-restore",St=>{St.preventDefault(),_e.setFocused(!0)});let wt={onKeyDown:mt,onFocus:vt,onBlur:yt,onMouseDown(St){ft.current===St.target&&St.preventDefault()}},{typeSelectProps:$t}=$fb3050f43d946246$export$e32c88dfddc6e1d8({keyboardDelegate:tt,selectionManager:_e});lt||(wt=$3ef42575df84b30b$export$9d1611c77c2fe928($t,wt));let Tt;return ct||(Tt=_e.focusedKey==null?0:-1),{collectionProps:{...wt,tabIndex:Tt}}}function $880e95eb8b93ba9a$export$ecf600387e221c37(et){let{selectionManager:_e,key:tt,ref:rt,shouldSelectOnPressUp:nt,shouldUseVirtualFocus:st,focus:it,isDisabled:at,onAction:ot,allowsDifferentPressOrigin:lt,linkBehavior:ct="action"}=et,ut=$ea8dcbcb9ea1b556$export$9a302a45f65d0572(),dt=Mt=>{if(Mt.pointerType==="keyboard"&&$feb5ffebff200149$export$d3e3bd3e26688c04(Mt))_e.toggleSelection(tt);else{if(_e.selectionMode==="none")return;if(_e.isLink(tt)){if(ct==="selection"&&rt.current){let Ot=_e.getItemProps(tt);ut.open(rt.current,Mt,Ot.href,Ot.routerOptions),_e.setSelectedKeys(_e.selectedKeys);return}else if(ct==="override"||ct==="none")return}_e.selectionMode==="single"?_e.isSelected(tt)&&!_e.disallowEmptySelection?_e.toggleSelection(tt):_e.replaceSelection(tt):Mt&&Mt.shiftKey?_e.extendSelection(tt):_e.selectionBehavior==="toggle"||Mt&&($feb5ffebff200149$export$16792effe837dba3(Mt)||Mt.pointerType==="touch"||Mt.pointerType==="virtual")?_e.toggleSelection(tt):_e.replaceSelection(tt)}};reactExports.useEffect(()=>{tt===_e.focusedKey&&_e.isFocused&&!st&&(it?it():document.activeElement!==rt.current&&rt.current&&$6a99195332edec8b$export$80f3e147d781571c(rt.current))},[rt,tt,_e.focusedKey,_e.childFocusStrategy,_e.isFocused,st]),at=at||_e.isDisabled(tt);let ft={};!st&&!at?ft={tabIndex:tt===_e.focusedKey?0:-1,onFocus(Mt){Mt.target===rt.current&&_e.setFocusedKey(tt)}}:at&&(ft.onMouseDown=Mt=>{Mt.preventDefault()});let ht=_e.isLink(tt)&&ct==="override",pt=_e.isLink(tt)&&ct!=="selection"&&ct!=="none",gt=!at&&_e.canSelectItem(tt)&&!ht,mt=(ot||pt)&&!at,bt=mt&&(_e.selectionBehavior==="replace"?!gt:!gt||_e.isEmpty),vt=mt&&gt&&_e.selectionBehavior==="replace",yt=bt||vt,xt=reactExports.useRef(null),Et=yt&&gt,wt=reactExports.useRef(!1),$t=reactExports.useRef(!1),Tt=Mt=>{if(ot&&ot(),pt&&rt.current){let Ot=_e.getItemProps(tt);ut.open(rt.current,Mt,Ot.href,Ot.routerOptions)}},St={};nt?(St.onPressStart=Mt=>{xt.current=Mt.pointerType,wt.current=Et,Mt.pointerType==="keyboard"&&(!yt||$880e95eb8b93ba9a$var$isSelectionKey())&&dt(Mt)},lt?(St.onPressUp=bt?void 0:Mt=>{Mt.pointerType!=="keyboard"&&gt&&dt(Mt)},St.onPress=bt?Tt:void 0):St.onPress=Mt=>{if(bt||vt&&Mt.pointerType!=="mouse"){if(Mt.pointerType==="keyboard"&&!$880e95eb8b93ba9a$var$isActionKey())return;Tt(Mt)}else Mt.pointerType!=="keyboard"&&gt&&dt(Mt)}):(St.onPressStart=Mt=>{xt.current=Mt.pointerType,wt.current=Et,$t.current=bt,gt&&(Mt.pointerType==="mouse"&&!bt||Mt.pointerType==="keyboard"&&(!mt||$880e95eb8b93ba9a$var$isSelectionKey()))&&dt(Mt)},St.onPress=Mt=>{(Mt.pointerType==="touch"||Mt.pointerType==="pen"||Mt.pointerType==="virtual"||Mt.pointerType==="keyboard"&&yt&&$880e95eb8b93ba9a$var$isActionKey()||Mt.pointerType==="mouse"&&$t.current)&&(yt?Tt(Mt):gt&&dt(Mt))}),ft["data-key"]=tt,St.preventFocusOnPress=st;let{pressProps:Pt,isPressed:At}=$f6c31cce2adf654f$export$45712eceda6fad21(St),Rt=vt?Mt=>{xt.current==="mouse"&&(Mt.stopPropagation(),Mt.preventDefault(),Tt(Mt))}:void 0,{longPressProps:Ct}=$8a26561d2877236e$export$c24ed0104d07eab9({isDisabled:!Et,onLongPress(Mt){Mt.pointerType==="touch"&&(dt(Mt),_e.setSelectionBehavior("toggle"))}}),Dt=Mt=>{xt.current==="touch"&&wt.current&&Mt.preventDefault()},Ft=_e.isLink(tt)?Mt=>{$ea8dcbcb9ea1b556$export$95185d699e05d4d7.isOpening||Mt.preventDefault()}:void 0;return{itemProps:$3ef42575df84b30b$export$9d1611c77c2fe928(ft,gt||bt?Pt:{},Et?Ct:{},{onDoubleClick:Rt,onDragStartCapture:Dt,onClick:Ft}),isPressed:At,isSelected:_e.isSelected(tt),isFocused:_e.isFocused&&_e.focusedKey===tt,isDisabled:at,allowsSelection:gt,hasAction:yt}}function $880e95eb8b93ba9a$var$isActionKey(){let et=window.event;return(et==null?void 0:et.key)==="Enter"}function $880e95eb8b93ba9a$var$isSelectionKey(){let et=window.event;return(et==null?void 0:et.key)===" "||(et==null?void 0:et.code)==="Space"}class $657e4dc4a6e88df0$export$8f5ed9ff9f511381{getItemRect(_e){let tt=this.ref.current;if(!tt)return null;let rt=_e!=null?tt.querySelector(`[data-key="${CSS.escape(_e.toString())}"]`):null;if(!rt)return null;let nt=tt.getBoundingClientRect(),st=rt.getBoundingClientRect();return{x:st.left-nt.left+tt.scrollLeft,y:st.top-nt.top+tt.scrollTop,width:st.width,height:st.height}}getContentSize(){let _e=this.ref.current;var tt,rt;return{width:(tt=_e==null?void 0:_e.scrollWidth)!==null&&tt!==void 0?tt:0,height:(rt=_e==null?void 0:_e.scrollHeight)!==null&&rt!==void 0?rt:0}}getVisibleRect(){let _e=this.ref.current;var tt,rt,nt,st;return{x:(tt=_e==null?void 0:_e.scrollLeft)!==null&&tt!==void 0?tt:0,y:(rt=_e==null?void 0:_e.scrollTop)!==null&&rt!==void 0?rt:0,width:(nt=_e==null?void 0:_e.offsetWidth)!==null&&nt!==void 0?nt:0,height:(st=_e==null?void 0:_e.offsetHeight)!==null&&st!==void 0?st:0}}constructor(_e){this.ref=_e}}class $2a25aae57d74318e$export$a05409b8bb224a5a{isDisabled(_e){var tt;return this.disabledBehavior==="all"&&(((tt=_e.props)===null||tt===void 0?void 0:tt.isDisabled)||this.disabledKeys.has(_e.key))}findNextNonDisabled(_e,tt){let rt=_e;for(;rt!=null;){let nt=this.collection.getItem(rt);if((nt==null?void 0:nt.type)==="item"&&!this.isDisabled(nt))return rt;rt=tt(rt)}return null}getNextKey(_e){let tt=_e;return tt=this.collection.getKeyAfter(tt),this.findNextNonDisabled(tt,rt=>this.collection.getKeyAfter(rt))}getPreviousKey(_e){let tt=_e;return tt=this.collection.getKeyBefore(tt),this.findNextNonDisabled(tt,rt=>this.collection.getKeyBefore(rt))}findKey(_e,tt,rt){let nt=_e,st=this.layoutDelegate.getItemRect(nt);if(!st||nt==null)return null;let it=st;do{if(nt=tt(nt),nt==null)break;st=this.layoutDelegate.getItemRect(nt)}while(st&&rt(it,st)&&nt!=null);return nt}isSameRow(_e,tt){return _e.y===tt.y||_e.x!==tt.x}isSameColumn(_e,tt){return _e.x===tt.x||_e.y!==tt.y}getKeyBelow(_e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(_e,tt=>this.getNextKey(tt),this.isSameRow):this.getNextKey(_e)}getKeyAbove(_e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(_e,tt=>this.getPreviousKey(tt),this.isSameRow):this.getPreviousKey(_e)}getNextColumn(_e,tt){return tt?this.getPreviousKey(_e):this.getNextKey(_e)}getKeyRightOf(_e){let tt=this.direction==="ltr"?"getKeyRightOf":"getKeyLeftOf";return this.layoutDelegate[tt]?(_e=this.layoutDelegate[tt](_e),this.findNextNonDisabled(_e,rt=>this.layoutDelegate[tt](rt))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(_e,this.direction==="rtl"):this.findKey(_e,rt=>this.getNextColumn(rt,this.direction==="rtl"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(_e,this.direction==="rtl"):null}getKeyLeftOf(_e){let tt=this.direction==="ltr"?"getKeyLeftOf":"getKeyRightOf";return this.layoutDelegate[tt]?(_e=this.layoutDelegate[tt](_e),this.findNextNonDisabled(_e,rt=>this.layoutDelegate[tt](rt))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(_e,this.direction==="ltr"):this.findKey(_e,rt=>this.getNextColumn(rt,this.direction==="ltr"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(_e,this.direction==="ltr"):null}getFirstKey(){let _e=this.collection.getFirstKey();return this.findNextNonDisabled(_e,tt=>this.collection.getKeyAfter(tt))}getLastKey(){let _e=this.collection.getLastKey();return this.findNextNonDisabled(_e,tt=>this.collection.getKeyBefore(tt))}getKeyPageAbove(_e){let tt=this.ref.current,rt=this.layoutDelegate.getItemRect(_e);if(!rt)return null;if(tt&&!$cc38e7bd3fc7b213$export$2bb74740c4e19def(tt))return this.getFirstKey();let nt=_e;if(this.orientation==="horizontal"){let st=Math.max(0,rt.x+rt.width-this.layoutDelegate.getVisibleRect().width);for(;rt&&rt.x>st&&nt!=null;)nt=this.getKeyAbove(nt),rt=nt==null?null:this.layoutDelegate.getItemRect(nt)}else{let st=Math.max(0,rt.y+rt.height-this.layoutDelegate.getVisibleRect().height);for(;rt&&rt.y>st&&nt!=null;)nt=this.getKeyAbove(nt),rt=nt==null?null:this.layoutDelegate.getItemRect(nt)}return nt??this.getFirstKey()}getKeyPageBelow(_e){let tt=this.ref.current,rt=this.layoutDelegate.getItemRect(_e);if(!rt)return null;if(tt&&!$cc38e7bd3fc7b213$export$2bb74740c4e19def(tt))return this.getLastKey();let nt=_e;if(this.orientation==="horizontal"){let st=Math.min(this.layoutDelegate.getContentSize().width,rt.y-rt.width+this.layoutDelegate.getVisibleRect().width);for(;rt&&rt.x<st&&nt!=null;)nt=this.getKeyBelow(nt),rt=nt==null?null:this.layoutDelegate.getItemRect(nt)}else{let st=Math.min(this.layoutDelegate.getContentSize().height,rt.y-rt.height+this.layoutDelegate.getVisibleRect().height);for(;rt&&rt.y<st&&nt!=null;)nt=this.getKeyBelow(nt),rt=nt==null?null:this.layoutDelegate.getItemRect(nt)}return nt??this.getLastKey()}getKeyForSearch(_e,tt){if(!this.collator)return null;let rt=this.collection,nt=tt||this.getFirstKey();for(;nt!=null;){let st=rt.getItem(nt);if(!st)return null;let it=st.textValue.slice(0,_e.length);if(st.textValue&&this.collator.compare(it,_e)===0)return nt;nt=this.getNextKey(nt)}return null}constructor(..._e){if(_e.length===1){let tt=_e[0];this.collection=tt.collection,this.ref=tt.ref,this.collator=tt.collator,this.disabledKeys=tt.disabledKeys||new Set,this.disabledBehavior=tt.disabledBehavior||"all",this.orientation=tt.orientation||"vertical",this.direction=tt.direction,this.layout=tt.layout||"stack",this.layoutDelegate=tt.layoutDelegate||new $657e4dc4a6e88df0$export$8f5ed9ff9f511381(tt.ref)}else this.collection=_e[0],this.disabledKeys=_e[1],this.ref=_e[2],this.collator=_e[3],this.layout="stack",this.orientation="vertical",this.disabledBehavior="all",this.layoutDelegate=new $657e4dc4a6e88df0$export$8f5ed9ff9f511381(this.ref);this.layout==="stack"&&this.orientation==="vertical"&&(this.getKeyLeftOf=void 0,this.getKeyRightOf=void 0)}}function $982254629710d113$export$b95089534ab7c1fd(et){let{selectionManager:_e,collection:tt,disabledKeys:rt,ref:nt,keyboardDelegate:st,layoutDelegate:it}=et,at=$325a3faab7a68acd$export$a16aca283550c30d({usage:"search",sensitivity:"base"}),ot=_e.disabledBehavior,lt=reactExports.useMemo(()=>st||new $2a25aae57d74318e$export$a05409b8bb224a5a({collection:tt,disabledKeys:rt,disabledBehavior:ot,ref:nt,collator:at,layoutDelegate:it}),[st,it,tt,rt,nt,at,ot]),{collectionProps:ct}=$ae20dd8cbca75726$export$d6daf82dcd84e87c({...et,ref:nt,selectionManager:_e,keyboardDelegate:lt});return{listProps:ct}}var CloseFilledIcon=et=>jsxRuntimeExports.jsx("svg",{"aria-hidden":"true",focusable:"false",height:"1em",role:"presentation",viewBox:"0 0 24 24",width:"1em",...et,children:jsxRuntimeExports.jsx("path",{d:"M12 2a10 10 0 1010 10A10.016 10.016 0 0012 2zm3.36 12.3a.754.754 0 010 1.06.748.748 0 01-1.06 0l-2.3-2.3-2.3 2.3a.748.748 0 01-1.06 0 .754.754 0 010-1.06l2.3-2.3-2.3-2.3A.75.75 0 019.7 8.64l2.3 2.3 2.3-2.3a.75.75 0 011.06 1.06l-2.3 2.3z",fill:"currentColor"})}),CloseIcon=et=>{const{isSelected:_e,isIndeterminate:tt,disableAnimation:rt,...nt}=et;return jsxRuntimeExports.jsx("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",role:"presentation",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",width:"1em",...nt,children:jsxRuntimeExports.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})},ChevronDownIcon=({strokeWidth:et=1.5,..._e})=>jsxRuntimeExports.jsx("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",role:"presentation",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:et,viewBox:"0 0 24 24",width:"1em",..._e,children:jsxRuntimeExports.jsx("path",{d:"m6 9 6 6 6-6"})}),TRANSITION_EASINGS$1={ease:[.36,.66,.4,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1],spring:[.155,1.105,.295,1.12],springOut:[.57,-.15,.62,.07],softSpring:[.16,1.11,.3,1.02]},TRANSITION_VARIANTS$1={scaleSpring:{enter:{transform:"scale(1)",opacity:1,transition:{type:"spring",bounce:0,duration:.2}},exit:{transform:"scale(0.85)",opacity:0,transition:{type:"easeOut",duration:.15}}},scaleSpringOpacity:{initial:{opacity:0,transform:"scale(0.8)"},enter:{opacity:1,transform:"scale(1)",transition:{type:"spring",bounce:0,duration:.3}},exit:{opacity:0,transform:"scale(0.96)",transition:{type:"easeOut",bounce:0,duration:.15}}},scale:{enter:{scale:1},exit:{scale:.95}},scaleFadeIn:{enter:{transform:"scale(1)",opacity:1,transition:{duration:.25,ease:TRANSITION_EASINGS$1.easeIn}},exit:{transform:"scale(0.95)",opacity:0,transition:{duration:.2,ease:TRANSITION_EASINGS$1.easeOut}}},scaleInOut:{enter:{transform:"scale(1)",opacity:1,transition:{duration:.4,ease:TRANSITION_EASINGS$1.ease}},exit:{transform:"scale(1.03)",opacity:0,transition:{duration:.3,ease:TRANSITION_EASINGS$1.ease}}},fade:{enter:{opacity:1,transition:{duration:.4,ease:TRANSITION_EASINGS$1.ease}},exit:{opacity:0,transition:{duration:.3,ease:TRANSITION_EASINGS$1.ease}}},collapse:{enter:{opacity:1,height:"auto",transition:{height:{type:"spring",bounce:0,duration:.3},opacity:{easings:"ease",duration:.4}}},exit:{opacity:0,height:0,transition:{easings:"ease",duration:.3}}}};class $05ca4cd7c4a5a999$export$863faf230ee2118a{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(_e){let tt=this.keyMap.get(_e);var rt;return tt&&(rt=tt.prevKey)!==null&&rt!==void 0?rt:null}getKeyAfter(_e){let tt=this.keyMap.get(_e);var rt;return tt&&(rt=tt.nextKey)!==null&&rt!==void 0?rt:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(_e){var tt;return(tt=this.keyMap.get(_e))!==null&&tt!==void 0?tt:null}at(_e){const tt=[...this.getKeys()];return this.getItem(tt[_e])}constructor(_e,{expandedKeys:tt}={}){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.iterable=_e,tt=tt||new Set;let rt=at=>{if(this.keyMap.set(at.key,at),at.childNodes&&(at.type==="section"||tt.has(at.key)))for(let ot of at.childNodes)rt(ot)};for(let at of _e)rt(at);let nt=null,st=0;for(let[at,ot]of this.keyMap)nt?(nt.nextKey=at,ot.prevKey=nt.key):(this.firstKey=at,ot.prevKey=void 0),ot.type==="item"&&(ot.index=st++),nt=ot,nt.nextKey=void 0;var it;this.lastKey=(it=nt==null?void 0:nt.key)!==null&&it!==void 0?it:null}}class $e40ea825a81a3709$export$52baac22726c72bf extends Set{constructor(_e,tt,rt){super(_e),_e instanceof $e40ea825a81a3709$export$52baac22726c72bf?(this.anchorKey=tt??_e.anchorKey,this.currentKey=rt??_e.currentKey):(this.anchorKey=tt??null,this.currentKey=rt??null)}}function $7af3f5b51489e0b5$var$equalSets(et,_e){if(et.size!==_e.size)return!1;for(let tt of et)if(!_e.has(tt))return!1;return!0}function $7af3f5b51489e0b5$export$253fe78d46329472(et){let{selectionMode:_e="none",disallowEmptySelection:tt=!1,allowDuplicateSelectionEvents:rt,selectionBehavior:nt="toggle",disabledBehavior:st="all"}=et,it=reactExports.useRef(!1),[,at]=reactExports.useState(!1),ot=reactExports.useRef(null),lt=reactExports.useRef(null),[,ct]=reactExports.useState(null),ut=reactExports.useMemo(()=>$7af3f5b51489e0b5$var$convertSelection(et.selectedKeys),[et.selectedKeys]),dt=reactExports.useMemo(()=>$7af3f5b51489e0b5$var$convertSelection(et.defaultSelectedKeys,new $e40ea825a81a3709$export$52baac22726c72bf),[et.defaultSelectedKeys]),[ft,ht]=$458b0a5536c1a7cf$export$40bfa8c7b0832715(ut,dt,et.onSelectionChange),pt=reactExports.useMemo(()=>et.disabledKeys?new Set(et.disabledKeys):new Set,[et.disabledKeys]),[gt,mt]=reactExports.useState(nt);nt==="replace"&&gt==="toggle"&&typeof ft=="object"&&ft.size===0&&mt("replace");let bt=reactExports.useRef(nt);return reactExports.useEffect(()=>{nt!==bt.current&&(mt(nt),bt.current=nt)},[nt]),{selectionMode:_e,disallowEmptySelection:tt,selectionBehavior:gt,setSelectionBehavior:mt,get isFocused(){return it.current},setFocused(vt){it.current=vt,at(vt)},get focusedKey(){return ot.current},get childFocusStrategy(){return lt.current},setFocusedKey(vt,yt="first"){ot.current=vt,lt.current=yt,ct(vt)},selectedKeys:ft,setSelectedKeys(vt){(rt||!$7af3f5b51489e0b5$var$equalSets(vt,ft))&&ht(vt)},disabledKeys:pt,disabledBehavior:st}}function $7af3f5b51489e0b5$var$convertSelection(et,_e){return et?et==="all"?"all":new $e40ea825a81a3709$export$52baac22726c72bf(et):_e}function $c1d7fb2ec91bae71$var$Item(et){return null}$c1d7fb2ec91bae71$var$Item.getCollectionNode=function*(_e,tt){let{childItems:rt,title:nt,children:st}=_e,it=_e.title||_e.children,at=_e.textValue||(typeof it=="string"?it:"")||_e["aria-label"]||"";!at&&!(tt!=null&&tt.suppressTextValueWarning)&&console.warn("<Item> with non-plain text contents is unsupported by type to select for accessibility. Please add a `textValue` prop."),yield{type:"item",props:_e,rendered:it,textValue:at,"aria-label":_e["aria-label"],hasChildNodes:$c1d7fb2ec91bae71$var$hasChildItems(_e),*childNodes(){if(rt)for(let ot of rt)yield{type:"item",value:ot};else if(nt){let ot=[];React.Children.forEach(st,lt=>{ot.push({type:"item",element:lt})}),yield*ot}}}};function $c1d7fb2ec91bae71$var$hasChildItems(et){return et.hasChildItems!=null?et.hasChildItems:!!(et.childItems||et.title&&React.Children.count(et.children)>0)}let $c1d7fb2ec91bae71$export$6d08773d2e66f8f2=$c1d7fb2ec91bae71$var$Item;class $eb2240fc39a57fa5$export$bf788dd355e3a401{build(_e,tt){return this.context=tt,$eb2240fc39a57fa5$var$iterable(()=>this.iterateCollection(_e))}*iterateCollection(_e){let{children:tt,items:rt}=_e;if(React.isValidElement(tt)&&tt.type===React.Fragment)yield*this.iterateCollection({children:tt.props.children,items:rt});else if(typeof tt=="function"){if(!rt)throw new Error("props.children was a function but props.items is missing");let nt=0;for(let st of rt)yield*this.getFullNode({value:st,index:nt},{renderer:tt}),nt++}else{let nt=[];React.Children.forEach(tt,it=>{it&&nt.push(it)});let st=0;for(let it of nt){let at=this.getFullNode({element:it,index:st},{});for(let ot of at)st++,yield ot}}}getKey(_e,tt,rt,nt){if(_e.key!=null)return _e.key;if(tt.type==="cell"&&tt.key!=null)return`${nt}${tt.key}`;let st=tt.value;if(st!=null){var it;let at=(it=st.key)!==null&&it!==void 0?it:st.id;if(at==null)throw new Error("No key found for item");return at}return nt?`${nt}.${tt.index}`:`$.${tt.index}`}getChildState(_e,tt){return{renderer:tt.renderer||_e.renderer}}*getFullNode(_e,tt,rt,nt){if(React.isValidElement(_e.element)&&_e.element.type===React.Fragment){let gt=[];React.Children.forEach(_e.element.props.children,bt=>{gt.push(bt)});var st;let mt=(st=_e.index)!==null&&st!==void 0?st:0;for(const bt of gt)yield*this.getFullNode({element:bt,index:mt++},tt,rt,nt);return}let it=_e.element;if(!it&&_e.value&&tt&&tt.renderer){let gt=this.cache.get(_e.value);if(gt&&(!gt.shouldInvalidate||!gt.shouldInvalidate(this.context))){gt.index=_e.index,gt.parentKey=nt?nt.key:null,yield gt;return}it=tt.renderer(_e.value)}if(React.isValidElement(it)){let gt=it.type;if(typeof gt!="function"&&typeof gt.getCollectionNode!="function"){let yt=it.type;throw new Error(`Unknown element <${yt}> in collection.`)}let mt=gt.getCollectionNode(it.props,this.context);var at;let bt=(at=_e.index)!==null&&at!==void 0?at:0,vt=mt.next();for(;!vt.done&&vt.value;){let yt=vt.value;_e.index=bt;var ot;let xt=(ot=yt.key)!==null&&ot!==void 0?ot:null;xt==null&&(xt=yt.element?null:this.getKey(it,_e,tt,rt));let wt=[...this.getFullNode({...yt,key:xt,index:bt,wrapper:$eb2240fc39a57fa5$var$compose(_e.wrapper,yt.wrapper)},this.getChildState(tt,yt),rt?`${rt}${it.key}`:it.key,nt)];for(let $t of wt){var lt,ct;$t.value=(ct=(lt=yt.value)!==null&&lt!==void 0?lt:_e.value)!==null&&ct!==void 0?ct:null,$t.value&&this.cache.set($t.value,$t);var ut;if(_e.type&&$t.type!==_e.type)throw new Error(`Unsupported type <${$eb2240fc39a57fa5$var$capitalize($t.type)}> in <${$eb2240fc39a57fa5$var$capitalize((ut=nt==null?void 0:nt.type)!==null&&ut!==void 0?ut:"unknown parent type")}>. Only <${$eb2240fc39a57fa5$var$capitalize(_e.type)}> is supported.`);bt++,yield $t}vt=mt.next(wt)}return}if(_e.key==null||_e.type==null)return;let dt=this;var ft,ht;let pt={type:_e.type,props:_e.props,key:_e.key,parentKey:nt?nt.key:null,value:(ft=_e.value)!==null&&ft!==void 0?ft:null,level:nt?nt.level+1:0,index:_e.index,rendered:_e.rendered,textValue:(ht=_e.textValue)!==null&&ht!==void 0?ht:"","aria-label":_e["aria-label"],wrapper:_e.wrapper,shouldInvalidate:_e.shouldInvalidate,hasChildNodes:_e.hasChildNodes||!1,childNodes:$eb2240fc39a57fa5$var$iterable(function*(){if(!_e.hasChildNodes||!_e.childNodes)return;let gt=0;for(let mt of _e.childNodes()){mt.key!=null&&(mt.key=`${pt.key}${mt.key}`);let bt=dt.getFullNode({...mt,index:gt},dt.getChildState(tt,mt),pt.key,pt);for(let vt of bt)gt++,yield vt}})};yield pt}constructor(){this.cache=new WeakMap}}function $eb2240fc39a57fa5$var$iterable(et){let _e=[],tt=null;return{*[Symbol.iterator](){for(let rt of _e)yield rt;tt||(tt=et());for(let rt of tt)_e.push(rt),yield rt}}}function $eb2240fc39a57fa5$var$compose(et,_e){if(et&&_e)return tt=>et(_e(tt));if(et)return et;if(_e)return _e}function $eb2240fc39a57fa5$var$capitalize(et){return et[0].toUpperCase()+et.slice(1)}function $7613b1592d41b092$export$6cd28814d92fa9c9(et,_e,tt){let rt=reactExports.useMemo(()=>new $eb2240fc39a57fa5$export$bf788dd355e3a401,[]),{children:nt,items:st,collection:it}=et;return reactExports.useMemo(()=>{if(it)return it;let ot=rt.build({children:nt,items:st},tt);return _e(ot)},[rt,nt,st,it,tt,_e])}function $c5a24bc478652b5f$export$1005530eda016c13(et,_e){return typeof _e.getChildren=="function"?_e.getChildren(et.key):et.childNodes}function $c5a24bc478652b5f$export$fbdeaa6a76694f71(et){return $c5a24bc478652b5f$export$5f3398f8733f90e2(et,0)}function $c5a24bc478652b5f$export$5f3398f8733f90e2(et,_e){if(_e<0)return;let tt=0;for(let rt of et){if(tt===_e)return rt;tt++}}function $c5a24bc478652b5f$export$7475b2c64539e4cf(et){let _e;for(let tt of et)_e=tt;return _e}function $c5a24bc478652b5f$export$8c434b3a7a4dad6(et,_e,tt){if(_e.parentKey===tt.parentKey)return _e.index-tt.index;let rt=[...$c5a24bc478652b5f$var$getAncestors(et,_e),_e],nt=[...$c5a24bc478652b5f$var$getAncestors(et,tt),tt],st=rt.slice(0,nt.length).findIndex((it,at)=>it!==nt[at]);return st!==-1?(_e=rt[st],tt=nt[st],_e.index-tt.index):rt.findIndex(it=>it===tt)>=0?1:(nt.findIndex(it=>it===_e)>=0,-1)}function $c5a24bc478652b5f$var$getAncestors(et,_e){let tt=[],rt=_e;for(;(rt==null?void 0:rt.parentKey)!=null;)rt=et.getItem(rt.parentKey),rt&&tt.unshift(rt);return tt}const $453cc9f0df89c0a5$var$cache=new WeakMap;function $453cc9f0df89c0a5$export$77d5aafae4e095b2(et){let _e=$453cc9f0df89c0a5$var$cache.get(et);if(_e!=null)return _e;let tt=0,rt=nt=>{for(let st of nt)st.type==="section"?rt($c5a24bc478652b5f$export$1005530eda016c13(st,et)):tt++};return rt(et),$453cc9f0df89c0a5$var$cache.set(et,tt),tt}class $d496c0a20b6e58ec$export$6c8a5aaad13c9852{get selectionMode(){return this.state.selectionMode}get disallowEmptySelection(){return this.state.disallowEmptySelection}get selectionBehavior(){return this.state.selectionBehavior}setSelectionBehavior(_e){this.state.setSelectionBehavior(_e)}get isFocused(){return this.state.isFocused}setFocused(_e){this.state.setFocused(_e)}get focusedKey(){return this.state.focusedKey}get childFocusStrategy(){return this.state.childFocusStrategy}setFocusedKey(_e,tt){(_e==null||this.collection.getItem(_e))&&this.state.setFocusedKey(_e,tt)}get selectedKeys(){return this.state.selectedKeys==="all"?new Set(this.getSelectAllKeys()):this.state.selectedKeys}get rawSelection(){return this.state.selectedKeys}isSelected(_e){if(this.state.selectionMode==="none")return!1;let tt=this.getKey(_e);return tt==null?!1:this.state.selectedKeys==="all"?this.canSelectItem(tt):this.state.selectedKeys.has(tt)}get isEmpty(){return this.state.selectedKeys!=="all"&&this.state.selectedKeys.size===0}get isSelectAll(){if(this.isEmpty)return!1;if(this.state.selectedKeys==="all")return!0;if(this._isSelectAll!=null)return this._isSelectAll;let _e=this.getSelectAllKeys(),tt=this.state.selectedKeys;return this._isSelectAll=_e.every(rt=>tt.has(rt)),this._isSelectAll}get firstSelectedKey(){let _e=null;for(let rt of this.state.selectedKeys){let nt=this.collection.getItem(rt);(!_e||nt&&$c5a24bc478652b5f$export$8c434b3a7a4dad6(this.collection,nt,_e)<0)&&(_e=nt)}var tt;return(tt=_e==null?void 0:_e.key)!==null&&tt!==void 0?tt:null}get lastSelectedKey(){let _e=null;for(let rt of this.state.selectedKeys){let nt=this.collection.getItem(rt);(!_e||nt&&$c5a24bc478652b5f$export$8c434b3a7a4dad6(this.collection,nt,_e)>0)&&(_e=nt)}var tt;return(tt=_e==null?void 0:_e.key)!==null&&tt!==void 0?tt:null}get disabledKeys(){return this.state.disabledKeys}get disabledBehavior(){return this.state.disabledBehavior}extendSelection(_e){if(this.selectionMode==="none")return;if(this.selectionMode==="single"){this.replaceSelection(_e);return}let tt=this.getKey(_e);if(tt==null)return;let rt;if(this.state.selectedKeys==="all")rt=new $e40ea825a81a3709$export$52baac22726c72bf([tt],tt,tt);else{let it=this.state.selectedKeys;var nt;let at=(nt=it.anchorKey)!==null&&nt!==void 0?nt:tt;rt=new $e40ea825a81a3709$export$52baac22726c72bf(it,at,tt);var st;for(let ot of this.getKeyRange(at,(st=it.currentKey)!==null&&st!==void 0?st:tt))rt.delete(ot);for(let ot of this.getKeyRange(tt,at))this.canSelectItem(ot)&&rt.add(ot)}this.state.setSelectedKeys(rt)}getKeyRange(_e,tt){let rt=this.collection.getItem(_e),nt=this.collection.getItem(tt);return rt&&nt?$c5a24bc478652b5f$export$8c434b3a7a4dad6(this.collection,rt,nt)<=0?this.getKeyRangeInternal(_e,tt):this.getKeyRangeInternal(tt,_e):[]}getKeyRangeInternal(_e,tt){var rt;if(!((rt=this.layoutDelegate)===null||rt===void 0)&&rt.getKeyRange)return this.layoutDelegate.getKeyRange(_e,tt);let nt=[],st=_e;for(;st!=null;){let it=this.collection.getItem(st);if(it&&(it.type==="item"||it.type==="cell"&&this.allowsCellSelection)&&nt.push(st),st===tt)return nt;st=this.collection.getKeyAfter(st)}return[]}getKey(_e){let tt=this.collection.getItem(_e);if(!tt||tt.type==="cell"&&this.allowsCellSelection)return _e;for(;tt&&tt.type!=="item"&&tt.parentKey!=null;)tt=this.collection.getItem(tt.parentKey);return!tt||tt.type!=="item"?null:tt.key}toggleSelection(_e){if(this.selectionMode==="none")return;if(this.selectionMode==="single"&&!this.isSelected(_e)){this.replaceSelection(_e);return}let tt=this.getKey(_e);if(tt==null)return;let rt=new $e40ea825a81a3709$export$52baac22726c72bf(this.state.selectedKeys==="all"?this.getSelectAllKeys():this.state.selectedKeys);rt.has(tt)?rt.delete(tt):this.canSelectItem(tt)&&(rt.add(tt),rt.anchorKey=tt,rt.currentKey=tt),!(this.disallowEmptySelection&&rt.size===0)&&this.state.setSelectedKeys(rt)}replaceSelection(_e){if(this.selectionMode==="none")return;let tt=this.getKey(_e);if(tt==null)return;let rt=this.canSelectItem(tt)?new $e40ea825a81a3709$export$52baac22726c72bf([tt],tt,tt):new $e40ea825a81a3709$export$52baac22726c72bf;this.state.setSelectedKeys(rt)}setSelectedKeys(_e){if(this.selectionMode==="none")return;let tt=new $e40ea825a81a3709$export$52baac22726c72bf;for(let rt of _e){let nt=this.getKey(rt);if(nt!=null&&(tt.add(nt),this.selectionMode==="single"))break}this.state.setSelectedKeys(tt)}getSelectAllKeys(){let _e=[],tt=rt=>{for(;rt!=null;){if(this.canSelectItem(rt)){var nt;let it=this.collection.getItem(rt);(it==null?void 0:it.type)==="item"&&_e.push(rt);var st;it!=null&&it.hasChildNodes&&(this.allowsCellSelection||it.type!=="item")&&tt((st=(nt=$c5a24bc478652b5f$export$fbdeaa6a76694f71($c5a24bc478652b5f$export$1005530eda016c13(it,this.collection)))===null||nt===void 0?void 0:nt.key)!==null&&st!==void 0?st:null)}rt=this.collection.getKeyAfter(rt)}};return tt(this.collection.getFirstKey()),_e}selectAll(){!this.isSelectAll&&this.selectionMode==="multiple"&&this.state.setSelectedKeys("all")}clearSelection(){!this.disallowEmptySelection&&(this.state.selectedKeys==="all"||this.state.selectedKeys.size>0)&&this.state.setSelectedKeys(new $e40ea825a81a3709$export$52baac22726c72bf)}toggleSelectAll(){this.isSelectAll?this.clearSelection():this.selectAll()}select(_e,tt){this.selectionMode!=="none"&&(this.selectionMode==="single"?this.isSelected(_e)&&!this.disallowEmptySelection?this.toggleSelection(_e):this.replaceSelection(_e):this.selectionBehavior==="toggle"||tt&&(tt.pointerType==="touch"||tt.pointerType==="virtual")?this.toggleSelection(_e):this.replaceSelection(_e))}isSelectionEqual(_e){if(_e===this.state.selectedKeys)return!0;let tt=this.selectedKeys;if(_e.size!==tt.size)return!1;for(let rt of _e)if(!tt.has(rt))return!1;for(let rt of tt)if(!_e.has(rt))return!1;return!0}canSelectItem(_e){var tt;if(this.state.selectionMode==="none"||this.state.disabledKeys.has(_e))return!1;let rt=this.collection.getItem(_e);return!(!rt||!(rt==null||(tt=rt.props)===null||tt===void 0)&&tt.isDisabled||rt.type==="cell"&&!this.allowsCellSelection)}isDisabled(_e){var tt,rt;return this.state.disabledBehavior==="all"&&(this.state.disabledKeys.has(_e)||!!(!((rt=this.collection.getItem(_e))===null||rt===void 0||(tt=rt.props)===null||tt===void 0)&&tt.isDisabled))}isLink(_e){var tt,rt;return!!(!((rt=this.collection.getItem(_e))===null||rt===void 0||(tt=rt.props)===null||tt===void 0)&&tt.href)}getItemProps(_e){var tt;return(tt=this.collection.getItem(_e))===null||tt===void 0?void 0:tt.props}constructor(_e,tt,rt){this.collection=_e,this.state=tt;var nt;this.allowsCellSelection=(nt=rt==null?void 0:rt.allowsCellSelection)!==null&&nt!==void 0?nt:!1,this._isSelectAll=null,this.layoutDelegate=(rt==null?void 0:rt.layoutDelegate)||null}}function $875d6693e12af071$export$728d6ba534403756(et){let{onExpandedChange:_e}=et,[tt,rt]=$458b0a5536c1a7cf$export$40bfa8c7b0832715(et.expandedKeys?new Set(et.expandedKeys):void 0,et.defaultExpandedKeys?new Set(et.defaultExpandedKeys):new Set,_e),nt=$7af3f5b51489e0b5$export$253fe78d46329472(et),st=reactExports.useMemo(()=>et.disabledKeys?new Set(et.disabledKeys):new Set,[et.disabledKeys]),it=$7613b1592d41b092$export$6cd28814d92fa9c9(et,reactExports.useCallback(ot=>new $05ca4cd7c4a5a999$export$863faf230ee2118a(ot,{expandedKeys:tt}),[tt]),null);return reactExports.useEffect(()=>{nt.focusedKey!=null&&!it.getItem(nt.focusedKey)&&nt.setFocusedKey(null)},[it,nt.focusedKey]),{collection:it,expandedKeys:tt,disabledKeys:st,toggleKey:ot=>{rt($875d6693e12af071$var$toggleKey(tt,ot))},setExpandedKeys:rt,selectionManager:new $d496c0a20b6e58ec$export$6c8a5aaad13c9852(it,nt)}}function $875d6693e12af071$var$toggleKey(et,_e){let tt=new Set(et);return tt.has(_e)?tt.delete(_e):tt.add(_e),tt}function useSeparator$1(et){let _e=filterDOMProps$1(et,{enabled:typeof et.elementType=="string"}),tt;return et.orientation==="vertical"&&(tt="vertical"),et.elementType!=="hr"?{separatorProps:{..._e,role:"separator","aria-orientation":tt}}:{separatorProps:_e}}function useDivider$1(et){const{as:_e,className:tt,orientation:rt,...nt}=et;let st=_e||"hr";st==="hr"&&rt==="vertical"&&(st="div");const{separatorProps:it}=useSeparator$1({elementType:typeof st=="string"?st:"hr",orientation:rt}),at=reactExports.useMemo(()=>divider$1({orientation:rt,className:tt}),[rt,tt]),ot=reactExports.useCallback((lt={})=>({className:at,role:"separator","data-orientation":rt,...it,...nt,...lt}),[at,rt,it,nt]);return{Component:st,getDividerProps:ot}}var Divider$1=forwardRef$1((et,_e)=>{const{Component:tt,getDividerProps:rt}=useDivider$1({...et});return jsxRuntimeExports.jsx(tt,{ref:_e,...rt()})});Divider$1.displayName="NextUI.Divider";var divider_default$1=Divider$1,getTransformOrigins=et=>{const _e={top:{originY:1},bottom:{originY:0},left:{originX:1},right:{originX:0},"top-start":{originX:0,originY:1},"top-end":{originX:1,originY:1},"bottom-start":{originX:0,originY:0},"bottom-end":{originX:1,originY:0},"right-start":{originX:0,originY:0},"right-end":{originX:0,originY:1},"left-start":{originX:1,originY:0},"left-end":{originX:1,originY:1}};return(_e==null?void 0:_e[et])||{}},toReactAriaPlacement=et=>({top:"top",bottom:"bottom",left:"left",right:"right","top-start":"top start","top-end":"top end","bottom-start":"bottom start","bottom-end":"bottom end","left-start":"left top","left-end":"left bottom","right-start":"right top","right-end":"right bottom"})[et],getShouldUseAxisPlacement=(et,_e)=>{if(_e.includes("-")){const[tt]=_e.split("-");if(tt.includes(et))return!1}return!0},getArrowPlacement=(et,_e)=>{if(_e.includes("-")){const[,tt]=_e.split("-");return`${et}-${tt}`}return et},refCountMap=new WeakMap,observerStack=[];function ariaHideOutside(et,_e=document.body){let tt=new Set(et),rt=new Set,nt=ot=>{for(let dt of ot.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))tt.add(dt);let lt=dt=>{if(tt.has(dt)||dt.parentElement&&rt.has(dt.parentElement)&&dt.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let ft of tt)if(dt.contains(ft))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},ct=document.createTreeWalker(ot,NodeFilter.SHOW_ELEMENT,{acceptNode:lt}),ut=lt(ot);if(ut===NodeFilter.FILTER_ACCEPT&&st(ot),ut!==NodeFilter.FILTER_REJECT){let dt=ct.nextNode();for(;dt!=null;)st(dt),dt=ct.nextNode()}},st=ot=>{var lt;let ct=(lt=refCountMap.get(ot))!=null?lt:0;ot.getAttribute("aria-hidden")==="true"&&ct===0||(ct===0&&ot.setAttribute("aria-hidden","true"),rt.add(ot),refCountMap.set(ot,ct+1))};observerStack.length&&observerStack[observerStack.length-1].disconnect(),nt(_e);let it=new MutationObserver(ot=>{for(let lt of ot)if(!(lt.type!=="childList"||lt.addedNodes.length===0)&&![...tt,...rt].some(ct=>ct.contains(lt.target))){for(let ct of lt.removedNodes)ct instanceof Element&&(tt.delete(ct),rt.delete(ct));for(let ct of lt.addedNodes)(ct instanceof HTMLElement||ct instanceof SVGElement)&&(ct.dataset.liveAnnouncer==="true"||ct.dataset.reactAriaTopLayer==="true")?tt.add(ct):ct instanceof Element&&nt(ct)}});it.observe(_e,{childList:!0,subtree:!0});let at={observe(){it.observe(_e,{childList:!0,subtree:!0})},disconnect(){it.disconnect()}};return observerStack.push(at),()=>{it.disconnect();for(let ot of rt){let lt=refCountMap.get(ot);lt!=null&&(lt===1?(ot.removeAttribute("aria-hidden"),refCountMap.delete(ot)):refCountMap.set(ot,lt-1))}at===observerStack[observerStack.length-1]?(observerStack.pop(),observerStack.length&&observerStack[observerStack.length-1].observe()):observerStack.splice(observerStack.indexOf(at),1)}}var ariaShouldCloseOnInteractOutside=(et,_e,tt)=>{const rt=_e==null?void 0:_e.current;if(!rt||!rt.contains(et)){const nt=document.querySelectorAll("body > span[data-focus-scope-start]");let st=[];if(nt.forEach(it=>{st.push(it.nextElementSibling)}),st.length===1)return tt.close(),!1}return!rt||!rt.contains(et)},AvatarIcon=()=>jsxRuntimeExports.jsxs("svg",{"aria-hidden":"true",fill:"none",height:"80%",role:"presentation",viewBox:"0 0 24 24",width:"80%",children:[jsxRuntimeExports.jsx("path",{d:"M12 2C9.38 2 7.25 4.13 7.25 6.75C7.25 9.32 9.26 11.4 11.88 11.49C11.96 11.48 12.04 11.48 12.1 11.49C12.12 11.49 12.13 11.49 12.15 11.49C12.16 11.49 12.16 11.49 12.17 11.49C14.73 11.4 16.74 9.32 16.75 6.75C16.75 4.13 14.62 2 12 2Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{d:"M17.0809 14.1489C14.2909 12.2889 9.74094 12.2889 6.93094 14.1489C5.66094 14.9989 4.96094 16.1489 4.96094 17.3789C4.96094 18.6089 5.66094 19.7489 6.92094 20.5889C8.32094 21.5289 10.1609 21.9989 12.0009 21.9989C13.8409 21.9989 15.6809 21.5289 17.0809 20.5889C18.3409 19.7389 19.0409 18.5989 19.0409 17.3589C19.0309 16.1289 18.3409 14.9889 17.0809 14.1489Z",fill:"currentColor"})]}),[AvatarGroupProvider,useAvatarGroupContext]=createContext2$1({name:"AvatarGroupContext",strict:!1}),useSafeLayoutEffect=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:reactExports.useEffect;function useImage(et={}){const{loading:_e,src:tt,srcSet:rt,onLoad:nt,onError:st,crossOrigin:it,sizes:at,ignoreFallback:ot}=et,[lt,ct]=reactExports.useState("pending");reactExports.useEffect(()=>{ct(tt?"loading":"pending")},[tt]);const ut=reactExports.useRef(),dt=reactExports.useCallback(()=>{if(!tt)return;ft();const ht=new Image;ht.src=tt,it&&(ht.crossOrigin=it),rt&&(ht.srcset=rt),at&&(ht.sizes=at),_e&&(ht.loading=_e),ht.onload=pt=>{ft(),ct("loaded"),nt==null||nt(pt)},ht.onerror=pt=>{ft(),ct("failed"),st==null||st(pt)},ut.current=ht},[tt,it,rt,at,nt,st,_e]),ft=()=>{ut.current&&(ut.current.onload=null,ut.current.onerror=null,ut.current=null)};return useSafeLayoutEffect(()=>{if(!ot)return lt==="loading"&&dt(),()=>{ft()}},[lt,dt,ot]),ot?"loaded":lt}function useAvatar(et={}){var _e,tt,rt,nt,st,it;const at=useProviderContext$1(),ot=useAvatarGroupContext(),lt=!!ot,{as:ct,ref:ut,src:dt,name:ft,icon:ht,classNames:pt,fallback:gt,alt:mt=ft||"avatar",imgRef:bt,color:vt=(_e=ot==null?void 0:ot.color)!=null?_e:"default",radius:yt=(tt=ot==null?void 0:ot.radius)!=null?tt:"full",size:xt=(rt=ot==null?void 0:ot.size)!=null?rt:"md",isBordered:Et=(nt=ot==null?void 0:ot.isBordered)!=null?nt:!1,isDisabled:wt=(st=ot==null?void 0:ot.isDisabled)!=null?st:!1,isFocusable:$t=!1,getInitials:Tt=safeText,ignoreFallback:St=!1,showFallback:Pt=!1,ImgComponent:At="img",imgProps:Rt,className:Ct,onError:Dt,disableAnimation:Ft,...Mt}=et,Ot=ct||"span",jt=useDOMRef$1(ut),Ut=useDOMRef$1(bt),{isFocusVisible:_t,isFocused:It,focusProps:Wt}=$f7dceffc5ad7768b$export$4e328f61c538687f(),{isHovered:Kt,hoverProps:Bt}=$6179b936705e76d3$export$ae780daf29e6d456({isDisabled:wt}),Qt=(it=Ft??(at==null?void 0:at.disableAnimation))!=null?it:!1,Xt=useImage({src:dt,onError:Dt,ignoreFallback:St})==="loaded",Zt=typeof At=="string",Yt=(!dt||!Xt)&&Pt,rr=reactExports.useMemo(()=>{var Gt;return avatar({color:vt,radius:yt,size:xt,isBordered:Et,isDisabled:wt,isInGroup:lt,disableAnimation:Qt,isInGridGroup:(Gt=ot==null?void 0:ot.isGrid)!=null?Gt:!1})},[vt,yt,xt,Et,wt,Qt,lt,ot==null?void 0:ot.isGrid]),ar=clsx$2(pt==null?void 0:pt.base,Ct),sr=reactExports.useMemo(()=>$t||ct==="button",[$t,ct]),kt=reactExports.useCallback((Gt={})=>({ref:jt,tabIndex:sr?0:-1,"data-hover":dataAttr$1(Kt),"data-focus":dataAttr$1(It),"data-focus-visible":dataAttr$1(_t),className:rr.base({class:clsx$2(ar,Gt==null?void 0:Gt.className)}),...$3ef42575df84b30b$export$9d1611c77c2fe928(Mt,Bt,sr?Wt:{})}),[sr,rr,ar,Wt,Mt]),er=reactExports.useCallback((Gt={})=>({ref:Ut,src:dt,"data-loaded":dataAttr$1(Xt),className:rr.img({class:pt==null?void 0:pt.img}),...$3ef42575df84b30b$export$9d1611c77c2fe928(Rt,Gt,filterDOMProps$1({disableAnimation:Qt},{enabled:Zt}))}),[rr,Xt,Rt,Qt,dt,Ut,Zt]);return{Component:Ot,ImgComponent:At,src:dt,alt:mt,icon:ht,name:ft,imgRef:Ut,slots:rr,classNames:pt,fallback:gt,isImgLoaded:Xt,showFallback:Yt,ignoreFallback:St,getInitials:Tt,getAvatarProps:kt,getImageProps:er}}var Avatar=forwardRef$1((et,_e)=>{const{Component:tt,ImgComponent:rt,src:nt,icon:st=jsxRuntimeExports.jsx(AvatarIcon,{}),alt:it,classNames:at,slots:ot,name:lt,showFallback:ct,fallback:ut,getInitials:dt,getAvatarProps:ft,getImageProps:ht}=useAvatar({...et,ref:_e}),pt=reactExports.useMemo(()=>!ct&&nt?null:ut?jsxRuntimeExports.jsx("div",{"aria-label":it,className:ot.fallback({class:at==null?void 0:at.fallback}),role:"img",children:ut}):lt?jsxRuntimeExports.jsx("span",{"aria-label":it,className:ot.name({class:at==null?void 0:at.name}),role:"img",children:dt(lt)}):jsxRuntimeExports.jsx("span",{"aria-label":it,className:ot.icon({class:at==null?void 0:at.icon}),role:"img",children:st}),[ct,nt,ut,lt,at]);return jsxRuntimeExports.jsxs(tt,{...ft(),children:[nt&&jsxRuntimeExports.jsx(rt,{...ht(),alt:it}),pt]})});Avatar.displayName="NextUI.Avatar";var avatar_default=Avatar;function useBadge(et){var _e,tt;const rt=useProviderContext$1(),nt=(tt=(_e=et==null?void 0:et.disableAnimation)!=null?_e:rt==null?void 0:rt.disableAnimation)!=null?tt:!1,[st,it]=mapPropsVariants$1(et,badge.variantKeys),{as:at,children:ot,className:lt,content:ct,classNames:ut,...dt}=st,ft=at||"span",ht=reactExports.useMemo(()=>{var vt;return((vt=String(ct))==null?void 0:vt.length)===1||(et==null?void 0:et.isOneChar)},[ct,et==null?void 0:et.isOneChar]),pt=reactExports.useMemo(()=>{var vt;return((vt=String(ct))==null?void 0:vt.length)===0},[ct]),gt=clsx$2(ut==null?void 0:ut.badge,lt),mt=reactExports.useMemo(()=>badge({...it,showOutline:et!=null&&et.disableOutline?!(et!=null&&et.disableOutline):et==null?void 0:et.showOutline,isOneChar:ht,isDot:pt}),[objectToDeps$1(it),ht,pt]),bt=()=>({className:mt.badge({class:gt}),"data-invisible":et.isInvisible,...dt});return{Component:ft,children:ot,content:ct,slots:mt,classNames:ut,disableAnimation:nt,isInvisible:et==null?void 0:et.isInvisible,getBadgeProps:bt}}var Badge=forwardRef$1((et,_e)=>{const{Component:tt,children:rt,content:nt,slots:st,classNames:it,getBadgeProps:at}=useBadge({...et});return jsxRuntimeExports.jsxs("div",{className:st.base({class:it==null?void 0:it.base}),children:[rt,jsxRuntimeExports.jsx(tt,{ref:_e,...at(),children:nt})]})});Badge.displayName="NextUI.Badge";var badge_default=Badge,[ButtonGroupProvider,useButtonGroupContext]=createContext2$1({name:"ButtonGroupContext",strict:!1});function useAriaButton$1(et,_e){let{elementType:tt="button",isDisabled:rt,onPress:nt,onPressStart:st,onPressEnd:it,onPressChange:at,preventFocusOnPress:ot,allowFocusWhenDisabled:lt,onClick:ct,href:ut,target:dt,rel:ft,type:ht="button",allowTextSelectionOnPress:pt}=et,gt;tt==="button"?gt={type:ht,disabled:rt}:gt={role:"button",tabIndex:rt?void 0:0,href:tt==="a"&&!rt?ut:void 0,target:tt==="a"?dt:void 0,type:tt==="input"?ht:void 0,disabled:tt==="input"?rt:void 0,"aria-disabled":!rt||tt==="input"?void 0:rt,rel:tt==="a"?ft:void 0};let mt=$c87311424ea30a05$export$fedb369cb70207f1()||$c87311424ea30a05$export$a11b0059900ceec8();ct&&typeof ct=="function"&&warn$2("onClick is deprecated, please use onPress instead. See: https://github.com/nextui-org/nextui/issues/4292","useButton");const bt=wt=>{mt&&(ct==null||ct(wt)),nt==null||nt(wt)};let{pressProps:vt,isPressed:yt}=$f6c31cce2adf654f$export$45712eceda6fad21({onPressStart:st,onPressEnd:it,onPressChange:at,onPress:bt,isDisabled:rt,preventFocusOnPress:ot,allowTextSelectionOnPress:pt,ref:_e}),{focusableProps:xt}=$e6afbd83fe6ebbd2$export$4c014de7c8940b4c(et,_e);lt&&(xt.tabIndex=rt?-1:xt.tabIndex);let Et=$3ef42575df84b30b$export$9d1611c77c2fe928(xt,vt,$65484d02dcb7eb3e$export$457c3d6518dd4c6f(et,{labelable:!0}));return{isPressed:yt,buttonProps:$3ef42575df84b30b$export$9d1611c77c2fe928(gt,Et,{"aria-haspopup":et["aria-haspopup"],"aria-expanded":et["aria-expanded"],"aria-controls":et["aria-controls"],"aria-pressed":et["aria-pressed"],onClick:wt=>{ht==="button"&&mt||ct==null||ct(wt)}})}}var domAnimation$6=()=>__vitePreload(()=>import("./index-M-A19hlJ.js"),__vite__mapDeps([])).then(et=>et.default),Ripple$1=et=>{const{ripples:_e=[],motionProps:tt,color:rt="currentColor",style:nt,onClear:st}=et;return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:_e.map(it=>{const at=clamp$2(.01*it.size,.2,it.size>100?.75:.5);return jsxRuntimeExports.jsx(LazyMotion,{features:domAnimation$6,children:jsxRuntimeExports.jsx(AnimatePresence,{mode:"popLayout",children:jsxRuntimeExports.jsx(m$1.span,{animate:{transform:"scale(2)",opacity:0},className:"nextui-ripple",exit:{opacity:0},initial:{transform:"scale(0)",opacity:.35},style:{position:"absolute",backgroundColor:rt,borderRadius:"100%",transformOrigin:"center",pointerEvents:"none",overflow:"hidden",inset:0,zIndex:0,top:it.y,left:it.x,width:`${it.size}px`,height:`${it.size}px`,...nt},transition:{duration:at},onAnimationComplete:()=>{st(it.key)},...tt})})},it.key)})})};Ripple$1.displayName="NextUI.Ripple";var ripple_default$1=Ripple$1;function useRipple$1(et={}){const[_e,tt]=reactExports.useState([]),rt=reactExports.useCallback(st=>{const it=st.target,at=Math.max(it.clientWidth,it.clientHeight);tt(ot=>[...ot,{key:getUniqueID$1(ot.length.toString()),size:at,x:st.x-at/2,y:st.y-at/2}])},[]),nt=reactExports.useCallback(st=>{tt(it=>it.filter(at=>at.key!==st))},[]);return{ripples:_e,onClear:nt,onPress:rt,...et}}function useButton(et){var _e,tt,rt,nt,st,it,at,ot,lt;const ct=useButtonGroupContext(),ut=useProviderContext$1(),dt=!!ct,{ref:ft,as:ht,children:pt,startContent:gt,endContent:mt,autoFocus:bt,className:vt,spinner:yt,isLoading:xt=!1,disableRipple:Et=!1,fullWidth:wt=(_e=ct==null?void 0:ct.fullWidth)!=null?_e:!1,radius:$t=ct==null?void 0:ct.radius,size:Tt=(tt=ct==null?void 0:ct.size)!=null?tt:"md",color:St=(rt=ct==null?void 0:ct.color)!=null?rt:"default",variant:Pt=(nt=ct==null?void 0:ct.variant)!=null?nt:"solid",disableAnimation:At=(it=(st=ct==null?void 0:ct.disableAnimation)!=null?st:ut==null?void 0:ut.disableAnimation)!=null?it:!1,isDisabled:Rt=(at=ct==null?void 0:ct.isDisabled)!=null?at:!1,isIconOnly:Ct=(ot=ct==null?void 0:ct.isIconOnly)!=null?ot:!1,spinnerPlacement:Dt="start",onPress:Ft,onClick:Mt,...Ot}=et,jt=ht||"button",Ut=typeof jt=="string",_t=useDOMRef$1(ft),It=(lt=Et||(ut==null?void 0:ut.disableRipple))!=null?lt:At,{isFocusVisible:Wt,isFocused:Kt,focusProps:Bt}=$f7dceffc5ad7768b$export$4e328f61c538687f({autoFocus:bt}),Qt=Rt||xt,Nt=reactExports.useMemo(()=>button({size:Tt,color:St,variant:Pt,radius:$t,fullWidth:wt,isDisabled:Qt,isInGroup:dt,disableAnimation:At,isIconOnly:Ct,className:vt}),[Tt,St,Pt,$t,wt,Qt,dt,Ct,At,vt]),{onPress:Xt,onClear:Zt,ripples:Yt}=useRipple$1(),rr=reactExports.useCallback(Jt=>{It||Qt||At||_t.current&&Xt(Jt)},[It,Qt,At,_t,Xt]),{buttonProps:ar,isPressed:sr}=useAriaButton$1({elementType:ht,isDisabled:Qt,onPress:$ff5963eb1fccf552$export$e08e3b67e392101e(Ft,rr),onClick:Mt,...Ot},_t),{isHovered:kt,hoverProps:er}=$6179b936705e76d3$export$ae780daf29e6d456({isDisabled:Qt}),Gt=reactExports.useCallback((Jt={})=>({"data-disabled":dataAttr$1(Qt),"data-focus":dataAttr$1(Kt),"data-pressed":dataAttr$1(sr),"data-focus-visible":dataAttr$1(Wt),"data-hover":dataAttr$1(kt),"data-loading":dataAttr$1(xt),...$3ef42575df84b30b$export$9d1611c77c2fe928(ar,Bt,er,filterDOMProps$1(Ot,{enabled:Ut}),filterDOMProps$1(Jt))}),[xt,Qt,Kt,sr,Ut,Wt,kt,ar,Bt,er,Ot]),zt=Jt=>reactExports.isValidElement(Jt)?reactExports.cloneElement(Jt,{"aria-hidden":!0,focusable:!1,tabIndex:-1}):null,Vt=zt(gt),Ht=zt(mt),lr=reactExports.useMemo(()=>({sm:"sm",md:"sm",lg:"md"})[Tt],[Tt]),dr=reactExports.useCallback(()=>({ripples:Yt,onClear:Zt}),[Yt,Zt]);return{Component:jt,children:pt,domRef:_t,spinner:yt,styles:Nt,startContent:Vt,endContent:Ht,isLoading:xt,spinnerPlacement:Dt,spinnerSize:lr,disableRipple:It,getButtonProps:Gt,getRippleProps:dr,isIconOnly:Ct}}function useSpinner(et){const[_e,tt]=mapPropsVariants$1(et,spinner.variantKeys),{children:rt,className:nt,classNames:st,label:it,...at}=_e,ot=reactExports.useMemo(()=>spinner({...tt}),[objectToDeps$1(tt)]),lt=clsx$2(st==null?void 0:st.base,nt),ct=it||rt,ut=reactExports.useMemo(()=>ct&&typeof ct=="string"?ct:at["aria-label"]?"":"Loading",[rt,ct,at["aria-label"]]),dt=reactExports.useCallback(()=>({"aria-label":ut,className:ot.base({class:lt}),...at}),[ut,ot,lt,at]);return{label:ct,slots:ot,classNames:st,getSpinnerProps:dt}}var Spinner=forwardRef$1((et,_e)=>{const{slots:tt,classNames:rt,label:nt,getSpinnerProps:st}=useSpinner({...et});return jsxRuntimeExports.jsxs("div",{ref:_e,...st(),children:[jsxRuntimeExports.jsxs("div",{className:tt.wrapper({class:rt==null?void 0:rt.wrapper}),children:[jsxRuntimeExports.jsx("i",{className:tt.circle1({class:rt==null?void 0:rt.circle1})}),jsxRuntimeExports.jsx("i",{className:tt.circle2({class:rt==null?void 0:rt.circle2})})]}),nt&&jsxRuntimeExports.jsx("span",{className:tt.label({class:rt==null?void 0:rt.label}),children:nt})]})});Spinner.displayName="NextUI.Spinner";var spinner_default=Spinner,Button=forwardRef$1((et,_e)=>{const{Component:tt,domRef:rt,children:nt,styles:st,spinnerSize:it,spinner:at=jsxRuntimeExports.jsx(spinner_default,{color:"current",size:it}),spinnerPlacement:ot,startContent:lt,endContent:ct,isLoading:ut,disableRipple:dt,getButtonProps:ft,getRippleProps:ht,isIconOnly:pt}=useButton({...et,ref:_e});return jsxRuntimeExports.jsxs(tt,{ref:rt,className:st,...ft(),children:[lt,ut&&ot==="start"&&at,ut&&pt?null:nt,ut&&ot==="end"&&at,ct,!dt&&jsxRuntimeExports.jsx(ripple_default$1,{...ht()})]})});Button.displayName="NextUI.Button";var button_default=Button,[CardProvider$1,useCardContext$1]=createContext2$1({name:"CardContext",strict:!0,errorMessage:"useCardContext: `context` is undefined. Seems you forgot to wrap component within <Card />"}),CardBody$1=forwardRef$1((et,_e)=>{var tt;const{as:rt,className:nt,children:st,...it}=et,at=rt||"div",ot=useDOMRef$1(_e),{slots:lt,classNames:ct}=useCardContext$1(),ut=clsx$2(ct==null?void 0:ct.body,nt);return jsxRuntimeExports.jsx(at,{ref:ot,className:(tt=lt.body)==null?void 0:tt.call(lt,{class:ut}),...it,children:st})});CardBody$1.displayName="NextUI.CardBody";var card_body_default$1=CardBody$1,CardHeader=forwardRef$1((et,_e)=>{var tt;const{as:rt,className:nt,children:st,...it}=et,at=rt||"div",ot=useDOMRef$1(_e),{slots:lt,classNames:ct}=useCardContext$1(),ut=clsx$2(ct==null?void 0:ct.header,nt);return jsxRuntimeExports.jsx(at,{ref:ot,className:(tt=lt.header)==null?void 0:tt.call(lt,{class:ut}),...it,children:st})});CardHeader.displayName="NextUI.CardHeader";var card_header_default=CardHeader;function useCard$1(et){var _e,tt,rt,nt;const st=useProviderContext$1(),[it,at]=mapPropsVariants$1(et,card$1.variantKeys),{ref:ot,as:lt,children:ct,onClick:ut,onPress:dt,autoFocus:ft,className:ht,classNames:pt,allowTextSelectionOnPress:gt=!0,...mt}=it,bt=useDOMRef$1(ot),vt=lt||(et.isPressable?"button":"div"),yt=typeof vt=="string",xt=(tt=(_e=et.disableAnimation)!=null?_e:st==null?void 0:st.disableAnimation)!=null?tt:!1,Et=(nt=(rt=et.disableRipple)!=null?rt:st==null?void 0:st.disableRipple)!=null?nt:!1,wt=clsx$2(pt==null?void 0:pt.base,ht),{onClear:$t,onPress:Tt,ripples:St}=useRipple$1(),Pt=reactExports.useCallback(Wt=>{Et||xt||bt.current&&Tt(Wt)},[Et,xt,bt,Tt]),{buttonProps:At,isPressed:Rt}=useAriaButton$1({onPress:$ff5963eb1fccf552$export$e08e3b67e392101e(dt,Pt),elementType:lt,isDisabled:!et.isPressable,onClick:ut,allowTextSelectionOnPress:gt,...mt},bt),{hoverProps:Ct,isHovered:Dt}=$6179b936705e76d3$export$ae780daf29e6d456({isDisabled:!et.isHoverable,...mt}),{isFocusVisible:Ft,isFocused:Mt,focusProps:Ot}=$f7dceffc5ad7768b$export$4e328f61c538687f({autoFocus:ft}),jt=reactExports.useMemo(()=>card$1({...at,disableAnimation:xt}),[objectToDeps$1(at),xt]),Ut=reactExports.useMemo(()=>({slots:jt,classNames:pt,disableAnimation:xt,isDisabled:et.isDisabled,isFooterBlurred:et.isFooterBlurred,fullWidth:et.fullWidth}),[jt,pt,et.isDisabled,et.isFooterBlurred,xt,et.fullWidth]),_t=reactExports.useCallback((Wt={})=>({ref:bt,className:jt.base({class:wt}),tabIndex:et.isPressable?0:-1,"data-hover":dataAttr$1(Dt),"data-pressed":dataAttr$1(Rt),"data-focus":dataAttr$1(Mt),"data-focus-visible":dataAttr$1(Ft),"data-disabled":dataAttr$1(et.isDisabled),...$3ef42575df84b30b$export$9d1611c77c2fe928(et.isPressable?{...At,...Ot,role:"button"}:{},et.isHoverable?Ct:{},filterDOMProps$1(mt,{enabled:yt}),filterDOMProps$1(Wt))}),[bt,jt,wt,yt,et.isPressable,et.isHoverable,et.isDisabled,Dt,Rt,Ft,At,Ot,Ct,mt]),It=reactExports.useCallback(()=>({ripples:St,onClear:$t}),[St,$t]);return{context:Ut,domRef:bt,Component:vt,classNames:pt,children:ct,isHovered:Dt,isPressed:Rt,disableAnimation:xt,isPressable:et.isPressable,isHoverable:et.isHoverable,disableRipple:Et,handlePress:Pt,isFocusVisible:Ft,getCardProps:_t,getRippleProps:It}}var Card$1=forwardRef$1((et,_e)=>{const{children:tt,context:rt,Component:nt,isPressable:st,disableAnimation:it,disableRipple:at,getCardProps:ot,getRippleProps:lt}=useCard$1({...et,ref:_e});return jsxRuntimeExports.jsxs(nt,{...ot(),children:[jsxRuntimeExports.jsx(CardProvider$1,{value:rt,children:tt}),st&&!it&&!at&&jsxRuntimeExports.jsx(ripple_default$1,{...lt()})]})});Card$1.displayName="NextUI.Card";var card_default$1=Card$1;function useChip(et){const[_e,tt]=mapPropsVariants$1(et,chip.variantKeys),{ref:rt,as:nt,children:st,avatar:it,startContent:at,endContent:ot,onClose:lt,classNames:ct,className:ut,...dt}=_e,ft=nt||"div",ht=useDOMRef$1(rt),pt=clsx$2(ct==null?void 0:ct.base,ut),gt=!!lt,mt=et.variant==="dot",{focusProps:bt,isFocusVisible:vt}=$f7dceffc5ad7768b$export$4e328f61c538687f(),yt=reactExports.useMemo(()=>typeof st=="string"&&(st==null?void 0:st.length)===1,[st]),xt=reactExports.useMemo(()=>!!it||!!at,[it,at]),Et=reactExports.useMemo(()=>!!ot||gt,[ot,gt]),wt=reactExports.useMemo(()=>chip({...tt,hasStartContent:xt,hasEndContent:Et,isOneChar:yt,isCloseable:gt,isCloseButtonFocusVisible:vt}),[objectToDeps$1(tt),vt,xt,Et,yt,gt]),{pressProps:$t}=$f6c31cce2adf654f$export$45712eceda6fad21({isDisabled:!!(et!=null&&et.isDisabled),onPress:lt}),Tt=()=>({ref:ht,className:wt.base({class:pt}),...dt}),St=()=>({role:"button",tabIndex:0,className:wt.closeButton({class:ct==null?void 0:ct.closeButton}),"aria-label":"close chip",...$3ef42575df84b30b$export$9d1611c77c2fe928($t,bt)}),Pt=Rt=>reactExports.isValidElement(Rt)?reactExports.cloneElement(Rt,{className:wt.avatar({class:ct==null?void 0:ct.avatar})}):null,At=Rt=>reactExports.isValidElement(Rt)?reactExports.cloneElement(Rt,{className:clsx$2("max-h-[80%]",Rt.props.className)}):null;return{Component:ft,children:st,slots:wt,classNames:ct,isDot:mt,isCloseable:gt,startContent:Pt(it)||At(at),endContent:At(ot),getCloseButtonProps:St,getChipProps:Tt}}var Chip=forwardRef$1((et,_e)=>{const{Component:tt,children:rt,slots:nt,classNames:st,isDot:it,isCloseable:at,startContent:ot,endContent:lt,getCloseButtonProps:ct,getChipProps:ut}=useChip({...et,ref:_e}),dt=reactExports.useMemo(()=>it&&!ot?jsxRuntimeExports.jsx("span",{className:nt.dot({class:st==null?void 0:st.dot})}):ot,[nt,ot,it]),ft=reactExports.useMemo(()=>at?jsxRuntimeExports.jsx("span",{...ct(),children:lt||jsxRuntimeExports.jsx(CloseFilledIcon,{})}):lt,[lt,at,ct]);return jsxRuntimeExports.jsxs(tt,{...ut(),children:[dt,jsxRuntimeExports.jsx("span",{className:nt.content({class:st==null?void 0:st.content}),children:rt}),ft]})});Chip.displayName="NextUI.Chip";var chip_default=Chip;const $e5be200c675c3b3a$export$aca958c65c314e6c={badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1,valid:!0},$e5be200c675c3b3a$var$CUSTOM_VALIDITY_STATE={...$e5be200c675c3b3a$export$aca958c65c314e6c,customError:!0,valid:!1},$e5be200c675c3b3a$export$dad6ae84456c676a={isInvalid:!1,validationDetails:$e5be200c675c3b3a$export$aca958c65c314e6c,validationErrors:[]},$e5be200c675c3b3a$export$571b5131b7e65c11=reactExports.createContext({}),$e5be200c675c3b3a$export$a763b9476acd3eb="__formValidationState"+Date.now();function $e5be200c675c3b3a$export$fc1a364ae1f3ff10(et){if(et[$e5be200c675c3b3a$export$a763b9476acd3eb]){let{realtimeValidation:_e,displayValidation:tt,updateValidation:rt,resetValidation:nt,commitValidation:st}=et[$e5be200c675c3b3a$export$a763b9476acd3eb];return{realtimeValidation:_e,displayValidation:tt,updateValidation:rt,resetValidation:nt,commitValidation:st}}return $e5be200c675c3b3a$var$useFormValidationStateImpl(et)}function $e5be200c675c3b3a$var$useFormValidationStateImpl(et){let{isInvalid:_e,validationState:tt,name:rt,value:nt,builtinValidation:st,validate:it,validationBehavior:at="aria"}=et;tt&&(_e||(_e=tt==="invalid"));let ot=_e!==void 0?{isInvalid:_e,validationErrors:[],validationDetails:$e5be200c675c3b3a$var$CUSTOM_VALIDITY_STATE}:null,lt=reactExports.useMemo(()=>{if(!it||nt==null)return null;let St=$e5be200c675c3b3a$var$runValidate(it,nt);return $e5be200c675c3b3a$var$getValidationResult(St)},[it,nt]);st!=null&&st.validationDetails.valid&&(st=void 0);let ct=reactExports.useContext($e5be200c675c3b3a$export$571b5131b7e65c11),ut=reactExports.useMemo(()=>rt?Array.isArray(rt)?rt.flatMap(St=>$e5be200c675c3b3a$var$asArray(ct[St])):$e5be200c675c3b3a$var$asArray(ct[rt]):[],[ct,rt]),[dt,ft]=reactExports.useState(ct),[ht,pt]=reactExports.useState(!1);ct!==dt&&(ft(ct),pt(!1));let gt=reactExports.useMemo(()=>$e5be200c675c3b3a$var$getValidationResult(ht?[]:ut),[ht,ut]),mt=reactExports.useRef($e5be200c675c3b3a$export$dad6ae84456c676a),[bt,vt]=reactExports.useState($e5be200c675c3b3a$export$dad6ae84456c676a),yt=reactExports.useRef($e5be200c675c3b3a$export$dad6ae84456c676a),xt=()=>{if(!Et)return;wt(!1);let St=lt||st||mt.current;$e5be200c675c3b3a$var$isEqualValidation(St,yt.current)||(yt.current=St,vt(St))},[Et,wt]=reactExports.useState(!1);return reactExports.useEffect(xt),{realtimeValidation:ot||gt||lt||st||$e5be200c675c3b3a$export$dad6ae84456c676a,displayValidation:at==="native"?ot||gt||bt:ot||gt||lt||st||bt,updateValidation(St){at==="aria"&&!$e5be200c675c3b3a$var$isEqualValidation(bt,St)?vt(St):mt.current=St},resetValidation(){let St=$e5be200c675c3b3a$export$dad6ae84456c676a;$e5be200c675c3b3a$var$isEqualValidation(St,yt.current)||(yt.current=St,vt(St)),at==="native"&&wt(!1),pt(!0)},commitValidation(){at==="native"&&wt(!0),pt(!0)}}}function $e5be200c675c3b3a$var$asArray(et){return et?Array.isArray(et)?et:[et]:[]}function $e5be200c675c3b3a$var$runValidate(et,_e){if(typeof et=="function"){let tt=et(_e);if(tt&&typeof tt!="boolean")return $e5be200c675c3b3a$var$asArray(tt)}return[]}function $e5be200c675c3b3a$var$getValidationResult(et){return et.length?{isInvalid:!0,validationErrors:et,validationDetails:$e5be200c675c3b3a$var$CUSTOM_VALIDITY_STATE}:null}function $e5be200c675c3b3a$var$isEqualValidation(et,_e){return et===_e?!0:!!et&&!!_e&&et.isInvalid===_e.isInvalid&&et.validationErrors.length===_e.validationErrors.length&&et.validationErrors.every((tt,rt)=>tt===_e.validationErrors[rt])&&Object.entries(et.validationDetails).every(([tt,rt])=>_e.validationDetails[tt]===rt)}function $e93e671b31057976$export$b8473d3665f3a75a(et,_e,tt){let{validationBehavior:rt,focus:nt}=et;$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{if(rt==="native"&&(tt!=null&&tt.current)){let ot=_e.realtimeValidation.isInvalid?_e.realtimeValidation.validationErrors.join(" ")||"Invalid value.":"";tt.current.setCustomValidity(ot),tt.current.hasAttribute("title")||(tt.current.title=""),_e.realtimeValidation.isInvalid||_e.updateValidation($e93e671b31057976$var$getNativeValidity(tt.current))}});let st=$8ae05eaa5c114e9c$export$7f54fc3180508a52(()=>{_e.resetValidation()}),it=$8ae05eaa5c114e9c$export$7f54fc3180508a52(ot=>{var lt;_e.displayValidation.isInvalid||_e.commitValidation();let ct=tt==null||(lt=tt.current)===null||lt===void 0?void 0:lt.form;if(!ot.defaultPrevented&&tt&&ct&&$e93e671b31057976$var$getFirstInvalidInput(ct)===tt.current){var ut;nt?nt():(ut=tt.current)===null||ut===void 0||ut.focus(),$507fabe10e71c6fb$export$8397ddfc504fdb9a("keyboard")}ot.preventDefault()}),at=$8ae05eaa5c114e9c$export$7f54fc3180508a52(()=>{_e.commitValidation()});reactExports.useEffect(()=>{let ot=tt==null?void 0:tt.current;if(!ot)return;let lt=ot.form;return ot.addEventListener("invalid",it),ot.addEventListener("change",at),lt==null||lt.addEventListener("reset",st),()=>{ot.removeEventListener("invalid",it),ot.removeEventListener("change",at),lt==null||lt.removeEventListener("reset",st)}},[tt,it,at,st,rt])}function $e93e671b31057976$var$getValidity(et){let _e=et.validity;return{badInput:_e.badInput,customError:_e.customError,patternMismatch:_e.patternMismatch,rangeOverflow:_e.rangeOverflow,rangeUnderflow:_e.rangeUnderflow,stepMismatch:_e.stepMismatch,tooLong:_e.tooLong,tooShort:_e.tooShort,typeMismatch:_e.typeMismatch,valueMissing:_e.valueMissing,valid:_e.valid}}function $e93e671b31057976$var$getNativeValidity(et){return{isInvalid:!et.validity.valid,validationDetails:$e93e671b31057976$var$getValidity(et),validationErrors:et.validationMessage?[et.validationMessage]:[]}}function $e93e671b31057976$var$getFirstInvalidInput(et){for(let _e=0;_e<et.elements.length;_e++){let tt=et.elements[_e];if(!tt.validity.valid)return tt}return null}function $d2c8e2b0480f3f34$export$cbe85ee05b554577(et,_e,tt){let{isDisabled:rt=!1,isReadOnly:nt=!1,value:st,name:it,children:at,"aria-label":ot,"aria-labelledby":lt,validationState:ct="valid",isInvalid:ut}=et,dt=Et=>{Et.stopPropagation(),_e.setSelected(Et.target.checked)},ft=at!=null,ht=ot!=null||lt!=null;!ft&&!ht&&console.warn("If you do not provide children, you must specify an aria-label for accessibility");let{pressProps:pt,isPressed:gt}=$f6c31cce2adf654f$export$45712eceda6fad21({isDisabled:rt}),{pressProps:mt,isPressed:bt}=$f6c31cce2adf654f$export$45712eceda6fad21({isDisabled:rt||nt,onPress(){_e.toggle()}}),{focusableProps:vt}=$e6afbd83fe6ebbd2$export$4c014de7c8940b4c(et,tt),yt=$3ef42575df84b30b$export$9d1611c77c2fe928(pt,vt),xt=$65484d02dcb7eb3e$export$457c3d6518dd4c6f(et,{labelable:!0});return $99facab73266f662$export$5add1d006293d136(tt,_e.isSelected,_e.setSelected),{labelProps:$3ef42575df84b30b$export$9d1611c77c2fe928(mt,{onClick:Et=>Et.preventDefault()}),inputProps:$3ef42575df84b30b$export$9d1611c77c2fe928(xt,{"aria-invalid":ut||ct==="invalid"||void 0,"aria-errormessage":et["aria-errormessage"],"aria-controls":et["aria-controls"],"aria-readonly":nt||void 0,onChange:dt,disabled:rt,...st==null?{}:{value:st},name:it,type:"checkbox",...yt}),isSelected:_e.isSelected,isPressed:gt||bt,isDisabled:rt,isReadOnly:nt,isInvalid:ut||ct==="invalid"}}function $406796ff087fe49b$export$e375f10ce42261c5(et,_e,tt){let rt=$e5be200c675c3b3a$export$fc1a364ae1f3ff10({...et,value:_e.isSelected}),{isInvalid:nt,validationErrors:st,validationDetails:it}=rt.displayValidation,{labelProps:at,inputProps:ot,isSelected:lt,isPressed:ct,isDisabled:ut,isReadOnly:dt}=$d2c8e2b0480f3f34$export$cbe85ee05b554577({...et,isInvalid:nt},_e,tt);$e93e671b31057976$export$b8473d3665f3a75a(et,rt,tt);let{isIndeterminate:ft,isRequired:ht,validationBehavior:pt="aria"}=et;reactExports.useEffect(()=>{tt.current&&(tt.current.indeterminate=!!ft)});let{pressProps:gt}=$f6c31cce2adf654f$export$45712eceda6fad21({isDisabled:ut||dt,onPress(){let{[$e5be200c675c3b3a$export$a763b9476acd3eb]:mt}=et,{commitValidation:bt}=mt||rt;bt()}});return{labelProps:$3ef42575df84b30b$export$9d1611c77c2fe928(at,gt),inputProps:{...ot,checked:lt,"aria-required":ht&&pt==="aria"||void 0,required:ht&&pt==="native"},isSelected:lt,isPressed:ct,isDisabled:ut,isReadOnly:dt,isInvalid:nt,validationErrors:st,validationDetails:it}}const $1ae600c947479353$export$ec98120685d4f57d=new WeakMap;function $d191a55c9702f145$export$8467354a121f1b9f(et){let{id:_e,label:tt,"aria-labelledby":rt,"aria-label":nt,labelElementType:st="label"}=et;_e=$bdb11010cef70236$export$f680877a34711e37(_e);let it=$bdb11010cef70236$export$f680877a34711e37(),at={};tt?(rt=rt?`${it} ${rt}`:it,at={id:it,htmlFor:st==="label"?_e:void 0}):!rt&&!nt&&console.warn("If you do not provide a visible label, you must specify an aria-label or aria-labelledby attribute for accessibility");let ot=$313b98861ee5dd6c$export$d6875122194c7b44({id:_e,"aria-label":nt,"aria-labelledby":rt});return{labelProps:at,fieldProps:ot}}function $2baaea4c71418dea$export$294aa081a6c6f55d(et){let{description:_e,errorMessage:tt,isInvalid:rt,validationState:nt}=et,{labelProps:st,fieldProps:it}=$d191a55c9702f145$export$8467354a121f1b9f(et),at=$bdb11010cef70236$export$b4cc09c592e8fdb8([!!_e,!!tt,rt,nt]),ot=$bdb11010cef70236$export$b4cc09c592e8fdb8([!!_e,!!tt,rt,nt]);return it=$3ef42575df84b30b$export$9d1611c77c2fe928(it,{"aria-describedby":[at,ot,et["aria-describedby"]].filter(Boolean).join(" ")||void 0}),{labelProps:st,fieldProps:it,descriptionProps:{id:at},errorMessageProps:{id:ot}}}function $3017fa7ffdddec74$export$8042c6c013fd5226(et={}){let{isReadOnly:_e}=et,[tt,rt]=$458b0a5536c1a7cf$export$40bfa8c7b0832715(et.isSelected,et.defaultSelected||!1,et.onChange);function nt(it){_e||rt(it)}function st(){_e||rt(!tt)}return{isSelected:tt,setSelected:nt,toggle:st}}function $fba3e38d5ca8983f$export$353b32fc6898d37d(et,_e,tt){const rt=$3017fa7ffdddec74$export$8042c6c013fd5226({isReadOnly:et.isReadOnly||_e.isReadOnly,isSelected:_e.isSelected(et.value),onChange(gt){gt?_e.addValue(et.value):_e.removeValue(et.value),et.onChange&&et.onChange(gt)}});let{name:nt,descriptionId:st,errorMessageId:it,validationBehavior:at}=$1ae600c947479353$export$ec98120685d4f57d.get(_e);var ot;at=(ot=et.validationBehavior)!==null&&ot!==void 0?ot:at;let{realtimeValidation:lt}=$e5be200c675c3b3a$export$fc1a364ae1f3ff10({...et,value:rt.isSelected,name:void 0,validationBehavior:"aria"}),ct=reactExports.useRef($e5be200c675c3b3a$export$dad6ae84456c676a),ut=()=>{_e.setInvalid(et.value,lt.isInvalid?lt:ct.current)};reactExports.useEffect(ut);let dt=_e.realtimeValidation.isInvalid?_e.realtimeValidation:lt,ft=at==="native"?_e.displayValidation:dt;var ht;let pt=$406796ff087fe49b$export$e375f10ce42261c5({...et,isReadOnly:et.isReadOnly||_e.isReadOnly,isDisabled:et.isDisabled||_e.isDisabled,name:et.name||nt,isRequired:(ht=et.isRequired)!==null&&ht!==void 0?ht:_e.isRequired,validationBehavior:at,[$e5be200c675c3b3a$export$a763b9476acd3eb]:{realtimeValidation:dt,displayValidation:ft,resetValidation:_e.resetValidation,commitValidation:_e.commitValidation,updateValidation(gt){ct.current=gt,ut()}}},rt,tt);return{...pt,inputProps:{...pt.inputProps,"aria-describedby":[et["aria-describedby"],_e.isInvalid?it:null,st].filter(Boolean).join(" ")||void 0}}}var DEFAULT_SLOT=Symbol("default");function useSlottedContext(et,_e){let tt=reactExports.useContext(et);if(_e===null)return null;if(tt&&typeof tt=="object"&&"slots"in tt&&tt.slots){let rt=new Intl.ListFormat().format(Object.keys(tt.slots).map(st=>`"${st}"`));if(!_e&&!tt.slots[DEFAULT_SLOT])throw new Error(`A slot prop is required. Valid slot names are ${rt}.`);let nt=_e||DEFAULT_SLOT;if(!tt.slots[nt])throw new Error(`Invalid slot "${_e}". Valid slot names are ${rt}.`);return tt.slots[nt]}return tt}function useContextProps(et,_e,tt){let rt=useSlottedContext(tt,et.slot)||{},{ref:nt,...st}=rt,it=$df56164dff5785e2$export$4338b53315abf666(reactExports.useMemo(()=>$5dc95899b306f630$export$c9058316764c140e(_e,nt),[_e,nt])),at=$3ef42575df84b30b$export$9d1611c77c2fe928(st,et);return"style"in st&&st.style&&"style"in et&&et.style&&(typeof st.style=="function"||typeof et.style=="function"?at.style=ot=>{let lt=typeof st.style=="function"?st.style(ot):st.style,ct={...ot.defaultStyle,...lt},ut=typeof et.style=="function"?et.style({...ot,defaultStyle:ct}):et.style;return{...ct,...ut}}:at.style={...st.style,...et.style}),[at,it]}var FormContext=reactExports.createContext(null);reactExports.forwardRef(function(_e,tt){[_e,tt]=useContextProps(_e,tt,FormContext);let{validationErrors:rt,validationBehavior:nt="native",children:st,className:it,...at}=_e;const ot=reactExports.useMemo(()=>form({className:it}),[it]);return jsxRuntimeExports.jsx("form",{noValidate:nt!=="native",...at,ref:tt,className:ot,children:jsxRuntimeExports.jsx(FormContext.Provider,{value:{..._e,validationBehavior:nt},children:jsxRuntimeExports.jsx($e5be200c675c3b3a$export$571b5131b7e65c11.Provider,{value:rt??{},children:st})})})});var[CheckboxGroupProvider,useCheckboxGroupContext]=createContext2$1({name:"CheckboxGroupContext",strict:!1});function CheckIcon$1(et){const{isSelected:_e,disableAnimation:tt,...rt}=et;return jsxRuntimeExports.jsx("svg",{"aria-hidden":"true",role:"presentation",viewBox:"0 0 17 18",...rt,children:jsxRuntimeExports.jsx("polyline",{fill:"none",points:"1 9 7 14 15 4",stroke:"currentColor",strokeDasharray:22,strokeDashoffset:_e?44:66,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,style:!tt&&_e?{transition:"stroke-dashoffset 250ms linear 0.2s"}:{}})})}function IndeterminateIcon(et){const{isSelected:_e,disableAnimation:tt,...rt}=et;return jsxRuntimeExports.jsx("svg",{stroke:"currentColor",strokeWidth:3,viewBox:"0 0 24 24",...rt,children:jsxRuntimeExports.jsx("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function CheckboxIcon(et){const{isIndeterminate:_e,...tt}=et,rt=_e?IndeterminateIcon:CheckIcon$1;return jsxRuntimeExports.jsx(rt,{...tt})}function useCallbackRef(et,_e=[]){const tt=reactExports.useRef(et);return useSafeLayoutEffect(()=>{tt.current=et}),reactExports.useCallback((...rt)=>{var nt;return(nt=tt.current)==null?void 0:nt.call(tt,...rt)},_e)}function useCheckbox(et={}){var _e,tt,rt,nt,st,it,at,ot;const lt=useProviderContext$1(),ct=useCheckboxGroupContext(),{validationBehavior:ut}=useSlottedContext(FormContext)||{},dt=!!ct,{as:ft,ref:ht,value:pt="",children:gt,icon:mt,name:bt,isRequired:vt,isReadOnly:yt=!1,autoFocus:xt=!1,isSelected:Et,size:wt=(_e=ct==null?void 0:ct.size)!=null?_e:"md",color:$t=(tt=ct==null?void 0:ct.color)!=null?tt:"primary",radius:Tt=ct==null?void 0:ct.radius,lineThrough:St=(rt=ct==null?void 0:ct.lineThrough)!=null?rt:!1,isDisabled:Pt=(nt=ct==null?void 0:ct.isDisabled)!=null?nt:!1,disableAnimation:At=(it=(st=ct==null?void 0:ct.disableAnimation)!=null?st:lt==null?void 0:lt.disableAnimation)!=null?it:!1,validationState:Rt,isInvalid:Ct=Rt?Rt==="invalid":(at=ct==null?void 0:ct.isInvalid)!=null?at:!1,isIndeterminate:Dt=!1,validationBehavior:Ft=dt?ct.validationBehavior:(ot=ut??(lt==null?void 0:lt.validationBehavior))!=null?ot:"native",defaultSelected:Mt,classNames:Ot,className:jt,onValueChange:Ut,validate:_t,...It}=et;ct&&__DEV__&&(Et&&warn$2("The Checkbox.Group is being used, `isSelected` will be ignored. Use the `value` of the Checkbox.Group instead.","Checkbox"),Mt&&warn$2("The Checkbox.Group is being used, `defaultSelected` will be ignored. Use the `defaultValue` of the Checkbox.Group instead.","Checkbox"));const Wt=ft||"label",Kt=reactExports.useRef(null),Bt=reactExports.useRef(null);let Qt=et.onChange;dt&&(Qt=$ff5963eb1fccf552$export$e08e3b67e392101e(()=>{ct.groupState.resetValidation()},Qt));const Nt=reactExports.useId(),Xt=reactExports.useMemo(()=>({name:bt,value:pt,children:gt,autoFocus:xt,defaultSelected:Mt,isIndeterminate:Dt,isRequired:vt,isInvalid:Ct,isSelected:Et,isDisabled:Pt,isReadOnly:yt,"aria-label":safeAriaLabel(It["aria-label"],gt),"aria-labelledby":It["aria-labelledby"]||Nt,onChange:Ut}),[bt,pt,gt,xt,Mt,Dt,vt,Ct,Et,Pt,yt,It["aria-label"],It["aria-labelledby"],Nt,Ut]),Zt=$3017fa7ffdddec74$export$8042c6c013fd5226(Xt),Yt={isInvalid:Ct,isRequired:vt,validate:_t,validationState:Rt,validationBehavior:Ft},{inputProps:rr,isSelected:ar,isDisabled:sr,isReadOnly:kt,isPressed:er,isInvalid:Gt}=dt?$fba3e38d5ca8983f$export$353b32fc6898d37d({...Xt,...Yt},ct.groupState,Bt):$406796ff087fe49b$export$e375f10ce42261c5({...Xt,...Yt},Zt,Bt),zt=sr||kt,Vt=Rt==="invalid"||Ct||Gt,Ht=zt?!1:er,{hoverProps:lr,isHovered:dr}=$6179b936705e76d3$export$ae780daf29e6d456({isDisabled:rr.disabled}),{focusProps:Jt,isFocused:nr,isFocusVisible:fr}=$f7dceffc5ad7768b$export$4e328f61c538687f({autoFocus:rr.autoFocus}),Lt=reactExports.useMemo(()=>checkbox({color:$t,size:wt,radius:Tt,isInvalid:Vt,lineThrough:St,isDisabled:sr,disableAnimation:At}),[$t,wt,Tt,Vt,St,sr,At]);useSafeLayoutEffect(()=>{if(!Bt.current)return;const br=!!Bt.current.checked;Zt.setSelected(br)},[Bt.current]);const qt=useCallbackRef(Qt),tr=reactExports.useCallback(br=>{if(kt||sr){br.preventDefault();return}qt==null||qt(br)},[kt,sr,qt]),ir=clsx$2(Ot==null?void 0:Ot.base,jt),or=reactExports.useCallback(()=>({ref:Kt,className:Lt.base({class:ir}),"data-disabled":dataAttr$1(sr),"data-selected":dataAttr$1(ar||Dt),"data-invalid":dataAttr$1(Vt),"data-hover":dataAttr$1(dr),"data-focus":dataAttr$1(nr),"data-pressed":dataAttr$1(Ht),"data-readonly":dataAttr$1(rr.readOnly),"data-focus-visible":dataAttr$1(fr),"data-indeterminate":dataAttr$1(Dt),...$3ef42575df84b30b$export$9d1611c77c2fe928(lr,It)}),[Lt,ir,sr,ar,Dt,Vt,dr,nr,Ht,rr.readOnly,fr,lr,It]),ur=reactExports.useCallback((br={})=>({...br,"aria-hidden":!0,className:clsx$2(Lt.wrapper({class:clsx$2(Ot==null?void 0:Ot.wrapper,br==null?void 0:br.className)}))}),[Lt,Ot==null?void 0:Ot.wrapper]),hr=reactExports.useCallback(()=>({ref:mergeRefs$1(Bt,ht),...$3ef42575df84b30b$export$9d1611c77c2fe928(rr,Jt),className:Lt.hiddenInput({class:Ot==null?void 0:Ot.hiddenInput}),onChange:$ff5963eb1fccf552$export$e08e3b67e392101e(rr.onChange,tr)}),[rr,Jt,tr,Ot==null?void 0:Ot.hiddenInput]),vr=reactExports.useCallback(()=>({id:Nt,className:Lt.label({class:Ot==null?void 0:Ot.label})}),[Lt,Ot==null?void 0:Ot.label,sr,ar,Vt]),pr=reactExports.useCallback(()=>({isSelected:ar,isIndeterminate:Dt,disableAnimation:At,className:Lt.icon({class:Ot==null?void 0:Ot.icon})}),[Lt,Ot==null?void 0:Ot.icon,ar,Dt,At]);return{Component:Wt,icon:mt,children:gt,isSelected:ar,isDisabled:sr,isInvalid:Vt,isFocused:nr,isHovered:dr,isFocusVisible:fr,getBaseProps:or,getWrapperProps:ur,getInputProps:hr,getLabelProps:vr,getIconProps:pr}}var Checkbox=forwardRef$1((et,_e)=>{const{Component:tt,children:rt,icon:nt=jsxRuntimeExports.jsx(CheckboxIcon,{}),getBaseProps:st,getWrapperProps:it,getInputProps:at,getIconProps:ot,getLabelProps:lt}=useCheckbox({...et,ref:_e}),ct=typeof nt=="function"?nt(ot()):reactExports.cloneElement(nt,ot());return jsxRuntimeExports.jsxs(tt,{...st(),children:[jsxRuntimeExports.jsx("input",{...at()}),jsxRuntimeExports.jsx("span",{...it(),children:ct}),rt&&jsxRuntimeExports.jsx("span",{...lt(),children:rt})]})});Checkbox.displayName="NextUI.Checkbox";var checkbox_default=Checkbox;const t$3=et=>typeof et=="object"&&et!=null&&et.nodeType===1,e$4=(et,_e)=>(!_e||et!=="hidden")&&et!=="visible"&&et!=="clip",n$2=(et,_e)=>{if(et.clientHeight<et.scrollHeight||et.clientWidth<et.scrollWidth){const tt=getComputedStyle(et,null);return e$4(tt.overflowY,_e)||e$4(tt.overflowX,_e)||(rt=>{const nt=(st=>{if(!st.ownerDocument||!st.ownerDocument.defaultView)return null;try{return st.ownerDocument.defaultView.frameElement}catch{return null}})(rt);return!!nt&&(nt.clientHeight<rt.scrollHeight||nt.clientWidth<rt.scrollWidth)})(et)}return!1},o$3=(et,_e,tt,rt,nt,st,it,at)=>st<et&&it>_e||st>et&&it<_e?0:st<=et&&at<=tt||it>=_e&&at>=tt?st-et-rt:it>_e&&at<tt||st<et&&at>tt?it-_e+nt:0,l$2=et=>{const _e=et.parentElement;return _e??(et.getRootNode().host||null)},r$2=(et,_e)=>{var tt,rt,nt,st;if(typeof document>"u")return[];const{scrollMode:it,block:at,inline:ot,boundary:lt,skipOverflowHiddenElements:ct}=_e,ut=typeof lt=="function"?lt:Ft=>Ft!==lt;if(!t$3(et))throw new TypeError("Invalid target");const dt=document.scrollingElement||document.documentElement,ft=[];let ht=et;for(;t$3(ht)&&ut(ht);){if(ht=l$2(ht),ht===dt){ft.push(ht);break}ht!=null&&ht===document.body&&n$2(ht)&&!n$2(document.documentElement)||ht!=null&&n$2(ht,ct)&&ft.push(ht)}const pt=(rt=(tt=window.visualViewport)==null?void 0:tt.width)!=null?rt:innerWidth,gt=(st=(nt=window.visualViewport)==null?void 0:nt.height)!=null?st:innerHeight,{scrollX:mt,scrollY:bt}=window,{height:vt,width:yt,top:xt,right:Et,bottom:wt,left:$t}=et.getBoundingClientRect(),{top:Tt,right:St,bottom:Pt,left:At}=(Ft=>{const Mt=window.getComputedStyle(Ft);return{top:parseFloat(Mt.scrollMarginTop)||0,right:parseFloat(Mt.scrollMarginRight)||0,bottom:parseFloat(Mt.scrollMarginBottom)||0,left:parseFloat(Mt.scrollMarginLeft)||0}})(et);let Rt=at==="start"||at==="nearest"?xt-Tt:at==="end"?wt+Pt:xt+vt/2-Tt+Pt,Ct=ot==="center"?$t+yt/2-At+St:ot==="end"?Et+St:$t-At;const Dt=[];for(let Ft=0;Ft<ft.length;Ft++){const Mt=ft[Ft],{height:Ot,width:jt,top:Ut,right:_t,bottom:It,left:Wt}=Mt.getBoundingClientRect();if(it==="if-needed"&&xt>=0&&$t>=0&&wt<=gt&&Et<=pt&&xt>=Ut&&wt<=It&&$t>=Wt&&Et<=_t)return Dt;const Kt=getComputedStyle(Mt),Bt=parseInt(Kt.borderLeftWidth,10),Qt=parseInt(Kt.borderTopWidth,10),Nt=parseInt(Kt.borderRightWidth,10),Xt=parseInt(Kt.borderBottomWidth,10);let Zt=0,Yt=0;const rr="offsetWidth"in Mt?Mt.offsetWidth-Mt.clientWidth-Bt-Nt:0,ar="offsetHeight"in Mt?Mt.offsetHeight-Mt.clientHeight-Qt-Xt:0,sr="offsetWidth"in Mt?Mt.offsetWidth===0?0:jt/Mt.offsetWidth:0,kt="offsetHeight"in Mt?Mt.offsetHeight===0?0:Ot/Mt.offsetHeight:0;if(dt===Mt)Zt=at==="start"?Rt:at==="end"?Rt-gt:at==="nearest"?o$3(bt,bt+gt,gt,Qt,Xt,bt+Rt,bt+Rt+vt,vt):Rt-gt/2,Yt=ot==="start"?Ct:ot==="center"?Ct-pt/2:ot==="end"?Ct-pt:o$3(mt,mt+pt,pt,Bt,Nt,mt+Ct,mt+Ct+yt,yt),Zt=Math.max(0,Zt+bt),Yt=Math.max(0,Yt+mt);else{Zt=at==="start"?Rt-Ut-Qt:at==="end"?Rt-It+Xt+ar:at==="nearest"?o$3(Ut,It,Ot,Qt,Xt+ar,Rt,Rt+vt,vt):Rt-(Ut+Ot/2)+ar/2,Yt=ot==="start"?Ct-Wt-Bt:ot==="center"?Ct-(Wt+jt/2)+rr/2:ot==="end"?Ct-_t+Nt+rr:o$3(Wt,_t,jt,Bt,Nt+rr,Ct,Ct+yt,yt);const{scrollLeft:er,scrollTop:Gt}=Mt;Zt=kt===0?0:Math.max(0,Math.min(Gt+Zt/kt,Mt.scrollHeight-Ot/kt+ar)),Yt=sr===0?0:Math.max(0,Math.min(er+Yt/sr,Mt.scrollWidth-jt/sr+rr)),Rt+=Gt-Zt,Ct+=er-Yt}Dt.push({el:Mt,top:Zt,left:Yt})}return Dt},o$2=et=>et===!1?{block:"end",inline:"nearest"}:(_e=>_e===Object(_e)&&Object.keys(_e).length!==0)(et)?et:{block:"start",inline:"nearest"};function t$2(et,_e){if(!et.isConnected||!(rt=>{let nt=rt;for(;nt&&nt.parentNode;){if(nt.parentNode===document)return!0;nt=nt.parentNode instanceof ShadowRoot?nt.parentNode.host:nt.parentNode}return!1})(et))return;if((rt=>typeof rt=="object"&&typeof rt.behavior=="function")(_e))return _e.behavior(r$2(et,_e));const tt=typeof _e=="boolean"||_e==null?void 0:_e.behavior;for(const{el:rt,top:nt,left:st}of r$2(et,o$2(_e)))rt.scroll({top:nt,left:st,behavior:tt})}function $fc909762b330b746$export$61c6a8c84e605fb6(et){let[_e,tt]=$458b0a5536c1a7cf$export$40bfa8c7b0832715(et.isOpen,et.defaultOpen||!1,et.onOpenChange);const rt=reactExports.useCallback(()=>{tt(!0)},[tt]),nt=reactExports.useCallback(()=>{tt(!1)},[tt]),st=reactExports.useCallback(()=>{tt(!_e)},[tt,_e]);return{isOpen:_e,setOpen:tt,open:rt,close:nt,toggle:st}}const $8796f90736e175cb$var$TOOLTIP_DELAY=1500,$8796f90736e175cb$var$TOOLTIP_COOLDOWN=500;let $8796f90736e175cb$var$tooltips={},$8796f90736e175cb$var$tooltipId=0,$8796f90736e175cb$var$globalWarmedUp=!1,$8796f90736e175cb$var$globalWarmUpTimeout=null,$8796f90736e175cb$var$globalCooldownTimeout=null;function $8796f90736e175cb$export$4d40659c25ecb50b(et={}){let{delay:_e=$8796f90736e175cb$var$TOOLTIP_DELAY,closeDelay:tt=$8796f90736e175cb$var$TOOLTIP_COOLDOWN}=et,{isOpen:rt,open:nt,close:st}=$fc909762b330b746$export$61c6a8c84e605fb6(et),it=reactExports.useMemo(()=>`${++$8796f90736e175cb$var$tooltipId}`,[]),at=reactExports.useRef(null),ot=reactExports.useRef(st),lt=()=>{$8796f90736e175cb$var$tooltips[it]=dt},ct=()=>{for(let ht in $8796f90736e175cb$var$tooltips)ht!==it&&($8796f90736e175cb$var$tooltips[ht](!0),delete $8796f90736e175cb$var$tooltips[ht])},ut=()=>{at.current&&clearTimeout(at.current),at.current=null,ct(),lt(),$8796f90736e175cb$var$globalWarmedUp=!0,nt(),$8796f90736e175cb$var$globalWarmUpTimeout&&(clearTimeout($8796f90736e175cb$var$globalWarmUpTimeout),$8796f90736e175cb$var$globalWarmUpTimeout=null),$8796f90736e175cb$var$globalCooldownTimeout&&(clearTimeout($8796f90736e175cb$var$globalCooldownTimeout),$8796f90736e175cb$var$globalCooldownTimeout=null)},dt=ht=>{ht||tt<=0?(at.current&&clearTimeout(at.current),at.current=null,ot.current()):at.current||(at.current=setTimeout(()=>{at.current=null,ot.current()},tt)),$8796f90736e175cb$var$globalWarmUpTimeout&&(clearTimeout($8796f90736e175cb$var$globalWarmUpTimeout),$8796f90736e175cb$var$globalWarmUpTimeout=null),$8796f90736e175cb$var$globalWarmedUp&&($8796f90736e175cb$var$globalCooldownTimeout&&clearTimeout($8796f90736e175cb$var$globalCooldownTimeout),$8796f90736e175cb$var$globalCooldownTimeout=setTimeout(()=>{delete $8796f90736e175cb$var$tooltips[it],$8796f90736e175cb$var$globalCooldownTimeout=null,$8796f90736e175cb$var$globalWarmedUp=!1},Math.max($8796f90736e175cb$var$TOOLTIP_COOLDOWN,tt)))},ft=()=>{ct(),lt(),!rt&&!$8796f90736e175cb$var$globalWarmUpTimeout&&!$8796f90736e175cb$var$globalWarmedUp?$8796f90736e175cb$var$globalWarmUpTimeout=setTimeout(()=>{$8796f90736e175cb$var$globalWarmUpTimeout=null,$8796f90736e175cb$var$globalWarmedUp=!0,ut()},_e):rt||ut()};return reactExports.useEffect(()=>{ot.current=st},[st]),reactExports.useEffect(()=>()=>{at.current&&clearTimeout(at.current),$8796f90736e175cb$var$tooltips[it]&&delete $8796f90736e175cb$var$tooltips[it]},[it]),{isOpen:rt,open:ht=>{!ht&&_e>0&&!at.current?ft():ut()},close:dt}}function $326e436e94273fe1$export$1c4b08e0eca38426(et,_e){let tt=$65484d02dcb7eb3e$export$457c3d6518dd4c6f(et,{labelable:!0}),{hoverProps:rt}=$6179b936705e76d3$export$ae780daf29e6d456({onHoverStart:()=>_e==null?void 0:_e.open(!0),onHoverEnd:()=>_e==null?void 0:_e.close()});return{tooltipProps:$3ef42575df84b30b$export$9d1611c77c2fe928(tt,rt,{role:"tooltip"})}}function $4e1b34546679e357$export$a6da6c504e4bba8b(et,_e,tt){let{isDisabled:rt,trigger:nt}=et,st=$bdb11010cef70236$export$f680877a34711e37(),it=reactExports.useRef(!1),at=reactExports.useRef(!1),ot=()=>{(it.current||at.current)&&_e.open(at.current)},lt=mt=>{!it.current&&!at.current&&_e.close(mt)};reactExports.useEffect(()=>{let mt=bt=>{tt&&tt.current&&bt.key==="Escape"&&(bt.stopPropagation(),_e.close(!0))};if(_e.isOpen)return document.addEventListener("keydown",mt,!0),()=>{document.removeEventListener("keydown",mt,!0)}},[tt,_e]);let ct=()=>{nt!=="focus"&&($507fabe10e71c6fb$export$630ff653c5ada6a9()==="pointer"?it.current=!0:it.current=!1,ot())},ut=()=>{nt!=="focus"&&(at.current=!1,it.current=!1,lt())},dt=()=>{at.current=!1,it.current=!1,lt(!0)},ft=()=>{$507fabe10e71c6fb$export$b9b3dfddab17db27()&&(at.current=!0,ot())},ht=()=>{at.current=!1,it.current=!1,lt(!0)},{hoverProps:pt}=$6179b936705e76d3$export$ae780daf29e6d456({isDisabled:rt,onHoverStart:ct,onHoverEnd:ut}),{focusableProps:gt}=$e6afbd83fe6ebbd2$export$4c014de7c8940b4c({isDisabled:rt,onFocus:ft,onBlur:ht},tt);return{triggerProps:{"aria-describedby":_e.isOpen?st:void 0,...$3ef42575df84b30b$export$9d1611c77c2fe928(gt,pt,{onPointerDown:dt,onKeyDown:dt})},tooltipProps:{id:st}}}function useTooltip(et){var _e,tt;const rt=useProviderContext$1(),[nt,st]=mapPropsVariants$1(et,popover.variantKeys),{ref:it,as:at,isOpen:ot,content:lt,children:ct,defaultOpen:ut,onOpenChange:dt,isDisabled:ft,trigger:ht,shouldFlip:pt=!0,containerPadding:gt=12,placement:mt="top",delay:bt=0,closeDelay:vt=500,showArrow:yt=!1,offset:xt=7,crossOffset:Et=0,isDismissable:wt,shouldCloseOnBlur:$t=!0,portalContainer:Tt,isKeyboardDismissDisabled:St=!1,updatePositionDeps:Pt=[],shouldCloseOnInteractOutside:At,className:Rt,onClose:Ct,motionProps:Dt,classNames:Ft,...Mt}=nt,Ot=at||"div",jt=(tt=(_e=et==null?void 0:et.disableAnimation)!=null?_e:rt==null?void 0:rt.disableAnimation)!=null?tt:!1,Ut=$8796f90736e175cb$export$4d40659c25ecb50b({delay:bt,closeDelay:vt,isDisabled:ft,defaultOpen:ut,isOpen:ot,onOpenChange:Gt=>{dt==null||dt(Gt),Gt||Ct==null||Ct()}}),_t=reactExports.useRef(null),It=reactExports.useRef(null),Wt=reactExports.useId(),Kt=Ut.isOpen&&!ft;reactExports.useImperativeHandle(it,()=>createDOMRef(It));const{triggerProps:Bt,tooltipProps:Qt}=$4e1b34546679e357$export$a6da6c504e4bba8b({isDisabled:ft,trigger:ht},Ut,_t),{tooltipProps:Nt}=$326e436e94273fe1$export$1c4b08e0eca38426({isOpen:Kt,...$3ef42575df84b30b$export$9d1611c77c2fe928(nt,Qt)},Ut),{overlayProps:Xt,placement:Zt,updatePosition:Yt}=$2a41e45df1593e64$export$d39e1813b3bdd0e1({isOpen:Kt,targetRef:_t,placement:toReactAriaPlacement(mt),overlayRef:It,offset:yt?xt+3:xt,crossOffset:Et,shouldFlip:pt,containerPadding:gt});useSafeLayoutEffect(()=>{Pt.length&&Yt()},Pt);const{overlayProps:rr}=$a11501f3d1d39e6c$export$ea8f71083e90600f({isOpen:Kt,onClose:Ut.close,isDismissable:wt,shouldCloseOnBlur:$t,isKeyboardDismissDisabled:St,shouldCloseOnInteractOutside:At},It),ar=reactExports.useMemo(()=>{var Gt,zt,Vt;return popover({...st,disableAnimation:jt,radius:(Gt=et==null?void 0:et.radius)!=null?Gt:"md",size:(zt=et==null?void 0:et.size)!=null?zt:"md",shadow:(Vt=et==null?void 0:et.shadow)!=null?Vt:"sm"})},[objectToDeps$1(st),jt,et==null?void 0:et.radius,et==null?void 0:et.size,et==null?void 0:et.shadow]),sr=reactExports.useCallback((Gt={},zt=null)=>({...$3ef42575df84b30b$export$9d1611c77c2fe928(Bt,Gt),ref:mergeRefs$1(zt,_t),"aria-describedby":Kt?Wt:void 0}),[Bt,Kt,Wt,Ut]),kt=reactExports.useCallback(()=>({ref:It,"data-slot":"base","data-open":dataAttr$1(Kt),"data-arrow":dataAttr$1(yt),"data-disabled":dataAttr$1(ft),"data-placement":getArrowPlacement(Zt||"top",mt),...$3ef42575df84b30b$export$9d1611c77c2fe928(Nt,rr,Mt),style:$3ef42575df84b30b$export$9d1611c77c2fe928(Xt.style,Mt.style,nt.style),className:ar.base({class:Ft==null?void 0:Ft.base}),id:Wt}),[ar,Kt,yt,ft,Zt,mt,Nt,rr,Mt,Xt,nt,Wt]),er=reactExports.useCallback(()=>({"data-slot":"content","data-open":dataAttr$1(Kt),"data-arrow":dataAttr$1(yt),"data-disabled":dataAttr$1(ft),"data-placement":getArrowPlacement(Zt||"top",mt),className:ar.content({class:clsx$2(Ft==null?void 0:Ft.content,Rt)})}),[ar,Kt,yt,ft,Zt,mt,Ft]);return{Component:Ot,content:lt,children:ct,isOpen:Kt,triggerRef:_t,showArrow:yt,portalContainer:Tt,placement:mt,disableAnimation:jt,isDisabled:ft,motionProps:Dt,getTooltipContentProps:er,getTriggerProps:sr,getTooltipProps:kt}}var domAnimation$5=()=>__vitePreload(()=>import("./index-M-A19hlJ.js"),__vite__mapDeps([])).then(et=>et.default),Tooltip=forwardRef$1((et,_e)=>{const{Component:tt,children:rt,content:nt,isOpen:st,portalContainer:it,placement:at,disableAnimation:ot,motionProps:lt,getTriggerProps:ct,getTooltipProps:ut,getTooltipContentProps:dt}=useTooltip({...et,ref:_e});let ft;try{if(reactExports.Children.count(rt)!==1)throw new Error;if(!reactExports.isValidElement(rt))ft=jsxRuntimeExports.jsx("p",{...ct(),children:rt});else{const yt=rt;ft=reactExports.cloneElement(yt,ct(yt.props,yt.ref))}}catch{ft=jsxRuntimeExports.jsx("span",{}),warn$2("Tooltip must have only one child node. Please, check your code.")}const{ref:ht,id:pt,style:gt,...mt}=ut(),bt=jsxRuntimeExports.jsx("div",{ref:ht,id:pt,style:gt,children:jsxRuntimeExports.jsx(LazyMotion,{features:domAnimation$5,children:jsxRuntimeExports.jsx(m$1.div,{animate:"enter",exit:"exit",initial:"exit",variants:TRANSITION_VARIANTS$1.scaleSpring,...$3ef42575df84b30b$export$9d1611c77c2fe928(lt,mt),style:{...getTransformOrigins(at)},children:jsxRuntimeExports.jsx(tt,{...dt(),children:nt})})})});return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[ft,ot&&st?jsxRuntimeExports.jsx($f57aed4a881a3485$export$b47c3594eab58386,{portalContainer:it,children:jsxRuntimeExports.jsx("div",{ref:ht,id:pt,style:gt,...mt,children:jsxRuntimeExports.jsx(tt,{...dt(),children:nt})})}):jsxRuntimeExports.jsx(AnimatePresence,{children:st?jsxRuntimeExports.jsx($f57aed4a881a3485$export$b47c3594eab58386,{portalContainer:it,children:bt}):null})]})});Tooltip.displayName="NextUI.Tooltip";var tooltip_default=Tooltip;function $b418ec0c85c52f27$export$d853f7095ae95f88(et,_e,tt){let{labelProps:rt,inputProps:nt,isSelected:st,isPressed:it,isDisabled:at,isReadOnly:ot}=$d2c8e2b0480f3f34$export$cbe85ee05b554577(et,_e,tt);return{labelProps:rt,inputProps:{...nt,role:"switch",checked:st},isSelected:st,isPressed:it,isDisabled:at,isReadOnly:ot}}function useSwitch(et={}){var _e,tt;const rt=useProviderContext$1(),[nt,st]=mapPropsVariants$1(et,toggle$1.variantKeys),{ref:it,as:at,name:ot,value:lt="",isReadOnly:ct=!1,autoFocus:ut=!1,startContent:dt,endContent:ft,defaultSelected:ht,isSelected:pt,children:gt,thumbIcon:mt,className:bt,classNames:vt,onChange:yt,onValueChange:xt,...Et}=nt,wt=at||"label",$t=reactExports.useRef(null),Tt=reactExports.useRef(null),St=(tt=(_e=et.disableAnimation)!=null?_e:rt==null?void 0:rt.disableAnimation)!=null?tt:!1,Pt=reactExports.useId(),At=reactExports.useMemo(()=>{const Gt=Et["aria-label"]||typeof gt=="string"?gt:void 0;return{name:ot,value:lt,children:gt,autoFocus:ut,defaultSelected:ht,isSelected:pt,isDisabled:!!et.isDisabled,isReadOnly:ct,"aria-label":Gt,"aria-labelledby":Et["aria-labelledby"]||Pt,onChange:xt}},[lt,ot,Pt,gt,ut,ct,pt,ht,et.isDisabled,Et["aria-label"],Et["aria-labelledby"],xt]),Rt=$3017fa7ffdddec74$export$8042c6c013fd5226(At);useSafeLayoutEffect(()=>{if(!Tt.current)return;const Gt=!!Tt.current.checked;Rt.setSelected(Gt)},[Tt.current]);const{inputProps:Ct,isPressed:Dt,isReadOnly:Ft}=$b418ec0c85c52f27$export$d853f7095ae95f88(At,Rt,Tt),{focusProps:Mt,isFocused:Ot,isFocusVisible:jt}=$f7dceffc5ad7768b$export$4e328f61c538687f({autoFocus:Ct.autoFocus}),{hoverProps:Ut,isHovered:_t}=$6179b936705e76d3$export$ae780daf29e6d456({isDisabled:Ct.disabled}),Wt=At.isDisabled||Ft?!1:Dt,Kt=Ct.checked,Bt=Ct.disabled,Qt=reactExports.useMemo(()=>toggle$1({...st,disableAnimation:St}),[objectToDeps$1(st),St]),Nt=clsx$2(vt==null?void 0:vt.base,bt),Xt=Gt=>({...$3ef42575df84b30b$export$9d1611c77c2fe928(Ut,Et,Gt),ref:$t,className:Qt.base({class:clsx$2(Nt,Gt==null?void 0:Gt.className)}),"data-disabled":dataAttr$1(Bt),"data-selected":dataAttr$1(Kt),"data-readonly":dataAttr$1(Ft),"data-focus":dataAttr$1(Ot),"data-focus-visible":dataAttr$1(jt),"data-hover":dataAttr$1(_t),"data-pressed":dataAttr$1(Wt)}),Zt=reactExports.useCallback((Gt={})=>({...Gt,"aria-hidden":!0,className:clsx$2(Qt.wrapper({class:clsx$2(vt==null?void 0:vt.wrapper,Gt==null?void 0:Gt.className)}))}),[Qt,vt==null?void 0:vt.wrapper]),Yt=(Gt={})=>({...$3ef42575df84b30b$export$9d1611c77c2fe928(Ct,Mt,Gt),ref:mergeRefs$1(Tt,it),id:Ct.id,className:Qt.hiddenInput({class:vt==null?void 0:vt.hiddenInput}),onChange:$ff5963eb1fccf552$export$e08e3b67e392101e(yt,Ct.onChange)}),rr=reactExports.useCallback((Gt={})=>({...Gt,className:Qt.thumb({class:clsx$2(vt==null?void 0:vt.thumb,Gt==null?void 0:Gt.className)})}),[Qt,vt==null?void 0:vt.thumb]),ar=reactExports.useCallback((Gt={})=>({...Gt,id:Pt,className:Qt.label({class:clsx$2(vt==null?void 0:vt.label,Gt==null?void 0:Gt.className)})}),[Qt,vt==null?void 0:vt.label,Bt,Kt]),sr=reactExports.useCallback((Gt={includeStateProps:!1})=>$3ef42575df84b30b$export$9d1611c77c2fe928({width:"1em",height:"1em",className:Qt.thumbIcon({class:clsx$2(vt==null?void 0:vt.thumbIcon)})},Gt.includeStateProps?{isSelected:Kt}:{}),[Qt,vt==null?void 0:vt.thumbIcon,Kt]),kt=reactExports.useCallback((Gt={})=>({width:"1em",height:"1em",...Gt,className:Qt.startContent({class:clsx$2(vt==null?void 0:vt.startContent,Gt==null?void 0:Gt.className)})}),[Qt,vt==null?void 0:vt.startContent,Kt]),er=reactExports.useCallback((Gt={})=>({width:"1em",height:"1em",...Gt,className:Qt.endContent({class:clsx$2(vt==null?void 0:vt.endContent,Gt==null?void 0:Gt.className)})}),[Qt,vt==null?void 0:vt.endContent,Kt]);return{Component:wt,slots:Qt,classNames:vt,domRef:$t,children:gt,thumbIcon:mt,startContent:dt,endContent:ft,isHovered:_t,isSelected:Kt,isPressed:Wt,isFocused:Ot,isFocusVisible:jt,isDisabled:Bt,getBaseProps:Xt,getWrapperProps:Zt,getInputProps:Yt,getLabelProps:ar,getThumbProps:rr,getThumbIconProps:sr,getStartContentProps:kt,getEndContentProps:er}}var Switch=forwardRef$1((et,_e)=>{const{Component:tt,children:rt,startContent:nt,endContent:st,thumbIcon:it,getBaseProps:at,getInputProps:ot,getWrapperProps:lt,getThumbProps:ct,getThumbIconProps:ut,getLabelProps:dt,getStartContentProps:ft,getEndContentProps:ht}=useSwitch({...et,ref:_e}),pt=typeof it=="function"?it(ut({includeStateProps:!0})):it&&reactExports.cloneElement(it,ut()),gt=nt&&reactExports.cloneElement(nt,ft()),mt=st&&reactExports.cloneElement(st,ht());return jsxRuntimeExports.jsxs(tt,{...at(),children:[jsxRuntimeExports.jsx("input",{...ot()}),jsxRuntimeExports.jsxs("span",{...lt(),children:[nt&&gt,jsxRuntimeExports.jsx("span",{...ct(),children:it&&pt}),st&&mt]}),rt&&jsxRuntimeExports.jsx("span",{...dt(),children:rt})]})});Switch.displayName="NextUI.Switch";var switch_default=Switch;function useIsMounted$1(et={}){const{rerender:_e=!1,delay:tt=0}=et,rt=reactExports.useRef(!1),[nt,st]=reactExports.useState(!1);return reactExports.useEffect(()=>{rt.current=!0;let it=null;return _e&&(tt>0?it=setTimeout(()=>{st(!0)},tt):st(!0)),()=>{rt.current=!1,_e&&st(!1),it&&clearTimeout(it)}},[_e]),[reactExports.useCallback(()=>rt.current,[]),nt]}function $204d9ebcedfb8806$export$ed5abd763a836edc(et){let{value:_e=0,minValue:tt=0,maxValue:rt=100,valueLabel:nt,isIndeterminate:st,formatOptions:it={style:"percent"}}=et,at=$65484d02dcb7eb3e$export$457c3d6518dd4c6f(et,{labelable:!0}),{labelProps:ot,fieldProps:lt}=$d191a55c9702f145$export$8467354a121f1b9f({...et,labelElementType:"span"});_e=$9446cca9a3875146$export$7d15b64cf5a3a4c4(_e,tt,rt);let ct=(_e-tt)/(rt-tt),ut=$a916eb452884faea$export$b7a616150fdb9f44(it);if(!st&&!nt){let dt=it.style==="percent"?ct:_e;nt=ut.format(dt)}return{progressBarProps:$3ef42575df84b30b$export$9d1611c77c2fe928(at,{...lt,"aria-valuenow":st?void 0:_e,"aria-valuemin":tt,"aria-valuemax":rt,"aria-valuetext":st?void 0:nt,role:"progressbar"}),labelProps:ot}}function $2d73ec29415bd339$export$712718f7aec83d5(et,_e){let{inputElementType:tt="input",isDisabled:rt=!1,isRequired:nt=!1,isReadOnly:st=!1,type:it="text",validationBehavior:at="aria"}=et,[ot,lt]=$458b0a5536c1a7cf$export$40bfa8c7b0832715(et.value,et.defaultValue||"",et.onChange),{focusableProps:ct}=$e6afbd83fe6ebbd2$export$4c014de7c8940b4c(et,_e),ut=$e5be200c675c3b3a$export$fc1a364ae1f3ff10({...et,value:ot}),{isInvalid:dt,validationErrors:ft,validationDetails:ht}=ut.displayValidation,{labelProps:pt,fieldProps:gt,descriptionProps:mt,errorMessageProps:bt}=$2baaea4c71418dea$export$294aa081a6c6f55d({...et,isInvalid:dt,errorMessage:et.errorMessage||ft}),vt=$65484d02dcb7eb3e$export$457c3d6518dd4c6f(et,{labelable:!0});const yt={type:it,pattern:et.pattern};return $99facab73266f662$export$5add1d006293d136(_e,ot,lt),$e93e671b31057976$export$b8473d3665f3a75a(et,ut,_e),reactExports.useEffect(()=>{if(_e.current instanceof $431fbd86ca7dc216$export$f21a1ffae260145a(_e.current).HTMLTextAreaElement){let xt=_e.current;Object.defineProperty(xt,"defaultValue",{get:()=>xt.value,set:()=>{},configurable:!0})}},[_e]),{labelProps:pt,inputProps:$3ef42575df84b30b$export$9d1611c77c2fe928(vt,tt==="input"?yt:void 0,{disabled:rt,readOnly:st,required:nt&&at==="native","aria-required":nt&&at==="aria"||void 0,"aria-invalid":dt||void 0,"aria-errormessage":et["aria-errormessage"],"aria-activedescendant":et["aria-activedescendant"],"aria-autocomplete":et["aria-autocomplete"],"aria-haspopup":et["aria-haspopup"],value:ot,onChange:xt=>lt(xt.target.value),autoComplete:et.autoComplete,autoCapitalize:et.autoCapitalize,maxLength:et.maxLength,minLength:et.minLength,name:et.name,placeholder:et.placeholder,inputMode:et.inputMode,onCopy:et.onCopy,onCut:et.onCut,onPaste:et.onPaste,onCompositionEnd:et.onCompositionEnd,onCompositionStart:et.onCompositionStart,onCompositionUpdate:et.onCompositionUpdate,onSelect:et.onSelect,onBeforeInput:et.onBeforeInput,onInput:et.onInput,...ct,...gt}),descriptionProps:mt,errorMessageProps:bt,isInvalid:dt,validationErrors:ft,validationDetails:ht}}function useInput(et){var _e,tt,rt,nt;const st=useProviderContext$1(),{validationBehavior:it}=useSlottedContext(FormContext)||{},[at,ot]=mapPropsVariants$1(et,input.variantKeys),{ref:lt,as:ct,type:ut,label:dt,baseRef:ft,wrapperRef:ht,description:pt,className:gt,classNames:mt,autoFocus:bt,startContent:vt,endContent:yt,onClear:xt,onChange:Et,validationState:wt,validationBehavior:$t=(_e=it??(st==null?void 0:st.validationBehavior))!=null?_e:"native",innerWrapperRef:Tt,onValueChange:St=()=>{},...Pt}=at,At=reactExports.useCallback($r=>{St($r??"")},[St]),[Rt,Ct]=reactExports.useState(!1),Dt=ct||"div",Ft=(rt=(tt=et.disableAnimation)!=null?tt:st==null?void 0:st.disableAnimation)!=null?rt:!1,Mt=useDOMRef$1(lt),Ot=useDOMRef$1(ft),jt=useDOMRef$1(ht),Ut=useDOMRef$1(Tt),[_t,It]=$458b0a5536c1a7cf$export$40bfa8c7b0832715(at.value,(nt=at.defaultValue)!=null?nt:"",At),Wt=["date","time","month","week","range"].includes(ut),Kt=!isEmpty(_t)||Wt,Bt=Kt||Rt,Qt=ut==="hidden",Nt=et.isMultiline,Xt=ut==="file",Zt=clsx$2(mt==null?void 0:mt.base,gt,Kt?"is-filled":""),Yt=reactExports.useCallback(()=>{var $r;It(""),xt==null||xt(),($r=Mt.current)==null||$r.focus()},[It,xt]);useSafeLayoutEffect(()=>{Mt.current&&It(Mt.current.value)},[Mt.current]);const{labelProps:rr,inputProps:ar,isInvalid:sr,validationErrors:kt,validationDetails:er,descriptionProps:Gt,errorMessageProps:zt}=$2d73ec29415bd339$export$712718f7aec83d5({...et,validationBehavior:$t,autoCapitalize:et.autoCapitalize,value:_t,"aria-label":safeAriaLabel(et["aria-label"],et.label,et.placeholder),inputElementType:Nt?"textarea":"input",onChange:It},Mt);Xt&&(delete ar.value,delete ar.onChange);const{isFocusVisible:Vt,isFocused:Ht,focusProps:lr}=$f7dceffc5ad7768b$export$4e328f61c538687f({autoFocus:bt,isTextInput:!0}),{isHovered:dr,hoverProps:Jt}=$6179b936705e76d3$export$ae780daf29e6d456({isDisabled:!!(et!=null&&et.isDisabled)}),{isHovered:nr,hoverProps:fr}=$6179b936705e76d3$export$ae780daf29e6d456({isDisabled:!!(et!=null&&et.isDisabled)}),{focusProps:Lt,isFocusVisible:qt}=$f7dceffc5ad7768b$export$4e328f61c538687f(),{focusWithinProps:tr}=$9ab94262bd0047c7$export$420e68273165f4ec({onFocusWithinChange:Ct}),{pressProps:ir}=$f6c31cce2adf654f$export$45712eceda6fad21({isDisabled:!!(et!=null&&et.isDisabled)||!!(et!=null&&et.isReadOnly),onPress:Yt}),or=wt==="invalid"||sr,ur=reactExports.useMemo(()=>{var $r;return(!et.labelPlacement||et.labelPlacement==="inside")&&!dt?"outside":($r=et.labelPlacement)!=null?$r:"inside"},[et.labelPlacement,dt]),hr=typeof at.errorMessage=="function"?at.errorMessage({isInvalid:or,validationErrors:kt,validationDetails:er}):at.errorMessage||(kt==null?void 0:kt.join(" ")),vr=!!xt||et.isClearable,pr=!!dt||!!pt||!!hr,br=!!at.placeholder,xr=!!dt,Tr=!!pt||!!hr,Er=ur==="outside"||ur==="outside-left",kr=ur==="inside",Mr=Mt.current?(!Mt.current.value||Mt.current.value===""||!_t||_t==="")&&br:!1,jr=ur==="outside-left",Ir=!!vt,Fr=Er?ur==="outside-left"||br||ur==="outside"&&Ir:!1,Hr=ur==="outside"&&!br&&!Ir,Nr=reactExports.useMemo(()=>input({...ot,isInvalid:or,labelPlacement:ur,isClearable:vr,disableAnimation:Ft}),[objectToDeps$1(ot),or,ur,vr,Ir,Ft]),cr=reactExports.useCallback(($r={})=>({ref:Ot,className:Nr.base({class:Zt}),"data-slot":"base","data-filled":dataAttr$1(Kt||br||Ir||Mr||Xt),"data-filled-within":dataAttr$1(Bt||br||Ir||Mr||Xt),"data-focus-within":dataAttr$1(Rt),"data-focus-visible":dataAttr$1(Vt),"data-readonly":dataAttr$1(et.isReadOnly),"data-focus":dataAttr$1(Ht),"data-hover":dataAttr$1(dr||nr),"data-required":dataAttr$1(et.isRequired),"data-invalid":dataAttr$1(or),"data-disabled":dataAttr$1(et.isDisabled),"data-has-elements":dataAttr$1(pr),"data-has-helper":dataAttr$1(Tr),"data-has-label":dataAttr$1(xr),"data-has-value":dataAttr$1(!Mr),"data-hidden":dataAttr$1(Qt),...tr,...$r}),[Nr,Zt,Kt,Ht,dr,nr,or,Tr,xr,pr,Mr,Ir,Rt,Vt,Bt,br,tr,Qt,et.isReadOnly,et.isRequired,et.isDisabled]),mr=reactExports.useCallback(($r={})=>({"data-slot":"label",className:Nr.label({class:mt==null?void 0:mt.label}),...$3ef42575df84b30b$export$9d1611c77c2fe928(rr,fr,$r)}),[Nr,nr,rr,mt==null?void 0:mt.label]),Sr=reactExports.useCallback(($r={})=>({"data-slot":"input","data-filled":dataAttr$1(Kt),"data-filled-within":dataAttr$1(Bt),"data-has-start-content":dataAttr$1(Ir),"data-has-end-content":dataAttr$1(!!yt),className:Nr.input({class:clsx$2(mt==null?void 0:mt.input,Kt?"is-filled":"",Nt?"pe-0":"")}),...$3ef42575df84b30b$export$9d1611c77c2fe928(lr,ar,filterDOMProps$1(Pt,{enabled:!0,labelable:!0,omitEventNames:new Set(Object.keys(ar))}),$r),"aria-readonly":dataAttr$1(et.isReadOnly),onChange:$ff5963eb1fccf552$export$e08e3b67e392101e(ar.onChange,Et),ref:Mt}),[Nr,_t,lr,ar,Pt,Kt,Bt,Ir,yt,mt==null?void 0:mt.input,et.isReadOnly,et.isRequired,Et]),Lr=reactExports.useCallback(($r={})=>({ref:jt,"data-slot":"input-wrapper","data-hover":dataAttr$1(dr||nr),"data-focus-visible":dataAttr$1(Vt),"data-focus":dataAttr$1(Ht),className:Nr.inputWrapper({class:clsx$2(mt==null?void 0:mt.inputWrapper,Kt?"is-filled":"")}),...$3ef42575df84b30b$export$9d1611c77c2fe928($r,Jt),onClick:Rr=>{Mt.current&&Rr.currentTarget===Rr.target&&Mt.current.focus()},style:{cursor:"text",...$r.style}}),[Nr,dr,nr,Vt,Ht,_t,mt==null?void 0:mt.inputWrapper]),_r=reactExports.useCallback(($r={})=>({...$r,ref:Ut,"data-slot":"inner-wrapper",onClick:Rr=>{Mt.current&&Rr.currentTarget===Rr.target&&Mt.current.focus()},className:Nr.innerWrapper({class:clsx$2(mt==null?void 0:mt.innerWrapper,$r==null?void 0:$r.className)})}),[Nr,mt==null?void 0:mt.innerWrapper]),Cr=reactExports.useCallback(($r={})=>({...$r,"data-slot":"main-wrapper",className:Nr.mainWrapper({class:clsx$2(mt==null?void 0:mt.mainWrapper,$r==null?void 0:$r.className)})}),[Nr,mt==null?void 0:mt.mainWrapper]),wr=reactExports.useCallback(($r={})=>({...$r,"data-slot":"helper-wrapper",className:Nr.helperWrapper({class:clsx$2(mt==null?void 0:mt.helperWrapper,$r==null?void 0:$r.className)})}),[Nr,mt==null?void 0:mt.helperWrapper]),Ar=reactExports.useCallback(($r={})=>({...$r,...Gt,"data-slot":"description",className:Nr.description({class:clsx$2(mt==null?void 0:mt.description,$r==null?void 0:$r.className)})}),[Nr,mt==null?void 0:mt.description]),Or=reactExports.useCallback(($r={})=>({...$r,...zt,"data-slot":"error-message",className:Nr.errorMessage({class:clsx$2(mt==null?void 0:mt.errorMessage,$r==null?void 0:$r.className)})}),[Nr,zt,mt==null?void 0:mt.errorMessage]),Ur=reactExports.useCallback(($r={})=>({...$r,type:"button",tabIndex:-1,disabled:et.isDisabled,"aria-label":"clear input","data-slot":"clear-button","data-focus-visible":dataAttr$1(qt),className:Nr.clearButton({class:clsx$2(mt==null?void 0:mt.clearButton,$r==null?void 0:$r.className)}),...$3ef42575df84b30b$export$9d1611c77c2fe928(ir,Lt)}),[Nr,qt,ir,Lt,mt==null?void 0:mt.clearButton]);return{Component:Dt,classNames:mt,domRef:Mt,label:dt,description:pt,startContent:vt,endContent:yt,labelPlacement:ur,isClearable:vr,hasHelper:Tr,hasStartContent:Ir,isLabelOutside:Fr,isOutsideLeft:jr,isLabelOutsideAsPlaceholder:Hr,shouldLabelBeOutside:Er,shouldLabelBeInside:kr,hasPlaceholder:br,isInvalid:or,errorMessage:hr,getBaseProps:cr,getLabelProps:mr,getInputProps:Sr,getMainWrapperProps:Cr,getInputWrapperProps:Lr,getInnerWrapperProps:_r,getHelperWrapperProps:wr,getDescriptionProps:Ar,getErrorMessageProps:Or,getClearButtonProps:Ur}}var Input=forwardRef$1((et,_e)=>{const{Component:tt,label:rt,description:nt,isClearable:st,startContent:it,endContent:at,labelPlacement:ot,hasHelper:lt,isOutsideLeft:ct,shouldLabelBeOutside:ut,errorMessage:dt,isInvalid:ft,getBaseProps:ht,getLabelProps:pt,getInputProps:gt,getInnerWrapperProps:mt,getInputWrapperProps:bt,getMainWrapperProps:vt,getHelperWrapperProps:yt,getDescriptionProps:xt,getErrorMessageProps:Et,getClearButtonProps:wt}=useInput({...et,ref:_e}),$t=rt?jsxRuntimeExports.jsx("label",{...pt(),children:rt}):null,Tt=reactExports.useMemo(()=>st?jsxRuntimeExports.jsx("button",{...wt(),children:at||jsxRuntimeExports.jsx(CloseFilledIcon,{})}):at,[st,wt]),St=reactExports.useMemo(()=>{const Rt=ft&&dt;return!lt||!(Rt||nt)?null:jsxRuntimeExports.jsx("div",{...yt(),children:Rt?jsxRuntimeExports.jsx("div",{...Et(),children:dt}):jsxRuntimeExports.jsx("div",{...xt(),children:nt})})},[lt,ft,dt,nt,yt,Et,xt]),Pt=reactExports.useMemo(()=>jsxRuntimeExports.jsxs("div",{...mt(),children:[it,jsxRuntimeExports.jsx("input",{...gt()}),Tt]}),[it,Tt,gt,mt]),At=reactExports.useMemo(()=>ut?jsxRuntimeExports.jsxs("div",{...vt(),children:[jsxRuntimeExports.jsxs("div",{...bt(),children:[ct?null:$t,Pt]}),St]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{...bt(),children:[$t,Pt]}),St]}),[ot,St,ut,$t,Pt,dt,nt,vt,bt,Et,xt]);return jsxRuntimeExports.jsxs(tt,{...ht(),children:[ct?$t:null,At]})});Input.displayName="NextUI.Input";var input_default=Input;function useReactAriaPopover(et,_e){const{triggerRef:tt,popoverRef:rt,showArrow:nt,offset:st=7,crossOffset:it=0,scrollRef:at,shouldFlip:ot,boundaryElement:lt,isDismissable:ct=!0,shouldCloseOnBlur:ut=!0,shouldCloseOnScroll:dt=!0,placement:ft="top",containerPadding:ht,shouldCloseOnInteractOutside:pt,isNonModal:gt,isKeyboardDismissDisabled:mt,updatePositionDeps:bt=[],...vt}=et,yt=gt??!0,{overlayProps:xt,underlayProps:Et}=$a11501f3d1d39e6c$export$ea8f71083e90600f({isOpen:_e.isOpen,onClose:_e.close,shouldCloseOnBlur:ut,isDismissable:ct,isKeyboardDismissDisabled:mt,shouldCloseOnInteractOutside:pt||(Pt=>ariaShouldCloseOnInteractOutside(Pt,tt,_e))},rt),{overlayProps:wt,arrowProps:$t,placement:Tt,updatePosition:St}=$2a41e45df1593e64$export$d39e1813b3bdd0e1({...vt,shouldFlip:ot,crossOffset:it,targetRef:tt,overlayRef:rt,isOpen:_e.isOpen,scrollRef:at,boundaryElement:lt,containerPadding:ht,placement:toReactAriaPlacement(ft),offset:nt?st+3:st,onClose:yt&&dt?_e.close:()=>{}});return useSafeLayoutEffect(()=>{bt.length&&St()},bt),reactExports.useEffect(()=>{if(_e.isOpen&&!yt&&rt.current)return ariaHideOutside([rt.current])},[yt,_e.isOpen,rt]),{popoverProps:$3ef42575df84b30b$export$9d1611c77c2fe928(xt,wt),arrowProps:$t,underlayProps:Et,placement:Tt}}function usePopover(et){var _e,tt,rt;const nt=useProviderContext$1(),[st,it]=mapPropsVariants$1(et,popover.variantKeys),{as:at,ref:ot,children:lt,state:ct,triggerRef:ut,scrollRef:dt,defaultOpen:ft,onOpenChange:ht,isOpen:pt,isNonModal:gt=!0,shouldFlip:mt=!0,containerPadding:bt=12,shouldBlockScroll:vt=!1,isDismissable:yt=!0,shouldCloseOnBlur:xt,portalContainer:Et,updatePositionDeps:wt,dialogProps:$t,placement:Tt="top",triggerType:St="dialog",showArrow:Pt=!1,offset:At=7,crossOffset:Rt=0,boundaryElement:Ct,isKeyboardDismissDisabled:Dt,shouldCloseOnInteractOutside:Ft,shouldCloseOnScroll:Mt,motionProps:Ot,className:jt,classNames:Ut,onClose:_t,...It}=st,Wt=at||"div",Kt=useDOMRef$1(ot),Bt=reactExports.useRef(null),Qt=reactExports.useRef(!1),Nt=ut||Bt,Xt=(tt=(_e=et.disableAnimation)!=null?_e:nt==null?void 0:nt.disableAnimation)!=null?tt:!1,Zt=$fc909762b330b746$export$61c6a8c84e605fb6({isOpen:pt,defaultOpen:ft,onOpenChange:tr=>{ht==null||ht(tr),tr||_t==null||_t()}}),Yt=ct||Zt,{popoverProps:rr,underlayProps:ar,placement:sr}=useReactAriaPopover({triggerRef:Nt,isNonModal:gt,popoverRef:Kt,placement:Tt,offset:At,scrollRef:dt,isDismissable:yt,shouldCloseOnBlur:xt,boundaryElement:Ct,crossOffset:Rt,shouldFlip:mt,containerPadding:bt,updatePositionDeps:wt,isKeyboardDismissDisabled:Dt,shouldCloseOnScroll:Mt,shouldCloseOnInteractOutside:Ft},Yt),{triggerProps:kt}=$628037886ba31236$export$f9d5c8beee7d008d({type:St},Yt,Nt),{isFocusVisible:er,isFocused:Gt,focusProps:zt}=$f7dceffc5ad7768b$export$4e328f61c538687f(),Vt=reactExports.useMemo(()=>popover({...it}),[objectToDeps$1(it)]),Ht=clsx$2(Ut==null?void 0:Ut.base,jt);$49c51c25361d4cd2$export$ee0f7cc6afcd1c18({isDisabled:!(vt&&Yt.isOpen)});const lr=(tr={})=>({ref:Kt,...$3ef42575df84b30b$export$9d1611c77c2fe928(rr,It,tr),style:$3ef42575df84b30b$export$9d1611c77c2fe928(rr.style,It.style,tr.style)}),dr=(tr={})=>({"data-slot":"base","data-open":dataAttr$1(Yt.isOpen),"data-focus":dataAttr$1(Gt),"data-arrow":dataAttr$1(Pt),"data-focus-visible":dataAttr$1(er),"data-placement":getArrowPlacement(sr||"top",Tt),...$3ef42575df84b30b$export$9d1611c77c2fe928(zt,$t,tr),className:Vt.base({class:clsx$2(Ht)}),style:{outline:"none"}}),Jt=reactExports.useCallback((tr={})=>({"data-slot":"content","data-open":dataAttr$1(Yt.isOpen),"data-arrow":dataAttr$1(Pt),"data-placement":getArrowPlacement(sr||"top",Tt),className:Vt.content({class:clsx$2(Ut==null?void 0:Ut.content,tr.className)})}),[Vt,Yt.isOpen,Pt,sr,Tt,Ut]),nr=reactExports.useMemo(()=>getShouldUseAxisPlacement(sr||"top",Tt)&&sr||Tt,[sr,Tt]),fr=reactExports.useCallback(tr=>{var ir;let or;return tr.pointerType==="touch"&&((et==null?void 0:et.backdrop)==="blur"||(et==null?void 0:et.backdrop)==="opaque")?or=setTimeout(()=>{Qt.current=!0},100):Qt.current=!0,(ir=kt.onPress)==null||ir.call(kt,tr),()=>{clearTimeout(or)}},[kt==null?void 0:kt.onPress]),Lt=reactExports.useCallback((tr={},ir=null)=>{const{isDisabled:or,...ur}=tr;return{"data-slot":"trigger",...$3ef42575df84b30b$export$9d1611c77c2fe928({"aria-haspopup":"dialog"},kt,ur),onPress:fr,isDisabled:or,className:Vt.trigger({class:clsx$2(Ut==null?void 0:Ut.trigger,tr.className),isTriggerDisabled:or}),ref:$5dc95899b306f630$export$c9058316764c140e(ir,Nt)}},[Yt,kt,fr,Nt]),qt=reactExports.useCallback((tr={})=>({"data-slot":"backdrop",className:Vt.backdrop({class:Ut==null?void 0:Ut.backdrop}),onClick:ir=>{if(!Qt.current){ir.preventDefault();return}Yt.close(),Qt.current=!1},...ar,...tr}),[Vt,Yt.isOpen,Ut,ar]);return reactExports.useEffect(()=>{if(Yt.isOpen&&(Kt!=null&&Kt.current))return $5e3802645cc19319$export$1c3ebcada18427bf([Kt==null?void 0:Kt.current])},[Yt.isOpen,Kt]),{state:Yt,Component:Wt,children:lt,classNames:Ut,showArrow:Pt,triggerRef:Nt,placement:nr,isNonModal:gt,popoverRef:Kt,portalContainer:Et,isOpen:Yt.isOpen,onClose:Yt.close,disableAnimation:Xt,shouldBlockScroll:vt,backdrop:(rt=et.backdrop)!=null?rt:"transparent",motionProps:Ot,getBackdropProps:qt,getPopoverProps:lr,getTriggerProps:Lt,getDialogProps:dr,getContentProps:Jt}}function $40df3f8667284809$export$d55e7ee900f34e93(et,_e){let{role:tt="dialog"}=et,rt=$bdb11010cef70236$export$b4cc09c592e8fdb8();rt=et["aria-label"]?void 0:rt;let nt=reactExports.useRef(!1);return reactExports.useEffect(()=>{if(_e.current&&!_e.current.contains(document.activeElement)){$6a99195332edec8b$export$80f3e147d781571c(_e.current);let st=setTimeout(()=>{document.activeElement===_e.current&&(nt.current=!0,_e.current&&(_e.current.blur(),$6a99195332edec8b$export$80f3e147d781571c(_e.current)),nt.current=!1)},500);return()=>{clearTimeout(st)}}},[_e]),$337b884510726a0d$export$14c98a7594375490(),{dialogProps:{...$65484d02dcb7eb3e$export$457c3d6518dd4c6f(et,{labelable:!0}),role:tt,tabIndex:-1,"aria-labelledby":et["aria-labelledby"]||rt,onBlur:st=>{nt.current&&st.stopPropagation()}},titleProps:{id:rt}}}var domAnimation$4=()=>__vitePreload(()=>import("./index-M-A19hlJ.js"),__vite__mapDeps([])).then(et=>et.default),FreeSoloPopoverWrapper=forwardRef$1(({children:et,motionProps:_e,placement:tt,disableAnimation:rt,style:nt={},transformOrigin:st={},...it},at)=>{let ot=nt;return st.originX!==void 0||st.originY!==void 0?ot={...ot,transformOrigin:st}:ot={...ot,...getTransformOrigins(tt==="center"?"top":tt)},rt?jsxRuntimeExports.jsx("div",{...it,ref:at,children:et}):jsxRuntimeExports.jsx(LazyMotion,{features:domAnimation$4,children:jsxRuntimeExports.jsx(m$1.div,{ref:at,animate:"enter",exit:"exit",initial:"initial",style:ot,variants:TRANSITION_VARIANTS$1.scaleSpringOpacity,...$3ef42575df84b30b$export$9d1611c77c2fe928(it,_e),children:et})})});FreeSoloPopoverWrapper.displayName="NextUI.FreeSoloPopoverWrapper";var FreeSoloPopover=forwardRef$1(({children:et,transformOrigin:_e,disableDialogFocus:tt=!1,...rt},nt)=>{const{Component:st,state:it,placement:at,backdrop:ot,portalContainer:lt,disableAnimation:ct,motionProps:ut,isNonModal:dt,getPopoverProps:ft,getBackdropProps:ht,getDialogProps:pt,getContentProps:gt}=usePopover({...rt,ref:nt}),mt=reactExports.useRef(null),{dialogProps:bt,titleProps:vt}=$40df3f8667284809$export$d55e7ee900f34e93({},mt),yt=pt({...!tt&&{ref:mt},...bt}),xt=reactExports.useMemo(()=>ot==="transparent"?null:ct?jsxRuntimeExports.jsx("div",{...ht()}):jsxRuntimeExports.jsx(LazyMotion,{features:domAnimation$4,children:jsxRuntimeExports.jsx(m$1.div,{animate:"enter",exit:"exit",initial:"exit",variants:TRANSITION_VARIANTS$1.fade,...ht()})}),[ot,ct,ht]);return jsxRuntimeExports.jsxs($337b884510726a0d$export$c6fdb837b070b4ff,{portalContainer:lt,children:[!dt&&xt,jsxRuntimeExports.jsx(st,{...ft(),children:jsxRuntimeExports.jsxs(FreeSoloPopoverWrapper,{disableAnimation:ct,motionProps:ut,placement:at,tabIndex:-1,transformOrigin:_e,...yt,children:[!dt&&jsxRuntimeExports.jsx($86ea4cb521eb2e37$export$2317d149ed6f78c4,{onDismiss:it.close}),jsxRuntimeExports.jsx("div",{...gt(),children:typeof et=="function"?et(vt):et}),jsxRuntimeExports.jsx($86ea4cb521eb2e37$export$2317d149ed6f78c4,{onDismiss:it.close})]})})]})});FreeSoloPopover.displayName="NextUI.FreeSoloPopover";var free_solo_popover_default=FreeSoloPopover,[PopoverProvider,usePopoverContext]=createContext2$1({name:"PopoverContext",errorMessage:"usePopoverContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Popover />`"}),domAnimation$3=()=>__vitePreload(()=>import("./index-M-A19hlJ.js"),__vite__mapDeps([])).then(et=>et.default),PopoverContent=et=>{const{as:_e,children:tt,className:rt,...nt}=et,{Component:st,placement:it,backdrop:at,motionProps:ot,disableAnimation:lt,getPopoverProps:ct,getDialogProps:ut,getBackdropProps:dt,getContentProps:ft,isNonModal:ht,onClose:pt}=usePopoverContext(),gt=reactExports.useRef(null),{dialogProps:mt,titleProps:bt}=$40df3f8667284809$export$d55e7ee900f34e93({},gt),vt=ut({ref:gt,...mt,...nt}),yt=_e||st||"div",xt=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[!ht&&jsxRuntimeExports.jsx($86ea4cb521eb2e37$export$2317d149ed6f78c4,{onDismiss:pt}),jsxRuntimeExports.jsx(yt,{...vt,children:jsxRuntimeExports.jsx("div",{...ft({className:rt}),children:typeof tt=="function"?tt(bt):tt})}),jsxRuntimeExports.jsx($86ea4cb521eb2e37$export$2317d149ed6f78c4,{onDismiss:pt})]}),Et=reactExports.useMemo(()=>at==="transparent"?null:lt?jsxRuntimeExports.jsx("div",{...dt()}):jsxRuntimeExports.jsx(LazyMotion,{features:domAnimation$3,children:jsxRuntimeExports.jsx(m$1.div,{animate:"enter",exit:"exit",initial:"exit",variants:TRANSITION_VARIANTS$1.fade,...dt()})}),[at,lt,dt]),wt=jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:lt?xt:jsxRuntimeExports.jsx(LazyMotion,{features:domAnimation$3,children:jsxRuntimeExports.jsx(m$1.div,{animate:"enter",exit:"exit",initial:"initial",style:{...getTransformOrigins(it==="center"?"top":it)},variants:TRANSITION_VARIANTS$1.scaleSpringOpacity,...ot,children:xt})})});return jsxRuntimeExports.jsxs("div",{...ct(),children:[Et,wt]})};PopoverContent.displayName="NextUI.PopoverContent";var popover_content_default=PopoverContent,PopoverTrigger=et=>{var _e;const{triggerRef:tt,getTriggerProps:rt}=usePopoverContext(),{children:nt,...st}=et,it=reactExports.useMemo(()=>typeof nt=="string"?jsxRuntimeExports.jsx("p",{children:nt}):reactExports.Children.only(nt),[nt]),at=(_e=it.props.ref)!=null?_e:it.ref,{onPress:ot,isDisabled:lt,...ct}=reactExports.useMemo(()=>rt($3ef42575df84b30b$export$9d1611c77c2fe928(st,it.props),at),[rt,it.props,st,at]),[,ut]=pickChildren(nt,button_default),{buttonProps:dt}=useAriaButton$1({onPress:ot,isDisabled:lt},tt),ft=reactExports.useMemo(()=>(ut==null?void 0:ut[0])!==void 0,[ut]);return reactExports.cloneElement(it,$3ef42575df84b30b$export$9d1611c77c2fe928(ct,ft?{onPress:ot,isDisabled:lt}:dt))};PopoverTrigger.displayName="NextUI.PopoverTrigger";var popover_trigger_default=PopoverTrigger,Popover=forwardRef$1((et,_e)=>{const{children:tt,...rt}=et,nt=usePopover({...rt,ref:_e}),[st,it]=reactExports.Children.toArray(tt),at=jsxRuntimeExports.jsx($337b884510726a0d$export$c6fdb837b070b4ff,{portalContainer:nt.portalContainer,children:it});return jsxRuntimeExports.jsxs(PopoverProvider,{value:nt,children:[st,nt.disableAnimation&&nt.isOpen?at:jsxRuntimeExports.jsx(AnimatePresence,{children:nt.isOpen?at:null})]})});Popover.displayName="NextUI.Popover";var popover_default=Popover,[DropdownProvider,useDropdownContext]=createContext2$1({name:"DropdownContext",errorMessage:"useDropdownContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Dropdown />`"});function MenuSelectedIcon(et){const{isSelected:_e,disableAnimation:tt,...rt}=et;return jsxRuntimeExports.jsx("svg",{"aria-hidden":"true","data-selected":_e,role:"presentation",viewBox:"0 0 17 18",...rt,children:jsxRuntimeExports.jsx("polyline",{fill:"none",points:"1 9 7 14 15 4",stroke:"currentColor",strokeDasharray:22,strokeDashoffset:_e?44:66,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,style:tt?{}:{transition:"stroke-dashoffset 200ms ease"}})})}var $c0398ad35c3639b7$exports={};$c0398ad35c3639b7$exports={longPressMessage:"     Alt +    "};var $7af657c4165927c3$exports={};$7af657c4165927c3$exports={longPressMessage:"    Alt+  ,    "};var $d95d4da6d531ab81$exports={};$d95d4da6d531ab81$exports={longPressMessage:"Dlouhm stiskem nebo stisknutm klves Alt + ipka dol otevete nabdku"};var $24ebda9c775dca17$exports={};$24ebda9c775dca17$exports={longPressMessage:"Langt tryk eller tryk p Alt + pil ned for at bne menuen"};var $743e0dfca6cab1e9$exports={};$743e0dfca6cab1e9$exports={longPressMessage:"Drcken Sie lange oder drcken Sie Alt + Nach-unten, um das Men zu ffnen"};var $a2f41026e05f1c84$exports={};$a2f41026e05f1c84$exports={longPressMessage:"    Alt +       "};var $43b800e97c901737$exports={};$43b800e97c901737$exports={longPressMessage:"Long press or press Alt + ArrowDown to open menu"};var $442f5f6ac211e29f$exports={};$442f5f6ac211e29f$exports={longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el men"};var $dff280acfeb2d8ac$exports={};$dff280acfeb2d8ac$exports={longPressMessage:"Men avamiseks vajutage pikalt vi vajutage klahve Alt + allanool"};var $51608325613944d7$exports={};$51608325613944d7$exports={longPressMessage:"Avaa valikko painamalla pohjassa tai nppinyhdistelmll Alt + Alanuoli"};var $c4a1b1eabeaa87be$exports={};$c4a1b1eabeaa87be$exports={longPressMessage:"Appuyez de manire prolonge ou appuyez sur Alt+Flche vers le bas pour ouvrir le menu."};var $8c74815cdee18d1b$exports={};$8c74815cdee18d1b$exports={longPressMessage:"     Alt + ArrowDown    "};var $fd0e9ef6a7fe0ec9$exports={};$fd0e9ef6a7fe0ec9$exports={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"};var $a89a74a39eba465a$exports={};$a89a74a39eba465a$exports={longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyl gombot a men megnyitshoz"};var $edc7c66594a0ae8a$exports={};$edc7c66594a0ae8a$exports={longPressMessage:"Premere a lungo o premere Alt + Freccia gi per aprire il menu"};var $f1ab51510712db52$exports={};$f1ab51510712db52$exports={longPressMessage:" Alt+"};var $f9b672d9b82fa3d6$exports={};$f9b672d9b82fa3d6$exports={longPressMessage:"  Alt +     "};var $a385f3910feda499$exports={};$a385f3910feda499$exports={longPressMessage:"Nordami atidaryti meniu, nuspaud palaikykite arba paspauskite Alt + ArrowDown."};var $4f1bde932c441789$exports={};$4f1bde932c441789$exports={longPressMessage:"Lai atvrtu izvlni, turiet nospiestu vai nospiediet taustiu kombinciju Alt + lejupvrst bultia"};var $914a51a8a594d5be$exports={};$914a51a8a594d5be$exports={longPressMessage:"Langt trykk eller trykk Alt + PilNed for  pne menyen"};var $89aaf803103bb500$exports={};$89aaf803103bb500$exports={longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"};var $c685891476dbaaca$exports={};$c685891476dbaaca$exports={longPressMessage:"Nacinij i przytrzymaj lub nacinij klawisze Alt + Strzaka w d, aby otworzy menu"};var $885879b9b10c2959$exports={};$885879b9b10c2959$exports={longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"};var $6b39616688a51692$exports={};$6b39616688a51692$exports={longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"};var $f26362aed63f47e2$exports={};$f26362aed63f47e2$exports={longPressMessage:"Apsai lung sau apsai pe Alt + sgeat n jos pentru a deschide meniul"};var $06cbade644558bf0$exports={};$06cbade644558bf0$exports={longPressMessage:"     Alt +  ,   "};var $0a391ff68f9d59b1$exports={};$0a391ff68f9d59b1$exports={longPressMessage:"Ponuku otvorte dlhm stlaenm alebo stlaenm klvesu Alt + klvesu so pkou nadol"};var $8193cf0e649c7928$exports={};$8193cf0e649c7928$exports={longPressMessage:"Za odprtje menija pritisnite in drite gumb ali pritisnite Alt+puica navzdol"};var $f398debcce5a5c55$exports={};$f398debcce5a5c55$exports={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"};var $9e9fef000aa4c013$exports={};$9e9fef000aa4c013$exports={longPressMessage:"Hll nedtryckt eller tryck p Alt + pil nedt fr att ppna menyn"};var $c016c8183bbe3d68$exports={};$c016c8183bbe3d68$exports={longPressMessage:"Meny amak iin uzun basn veya Alt + Aa Ok tuuna basn"};var $ca4f6c8462244e62$exports={};$ca4f6c8462244e62$exports={longPressMessage:"      Alt   ,   "};var $2d9960c02ccac927$exports={};$2d9960c02ccac927$exports={longPressMessage:" Alt + "};var $f1b682a4c8c5631c$exports={};$f1b682a4c8c5631c$exports={longPressMessage:" Alt+"};var $2cbb7ca666678a14$exports={};$2cbb7ca666678a14$exports={"ar-AE":$c0398ad35c3639b7$exports,"bg-BG":$7af657c4165927c3$exports,"cs-CZ":$d95d4da6d531ab81$exports,"da-DK":$24ebda9c775dca17$exports,"de-DE":$743e0dfca6cab1e9$exports,"el-GR":$a2f41026e05f1c84$exports,"en-US":$43b800e97c901737$exports,"es-ES":$442f5f6ac211e29f$exports,"et-EE":$dff280acfeb2d8ac$exports,"fi-FI":$51608325613944d7$exports,"fr-FR":$c4a1b1eabeaa87be$exports,"he-IL":$8c74815cdee18d1b$exports,"hr-HR":$fd0e9ef6a7fe0ec9$exports,"hu-HU":$a89a74a39eba465a$exports,"it-IT":$edc7c66594a0ae8a$exports,"ja-JP":$f1ab51510712db52$exports,"ko-KR":$f9b672d9b82fa3d6$exports,"lt-LT":$a385f3910feda499$exports,"lv-LV":$4f1bde932c441789$exports,"nb-NO":$914a51a8a594d5be$exports,"nl-NL":$89aaf803103bb500$exports,"pl-PL":$c685891476dbaaca$exports,"pt-BR":$885879b9b10c2959$exports,"pt-PT":$6b39616688a51692$exports,"ro-RO":$f26362aed63f47e2$exports,"ru-RU":$06cbade644558bf0$exports,"sk-SK":$0a391ff68f9d59b1$exports,"sl-SI":$8193cf0e649c7928$exports,"sr-SP":$f398debcce5a5c55$exports,"sv-SE":$9e9fef000aa4c013$exports,"tr-TR":$c016c8183bbe3d68$exports,"uk-UA":$ca4f6c8462244e62$exports,"zh-CN":$2d9960c02ccac927$exports,"zh-TW":$f1b682a4c8c5631c$exports};function $parcel$interopDefault$6(et){return et&&et.__esModule?et.default:et}function $168583247155ddda$export$dc9c12ed27dd1b49(et,_e,tt){let{type:rt="menu",isDisabled:nt,trigger:st="press"}=et,it=$bdb11010cef70236$export$f680877a34711e37(),{triggerProps:at,overlayProps:ot}=$628037886ba31236$export$f9d5c8beee7d008d({type:rt},_e,tt),lt=ft=>{if(!nt&&!(st==="longPress"&&!ft.altKey)&&tt&&tt.current)switch(ft.key){case"Enter":case" ":if(st==="longPress")return;case"ArrowDown":"continuePropagation"in ft||ft.stopPropagation(),ft.preventDefault(),_e.toggle("first");break;case"ArrowUp":"continuePropagation"in ft||ft.stopPropagation(),ft.preventDefault(),_e.toggle("last");break;default:"continuePropagation"in ft&&ft.continuePropagation()}},ct=$fca6afa0e843324b$export$f12b703ca79dfbb1($parcel$interopDefault$6($2cbb7ca666678a14$exports),"@react-aria/menu"),{longPressProps:ut}=$8a26561d2877236e$export$c24ed0104d07eab9({isDisabled:nt||st!=="longPress",accessibilityDescription:ct.format("longPressMessage"),onLongPressStart(){_e.close()},onLongPress(){_e.open("first")}}),dt={onPressStart(ft){ft.pointerType!=="touch"&&ft.pointerType!=="keyboard"&&!nt&&_e.open(ft.pointerType==="virtual"?"first":null)},onPress(ft){ft.pointerType==="touch"&&!nt&&_e.toggle()}};return delete at.onPress,{menuTriggerProps:{...at,...st==="press"?dt:ut,id:it,onKeyDown:lt},menuProps:{...ot,"aria-labelledby":it,autoFocus:_e.focusStrategy||!0,onClose:_e.close}}}const $d5336fe17ce95402$export$6f49b4016bfc8d56=new WeakMap;function $d5336fe17ce95402$export$38eaa17faae8f579(et,_e,tt){let{shouldFocusWrap:rt=!0,onKeyDown:nt,onKeyUp:st,...it}=et;!et["aria-label"]&&!et["aria-labelledby"]&&console.warn("An aria-label or aria-labelledby prop is required for accessibility.");let at=$65484d02dcb7eb3e$export$457c3d6518dd4c6f(et,{labelable:!0}),{listProps:ot}=$982254629710d113$export$b95089534ab7c1fd({...it,ref:tt,selectionManager:_e.selectionManager,collection:_e.collection,disabledKeys:_e.disabledKeys,shouldFocusWrap:rt,linkBehavior:"override"});return $d5336fe17ce95402$export$6f49b4016bfc8d56.set(_e,{onClose:et.onClose,onAction:et.onAction}),{menuProps:$3ef42575df84b30b$export$9d1611c77c2fe928(at,{onKeyDown:nt,onKeyUp:st},{role:"menu",...ot,onKeyDown:lt=>{var ct;lt.key!=="Escape"&&((ct=ot.onKeyDown)===null||ct===void 0||ct.call(ot,lt))}})}}function $a2e5df62f93c7633$export$9d32628fc2aea7da(et,_e,tt){let{id:rt,key:nt,closeOnSelect:st,isVirtualized:it,"aria-haspopup":at,onPressStart:ot,onPressUp:lt,onPress:ct,onPressChange:ut,onPressEnd:dt,onHoverStart:ft,onHoverChange:ht,onHoverEnd:pt,onKeyDown:gt,onKeyUp:mt,onFocus:bt,onFocusChange:vt,onBlur:yt,selectionManager:xt=_e.selectionManager}=et,Et=!!at,wt=Et&&et["aria-expanded"]==="true";var $t;let Tt=($t=et.isDisabled)!==null&&$t!==void 0?$t:xt.isDisabled(nt);var St;let Pt=(St=et.isSelected)!==null&&St!==void 0?St:xt.isSelected(nt),At=$d5336fe17ce95402$export$6f49b4016bfc8d56.get(_e),Rt=_e.collection.getItem(nt),Ct=et.onClose||At.onClose,Dt=$ea8dcbcb9ea1b556$export$9a302a45f65d0572(),Ft=sr=>{var kt;if(!Et){if(!(Rt==null||(kt=Rt.props)===null||kt===void 0)&&kt.onAction?Rt.props.onAction():et.onAction&&et.onAction(nt),At.onAction){let er=At.onAction;er(nt)}sr.target instanceof HTMLAnchorElement&&Rt&&Dt.open(sr.target,sr,Rt.props.href,Rt.props.routerOptions)}},Mt="menuitem";Et||(xt.selectionMode==="single"?Mt="menuitemradio":xt.selectionMode==="multiple"&&(Mt="menuitemcheckbox"));let Ot=$bdb11010cef70236$export$b4cc09c592e8fdb8(),jt=$bdb11010cef70236$export$b4cc09c592e8fdb8(),Ut=$bdb11010cef70236$export$b4cc09c592e8fdb8(),_t={id:rt,"aria-disabled":Tt||void 0,role:Mt,"aria-label":et["aria-label"],"aria-labelledby":Ot,"aria-describedby":[jt,Ut].filter(Boolean).join(" ")||void 0,"aria-controls":et["aria-controls"],"aria-haspopup":at,"aria-expanded":et["aria-expanded"]};xt.selectionMode!=="none"&&!Et&&(_t["aria-checked"]=Pt),it&&(_t["aria-posinset"]=Rt==null?void 0:Rt.index,_t["aria-setsize"]=$453cc9f0df89c0a5$export$77d5aafae4e095b2(_e.collection));let It=sr=>{sr.pointerType==="keyboard"&&Ft(sr),ot==null||ot(sr)},Wt=sr=>{sr.pointerType!=="keyboard"&&(Ft(sr),!Et&&Ct&&(st??(xt.selectionMode!=="multiple"||xt.isLink(nt)))&&Ct()),lt==null||lt(sr)},{itemProps:Kt,isFocused:Bt}=$880e95eb8b93ba9a$export$ecf600387e221c37({selectionManager:xt,key:nt,ref:tt,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,linkBehavior:"none"}),{pressProps:Qt,isPressed:Nt}=$f6c31cce2adf654f$export$45712eceda6fad21({onPressStart:It,onPress:ct,onPressUp:Wt,onPressChange:ut,onPressEnd:dt,isDisabled:Tt}),{hoverProps:Xt}=$6179b936705e76d3$export$ae780daf29e6d456({isDisabled:Tt,onHoverStart(sr){!$507fabe10e71c6fb$export$b9b3dfddab17db27()&&!(wt&&at==="dialog")&&(xt.setFocused(!0),xt.setFocusedKey(nt)),ft==null||ft(sr)},onHoverChange:ht,onHoverEnd:pt}),{keyboardProps:Zt}=$46d819fcbaf35654$export$8f71654801c2f7cd({onKeyDown:sr=>{if(sr.repeat){sr.continuePropagation();return}switch(sr.key){case" ":!Tt&&xt.selectionMode==="none"&&!Et&&st!==!1&&Ct&&Ct();break;case"Enter":!Tt&&st!==!1&&!Et&&Ct&&Ct();break;default:Et||sr.continuePropagation(),gt==null||gt(sr);break}},onKeyUp:mt}),{focusProps:Yt}=$a1ea59d68270f0dd$export$f8168d8dd8fd66e6({onBlur:yt,onFocus:bt,onFocusChange:vt}),rr=$65484d02dcb7eb3e$export$457c3d6518dd4c6f(Rt==null?void 0:Rt.props);delete rr.id;let ar=$ea8dcbcb9ea1b556$export$7e924b3091a3bd18(Rt==null?void 0:Rt.props);return{menuItemProps:{..._t,...$3ef42575df84b30b$export$9d1611c77c2fe928(rr,ar,Et?{onFocus:Kt.onFocus,"data-key":Kt["data-key"]}:Kt,Qt,Xt,Zt,Yt),tabIndex:Kt.tabIndex!=null&&wt?-1:Kt.tabIndex},labelProps:{id:Ot},descriptionProps:{id:jt},keyboardShortcutProps:{id:Ut},isFocused:Bt,isSelected:Pt,isPressed:Nt,isDisabled:Tt}}function $3e5eb2498db5b506$export$73f7a44322579622(et){let{heading:_e,"aria-label":tt}=et,rt=$bdb11010cef70236$export$f680877a34711e37();return{itemProps:{role:"presentation"},headingProps:_e?{id:rt,role:"presentation"}:{},groupProps:{role:"group","aria-label":tt,"aria-labelledby":_e?rt:void 0}}}var MOBILE_SCREEN_WIDTH=700;function useIsMobile(){return $b5e257d569688ac6$export$535bd6ca7f90a273()||typeof window>"u"?!1:window.screen.width<=MOBILE_SCREEN_WIDTH}function useMenuItem(et){var _e,tt;const rt=useProviderContext$1(),[nt,st]=mapPropsVariants$1(et,menuItem.variantKeys),{as:it,item:at,state:ot,shortcut:lt,description:ct,startContent:ut,endContent:dt,isVirtualized:ft,selectedIcon:ht,className:pt,classNames:gt,onAction:mt,autoFocus:bt,onPress:vt,onPressStart:yt,onPressUp:xt,onPressEnd:Et,onPressChange:wt,onHoverStart:$t,onHoverChange:Tt,onHoverEnd:St,hideSelectedIcon:Pt=!1,isReadOnly:At=!1,closeOnSelect:Rt,onClose:Ct,onClick:Dt,...Ft}=nt,Mt=(tt=(_e=et.disableAnimation)!=null?_e:rt==null?void 0:rt.disableAnimation)!=null?tt:!1,Ot=reactExports.useRef(null),jt=it||(Ft!=null&&Ft.href?"a":"li"),Ut=typeof jt=="string",{rendered:_t,key:It}=at,Wt=ot.disabledKeys.has(It)||et.isDisabled,Kt=ot.selectionManager.selectionMode!=="none",Bt=useIsMobile(),{isFocusVisible:Qt,focusProps:Nt}=$f7dceffc5ad7768b$export$4e328f61c538687f({autoFocus:bt});Dt&&typeof Dt=="function"&&warn$2("onClick is deprecated, please use onPress instead. See: https://github.com/nextui-org/nextui/issues/4292","MenuItem");const Xt=reactExports.useCallback(tr=>{Dt==null||Dt(tr),vt==null||vt(tr)},[Dt,vt]),{isPressed:Zt,isFocused:Yt,isSelected:rr,isDisabled:ar,menuItemProps:sr,labelProps:kt,descriptionProps:er,keyboardShortcutProps:Gt}=$a2e5df62f93c7633$export$9d32628fc2aea7da({key:It,onClose:Ct,isDisabled:Wt,onPress:Xt,onPressStart:yt,onPressUp:xt,onPressEnd:Et,onPressChange:wt,"aria-label":nt["aria-label"],closeOnSelect:Rt,isVirtualized:ft,onAction:mt},ot,Ot);let{hoverProps:zt,isHovered:Vt}=$6179b936705e76d3$export$ae780daf29e6d456({isDisabled:ar,onHoverStart(tr){$507fabe10e71c6fb$export$b9b3dfddab17db27()||(ot.selectionManager.setFocused(!0),ot.selectionManager.setFocusedKey(It)),$t==null||$t(tr)},onHoverChange:Tt,onHoverEnd:St}),Ht=sr;const lr=reactExports.useMemo(()=>menuItem({...st,isDisabled:ar,disableAnimation:Mt,hasTitleTextChild:typeof _t=="string",hasDescriptionTextChild:typeof ct=="string"}),[objectToDeps$1(st),ar,Mt,_t,ct]),dr=clsx$2(gt==null?void 0:gt.base,pt);At&&(Ht=removeEvents(Ht));const Jt=(tr={})=>({ref:Ot,...$3ef42575df84b30b$export$9d1611c77c2fe928(At?{}:Nt,filterDOMProps$1(Ft,{enabled:Ut}),Ht,zt,tr),"data-focus":dataAttr$1(Yt),"data-selectable":dataAttr$1(Kt),"data-hover":dataAttr$1(Bt?Vt||Zt:Vt),"data-disabled":dataAttr$1(ar),"data-selected":dataAttr$1(rr),"data-pressed":dataAttr$1(Zt),"data-focus-visible":dataAttr$1(Qt),className:lr.base({class:clsx$2(dr,tr.className)})}),nr=(tr={})=>({...$3ef42575df84b30b$export$9d1611c77c2fe928(kt,tr),className:lr.title({class:gt==null?void 0:gt.title})}),fr=(tr={})=>({...$3ef42575df84b30b$export$9d1611c77c2fe928(er,tr),className:lr.description({class:gt==null?void 0:gt.description})}),Lt=(tr={})=>({...$3ef42575df84b30b$export$9d1611c77c2fe928(Gt,tr),className:lr.shortcut({class:gt==null?void 0:gt.shortcut})}),qt=reactExports.useCallback((tr={})=>({"aria-hidden":dataAttr$1(!0),"data-disabled":dataAttr$1(ar),className:lr.selectedIcon({class:gt==null?void 0:gt.selectedIcon}),...tr}),[ar,lr,gt]);return{Component:jt,domRef:Ot,slots:lr,classNames:gt,isSelectable:Kt,isSelected:rr,isDisabled:ar,rendered:_t,shortcut:lt,description:ct,startContent:ut,endContent:dt,selectedIcon:ht,disableAnimation:Mt,getItemProps:Jt,getLabelProps:nr,hideSelectedIcon:Pt,getDescriptionProps:fr,getKeyboardShortcutProps:Lt,getSelectedIconProps:qt}}var MenuItem=et=>{const{Component:_e,slots:tt,classNames:rt,rendered:nt,shortcut:st,description:it,isSelectable:at,isSelected:ot,isDisabled:lt,selectedIcon:ct,startContent:ut,endContent:dt,disableAnimation:ft,hideSelectedIcon:ht,getItemProps:pt,getLabelProps:gt,getDescriptionProps:mt,getKeyboardShortcutProps:bt,getSelectedIconProps:vt}=useMenuItem(et),yt=reactExports.useMemo(()=>{const xt=jsxRuntimeExports.jsx(MenuSelectedIcon,{disableAnimation:ft,isSelected:ot});return typeof ct=="function"?ct({icon:xt,isSelected:ot,isDisabled:lt}):ct||xt},[ct,ot,lt,ft]);return jsxRuntimeExports.jsxs(_e,{...pt(),children:[ut,it?jsxRuntimeExports.jsxs("div",{className:tt.wrapper({class:rt==null?void 0:rt.wrapper}),children:[jsxRuntimeExports.jsx("span",{...gt(),children:nt}),jsxRuntimeExports.jsx("span",{...mt(),children:it})]}):jsxRuntimeExports.jsx("span",{...gt(),children:nt}),st&&jsxRuntimeExports.jsx("kbd",{...bt(),children:st}),at&&!ht&&jsxRuntimeExports.jsx("span",{...vt(),children:yt}),dt]})};MenuItem.displayName="NextUI.MenuItem";var menu_item_default=MenuItem,MenuSection=forwardRef$1(({item:et,state:_e,as:tt,variant:rt,color:nt,disableAnimation:st,onAction:it,closeOnSelect:at,className:ot,classNames:lt,showDivider:ct=!1,hideSelectedIcon:ut,dividerProps:dt={},itemClasses:ft,title:ht,...pt},gt)=>{const mt=tt||"li",bt=reactExports.useMemo(()=>menuSection(),[]),vt=clsx$2(lt==null?void 0:lt.base,ot),yt=clsx$2(lt==null?void 0:lt.divider,dt==null?void 0:dt.className),{itemProps:xt,headingProps:Et,groupProps:wt}=$3e5eb2498db5b506$export$73f7a44322579622({heading:et.rendered,"aria-label":et["aria-label"]});return jsxRuntimeExports.jsxs(mt,{"data-slot":"base",...$3ef42575df84b30b$export$9d1611c77c2fe928(xt,pt),className:bt.base({class:vt}),children:[et.rendered&&jsxRuntimeExports.jsx("span",{...Et,className:bt.heading({class:lt==null?void 0:lt.heading}),"data-slot":"heading",children:et.rendered}),jsxRuntimeExports.jsxs("ul",{...wt,className:bt.group({class:lt==null?void 0:lt.group}),"data-has-title":!!et.rendered,"data-slot":"group",children:[[...et.childNodes].map($t=>{const{key:Tt,props:St}=$t;let Pt=jsxRuntimeExports.jsx(menu_item_default,{classNames:ft,closeOnSelect:at,color:nt,disableAnimation:st,hideSelectedIcon:ut,item:$t,state:_e,variant:rt,onAction:it,...St},Tt);return $t.wrapper&&(Pt=$t.wrapper(Pt)),Pt}),ct&&jsxRuntimeExports.jsx(divider_default$1,{as:"li",className:bt.divider({class:yt}),...dt})]})]})});MenuSection.displayName="NextUI.MenuSection";var menu_section_default=MenuSection;function useMenu(et){var _e;const tt=useProviderContext$1(),{as:rt,ref:nt,variant:st,color:it,children:at,disableAnimation:ot=(_e=tt==null?void 0:tt.disableAnimation)!=null?_e:!1,onAction:lt,closeOnSelect:ct,itemClasses:ut,className:dt,state:ft,topContent:ht,bottomContent:pt,hideEmptyContent:gt=!1,hideSelectedIcon:mt=!1,emptyContent:bt="No items.",menuProps:vt,onClose:yt,classNames:xt,...Et}=et,wt=rt||"ul",$t=useDOMRef$1(nt),Tt=typeof wt=="string",St=$875d6693e12af071$export$728d6ba534403756({...Et,...vt,children:at}),Pt=ft||St,{menuProps:At}=$d5336fe17ce95402$export$38eaa17faae8f579({...Et,...vt,onAction:lt},Pt,$t),Rt=reactExports.useMemo(()=>menu({className:dt}),[dt]),Ct=clsx$2(xt==null?void 0:xt.base,dt);return{Component:wt,state:Pt,variant:st,color:it,disableAnimation:ot,onClose:yt,topContent:ht,bottomContent:pt,closeOnSelect:ct,className:dt,itemClasses:ut,getBaseProps:(Ot={})=>({ref:$t,"data-slot":"base",className:Rt.base({class:Ct}),...filterDOMProps$1(Et,{enabled:Tt}),...Ot}),getListProps:(Ot={})=>({"data-slot":"list",className:Rt.list({class:xt==null?void 0:xt.list}),...At,...Ot}),hideEmptyContent:gt,hideSelectedIcon:mt,getEmptyContentProps:(Ot={})=>({children:bt,className:Rt.emptyContent({class:xt==null?void 0:xt.emptyContent}),...Ot})}}var Menu=forwardRef$1(function(_e,tt){const{Component:rt,state:nt,closeOnSelect:st,color:it,disableAnimation:at,hideSelectedIcon:ot,hideEmptyContent:lt,variant:ct,onClose:ut,topContent:dt,bottomContent:ft,itemClasses:ht,getBaseProps:pt,getListProps:gt,getEmptyContentProps:mt}=useMenu({..._e,ref:tt}),bt=jsxRuntimeExports.jsxs(rt,{...gt(),children:[!nt.collection.size&&!lt&&jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("div",{...mt()})}),[...nt.collection].map(vt=>{const yt={closeOnSelect:st,color:it,disableAnimation:at,item:vt,state:nt,variant:ct,onClose:ut,hideSelectedIcon:ot,...vt.props},xt=mergeClasses$2(ht,yt==null?void 0:yt.classNames);if(vt.type==="section")return jsxRuntimeExports.jsx(menu_section_default,{...yt,itemClasses:xt},vt.key);let Et=jsxRuntimeExports.jsx(menu_item_default,{...yt,classNames:xt},vt.key);return vt.wrapper&&(Et=vt.wrapper(Et)),Et})]});return jsxRuntimeExports.jsxs("div",{...pt(),children:[dt,bt,ft]})}),menu_default=Menu,MenuItemBase=$c1d7fb2ec91bae71$export$6d08773d2e66f8f2,menu_item_base_default=MenuItemBase,DropdownMenu=forwardRef$1(function(_e,tt){const{getMenuProps:rt}=useDropdownContext();return jsxRuntimeExports.jsx(popover_content_default,{children:jsxRuntimeExports.jsx($9bf71ea28793e738$export$20e40289641fbbb6,{contain:!0,restoreFocus:!0,children:jsxRuntimeExports.jsx(menu_default,{...rt(_e,tt)})})})}),dropdown_menu_default=DropdownMenu,DropdownTrigger=et=>{const{getMenuTriggerProps:_e}=useDropdownContext(),{children:tt,...rt}=et;return jsxRuntimeExports.jsx(popover_trigger_default,{..._e(rt),children:tt})};DropdownTrigger.displayName="NextUI.DropdownTrigger";var dropdown_trigger_default=DropdownTrigger;function $a28c903ee9ad8dc5$export$79fefeb1c2091ac3(et){let _e=$fc909762b330b746$export$61c6a8c84e605fb6(et),[tt,rt]=reactExports.useState(null),[nt,st]=reactExports.useState([]),it=()=>{st([]),_e.close()};return{focusStrategy:tt,..._e,open(lt=null){rt(lt),_e.open()},toggle(lt=null){rt(lt),_e.toggle()},close(){it()},expandedKeysStack:nt,openSubmenu:(lt,ct)=>{st(ut=>ct>ut.length?ut:[...ut.slice(0,ct),lt])},closeSubmenu:(lt,ct)=>{st(ut=>ut[ct]===lt?ut.slice(0,ct):ut)}}}var getMenuItem=(et,_e)=>{if(et){const tt=Array.isArray(et.children)?et.children:[...(et==null?void 0:et.items)||[]];if(tt&&tt.length)return tt.find(nt=>{if(nt&&nt.key===_e)return nt})||{}}return null},getCloseOnSelect=(et,_e,tt)=>{const rt=tt||getMenuItem(et,_e);return rt&&rt.props&&"closeOnSelect"in rt.props?rt.props.closeOnSelect:et==null?void 0:et.closeOnSelect},DEFAULT_PLACEMENT="bottom";function useDropdown(et){var _e;const tt=useProviderContext$1(),{as:rt,triggerRef:nt,isOpen:st,defaultOpen:it,onOpenChange:at,isDisabled:ot,type:lt="menu",trigger:ct="press",placement:ut=DEFAULT_PLACEMENT,closeOnSelect:dt=!0,shouldBlockScroll:ft=!0,classNames:ht,disableAnimation:pt=(_e=tt==null?void 0:tt.disableAnimation)!=null?_e:!1,onClose:gt,className:mt,containerPadding:bt=12,offset:vt=7,crossOffset:yt=0,shouldFlip:xt=!0,...Et}=et,wt=rt||"div",$t=reactExports.useRef(null),Tt=nt||$t,St=reactExports.useRef(null),Pt=reactExports.useRef(null),At=$a28c903ee9ad8dc5$export$79fefeb1c2091ac3({trigger:ct,isOpen:st,defaultOpen:it,onOpenChange:_t=>{at==null||at(_t),_t||gt==null||gt()}}),{menuTriggerProps:Rt,menuProps:Ct}=$168583247155ddda$export$dc9c12ed27dd1b49({type:lt,trigger:ct,isDisabled:ot},At,Tt),Dt=reactExports.useMemo(()=>dropdown({className:mt}),[mt]),{placement:Ft}=$2a41e45df1593e64$export$d39e1813b3bdd0e1({isOpen:At.isOpen,targetRef:$t,overlayRef:Pt,placement:toReactAriaPlacement(ut),offset:vt,crossOffset:yt,shouldFlip:xt,containerPadding:bt}),Mt=_t=>{_t!==void 0&&!_t||dt&&At.close()},Ot=(_t={})=>{const It=$3ef42575df84b30b$export$9d1611c77c2fe928(Et,_t);return{state:At,placement:Ft||DEFAULT_PLACEMENT,ref:Pt,disableAnimation:pt,shouldBlockScroll:ft,scrollRef:St,triggerRef:Tt,...It,classNames:{...ht,..._t.classNames,content:clsx$2(Dt,ht==null?void 0:ht.content,_t.className)},shouldCloseOnInteractOutside:It!=null&&It.shouldCloseOnInteractOutside?It.shouldCloseOnInteractOutside:Wt=>ariaShouldCloseOnInteractOutside(Wt,$t,At)}},jt=(_t={})=>{const{onPress:It,onPressStart:Wt,...Kt}=Rt;return $3ef42575df84b30b$export$9d1611c77c2fe928(Kt,{isDisabled:ot},_t)},Ut=(_t,It=null)=>({ref:mergeRefs$1(It,St),menuProps:Ct,closeOnSelect:dt,...$3ef42575df84b30b$export$9d1611c77c2fe928(_t,{onAction:(Wt,Kt)=>{const Bt=getCloseOnSelect(_t,Wt,Kt);Mt(Bt)},onClose:At.close})});return{Component:wt,menuRef:St,menuProps:Ct,classNames:Dt,closeOnSelect:dt,onClose:At.close,autoFocus:At.focusStrategy||!0,disableAnimation:pt,getPopoverProps:Ot,getMenuProps:Ut,getMenuTriggerProps:jt}}var Dropdown=et=>{const{children:_e,...tt}=et,rt=useDropdown(tt),[nt,st]=React.Children.toArray(_e);return jsxRuntimeExports.jsx(DropdownProvider,{value:rt,children:jsxRuntimeExports.jsxs(popover_default,{...rt.getPopoverProps(),children:[nt,st]})})};Dropdown.displayName="NextUI.Dropdown";var dropdown_default=Dropdown,[ModalProvider,useModalContext]=createContext2$1({name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Modal />`"}),ModalBody=forwardRef$1((et,_e)=>{const{as:tt,children:rt,className:nt,...st}=et,{slots:it,classNames:at,bodyId:ot,setBodyMounted:lt}=useModalContext(),ct=useDOMRef$1(_e),ut=tt||"div";return reactExports.useEffect(()=>(lt(!0),()=>lt(!1)),[lt]),jsxRuntimeExports.jsx(ut,{ref:ct,className:it.body({class:clsx$2(at==null?void 0:at.body,nt)}),id:ot,...st,children:rt})});ModalBody.displayName="NextUI.ModalBody";var modal_body_default=ModalBody,scaleInOut={enter:{scale:"var(--scale-enter)",y:"var(--slide-enter)",opacity:1,willChange:"auto",transition:{scale:{duration:.4,ease:TRANSITION_EASINGS$1.ease},opacity:{duration:.4,ease:TRANSITION_EASINGS$1.ease},y:{type:"spring",bounce:0,duration:.6}}},exit:{scale:"var(--scale-exit)",y:"var(--slide-exit)",opacity:0,willChange:"transform",transition:{duration:.3,ease:TRANSITION_EASINGS$1.ease}}},domAnimation$2=()=>__vitePreload(()=>import("./index-M-A19hlJ.js"),__vite__mapDeps([])).then(et=>et.default),ModalContent=et=>{const{as:_e,children:tt,role:rt="dialog",...nt}=et,{Component:st,domRef:it,slots:at,classNames:ot,motionProps:lt,backdrop:ct,closeButton:ut,hideCloseButton:dt,disableAnimation:ft,getDialogProps:ht,getBackdropProps:pt,getCloseButtonProps:gt,onClose:mt}=useModalContext(),bt=_e||st||"div",vt=$5df64b3807dc15ee$export$d699905dd57c73ca(),{dialogProps:yt}=$40df3f8667284809$export$d55e7ee900f34e93({role:rt},it),xt=reactExports.isValidElement(ut)?reactExports.cloneElement(ut,gt()):jsxRuntimeExports.jsx("button",{...gt(),children:jsxRuntimeExports.jsx(CloseIcon,{})}),Et=reactExports.useCallback(At=>{At.key==="Tab"&&At.nativeEvent.isComposing&&(At.stopPropagation(),At.preventDefault())},[]),wt=ht($3ef42575df84b30b$export$9d1611c77c2fe928(yt,nt)),$t=jsxRuntimeExports.jsxs(bt,{...wt,onKeyDown:$ff5963eb1fccf552$export$e08e3b67e392101e(wt.onKeyDown,Et),children:[jsxRuntimeExports.jsx($86ea4cb521eb2e37$export$2317d149ed6f78c4,{onDismiss:mt}),!dt&&xt,typeof tt=="function"?tt(mt):tt,jsxRuntimeExports.jsx($86ea4cb521eb2e37$export$2317d149ed6f78c4,{onDismiss:mt})]}),Tt=reactExports.useMemo(()=>ct==="transparent"?null:ft?jsxRuntimeExports.jsx("div",{...pt()}):jsxRuntimeExports.jsx(LazyMotion,{features:domAnimation$2,children:jsxRuntimeExports.jsx(m$1.div,{animate:"enter",exit:"exit",initial:"exit",variants:TRANSITION_VARIANTS$1.fade,...pt()})}),[ct,ft,pt]),St={"--visual-viewport-height":vt.height+"px"},Pt=ft?jsxRuntimeExports.jsx("div",{className:at.wrapper({class:ot==null?void 0:ot.wrapper}),"data-slot":"wrapper",style:St,children:$t}):jsxRuntimeExports.jsx(LazyMotion,{features:domAnimation$2,children:jsxRuntimeExports.jsx(m$1.div,{animate:"enter",className:at.wrapper({class:ot==null?void 0:ot.wrapper}),"data-slot":"wrapper",exit:"exit",initial:"exit",variants:scaleInOut,...lt,style:St,children:$t})});return jsxRuntimeExports.jsxs("div",{tabIndex:-1,children:[Tt,Pt]})};ModalContent.displayName="NextUI.ModalContent";var modal_content_default=ModalContent,ModalFooter=forwardRef$1((et,_e)=>{const{as:tt,children:rt,className:nt,...st}=et,{slots:it,classNames:at}=useModalContext(),ot=useDOMRef$1(_e),lt=tt||"footer";return jsxRuntimeExports.jsx(lt,{ref:ot,className:it.footer({class:clsx$2(at==null?void 0:at.footer,nt)}),...st,children:rt})});ModalFooter.displayName="NextUI.ModalFooter";var modal_footer_default=ModalFooter,ModalHeader=forwardRef$1((et,_e)=>{const{as:tt,children:rt,className:nt,...st}=et,{slots:it,classNames:at,headerId:ot,setHeaderMounted:lt}=useModalContext(),ct=useDOMRef$1(_e),ut=tt||"header";return reactExports.useEffect(()=>(lt(!0),()=>lt(!1)),[lt]),jsxRuntimeExports.jsx(ut,{ref:ct,className:it.header({class:clsx$2(at==null?void 0:at.header,nt)}),id:ot,...st,children:rt})});ModalHeader.displayName="NextUI.ModalHeader";var modal_header_default=ModalHeader;function useAriaModalOverlay(et={shouldBlockScroll:!0},_e,tt){let{overlayProps:rt,underlayProps:nt}=$a11501f3d1d39e6c$export$ea8f71083e90600f({...et,isOpen:_e.isOpen,onClose:_e.close},tt);return $49c51c25361d4cd2$export$ee0f7cc6afcd1c18({isDisabled:!_e.isOpen||!et.shouldBlockScroll}),$337b884510726a0d$export$14c98a7594375490(),reactExports.useEffect(()=>{if(_e.isOpen&&tt.current)return $5e3802645cc19319$export$1c3ebcada18427bf([tt.current])},[_e.isOpen,tt]),{modalProps:$3ef42575df84b30b$export$9d1611c77c2fe928(rt),underlayProps:nt}}function useModal(et){var _e,tt,rt;const nt=useProviderContext$1(),[st,it]=mapPropsVariants$1(et,modal.variantKeys),{ref:at,as:ot,className:lt,classNames:ct,isOpen:ut,defaultOpen:dt,onOpenChange:ft,motionProps:ht,closeButton:pt,isDismissable:gt=!0,hideCloseButton:mt=!1,shouldBlockScroll:bt=!0,portalContainer:vt,isKeyboardDismissDisabled:yt=!1,onClose:xt,...Et}=st,wt=ot||"section",$t=useDOMRef$1(at),Tt=reactExports.useRef(null),[St,Pt]=reactExports.useState(!1),[At,Rt]=reactExports.useState(!1),Ct=(tt=(_e=et.disableAnimation)!=null?_e:nt==null?void 0:nt.disableAnimation)!=null?tt:!1,Dt=reactExports.useId(),Ft=reactExports.useId(),Mt=reactExports.useId(),Ot=$fc909762b330b746$export$61c6a8c84e605fb6({isOpen:ut,defaultOpen:dt,onOpenChange:Zt=>{ft==null||ft(Zt),Zt||xt==null||xt()}}),{modalProps:jt,underlayProps:Ut}=useAriaModalOverlay({isDismissable:gt,shouldBlockScroll:bt,isKeyboardDismissDisabled:yt},Ot,$t),{buttonProps:_t}=useAriaButton$1({onPress:Ot.close},Tt),{isFocusVisible:It,focusProps:Wt}=$f7dceffc5ad7768b$export$4e328f61c538687f(),Kt=clsx$2(ct==null?void 0:ct.base,lt),Bt=reactExports.useMemo(()=>modal({...it,disableAnimation:Ct}),[objectToDeps$1(it),Ct]),Qt=(Zt={},Yt=null)=>{var rr;return{ref:$5dc95899b306f630$export$c9058316764c140e(Yt,$t),...$3ef42575df84b30b$export$9d1611c77c2fe928(jt,Et,Zt),className:Bt.base({class:clsx$2(Kt,Zt.className)}),id:Dt,"data-open":dataAttr$1(Ot.isOpen),"data-dismissable":dataAttr$1(gt),"aria-modal":dataAttr$1(!0),"data-placement":(rr=et==null?void 0:et.placement)!=null?rr:"right","aria-labelledby":St?Ft:void 0,"aria-describedby":At?Mt:void 0}},Nt=reactExports.useCallback((Zt={})=>({className:Bt.backdrop({class:ct==null?void 0:ct.backdrop}),onClick:()=>Ot.close(),...Ut,...Zt}),[Bt,ct,Ut]),Xt=()=>({role:"button",tabIndex:0,"aria-label":"Close","data-focus-visible":dataAttr$1(It),className:Bt.closeButton({class:ct==null?void 0:ct.closeButton}),...$3ef42575df84b30b$export$9d1611c77c2fe928(_t,Wt)});return{Component:wt,slots:Bt,domRef:$t,headerId:Ft,bodyId:Mt,motionProps:ht,classNames:ct,isDismissable:gt,closeButton:pt,hideCloseButton:mt,portalContainer:vt,shouldBlockScroll:bt,backdrop:(rt=et.backdrop)!=null?rt:"opaque",isOpen:Ot.isOpen,onClose:Ot.close,disableAnimation:Ct,setBodyMounted:Rt,setHeaderMounted:Pt,getDialogProps:Qt,getBackdropProps:Nt,getCloseButtonProps:Xt}}var Modal=forwardRef$1((et,_e)=>{const{children:tt,...rt}=et,nt=useModal({...rt,ref:_e}),st=jsxRuntimeExports.jsx($337b884510726a0d$export$c6fdb837b070b4ff,{portalContainer:nt.portalContainer,children:tt});return jsxRuntimeExports.jsx(ModalProvider,{value:nt,children:nt.disableAnimation&&nt.isOpen?st:jsxRuntimeExports.jsx(AnimatePresence,{children:nt.isOpen?st:null})})});Modal.displayName="NextUI.Modal";var modal_default=Modal;function useDisclosure(et={}){const{id:_e,defaultOpen:tt,isOpen:rt,onClose:nt,onOpen:st,onChange:it=()=>{}}=et,at=useCallbackRef(st),ot=useCallbackRef(nt),[lt,ct]=$458b0a5536c1a7cf$export$40bfa8c7b0832715(rt,tt||!1,it),ut=reactExports.useId(),dt=_e||ut,ft=rt!==void 0,ht=reactExports.useCallback(()=>{ft||ct(!1),ot==null||ot()},[ft,ot]),pt=reactExports.useCallback(()=>{ft||ct(!0),at==null||at()},[ft,at]),gt=reactExports.useCallback(()=>{(lt?ht:pt)()},[lt,pt,ht]);return{isOpen:!!lt,onOpen:pt,onClose:ht,onOpenChange:gt,isControlled:ft,getButtonProps:(mt={})=>({...mt,"aria-expanded":lt,"aria-controls":dt,onClick:$ff5963eb1fccf552$export$e08e3b67e392101e(mt.onClick,gt)}),getDisclosureProps:(mt={})=>({...mt,hidden:!lt,id:dt})}}function useDraggable(et){const{targetRef:_e,isDisabled:tt=!1,canOverflow:rt=!1}=et,nt=reactExports.useRef({minLeft:0,minTop:0,maxLeft:0,maxTop:0});let st={offsetX:0,offsetY:0};const it=reactExports.useCallback(()=>{var ct,ut,dt,ft,ht;const{offsetX:pt,offsetY:gt}=st,mt=(ct=_e==null?void 0:_e.current)==null?void 0:ct.getBoundingClientRect(),bt=(ut=mt==null?void 0:mt.left)!=null?ut:0,vt=(dt=mt==null?void 0:mt.top)!=null?dt:0,yt=(ft=mt==null?void 0:mt.width)!=null?ft:0,xt=(ht=mt==null?void 0:mt.height)!=null?ht:0,Et=document.documentElement.clientWidth,wt=document.documentElement.clientHeight,$t=-bt+pt,Tt=-vt+gt,St=Et-bt-yt+pt,Pt=wt-vt-xt+gt;nt.current={minLeft:$t,minTop:Tt,maxLeft:St,maxTop:Pt}},[st,_e==null?void 0:_e.current]),at=reactExports.useCallback(ct=>{if(tt)return;const{offsetX:ut,offsetY:dt}=st,{minLeft:ft,minTop:ht,maxLeft:pt,maxTop:gt}=nt.current;let mt=ut+ct.deltaX,bt=dt+ct.deltaY;rt||(mt=Math.min(Math.max(mt,ft),pt),bt=Math.min(Math.max(bt,ht),gt)),st={offsetX:mt,offsetY:bt},_e!=null&&_e.current&&(_e.current.style.transform=`translate(${mt}px, ${bt}px)`)},[tt,st,nt.current,rt,_e==null?void 0:_e.current]),{moveProps:ot}=$e8a7022cf87cba2a$export$36da96379f79f245({onMoveStart:it,onMove:at}),lt=reactExports.useCallback(ct=>{ct.preventDefault()},[]);return reactExports.useEffect(()=>(tt||document.body.addEventListener("touchmove",lt,{passive:!1}),()=>{document.body.removeEventListener("touchmove",lt)}),[tt]),{moveProps:{...ot,style:{cursor:tt?void 0:"move"}}}}const $2140fb2337097f2d$export$552312adfd451dab=new WeakMap;function $2140fb2337097f2d$var$normalizeKey(et){return typeof et=="string"?et.replace(/\s*/g,""):""+et}function $2140fb2337097f2d$export$37cd4213f2ad742e(et,_e){let tt=$2140fb2337097f2d$export$552312adfd451dab.get(et);if(!tt)throw new Error("Unknown grid");return`${tt}-${$2140fb2337097f2d$var$normalizeKey(_e)}`}function $2140fb2337097f2d$export$19baff3266315d44(et,_e,tt){let rt=$2140fb2337097f2d$export$552312adfd451dab.get(et);if(!rt)throw new Error("Unknown grid");return`${rt}-${$2140fb2337097f2d$var$normalizeKey(_e)}-${$2140fb2337097f2d$var$normalizeKey(tt)}`}function $2140fb2337097f2d$export$85069b70317f543(et,_e){return[...et.collection.rowHeaderColumnKeys].map(tt=>$2140fb2337097f2d$export$19baff3266315d44(et,_e,tt)).join(" ")}var $ce3de3ff2fd66848$exports={};$ce3de3ff2fd66848$exports={ascending:"",ascendingSort:et=>`   ${et.columnName}  `,columnSize:et=>`${et.value} `,descending:"",descendingSort:et=>`   ${et.columnName}  `,resizerDescription:"   Enter   ",select:"",selectAll:" ",sortable:"  "};var $cb80dcce530985b9$exports={};$cb80dcce530985b9$exports={ascending:"",ascendingSort:et=>`   ${et.columnName}   `,columnSize:et=>`${et.value} `,descending:"",descendingSort:et=>`   ${et.columnName}   `,resizerDescription:" Enter,     ",select:"",selectAll:" ",sortable:" "};var $68ac86749db4c0fb$exports={};$68ac86749db4c0fb$exports={ascending:"vzestupn",ascendingSort:et=>`azeno vzestupn podle sloupce ${et.columnName}`,columnSize:et=>`${et.value} pixel`,descending:"sestupn",descendingSort:et=>`azeno sestupn podle sloupce ${et.columnName}`,resizerDescription:"Stisknutm klvesy Enter zanete mnit velikost",select:"Vybrat",selectAll:"Vybrat ve",sortable:"sloupec s monost azen"};var $9a6cbac08487e661$exports={};$9a6cbac08487e661$exports={ascending:"stigende",ascendingSort:et=>`sorteret efter kolonne ${et.columnName} i stigende rkkeflge`,columnSize:et=>`${et.value} pixels`,descending:"faldende",descendingSort:et=>`sorteret efter kolonne ${et.columnName} i faldende rkkeflge`,resizerDescription:"Tryk p Enter for at ndre strrelse",select:"Vlg",selectAll:"Vlg alle",sortable:"sorterbar kolonne"};var $c963661d89486e72$exports={};$c963661d89486e72$exports={ascending:"aufsteigend",ascendingSort:et=>`sortiert nach Spalte ${et.columnName} in aufsteigender Reihenfolge`,columnSize:et=>`${et.value} Pixel`,descending:"absteigend",descendingSort:et=>`sortiert nach Spalte ${et.columnName} in absteigender Reihenfolge`,resizerDescription:"Eingabetaste zum Starten der Grennderung drcken",select:"Auswhlen",selectAll:"Alles auswhlen",sortable:"sortierbare Spalte"};var $ac03861c6e8605f4$exports={};$ac03861c6e8605f4$exports={ascending:"",ascendingSort:et=>`   ${et.columnName}   `,columnSize:et=>`${et.value} pixel`,descending:"",descendingSort:et=>`   ${et.columnName}   `,resizerDescription:" Enter     ",select:"",selectAll:" ",sortable:" "};var $09e6b82e0d6e466a$exports={};$09e6b82e0d6e466a$exports={select:"Select",selectAll:"Select All",sortable:"sortable column",ascending:"ascending",descending:"descending",ascendingSort:et=>`sorted by column ${et.columnName} in ascending order`,descendingSort:et=>`sorted by column ${et.columnName} in descending order`,columnSize:et=>`${et.value} pixels`,resizerDescription:"Press Enter to start resizing"};var $8cc39eb66c2bf220$exports={};$8cc39eb66c2bf220$exports={ascending:"de subida",ascendingSort:et=>`ordenado por columna ${et.columnName} en orden de subida`,columnSize:et=>`${et.value} pxeles`,descending:"de bajada",descendingSort:et=>`ordenado por columna ${et.columnName} en orden de bajada`,resizerDescription:"Pulse Intro para empezar a redimensionar",select:"Seleccionar",selectAll:"Seleccionar todos",sortable:"columna ordenable"};var $4e11db3c25a38112$exports={};$4e11db3c25a38112$exports={ascending:"tusev jrjestus",ascendingSort:et=>`sorditud veeru jrgi ${et.columnName} tusvas jrjestuses`,columnSize:et=>`${et.value} pikslit`,descending:"laskuv jrjestus",descendingSort:et=>`sorditud veeru jrgi ${et.columnName} laskuvas jrjestuses`,resizerDescription:"Suuruse muutmise alustamiseks vajutage klahvi Enter",select:"Vali",selectAll:"Vali kik",sortable:"sorditav veerg"};var $da1e751a92575e02$exports={};$da1e751a92575e02$exports={ascending:"nouseva",ascendingSort:et=>`lajiteltu sarakkeen ${et.columnName} mukaan nousevassa jrjestyksess`,columnSize:et=>`${et.value} pikseli`,descending:"laskeva",descendingSort:et=>`lajiteltu sarakkeen ${et.columnName} mukaan laskevassa jrjestyksess`,resizerDescription:"Aloita koon muutos painamalla Enter-nppint",select:"Valitse",selectAll:"Valitse kaikki",sortable:"lajiteltava sarake"};var $1b5d6c6c47d55106$exports={};$1b5d6c6c47d55106$exports={ascending:"croissant",ascendingSort:et=>`tri en fonction de la colonne${et.columnName} par ordre croissant`,columnSize:et=>`${et.value}pixels`,descending:"dcroissant",descendingSort:et=>`tri en fonction de la colonne${et.columnName} par ordre dcroissant`,resizerDescription:"Appuyez sur Entre pour commencer le redimensionnement.",select:"Slectionner",selectAll:"Slectionner tout",sortable:"colonne triable"};var $7c18ba27b86d3308$exports={};$7c18ba27b86d3308$exports={ascending:"",ascendingSort:et=>`   ${et.columnName}  `,columnSize:et=>`${et.value} `,descending:"",descendingSort:et=>`   ${et.columnName}  `,resizerDescription:" Enter    ",select:"",selectAll:" ",sortable:"  "};var $2cb40998e20e8a46$exports={};$2cb40998e20e8a46$exports={ascending:"rastui",ascendingSort:et=>`razvrstano po stupcima ${et.columnName} rastuem redoslijedom`,columnSize:et=>`${et.value} piksela`,descending:"padajui",descendingSort:et=>`razvrstano po stupcima ${et.columnName} padajuim redoslijedom`,resizerDescription:"Pritisnite Enter da biste zapoeli promenu veliine",select:"Odaberite",selectAll:"Odaberite sve",sortable:"stupac koji se moe razvrstati"};var $189e23eec1d6aa3a$exports={};$189e23eec1d6aa3a$exports={ascending:"nvekv",ascendingSort:et=>`rendezve a(z) ${et.columnName} oszlop szerint, nvekv sorrendben`,columnSize:et=>`${et.value} kppont`,descending:"cskken",descendingSort:et=>`rendezve a(z) ${et.columnName} oszlop szerint, cskken sorrendben`,resizerDescription:"Nyomja le az Enter billentyt az tmretezs megkezdshez",select:"Kijells",selectAll:"sszes kijellse",sortable:"rendezend oszlop"};var $3c5ec8e4f015dfd0$exports={};$3c5ec8e4f015dfd0$exports={ascending:"crescente",ascendingSort:et=>`in ordine crescente in base alla colonna ${et.columnName}`,columnSize:et=>`${et.value} pixel`,descending:"decrescente",descendingSort:et=>`in ordine decrescente in base alla colonna ${et.columnName}`,resizerDescription:"Premi Invio per iniziare a ridimensionare",select:"Seleziona",selectAll:"Seleziona tutto",sortable:"colonna ordinabile"};var $d021d50e6b315ebb$exports={};$d021d50e6b315ebb$exports={ascending:"",ascendingSort:et=>` ${et.columnName} `,columnSize:et=>`${et.value} `,descending:"",descendingSort:et=>` ${et.columnName} `,resizerDescription:"Enter ",select:"",selectAll:"",sortable:""};var $52535c35c24ec937$exports={};$52535c35c24ec937$exports={ascending:"",ascendingSort:et=>`${et.columnName}    `,columnSize:et=>`${et.value} `,descending:"",descendingSort:et=>`${et.columnName}    `,resizerDescription:"   Enter .",select:"",selectAll:" ",sortable:"  "};var $b37ee03672edfd1d$exports={};$b37ee03672edfd1d$exports={ascending:"didjania tvarka",ascendingSort:et=>`surikiuota pagal stulpel ${et.columnName} didjania tvarka`,columnSize:et=>`${et.value} piks.`,descending:"majania tvarka",descendingSort:et=>`surikiuota pagal stulpel ${et.columnName} majania tvarka`,resizerDescription:"Paspauskite Enter, kad pradtumte keisti dyd",select:"Pasirinkti",selectAll:"Pasirinkti visk",sortable:"rikiuojamas stulpelis"};var $c7df6686b4189d56$exports={};$c7df6686b4189d56$exports={ascending:"augo secb",ascendingSort:et=>`krtots pc kolonnas ${et.columnName} augo secb`,columnSize:et=>`${et.value} piksei`,descending:"dilsto secb",descendingSort:et=>`krtots pc kolonnas ${et.columnName} dilsto secb`,resizerDescription:"Nospiediet Enter, lai sktu izmru mainanu",select:"Atlast",selectAll:"Atlast visu",sortable:"krtojam kolonna"};var $da07fe8ec87e6b68$exports={};$da07fe8ec87e6b68$exports={ascending:"stigende",ascendingSort:et=>`sortert etter kolonne ${et.columnName} i stigende rekkeflge`,columnSize:et=>`${et.value} piksler`,descending:"synkende",descendingSort:et=>`sortert etter kolonne ${et.columnName} i synkende rekkeflge`,resizerDescription:"Trykk p Enter for  starte strrelsesendring",select:"Velg",selectAll:"Velg alle",sortable:"kolonne som kan sorteres"};var $64b7e390f5791490$exports={};$64b7e390f5791490$exports={ascending:"oplopend",ascendingSort:et=>`gesorteerd in oplopende volgorde in kolom ${et.columnName}`,columnSize:et=>`${et.value} pixels`,descending:"aflopend",descendingSort:et=>`gesorteerd in aflopende volgorde in kolom ${et.columnName}`,resizerDescription:"Druk op Enter om het formaat te wijzigen",select:"Selecteren",selectAll:"Alles selecteren",sortable:"sorteerbare kolom"};var $2a03621e773f1678$exports={};$2a03621e773f1678$exports={ascending:"rosnco",ascendingSort:et=>`posortowano wedug kolumny ${et.columnName} w porzdku rosncym`,columnSize:et=>`Liczba pikseli: ${et.value}`,descending:"malejco",descendingSort:et=>`posortowano wedug kolumny ${et.columnName} w porzdku malejcym`,resizerDescription:"Nacinij Enter, aby rozpocz zmienianie rozmiaru",select:"Zaznacz",selectAll:"Zaznacz wszystko",sortable:"kolumna z moliwoci sortowania"};var $0a79c0aba9e5ecc6$exports={};$0a79c0aba9e5ecc6$exports={ascending:"crescente",ascendingSort:et=>`classificado pela coluna ${et.columnName} em ordem crescente`,columnSize:et=>`${et.value} pixels`,descending:"decrescente",descendingSort:et=>`classificado pela coluna ${et.columnName} em ordem decrescente`,resizerDescription:"Pressione Enter para comear a redimensionar",select:"Selecionar",selectAll:"Selecionar tudo",sortable:"coluna classificvel"};var $de7b4d0f7dc86fc8$exports={};$de7b4d0f7dc86fc8$exports={ascending:"ascendente",ascendingSort:et=>`Ordenar por coluna ${et.columnName} em ordem ascendente`,columnSize:et=>`${et.value} pixels`,descending:"descendente",descendingSort:et=>`Ordenar por coluna ${et.columnName} em ordem descendente`,resizerDescription:"Prima Enter para iniciar o redimensionamento",select:"Selecionar",selectAll:"Selecionar tudo",sortable:"Coluna ordenvel"};var $28ea7e849d77bd1c$exports={};$28ea7e849d77bd1c$exports={ascending:"cresctoare",ascendingSort:et=>`sortate dup coloana ${et.columnName} n ordine cresctoare`,columnSize:et=>`${et.value} pixeli`,descending:"descresctoare",descendingSort:et=>`sortate dup coloana ${et.columnName} n ordine descresctoare`,resizerDescription:"Apsai pe Enter pentru a ncepe redimensionarea",select:"Selectare",selectAll:"Selectare total",sortable:"coloan sortabil"};var $9a09321cf046b187$exports={};$9a09321cf046b187$exports={ascending:"",ascendingSort:et=>`  ${et.columnName}   `,columnSize:et=>`${et.value} .`,descending:"",descendingSort:et=>`  ${et.columnName}   `,resizerDescription:"  Enter    ",select:"",selectAll:" ",sortable:" "};var $5afe469a63fcac7b$exports={};$5afe469a63fcac7b$exports={ascending:"vzostupne",ascendingSort:et=>`zoraden zostupne poda stpca ${et.columnName}`,columnSize:et=>`Poet pixelov: ${et.value}`,descending:"zostupne",descendingSort:et=>`zoraden zostupne poda stpca ${et.columnName}`,resizerDescription:"Stlaenm klvesu Enter zanete zmenu vekosti",select:"Vybra",selectAll:"Vybra vetko",sortable:"zoraditen stpec"};var $2956757ac31a7ce2$exports={};$2956757ac31a7ce2$exports={ascending:"naraajoe",ascendingSort:et=>`razvreno po stolpcu ${et.columnName} v naraajoem vrstnem redu`,columnSize:et=>`${et.value} slikovnih pik`,descending:"padajoe",descendingSort:et=>`razvreno po stolpcu ${et.columnName} v padajoem vrstnem redu`,resizerDescription:"Pritisnite tipko Enter da zanete spreminjati velikost",select:"Izberite",selectAll:"Izberite vse",sortable:"razvrstljivi stolpec"};var $cedee0e66b175529$exports={};$cedee0e66b175529$exports={ascending:"rastui",ascendingSort:et=>`sortirano po kolonama ${et.columnName} rastuim redosledom`,columnSize:et=>`${et.value} piksela`,descending:"padajui",descendingSort:et=>`sortirano po kolonama ${et.columnName} padajuim redosledom`,resizerDescription:"Pritisnite Enter da biste zapoeli promenu veliine",select:"Izaberite",selectAll:"Izaberite sve",sortable:"kolona koja se moe sortirati"};var $6db19998ba4427da$exports={};$6db19998ba4427da$exports={ascending:"stigande",ascendingSort:et=>`sorterat p kolumn ${et.columnName} i stigande ordning`,columnSize:et=>`${et.value} pixlar`,descending:"fallande",descendingSort:et=>`sorterat p kolumn ${et.columnName} i fallande ordning`,resizerDescription:"Tryck p Retur fr att brja ndra storlek",select:"Markera",selectAll:"Markera allt",sortable:"sorterbar kolumn"};var $166b7c9cc1adb1a1$exports={};$166b7c9cc1adb1a1$exports={ascending:"artan srada",ascendingSort:et=>`${et.columnName} stuna gre artan dzende srala`,columnSize:et=>`${et.value} piksel`,descending:"azalan srada",descendingSort:et=>`${et.columnName} stuna gre azalan dzende srala`,resizerDescription:"Yeniden boyutlandrmak iin Enter'a basn",select:"Se",selectAll:"Tmn Se",sortable:"Sralanabilir stun"};var $c7ab180b401e49ff$exports={};$c7ab180b401e49ff$exports={ascending:"",ascendingSort:et=>`   ${et.columnName}   `,columnSize:et=>`${et.value} .`,descending:"",descendingSort:et=>`   ${et.columnName}   `,resizerDescription:" Enter,    ",select:"",selectAll:" ",sortable:" "};var $1648ec00941567f3$exports={};$1648ec00941567f3$exports={ascending:"",ascendingSort:et=>` ${et.columnName} `,columnSize:et=>`${et.value} `,descending:"",descendingSort:et=>` ${et.columnName} `,resizerDescription:"",select:"",selectAll:"",sortable:""};var $b26f22384b3c1526$exports={};$b26f22384b3c1526$exports={ascending:"",ascendingSort:et=>`${et.columnName}`,columnSize:et=>`${et.value} `,descending:"",descendingSort:et=>`${et.columnName}`,resizerDescription:" Enter ",select:"",selectAll:"",sortable:""};var $7476b46781682bf5$exports={};$7476b46781682bf5$exports={"ar-AE":$ce3de3ff2fd66848$exports,"bg-BG":$cb80dcce530985b9$exports,"cs-CZ":$68ac86749db4c0fb$exports,"da-DK":$9a6cbac08487e661$exports,"de-DE":$c963661d89486e72$exports,"el-GR":$ac03861c6e8605f4$exports,"en-US":$09e6b82e0d6e466a$exports,"es-ES":$8cc39eb66c2bf220$exports,"et-EE":$4e11db3c25a38112$exports,"fi-FI":$da1e751a92575e02$exports,"fr-FR":$1b5d6c6c47d55106$exports,"he-IL":$7c18ba27b86d3308$exports,"hr-HR":$2cb40998e20e8a46$exports,"hu-HU":$189e23eec1d6aa3a$exports,"it-IT":$3c5ec8e4f015dfd0$exports,"ja-JP":$d021d50e6b315ebb$exports,"ko-KR":$52535c35c24ec937$exports,"lt-LT":$b37ee03672edfd1d$exports,"lv-LV":$c7df6686b4189d56$exports,"nb-NO":$da07fe8ec87e6b68$exports,"nl-NL":$64b7e390f5791490$exports,"pl-PL":$2a03621e773f1678$exports,"pt-BR":$0a79c0aba9e5ecc6$exports,"pt-PT":$de7b4d0f7dc86fc8$exports,"ro-RO":$28ea7e849d77bd1c$exports,"ru-RU":$9a09321cf046b187$exports,"sk-SK":$5afe469a63fcac7b$exports,"sl-SI":$2956757ac31a7ce2$exports,"sr-SP":$cedee0e66b175529$exports,"sv-SE":$6db19998ba4427da$exports,"tr-TR":$166b7c9cc1adb1a1$exports,"uk-UA":$c7ab180b401e49ff$exports,"zh-CN":$1648ec00941567f3$exports,"zh-TW":$b26f22384b3c1526$exports};class $d1c300d9c497e402$export$de9feff04fda126e{isCell(_e){return _e.type==="cell"}isRow(_e){return _e.type==="row"||_e.type==="item"}isDisabled(_e){var tt;return this.disabledBehavior==="all"&&(((tt=_e.props)===null||tt===void 0?void 0:tt.isDisabled)||this.disabledKeys.has(_e.key))}findPreviousKey(_e,tt){let rt=_e!=null?this.collection.getKeyBefore(_e):this.collection.getLastKey();for(;rt!=null;){let nt=this.collection.getItem(rt);if(!nt)return null;if(!this.isDisabled(nt)&&(!tt||tt(nt)))return rt;rt=this.collection.getKeyBefore(rt)}return null}findNextKey(_e,tt){let rt=_e!=null?this.collection.getKeyAfter(_e):this.collection.getFirstKey();for(;rt!=null;){let nt=this.collection.getItem(rt);if(!nt)return null;if(!this.isDisabled(nt)&&(!tt||tt(nt)))return rt;if(rt=this.collection.getKeyAfter(rt),rt==null)return null}return null}getKeyBelow(_e){let tt=_e,rt=this.collection.getItem(tt);if(!rt)return null;var nt;if(this.isCell(rt)&&(tt=(nt=rt.parentKey)!==null&&nt!==void 0?nt:null),tt==null)return null;if(tt=this.findNextKey(tt,ot=>ot.type==="item"),tt!=null){if(this.isCell(rt)){var st;let ot=this.collection.getItem(tt);if(!ot)return null;var it,at;return(at=(st=$c5a24bc478652b5f$export$5f3398f8733f90e2($c5a24bc478652b5f$export$1005530eda016c13(ot,this.collection),(it=rt.index)!==null&&it!==void 0?it:0))===null||st===void 0?void 0:st.key)!==null&&at!==void 0?at:null}if(this.focusMode==="row")return tt}return null}getKeyAbove(_e){let tt=_e,rt=this.collection.getItem(tt);if(!rt)return null;var nt;if(this.isCell(rt)&&(tt=(nt=rt.parentKey)!==null&&nt!==void 0?nt:null),tt==null)return null;if(tt=this.findPreviousKey(tt,at=>at.type==="item"),tt!=null){if(this.isCell(rt)){var st;let at=this.collection.getItem(tt);if(!at)return null;var it;return((st=$c5a24bc478652b5f$export$5f3398f8733f90e2($c5a24bc478652b5f$export$1005530eda016c13(at,this.collection),(it=rt.index)!==null&&it!==void 0?it:0))===null||st===void 0?void 0:st.key)||null}if(this.focusMode==="row")return tt}return null}getKeyRightOf(_e){let tt=this.collection.getItem(_e);if(!tt)return null;if(this.isRow(tt)){var rt,nt;let ct=$c5a24bc478652b5f$export$1005530eda016c13(tt,this.collection);var st;return(st=this.direction==="rtl"?(rt=$c5a24bc478652b5f$export$7475b2c64539e4cf(ct))===null||rt===void 0?void 0:rt.key:(nt=$c5a24bc478652b5f$export$fbdeaa6a76694f71(ct))===null||nt===void 0?void 0:nt.key)!==null&&st!==void 0?st:null}if(this.isCell(tt)&&tt.parentKey!=null){let ct=this.collection.getItem(tt.parentKey);if(!ct)return null;let ut=$c5a24bc478652b5f$export$1005530eda016c13(ct,this.collection);var it;let dt=(it=this.direction==="rtl"?$c5a24bc478652b5f$export$5f3398f8733f90e2(ut,tt.index-1):$c5a24bc478652b5f$export$5f3398f8733f90e2(ut,tt.index+1))!==null&&it!==void 0?it:null;var at;if(dt)return(at=dt.key)!==null&&at!==void 0?at:null;var ot;if(this.focusMode==="row")return(ot=tt.parentKey)!==null&&ot!==void 0?ot:null;var lt;return(lt=this.direction==="rtl"?this.getFirstKey(_e):this.getLastKey(_e))!==null&&lt!==void 0?lt:null}return null}getKeyLeftOf(_e){let tt=this.collection.getItem(_e);if(!tt)return null;if(this.isRow(tt)){var rt,nt;let ct=$c5a24bc478652b5f$export$1005530eda016c13(tt,this.collection);var st;return(st=this.direction==="rtl"?(rt=$c5a24bc478652b5f$export$fbdeaa6a76694f71(ct))===null||rt===void 0?void 0:rt.key:(nt=$c5a24bc478652b5f$export$7475b2c64539e4cf(ct))===null||nt===void 0?void 0:nt.key)!==null&&st!==void 0?st:null}if(this.isCell(tt)&&tt.parentKey!=null){let ct=this.collection.getItem(tt.parentKey);if(!ct)return null;let ut=$c5a24bc478652b5f$export$1005530eda016c13(ct,this.collection);var it;let dt=(it=this.direction==="rtl"?$c5a24bc478652b5f$export$5f3398f8733f90e2(ut,tt.index+1):$c5a24bc478652b5f$export$5f3398f8733f90e2(ut,tt.index-1))!==null&&it!==void 0?it:null;var at;if(dt)return(at=dt.key)!==null&&at!==void 0?at:null;var ot;if(this.focusMode==="row")return(ot=tt.parentKey)!==null&&ot!==void 0?ot:null;var lt;return(lt=this.direction==="rtl"?this.getLastKey(_e):this.getFirstKey(_e))!==null&&lt!==void 0?lt:null}return null}getFirstKey(_e,tt){let rt=_e??null,nt;if(rt!=null){if(nt=this.collection.getItem(rt),!nt)return null;if(this.isCell(nt)&&!tt&&nt.parentKey!=null){var st;let lt=this.collection.getItem(nt.parentKey);if(!lt)return null;var it;return(it=(st=$c5a24bc478652b5f$export$fbdeaa6a76694f71($c5a24bc478652b5f$export$1005530eda016c13(lt,this.collection)))===null||st===void 0?void 0:st.key)!==null&&it!==void 0?it:null}}if(rt=this.findNextKey(void 0,lt=>lt.type==="item"),rt!=null&&(nt&&this.isCell(nt)&&tt||this.focusMode==="cell")){var at;let lt=this.collection.getItem(rt);if(!lt)return null;var ot;rt=(ot=(at=$c5a24bc478652b5f$export$fbdeaa6a76694f71($c5a24bc478652b5f$export$1005530eda016c13(lt,this.collection)))===null||at===void 0?void 0:at.key)!==null&&ot!==void 0?ot:null}return rt}getLastKey(_e,tt){let rt=_e??null,nt;if(rt!=null){if(nt=this.collection.getItem(rt),!nt)return null;if(this.isCell(nt)&&!tt&&nt.parentKey!=null){var st;let lt=this.collection.getItem(nt.parentKey);if(!lt)return null;let ct=$c5a24bc478652b5f$export$1005530eda016c13(lt,this.collection);var it;return(it=(st=$c5a24bc478652b5f$export$7475b2c64539e4cf(ct))===null||st===void 0?void 0:st.key)!==null&&it!==void 0?it:null}}if(rt=this.findPreviousKey(void 0,lt=>lt.type==="item"),rt!=null&&(nt&&this.isCell(nt)&&tt||this.focusMode==="cell")){var at;let lt=this.collection.getItem(rt);if(!lt)return null;let ct=$c5a24bc478652b5f$export$1005530eda016c13(lt,this.collection);var ot;rt=(ot=(at=$c5a24bc478652b5f$export$7475b2c64539e4cf(ct))===null||at===void 0?void 0:at.key)!==null&&ot!==void 0?ot:null}return rt}getKeyPageAbove(_e){let tt=_e,rt=this.layoutDelegate.getItemRect(tt);if(!rt)return null;let nt=Math.max(0,rt.y+rt.height-this.layoutDelegate.getVisibleRect().height);for(;rt&&rt.y>nt&&tt!=null;){var st;if(tt=(st=this.getKeyAbove(tt))!==null&&st!==void 0?st:null,tt==null)break;rt=this.layoutDelegate.getItemRect(tt)}return tt}getKeyPageBelow(_e){let tt=_e,rt=this.layoutDelegate.getItemRect(tt);if(!rt)return null;let nt=this.layoutDelegate.getVisibleRect().height,st=Math.min(this.layoutDelegate.getContentSize().height,rt.y+nt);for(;rt&&rt.y+rt.height<st;){let it=this.getKeyBelow(tt);if(it==null)break;rt=this.layoutDelegate.getItemRect(it),tt=it}return tt}getKeyForSearch(_e,tt){let rt=tt??null;if(!this.collator)return null;let nt=this.collection;if(rt=tt??this.getFirstKey(),rt==null)return null;let st=nt.getItem(rt);if(!st)return null;var it;st.type==="cell"&&(rt=(it=st.parentKey)!==null&&it!==void 0?it:null);let at=!1;for(;rt!=null;){let ct=nt.getItem(rt);if(!ct)return null;if(ct.textValue){let ut=ct.textValue.slice(0,_e.length);if(this.collator.compare(ut,_e)===0){var ot,lt;return this.isRow(ct)&&this.focusMode==="cell"?(lt=(ot=$c5a24bc478652b5f$export$fbdeaa6a76694f71($c5a24bc478652b5f$export$1005530eda016c13(ct,this.collection)))===null||ot===void 0?void 0:ot.key)!==null&&lt!==void 0?lt:null:ct.key}}rt=this.findNextKey(rt,ut=>ut.type==="item"),rt==null&&!at&&(rt=this.getFirstKey(),at=!0)}return null}constructor(_e){if(this.collection=_e.collection,this.disabledKeys=_e.disabledKeys,this.disabledBehavior=_e.disabledBehavior||"all",this.direction=_e.direction,this.collator=_e.collator,!_e.layout&&!_e.ref)throw new Error("Either a layout or a ref must be specified.");this.layoutDelegate=_e.layoutDelegate||(_e.layout?new $d1c300d9c497e402$var$DeprecatedLayoutDelegate(_e.layout):new $657e4dc4a6e88df0$export$8f5ed9ff9f511381(_e.ref)),this.focusMode=_e.focusMode||"row"}}class $d1c300d9c497e402$var$DeprecatedLayoutDelegate{getContentSize(){return this.layout.getContentSize()}getItemRect(_e){var tt;return((tt=this.layout.getLayoutInfo(_e))===null||tt===void 0?void 0:tt.rect)||null}getVisibleRect(){return this.layout.virtualizer.visibleRect}constructor(_e){this.layout=_e}}const $1af922eb41e03c8f$export$e6235c0d09b995d0=new WeakMap;var $682989befd4f478d$exports={};$682989befd4f478d$exports={deselectedItem:et=>`${et.item}  `,longPressToSelect:"     .",select:"",selectedAll:"  .",selectedCount:(et,_e)=>`${_e.plural(et.count,{"=0":"   ",one:()=>`${_e.number(et.count)}  `,other:()=>`${_e.number(et.count)}  `})}.`,selectedItem:et=>`${et.item} `};var $f7fca02019afd941$exports={};$f7fca02019afd941$exports={deselectedItem:et=>`${et.item}   .`,longPressToSelect:"        .",select:"",selectedAll:"   .",selectedCount:(et,_e)=>`${_e.plural(et.count,{"=0":"  ",one:()=>`${_e.number(et.count)}  `,other:()=>`${_e.number(et.count)}  `})}.`,selectedItem:et=>`${et.item} .`};var $8f86f40be75387f1$exports={};$8f86f40be75387f1$exports={deselectedItem:et=>`Poloka ${et.item} nen vybrna.`,longPressToSelect:"Dlouhm stisknutm pejdete do reimu vbru.",select:"Vybrat",selectedAll:"Vybrny vechny poloky.",selectedCount:(et,_e)=>`${_e.plural(et.count,{"=0":"Nevybrny dn poloky",one:()=>`Vybrna ${_e.number(et.count)} poloka`,other:()=>`Vybrno ${_e.number(et.count)} poloek`})}.`,selectedItem:et=>`Vybrna poloka ${et.item}.`};var $db24ba43c8d652ee$exports={};$db24ba43c8d652ee$exports={deselectedItem:et=>`${et.item} ikke valgt.`,longPressToSelect:"Lav et langt tryk for at aktivere valgtilstand.",select:"Vlg",selectedAll:"Alle elementer valgt.",selectedCount:(et,_e)=>`${_e.plural(et.count,{"=0":"Ingen elementer valgt",one:()=>`${_e.number(et.count)} element valgt`,other:()=>`${_e.number(et.count)} elementer valgt`})}.`,selectedItem:et=>`${et.item} valgt.`};var $f8f1e72c8b5447d6$exports={};$f8f1e72c8b5447d6$exports={deselectedItem:et=>`${et.item} nicht ausgewhlt.`,longPressToSelect:"Gedrckt halten, um Auswahlmodus zu ffnen.",select:"Auswhlen",selectedAll:"Alle Elemente ausgewhlt.",selectedCount:(et,_e)=>`${_e.plural(et.count,{"=0":"Keine Elemente ausgewhlt",one:()=>`${_e.number(et.count)} Element ausgewhlt`,other:()=>`${_e.number(et.count)} Elemente ausgewhlt`})}.`,selectedItem:et=>`${et.item} ausgewhlt.`};var $9a73ed2983c3ab0b$exports={};$9a73ed2983c3ab0b$exports={deselectedItem:et=>`    ${et.item}.`,longPressToSelect:"       .",select:"",selectedAll:"   .",selectedCount:(et,_e)=>`${_e.plural(et.count,{"=0":"  ",one:()=>` ${_e.number(et.count)} `,other:()=>` ${_e.number(et.count)} `})}.`,selectedItem:et=>`   ${et.item}.`};var $583de0b3587601b9$exports={};$583de0b3587601b9$exports={deselectedItem:et=>`${et.item} not selected.`,select:"Select",selectedCount:(et,_e)=>`${_e.plural(et.count,{"=0":"No items selected",one:()=>`${_e.number(et.count)} item selected`,other:()=>`${_e.number(et.count)} items selected`})}.`,selectedAll:"All items selected.",selectedItem:et=>`${et.item} selected.`,longPressToSelect:"Long press to enter selection mode."};var $147159c978043442$exports={};$147159c978043442$exports={deselectedItem:et=>`${et.item} no seleccionado.`,longPressToSelect:"Mantenga pulsado para abrir el modo de seleccin.",select:"Seleccionar",selectedAll:"Todos los elementos seleccionados.",selectedCount:(et,_e)=>`${_e.plural(et.count,{"=0":"Ningn elemento seleccionado",one:()=>`${_e.number(et.count)} elemento seleccionado`,other:()=>`${_e.number(et.count)} elementos seleccionados`})}.`,selectedItem:et=>`${et.item} seleccionado.`};var $5cbb62c8a19173ac$exports={};$5cbb62c8a19173ac$exports={deselectedItem:et=>`${et.item} pole valitud.`,longPressToSelect:"Valikureiimi sisenemiseks vajutage pikalt.",select:"Vali",selectedAll:"Kik ksused valitud.",selectedCount:(et,_e)=>`${_e.plural(et.count,{"=0":"ksusi pole valitud",one:()=>`${_e.number(et.count)} ksus valitud`,other:()=>`${_e.number(et.count)} ksust valitud`})}.`,selectedItem:et=>`${et.item} valitud.`};var $a33d71dc804cc59e$exports={};$a33d71dc804cc59e$exports={deselectedItem:et=>`Kohdetta ${et.item} ei valittu.`,longPressToSelect:"Siirry valintatilaan painamalla pitkn.",select:"Valitse",selectedAll:"Kaikki kohteet valittu.",selectedCount:(et,_e)=>`${_e.plural(et.count,{"=0":"Ei yhtn kohdetta valittu",one:()=>`${_e.number(et.count)} kohde valittu`,other:()=>`${_e.number(et.count)} kohdetta valittu`})}.`,selectedItem:et=>`${et.item} valittu.`};var $92d800447793d084$exports={};$92d800447793d084$exports={deselectedItem:et=>`${et.item} non slectionn.`,longPressToSelect:"Appuyez de manire prolonge pour passer en mode de slection.",select:"Slectionner",selectedAll:"Tous les lments slectionns.",selectedCount:(et,_e)=>`${_e.plural(et.count,{"=0":"Aucun lment slectionn",one:()=>`${_e.number(et.count)} lment slectionn`,other:()=>`${_e.number(et.count)} lments slectionns`})}.`,selectedItem:et=>`${et.item} slectionn.`};var $fe732cdb32124ea8$exports={};$fe732cdb32124ea8$exports={deselectedItem:et=>`${et.item}  .`,longPressToSelect:"    .",select:"",selectedAll:"  .",selectedCount:(et,_e)=>`${_e.plural(et.count,{"=0":"  ",one:()=>` ${_e.number(et.count)} `,other:()=>`${_e.number(et.count)}  `})}.`,selectedItem:et=>`${et.item} .`};var $e41234e934efb4f5$exports={};$e41234e934efb4f5$exports={deselectedItem:et=>`Stavka ${et.item} nije odabrana.`,longPressToSelect:"Dugo pritisnite za ulazak u nain odabira.",select:"Odaberite",selectedAll:"Odabrane su sve stavke.",selectedCount:(et,_e)=>`${_e.plural(et.count,{"=0":"Nije odabrana nijedna stavka",one:()=>`Odabrana je ${_e.number(et.count)} stavka`,other:()=>`Odabrano je ${_e.number(et.count)} stavki`})}.`,selectedItem:et=>`Stavka ${et.item} je odabrana.`};var $1b0393182473bf9e$exports={};$1b0393182473bf9e$exports={deselectedItem:et=>`${et.item} nincs kijellve.`,longPressToSelect:"Nyomja hosszan a kijellshez.",select:"Kijells",selectedAll:"Az sszes elem kijellve.",selectedCount:(et,_e)=>`${_e.plural(et.count,{"=0":"Egy elem sincs kijellve",one:()=>`${_e.number(et.count)} elem kijellve`,other:()=>`${_e.number(et.count)} elem kijellve`})}.`,selectedItem:et=>`${et.item} kijellve.`};var $2eed782c1c110ce7$exports={};$2eed782c1c110ce7$exports={deselectedItem:et=>`${et.item} non selezionato.`,longPressToSelect:"Premi a lungo per passare alla modalit di selezione.",select:"Seleziona",selectedAll:"Tutti gli elementi selezionati.",selectedCount:(et,_e)=>`${_e.plural(et.count,{"=0":"Nessun elemento selezionato",one:()=>`${_e.number(et.count)} elemento selezionato`,other:()=>`${_e.number(et.count)} elementi selezionati`})}.`,selectedItem:et=>`${et.item} selezionato.`};var $8b5d459f86e9b23c$exports={};$8b5d459f86e9b23c$exports={deselectedItem:et=>`${et.item} `,longPressToSelect:"",select:"",selectedAll:"",selectedCount:(et,_e)=>`${_e.plural(et.count,{"=0":"",one:()=>`${_e.number(et.count)} `,other:()=>`${_e.number(et.count)} `})}`,selectedItem:et=>`${et.item} `};var $1949c3ad17295fd4$exports={};$1949c3ad17295fd4$exports={deselectedItem:et=>`${et.item}()  .`,longPressToSelect:"    .",select:"",selectedAll:"  .",selectedCount:(et,_e)=>`${_e.plural(et.count,{"=0":"  ",one:()=>`${_e.number(et.count)}  `,other:()=>`${_e.number(et.count)}  `})}.`,selectedItem:et=>`${et.item}() .`};var $f5e3df4dc8aa7b54$exports={};$f5e3df4dc8aa7b54$exports={deselectedItem:et=>`${et.item} nepasirinkta.`,longPressToSelect:"Nordami jungti pasirinkimo reim, paspauskite ir palaikykite.",select:"Pasirinkti",selectedAll:"Pasirinkti visi elementai.",selectedCount:(et,_e)=>`${_e.plural(et.count,{"=0":"Nepasirinktas n vienas elementas",one:()=>`Pasirinktas ${_e.number(et.count)} elementas`,other:()=>`Pasirinkta element: ${_e.number(et.count)}`})}.`,selectedItem:et=>`Pasirinkta: ${et.item}.`};var $9dd86690a5c2b2c5$exports={};$9dd86690a5c2b2c5$exports={deselectedItem:et=>`Vienums ${et.item} nav atlasts.`,longPressToSelect:"Ilgi turiet nospiestu. lai ieslgtu atlases remu.",select:"Atlast",selectedAll:"Atlasti visi vienumi.",selectedCount:(et,_e)=>`${_e.plural(et.count,{"=0":"Nav atlasts neviens vienums",one:()=>`Atlasto vienumu skaits: ${_e.number(et.count)}`,other:()=>`Atlasto vienumu skaits: ${_e.number(et.count)}`})}.`,selectedItem:et=>`Atlasts vienums ${et.item}.`};var $843964c3bf9a7d24$exports={};$843964c3bf9a7d24$exports={deselectedItem:et=>`${et.item} er ikke valgt.`,longPressToSelect:"Bruk et langt trykk for  g inn i valgmodus.",select:"Velg",selectedAll:"Alle elementer er valgt.",selectedCount:(et,_e)=>`${_e.plural(et.count,{"=0":"Ingen elementer er valgt",one:()=>`${_e.number(et.count)} element er valgt`,other:()=>`${_e.number(et.count)} elementer er valgt`})}.`,selectedItem:et=>`${et.item} er valgt.`};var $73f50e845f9ef3b4$exports={};$73f50e845f9ef3b4$exports={deselectedItem:et=>`${et.item} niet geselecteerd.`,longPressToSelect:"Druk lang om de selectiemodus te openen.",select:"Selecteren",selectedAll:"Alle items geselecteerd.",selectedCount:(et,_e)=>`${_e.plural(et.count,{"=0":"Geen items geselecteerd",one:()=>`${_e.number(et.count)} item geselecteerd`,other:()=>`${_e.number(et.count)} items geselecteerd`})}.`,selectedItem:et=>`${et.item} geselecteerd.`};var $87f92a7e077514b2$exports={};$87f92a7e077514b2$exports={deselectedItem:et=>`Nie zaznaczono ${et.item}.`,longPressToSelect:"Nacinij i przytrzymaj, aby wej do trybu wyboru.",select:"Zaznacz",selectedAll:"Wszystkie zaznaczone elementy.",selectedCount:(et,_e)=>`${_e.plural(et.count,{"=0":"Nie zaznaczono adnych elementw",one:()=>`${_e.number(et.count)} zaznaczony element`,other:()=>`${_e.number(et.count)} zaznaczonych elementw`})}.`,selectedItem:et=>`Zaznaczono ${et.item}.`};var $c28c98d58ee9ff6f$exports={};$c28c98d58ee9ff6f$exports={deselectedItem:et=>`${et.item} no selecionado.`,longPressToSelect:"Mantenha pressionado para entrar no modo de seleo.",select:"Selecionar",selectedAll:"Todos os itens selecionados.",selectedCount:(et,_e)=>`${_e.plural(et.count,{"=0":"Nenhum item selecionado",one:()=>`${_e.number(et.count)} item selecionado`,other:()=>`${_e.number(et.count)} itens selecionados`})}.`,selectedItem:et=>`${et.item} selecionado.`};var $b6b1503b17b2254d$exports={};$b6b1503b17b2254d$exports={deselectedItem:et=>`${et.item} no selecionado.`,longPressToSelect:"Prima continuamente para entrar no modo de seleo.",select:"Selecionar",selectedAll:"Todos os itens selecionados.",selectedCount:(et,_e)=>`${_e.plural(et.count,{"=0":"Nenhum item selecionado",one:()=>`${_e.number(et.count)} item selecionado`,other:()=>`${_e.number(et.count)} itens selecionados`})}.`,selectedItem:et=>`${et.item} selecionado.`};var $8bdaeb71e50c3e1a$exports={};$8bdaeb71e50c3e1a$exports={deselectedItem:et=>`${et.item} neselectat.`,longPressToSelect:"Apsai lung pentru a intra n modul de selectare.",select:"Selectare",selectedAll:"Toate elementele selectate.",selectedCount:(et,_e)=>`${_e.plural(et.count,{"=0":"Niciun element selectat",one:()=>`${_e.number(et.count)} element selectat`,other:()=>`${_e.number(et.count)} elemente selectate`})}.`,selectedItem:et=>`${et.item} selectat.`};var $ec2b852dd7c3d1f2$exports={};$ec2b852dd7c3d1f2$exports={deselectedItem:et=>`${et.item}  .`,longPressToSelect:"       .",select:"",selectedAll:"  .",selectedCount:(et,_e)=>`${_e.plural(et.count,{"=0":"  ",one:()=>`${_e.number(et.count)}  `,other:()=>`${_e.number(et.count)}  `})}.`,selectedItem:et=>`${et.item} .`};var $79e6d900d6a4f82d$exports={};$79e6d900d6a4f82d$exports={deselectedItem:et=>`Nevybrat poloky: ${et.item}.`,longPressToSelect:"Dlhm stlaenm prejdite do reimu vberu.",select:"Vybra",selectedAll:"Vetky vybrat poloky.",selectedCount:(et,_e)=>`${_e.plural(et.count,{"=0":"iadne vybrat poloky",one:()=>`${_e.number(et.count)} vybrat poloka`,other:()=>`Poet vybratch poloiek:${_e.number(et.count)}`})}.`,selectedItem:et=>`Vybrat poloky: ${et.item}.`};var $f4c1f0d5d4d03d80$exports={};$f4c1f0d5d4d03d80$exports={deselectedItem:et=>`Element ${et.item} ni izbran.`,longPressToSelect:"Za izbirni nain pritisnite in dlje asa drite.",select:"Izberite",selectedAll:"Vsi elementi so izbrani.",selectedCount:(et,_e)=>`${_e.plural(et.count,{"=0":"Noben element ni izbran",one:()=>`${_e.number(et.count)} element je izbran`,other:()=>`${_e.number(et.count)} elementov je izbranih`})}.`,selectedItem:et=>`Element ${et.item} je izbran.`};var $46252cd87269b10b$exports={};$46252cd87269b10b$exports={deselectedItem:et=>`${et.item} nije izabrano.`,longPressToSelect:"Dugo pritisnite za ulazak u reim biranja.",select:"Izaberite",selectedAll:"Izabrane su sve stavke.",selectedCount:(et,_e)=>`${_e.plural(et.count,{"=0":"Nije izabrana nijedna stavka",one:()=>`Izabrana je ${_e.number(et.count)} stavka`,other:()=>`Izabrano je ${_e.number(et.count)} stavki`})}.`,selectedItem:et=>`${et.item} je izabrano.`};var $d4d5d8dab362555c$exports={};$d4d5d8dab362555c$exports={deselectedItem:et=>`${et.item} ej markerat.`,longPressToSelect:"Tryck lnge nr du vill ppna vljarlge.",select:"Markera",selectedAll:"Alla markerade objekt.",selectedCount:(et,_e)=>`${_e.plural(et.count,{"=0":"Inga markerade objekt",one:()=>`${_e.number(et.count)} markerat objekt`,other:()=>`${_e.number(et.count)} markerade objekt`})}.`,selectedItem:et=>`${et.item} markerat.`};var $3d55d1f97c377e83$exports={};$3d55d1f97c377e83$exports={deselectedItem:et=>`${et.item} seilmedi.`,longPressToSelect:"Seim moduna girmek iin uzun basn.",select:"Se",selectedAll:"Tm geler seildi.",selectedCount:(et,_e)=>`${_e.plural(et.count,{"=0":"Hibir ge seilmedi",one:()=>`${_e.number(et.count)} ge seildi`,other:()=>`${_e.number(et.count)} ge seildi`})}.`,selectedItem:et=>`${et.item} seildi.`};var $5368512f1c703a3f$exports={};$5368512f1c703a3f$exports={deselectedItem:et=>`${et.item}  .`,longPressToSelect:"  ,     .",select:"",selectedAll:"  .",selectedCount:(et,_e)=>`${_e.plural(et.count,{"=0":"   ",one:()=>`${_e.number(et.count)}  `,other:()=>` : ${_e.number(et.count)}`})}.`,selectedItem:et=>`${et.item} .`};var $f1316b1074463583$exports={};$f1316b1074463583$exports={deselectedItem:et=>` ${et.item}`,longPressToSelect:"",select:"",selectedAll:"",selectedCount:(et,_e)=>`${_e.plural(et.count,{"=0":"",one:()=>` ${_e.number(et.count)} `,other:()=>` ${_e.number(et.count)} `})}`,selectedItem:et=>` ${et.item}`};var $7e60654723031b6f$exports={};$7e60654723031b6f$exports={deselectedItem:et=>`${et.item}`,longPressToSelect:"",select:"",selectedAll:"",selectedCount:(et,_e)=>`${_e.plural(et.count,{"=0":"",one:()=>` ${_e.number(et.count)} `,other:()=>` ${_e.number(et.count)} `})}`,selectedItem:et=>`${et.item}`};var $835c96616a7cb4f9$exports={};$835c96616a7cb4f9$exports={"ar-AE":$682989befd4f478d$exports,"bg-BG":$f7fca02019afd941$exports,"cs-CZ":$8f86f40be75387f1$exports,"da-DK":$db24ba43c8d652ee$exports,"de-DE":$f8f1e72c8b5447d6$exports,"el-GR":$9a73ed2983c3ab0b$exports,"en-US":$583de0b3587601b9$exports,"es-ES":$147159c978043442$exports,"et-EE":$5cbb62c8a19173ac$exports,"fi-FI":$a33d71dc804cc59e$exports,"fr-FR":$92d800447793d084$exports,"he-IL":$fe732cdb32124ea8$exports,"hr-HR":$e41234e934efb4f5$exports,"hu-HU":$1b0393182473bf9e$exports,"it-IT":$2eed782c1c110ce7$exports,"ja-JP":$8b5d459f86e9b23c$exports,"ko-KR":$1949c3ad17295fd4$exports,"lt-LT":$f5e3df4dc8aa7b54$exports,"lv-LV":$9dd86690a5c2b2c5$exports,"nb-NO":$843964c3bf9a7d24$exports,"nl-NL":$73f50e845f9ef3b4$exports,"pl-PL":$87f92a7e077514b2$exports,"pt-BR":$c28c98d58ee9ff6f$exports,"pt-PT":$b6b1503b17b2254d$exports,"ro-RO":$8bdaeb71e50c3e1a$exports,"ru-RU":$ec2b852dd7c3d1f2$exports,"sk-SK":$79e6d900d6a4f82d$exports,"sl-SI":$f4c1f0d5d4d03d80$exports,"sr-SP":$46252cd87269b10b$exports,"sv-SE":$d4d5d8dab362555c$exports,"tr-TR":$3d55d1f97c377e83$exports,"uk-UA":$5368512f1c703a3f$exports,"zh-CN":$f1316b1074463583$exports,"zh-TW":$7e60654723031b6f$exports};const $319e236875307eab$var$LIVEREGION_TIMEOUT_DELAY=7e3;let $319e236875307eab$var$liveAnnouncer=null;function $319e236875307eab$export$a9b970dcc4ae71a9(et,_e="assertive",tt=$319e236875307eab$var$LIVEREGION_TIMEOUT_DELAY){$319e236875307eab$var$liveAnnouncer?$319e236875307eab$var$liveAnnouncer.announce(et,_e,tt):($319e236875307eab$var$liveAnnouncer=new $319e236875307eab$var$LiveAnnouncer,(typeof IS_REACT_ACT_ENVIRONMENT=="boolean"?IS_REACT_ACT_ENVIRONMENT:typeof jest<"u")?$319e236875307eab$var$liveAnnouncer.announce(et,_e,tt):setTimeout(()=>{$319e236875307eab$var$liveAnnouncer!=null&&$319e236875307eab$var$liveAnnouncer.isAttached()&&($319e236875307eab$var$liveAnnouncer==null||$319e236875307eab$var$liveAnnouncer.announce(et,_e,tt))},100))}class $319e236875307eab$var$LiveAnnouncer{isAttached(){var _e;return(_e=this.node)===null||_e===void 0?void 0:_e.isConnected}createLog(_e){let tt=document.createElement("div");return tt.setAttribute("role","log"),tt.setAttribute("aria-live",_e),tt.setAttribute("aria-relevant","additions"),tt}destroy(){this.node&&(document.body.removeChild(this.node),this.node=null)}announce(_e,tt="assertive",rt=$319e236875307eab$var$LIVEREGION_TIMEOUT_DELAY){var nt,st;if(!this.node)return;let it=document.createElement("div");typeof _e=="object"?(it.setAttribute("role","img"),it.setAttribute("aria-labelledby",_e["aria-labelledby"])):it.textContent=_e,tt==="assertive"?(nt=this.assertiveLog)===null||nt===void 0||nt.appendChild(it):(st=this.politeLog)===null||st===void 0||st.appendChild(it),_e!==""&&setTimeout(()=>{it.remove()},rt)}clear(_e){this.node&&((!_e||_e==="assertive")&&this.assertiveLog&&(this.assertiveLog.innerHTML=""),(!_e||_e==="polite")&&this.politeLog&&(this.politeLog.innerHTML=""))}constructor(){this.node=null,this.assertiveLog=null,this.politeLog=null,typeof document<"u"&&(this.node=document.createElement("div"),this.node.dataset.liveAnnouncer="true",Object.assign(this.node.style,{border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"}),this.assertiveLog=this.createLog("assertive"),this.node.appendChild(this.assertiveLog),this.politeLog=this.createLog("polite"),this.node.appendChild(this.politeLog),document.body.prepend(this.node))}}function $parcel$interopDefault$5(et){return et&&et.__esModule?et.default:et}function $92599c3fd427b763$export$137e594ef3218a10(et,_e){let{getRowText:tt=it=>{var at,ot,lt,ct;return(ct=(at=(ot=_e.collection).getTextValue)===null||at===void 0?void 0:at.call(ot,it))!==null&&ct!==void 0?ct:(lt=_e.collection.getItem(it))===null||lt===void 0?void 0:lt.textValue}}=et,rt=$fca6afa0e843324b$export$f12b703ca79dfbb1($parcel$interopDefault$5($835c96616a7cb4f9$exports),"@react-aria/grid"),nt=_e.selectionManager.rawSelection,st=reactExports.useRef(nt);$4f58c5f72bcf79f7$export$496315a1608d9602(()=>{var it;if(!_e.selectionManager.isFocused){st.current=nt;return}let at=$92599c3fd427b763$var$diffSelection(nt,st.current),ot=$92599c3fd427b763$var$diffSelection(st.current,nt),lt=_e.selectionManager.selectionBehavior==="replace",ct=[];if(_e.selectionManager.selectedKeys.size===1&&lt){if(_e.collection.getItem(_e.selectionManager.selectedKeys.keys().next().value)){let ut=tt(_e.selectionManager.selectedKeys.keys().next().value);ut&&ct.push(rt.format("selectedItem",{item:ut}))}}else if(at.size===1&&ot.size===0){let ut=tt(at.keys().next().value);ut&&ct.push(rt.format("selectedItem",{item:ut}))}else if(ot.size===1&&at.size===0&&_e.collection.getItem(ot.keys().next().value)){let ut=tt(ot.keys().next().value);ut&&ct.push(rt.format("deselectedItem",{item:ut}))}_e.selectionManager.selectionMode==="multiple"&&(ct.length===0||nt==="all"||nt.size>1||st.current==="all"||((it=st.current)===null||it===void 0?void 0:it.size)>1)&&ct.push(nt==="all"?rt.format("selectedAll"):rt.format("selectedCount",{count:nt.size})),ct.length>0&&$319e236875307eab$export$a9b970dcc4ae71a9(ct.join(" ")),st.current=nt},[nt])}function $92599c3fd427b763$var$diffSelection(et,_e){let tt=new Set;if(et==="all"||_e==="all")return tt;for(let rt of et.keys())_e.has(rt)||tt.add(rt);return tt}function $parcel$interopDefault$4(et){return et&&et.__esModule?et.default:et}function $5b9b5b5723db6ae1$export$be42ebdab07ae4c2(et){let _e=$fca6afa0e843324b$export$f12b703ca79dfbb1($parcel$interopDefault$4($835c96616a7cb4f9$exports),"@react-aria/grid"),tt=$507fabe10e71c6fb$export$98e20ec92f614cfe(),rt=(tt==="pointer"||tt==="virtual"||tt==null)&&typeof window<"u"&&"ontouchstart"in window,nt=reactExports.useMemo(()=>{let it=et.selectionManager.selectionMode,at=et.selectionManager.selectionBehavior,ot;return rt&&(ot=_e.format("longPressToSelect")),at==="replace"&&it!=="none"&&et.hasItemActions?ot:void 0},[et.selectionManager.selectionMode,et.selectionManager.selectionBehavior,et.hasItemActions,_e,rt]);return $ef06256079686ba0$export$f8aeda7b10753fa1(nt)}function $83c6e2eafa584c67$export$f6b86a04e5d66d90(et,_e,tt){let{isVirtualized:rt,keyboardDelegate:nt,focusMode:st,scrollRef:it,getRowText:at,onRowAction:ot,onCellAction:lt}=et,{selectionManager:ct}=_e;!et["aria-label"]&&!et["aria-labelledby"]&&console.warn("An aria-label or aria-labelledby prop is required for accessibility.");let ut=$325a3faab7a68acd$export$a16aca283550c30d({usage:"search",sensitivity:"base"}),{direction:dt}=$18f2051aff69b9bf$export$43bb16f9c6d9e3f7(),ft=_e.selectionManager.disabledBehavior,ht=reactExports.useMemo(()=>nt||new $d1c300d9c497e402$export$de9feff04fda126e({collection:_e.collection,disabledKeys:_e.disabledKeys,disabledBehavior:ft,ref:tt,direction:dt,collator:ut,focusMode:st}),[nt,_e.collection,_e.disabledKeys,ft,tt,dt,ut,st]),{collectionProps:pt}=$ae20dd8cbca75726$export$d6daf82dcd84e87c({ref:tt,selectionManager:ct,keyboardDelegate:ht,isVirtualized:rt,scrollRef:it}),gt=$bdb11010cef70236$export$f680877a34711e37(et.id);$1af922eb41e03c8f$export$e6235c0d09b995d0.set(_e,{keyboardDelegate:ht,actions:{onRowAction:ot,onCellAction:lt}});let mt=$5b9b5b5723db6ae1$export$be42ebdab07ae4c2({selectionManager:ct,hasItemActions:!!(ot||lt)}),bt=$65484d02dcb7eb3e$export$457c3d6518dd4c6f(et,{labelable:!0}),vt=reactExports.useCallback(wt=>{if(ct.isFocused){wt.currentTarget.contains(wt.target)||ct.setFocused(!1);return}wt.currentTarget.contains(wt.target)&&ct.setFocused(!0)},[ct]),yt=reactExports.useMemo(()=>({onBlur:pt.onBlur,onFocus:vt}),[vt,pt.onBlur]),xt=$83013635b024ae3d$export$eac1895992b9f3d6(tt,{isDisabled:_e.collection.size!==0}),Et=$3ef42575df84b30b$export$9d1611c77c2fe928(bt,{role:"grid",id:gt,"aria-multiselectable":ct.selectionMode==="multiple"?"true":void 0},_e.isKeyboardNavigationDisabled?yt:pt,_e.collection.size===0&&{tabIndex:xt?-1:0}||void 0,mt);return rt&&(Et["aria-rowcount"]=_e.collection.size,Et["aria-colcount"]=_e.collection.columnCount),$92599c3fd427b763$export$137e594ef3218a10({getRowText:at},_e),{gridProps:Et}}function $e45487f8ba1cbdbf$export$d3037f5d3f3e51bf(){return{rowGroupProps:{role:"rowgroup"}}}function $4159a7a9cbb0cc18$export$96357d5a73f686fa(et,_e,tt){var rt,nt;let{node:st,isVirtualized:it,shouldSelectOnPressUp:at,onAction:ot}=et,{actions:lt}=$1af922eb41e03c8f$export$e6235c0d09b995d0.get(_e),ct=lt.onRowAction?()=>{var pt;return(pt=lt.onRowAction)===null||pt===void 0?void 0:pt.call(lt,st.key)}:ot,{itemProps:ut,...dt}=$880e95eb8b93ba9a$export$ecf600387e221c37({selectionManager:_e.selectionManager,key:st.key,ref:tt,isVirtualized:it,shouldSelectOnPressUp:at,onAction:ct||!(st==null||(rt=st.props)===null||rt===void 0)&&rt.onAction?$ff5963eb1fccf552$export$e08e3b67e392101e(st==null||(nt=st.props)===null||nt===void 0?void 0:nt.onAction,ct):void 0,isDisabled:_e.collection.size===0}),ft=_e.selectionManager.isSelected(st.key),ht={role:"row","aria-selected":_e.selectionManager.selectionMode!=="none"?ft:void 0,"aria-disabled":dt.isDisabled||void 0,...ut};return it&&(ht["aria-rowindex"]=st.index+1),{rowProps:ht,...dt}}function $ab90dcbc1b5466d0$export$c7e10bfc0c59f67c(et,_e,tt){let{node:rt,isVirtualized:nt,focusMode:st="child",shouldSelectOnPressUp:it,onAction:at}=et,{direction:ot}=$18f2051aff69b9bf$export$43bb16f9c6d9e3f7(),{keyboardDelegate:lt,actions:{onCellAction:ct}}=$1af922eb41e03c8f$export$e6235c0d09b995d0.get(_e),ut=reactExports.useRef(null),dt=()=>{if(tt.current){let vt=$9bf71ea28793e738$export$2d6ec8fc375ceafa(tt.current);if(st==="child"){if(tt.current.contains(document.activeElement)&&tt.current!==document.activeElement)return;let yt=_e.selectionManager.childFocusStrategy==="last"?$ab90dcbc1b5466d0$var$last(vt):vt.firstChild();if(yt){$6a99195332edec8b$export$80f3e147d781571c(yt);return}}(ut.current!=null&&rt.key!==ut.current||!tt.current.contains(document.activeElement))&&$6a99195332edec8b$export$80f3e147d781571c(tt.current)}},{itemProps:ft,isPressed:ht}=$880e95eb8b93ba9a$export$ecf600387e221c37({selectionManager:_e.selectionManager,key:rt.key,ref:tt,isVirtualized:nt,focus:dt,shouldSelectOnPressUp:it,onAction:ct?()=>ct(rt.key):at,isDisabled:_e.collection.size===0}),mt=$3ef42575df84b30b$export$9d1611c77c2fe928(ft,{role:"gridcell",onKeyDownCapture:vt=>{if(!vt.currentTarget.contains(vt.target)||_e.isKeyboardNavigationDisabled||!tt.current||!document.activeElement)return;let yt=$9bf71ea28793e738$export$2d6ec8fc375ceafa(tt.current);switch(yt.currentNode=document.activeElement,vt.key){case"ArrowLeft":{let St=ot==="rtl"?yt.nextNode():yt.previousNode();if(st==="child"&&St===tt.current&&(St=null),vt.preventDefault(),vt.stopPropagation(),St)$6a99195332edec8b$export$80f3e147d781571c(St),$2f04cbc44ee30ce0$export$c826860796309d1b(St,{containingElement:$62d8ded9296f3872$export$cfa2225e87938781(tt.current)});else{var xt;if(((xt=lt.getKeyLeftOf)===null||xt===void 0?void 0:xt.call(lt,rt.key))!==rt.key){var Et;(Et=tt.current.parentElement)===null||Et===void 0||Et.dispatchEvent(new KeyboardEvent(vt.nativeEvent.type,vt.nativeEvent));break}st==="cell"&&ot==="rtl"?($6a99195332edec8b$export$80f3e147d781571c(tt.current),$2f04cbc44ee30ce0$export$c826860796309d1b(tt.current,{containingElement:$62d8ded9296f3872$export$cfa2225e87938781(tt.current)})):(yt.currentNode=tt.current,St=ot==="rtl"?yt.firstChild():$ab90dcbc1b5466d0$var$last(yt),St&&($6a99195332edec8b$export$80f3e147d781571c(St),$2f04cbc44ee30ce0$export$c826860796309d1b(St,{containingElement:$62d8ded9296f3872$export$cfa2225e87938781(tt.current)})))}break}case"ArrowRight":{let St=ot==="rtl"?yt.previousNode():yt.nextNode();if(st==="child"&&St===tt.current&&(St=null),vt.preventDefault(),vt.stopPropagation(),St)$6a99195332edec8b$export$80f3e147d781571c(St),$2f04cbc44ee30ce0$export$c826860796309d1b(St,{containingElement:$62d8ded9296f3872$export$cfa2225e87938781(tt.current)});else{var wt;if(((wt=lt.getKeyRightOf)===null||wt===void 0?void 0:wt.call(lt,rt.key))!==rt.key){var $t;($t=tt.current.parentElement)===null||$t===void 0||$t.dispatchEvent(new KeyboardEvent(vt.nativeEvent.type,vt.nativeEvent));break}st==="cell"&&ot==="ltr"?($6a99195332edec8b$export$80f3e147d781571c(tt.current),$2f04cbc44ee30ce0$export$c826860796309d1b(tt.current,{containingElement:$62d8ded9296f3872$export$cfa2225e87938781(tt.current)})):(yt.currentNode=tt.current,St=ot==="rtl"?$ab90dcbc1b5466d0$var$last(yt):yt.firstChild(),St&&($6a99195332edec8b$export$80f3e147d781571c(St),$2f04cbc44ee30ce0$export$c826860796309d1b(St,{containingElement:$62d8ded9296f3872$export$cfa2225e87938781(tt.current)})))}break}case"ArrowUp":case"ArrowDown":if(!vt.altKey&&tt.current.contains(vt.target)){var Tt;vt.stopPropagation(),vt.preventDefault(),(Tt=tt.current.parentElement)===null||Tt===void 0||Tt.dispatchEvent(new KeyboardEvent(vt.nativeEvent.type,vt.nativeEvent))}break}},onFocus:vt=>{if(ut.current=rt.key,vt.target!==tt.current){$507fabe10e71c6fb$export$b9b3dfddab17db27()||_e.selectionManager.setFocusedKey(rt.key);return}requestAnimationFrame(()=>{st==="child"&&document.activeElement===tt.current&&dt()})}});var bt;return nt&&(mt["aria-colindex"]=((bt=rt.colIndex)!==null&&bt!==void 0?bt:rt.index)+1),it&&mt.tabIndex!=null&&mt.onPointerDown==null&&(mt.onPointerDown=vt=>{let yt=vt.currentTarget,xt=yt.getAttribute("tabindex");yt.removeAttribute("tabindex"),requestAnimationFrame(()=>{xt!=null&&yt.setAttribute("tabindex",xt)})}),{gridCellProps:mt,isPressed:ht}}function $ab90dcbc1b5466d0$var$last(et){let _e=null,tt=null;do tt=et.lastChild(),tt&&(_e=tt);while(tt);return _e}function $parcel$interopDefault$3(et){return et&&et.__esModule?et.default:et}function $7cb39d07f245a780$export$70e2eed1a92976ad(et,_e){let{key:tt}=et,rt=_e.selectionManager,nt=$bdb11010cef70236$export$f680877a34711e37(),st=!_e.selectionManager.canSelectItem(tt),it=_e.selectionManager.isSelected(tt),at=()=>rt.toggleSelection(tt);const ot=$fca6afa0e843324b$export$f12b703ca79dfbb1($parcel$interopDefault$3($835c96616a7cb4f9$exports),"@react-aria/grid");return{checkboxProps:{id:nt,"aria-label":ot.format("select"),isSelected:it,isDisabled:st,onChange:at}}}class $0ba3c81c7f1caedd$export$da43f8f5cb04028d extends $d1c300d9c497e402$export$de9feff04fda126e{isCell(_e){return _e.type==="cell"||_e.type==="rowheader"||_e.type==="column"}getKeyBelow(_e){let tt=this.collection.getItem(_e);if(!tt)return null;if(tt.type==="column"){var rt;let st=$c5a24bc478652b5f$export$fbdeaa6a76694f71($c5a24bc478652b5f$export$1005530eda016c13(tt,this.collection));if(st)return st.key;let it=this.getFirstKey();if(it==null)return null;let at=this.collection.getItem(it);if(!at)return null;var nt;return(nt=(rt=$c5a24bc478652b5f$export$5f3398f8733f90e2($c5a24bc478652b5f$export$1005530eda016c13(at,this.collection),tt.index))===null||rt===void 0?void 0:rt.key)!==null&&nt!==void 0?nt:null}return super.getKeyBelow(_e)}getKeyAbove(_e){let tt=this.collection.getItem(_e);if(!tt)return null;if(tt.type==="column"){let st=tt.parentKey!=null?this.collection.getItem(tt.parentKey):null;return st&&st.type==="column"?st.key:null}let rt=super.getKeyAbove(_e),nt=rt!=null?this.collection.getItem(rt):null;return nt&&nt.type!=="headerrow"?rt:this.isCell(tt)?this.collection.columns[tt.index].key:this.collection.columns[0].key}findNextColumnKey(_e){let tt=this.findNextKey(_e.key,nt=>nt.type==="column");if(tt!=null)return tt;let rt=this.collection.headerRows[_e.level];for(let nt of $c5a24bc478652b5f$export$1005530eda016c13(rt,this.collection))if(nt.type==="column")return nt.key;return null}findPreviousColumnKey(_e){let tt=this.findPreviousKey(_e.key,st=>st.type==="column");if(tt!=null)return tt;let rt=this.collection.headerRows[_e.level],nt=[...$c5a24bc478652b5f$export$1005530eda016c13(rt,this.collection)];for(let st=nt.length-1;st>=0;st--){let it=nt[st];if(it.type==="column")return it.key}return null}getKeyRightOf(_e){let tt=this.collection.getItem(_e);return tt?tt.type==="column"?this.direction==="rtl"?this.findPreviousColumnKey(tt):this.findNextColumnKey(tt):super.getKeyRightOf(_e):null}getKeyLeftOf(_e){let tt=this.collection.getItem(_e);return tt?tt.type==="column"?this.direction==="rtl"?this.findNextColumnKey(tt):this.findPreviousColumnKey(tt):super.getKeyLeftOf(_e):null}getKeyForSearch(_e,tt){if(!this.collator)return null;let rt=this.collection,nt=tt??this.getFirstKey();if(nt==null)return null;let st=rt.getItem(nt);var it;(st==null?void 0:st.type)==="cell"&&(nt=(it=st.parentKey)!==null&&it!==void 0?it:null);let at=!1;for(;nt!=null;){let ot=rt.getItem(nt);if(!ot)return null;for(let lt of $c5a24bc478652b5f$export$1005530eda016c13(ot,this.collection)){let ct=rt.columns[lt.index];if(rt.rowHeaderColumnKeys.has(ct.key)&&lt.textValue){let ut=lt.textValue.slice(0,_e.length);if(this.collator.compare(ut,_e)===0){let dt=tt!=null?rt.getItem(tt):st;return(dt==null?void 0:dt.type)==="cell"?lt.key:ot.key}}}nt=this.getKeyBelow(nt),nt==null&&!at&&(nt=this.getFirstKey(),at=!0)}return null}}let $f4e2df6bd15f8569$var$_tableNestedRows=!1;function $f4e2df6bd15f8569$export$1b00cb14a96194e6(){return $f4e2df6bd15f8569$var$_tableNestedRows}function $parcel$interopDefault$2(et){return et&&et.__esModule?et.default:et}function $6e31608fbba75bab$export$25bceaac3c7e4dc7(et,_e,tt){let{keyboardDelegate:rt,isVirtualized:nt,layoutDelegate:st,layout:it}=et,at=$325a3faab7a68acd$export$a16aca283550c30d({usage:"search",sensitivity:"base"}),{direction:ot}=$18f2051aff69b9bf$export$43bb16f9c6d9e3f7(),lt=_e.selectionManager.disabledBehavior,ct=reactExports.useMemo(()=>rt||new $0ba3c81c7f1caedd$export$da43f8f5cb04028d({collection:_e.collection,disabledKeys:_e.disabledKeys,disabledBehavior:lt,ref:tt,direction:ot,collator:at,layoutDelegate:st,layout:it}),[rt,_e.collection,_e.disabledKeys,lt,tt,ot,at,st,it]),ut=$bdb11010cef70236$export$f680877a34711e37(et.id);$2140fb2337097f2d$export$552312adfd451dab.set(_e,ut);let{gridProps:dt}=$83c6e2eafa584c67$export$f6b86a04e5d66d90({...et,id:ut,keyboardDelegate:ct},_e,tt);nt&&(dt["aria-rowcount"]=_e.collection.size+_e.collection.headerRows.length),$f4e2df6bd15f8569$export$1b00cb14a96194e6()&&"expandedKeys"in _e&&(dt.role="treegrid");let{column:ft,direction:ht}=_e.sortDescriptor||{},pt=$fca6afa0e843324b$export$f12b703ca79dfbb1($parcel$interopDefault$2($7476b46781682bf5$exports),"@react-aria/table"),gt=reactExports.useMemo(()=>{var bt,vt;let yt=(vt=(bt=_e.collection.columns.find(xt=>xt.key===ft))===null||bt===void 0?void 0:bt.textValue)!==null&&vt!==void 0?vt:"";return ht&&ft?pt.format(`${ht}Sort`,{columnName:yt}):void 0},[ht,ft,_e.collection.columns]),mt=$ef06256079686ba0$export$f8aeda7b10753fa1(gt);return $4f58c5f72bcf79f7$export$496315a1608d9602(()=>{gt&&$319e236875307eab$export$a9b970dcc4ae71a9(gt,"assertive",500)},[gt]),{gridProps:$3ef42575df84b30b$export$9d1611c77c2fe928(dt,mt,{"aria-describedby":[mt["aria-describedby"],dt["aria-describedby"]].filter(Boolean).join(" ")})}}function $parcel$interopDefault$1(et){return et&&et.__esModule?et.default:et}function $f329116d8ad0aba0$export$9514819a8c81e960(et,_e,tt){var rt,nt;let{node:st}=et,it=st.props.allowsSorting,{gridCellProps:at}=$ab90dcbc1b5466d0$export$c7e10bfc0c59f67c({...et,focusMode:"child"},_e,tt),ot=st.props.isSelectionCell&&_e.selectionManager.selectionMode==="single",{pressProps:lt}=$f6c31cce2adf654f$export$45712eceda6fad21({isDisabled:!it||ot,onPress(){_e.sort(st.key)},ref:tt}),{focusableProps:ct}=$e6afbd83fe6ebbd2$export$4c014de7c8940b4c({},tt),ut,dt=((rt=_e.sortDescriptor)===null||rt===void 0?void 0:rt.column)===st.key,ft=(nt=_e.sortDescriptor)===null||nt===void 0?void 0:nt.direction;st.props.allowsSorting&&!$c87311424ea30a05$export$a11b0059900ceec8()&&(ut=dt?ft:"none");let ht=$fca6afa0e843324b$export$f12b703ca79dfbb1($parcel$interopDefault$1($7476b46781682bf5$exports),"@react-aria/table"),pt;it&&(pt=`${ht.format("sortable")}`,dt&&ft&&$c87311424ea30a05$export$a11b0059900ceec8()&&(pt=`${pt}, ${ht.format(ft)}`));let gt=$ef06256079686ba0$export$f8aeda7b10753fa1(pt),mt=_e.collection.size===0;return reactExports.useEffect(()=>{mt&&_e.selectionManager.focusedKey===st.key&&_e.selectionManager.setFocusedKey(null)},[mt,_e.selectionManager,st.key]),{columnHeaderProps:{...$3ef42575df84b30b$export$9d1611c77c2fe928(at,lt,ct,gt,mt?{tabIndex:-1}:null),role:"columnheader",id:$2140fb2337097f2d$export$37cd4213f2ad742e(_e,st.key),"aria-colspan":st.colspan&&st.colspan>1?st.colspan:void 0,"aria-sort":ut}}}const $b2db214c022798eb$var$EXPANSION_KEYS={expand:{ltr:"ArrowRight",rtl:"ArrowLeft"},collapse:{ltr:"ArrowLeft",rtl:"ArrowRight"}};function $b2db214c022798eb$export$7f2f6ae19e707aa5(et,_e,tt){let{node:rt,isVirtualized:nt}=et,{rowProps:st,...it}=$4159a7a9cbb0cc18$export$96357d5a73f686fa(et,_e,tt),{direction:at}=$18f2051aff69b9bf$export$43bb16f9c6d9e3f7();nt&&!($f4e2df6bd15f8569$export$1b00cb14a96194e6()&&"expandedKeys"in _e)?st["aria-rowindex"]=rt.index+1+_e.collection.headerRows.length:delete st["aria-rowindex"];let ot={};if($f4e2df6bd15f8569$export$1b00cb14a96194e6()&&"expandedKeys"in _e){let xt=_e.keyMap.get(rt.key);if(xt!=null){var lt,ct,ut,dt,ft,ht;let Et=((lt=xt.props)===null||lt===void 0?void 0:lt.UNSTABLE_childItems)||((ut=xt.props)===null||ut===void 0||(ct=ut.children)===null||ct===void 0?void 0:ct.length)>_e.userColumnCount;var pt,gt,mt,bt;ot={onKeyDown:wt=>{(wt.key===$b2db214c022798eb$var$EXPANSION_KEYS.expand[at]&&_e.selectionManager.focusedKey===xt.key&&Et&&_e.expandedKeys!=="all"&&!_e.expandedKeys.has(xt.key)||wt.key===$b2db214c022798eb$var$EXPANSION_KEYS.collapse[at]&&_e.selectionManager.focusedKey===xt.key&&Et&&(_e.expandedKeys==="all"||_e.expandedKeys.has(xt.key)))&&(_e.toggleKey(xt.key),wt.stopPropagation())},"aria-expanded":Et?_e.expandedKeys==="all"||_e.expandedKeys.has(rt.key):void 0,"aria-level":xt.level,"aria-posinset":((pt=xt.indexOfType)!==null&&pt!==void 0?pt:0)+1,"aria-setsize":xt.level>1?((mt=(dt=$c5a24bc478652b5f$export$7475b2c64539e4cf((gt=(ft=_e.keyMap.get(xt.parentKey))===null||ft===void 0?void 0:ft.childNodes)!==null&&gt!==void 0?gt:[]))===null||dt===void 0?void 0:dt.indexOfType)!==null&&mt!==void 0?mt:0)+1:((bt=(ht=$c5a24bc478652b5f$export$7475b2c64539e4cf(_e.collection.body.childNodes))===null||ht===void 0?void 0:ht.indexOfType)!==null&&bt!==void 0?bt:0)+1}}}let vt=$ea8dcbcb9ea1b556$export$bdc77b0c0a3a85d6(rt.props),yt=it.hasAction?vt:{};return{rowProps:{...$3ef42575df84b30b$export$9d1611c77c2fe928(st,ot,yt),"aria-labelledby":$2140fb2337097f2d$export$85069b70317f543(_e,rt.key)},...it}}function $f917ee10f4c32dab$export$1b95a7d2d517b841(et,_e,tt){let{node:rt,isVirtualized:nt}=et,st={role:"row"};return nt&&!($f4e2df6bd15f8569$export$1b00cb14a96194e6()&&"expandedKeys"in _e)&&(st["aria-rowindex"]=rt.index+1),{rowProps:st}}function $7713593715703b24$export$49571c903d73624c(et,_e,tt){var rt;let{gridCellProps:nt,isPressed:st}=$ab90dcbc1b5466d0$export$c7e10bfc0c59f67c(et,_e,tt),it=(rt=et.node.column)===null||rt===void 0?void 0:rt.key;return it!=null&&_e.collection.rowHeaderColumnKeys.has(it)&&(nt.role="rowheader",nt.id=$2140fb2337097f2d$export$19baff3266315d44(_e,et.node.parentKey,it)),{gridCellProps:nt,isPressed:st}}function $parcel$interopDefault(et){return et&&et.__esModule?et.default:et}function $2a795c53a101c542$export$16ea7f650bd7c1bb(et,_e){let{key:tt}=et;const{checkboxProps:rt}=$7cb39d07f245a780$export$70e2eed1a92976ad(et,_e);return{checkboxProps:{...rt,"aria-labelledby":`${rt.id} ${$2140fb2337097f2d$export$85069b70317f543(_e,tt)}`}}}function $2a795c53a101c542$export$1003db6a7e384b99(et){let{isEmpty:_e,isSelectAll:tt,selectionMode:rt}=et.selectionManager;return{checkboxProps:{"aria-label":$fca6afa0e843324b$export$f12b703ca79dfbb1($parcel$interopDefault($7476b46781682bf5$exports),"@react-aria/table").format(rt==="single"?"select":"selectAll"),isSelected:tt,isDisabled:rt!=="multiple"||et.collection.size===0,isIndeterminate:!_e&&!tt,onChange:()=>et.selectionManager.toggleSelectAll()}}}function $0047e6c294ea075f$export$6fb1613bd7b28198(){return $e45487f8ba1cbdbf$export$d3037f5d3f3e51bf()}var TableSelectAllCheckbox=forwardRef$1((et,_e)=>{var tt,rt;const{as:nt,className:st,node:it,slots:at,state:ot,selectionMode:lt,color:ct,checkboxesProps:ut,disableAnimation:dt,classNames:ft,...ht}=et,pt=nt||"th",gt=typeof pt=="string",mt=useDOMRef$1(_e),{columnHeaderProps:bt}=$f329116d8ad0aba0$export$9514819a8c81e960({node:it},ot,mt),{isFocusVisible:vt,focusProps:yt}=$f7dceffc5ad7768b$export$4e328f61c538687f(),{checkboxProps:xt}=$2a795c53a101c542$export$1003db6a7e384b99(ot),Et=clsx$2(ft==null?void 0:ft.th,st,(tt=it.props)==null?void 0:tt.className),wt=lt==="single",{onChange:$t,...Tt}=xt;return jsxRuntimeExports.jsx(pt,{ref:mt,"data-focus-visible":dataAttr$1(vt),...$3ef42575df84b30b$export$9d1611c77c2fe928(bt,yt,filterDOMProps$1(it.props,{enabled:gt}),filterDOMProps$1(ht,{enabled:gt})),className:(rt=at.th)==null?void 0:rt.call(at,{class:Et}),children:wt?jsxRuntimeExports.jsx($5c3e21d68f1c4674$export$439d29a4e110a164,{children:xt["aria-label"]}):jsxRuntimeExports.jsx(checkbox_default,{color:ct,disableAnimation:dt,onValueChange:$t,...$3ef42575df84b30b$export$9d1611c77c2fe928(ut,Tt)})})});TableSelectAllCheckbox.displayName="NextUI.TableSelectAllCheckbox";var table_select_all_checkbox_default=TableSelectAllCheckbox;function $62967d126f3aa823$export$4007ac09ff9c68ed(et){let{collection:_e,focusMode:tt}=et,rt=et.UNSAFE_selectionState||$7af3f5b51489e0b5$export$253fe78d46329472(et),nt=reactExports.useMemo(()=>et.disabledKeys?new Set(et.disabledKeys):new Set,[et.disabledKeys]),st=rt.setFocusedKey;rt.setFocusedKey=(ot,lt)=>{if(tt==="cell"&&ot!=null){let ht=_e.getItem(ot);if((ht==null?void 0:ht.type)==="item"){var ct,ut;let pt=$c5a24bc478652b5f$export$1005530eda016c13(ht,_e);var dt,ft;lt==="last"?ot=(dt=(ct=$c5a24bc478652b5f$export$7475b2c64539e4cf(pt))===null||ct===void 0?void 0:ct.key)!==null&&dt!==void 0?dt:null:ot=(ft=(ut=$c5a24bc478652b5f$export$fbdeaa6a76694f71(pt))===null||ut===void 0?void 0:ut.key)!==null&&ft!==void 0?ft:null}}st(ot,lt)};let it=reactExports.useMemo(()=>new $d496c0a20b6e58ec$export$6c8a5aaad13c9852(_e,rt),[_e,rt]);const at=reactExports.useRef(null);return reactExports.useEffect(()=>{if(rt.focusedKey!=null&&at.current&&!_e.getItem(rt.focusedKey)){const ot=at.current.getItem(rt.focusedKey),lt=(ot==null?void 0:ot.parentKey)!=null&&(ot.type==="cell"||ot.type==="rowheader"||ot.type==="column")?at.current.getItem(ot.parentKey):ot;if(!lt){rt.setFocusedKey(null);return}const ct=at.current.rows,ut=_e.rows,dt=ct.length-ut.length;let ft=Math.min(dt>1?Math.max(lt.index-dt+1,0):lt.index,ut.length-1),ht=null;for(;ft>=0;){if(!it.isDisabled(ut[ft].key)&&ut[ft].type!=="headerrow"){ht=ut[ft];break}ft<ut.length-1?ft++:(ft>lt.index&&(ft=lt.index),ft--)}if(ht){const pt=ht.hasChildNodes?[...$c5a24bc478652b5f$export$1005530eda016c13(ht,_e)]:[],gt=ht.hasChildNodes&&lt!==ot&&ot&&ot.index<pt.length?pt[ot.index].key:ht.key;rt.setFocusedKey(gt)}else rt.setFocusedKey(null)}at.current=_e},[_e,it,rt,rt.focusedKey]),{collection:_e,disabledKeys:nt,isKeyboardNavigationDisabled:!1,selectionManager:it}}class $16805b1b18093c5f$export$de3fdf6493c353d{*[Symbol.iterator](){yield*[...this.rows]}get size(){return[...this.rows].length}getKeys(){return this.keyMap.keys()}getKeyBefore(_e){let tt=this.keyMap.get(_e);var rt;return tt&&(rt=tt.prevKey)!==null&&rt!==void 0?rt:null}getKeyAfter(_e){let tt=this.keyMap.get(_e);var rt;return tt&&(rt=tt.nextKey)!==null&&rt!==void 0?rt:null}getFirstKey(){var _e;return(_e=[...this.rows][0])===null||_e===void 0?void 0:_e.key}getLastKey(){var _e;let tt=[...this.rows];return(_e=tt[tt.length-1])===null||_e===void 0?void 0:_e.key}getItem(_e){var tt;return(tt=this.keyMap.get(_e))!==null&&tt!==void 0?tt:null}at(_e){const tt=[...this.getKeys()];return this.getItem(tt[_e])}getChildren(_e){let tt=this.keyMap.get(_e);return(tt==null?void 0:tt.childNodes)||[]}constructor(_e){this.keyMap=new Map,this.keyMap=new Map,this.columnCount=_e==null?void 0:_e.columnCount,this.rows=[];let tt=ut=>{let dt=this.keyMap.get(ut.key);_e.visitNode&&(ut=_e.visitNode(ut)),this.keyMap.set(ut.key,ut);let ft=new Set,ht=null;for(let pt of ut.childNodes)pt.type==="cell"&&pt.parentKey==null&&(pt.parentKey=ut.key),ft.add(pt.key),ht?(ht.nextKey=pt.key,pt.prevKey=ht.key):pt.prevKey=null,tt(pt),ht=pt;if(ht&&(ht.nextKey=null),dt)for(let pt of dt.childNodes)ft.has(pt.key)||rt(pt)},rt=ut=>{this.keyMap.delete(ut.key);for(let dt of ut.childNodes)this.keyMap.get(dt.key)===dt&&rt(dt)},nt=null;for(let[ut,dt]of _e.items.entries()){var st,it,at,ot,lt,ct;let ft={...dt,level:(st=dt.level)!==null&&st!==void 0?st:0,key:(it=dt.key)!==null&&it!==void 0?it:"row-"+ut,type:(at=dt.type)!==null&&at!==void 0?at:"row",value:(ot=dt.value)!==null&&ot!==void 0?ot:null,hasChildNodes:!0,childNodes:[...dt.childNodes],rendered:dt.rendered,textValue:(lt=dt.textValue)!==null&&lt!==void 0?lt:"",index:(ct=dt.index)!==null&&ct!==void 0?ct:ut};nt?(nt.nextKey=ft.key,ft.prevKey=nt.key):ft.prevKey=null,this.rows.push(ft),tt(ft),nt=ft}nt&&(nt.nextKey=null)}}const $788781baa30117fa$var$ROW_HEADER_COLUMN_KEY="row-header-column-"+Math.random().toString(36).slice(2);let $788781baa30117fa$var$ROW_HEADER_COLUMN_KEY_DRAG="row-header-column-"+Math.random().toString(36).slice(2);for(;$788781baa30117fa$var$ROW_HEADER_COLUMN_KEY===$788781baa30117fa$var$ROW_HEADER_COLUMN_KEY_DRAG;)$788781baa30117fa$var$ROW_HEADER_COLUMN_KEY_DRAG="row-header-column-"+Math.random().toString(36).slice(2);function $788781baa30117fa$export$7c127db850d4e81e(et,_e){if(_e.length===0)return[];let tt=[],rt=new Map;for(let ct of _e){let ut=ct.parentKey,dt=[ct];for(;ut;){let ft=et.get(ut);if(!ft)break;if(rt.has(ft)){var nt,st;(st=(nt=ft).colspan)!==null&&st!==void 0||(nt.colspan=0),ft.colspan++;let{column:ht,index:pt}=rt.get(ft);if(pt>dt.length)break;for(let gt=pt;gt<dt.length;gt++)ht.splice(gt,0,null);for(let gt=dt.length;gt<ht.length;gt++)ht[gt]&&rt.has(ht[gt])&&(rt.get(ht[gt]).index=gt)}else ft.colspan=1,dt.push(ft),rt.set(ft,{column:dt,index:dt.length-1});ut=ft.parentKey}tt.push(dt),ct.index=tt.length-1}let it=Math.max(...tt.map(ct=>ct.length)),at=Array(it).fill(0).map(()=>[]),ot=0;for(let ct of tt){let ut=it-1;for(let dt of ct){if(dt){let ft=at[ut],ht=ft.reduce((pt,gt)=>{var mt;return pt+((mt=gt.colspan)!==null&&mt!==void 0?mt:1)},0);if(ht<ot){let pt={type:"placeholder",key:"placeholder-"+dt.key,colspan:ot-ht,index:ht,value:null,rendered:null,level:ut,hasChildNodes:!1,childNodes:[],textValue:""};ft.length>0&&(ft[ft.length-1].nextKey=pt.key,pt.prevKey=ft[ft.length-1].key),ft.push(pt)}ft.length>0&&(ft[ft.length-1].nextKey=dt.key,dt.prevKey=ft[ft.length-1].key),dt.level=ut,dt.colIndex=ot,ft.push(dt)}ut--}ot++}let lt=0;for(let ct of at){let ut=ct.reduce((dt,ft)=>{var ht;return dt+((ht=ft.colspan)!==null&&ht!==void 0?ht:1)},0);if(ut<_e.length){let dt={type:"placeholder",key:"placeholder-"+ct[ct.length-1].key,colspan:_e.length-ut,index:ut,value:null,rendered:null,level:lt,hasChildNodes:!1,childNodes:[],textValue:"",prevKey:ct[ct.length-1].key};ct.push(dt)}lt++}return at.map((ct,ut)=>({type:"headerrow",key:"headerrow-"+ut,index:ut,value:null,rendered:null,level:0,hasChildNodes:!0,childNodes:ct,textValue:""}))}class $788781baa30117fa$export$596e1b2e2cf93690 extends $16805b1b18093c5f$export$de3fdf6493c353d{*[Symbol.iterator](){yield*this.body.childNodes}get size(){return this._size}getKeys(){return this.keyMap.keys()}getKeyBefore(_e){let tt=this.keyMap.get(_e);var rt;return(rt=tt==null?void 0:tt.prevKey)!==null&&rt!==void 0?rt:null}getKeyAfter(_e){let tt=this.keyMap.get(_e);var rt;return(rt=tt==null?void 0:tt.nextKey)!==null&&rt!==void 0?rt:null}getFirstKey(){var _e,tt;return(tt=(_e=$c5a24bc478652b5f$export$fbdeaa6a76694f71(this.body.childNodes))===null||_e===void 0?void 0:_e.key)!==null&&tt!==void 0?tt:null}getLastKey(){var _e,tt;return(tt=(_e=$c5a24bc478652b5f$export$7475b2c64539e4cf(this.body.childNodes))===null||_e===void 0?void 0:_e.key)!==null&&tt!==void 0?tt:null}getItem(_e){var tt;return(tt=this.keyMap.get(_e))!==null&&tt!==void 0?tt:null}at(_e){const tt=[...this.getKeys()];return this.getItem(tt[_e])}getChildren(_e){return _e===this.body.key?this.body.childNodes:super.getChildren(_e)}getTextValue(_e){let tt=this.getItem(_e);if(!tt)return"";if(tt.textValue)return tt.textValue;let rt=this.rowHeaderColumnKeys;if(rt){let nt=[];for(let st of tt.childNodes){let it=this.columns[st.index];if(rt.has(it.key)&&st.textValue&&nt.push(st.textValue),nt.length===rt.size)break}return nt.join(" ")}return""}constructor(_e,tt,rt){let nt=new Set,st=null,it=[];if(rt!=null&&rt.showSelectionCheckboxes){let ut={type:"column",key:$788781baa30117fa$var$ROW_HEADER_COLUMN_KEY,value:null,textValue:"",level:0,index:rt!=null&&rt.showDragButtons?1:0,hasChildNodes:!1,rendered:null,childNodes:[],props:{isSelectionCell:!0}};it.unshift(ut)}if(rt!=null&&rt.showDragButtons){let ut={type:"column",key:$788781baa30117fa$var$ROW_HEADER_COLUMN_KEY_DRAG,value:null,textValue:"",level:0,index:0,hasChildNodes:!1,rendered:null,childNodes:[],props:{isDragButtonCell:!0}};it.unshift(ut)}let at=[],ot=new Map,lt=ut=>{switch(ut.type){case"body":st=ut;break;case"column":ot.set(ut.key,ut),ut.hasChildNodes||(it.push(ut),ut.props.isRowHeader&&nt.add(ut.key));break;case"item":at.push(ut);return}for(let dt of ut.childNodes)lt(dt)};for(let ut of _e)lt(ut);let ct=$788781baa30117fa$export$7c127db850d4e81e(ot,it);if(ct.forEach((ut,dt)=>at.splice(dt,0,ut)),super({columnCount:it.length,items:at,visitNode:ut=>(ut.column=it[ut.index],ut)}),this._size=0,this.columns=it,this.rowHeaderColumnKeys=nt,this.body=st,this.headerRows=ct,this._size=[...st.childNodes].length,this.rowHeaderColumnKeys.size===0){let ut=this.columns.find(dt=>{var ft,ht;return!(!((ft=dt.props)===null||ft===void 0)&&ft.isDragButtonCell)&&!(!((ht=dt.props)===null||ht===void 0)&&ht.isSelectionCell)});ut&&this.rowHeaderColumnKeys.add(ut.key)}}}const $4a0dd036d492cee4$var$OPPOSITE_SORT_DIRECTION={ascending:"descending",descending:"ascending"};function $4a0dd036d492cee4$export$907bcc6c48325fd6(et){let[_e,tt]=reactExports.useState(!1),{selectionMode:rt="none",showSelectionCheckboxes:nt,showDragButtons:st}=et,it=reactExports.useMemo(()=>({showSelectionCheckboxes:nt&&rt!=="none",showDragButtons:st,selectionMode:rt,columns:[]}),[et.children,nt,rt,st]),at=$7613b1592d41b092$export$6cd28814d92fa9c9(et,reactExports.useCallback(ut=>new $788781baa30117fa$export$596e1b2e2cf93690(ut,null,it),[it]),it),{disabledKeys:ot,selectionManager:lt}=$62967d126f3aa823$export$4007ac09ff9c68ed({...et,collection:at,disabledBehavior:et.disabledBehavior||"selection"});var ct;return{collection:at,disabledKeys:ot,selectionManager:lt,showSelectionCheckboxes:et.showSelectionCheckboxes||!1,sortDescriptor:(ct=et.sortDescriptor)!==null&&ct!==void 0?ct:null,isKeyboardNavigationDisabled:at.size===0||_e,setKeyboardNavigationDisabled:tt,sort(ut,dt){var ft,ht;(ht=et.onSortChange)===null||ht===void 0||ht.call(et,{column:ut,direction:dt??(((ft=et.sortDescriptor)===null||ft===void 0?void 0:ft.column)===ut?$4a0dd036d492cee4$var$OPPOSITE_SORT_DIRECTION[et.sortDescriptor.direction]:"ascending")})}}}function $312ae3b56a94a86e$var$TableHeader(et){return null}$312ae3b56a94a86e$var$TableHeader.getCollectionNode=function*(_e,tt){let{children:rt,columns:nt}=_e;if(tt.columns=[],typeof rt=="function"){if(!nt)throw new Error("props.children was a function but props.columns is missing");for(let st of nt)yield{type:"column",value:st,renderer:rt}}else{let st=[];React.Children.forEach(rt,it=>{st.push({type:"column",element:it})}),yield*st}};let $312ae3b56a94a86e$export$f850895b287ef28e=$312ae3b56a94a86e$var$TableHeader;function $4ae5314bf50db1a3$var$TableBody(et){return null}$4ae5314bf50db1a3$var$TableBody.getCollectionNode=function*(_e){let{children:tt,items:rt}=_e;yield{type:"body",hasChildNodes:!0,props:_e,*childNodes(){if(typeof tt=="function"){if(!rt)throw new Error("props.children was a function but props.items is missing");for(let nt of rt)yield{type:"item",value:nt,renderer:tt}}else{let nt=[];React.Children.forEach(tt,st=>{nt.push({type:"item",element:st})}),yield*nt}}}};let $4ae5314bf50db1a3$export$76ccd210b9029917=$4ae5314bf50db1a3$var$TableBody;function $1cd244557c2f97d5$var$Column(et){return null}$1cd244557c2f97d5$var$Column.getCollectionNode=function*(_e,tt){let{title:rt,children:nt,childColumns:st}=_e,it=rt||nt,at=_e.textValue||(typeof it=="string"?it:"")||_e["aria-label"],ot=yield{type:"column",hasChildNodes:!!st||!!rt&&React.Children.count(nt)>0,rendered:it,textValue:at,props:_e,*childNodes(){if(st)for(let ct of st)yield{type:"column",value:ct};else if(rt){let ct=[];React.Children.forEach(nt,ut=>{ct.push({type:"column",element:ut})}),yield*ct}},shouldInvalidate(ct){return lt(ct),!1}},lt=ct=>{for(let ut of ot)ut.hasChildNodes||ct.columns.push(ut)};lt(tt)};let $1cd244557c2f97d5$export$816b5d811295e6bc=$1cd244557c2f97d5$var$Column;function $70d70eb16ea48428$var$Row(et){return null}$70d70eb16ea48428$var$Row.getCollectionNode=function*(_e,tt){let{children:rt,textValue:nt,UNSTABLE_childItems:st}=_e;yield{type:"item",props:_e,textValue:nt,"aria-label":_e["aria-label"],hasChildNodes:!0,*childNodes(){if(tt.showDragButtons&&(yield{type:"cell",key:"header-drag",props:{isDragButtonCell:!0}}),tt.showSelectionCheckboxes&&tt.selectionMode!=="none"&&(yield{type:"cell",key:"header",props:{isSelectionCell:!0}}),typeof rt=="function"){for(let it of tt.columns)yield{type:"cell",element:rt(it.key),key:it.key};if(st)for(let it of st)yield{type:"item",value:it}}else{let it=[],at=[];if(React.Children.forEach(rt,ot=>{if(ot.type===$70d70eb16ea48428$var$Row){if(it.length<tt.columns.length)throw new Error("All of a Row's child Cells must be positioned before any child Rows.");at.push({type:"item",element:ot})}else it.push({type:"cell",element:ot})}),it.length!==tt.columns.length)throw new Error(`Cell count must match column count. Found ${it.length} cells and ${tt.columns.length} columns.`);yield*it,yield*at}},shouldInvalidate(it){return it.columns.length!==tt.columns.length||it.columns.some((at,ot)=>at.key!==tt.columns[ot].key)||it.showSelectionCheckboxes!==tt.showSelectionCheckboxes||it.showDragButtons!==tt.showDragButtons||it.selectionMode!==tt.selectionMode}}};let $70d70eb16ea48428$export$b59bdbef9ce70de2=$70d70eb16ea48428$var$Row;function $941d1d9a6a28982a$var$Cell(et){return null}$941d1d9a6a28982a$var$Cell.getCollectionNode=function*(_e){let{children:tt}=_e,rt=_e.textValue||(typeof tt=="string"?tt:"")||_e["aria-label"]||"";yield{type:"cell",props:_e,rendered:tt,textValue:rt,"aria-label":_e["aria-label"],hasChildNodes:!1}};let $941d1d9a6a28982a$export$f6f0c3fe4ec306ea=$941d1d9a6a28982a$var$Cell;function useTable(et){var _e;const tt=useProviderContext$1(),[rt,nt]=mapPropsVariants$1(et,table.variantKeys),{ref:st,as:it,baseRef:at,children:ot,className:lt,classNames:ct,removeWrapper:ut=!1,disableAnimation:dt=(_e=tt==null?void 0:tt.disableAnimation)!=null?_e:!1,isKeyboardNavigationDisabled:ft=!1,selectionMode:ht="none",topContentPlacement:pt="inside",bottomContentPlacement:gt="inside",selectionBehavior:mt=ht==="none"?null:"toggle",disabledBehavior:bt="selection",showSelectionCheckboxes:vt=ht==="multiple"&&mt!=="replace",BaseComponent:yt="div",checkboxesProps:xt,topContent:Et,bottomContent:wt,onRowAction:$t,onCellAction:Tt,...St}=rt,Pt=it||"table",At=typeof Pt=="string",Rt=useDOMRef$1(st),Ct=useDOMRef$1(at),Dt=$4a0dd036d492cee4$export$907bcc6c48325fd6({...et,children:ot,showSelectionCheckboxes:vt});ft&&!Dt.isKeyboardNavigationDisabled&&Dt.setKeyboardNavigationDisabled(!0);const{collection:Ft}=Dt,{layout:Mt,...Ot}=et,{gridProps:jt}=$6e31608fbba75bab$export$25bceaac3c7e4dc7({...Ot},Dt,Rt),Ut=ht!=="none",_t=ht==="multiple",It=reactExports.useMemo(()=>table({...nt,isSelectable:Ut,isMultiSelectable:_t}),[objectToDeps$1(nt),Ut,_t]),Wt=clsx$2(ct==null?void 0:ct.base,lt),Kt=reactExports.useMemo(()=>{var Xt;return{state:Dt,slots:It,isSelectable:Ut,collection:Ft,classNames:ct,color:et==null?void 0:et.color,disableAnimation:dt,checkboxesProps:xt,isHeaderSticky:(Xt=et==null?void 0:et.isHeaderSticky)!=null?Xt:!1,selectionMode:ht,selectionBehavior:mt,disabledBehavior:bt,showSelectionCheckboxes:vt,onRowAction:$t,onCellAction:Tt}},[It,Dt,Ft,Ut,ct,ht,mt,xt,bt,dt,vt,et==null?void 0:et.color,et==null?void 0:et.isHeaderSticky,$t,Tt]),Bt=reactExports.useCallback(Xt=>({...Xt,ref:Ct,className:It.base({class:clsx$2(Wt,Xt==null?void 0:Xt.className)})}),[Wt,It]),Qt=reactExports.useCallback(Xt=>({...Xt,ref:Ct,className:It.wrapper({class:clsx$2(ct==null?void 0:ct.wrapper,Xt==null?void 0:Xt.className)})}),[ct==null?void 0:ct.wrapper,It]),Nt=reactExports.useCallback(Xt=>({...$3ef42575df84b30b$export$9d1611c77c2fe928(jt,filterDOMProps$1(St,{enabled:At}),Xt),onKeyDownCapture:void 0,ref:Rt,className:It.table({class:clsx$2(ct==null?void 0:ct.table,Xt==null?void 0:Xt.className)})}),[ct==null?void 0:ct.table,At,It,jt,St]);return{BaseComponent:yt,Component:Pt,children:ot,state:Dt,collection:Ft,values:Kt,topContent:Et,bottomContent:wt,removeWrapper:ut,topContentPlacement:pt,bottomContentPlacement:gt,getBaseProps:Bt,getWrapperProps:Qt,getTableProps:Nt}}var TableCell$1=forwardRef$1((et,_e)=>{var tt,rt,nt;const{as:st,className:it,node:at,rowKey:ot,slots:lt,state:ct,classNames:ut,...dt}=et,ft=st||"td",ht=typeof ft=="string",pt=useDOMRef$1(_e),{gridCellProps:gt}=$7713593715703b24$export$49571c903d73624c({node:at},ct,pt),mt=clsx$2(ut==null?void 0:ut.td,it,(tt=at.props)==null?void 0:tt.className),{isFocusVisible:bt,focusProps:vt}=$f7dceffc5ad7768b$export$4e328f61c538687f(),yt=ct.selectionManager.isSelected(ot),xt=reactExports.useMemo(()=>{const wt=typeof at.rendered;return wt!=="object"&&wt!=="function"?jsxRuntimeExports.jsx("span",{children:at.rendered}):at.rendered},[at.rendered]),Et=((rt=at.column)==null?void 0:rt.props)||{};return jsxRuntimeExports.jsx(ft,{ref:pt,"data-focus-visible":dataAttr$1(bt),"data-selected":dataAttr$1(yt),...$3ef42575df84b30b$export$9d1611c77c2fe928(gt,vt,filterDOMProps$1(at.props,{enabled:ht}),dt),className:(nt=lt.td)==null?void 0:nt.call(lt,{align:Et.align,class:mt}),children:xt})});TableCell$1.displayName="NextUI.TableCell";var table_cell_default$1=TableCell$1,TableCheckboxCell=forwardRef$1((et,_e)=>{var tt,rt;const{as:nt,className:st,node:it,rowKey:at,slots:ot,state:lt,color:ct,disableAnimation:ut,checkboxesProps:dt,selectionMode:ft,classNames:ht,...pt}=et,gt=nt||"td",mt=typeof gt=="string",bt=useDOMRef$1(_e),{gridCellProps:vt}=$7713593715703b24$export$49571c903d73624c({node:it},lt,bt),{isFocusVisible:yt,focusProps:xt}=$f7dceffc5ad7768b$export$4e328f61c538687f(),{checkboxProps:Et}=$2a795c53a101c542$export$16ea7f650bd7c1bb({key:(it==null?void 0:it.parentKey)||it.key},lt),wt=clsx$2(ht==null?void 0:ht.td,st,(tt=it.props)==null?void 0:tt.className),$t=ft==="single",{onChange:Tt,...St}=Et,Pt=lt.selectionManager.isSelected(at);return jsxRuntimeExports.jsx(gt,{ref:bt,"data-focus-visible":dataAttr$1(yt),"data-selected":dataAttr$1(Pt),...$3ef42575df84b30b$export$9d1611c77c2fe928(vt,xt,filterDOMProps$1(it.props,{enabled:mt}),pt),className:(rt=ot.td)==null?void 0:rt.call(ot,{class:wt}),children:$t?jsxRuntimeExports.jsx($5c3e21d68f1c4674$export$439d29a4e110a164,{children:Et["aria-label"]}):jsxRuntimeExports.jsx(checkbox_default,{color:ct,disableAnimation:ut,onValueChange:Tt,...$3ef42575df84b30b$export$9d1611c77c2fe928(dt,St)})})});TableCheckboxCell.displayName="NextUI.TableCheckboxCell";var table_checkbox_cell_default=TableCheckboxCell,TableRow$1=forwardRef$1((et,_e)=>{var tt,rt;const{as:nt,className:st,children:it,node:at,slots:ot,state:lt,isSelectable:ct,classNames:ut,...dt}=et,ft=nt||(et!=null&&et.href?"a":"tr"),ht=typeof ft=="string",pt=useDOMRef$1(_e),{rowProps:gt}=$b2db214c022798eb$export$7f2f6ae19e707aa5({node:at},lt,pt),mt=clsx$2(ut==null?void 0:ut.tr,st,(tt=at.props)==null?void 0:tt.className),{isFocusVisible:bt,focusProps:vt}=$f7dceffc5ad7768b$export$4e328f61c538687f(),yt=lt.disabledKeys.has(at.key),xt=lt.selectionManager.isSelected(at.key),{isHovered:Et,hoverProps:wt}=$6179b936705e76d3$export$ae780daf29e6d456({isDisabled:yt}),{isFirst:$t,isLast:Tt,isMiddle:St,isOdd:Pt}=reactExports.useMemo(()=>{const At=at.key===lt.collection.getFirstKey(),Rt=at.key===lt.collection.getLastKey(),Ct=!At&&!Rt,Dt=at!=null&&at.index?(at.index+1)%2===0:!1;return{isFirst:At,isLast:Rt,isMiddle:Ct,isOdd:Dt}},[at,lt.collection]);return jsxRuntimeExports.jsx(ft,{ref:pt,"data-disabled":dataAttr$1(yt),"data-first":dataAttr$1($t),"data-focus-visible":dataAttr$1(bt),"data-hover":dataAttr$1(Et),"data-last":dataAttr$1(Tt),"data-middle":dataAttr$1(St),"data-odd":dataAttr$1(Pt),"data-selected":dataAttr$1(xt),...$3ef42575df84b30b$export$9d1611c77c2fe928(gt,vt,ct?wt:{},filterDOMProps$1(at.props,{enabled:ht}),dt),className:(rt=ot.tr)==null?void 0:rt.call(ot,{class:mt}),children:it})});TableRow$1.displayName="NextUI.TableRow";var table_row_default$1=TableRow$1,TableBody$1=forwardRef$1((et,_e)=>{var tt;const{as:rt,className:nt,slots:st,state:it,collection:at,isSelectable:ot,color:lt,disableAnimation:ct,checkboxesProps:ut,selectionMode:dt,classNames:ft,...ht}=et,pt=rt||"tbody",gt=typeof pt=="string",mt=useDOMRef$1(_e),{rowGroupProps:bt}=$0047e6c294ea075f$export$6fb1613bd7b28198(),vt=clsx$2(ft==null?void 0:ft.tbody,nt),yt=at==null?void 0:at.body.props,xt=(yt==null?void 0:yt.isLoading)||(yt==null?void 0:yt.loadingState)==="loading"||(yt==null?void 0:yt.loadingState)==="loadingMore",Et=reactExports.useMemo(()=>[...at.body.childNodes].map(Tt=>jsxRuntimeExports.jsx(table_row_default$1,{classNames:ft,isSelectable:ot,node:Tt,slots:st,state:it,children:[...Tt.childNodes].map(St=>St.props.isSelectionCell?jsxRuntimeExports.jsx(table_checkbox_cell_default,{checkboxesProps:ut,classNames:ft,color:lt,disableAnimation:ct,node:St,rowKey:Tt.key,selectionMode:dt,slots:st,state:it},St.key):jsxRuntimeExports.jsx(table_cell_default$1,{classNames:ft,node:St,rowKey:Tt.key,slots:st,state:it},St.key))},Tt.key)),[at.body.childNodes,ft,ot,st,it]);let wt,$t;return at.size===0&&yt.emptyContent&&(wt=jsxRuntimeExports.jsx("tr",{role:"row",children:jsxRuntimeExports.jsx("td",{className:st==null?void 0:st.emptyWrapper({class:ft==null?void 0:ft.emptyWrapper}),colSpan:at.columnCount,role:"gridcell",children:!xt&&yt.emptyContent})})),xt&&yt.loadingContent&&($t=jsxRuntimeExports.jsxs("tr",{role:"row",children:[jsxRuntimeExports.jsx("td",{className:st==null?void 0:st.loadingWrapper({class:ft==null?void 0:ft.loadingWrapper}),colSpan:at.columnCount,role:"gridcell",children:yt.loadingContent}),!wt&&at.size===0?jsxRuntimeExports.jsx("td",{className:st==null?void 0:st.emptyWrapper({class:ft==null?void 0:ft.emptyWrapper})}):null]})),jsxRuntimeExports.jsxs(pt,{ref:mt,...$3ef42575df84b30b$export$9d1611c77c2fe928(bt,filterDOMProps$1(yt,{enabled:gt}),ht),className:(tt=st.tbody)==null?void 0:tt.call(st,{class:vt}),"data-empty":dataAttr$1(at.size===0),"data-loading":dataAttr$1(xt),children:[Et,$t,wt]})});TableBody$1.displayName="NextUI.TableBody";var table_body_default$1=TableBody$1,TableColumnHeader=forwardRef$1((et,_e)=>{var tt,rt,nt,st,it;const{as:at,className:ot,state:lt,node:ct,slots:ut,classNames:dt,...ft}=et,ht=at||"th",pt=typeof ht=="string",gt=useDOMRef$1(_e),{columnHeaderProps:mt}=$f329116d8ad0aba0$export$9514819a8c81e960({node:ct},lt,gt),bt=clsx$2(dt==null?void 0:dt.th,ot,(tt=ct.props)==null?void 0:tt.className),{isFocusVisible:vt,focusProps:yt}=$f7dceffc5ad7768b$export$4e328f61c538687f(),{isHovered:xt,hoverProps:Et}=$6179b936705e76d3$export$ae780daf29e6d456({}),{hideHeader:wt,align:$t,...Tt}=ct.props,St=Tt.allowsSorting;return jsxRuntimeExports.jsxs(ht,{ref:gt,colSpan:ct.colspan,"data-focus-visible":dataAttr$1(vt),"data-hover":dataAttr$1(xt),"data-sortable":dataAttr$1(St),...$3ef42575df84b30b$export$9d1611c77c2fe928(mt,yt,filterDOMProps$1(Tt,{enabled:pt}),St?Et:{},ft),className:(rt=ut.th)==null?void 0:rt.call(ut,{align:$t,class:bt}),children:[wt?jsxRuntimeExports.jsx($5c3e21d68f1c4674$export$439d29a4e110a164,{children:ct.rendered}):ct.rendered,St&&jsxRuntimeExports.jsx(ChevronDownIcon,{"aria-hidden":"true",className:(nt=ut.sortIcon)==null?void 0:nt.call(ut,{class:dt==null?void 0:dt.sortIcon}),"data-direction":(st=lt.sortDescriptor)==null?void 0:st.direction,"data-visible":dataAttr$1(((it=lt.sortDescriptor)==null?void 0:it.column)===ct.key),strokeWidth:3})]})});TableColumnHeader.displayName="NextUI.TableColumnHeader";var table_column_header_default=TableColumnHeader,TableHeaderRow=forwardRef$1((et,_e)=>{var tt,rt;const{as:nt,className:st,children:it,node:at,slots:ot,classNames:lt,state:ct,...ut}=et,dt=nt||"tr",ft=typeof dt=="string",ht=useDOMRef$1(_e),{rowProps:pt}=$f917ee10f4c32dab$export$1b95a7d2d517b841({node:at},ct),gt=clsx$2(lt==null?void 0:lt.tr,st,(tt=at.props)==null?void 0:tt.className);return jsxRuntimeExports.jsx(dt,{ref:ht,...$3ef42575df84b30b$export$9d1611c77c2fe928(pt,filterDOMProps$1(at.props,{enabled:ft}),ut),className:(rt=ot.tr)==null?void 0:rt.call(ot,{class:gt}),children:it})});TableHeaderRow.displayName="NextUI.TableHeaderRow";var table_header_row_default=TableHeaderRow,TableRowGroup=forwardRef$1((et,_e)=>{var tt;const{as:rt,className:nt,children:st,slots:it,classNames:at,...ot}=et,lt=rt||"thead",ct=useDOMRef$1(_e),{rowGroupProps:ut}=$0047e6c294ea075f$export$6fb1613bd7b28198(),dt=clsx$2(at==null?void 0:at.thead,nt);return jsxRuntimeExports.jsx(lt,{ref:ct,className:(tt=it.thead)==null?void 0:tt.call(it,{class:dt}),...$3ef42575df84b30b$export$9d1611c77c2fe928(ut,ot),children:st})});TableRowGroup.displayName="NextUI.TableRowGroup";var table_row_group_default=TableRowGroup,spacing={px:"1px",0:"0px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",11:"2.75rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},getMargin=et=>{var _e;return(_e=spacing[et])!=null?_e:et};function useSpacer(et){const[_e,tt]=mapPropsVariants$1(et,spacer.variantKeys),{as:rt,className:nt,x:st=1,y:it=1,...at}=_e,ot=rt||"span",lt=reactExports.useMemo(()=>spacer({...tt,className:nt}),[objectToDeps$1(tt),nt]),ct=getMargin(st),ut=getMargin(it);return{Component:ot,getSpacerProps:(ft={})=>({...ft,...at,"aria-hidden":dataAttr$1(!0),className:clsx$2(lt,ft.className),style:{...ft.style,...at.style,marginLeft:ct,marginTop:ut}})}}var Spacer=forwardRef$1((et,_e)=>{const{Component:tt,getSpacerProps:rt}=useSpacer({...et});return jsxRuntimeExports.jsx(tt,{ref:_e,...rt()})});Spacer.displayName="NextUI.Spacer";var spacer_default=Spacer,Table=forwardRef$1((et,_e)=>{const{BaseComponent:tt,Component:rt,collection:nt,values:st,topContent:it,topContentPlacement:at,bottomContentPlacement:ot,bottomContent:lt,removeWrapper:ct,getBaseProps:ut,getWrapperProps:dt,getTableProps:ft}=useTable({...et,ref:_e}),ht=reactExports.useCallback(({children:pt})=>ct?pt:jsxRuntimeExports.jsx(tt,{...dt(),children:pt}),[ct,dt]);return jsxRuntimeExports.jsxs("div",{...ut(),children:[at==="outside"&&it,jsxRuntimeExports.jsx(ht,{children:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[at==="inside"&&it,jsxRuntimeExports.jsxs(rt,{...ft(),children:[jsxRuntimeExports.jsxs(table_row_group_default,{classNames:st.classNames,slots:st.slots,children:[nt.headerRows.map(pt=>jsxRuntimeExports.jsx(table_header_row_default,{classNames:st.classNames,node:pt,slots:st.slots,state:st.state,children:[...pt.childNodes].map(gt=>{var mt;return(mt=gt==null?void 0:gt.props)!=null&&mt.isSelectionCell?jsxRuntimeExports.jsx(table_select_all_checkbox_default,{checkboxesProps:st.checkboxesProps,classNames:st.classNames,color:st.color,disableAnimation:st.disableAnimation,node:gt,selectionMode:st.selectionMode,slots:st.slots,state:st.state},gt==null?void 0:gt.key):jsxRuntimeExports.jsx(table_column_header_default,{classNames:st.classNames,node:gt,slots:st.slots,state:st.state},gt==null?void 0:gt.key)})},pt==null?void 0:pt.key)),jsxRuntimeExports.jsx(spacer_default,{as:"tr",tabIndex:-1,y:1})]}),jsxRuntimeExports.jsx(table_body_default$1,{checkboxesProps:st.checkboxesProps,classNames:st.classNames,collection:st.collection,color:st.color,disableAnimation:st.disableAnimation,isSelectable:st.isSelectable,selectionMode:st.selectionMode,slots:st.slots,state:st.state})]}),ot==="inside"&&lt]})}),ot==="outside"&&lt]})});Table.displayName="NextUI.Table";var table_default=Table,TableRow=$70d70eb16ea48428$export$b59bdbef9ce70de2,table_row_default=TableRow,TableBody=$4ae5314bf50db1a3$export$76ccd210b9029917,table_body_default=TableBody,TableCell=$941d1d9a6a28982a$export$f6f0c3fe4ec306ea,table_cell_default=TableCell,TableColumn=$1cd244557c2f97d5$export$816b5d811295e6bc,table_column_default=TableColumn,TableHeader=$312ae3b56a94a86e$export$f850895b287ef28e,table_header_default=TableHeader;const $99b62ae3ff97ec45$export$c5f62239608282b6=new WeakMap;function $99b62ae3ff97ec45$export$567fc7097e064344(et,_e,tt){return et?(typeof _e=="string"&&(_e=_e.replace(/\s+/g,"")),`${$99b62ae3ff97ec45$export$c5f62239608282b6.get(et)}-${tt}-${_e}`):""}function $0175d55c2a017ebc$export$fdf4756d5b8ef90a(et,_e,tt){let{key:rt,isDisabled:nt,shouldSelectOnPressUp:st}=et,{selectionManager:it,selectedKey:at}=_e,ot=rt===at,lt=nt||_e.isDisabled||_e.selectionManager.isDisabled(rt),{itemProps:ct,isPressed:ut}=$880e95eb8b93ba9a$export$ecf600387e221c37({selectionManager:it,key:rt,ref:tt,isDisabled:lt,shouldSelectOnPressUp:st,linkBehavior:"selection"}),dt=$99b62ae3ff97ec45$export$567fc7097e064344(_e,rt,"tab"),ft=$99b62ae3ff97ec45$export$567fc7097e064344(_e,rt,"tabpanel"),{tabIndex:ht}=ct,pt=_e.collection.getItem(rt),gt=$65484d02dcb7eb3e$export$457c3d6518dd4c6f(pt==null?void 0:pt.props,{labelable:!0});delete gt.id;let mt=$ea8dcbcb9ea1b556$export$7e924b3091a3bd18(pt==null?void 0:pt.props);return{tabProps:$3ef42575df84b30b$export$9d1611c77c2fe928(gt,mt,ct,{id:dt,"aria-selected":ot,"aria-disabled":lt||void 0,"aria-controls":ot?ft:void 0,tabIndex:lt?void 0:ht,role:"tab"}),isSelected:ot,isDisabled:lt,isPressed:ut}}function $34bce698202e07cb$export$fae0121b5afe572d(et,_e,tt){let rt=$83013635b024ae3d$export$eac1895992b9f3d6(tt)?void 0:0;var nt;const st=$99b62ae3ff97ec45$export$567fc7097e064344(_e,(nt=et.id)!==null&&nt!==void 0?nt:_e==null?void 0:_e.selectedKey,"tabpanel"),it=$313b98861ee5dd6c$export$d6875122194c7b44({...et,id:st,"aria-labelledby":$99b62ae3ff97ec45$export$567fc7097e064344(_e,_e==null?void 0:_e.selectedKey,"tab")});return{tabPanelProps:$3ef42575df84b30b$export$9d1611c77c2fe928(it,{tabIndex:rt,role:"tabpanel","aria-describedby":et["aria-describedby"],"aria-details":et["aria-details"]})}}class $bfc6f2d60b8a4c40$export$15010ca3c1abe90b{getKeyLeftOf(_e){return this.flipDirection?this.getNextKey(_e):this.getPreviousKey(_e)}getKeyRightOf(_e){return this.flipDirection?this.getPreviousKey(_e):this.getNextKey(_e)}isDisabled(_e){var tt,rt;return this.disabledKeys.has(_e)||!!(!((rt=this.collection.getItem(_e))===null||rt===void 0||(tt=rt.props)===null||tt===void 0)&&tt.isDisabled)}getFirstKey(){let _e=this.collection.getFirstKey();return _e!=null&&this.isDisabled(_e)&&(_e=this.getNextKey(_e)),_e}getLastKey(){let _e=this.collection.getLastKey();return _e!=null&&this.isDisabled(_e)&&(_e=this.getPreviousKey(_e)),_e}getKeyAbove(_e){return this.tabDirection?null:this.getPreviousKey(_e)}getKeyBelow(_e){return this.tabDirection?null:this.getNextKey(_e)}getNextKey(_e){do _e=this.collection.getKeyAfter(_e),_e==null&&(_e=this.collection.getFirstKey());while(this.isDisabled(_e));return _e}getPreviousKey(_e){do _e=this.collection.getKeyBefore(_e),_e==null&&(_e=this.collection.getLastKey());while(this.isDisabled(_e));return _e}constructor(_e,tt,rt,nt=new Set){this.collection=_e,this.flipDirection=tt==="rtl"&&rt==="horizontal",this.disabledKeys=nt,this.tabDirection=rt==="horizontal"}}function $58d314389b21fa3f$export$773e389e644c5874(et,_e,tt){let{orientation:rt="horizontal",keyboardActivation:nt="automatic"}=et,{collection:st,selectionManager:it,disabledKeys:at}=_e,{direction:ot}=$18f2051aff69b9bf$export$43bb16f9c6d9e3f7(),lt=reactExports.useMemo(()=>new $bfc6f2d60b8a4c40$export$15010ca3c1abe90b(st,ot,rt,at),[st,at,rt,ot]),{collectionProps:ct}=$ae20dd8cbca75726$export$d6daf82dcd84e87c({ref:tt,selectionManager:it,keyboardDelegate:lt,selectOnFocus:nt==="automatic",disallowEmptySelection:!0,scrollRef:tt,linkBehavior:"selection"}),ut=$bdb11010cef70236$export$f680877a34711e37();$99b62ae3ff97ec45$export$c5f62239608282b6.set(_e,ut);let dt=$313b98861ee5dd6c$export$d6875122194c7b44({...et,id:ut});return{tabListProps:{...$3ef42575df84b30b$export$9d1611c77c2fe928(ct,dt),role:"tablist","aria-orientation":rt,tabIndex:void 0}}}var TabPanel$1=forwardRef$1((et,_e)=>{var tt,rt;const{as:nt,tabKey:st,destroyInactiveTabPanel:it,state:at,className:ot,slots:lt,classNames:ct,...ut}=et,dt=nt||"div",ft=useDOMRef$1(_e),{tabPanelProps:ht}=$34bce698202e07cb$export$fae0121b5afe572d({...et,id:String(st)},at,ft),{focusProps:pt,isFocused:gt,isFocusVisible:mt}=$f7dceffc5ad7768b$export$4e328f61c538687f(),bt=at.selectedItem,vt=at.collection.getItem(st).props.children,yt=clsx$2(ct==null?void 0:ct.panel,ot,(tt=bt==null?void 0:bt.props)==null?void 0:tt.className),xt=st===(bt==null?void 0:bt.key);return!vt||!xt&&it?null:jsxRuntimeExports.jsx(dt,{ref:ft,"data-focus":gt,"data-focus-visible":mt,"data-inert":xt?void 0:"true",inert:getInertValue$1(!xt),...xt&&$3ef42575df84b30b$export$9d1611c77c2fe928(ht,pt,ut),className:(rt=lt.panel)==null?void 0:rt.call(lt,{class:yt}),"data-slot":"panel",children:vt})});TabPanel$1.displayName="NextUI.TabPanel";var tab_panel_default$1=TabPanel$1,Tab$1=forwardRef$1((et,_e)=>{var tt;const{className:rt,as:nt,item:st,state:it,classNames:at,isDisabled:ot,listRef:lt,slots:ct,motionProps:ut,disableAnimation:dt,disableCursorAnimation:ft,shouldSelectOnPressUp:ht,onClick:pt,tabRef:gt,...mt}=et,{key:bt}=st,vt=useDOMRef$1(_e),yt=nt||(et.href?"a":"button"),xt=typeof yt=="string",{tabProps:Et,isSelected:wt,isDisabled:$t,isPressed:Tt}=$0175d55c2a017ebc$export$fdf4756d5b8ef90a({key:bt,isDisabled:ot,shouldSelectOnPressUp:ht},it,vt);et.children==null&&delete Et["aria-controls"];const St=ot||$t,{focusProps:Pt,isFocused:At,isFocusVisible:Rt}=$f7dceffc5ad7768b$export$4e328f61c538687f(),{hoverProps:Ct,isHovered:Dt}=$6179b936705e76d3$export$ae780daf29e6d456({isDisabled:St}),Ft=clsx$2(at==null?void 0:at.tab,rt),[,Mt]=useIsMounted$1({rerender:!0}),Ot=()=>{$ff5963eb1fccf552$export$e08e3b67e392101e(pt,Et.onClick),!(!(vt!=null&&vt.current)||!(lt!=null&&lt.current))&&t$2(vt.current,{scrollMode:"if-needed",behavior:"smooth",block:"end",inline:"end",boundary:lt==null?void 0:lt.current})};return jsxRuntimeExports.jsxs(yt,{ref:mergeRefs$1(vt,gt),"data-disabled":dataAttr$1($t),"data-focus":dataAttr$1(At),"data-focus-visible":dataAttr$1(Rt),"data-hover":dataAttr$1(Dt),"data-hover-unselected":dataAttr$1((Dt||Tt)&&!wt),"data-pressed":dataAttr$1(Tt),"data-selected":dataAttr$1(wt),"data-slot":"tab",...$3ef42575df84b30b$export$9d1611c77c2fe928(Et,St?{}:{...Pt,...Ct},filterDOMProps$1(mt,{enabled:xt,omitPropNames:new Set(["title"])}),{onClick:Ot}),className:(tt=ct.tab)==null?void 0:tt.call(ct,{class:Ft}),title:mt==null?void 0:mt.titleValue,type:yt==="button"?"button":void 0,children:[wt&&!dt&&!ft&&Mt?jsxRuntimeExports.jsx(LazyMotion,{features:domMax,children:jsxRuntimeExports.jsx(m$1.span,{className:ct.cursor({class:at==null?void 0:at.cursor}),"data-slot":"cursor",layoutDependency:!1,layoutId:"cursor",transition:{type:"spring",bounce:.15,duration:.5},...ut})}):null,jsxRuntimeExports.jsx("div",{className:ct.tabContent({class:at==null?void 0:at.tabContent}),"data-slot":"tabContent",children:st.rendered})]})});Tab$1.displayName="NextUI.Tab";var tab_default$1=Tab$1;class $a02d57049d202695$export$d085fb9e920b5ca7{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(_e){let tt=this.keyMap.get(_e);var rt;return tt&&(rt=tt.prevKey)!==null&&rt!==void 0?rt:null}getKeyAfter(_e){let tt=this.keyMap.get(_e);var rt;return tt&&(rt=tt.nextKey)!==null&&rt!==void 0?rt:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(_e){var tt;return(tt=this.keyMap.get(_e))!==null&&tt!==void 0?tt:null}at(_e){const tt=[...this.getKeys()];return this.getItem(tt[_e])}getChildren(_e){let tt=this.keyMap.get(_e);return(tt==null?void 0:tt.childNodes)||[]}constructor(_e){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.iterable=_e;let tt=it=>{if(this.keyMap.set(it.key,it),it.childNodes&&it.type==="section")for(let at of it.childNodes)tt(at)};for(let it of _e)tt(it);let rt=null,nt=0;for(let[it,at]of this.keyMap)rt?(rt.nextKey=it,at.prevKey=rt.key):(this.firstKey=it,at.prevKey=void 0),at.type==="item"&&(at.index=nt++),rt=at,rt.nextKey=void 0;var st;this.lastKey=(st=rt==null?void 0:rt.key)!==null&&st!==void 0?st:null}}function $e72dd72e1c76a225$export$2f645645f7bca764(et){let{filter:_e,layoutDelegate:tt}=et,rt=$7af3f5b51489e0b5$export$253fe78d46329472(et),nt=reactExports.useMemo(()=>et.disabledKeys?new Set(et.disabledKeys):new Set,[et.disabledKeys]),st=reactExports.useCallback(ct=>_e?new $a02d57049d202695$export$d085fb9e920b5ca7(_e(ct)):new $a02d57049d202695$export$d085fb9e920b5ca7(ct),[_e]),it=reactExports.useMemo(()=>({suppressTextValueWarning:et.suppressTextValueWarning}),[et.suppressTextValueWarning]),at=$7613b1592d41b092$export$6cd28814d92fa9c9(et,st,it),ot=reactExports.useMemo(()=>new $d496c0a20b6e58ec$export$6c8a5aaad13c9852(at,rt,{layoutDelegate:tt}),[at,rt,tt]);const lt=reactExports.useRef(null);return reactExports.useEffect(()=>{if(rt.focusedKey!=null&&!at.getItem(rt.focusedKey)&&lt.current){const mt=lt.current.getItem(rt.focusedKey),bt=[...lt.current.getKeys()].map($t=>{const Tt=lt.current.getItem($t);return(Tt==null?void 0:Tt.type)==="item"?Tt:null}).filter($t=>$t!==null),vt=[...at.getKeys()].map($t=>{const Tt=at.getItem($t);return(Tt==null?void 0:Tt.type)==="item"?Tt:null}).filter($t=>$t!==null);var ct,ut;const yt=((ct=bt==null?void 0:bt.length)!==null&&ct!==void 0?ct:0)-((ut=vt==null?void 0:vt.length)!==null&&ut!==void 0?ut:0);var dt,ft,ht;let xt=Math.min(yt>1?Math.max(((dt=mt==null?void 0:mt.index)!==null&&dt!==void 0?dt:0)-yt+1,0):(ft=mt==null?void 0:mt.index)!==null&&ft!==void 0?ft:0,((ht=vt==null?void 0:vt.length)!==null&&ht!==void 0?ht:0)-1),Et=null,wt=!1;for(;xt>=0;){if(!ot.isDisabled(vt[xt].key)){Et=vt[xt];break}if(xt<vt.length-1&&!wt)xt++;else{wt=!0;var pt,gt;xt>((pt=mt==null?void 0:mt.index)!==null&&pt!==void 0?pt:0)&&(xt=(gt=mt==null?void 0:mt.index)!==null&&gt!==void 0?gt:0),xt--}}rt.setFocusedKey(Et?Et.key:null)}lt.current=at},[at,ot,rt,rt.focusedKey]),{collection:at,disabledKeys:nt,selectionManager:ot}}function $a0d645289fe9b86b$export$e7f05e985daf4b5f(et){var _e;let[tt,rt]=$458b0a5536c1a7cf$export$40bfa8c7b0832715(et.selectedKey,(_e=et.defaultSelectedKey)!==null&&_e!==void 0?_e:null,et.onSelectionChange),nt=reactExports.useMemo(()=>tt!=null?[tt]:[],[tt]),{collection:st,disabledKeys:it,selectionManager:at}=$e72dd72e1c76a225$export$2f645645f7bca764({...et,selectionMode:"single",disallowEmptySelection:!0,allowDuplicateSelectionEvents:!0,selectedKeys:nt,onSelectionChange:lt=>{if(lt==="all")return;var ct;let ut=(ct=lt.values().next().value)!==null&&ct!==void 0?ct:null;ut===tt&&et.onSelectionChange&&et.onSelectionChange(ut),rt(ut)}}),ot=tt!=null?st.getItem(tt):null;return{collection:st,disabledKeys:it,selectionManager:at,selectedKey:tt,setSelectedKey:rt,selectedItem:ot}}function $76f919a04c5a7d14$export$4ba071daf4e486(et){var _e,tt;let rt=$a0d645289fe9b86b$export$e7f05e985daf4b5f({...et,suppressTextValueWarning:!0,defaultSelectedKey:(tt=(_e=et.defaultSelectedKey)!==null&&_e!==void 0?_e:$76f919a04c5a7d14$var$findDefaultSelectedKey(et.collection,et.disabledKeys?new Set(et.disabledKeys):new Set))!==null&&tt!==void 0?tt:void 0}),{selectionManager:nt,collection:st,selectedKey:it}=rt,at=reactExports.useRef(it);return reactExports.useEffect(()=>{let ot=it;(nt.isEmpty||ot==null||!st.getItem(ot))&&(ot=$76f919a04c5a7d14$var$findDefaultSelectedKey(st,rt.disabledKeys),ot!=null&&nt.setSelectedKeys([ot])),(ot!=null&&nt.focusedKey==null||!nt.isFocused&&ot!==at.current)&&nt.setFocusedKey(ot),at.current=ot}),{...rt,isDisabled:et.isDisabled||!1}}function $76f919a04c5a7d14$var$findDefaultSelectedKey(et,_e){let tt=null;if(et){var rt,nt,st,it;for(tt=et.getFirstKey();tt!=null&&(_e.has(tt)||!((nt=et.getItem(tt))===null||nt===void 0||(rt=nt.props)===null||rt===void 0)&&rt.isDisabled)&&tt!==et.getLastKey();)tt=et.getKeyAfter(tt);tt!=null&&(_e.has(tt)||!((it=et.getItem(tt))===null||it===void 0||(st=it.props)===null||st===void 0)&&st.isDisabled)&&tt===et.getLastKey()&&(tt=et.getFirstKey())}return tt}function useTabs$1(et){var _e,tt,rt;const nt=useProviderContext$1(),[st,it]=mapPropsVariants$1(et,tabs$1.variantKeys),{ref:at,as:ot,className:lt,classNames:ct,children:ut,disableCursorAnimation:dt,motionProps:ft,isVertical:ht=!1,shouldSelectOnPressUp:pt=!0,destroyInactiveTabPanel:gt=!0,...mt}=st,bt=ot||"div",vt=typeof bt=="string",yt=useDOMRef$1(at),xt=(tt=(_e=et==null?void 0:et.disableAnimation)!=null?_e:nt==null?void 0:nt.disableAnimation)!=null?tt:!1,Et=$76f919a04c5a7d14$export$4ba071daf4e486({children:ut,...mt}),{tabListProps:wt}=$58d314389b21fa3f$export$773e389e644c5874(mt,Et,yt),$t=reactExports.useMemo(()=>tabs$1({...it,className:lt,disableAnimation:xt,...ht?{placement:"start"}:{}}),[objectToDeps$1(it),lt,xt,ht]),Tt=clsx$2(ct==null?void 0:ct.base,lt),St=reactExports.useMemo(()=>({state:Et,slots:$t,classNames:ct,motionProps:ft,disableAnimation:xt,listRef:yt,shouldSelectOnPressUp:pt,disableCursorAnimation:dt,isDisabled:et==null?void 0:et.isDisabled}),[Et,$t,yt,ft,xt,dt,pt,et==null?void 0:et.isDisabled,ct]),Pt=reactExports.useCallback(Dt=>({"data-slot":"base",className:$t.base({class:clsx$2(Tt,Dt==null?void 0:Dt.className)}),...$3ef42575df84b30b$export$9d1611c77c2fe928(filterDOMProps$1(mt,{enabled:vt}),Dt)}),[Tt,mt,$t]),At=(rt=it.placement)!=null?rt:ht?"start":"top",Rt=reactExports.useCallback(Dt=>({"data-slot":"tabWrapper",className:$t.wrapper({class:clsx$2(ct==null?void 0:ct.wrapper,Dt==null?void 0:Dt.className)}),"data-placement":At,"data-vertical":ht||At==="start"||At==="end"?"vertical":"horizontal"}),[ct,$t,At,ht]),Ct=reactExports.useCallback(Dt=>({ref:yt,"data-slot":"tabList",className:$t.tabList({class:clsx$2(ct==null?void 0:ct.tabList,Dt==null?void 0:Dt.className)}),...$3ef42575df84b30b$export$9d1611c77c2fe928(wt,Dt)}),[yt,wt,ct,$t]);return{Component:bt,domRef:yt,state:Et,values:St,destroyInactiveTabPanel:gt,getBaseProps:Pt,getTabListProps:Ct,getWrapperProps:Rt}}var Tabs$1=forwardRef$1(function(_e,tt){const{Component:rt,values:nt,state:st,destroyInactiveTabPanel:it,getBaseProps:at,getTabListProps:ot,getWrapperProps:lt}=useTabs$1({..._e,ref:tt}),ct=reactExports.useId(),ut=!_e.disableAnimation&&!_e.disableCursorAnimation,dt={state:st,listRef:nt.listRef,slots:nt.slots,classNames:nt.classNames,isDisabled:nt.isDisabled,motionProps:nt.motionProps,disableAnimation:nt.disableAnimation,shouldSelectOnPressUp:nt.shouldSelectOnPressUp,disableCursorAnimation:nt.disableCursorAnimation},ft=[...st.collection].map(pt=>jsxRuntimeExports.jsx(tab_default$1,{item:pt,...dt,...pt.props},pt.key)),ht=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{...at(),children:jsxRuntimeExports.jsx(rt,{...ot(),children:ut?jsxRuntimeExports.jsx(LayoutGroup,{id:ct,children:ft}):ft})}),[...st.collection].map(pt=>jsxRuntimeExports.jsx(tab_panel_default$1,{classNames:nt.classNames,destroyInactiveTabPanel:it,slots:nt.slots,state:nt.state,tabKey:pt.key},pt.key))]});return"placement"in _e||"isVertical"in _e?jsxRuntimeExports.jsx("div",{...lt(),children:ht}):ht}),tabs_default$1=Tabs$1,TabItemBase$1=$c1d7fb2ec91bae71$export$6d08773d2e66f8f2,tab_item_base_default$1=TabItemBase$1;function useDataScrollOverflow(et={}){const{domRef:_e,isEnabled:tt=!0,overflowCheck:rt="vertical",visibility:nt="auto",offset:st=0,onVisibilityChange:it,updateDeps:at=[]}=et,ot=reactExports.useRef(nt);reactExports.useEffect(()=>{const lt=_e==null?void 0:_e.current;if(!lt||!tt)return;const ct=(ft,ht,pt,gt,mt)=>{if(nt==="auto"){const bt=`${gt}${capitalize(mt)}Scroll`;ht&&pt?(lt.dataset[bt]="true",lt.removeAttribute(`data-${gt}-scroll`),lt.removeAttribute(`data-${mt}-scroll`)):(lt.dataset[`${gt}Scroll`]=ht.toString(),lt.dataset[`${mt}Scroll`]=pt.toString(),lt.removeAttribute(`data-${gt}-${mt}-scroll`))}else{const bt=ht&&pt?"both":ht?gt:pt?mt:"none";bt!==ot.current&&(it==null||it(bt),ot.current=bt)}},ut=()=>{const ft=[{type:"vertical",prefix:"top",suffix:"bottom"},{type:"horizontal",prefix:"left",suffix:"right"}];for(const{type:ht,prefix:pt,suffix:gt}of ft)if(rt===ht||rt==="both"){const mt=ht==="vertical"?lt.scrollTop>st:lt.scrollLeft>st,bt=ht==="vertical"?lt.scrollTop+lt.clientHeight+st<lt.scrollHeight:lt.scrollLeft+lt.clientWidth+st<lt.scrollWidth;ct(ht,mt,bt,pt,gt)}},dt=()=>{["top","bottom","top-bottom","left","right","left-right"].forEach(ft=>{lt.removeAttribute(`data-${ft}-scroll`)})};return ut(),lt.addEventListener("scroll",ut),nt!=="auto"&&(dt(),nt==="both"?(lt.dataset.topBottomScroll=String(rt==="vertical"),lt.dataset.leftRightScroll=String(rt==="horizontal")):(lt.dataset.topBottomScroll="false",lt.dataset.leftRightScroll="false",["top","bottom","left","right"].forEach(ft=>{lt.dataset[`${ft}Scroll`]=String(nt===ft)}))),()=>{lt.removeEventListener("scroll",ut),dt()}},[...at,tt,nt,rt,it,_e])}function useScrollShadow(et){var _e;const[tt,rt]=mapPropsVariants$1(et,scrollShadow.variantKeys),{ref:nt,as:st,children:it,className:at,style:ot,size:lt=40,offset:ct=0,visibility:ut="auto",isEnabled:dt=!0,onVisibilityChange:ft,...ht}=tt,pt=st||"div",gt=useDOMRef$1(nt);useDataScrollOverflow({domRef:gt,offset:ct,visibility:ut,isEnabled:dt,onVisibilityChange:ft,updateDeps:[it],overflowCheck:(_e=et.orientation)!=null?_e:"vertical"});const mt=reactExports.useMemo(()=>scrollShadow({...rt,className:at}),[objectToDeps$1(rt),at]);return{Component:pt,styles:mt,domRef:gt,children:it,getBaseProps:(vt={})=>{var yt;return{ref:gt,className:mt,"data-orientation":(yt=et.orientation)!=null?yt:"vertical",style:{"--scroll-shadow-size":`${lt}px`,...ot,...vt.style},...ht,...vt}}}}var ScrollShadow=forwardRef$1((et,_e)=>{const{Component:tt,children:rt,getBaseProps:nt}=useScrollShadow({...et,ref:_e});return jsxRuntimeExports.jsx(tt,{...nt(),children:rt})});ScrollShadow.displayName="NextUI.ScrollShadow";var scroll_shadow_default=ScrollShadow;function useMultiSelectListState(et){const{collection:_e,disabledKeys:tt,selectionManager:rt,selectionManager:{setSelectedKeys:nt,selectedKeys:st,selectionMode:it}}=$e72dd72e1c76a225$export$2f645645f7bca764(et),at=reactExports.useMemo(()=>!et.isLoading&&st.size!==0?Array.from(st).filter(Boolean).filter(lt=>!_e.getItem(lt)):[],[st,_e]),ot=st.size!==0?Array.from(st).map(lt=>_e.getItem(lt)).filter(Boolean):null;return at.length&&console.warn(`Select: Keys "${at.join(", ")}" passed to "selectedKeys" are not present in the collection.`),{collection:_e,disabledKeys:tt,selectionManager:rt,selectionMode:it,selectedKeys:st,setSelectedKeys:nt.bind(rt),selectedItems:ot}}function useMultiSelectState({validate:et,validationBehavior:_e,...tt}){const[rt,nt]=reactExports.useState(!1),[st,it]=reactExports.useState(null),at=$a28c903ee9ad8dc5$export$79fefeb1c2091ac3(tt),ot=useMultiSelectListState({...tt,onSelectionChange:ut=>{tt.onSelectionChange!=null&&(ut==="all"?tt.onSelectionChange(new Set(ot.collection.getKeys())):tt.onSelectionChange(ut)),tt.selectionMode==="single"&&at.close()}}),lt=$e5be200c675c3b3a$export$fc1a364ae1f3ff10({...tt,validationBehavior:_e,validate:ut=>{if(!et)return;const dt=Array.from(ut);return et(tt.selectionMode==="single"?dt[0]:dt)},value:ot.selectedKeys}),ct=ot.collection.size===0&&tt.hideEmptyContent;return{...lt,...ot,...at,focusStrategy:st,close(){at.close()},open(ut=null){ct||(it(ut),at.open())},toggle(ut=null){ct||(it(ut),at.toggle())},isFocused:rt,setFocused:nt}}function useMultiSelect(et,_e,tt){const{disallowEmptySelection:rt,isDisabled:nt}=et,st=$325a3faab7a68acd$export$a16aca283550c30d({usage:"search",sensitivity:"base"}),it=reactExports.useMemo(()=>new $2a25aae57d74318e$export$a05409b8bb224a5a(_e.collection,_e.disabledKeys,null,st),[_e.collection,_e.disabledKeys,st]),{menuTriggerProps:at,menuProps:ot}=$168583247155ddda$export$dc9c12ed27dd1b49({isDisabled:nt,type:"listbox"},_e,tt),lt=xt=>{if(_e.selectionMode==="single")switch(xt.key){case"ArrowLeft":{xt.preventDefault();const Et=_e.selectedKeys.size>0?it.getKeyAbove(_e.selectedKeys.values().next().value):it.getFirstKey();Et&&_e.setSelectedKeys([Et]);break}case"ArrowRight":{xt.preventDefault();const Et=_e.selectedKeys.size>0?it.getKeyBelow(_e.selectedKeys.values().next().value):it.getFirstKey();Et&&_e.setSelectedKeys([Et]);break}}},{typeSelectProps:ct}=$fb3050f43d946246$export$e32c88dfddc6e1d8({keyboardDelegate:it,selectionManager:_e.selectionManager,onTypeSelect(xt){_e.setSelectedKeys([xt])}}),{isInvalid:ut,validationErrors:dt,validationDetails:ft}=_e.displayValidation,{labelProps:ht,fieldProps:pt,descriptionProps:gt,errorMessageProps:mt}=$2baaea4c71418dea$export$294aa081a6c6f55d({...et,labelElementType:"span",isInvalid:ut,errorMessage:et.errorMessage||dt});ct.onKeyDown=ct.onKeyDownCapture,delete ct.onKeyDownCapture;const bt=$65484d02dcb7eb3e$export$457c3d6518dd4c6f(et,{labelable:!0}),vt=$3ef42575df84b30b$export$9d1611c77c2fe928(ct,at,pt),yt=$bdb11010cef70236$export$f680877a34711e37();return{labelProps:{...ht,onClick:()=>{var xt;et.isDisabled||((xt=tt.current)==null||xt.focus(),$507fabe10e71c6fb$export$8397ddfc504fdb9a("keyboard"))}},triggerProps:$3ef42575df84b30b$export$9d1611c77c2fe928(bt,{...vt,onKeyDown:$ff5963eb1fccf552$export$e08e3b67e392101e(vt.onKeyDown,lt,et.onKeyDown),onKeyUp:et.onKeyUp,"aria-labelledby":[yt,bt["aria-label"]!==void 0?bt["aria-labelledby"]!==void 0?bt["aria-labelledby"]:vt.id:vt["aria-labelledby"]].join(" "),onFocus(xt){_e.isFocused||(et.onFocus&&et.onFocus(xt),_e.setFocused(!0))},onBlur(xt){_e.isOpen||(et.onBlur&&et.onBlur(xt),_e.setFocused(!1))}}),valueProps:{id:yt},menuProps:{...ot,disallowEmptySelection:rt,autoFocus:_e.focusStrategy||!0,shouldSelectOnPressUp:!0,shouldFocusOnHover:!0,onBlur:xt=>{xt.currentTarget.contains(xt.relatedTarget)||(et.onBlur&&et.onBlur(xt),_e.setFocused(!1))},onFocus:ot==null?void 0:ot.onFocus,"aria-labelledby":[pt["aria-labelledby"],vt["aria-label"]&&!pt["aria-labelledby"]?vt.id:null].filter(Boolean).join(" ")},descriptionProps:gt,errorMessageProps:mt,isInvalid:ut,validationErrors:dt,validationDetails:ft}}var selectData=new WeakMap;function useSelect(et){var _e,tt,rt,nt,st,it;const at=useProviderContext$1(),{validationBehavior:ot}=useSlottedContext(FormContext)||{},[lt,ct]=mapPropsVariants$1(et,select.variantKeys),ut=(tt=(_e=et.disableAnimation)!=null?_e:at==null?void 0:at.disableAnimation)!=null?tt:!1,{ref:dt,as:ft,label:ht,name:pt,isLoading:gt,selectorIcon:mt,isOpen:bt,defaultOpen:vt,onOpenChange:yt,startContent:xt,endContent:Et,description:wt,renderValue:$t,onSelectionChange:Tt,placeholder:St,isVirtualized:Pt,itemHeight:At=32,maxListboxHeight:Rt=256,children:Ct,disallowEmptySelection:Dt=!1,selectionMode:Ft="single",spinnerRef:Mt,scrollRef:Ot,popoverProps:jt={},scrollShadowProps:Ut={},listboxProps:_t={},spinnerProps:It={},validationState:Wt,onChange:Kt,onClose:Bt,className:Qt,classNames:Nt,validationBehavior:Xt=(rt=ot??(at==null?void 0:at.validationBehavior))!=null?rt:"native",hideEmptyContent:Zt=!1,...Yt}=lt,rr=useDOMRef$1(Ot),ar={popoverProps:$3ef42575df84b30b$export$9d1611c77c2fe928({placement:"bottom",triggerScaleOnOpen:!1,offset:5,disableAnimation:ut},jt),scrollShadowProps:$3ef42575df84b30b$export$9d1611c77c2fe928({ref:rr,isEnabled:(nt=et.showScrollIndicators)!=null?nt:!0,hideScrollBar:!0,offset:15},Ut),listboxProps:$3ef42575df84b30b$export$9d1611c77c2fe928({disableAnimation:ut},_t)},sr=ft||"button",kt=typeof sr=="string",er=useDOMRef$1(dt),Gt=reactExports.useRef(null),zt=reactExports.useRef(null),Vt=reactExports.useRef(null);let Ht=useMultiSelectState({...lt,isOpen:bt,selectionMode:Ft,disallowEmptySelection:Dt,validationBehavior:Xt,children:Ct,isRequired:et.isRequired,isDisabled:et.isDisabled,isInvalid:et.isInvalid,defaultOpen:vt,hideEmptyContent:Zt,onOpenChange:gr=>{yt==null||yt(gr),gr||Bt==null||Bt()},onSelectionChange:gr=>{Tt==null||Tt(gr),Kt&&typeof Kt=="function"&&Kt({target:{...er.current&&{...er.current,name:er.current.name},value:Array.from(gr).join(",")}}),Ht.commitValidation()}});Ht={...Ht,...et.isDisabled&&{disabledKeys:new Set([...Ht.collection.getKeys()])}},useSafeLayoutEffect(()=>{var gr;(gr=er.current)!=null&&gr.value&&Ht.setSelectedKeys(new Set([...Ht.selectedKeys,er.current.value]))},[er.current]);const{labelProps:lr,triggerProps:dr,valueProps:Jt,menuProps:nr,descriptionProps:fr,errorMessageProps:Lt,isInvalid:qt,validationErrors:tr,validationDetails:ir}=useMultiSelect({...lt,disallowEmptySelection:Dt,isDisabled:et.isDisabled},Ht,Gt),or=et.isInvalid||Wt==="invalid"||qt,{isPressed:ur,buttonProps:hr}=useAriaButton$1(dr,Gt),{focusProps:vr,isFocused:pr,isFocusVisible:br}=$f7dceffc5ad7768b$export$4e328f61c538687f(),{isHovered:xr,hoverProps:Tr}=$6179b936705e76d3$export$ae780daf29e6d456({isDisabled:et.isDisabled}),Er=reactExports.useMemo(()=>{var gr;return(!et.labelPlacement||et.labelPlacement==="inside")&&!ht?"outside":(gr=et.labelPlacement)!=null?gr:"inside"},[et.labelPlacement,ht]),kr=!!St,Mr=Er==="outside-left"||Er==="outside"&&(!(kr||wt)||!!et.isMultiline),jr=Er==="inside",Ir=Er==="outside-left",Fr=Ht.isOpen||kr||!!((st=Ht.selectedItems)!=null&&st.length)||!!xt||!!Et||!!et.isMultiline,Hr=!!((it=Ht.selectedItems)!=null&&it.length),Nr=!!ht,cr=clsx$2(Nt==null?void 0:Nt.base,Qt),mr=reactExports.useMemo(()=>select({...ct,isInvalid:or,labelPlacement:Er,disableAnimation:ut,className:Qt}),[objectToDeps$1(ct),or,Er,ut,Qt]);reactExports.useEffect(()=>{if(Ht.isOpen&&Vt.current&&zt.current){let gr=zt.current.querySelector("[aria-selected=true] [data-label=true]"),zr=rr.current;if(gr&&zr&&gr.parentElement){let Xr=(zr==null?void 0:zr.getBoundingClientRect()).height;zr.scrollTop=gr.parentElement.offsetTop-Xr/2+gr.parentElement.clientHeight/2}}},[Ht.isOpen,ut]);const Sr=typeof lt.errorMessage=="function"?lt.errorMessage({isInvalid:or,validationErrors:tr,validationDetails:ir}):lt.errorMessage||(tr==null?void 0:tr.join(" ")),Lr=!!wt||!!Sr;reactExports.useEffect(()=>{if(Ht.isOpen&&Vt.current&&Gt.current){let gr=Gt.current.getBoundingClientRect(),zr=Vt.current;zr.style.width=gr.width+"px"}},[Ht.isOpen]);const _r=reactExports.useCallback((gr={})=>({"data-slot":"base","data-filled":dataAttr$1(Fr),"data-has-value":dataAttr$1(Hr),"data-has-label":dataAttr$1(Nr),"data-has-helper":dataAttr$1(Lr),"data-invalid":dataAttr$1(or),className:mr.base({class:clsx$2(cr,gr.className)}),...gr}),[mr,Lr,Hr,Nr,Fr,cr]),Cr=reactExports.useCallback((gr={})=>({ref:Gt,"data-slot":"trigger","data-open":dataAttr$1(Ht.isOpen),"data-disabled":dataAttr$1(et==null?void 0:et.isDisabled),"data-focus":dataAttr$1(pr),"data-pressed":dataAttr$1(ur),"data-focus-visible":dataAttr$1(br),"data-hover":dataAttr$1(xr),className:mr.trigger({class:Nt==null?void 0:Nt.trigger}),...$3ef42575df84b30b$export$9d1611c77c2fe928(hr,vr,Tr,filterDOMProps$1(Yt,{enabled:kt}),filterDOMProps$1(gr))}),[mr,Gt,Ht.isOpen,Nt==null?void 0:Nt.trigger,et==null?void 0:et.isDisabled,pr,ur,br,xr,hr,vr,Tr,Yt,kt]),wr=reactExports.useCallback((gr={})=>({state:Ht,triggerRef:Gt,selectRef:er,selectionMode:Ft,label:et==null?void 0:et.label,name:et==null?void 0:et.name,isRequired:et==null?void 0:et.isRequired,autoComplete:et==null?void 0:et.autoComplete,isDisabled:et==null?void 0:et.isDisabled,onChange:Kt,...gr}),[Ht,Ft,et==null?void 0:et.label,et==null?void 0:et.autoComplete,et==null?void 0:et.name,et==null?void 0:et.isDisabled,Gt]),Ar=reactExports.useCallback((gr={})=>({"data-slot":"label",className:mr.label({class:clsx$2(Nt==null?void 0:Nt.label,gr.className)}),...lr,...gr}),[mr,Nt==null?void 0:Nt.label,lr]),Or=reactExports.useCallback((gr={})=>({"data-slot":"value",className:mr.value({class:clsx$2(Nt==null?void 0:Nt.value,gr.className)}),...Jt,...gr}),[mr,Nt==null?void 0:Nt.value,Jt]),Ur=reactExports.useCallback((gr={})=>({"data-slot":"listboxWrapper",className:mr.listboxWrapper({class:clsx$2(Nt==null?void 0:Nt.listboxWrapper,gr==null?void 0:gr.className)}),style:{maxHeight:Rt??256,...gr.style},...$3ef42575df84b30b$export$9d1611c77c2fe928(ar.scrollShadowProps,gr)}),[mr.listboxWrapper,Nt==null?void 0:Nt.listboxWrapper,ar.scrollShadowProps,Rt]),$r=(gr={})=>{const zr=Pt??Ht.collection.size>50;return{state:Ht,ref:zt,isVirtualized:zr,virtualization:zr?{maxListboxHeight:Rt,itemHeight:At}:void 0,"data-slot":"listbox",className:mr.listbox({class:clsx$2(Nt==null?void 0:Nt.listbox,gr==null?void 0:gr.className)}),...$3ef42575df84b30b$export$9d1611c77c2fe928(ar.listboxProps,gr,nr)}},Rr=reactExports.useCallback((gr={})=>{var zr,tn;const Xr=$3ef42575df84b30b$export$9d1611c77c2fe928(ar.popoverProps,gr);return{state:Ht,triggerRef:Gt,ref:Vt,"data-slot":"popover",scrollRef:zt,triggerType:"listbox",classNames:{content:mr.popoverContent({class:clsx$2(Nt==null?void 0:Nt.popoverContent,gr.className)})},...Xr,offset:Ht.selectedItems&&Ht.selectedItems.length>0?Ht.selectedItems.length*1e-8+(((zr=ar.popoverProps)==null?void 0:zr.offset)||0):(tn=ar.popoverProps)==null?void 0:tn.offset,shouldCloseOnInteractOutside:Xr!=null&&Xr.shouldCloseOnInteractOutside?Xr.shouldCloseOnInteractOutside:bn=>ariaShouldCloseOnInteractOutside(bn,er,Ht)}},[mr,Nt==null?void 0:Nt.popoverContent,ar.popoverProps,Gt,Ht,Ht.selectedItems]),Dr=reactExports.useCallback(()=>({"data-slot":"selectorIcon","aria-hidden":dataAttr$1(!0),"data-open":dataAttr$1(Ht.isOpen),className:mr.selectorIcon({class:Nt==null?void 0:Nt.selectorIcon})}),[mr,Nt==null?void 0:Nt.selectorIcon,Ht.isOpen]),Br=reactExports.useCallback((gr={})=>({...gr,"data-slot":"innerWrapper",className:mr.innerWrapper({class:clsx$2(Nt==null?void 0:Nt.innerWrapper,gr==null?void 0:gr.className)})}),[mr,Nt==null?void 0:Nt.innerWrapper]),Vr=reactExports.useCallback((gr={})=>({...gr,"data-slot":"helperWrapper",className:mr.helperWrapper({class:clsx$2(Nt==null?void 0:Nt.helperWrapper,gr==null?void 0:gr.className)})}),[mr,Nt==null?void 0:Nt.helperWrapper]),Kr=reactExports.useCallback((gr={})=>({...gr,...fr,"data-slot":"description",className:mr.description({class:clsx$2(Nt==null?void 0:Nt.description,gr==null?void 0:gr.className)})}),[mr,Nt==null?void 0:Nt.description]),cn=reactExports.useCallback((gr={})=>({...gr,"data-slot":"mainWrapper",className:mr.mainWrapper({class:clsx$2(Nt==null?void 0:Nt.mainWrapper,gr==null?void 0:gr.className)})}),[mr,Nt==null?void 0:Nt.mainWrapper]),an=reactExports.useCallback((gr={})=>({...gr,...Lt,"data-slot":"error-message",className:mr.errorMessage({class:clsx$2(Nt==null?void 0:Nt.errorMessage,gr==null?void 0:gr.className)})}),[mr,Lt,Nt==null?void 0:Nt.errorMessage]),wn=reactExports.useCallback((gr={})=>({"aria-hidden":dataAttr$1(!0),"data-slot":"spinner",color:"current",size:"sm",...It,...gr,ref:Mt,className:mr.spinner({class:clsx$2(Nt==null?void 0:Nt.spinner,gr==null?void 0:gr.className)})}),[mr,Mt,It,Nt==null?void 0:Nt.spinner]);return selectData.set(Ht,{isDisabled:et==null?void 0:et.isDisabled,isRequired:et==null?void 0:et.isRequired,name:et==null?void 0:et.name,isInvalid:or,validationBehavior:Xt}),{Component:sr,domRef:er,state:Ht,label:ht,name:pt,triggerRef:Gt,isLoading:gt,placeholder:St,startContent:xt,endContent:Et,description:wt,selectorIcon:mt,hasHelper:Lr,labelPlacement:Er,hasPlaceholder:kr,renderValue:$t,selectionMode:Ft,disableAnimation:ut,isOutsideLeft:Ir,shouldLabelBeOutside:Mr,shouldLabelBeInside:jr,isInvalid:or,errorMessage:Sr,getBaseProps:_r,getTriggerProps:Cr,getLabelProps:Ar,getValueProps:Or,getListboxProps:$r,getPopoverProps:Rr,getSpinnerProps:wn,getMainWrapperProps:cn,getListboxWrapperProps:Ur,getHiddenSelectProps:wr,getInnerWrapperProps:Br,getHelperWrapperProps:Vr,getDescriptionProps:Kr,getErrorMessageProps:an,getSelectorIconProps:Dr}}function useHiddenSelect(et,_e,tt){var rt;let nt=selectData.get(_e)||{},{autoComplete:st,name:it=nt.name,isDisabled:at=nt.isDisabled,selectionMode:ot,onChange:lt}=et,{validationBehavior:ct,isRequired:ut,isInvalid:dt}=nt,{visuallyHiddenProps:ft}=$5c3e21d68f1c4674$export$a966af930f325cab();return $99facab73266f662$export$5add1d006293d136(et.selectRef,_e.selectedKeys,_e.setSelectedKeys),$e93e671b31057976$export$b8473d3665f3a75a({validationBehavior:ct,focus:()=>{var ht;return(ht=tt.current)==null?void 0:ht.focus()}},_e,et.selectRef),{containerProps:{...ft,"aria-hidden":!0,"data-a11y-ignore":"aria-hidden-focus"},inputProps:{style:{display:"none"}},selectProps:{autoComplete:st,disabled:at,"aria-invalid":dt||void 0,"aria-required":ut&&ct==="aria"||void 0,required:ut&&ct==="native",name:it,tabIndex:-1,value:ot==="multiple"?[..._e.selectedKeys].map(ht=>String(ht)):(rt=[..._e.selectedKeys][0])!=null?rt:"",multiple:ot==="multiple",onChange:ht=>{_e.setSelectedKeys(ht.target.value),lt==null||lt(ht)}}}}function HiddenSelect(et){var _e;let{state:tt,triggerRef:rt,selectRef:nt,label:st,name:it,isDisabled:at}=et,{containerProps:ot,selectProps:lt}=useHiddenSelect({...et,selectRef:nt},tt,rt);return tt.collection.size<=300?jsxRuntimeExports.jsx("div",{...ot,"data-testid":"hidden-select-container",children:jsxRuntimeExports.jsxs("label",{children:[st,jsxRuntimeExports.jsxs("select",{...lt,ref:nt,children:[jsxRuntimeExports.jsx("option",{}),[...tt.collection.getKeys()].map(ct=>{let ut=tt.collection.getItem(ct);if((ut==null?void 0:ut.type)==="item")return jsxRuntimeExports.jsx("option",{value:ut.key,children:ut.textValue},ut.key)})]})]})}):it?jsxRuntimeExports.jsx("input",{autoComplete:lt.autoComplete,disabled:at,name:it,type:"hidden",value:(_e=[...tt.selectedKeys].join(","))!=null?_e:""}):null}var ListboxItemBase=$c1d7fb2ec91bae71$export$6d08773d2e66f8f2,listbox_item_base_default=ListboxItemBase;const $b1f0cad8af73213b$export$3585ede4d035bf14=new WeakMap;function $b1f0cad8af73213b$var$normalizeKey(et){return typeof et=="string"?et.replace(/\s*/g,""):""+et}function $b1f0cad8af73213b$export$9145995848b05025(et,_e){let tt=$b1f0cad8af73213b$export$3585ede4d035bf14.get(et);if(!tt)throw new Error("Unknown list");return`${tt.id}-option-${$b1f0cad8af73213b$var$normalizeKey(_e)}`}function $c132121280ec012d$export$50eacbbf140a3141(et,_e,tt){let rt=$65484d02dcb7eb3e$export$457c3d6518dd4c6f(et,{labelable:!0}),nt=et.selectionBehavior||"toggle",st=et.linkBehavior||(nt==="replace"?"action":"override");nt==="toggle"&&st==="action"&&(st="override");let{listProps:it}=$982254629710d113$export$b95089534ab7c1fd({...et,ref:tt,selectionManager:_e.selectionManager,collection:_e.collection,disabledKeys:_e.disabledKeys,linkBehavior:st}),{focusWithinProps:at}=$9ab94262bd0047c7$export$420e68273165f4ec({onFocusWithin:et.onFocus,onBlurWithin:et.onBlur,onFocusWithinChange:et.onFocusChange}),ot=$bdb11010cef70236$export$f680877a34711e37(et.id);$b1f0cad8af73213b$export$3585ede4d035bf14.set(_e,{id:ot,shouldUseVirtualFocus:et.shouldUseVirtualFocus,shouldSelectOnPressUp:et.shouldSelectOnPressUp,shouldFocusOnHover:et.shouldFocusOnHover,isVirtualized:et.isVirtualized,onAction:et.onAction,linkBehavior:st});let{labelProps:lt,fieldProps:ct}=$d191a55c9702f145$export$8467354a121f1b9f({...et,id:ot,labelElementType:"span"});return{labelProps:lt,listBoxProps:$3ef42575df84b30b$export$9d1611c77c2fe928(rt,at,_e.selectionManager.selectionMode==="multiple"?{"aria-multiselectable":"true"}:{},{role:"listbox",...$3ef42575df84b30b$export$9d1611c77c2fe928(ct,it)})}}function $293f70390ea03370$export$497855f14858aa34(et,_e,tt){var rt,nt;let{key:st}=et,it=$b1f0cad8af73213b$export$3585ede4d035bf14.get(_e);var at;let ot=(at=et.isDisabled)!==null&&at!==void 0?at:_e.selectionManager.isDisabled(st);var lt;let ct=(lt=et.isSelected)!==null&&lt!==void 0?lt:_e.selectionManager.isSelected(st);var ut;let dt=(ut=et.shouldSelectOnPressUp)!==null&&ut!==void 0?ut:it==null?void 0:it.shouldSelectOnPressUp;var ft;let ht=(ft=et.shouldFocusOnHover)!==null&&ft!==void 0?ft:it==null?void 0:it.shouldFocusOnHover;var pt;let gt=(pt=et.shouldUseVirtualFocus)!==null&&pt!==void 0?pt:it==null?void 0:it.shouldUseVirtualFocus;var mt;let bt=(mt=et.isVirtualized)!==null&&mt!==void 0?mt:it==null?void 0:it.isVirtualized,vt=$bdb11010cef70236$export$b4cc09c592e8fdb8(),yt=$bdb11010cef70236$export$b4cc09c592e8fdb8(),xt={role:"option","aria-disabled":ot||void 0,"aria-selected":_e.selectionManager.selectionMode!=="none"?ct:void 0};$c87311424ea30a05$export$9ac100e40613ea10()&&$c87311424ea30a05$export$78551043582a6a98()||(xt["aria-label"]=et["aria-label"],xt["aria-labelledby"]=vt,xt["aria-describedby"]=yt);let Et=_e.collection.getItem(st);if(bt){let Ft=Number(Et==null?void 0:Et.index);xt["aria-posinset"]=Number.isNaN(Ft)?void 0:Ft+1,xt["aria-setsize"]=$453cc9f0df89c0a5$export$77d5aafae4e095b2(_e.collection)}let wt=it!=null&&it.onAction?()=>{var Ft;return it==null||(Ft=it.onAction)===null||Ft===void 0?void 0:Ft.call(it,st)}:void 0,{itemProps:$t,isPressed:Tt,isFocused:St,hasAction:Pt,allowsSelection:At}=$880e95eb8b93ba9a$export$ecf600387e221c37({selectionManager:_e.selectionManager,key:st,ref:tt,shouldSelectOnPressUp:dt,allowsDifferentPressOrigin:dt&&ht,isVirtualized:bt,shouldUseVirtualFocus:gt,isDisabled:ot,onAction:wt||!(Et==null||(rt=Et.props)===null||rt===void 0)&&rt.onAction?$ff5963eb1fccf552$export$e08e3b67e392101e(Et==null||(nt=Et.props)===null||nt===void 0?void 0:nt.onAction,wt):void 0,linkBehavior:it==null?void 0:it.linkBehavior}),{hoverProps:Rt}=$6179b936705e76d3$export$ae780daf29e6d456({isDisabled:ot||!ht,onHoverStart(){$507fabe10e71c6fb$export$b9b3dfddab17db27()||(_e.selectionManager.setFocused(!0),_e.selectionManager.setFocusedKey(st))}}),Ct=$65484d02dcb7eb3e$export$457c3d6518dd4c6f(Et==null?void 0:Et.props);delete Ct.id;let Dt=$ea8dcbcb9ea1b556$export$7e924b3091a3bd18(Et==null?void 0:Et.props);return{optionProps:{...xt,...$3ef42575df84b30b$export$9d1611c77c2fe928(Ct,$t,Rt,Dt),id:$b1f0cad8af73213b$export$9145995848b05025(_e,st)},labelProps:{id:vt},descriptionProps:{id:yt},isFocused:St,isFocusVisible:St&&$507fabe10e71c6fb$export$b9b3dfddab17db27(),isSelected:ct,isDisabled:ot,isPressed:Tt,allowsSelection:At,hasAction:Pt}}function $af383d3bef1cfdc9$export$c3f9f39876e4bc7(et){let{heading:_e,"aria-label":tt}=et,rt=$bdb11010cef70236$export$f680877a34711e37();return{itemProps:{role:"presentation"},headingProps:_e?{id:rt,role:"presentation"}:{},groupProps:{role:"group","aria-label":tt,"aria-labelledby":_e?rt:void 0}}}function useListbox(et){var _e;const tt=useProviderContext$1(),{ref:rt,as:nt,state:st,variant:it,color:at,onAction:ot,children:lt,onSelectionChange:ct,disableAnimation:ut=(_e=tt==null?void 0:tt.disableAnimation)!=null?_e:!1,itemClasses:dt,className:ft,topContent:ht,bottomContent:pt,emptyContent:gt="No items.",hideSelectedIcon:mt=!1,hideEmptyContent:bt=!1,shouldHighlightOnFocus:vt=!1,classNames:yt,...xt}=et,Et=nt||"ul",wt=typeof Et=="string",$t=useDOMRef$1(rt),Tt=$e72dd72e1c76a225$export$2f645645f7bca764({...et,children:lt,onSelectionChange:ct}),St=st||Tt,{listBoxProps:Pt}=$c132121280ec012d$export$50eacbbf140a3141({...et,onAction:ot},St,$t),At=reactExports.useMemo(()=>menu({className:ft}),[ft]),Rt=clsx$2(yt==null?void 0:yt.base,ft);return{Component:Et,state:St,variant:it,color:at,slots:At,classNames:yt,topContent:ht,bottomContent:pt,emptyContent:gt,hideEmptyContent:bt,shouldHighlightOnFocus:vt,hideSelectedIcon:mt,disableAnimation:ut,className:ft,itemClasses:dt,getBaseProps:(Mt={})=>({ref:$t,"data-slot":"base",className:At.base({class:Rt}),...filterDOMProps$1(xt,{enabled:wt}),...Mt}),getListProps:(Mt={})=>({"data-slot":"list",className:At.list({class:yt==null?void 0:yt.list}),...Pt,...Mt}),getEmptyContentProps:(Mt={})=>({"data-slot":"empty-content",children:gt,className:At.emptyContent({class:yt==null?void 0:yt.emptyContent}),...Mt})}}function ListboxSelectedIcon(et){const{isSelected:_e,disableAnimation:tt,...rt}=et;return jsxRuntimeExports.jsx("svg",{"aria-hidden":"true","data-selected":_e,role:"presentation",viewBox:"0 0 17 18",...rt,children:jsxRuntimeExports.jsx("polyline",{fill:"none",points:"1 9 7 14 15 4",stroke:"currentColor",strokeDasharray:22,strokeDashoffset:_e?44:66,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,style:tt?{}:{transition:"stroke-dashoffset 200ms ease"}})})}function useListboxItem(et){var _e,tt;const rt=useProviderContext$1(),[nt,st]=mapPropsVariants$1(et,menuItem.variantKeys),{as:it,item:at,state:ot,description:lt,startContent:ct,endContent:ut,isVirtualized:dt,selectedIcon:ft,className:ht,classNames:pt,autoFocus:gt,onPress:mt,onClick:bt,shouldHighlightOnFocus:vt,hideSelectedIcon:yt=!1,isReadOnly:xt=!1,...Et}=nt,wt=(tt=(_e=et.disableAnimation)!=null?_e:rt==null?void 0:rt.disableAnimation)!=null?tt:!1,$t=reactExports.useRef(null),Tt=it||(et.href?"a":"li"),St=typeof Tt=="string",{rendered:Pt,key:At}=at,Rt=ot.disabledKeys.has(At)||et.isDisabled,Ct=ot.selectionManager.selectionMode!=="none",Dt=useIsMobile();bt&&typeof bt=="function"&&warn$2("onClick is deprecated, please use onPress instead. See: https://github.com/nextui-org/nextui/issues/4292","ListboxItem");const{pressProps:Ft,isPressed:Mt}=$f6c31cce2adf654f$export$45712eceda6fad21({ref:$t,isDisabled:Rt,onPress:mt}),{isHovered:Ot,hoverProps:jt}=$6179b936705e76d3$export$ae780daf29e6d456({isDisabled:Rt}),{isFocusVisible:Ut,focusProps:_t}=$f7dceffc5ad7768b$export$4e328f61c538687f({autoFocus:gt}),{isFocused:It,isSelected:Wt,optionProps:Kt,labelProps:Bt,descriptionProps:Qt}=$293f70390ea03370$export$497855f14858aa34({key:At,isDisabled:Rt,"aria-label":nt["aria-label"],isVirtualized:dt},ot,$t);let Nt=Kt;const Xt=reactExports.useMemo(()=>menuItem({...st,isDisabled:Rt,disableAnimation:wt,hasTitleTextChild:typeof Pt=="string",hasDescriptionTextChild:typeof lt=="string"}),[objectToDeps$1(st),Rt,wt,Pt,lt]),Zt=clsx$2(pt==null?void 0:pt.base,ht);xt&&(Nt=removeEvents(Nt));const Yt=vt&&It||(Dt?Ot||Mt:Ot||It&&!Ut),rr=(Gt={})=>({ref:$t,...$3ef42575df84b30b$export$9d1611c77c2fe928({onClick:bt},Nt,xt?{}:$3ef42575df84b30b$export$9d1611c77c2fe928(_t,Ft),jt,filterDOMProps$1(Et,{enabled:St}),Gt),"data-selectable":dataAttr$1(Ct),"data-focus":dataAttr$1(It),"data-hover":dataAttr$1(Yt),"data-disabled":dataAttr$1(Rt),"data-selected":dataAttr$1(Wt),"data-pressed":dataAttr$1(Mt),"data-focus-visible":dataAttr$1(Ut),className:Xt.base({class:clsx$2(Zt,Gt.className)})}),ar=(Gt={})=>({...$3ef42575df84b30b$export$9d1611c77c2fe928(Bt,Gt),"data-label":dataAttr$1(!0),className:Xt.title({class:pt==null?void 0:pt.title})}),sr=(Gt={})=>({...$3ef42575df84b30b$export$9d1611c77c2fe928(Qt,Gt),className:Xt.description({class:pt==null?void 0:pt.description})}),kt=(Gt={})=>({...$3ef42575df84b30b$export$9d1611c77c2fe928(Gt),className:Xt.wrapper({class:pt==null?void 0:pt.wrapper})}),er=reactExports.useCallback((Gt={})=>({"aria-hidden":dataAttr$1(!0),"data-disabled":dataAttr$1(Rt),className:Xt.selectedIcon({class:pt==null?void 0:pt.selectedIcon}),...Gt}),[Rt,Xt,pt]);return{Component:Tt,domRef:$t,slots:Xt,classNames:pt,isSelectable:Ct,isSelected:Wt,isDisabled:Rt,rendered:Pt,description:lt,startContent:ct,endContent:ut,selectedIcon:ft,hideSelectedIcon:yt,disableAnimation:wt,getItemProps:rr,getLabelProps:ar,getWrapperProps:kt,getDescriptionProps:sr,getSelectedIconProps:er}}var ListboxItem=et=>{const{Component:_e,rendered:tt,description:rt,isSelectable:nt,isSelected:st,isDisabled:it,selectedIcon:at,startContent:ot,endContent:lt,hideSelectedIcon:ct,disableAnimation:ut,getItemProps:dt,getLabelProps:ft,getWrapperProps:ht,getDescriptionProps:pt,getSelectedIconProps:gt}=useListboxItem(et),mt=reactExports.useMemo(()=>{const bt=jsxRuntimeExports.jsx(ListboxSelectedIcon,{disableAnimation:ut,isSelected:st});return typeof at=="function"?at({icon:bt,isSelected:st,isDisabled:it}):at||bt},[at,st,it,ut]);return jsxRuntimeExports.jsxs(_e,{...dt(),children:[ot,rt?jsxRuntimeExports.jsxs("div",{...ht(),children:[jsxRuntimeExports.jsx("span",{...ft(),children:tt}),jsxRuntimeExports.jsx("span",{...pt(),children:rt})]}):jsxRuntimeExports.jsx("span",{...ft(),children:tt}),nt&&!ct&&jsxRuntimeExports.jsx("span",{...gt(),children:mt}),lt]})};ListboxItem.displayName="NextUI.ListboxItem";var listbox_item_default=ListboxItem,ListboxSection=forwardRef$1(({item:et,state:_e,as:tt,variant:rt,color:nt,disableAnimation:st,className:it,classNames:at,hideSelectedIcon:ot,showDivider:lt=!1,dividerProps:ct={},itemClasses:ut,title:dt,items:ft,...ht},pt)=>{const gt=tt||"li",mt=reactExports.useMemo(()=>menuSection(),[]),bt=clsx$2(at==null?void 0:at.base,it),vt=clsx$2(at==null?void 0:at.divider,ct==null?void 0:ct.className),{itemProps:yt,headingProps:xt,groupProps:Et}=$af383d3bef1cfdc9$export$c3f9f39876e4bc7({heading:et.rendered,"aria-label":et["aria-label"]});return jsxRuntimeExports.jsxs(gt,{"data-slot":"base",...$3ef42575df84b30b$export$9d1611c77c2fe928(yt,ht),className:mt.base({class:bt}),children:[et.rendered&&jsxRuntimeExports.jsx("span",{...xt,className:mt.heading({class:at==null?void 0:at.heading}),"data-slot":"heading",children:et.rendered}),jsxRuntimeExports.jsxs("ul",{...Et,className:mt.group({class:at==null?void 0:at.group}),"data-has-title":!!et.rendered,"data-slot":"group",children:[[...et.childNodes].map(wt=>{const{key:$t,props:Tt}=wt;let St=jsxRuntimeExports.jsx(listbox_item_default,{classNames:ut,color:nt,disableAnimation:st,hideSelectedIcon:ot,item:wt,state:_e,variant:rt,...Tt},$t);return wt.wrapper&&(St=wt.wrapper(St)),St}),lt&&jsxRuntimeExports.jsx(divider_default$1,{as:"li",className:mt.divider({class:vt}),...ct})]})]},et.key)});ListboxSection.displayName="NextUI.ListboxSection";var listbox_section_default=ListboxSection;function memo(et,_e,tt){let rt=tt.initialDeps??[],nt;return()=>{var st,it,at,ot;let lt;tt.key&&((st=tt.debug)!=null&&st.call(tt))&&(lt=Date.now());const ct=et();if(!(ct.length!==rt.length||ct.some((ft,ht)=>rt[ht]!==ft)))return nt;rt=ct;let dt;if(tt.key&&((it=tt.debug)!=null&&it.call(tt))&&(dt=Date.now()),nt=_e(...ct),tt.key&&((at=tt.debug)!=null&&at.call(tt))){const ft=Math.round((Date.now()-lt)*100)/100,ht=Math.round((Date.now()-dt)*100)/100,pt=ht/16,gt=(mt,bt)=>{for(mt=String(mt);mt.length<bt;)mt=" "+mt;return mt};console.info(`%c ${gt(ht,5)} /${gt(ft,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*pt,120))}deg 100% 31%);`,tt==null?void 0:tt.key)}return(ot=tt==null?void 0:tt.onChange)==null||ot.call(tt,nt),nt}}function notUndefined(et,_e){if(et===void 0)throw new Error(`Unexpected undefined${_e?`: ${_e}`:""}`);return et}const approxEqual=(et,_e)=>Math.abs(et-_e)<1,debounce$1=(et,_e,tt)=>{let rt;return function(...nt){et.clearTimeout(rt),rt=et.setTimeout(()=>_e.apply(this,nt),tt)}},defaultKeyExtractor=et=>et,defaultRangeExtractor=et=>{const _e=Math.max(et.startIndex-et.overscan,0),tt=Math.min(et.endIndex+et.overscan,et.count-1),rt=[];for(let nt=_e;nt<=tt;nt++)rt.push(nt);return rt},observeElementRect=(et,_e)=>{const tt=et.scrollElement;if(!tt)return;const rt=et.targetWindow;if(!rt)return;const nt=it=>{const{width:at,height:ot}=it;_e({width:Math.round(at),height:Math.round(ot)})};if(nt(tt.getBoundingClientRect()),!rt.ResizeObserver)return()=>{};const st=new rt.ResizeObserver(it=>{const at=it[0];if(at!=null&&at.borderBoxSize){const ot=at.borderBoxSize[0];if(ot){nt({width:ot.inlineSize,height:ot.blockSize});return}}nt(tt.getBoundingClientRect())});return st.observe(tt,{box:"border-box"}),()=>{st.unobserve(tt)}},addEventListenerOptions={passive:!0},supportsScrollend=typeof window>"u"?!0:"onscrollend"in window,observeElementOffset=(et,_e)=>{const tt=et.scrollElement;if(!tt)return;const rt=et.targetWindow;if(!rt)return;let nt=0;const st=et.options.useScrollendEvent&&supportsScrollend?()=>{}:debounce$1(rt,()=>{_e(nt,!1)},et.options.isScrollingResetDelay),it=lt=>()=>{const{horizontal:ct,isRtl:ut}=et.options;nt=ct?tt.scrollLeft*(ut&&-1||1):tt.scrollTop,st(),_e(nt,lt)},at=it(!0),ot=it(!1);return ot(),tt.addEventListener("scroll",at,addEventListenerOptions),tt.addEventListener("scrollend",ot,addEventListenerOptions),()=>{tt.removeEventListener("scroll",at),tt.removeEventListener("scrollend",ot)}},measureElement=(et,_e,tt)=>{if(_e!=null&&_e.borderBoxSize){const rt=_e.borderBoxSize[0];if(rt)return Math.round(rt[tt.options.horizontal?"inlineSize":"blockSize"])}return Math.round(et.getBoundingClientRect()[tt.options.horizontal?"width":"height"])},elementScroll=(et,{adjustments:_e=0,behavior:tt},rt)=>{var nt,st;const it=et+_e;(st=(nt=rt.scrollElement)==null?void 0:nt.scrollTo)==null||st.call(nt,{[rt.options.horizontal?"left":"top"]:it,behavior:tt})};class Virtualizer{constructor(_e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let tt=null;const rt=()=>tt||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:tt=new this.targetWindow.ResizeObserver(nt=>{nt.forEach(st=>{this._measureElement(st.target,st)})}));return{disconnect:()=>{var nt;(nt=rt())==null||nt.disconnect(),tt=null},observe:nt=>{var st;return(st=rt())==null?void 0:st.observe(nt,{box:"border-box"})},unobserve:nt=>{var st;return(st=rt())==null?void 0:st.unobserve(nt)}}})(),this.range=null,this.setOptions=tt=>{Object.entries(tt).forEach(([rt,nt])=>{typeof nt>"u"&&delete tt[rt]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:defaultKeyExtractor,rangeExtractor:defaultRangeExtractor,onChange:()=>{},measureElement,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!0,...tt}},this.notify=tt=>{var rt,nt;(nt=(rt=this.options).onChange)==null||nt.call(rt,this,tt)},this.maybeNotify=memo(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),tt=>{this.notify(tt)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(tt=>tt()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var tt;const rt=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==rt){if(this.cleanup(),!rt){this.maybeNotify();return}this.scrollElement=rt,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((tt=this.scrollElement)==null?void 0:tt.window)??null,this.elementsCache.forEach(nt=>{this.observer.observe(nt)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,nt=>{this.scrollRect=nt,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(nt,st)=>{this.scrollAdjustments=0,this.scrollDirection=st?this.getScrollOffset()<nt?"forward":"backward":null,this.scrollOffset=nt,this.isScrolling=st,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(tt,rt)=>{const nt=new Map,st=new Map;for(let it=rt-1;it>=0;it--){const at=tt[it];if(nt.has(at.lane))continue;const ot=st.get(at.lane);if(ot==null||at.end>ot.end?st.set(at.lane,at):at.end<ot.end&&nt.set(at.lane,!0),nt.size===this.options.lanes)break}return st.size===this.options.lanes?Array.from(st.values()).sort((it,at)=>it.end===at.end?it.index-at.index:it.end-at.end)[0]:void 0},this.getMeasurementOptions=memo(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(tt,rt,nt,st,it)=>(this.pendingMeasuredCacheIndexes=[],{count:tt,paddingStart:rt,scrollMargin:nt,getItemKey:st,enabled:it}),{key:!1}),this.getMeasurements=memo(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:tt,paddingStart:rt,scrollMargin:nt,getItemKey:st,enabled:it},at)=>{if(!it)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(ct=>{this.itemSizeCache.set(ct.key,ct.size)}));const ot=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const lt=this.measurementsCache.slice(0,ot);for(let ct=ot;ct<tt;ct++){const ut=st(ct),dt=this.options.lanes===1?lt[ct-1]:this.getFurthestMeasurement(lt,ct),ft=dt?dt.end+this.options.gap:rt+nt,ht=at.get(ut),pt=typeof ht=="number"?ht:this.options.estimateSize(ct),gt=ft+pt,mt=dt?dt.lane:ct%this.options.lanes;lt[ct]={index:ct,start:ft,size:pt,end:gt,key:ut,lane:mt}}return this.measurementsCache=lt,lt},{key:!1,debug:()=>this.options.debug}),this.calculateRange=memo(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(tt,rt,nt)=>this.range=tt.length>0&&rt>0?calculateRange({measurements:tt,outerSize:rt,scrollOffset:nt}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=memo(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(tt,rt,nt,st)=>rt===null?[]:tt({startIndex:rt.startIndex,endIndex:rt.endIndex,overscan:nt,count:st}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=tt=>{const rt=this.options.indexAttribute,nt=tt.getAttribute(rt);return nt?parseInt(nt,10):(console.warn(`Missing attribute name '${rt}={index}' on measured element.`),-1)},this._measureElement=(tt,rt)=>{const nt=this.indexFromElement(tt),st=this.measurementsCache[nt];if(!st)return;const it=st.key,at=this.elementsCache.get(it);at!==tt&&(at&&this.observer.unobserve(at),this.observer.observe(tt),this.elementsCache.set(it,tt)),tt.isConnected&&this.resizeItem(nt,this.options.measureElement(tt,rt,this))},this.resizeItem=(tt,rt)=>{const nt=this.measurementsCache[tt];if(!nt)return;const st=this.itemSizeCache.get(nt.key)??nt.size,it=rt-st;it!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(nt,it,this):nt.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=it,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(nt.index),this.itemSizeCache=new Map(this.itemSizeCache.set(nt.key,rt)),this.notify(!1))},this.measureElement=tt=>{if(!tt){this.elementsCache.forEach((rt,nt)=>{rt.isConnected||(this.observer.unobserve(rt),this.elementsCache.delete(nt))});return}this._measureElement(tt,void 0)},this.getVirtualItems=memo(()=>[this.getIndexes(),this.getMeasurements()],(tt,rt)=>{const nt=[];for(let st=0,it=tt.length;st<it;st++){const at=tt[st],ot=rt[at];nt.push(ot)}return nt},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=tt=>{const rt=this.getMeasurements();if(rt.length!==0)return notUndefined(rt[findNearestBinarySearch(0,rt.length-1,nt=>notUndefined(rt[nt]).start,tt)])},this.getOffsetForAlignment=(tt,rt)=>{const nt=this.getSize(),st=this.getScrollOffset();rt==="auto"&&(tt<=st?rt="start":tt>=st+nt?rt="end":rt="start"),rt==="start"?tt=tt:rt==="end"?tt=tt-nt:rt==="center"&&(tt=tt-nt/2);const it=this.options.horizontal?"scrollWidth":"scrollHeight",ot=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[it]:this.scrollElement[it]:0)-nt;return Math.max(Math.min(ot,tt),0)},this.getOffsetForIndex=(tt,rt="auto")=>{tt=Math.max(0,Math.min(tt,this.options.count-1));const nt=this.measurementsCache[tt];if(!nt)return;const st=this.getSize(),it=this.getScrollOffset();if(rt==="auto")if(nt.end>=it+st-this.options.scrollPaddingEnd)rt="end";else if(nt.start<=it+this.options.scrollPaddingStart)rt="start";else return[it,rt];const at=rt==="end"?nt.end+this.options.scrollPaddingEnd:nt.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(at,rt),rt]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(tt,{align:rt="start",behavior:nt}={})=>{this.cancelScrollToIndex(),nt==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(tt,rt),{adjustments:void 0,behavior:nt})},this.scrollToIndex=(tt,{align:rt="auto",behavior:nt}={})=>{tt=Math.max(0,Math.min(tt,this.options.count-1)),this.cancelScrollToIndex(),nt==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const st=this.getOffsetForIndex(tt,rt);if(!st)return;const[it,at]=st;this._scrollToOffset(it,{adjustments:void 0,behavior:nt}),nt!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(tt))){const[lt]=notUndefined(this.getOffsetForIndex(tt,at));approxEqual(lt,this.getScrollOffset())||this.scrollToIndex(tt,{align:at,behavior:nt})}else this.scrollToIndex(tt,{align:at,behavior:nt})}))},this.scrollBy=(tt,{behavior:rt}={})=>{this.cancelScrollToIndex(),rt==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+tt,{adjustments:void 0,behavior:rt})},this.getTotalSize=()=>{var tt;const rt=this.getMeasurements();let nt;return rt.length===0?nt=this.options.paddingStart:nt=this.options.lanes===1?((tt=rt[rt.length-1])==null?void 0:tt.end)??0:Math.max(...rt.slice(-this.options.lanes).map(st=>st.end)),Math.max(nt-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(tt,{adjustments:rt,behavior:nt})=>{this.options.scrollToFn(tt,{behavior:nt,adjustments:rt},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(_e)}}const findNearestBinarySearch=(et,_e,tt,rt)=>{for(;et<=_e;){const nt=(et+_e)/2|0,st=tt(nt);if(st<rt)et=nt+1;else if(st>rt)_e=nt-1;else return nt}return et>0?et-1:0};function calculateRange({measurements:et,outerSize:_e,scrollOffset:tt}){const rt=et.length-1,st=findNearestBinarySearch(0,rt,at=>et[at].start,tt);let it=st;for(;it<rt&&et[it].end<tt+_e;)it++;return{startIndex:st,endIndex:it}}const useIsomorphicLayoutEffect=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function useVirtualizerBase(et){const _e=reactExports.useReducer(()=>({}),{})[1],tt={...et,onChange:(nt,st)=>{var it;st?reactDomExports.flushSync(_e):_e(),(it=et.onChange)==null||it.call(et,nt,st)}},[rt]=reactExports.useState(()=>new Virtualizer(tt));return rt.setOptions(tt),reactExports.useEffect(()=>rt._didMount(),[]),useIsomorphicLayoutEffect(()=>rt._willUpdate()),rt}function useVirtualizer(et){return useVirtualizerBase({observeElementRect,observeElementOffset,scrollToFn:elementScroll,...et})}var VirtualizedListbox=et=>{const{Component:_e,state:tt,color:rt,variant:nt,itemClasses:st,getBaseProps:it,topContent:at,bottomContent:ot,hideEmptyContent:lt,hideSelectedIcon:ct,shouldHighlightOnFocus:ut,disableAnimation:dt,getEmptyContentProps:ft,getListProps:ht}=et,{virtualization:pt}=et;if(!pt||!isEmpty(pt)&&!pt.maxListboxHeight&&!pt.itemHeight)throw new Error("You are using a virtualized listbox. VirtualizedListbox requires 'virtualization' props with 'maxListboxHeight' and 'itemHeight' properties. This error might have originated from autocomplete components that use VirtualizedListbox. Please provide these props to use the virtualized listbox.");const{maxListboxHeight:gt,itemHeight:mt}=pt,bt=Math.min(gt,mt*tt.collection.size),vt=reactExports.useRef(null),yt=useVirtualizer({count:tt.collection.size,getScrollElement:()=>vt.current,estimateSize:()=>mt}),xt=yt.getVirtualItems(),Et=({index:$t,style:Tt})=>{var St;const Pt=[...tt.collection][$t],At={color:rt,item:Pt,state:tt,variant:nt,disableAnimation:dt,hideSelectedIcon:ct,...Pt.props};if(Pt.type==="section")return jsxRuntimeExports.jsx(listbox_section_default,{...At,itemClasses:st,style:{...Tt,...At.style}},Pt.key);let Rt=jsxRuntimeExports.jsx(listbox_item_default,{...At,classNames:$3ef42575df84b30b$export$9d1611c77c2fe928(st,(St=Pt.props)==null?void 0:St.classNames),shouldHighlightOnFocus:ut,style:{...Tt,...At.style}},Pt.key);return Pt.wrapper&&(Rt=Pt.wrapper(Rt)),Rt},wt=jsxRuntimeExports.jsxs(_e,{...ht(),children:[!tt.collection.size&&!lt&&jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("div",{...ft()})}),jsxRuntimeExports.jsx("div",{ref:vt,style:{height:gt,overflow:"auto"},children:bt>0&&mt>0&&jsxRuntimeExports.jsx("div",{style:{height:`${yt.getTotalSize()}px`,width:"100%",position:"relative"},children:xt.map($t=>Et({index:$t.index,style:{position:"absolute",top:0,left:0,width:"100%",height:`${$t.size}px`,transform:`translateY(${$t.start}px)`}}))})})]});return jsxRuntimeExports.jsxs("div",{...it(),children:[at,wt,ot]})},virtualized_listbox_default=VirtualizedListbox,Listbox=forwardRef$1(function(_e,tt){const{isVirtualized:rt,...nt}=_e,st=useListbox({...nt,ref:tt}),{Component:it,state:at,color:ot,variant:lt,itemClasses:ct,getBaseProps:ut,topContent:dt,bottomContent:ft,hideEmptyContent:ht,hideSelectedIcon:pt,shouldHighlightOnFocus:gt,disableAnimation:mt,getEmptyContentProps:bt,getListProps:vt}=st;if(rt)return jsxRuntimeExports.jsx(virtualized_listbox_default,{..._e,...st});const yt=jsxRuntimeExports.jsxs(it,{...vt(),children:[!at.collection.size&&!ht&&jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("div",{...bt()})}),[...at.collection].map(xt=>{var Et;const wt={color:ot,item:xt,state:at,variant:lt,disableAnimation:mt,hideSelectedIcon:pt,...xt.props};if(xt.type==="section")return jsxRuntimeExports.jsx(listbox_section_default,{...wt,itemClasses:ct},xt.key);let $t=jsxRuntimeExports.jsx(listbox_item_default,{...wt,classNames:$3ef42575df84b30b$export$9d1611c77c2fe928(ct,(Et=xt.props)==null?void 0:Et.classNames),shouldHighlightOnFocus:gt},xt.key);return xt.wrapper&&($t=xt.wrapper($t)),$t})]});return jsxRuntimeExports.jsxs("div",{...ut(),children:[dt,yt,ft]})}),listbox_default=Listbox,Select=forwardRef$1(function(_e,tt){const{Component:rt,state:nt,label:st,hasHelper:it,isLoading:at,triggerRef:ot,selectorIcon:lt=jsxRuntimeExports.jsx(ChevronDownIcon,{}),description:ct,errorMessage:ut,isInvalid:dt,startContent:ft,endContent:ht,placeholder:pt,renderValue:gt,shouldLabelBeOutside:mt,disableAnimation:bt,getBaseProps:vt,getLabelProps:yt,getTriggerProps:xt,getValueProps:Et,getListboxProps:wt,getPopoverProps:$t,getSpinnerProps:Tt,getMainWrapperProps:St,getInnerWrapperProps:Pt,getHiddenSelectProps:At,getHelperWrapperProps:Rt,getListboxWrapperProps:Ct,getDescriptionProps:Dt,getErrorMessageProps:Ft,getSelectorIconProps:Mt}=useSelect({..._e,ref:tt}),Ot=st?jsxRuntimeExports.jsx("label",{...yt(),children:st}):null,jt=reactExports.cloneElement(lt,Mt()),Ut=reactExports.useMemo(()=>{const Kt=dt&&ut;return!it||!(Kt||ct)?null:jsxRuntimeExports.jsx("div",{...Rt(),children:Kt?jsxRuntimeExports.jsx("div",{...Ft(),children:ut}):jsxRuntimeExports.jsx("div",{...Dt(),children:ct})})},[it,dt,ut,ct,Rt,Ft,Dt]),_t=reactExports.useMemo(()=>{var Kt;if(!((Kt=nt.selectedItems)!=null&&Kt.length))return pt;if(gt&&typeof gt=="function"){const Bt=[...nt.selectedItems].map(Qt=>({key:Qt.key,data:Qt.value,type:Qt.type,props:Qt.props,textValue:Qt.textValue,rendered:Qt.rendered,"aria-label":Qt["aria-label"]}));return gt(Bt)}return nt.selectedItems.map(Bt=>Bt.textValue).join(", ")},[nt.selectedItems,gt,pt]),It=reactExports.useMemo(()=>at?jsxRuntimeExports.jsx(spinner_default,{...Tt()}):jt,[at,jt,Tt]),Wt=reactExports.useMemo(()=>nt.isOpen?jsxRuntimeExports.jsx(free_solo_popover_default,{...$t(),children:jsxRuntimeExports.jsx(scroll_shadow_default,{...Ct(),children:jsxRuntimeExports.jsx(listbox_default,{...wt()})})}):null,[nt.isOpen,$t,nt,ot,Ct,wt]);return jsxRuntimeExports.jsxs("div",{...vt(),children:[jsxRuntimeExports.jsx(HiddenSelect,{...At()}),mt?Ot:null,jsxRuntimeExports.jsxs("div",{...St(),children:[jsxRuntimeExports.jsxs(rt,{...xt(),children:[mt?null:Ot,jsxRuntimeExports.jsxs("div",{...Pt(),children:[ft,jsxRuntimeExports.jsx("span",{...Et(),children:_t}),ht&&nt.selectedItems&&jsxRuntimeExports.jsx($5c3e21d68f1c4674$export$439d29a4e110a164,{elementType:"span",children:","}),ht]}),It]}),Ut]}),bt?Wt:jsxRuntimeExports.jsx(AnimatePresence,{children:Wt})]})}),select_default=Select,DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),_excluded=["attr","size","title"];function _objectWithoutProperties$2(et,_e){if(et==null)return{};var tt=_objectWithoutPropertiesLoose(et,_e),rt,nt;if(Object.getOwnPropertySymbols){var st=Object.getOwnPropertySymbols(et);for(nt=0;nt<st.length;nt++)rt=st[nt],!(_e.indexOf(rt)>=0)&&Object.prototype.propertyIsEnumerable.call(et,rt)&&(tt[rt]=et[rt])}return tt}function _objectWithoutPropertiesLoose(et,_e){if(et==null)return{};var tt={};for(var rt in et)if(Object.prototype.hasOwnProperty.call(et,rt)){if(_e.indexOf(rt)>=0)continue;tt[rt]=et[rt]}return tt}function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(et[rt]=tt[rt])}return et},_extends$g.apply(this,arguments)}function ownKeys$1(et,_e){var tt=Object.keys(et);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(et);_e&&(rt=rt.filter(function(nt){return Object.getOwnPropertyDescriptor(et,nt).enumerable})),tt.push.apply(tt,rt)}return tt}function _objectSpread(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys$1(Object(tt),!0).forEach(function(rt){_defineProperty$3(et,rt,tt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(tt)):ownKeys$1(Object(tt)).forEach(function(rt){Object.defineProperty(et,rt,Object.getOwnPropertyDescriptor(tt,rt))})}return et}function _defineProperty$3(et,_e,tt){return _e=_toPropertyKey$1(_e),_e in et?Object.defineProperty(et,_e,{value:tt,enumerable:!0,configurable:!0,writable:!0}):et[_e]=tt,et}function _toPropertyKey$1(et){var _e=_toPrimitive$1(et,"string");return typeof _e=="symbol"?_e:_e+""}function _toPrimitive$1(et,_e){if(typeof et!="object"||!et)return et;var tt=et[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(et,_e||"default");if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(et)}function Tree2Element(et){return et&&et.map((_e,tt)=>React.createElement(_e.tag,_objectSpread({key:tt},_e.attr),Tree2Element(_e.child)))}function GenIcon(et){return _e=>React.createElement(IconBase,_extends$g({attr:_objectSpread({},et.attr)},_e),Tree2Element(et.child))}function IconBase(et){var _e=tt=>{var{attr:rt,size:nt,title:st}=et,it=_objectWithoutProperties$2(et,_excluded),at=nt||tt.size||"1em",ot;return tt.className&&(ot=tt.className),et.className&&(ot=(ot?ot+" ":"")+et.className),React.createElement("svg",_extends$g({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},tt.attr,rt,it,{className:ot,style:_objectSpread(_objectSpread({color:et.color||tt.color},tt.style),et.style),height:at,width:at,xmlns:"http://www.w3.org/2000/svg"}),st&&React.createElement("title",null,st),et.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,tt=>_e(tt)):_e(DefaultContext)}function FaArrowDown(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"},child:[]}]})(et)}function FaArrowUp(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(et)}function FaCog(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(et)}function FaDesktop(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 0H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h192l-16 48h-72c-13.3 0-24 10.7-24 24s10.7 24 24 24h272c13.3 0 24-10.7 24-24s-10.7-24-24-24h-72l-16-48h192c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zm-16 352H64V64h448v288z"},child:[]}]})(et)}function FaEdit(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(et)}function FaExpand(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 180V56c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H64v84c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12zM288 44v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V56c0-13.3-10.7-24-24-24H300c-6.6 0-12 5.4-12 12zm148 276h-40c-6.6 0-12 5.4-12 12v84h-84c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24V332c0-6.6-5.4-12-12-12zM160 468v-40c0-6.6-5.4-12-12-12H64v-84c0-6.6-5.4-12-12-12H12c-6.6 0-12 5.4-12 12v124c0 13.3 10.7 24 24 24h124c6.6 0 12-5.4 12-12z"},child:[]}]})(et)}function FaFont(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"},child:[]}]})(et)}function FaGlobe(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(et)}function FaImage(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(et)}function FaPen(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"},child:[]}]})(et)}function FaPlug(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M320,32a32,32,0,0,0-64,0v96h64Zm48,128H16A16,16,0,0,0,0,176v32a16,16,0,0,0,16,16H32v32A160.07,160.07,0,0,0,160,412.8V512h64V412.8A160.07,160.07,0,0,0,352,256V224h16a16,16,0,0,0,16-16V176A16,16,0,0,0,368,160ZM128,32a32,32,0,0,0-64,0v96h64Z"},child:[]}]})(et)}function FaPlus(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(et)}function FaRss(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M128.081 415.959c0 35.369-28.672 64.041-64.041 64.041S0 451.328 0 415.959s28.672-64.041 64.041-64.041 64.04 28.673 64.04 64.041zm175.66 47.25c-8.354-154.6-132.185-278.587-286.95-286.95C7.656 175.765 0 183.105 0 192.253v48.069c0 8.415 6.49 15.472 14.887 16.018 111.832 7.284 201.473 96.702 208.772 208.772.547 8.397 7.604 14.887 16.018 14.887h48.069c9.149.001 16.489-7.655 15.995-16.79zm144.249.288C439.596 229.677 251.465 40.445 16.503 32.01 7.473 31.686 0 38.981 0 48.016v48.068c0 8.625 6.835 15.645 15.453 15.999 191.179 7.839 344.627 161.316 352.465 352.465.353 8.618 7.373 15.453 15.999 15.453h48.068c9.034-.001 16.329-7.474 16.005-16.504z"},child:[]}]})(et)}function FaServer(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M480 160H32c-17.673 0-32-14.327-32-32V64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24z"},child:[]}]})(et)}function FaStream(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M16 128h416c8.84 0 16-7.16 16-16V48c0-8.84-7.16-16-16-16H16C7.16 32 0 39.16 0 48v64c0 8.84 7.16 16 16 16zm480 80H80c-8.84 0-16 7.16-16 16v64c0 8.84 7.16 16 16 16h416c8.84 0 16-7.16 16-16v-64c0-8.84-7.16-16-16-16zm-64 176H16c-8.84 0-16 7.16-16 16v64c0 8.84 7.16 16 16 16h416c8.84 0 16-7.16 16-16v-64c0-8.84-7.16-16-16-16z"},child:[]}]})(et)}function FaTrashAlt(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(et)}function FaVideo(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"},child:[]}]})(et)}/*!
* sweetalert2 v11.14.3
* Released under the MIT License.
*/function _assertClassBrand(et,_e,tt){if(typeof et=="function"?et===_e:et.has(_e))return arguments.length<3?_e:tt;throw new TypeError("Private element is not present on this object")}function _checkPrivateRedeclaration(et,_e){if(_e.has(et))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldGet2(et,_e){return et.get(_assertClassBrand(et,_e))}function _classPrivateFieldInitSpec(et,_e,tt){_checkPrivateRedeclaration(et,_e),_e.set(et,tt)}function _classPrivateFieldSet2(et,_e,tt){return et.set(_assertClassBrand(et,_e),tt),tt}const RESTORE_FOCUS_TIMEOUT=100,globalState={},focusPreviousActiveElement=()=>{globalState.previousActiveElement instanceof HTMLElement?(globalState.previousActiveElement.focus(),globalState.previousActiveElement=null):document.body&&document.body.focus()},restoreActiveElement=et=>new Promise(_e=>{if(!et)return _e();const tt=window.scrollX,rt=window.scrollY;globalState.restoreFocusTimeout=setTimeout(()=>{focusPreviousActiveElement(),_e()},RESTORE_FOCUS_TIMEOUT),window.scrollTo(tt,rt)}),swalPrefix="swal2-",classNames=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"],swalClasses=classNames.reduce((et,_e)=>(et[_e]=swalPrefix+_e,et),{}),icons=["success","warning","info","question","error"],iconTypes=icons.reduce((et,_e)=>(et[_e]=swalPrefix+_e,et),{}),consolePrefix="SweetAlert2:",capitalizeFirstLetter=et=>et.charAt(0).toUpperCase()+et.slice(1),warn$1=et=>{console.warn(`${consolePrefix} ${typeof et=="object"?et.join(" "):et}`)},error=et=>{console.error(`${consolePrefix} ${et}`)},previousWarnOnceMessages=[],warnOnce=et=>{previousWarnOnceMessages.includes(et)||(previousWarnOnceMessages.push(et),warn$1(et))},warnAboutDeprecation=function(et){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;warnOnce(`"${et}" is deprecated and will be removed in the next major release.${_e?` Use "${_e}" instead.`:""}`)},callIfFunction=et=>typeof et=="function"?et():et,hasToPromiseFn=et=>et&&typeof et.toPromise=="function",asPromise=et=>hasToPromiseFn(et)?et.toPromise():Promise.resolve(et),isPromise$1=et=>et&&Promise.resolve(et)===et,getContainer=()=>document.body.querySelector(`.${swalClasses.container}`),elementBySelector=et=>{const _e=getContainer();return _e?_e.querySelector(et):null},elementByClass=et=>elementBySelector(`.${et}`),getPopup=()=>elementByClass(swalClasses.popup),getIcon=()=>elementByClass(swalClasses.icon),getIconContent=()=>elementByClass(swalClasses["icon-content"]),getTitle=()=>elementByClass(swalClasses.title),getHtmlContainer=()=>elementByClass(swalClasses["html-container"]),getImage=()=>elementByClass(swalClasses.image),getProgressSteps=()=>elementByClass(swalClasses["progress-steps"]),getValidationMessage=()=>elementByClass(swalClasses["validation-message"]),getConfirmButton=()=>elementBySelector(`.${swalClasses.actions} .${swalClasses.confirm}`),getCancelButton=()=>elementBySelector(`.${swalClasses.actions} .${swalClasses.cancel}`),getDenyButton=()=>elementBySelector(`.${swalClasses.actions} .${swalClasses.deny}`),getInputLabel=()=>elementByClass(swalClasses["input-label"]),getLoader=()=>elementBySelector(`.${swalClasses.loader}`),getActions=()=>elementByClass(swalClasses.actions),getFooter=()=>elementByClass(swalClasses.footer),getTimerProgressBar=()=>elementByClass(swalClasses["timer-progress-bar"]),getCloseButton=()=>elementByClass(swalClasses.close),focusable=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,getFocusableElements=()=>{const et=getPopup();if(!et)return[];const _e=et.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),tt=Array.from(_e).sort((st,it)=>{const at=parseInt(st.getAttribute("tabindex")||"0"),ot=parseInt(it.getAttribute("tabindex")||"0");return at>ot?1:at<ot?-1:0}),rt=et.querySelectorAll(focusable),nt=Array.from(rt).filter(st=>st.getAttribute("tabindex")!=="-1");return[...new Set(tt.concat(nt))].filter(st=>isVisible$1(st))},isModal=()=>hasClass(document.body,swalClasses.shown)&&!hasClass(document.body,swalClasses["toast-shown"])&&!hasClass(document.body,swalClasses["no-backdrop"]),isToast=()=>{const et=getPopup();return et?hasClass(et,swalClasses.toast):!1},isLoading=()=>{const et=getPopup();return et?et.hasAttribute("data-loading"):!1},setInnerHtml=(et,_e)=>{if(et.textContent="",_e){const rt=new DOMParser().parseFromString(_e,"text/html"),nt=rt.querySelector("head");nt&&Array.from(nt.childNodes).forEach(it=>{et.appendChild(it)});const st=rt.querySelector("body");st&&Array.from(st.childNodes).forEach(it=>{it instanceof HTMLVideoElement||it instanceof HTMLAudioElement?et.appendChild(it.cloneNode(!0)):et.appendChild(it)})}},hasClass=(et,_e)=>{if(!_e)return!1;const tt=_e.split(/\s+/);for(let rt=0;rt<tt.length;rt++)if(!et.classList.contains(tt[rt]))return!1;return!0},removeCustomClasses=(et,_e)=>{Array.from(et.classList).forEach(tt=>{!Object.values(swalClasses).includes(tt)&&!Object.values(iconTypes).includes(tt)&&!Object.values(_e.showClass||{}).includes(tt)&&et.classList.remove(tt)})},applyCustomClass=(et,_e,tt)=>{if(removeCustomClasses(et,_e),!_e.customClass)return;const rt=_e.customClass[tt];if(rt){if(typeof rt!="string"&&!rt.forEach){warn$1(`Invalid type of customClass.${tt}! Expected string or iterable object, got "${typeof rt}"`);return}addClass(et,rt)}},getInput$1=(et,_e)=>{if(!_e)return null;switch(_e){case"select":case"textarea":case"file":return et.querySelector(`.${swalClasses.popup} > .${swalClasses[_e]}`);case"checkbox":return et.querySelector(`.${swalClasses.popup} > .${swalClasses.checkbox} input`);case"radio":return et.querySelector(`.${swalClasses.popup} > .${swalClasses.radio} input:checked`)||et.querySelector(`.${swalClasses.popup} > .${swalClasses.radio} input:first-child`);case"range":return et.querySelector(`.${swalClasses.popup} > .${swalClasses.range} input`);default:return et.querySelector(`.${swalClasses.popup} > .${swalClasses.input}`)}},focusInput=et=>{if(et.focus(),et.type!=="file"){const _e=et.value;et.value="",et.value=_e}},toggleClass=(et,_e,tt)=>{!et||!_e||(typeof _e=="string"&&(_e=_e.split(/\s+/).filter(Boolean)),_e.forEach(rt=>{Array.isArray(et)?et.forEach(nt=>{tt?nt.classList.add(rt):nt.classList.remove(rt)}):tt?et.classList.add(rt):et.classList.remove(rt)}))},addClass=(et,_e)=>{toggleClass(et,_e,!0)},removeClass=(et,_e)=>{toggleClass(et,_e,!1)},getDirectChildByClass=(et,_e)=>{const tt=Array.from(et.children);for(let rt=0;rt<tt.length;rt++){const nt=tt[rt];if(nt instanceof HTMLElement&&hasClass(nt,_e))return nt}},applyNumericalStyle=(et,_e,tt)=>{tt===`${parseInt(tt)}`&&(tt=parseInt(tt)),tt||parseInt(tt)===0?et.style.setProperty(_e,typeof tt=="number"?`${tt}px`:tt):et.style.removeProperty(_e)},show=function(et){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";et&&(et.style.display=_e)},hide=et=>{et&&(et.style.display="none")},showWhenInnerHtmlPresent=function(et){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";et&&new MutationObserver(()=>{toggle(et,et.innerHTML,_e)}).observe(et,{childList:!0,subtree:!0})},setStyle=(et,_e,tt,rt)=>{const nt=et.querySelector(_e);nt&&nt.style.setProperty(tt,rt)},toggle=function(et,_e){let tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";_e?show(et,tt):hide(et)},isVisible$1=et=>!!(et&&(et.offsetWidth||et.offsetHeight||et.getClientRects().length)),allButtonsAreHidden=()=>!isVisible$1(getConfirmButton())&&!isVisible$1(getDenyButton())&&!isVisible$1(getCancelButton()),isScrollable=et=>et.scrollHeight>et.clientHeight,hasCssAnimation=et=>{const _e=window.getComputedStyle(et),tt=parseFloat(_e.getPropertyValue("animation-duration")||"0"),rt=parseFloat(_e.getPropertyValue("transition-duration")||"0");return tt>0||rt>0},animateTimerProgressBar=function(et){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const tt=getTimerProgressBar();tt&&isVisible$1(tt)&&(_e&&(tt.style.transition="none",tt.style.width="100%"),setTimeout(()=>{tt.style.transition=`width ${et/1e3}s linear`,tt.style.width="0%"},10))},stopTimerProgressBar=()=>{const et=getTimerProgressBar();if(!et)return;const _e=parseInt(window.getComputedStyle(et).width);et.style.removeProperty("transition"),et.style.width="100%";const tt=parseInt(window.getComputedStyle(et).width),rt=_e/tt*100;et.style.width=`${rt}%`},isNodeEnv=()=>typeof window>"u"||typeof document>"u",sweetHTML=`
 <div aria-labelledby="${swalClasses.title}" aria-describedby="${swalClasses["html-container"]}" class="${swalClasses.popup}" tabindex="-1">
   <button type="button" class="${swalClasses.close}"></button>
   <ul class="${swalClasses["progress-steps"]}"></ul>
   <div class="${swalClasses.icon}"></div>
   <img class="${swalClasses.image}" />
   <h2 class="${swalClasses.title}" id="${swalClasses.title}"></h2>
   <div class="${swalClasses["html-container"]}" id="${swalClasses["html-container"]}"></div>
   <input class="${swalClasses.input}" id="${swalClasses.input}" />
   <input type="file" class="${swalClasses.file}" />
   <div class="${swalClasses.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${swalClasses.select}" id="${swalClasses.select}"></select>
   <div class="${swalClasses.radio}"></div>
   <label class="${swalClasses.checkbox}">
     <input type="checkbox" id="${swalClasses.checkbox}" />
     <span class="${swalClasses.label}"></span>
   </label>
   <textarea class="${swalClasses.textarea}" id="${swalClasses.textarea}"></textarea>
   <div class="${swalClasses["validation-message"]}" id="${swalClasses["validation-message"]}"></div>
   <div class="${swalClasses.actions}">
     <div class="${swalClasses.loader}"></div>
     <button type="button" class="${swalClasses.confirm}"></button>
     <button type="button" class="${swalClasses.deny}"></button>
     <button type="button" class="${swalClasses.cancel}"></button>
   </div>
   <div class="${swalClasses.footer}"></div>
   <div class="${swalClasses["timer-progress-bar-container"]}">
     <div class="${swalClasses["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),resetOldContainer=()=>{const et=getContainer();return et?(et.remove(),removeClass([document.documentElement,document.body],[swalClasses["no-backdrop"],swalClasses["toast-shown"],swalClasses["has-column"]]),!0):!1},resetValidationMessage$1=()=>{globalState.currentInstance.resetValidationMessage()},addInputChangeListeners=()=>{const et=getPopup(),_e=getDirectChildByClass(et,swalClasses.input),tt=getDirectChildByClass(et,swalClasses.file),rt=et.querySelector(`.${swalClasses.range} input`),nt=et.querySelector(`.${swalClasses.range} output`),st=getDirectChildByClass(et,swalClasses.select),it=et.querySelector(`.${swalClasses.checkbox} input`),at=getDirectChildByClass(et,swalClasses.textarea);_e.oninput=resetValidationMessage$1,tt.onchange=resetValidationMessage$1,st.onchange=resetValidationMessage$1,it.onchange=resetValidationMessage$1,at.oninput=resetValidationMessage$1,rt.oninput=()=>{resetValidationMessage$1(),nt.value=rt.value},rt.onchange=()=>{resetValidationMessage$1(),nt.value=rt.value}},getTarget=et=>typeof et=="string"?document.querySelector(et):et,setupAccessibility=et=>{const _e=getPopup();_e.setAttribute("role",et.toast?"alert":"dialog"),_e.setAttribute("aria-live",et.toast?"polite":"assertive"),et.toast||_e.setAttribute("aria-modal","true")},setupRTL=et=>{window.getComputedStyle(et).direction==="rtl"&&addClass(getContainer(),swalClasses.rtl)},init=et=>{const _e=resetOldContainer();if(isNodeEnv()){error("SweetAlert2 requires document to initialize");return}const tt=document.createElement("div");tt.className=swalClasses.container,_e&&addClass(tt,swalClasses["no-transition"]),setInnerHtml(tt,sweetHTML);const rt=getTarget(et.target);rt.appendChild(tt),setupAccessibility(et),setupRTL(rt),addInputChangeListeners()},parseHtmlToContainer=(et,_e)=>{et instanceof HTMLElement?_e.appendChild(et):typeof et=="object"?handleObject(et,_e):et&&setInnerHtml(_e,et)},handleObject=(et,_e)=>{et.jquery?handleJqueryElem(_e,et):setInnerHtml(_e,et.toString())},handleJqueryElem=(et,_e)=>{if(et.textContent="",0 in _e)for(let tt=0;tt in _e;tt++)et.appendChild(_e[tt].cloneNode(!0));else et.appendChild(_e.cloneNode(!0))},renderActions=(et,_e)=>{const tt=getActions(),rt=getLoader();!tt||!rt||(!_e.showConfirmButton&&!_e.showDenyButton&&!_e.showCancelButton?hide(tt):show(tt),applyCustomClass(tt,_e,"actions"),renderButtons(tt,rt,_e),setInnerHtml(rt,_e.loaderHtml||""),applyCustomClass(rt,_e,"loader"))};function renderButtons(et,_e,tt){const rt=getConfirmButton(),nt=getDenyButton(),st=getCancelButton();!rt||!nt||!st||(renderButton(rt,"confirm",tt),renderButton(nt,"deny",tt),renderButton(st,"cancel",tt),handleButtonsStyling(rt,nt,st,tt),tt.reverseButtons&&(tt.toast?(et.insertBefore(st,rt),et.insertBefore(nt,rt)):(et.insertBefore(st,_e),et.insertBefore(nt,_e),et.insertBefore(rt,_e))))}function handleButtonsStyling(et,_e,tt,rt){if(!rt.buttonsStyling){removeClass([et,_e,tt],swalClasses.styled);return}addClass([et,_e,tt],swalClasses.styled),rt.confirmButtonColor&&(et.style.backgroundColor=rt.confirmButtonColor,addClass(et,swalClasses["default-outline"])),rt.denyButtonColor&&(_e.style.backgroundColor=rt.denyButtonColor,addClass(_e,swalClasses["default-outline"])),rt.cancelButtonColor&&(tt.style.backgroundColor=rt.cancelButtonColor,addClass(tt,swalClasses["default-outline"]))}function renderButton(et,_e,tt){const rt=capitalizeFirstLetter(_e);toggle(et,tt[`show${rt}Button`],"inline-block"),setInnerHtml(et,tt[`${_e}ButtonText`]||""),et.setAttribute("aria-label",tt[`${_e}ButtonAriaLabel`]||""),et.className=swalClasses[_e],applyCustomClass(et,tt,`${_e}Button`)}const renderCloseButton=(et,_e)=>{const tt=getCloseButton();tt&&(setInnerHtml(tt,_e.closeButtonHtml||""),applyCustomClass(tt,_e,"closeButton"),toggle(tt,_e.showCloseButton),tt.setAttribute("aria-label",_e.closeButtonAriaLabel||""))},renderContainer=(et,_e)=>{const tt=getContainer();tt&&(handleBackdropParam(tt,_e.backdrop),handlePositionParam(tt,_e.position),handleGrowParam(tt,_e.grow),applyCustomClass(tt,_e,"container"))};function handleBackdropParam(et,_e){typeof _e=="string"?et.style.background=_e:_e||addClass([document.documentElement,document.body],swalClasses["no-backdrop"])}function handlePositionParam(et,_e){_e&&(_e in swalClasses?addClass(et,swalClasses[_e]):(warn$1('The "position" parameter is not valid, defaulting to "center"'),addClass(et,swalClasses.center)))}function handleGrowParam(et,_e){_e&&addClass(et,swalClasses[`grow-${_e}`])}var privateProps={innerParams:new WeakMap,domCache:new WeakMap};const inputClasses=["input","file","range","select","radio","checkbox","textarea"],renderInput=(et,_e)=>{const tt=getPopup();if(!tt)return;const rt=privateProps.innerParams.get(et),nt=!rt||_e.input!==rt.input;inputClasses.forEach(st=>{const it=getDirectChildByClass(tt,swalClasses[st]);it&&(setAttributes(st,_e.inputAttributes),it.className=swalClasses[st],nt&&hide(it))}),_e.input&&(nt&&showInput(_e),setCustomClass(_e))},showInput=et=>{if(!et.input)return;if(!renderInputType[et.input]){error(`Unexpected type of input! Expected ${Object.keys(renderInputType).join(" | ")}, got "${et.input}"`);return}const _e=getInputContainer(et.input);if(!_e)return;const tt=renderInputType[et.input](_e,et);show(_e),et.inputAutoFocus&&setTimeout(()=>{focusInput(tt)})},removeAttributes=et=>{for(let _e=0;_e<et.attributes.length;_e++){const tt=et.attributes[_e].name;["id","type","value","style"].includes(tt)||et.removeAttribute(tt)}},setAttributes=(et,_e)=>{const tt=getPopup();if(!tt)return;const rt=getInput$1(tt,et);if(rt){removeAttributes(rt);for(const nt in _e)rt.setAttribute(nt,_e[nt])}},setCustomClass=et=>{if(!et.input)return;const _e=getInputContainer(et.input);_e&&applyCustomClass(_e,et,"input")},setInputPlaceholder=(et,_e)=>{!et.placeholder&&_e.inputPlaceholder&&(et.placeholder=_e.inputPlaceholder)},setInputLabel=(et,_e,tt)=>{if(tt.inputLabel){const rt=document.createElement("label"),nt=swalClasses["input-label"];rt.setAttribute("for",et.id),rt.className=nt,typeof tt.customClass=="object"&&addClass(rt,tt.customClass.inputLabel),rt.innerText=tt.inputLabel,_e.insertAdjacentElement("beforebegin",rt)}},getInputContainer=et=>{const _e=getPopup();if(_e)return getDirectChildByClass(_e,swalClasses[et]||swalClasses.input)},checkAndSetInputValue=(et,_e)=>{["string","number"].includes(typeof _e)?et.value=`${_e}`:isPromise$1(_e)||warn$1(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof _e}"`)},renderInputType={};renderInputType.text=renderInputType.email=renderInputType.password=renderInputType.number=renderInputType.tel=renderInputType.url=renderInputType.search=renderInputType.date=renderInputType["datetime-local"]=renderInputType.time=renderInputType.week=renderInputType.month=(et,_e)=>(checkAndSetInputValue(et,_e.inputValue),setInputLabel(et,et,_e),setInputPlaceholder(et,_e),et.type=_e.input,et);renderInputType.file=(et,_e)=>(setInputLabel(et,et,_e),setInputPlaceholder(et,_e),et);renderInputType.range=(et,_e)=>{const tt=et.querySelector("input"),rt=et.querySelector("output");return checkAndSetInputValue(tt,_e.inputValue),tt.type=_e.input,checkAndSetInputValue(rt,_e.inputValue),setInputLabel(tt,et,_e),et};renderInputType.select=(et,_e)=>{if(et.textContent="",_e.inputPlaceholder){const tt=document.createElement("option");setInnerHtml(tt,_e.inputPlaceholder),tt.value="",tt.disabled=!0,tt.selected=!0,et.appendChild(tt)}return setInputLabel(et,et,_e),et};renderInputType.radio=et=>(et.textContent="",et);renderInputType.checkbox=(et,_e)=>{const tt=getInput$1(getPopup(),"checkbox");tt.value="1",tt.checked=!!_e.inputValue;const rt=et.querySelector("span");return setInnerHtml(rt,_e.inputPlaceholder||_e.inputLabel),tt};renderInputType.textarea=(et,_e)=>{checkAndSetInputValue(et,_e.inputValue),setInputPlaceholder(et,_e),setInputLabel(et,et,_e);const tt=rt=>parseInt(window.getComputedStyle(rt).marginLeft)+parseInt(window.getComputedStyle(rt).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const rt=parseInt(window.getComputedStyle(getPopup()).width),nt=()=>{if(!document.body.contains(et))return;const st=et.offsetWidth+tt(et);st>rt?getPopup().style.width=`${st}px`:applyNumericalStyle(getPopup(),"width",_e.width)};new MutationObserver(nt).observe(et,{attributes:!0,attributeFilter:["style"]})}}),et};const renderContent=(et,_e)=>{const tt=getHtmlContainer();tt&&(showWhenInnerHtmlPresent(tt),applyCustomClass(tt,_e,"htmlContainer"),_e.html?(parseHtmlToContainer(_e.html,tt),show(tt,"block")):_e.text?(tt.textContent=_e.text,show(tt,"block")):hide(tt),renderInput(et,_e))},renderFooter=(et,_e)=>{const tt=getFooter();tt&&(showWhenInnerHtmlPresent(tt),toggle(tt,_e.footer,"block"),_e.footer&&parseHtmlToContainer(_e.footer,tt),applyCustomClass(tt,_e,"footer"))},renderIcon=(et,_e)=>{const tt=privateProps.innerParams.get(et),rt=getIcon();if(rt){if(tt&&_e.icon===tt.icon){setContent(rt,_e),applyStyles(rt,_e);return}if(!_e.icon&&!_e.iconHtml){hide(rt);return}if(_e.icon&&Object.keys(iconTypes).indexOf(_e.icon)===-1){error(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${_e.icon}"`),hide(rt);return}show(rt),setContent(rt,_e),applyStyles(rt,_e),addClass(rt,_e.showClass&&_e.showClass.icon)}},applyStyles=(et,_e)=>{for(const[tt,rt]of Object.entries(iconTypes))_e.icon!==tt&&removeClass(et,rt);addClass(et,_e.icon&&iconTypes[_e.icon]),setColor(et,_e),adjustSuccessIconBackgroundColor(),applyCustomClass(et,_e,"icon")},adjustSuccessIconBackgroundColor=()=>{const et=getPopup();if(!et)return;const _e=window.getComputedStyle(et).getPropertyValue("background-color"),tt=et.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let rt=0;rt<tt.length;rt++)tt[rt].style.backgroundColor=_e},successIconHtml=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,errorIconHtml=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,setContent=(et,_e)=>{if(!_e.icon&&!_e.iconHtml)return;let tt=et.innerHTML,rt="";_e.iconHtml?rt=iconContent(_e.iconHtml):_e.icon==="success"?(rt=successIconHtml,tt=tt.replace(/ style=".*?"/g,"")):_e.icon==="error"?rt=errorIconHtml:_e.icon&&(rt=iconContent({question:"?",warning:"!",info:"i"}[_e.icon])),tt.trim()!==rt.trim()&&setInnerHtml(et,rt)},setColor=(et,_e)=>{if(_e.iconColor){et.style.color=_e.iconColor,et.style.borderColor=_e.iconColor;for(const tt of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])setStyle(et,tt,"background-color",_e.iconColor);setStyle(et,".swal2-success-ring","border-color",_e.iconColor)}},iconContent=et=>`<div class="${swalClasses["icon-content"]}">${et}</div>`,renderImage=(et,_e)=>{const tt=getImage();if(tt){if(!_e.imageUrl){hide(tt);return}show(tt,""),tt.setAttribute("src",_e.imageUrl),tt.setAttribute("alt",_e.imageAlt||""),applyNumericalStyle(tt,"width",_e.imageWidth),applyNumericalStyle(tt,"height",_e.imageHeight),tt.className=swalClasses.image,applyCustomClass(tt,_e,"image")}},renderPopup=(et,_e)=>{const tt=getContainer(),rt=getPopup();if(!(!tt||!rt)){if(_e.toast){applyNumericalStyle(tt,"width",_e.width),rt.style.width="100%";const nt=getLoader();nt&&rt.insertBefore(nt,getIcon())}else applyNumericalStyle(rt,"width",_e.width);applyNumericalStyle(rt,"padding",_e.padding),_e.color&&(rt.style.color=_e.color),_e.background&&(rt.style.background=_e.background),hide(getValidationMessage()),addClasses$1(rt,_e)}},addClasses$1=(et,_e)=>{const tt=_e.showClass||{};et.className=`${swalClasses.popup} ${isVisible$1(et)?tt.popup:""}`,_e.toast?(addClass([document.documentElement,document.body],swalClasses["toast-shown"]),addClass(et,swalClasses.toast)):addClass(et,swalClasses.modal),applyCustomClass(et,_e,"popup"),typeof _e.customClass=="string"&&addClass(et,_e.customClass),_e.icon&&addClass(et,swalClasses[`icon-${_e.icon}`])},renderProgressSteps=(et,_e)=>{const tt=getProgressSteps();if(!tt)return;const{progressSteps:rt,currentProgressStep:nt}=_e;if(!rt||rt.length===0||nt===void 0){hide(tt);return}show(tt),tt.textContent="",nt>=rt.length&&warn$1("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),rt.forEach((st,it)=>{const at=createStepElement(st);if(tt.appendChild(at),it===nt&&addClass(at,swalClasses["active-progress-step"]),it!==rt.length-1){const ot=createLineElement(_e);tt.appendChild(ot)}})},createStepElement=et=>{const _e=document.createElement("li");return addClass(_e,swalClasses["progress-step"]),setInnerHtml(_e,et),_e},createLineElement=et=>{const _e=document.createElement("li");return addClass(_e,swalClasses["progress-step-line"]),et.progressStepsDistance&&applyNumericalStyle(_e,"width",et.progressStepsDistance),_e},renderTitle=(et,_e)=>{const tt=getTitle();tt&&(showWhenInnerHtmlPresent(tt),toggle(tt,_e.title||_e.titleText,"block"),_e.title&&parseHtmlToContainer(_e.title,tt),_e.titleText&&(tt.innerText=_e.titleText),applyCustomClass(tt,_e,"title"))},render$1=(et,_e)=>{renderPopup(et,_e),renderContainer(et,_e),renderProgressSteps(et,_e),renderIcon(et,_e),renderImage(et,_e),renderTitle(et,_e),renderCloseButton(et,_e),renderContent(et,_e),renderActions(et,_e),renderFooter(et,_e);const tt=getPopup();typeof _e.didRender=="function"&&tt&&_e.didRender(tt),globalState.eventEmitter.emit("didRender",tt)},isVisible=()=>isVisible$1(getPopup()),clickConfirm=()=>{var et;return(et=getConfirmButton())===null||et===void 0?void 0:et.click()},clickDeny=()=>{var et;return(et=getDenyButton())===null||et===void 0?void 0:et.click()},clickCancel=()=>{var et;return(et=getCancelButton())===null||et===void 0?void 0:et.click()},DismissReason=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),removeKeydownHandler=et=>{et.keydownTarget&&et.keydownHandlerAdded&&(et.keydownTarget.removeEventListener("keydown",et.keydownHandler,{capture:et.keydownListenerCapture}),et.keydownHandlerAdded=!1)},addKeydownHandler=(et,_e,tt)=>{removeKeydownHandler(et),_e.toast||(et.keydownHandler=rt=>keydownHandler(_e,rt,tt),et.keydownTarget=_e.keydownListenerCapture?window:getPopup(),et.keydownListenerCapture=_e.keydownListenerCapture,et.keydownTarget.addEventListener("keydown",et.keydownHandler,{capture:et.keydownListenerCapture}),et.keydownHandlerAdded=!0)},setFocus=(et,_e)=>{var tt;const rt=getFocusableElements();if(rt.length){et=et+_e,et===rt.length?et=0:et===-1&&(et=rt.length-1),rt[et].focus();return}(tt=getPopup())===null||tt===void 0||tt.focus()},arrowKeysNextButton=["ArrowRight","ArrowDown"],arrowKeysPreviousButton=["ArrowLeft","ArrowUp"],keydownHandler=(et,_e,tt)=>{et&&(_e.isComposing||_e.keyCode===229||(et.stopKeydownPropagation&&_e.stopPropagation(),_e.key==="Enter"?handleEnter(_e,et):_e.key==="Tab"?handleTab(_e):[...arrowKeysNextButton,...arrowKeysPreviousButton].includes(_e.key)?handleArrows(_e.key):_e.key==="Escape"&&handleEsc(_e,et,tt)))},handleEnter=(et,_e)=>{if(!callIfFunction(_e.allowEnterKey))return;const tt=getInput$1(getPopup(),_e.input);if(et.target&&tt&&et.target instanceof HTMLElement&&et.target.outerHTML===tt.outerHTML){if(["textarea","file"].includes(_e.input))return;clickConfirm(),et.preventDefault()}},handleTab=et=>{const _e=et.target,tt=getFocusableElements();let rt=-1;for(let nt=0;nt<tt.length;nt++)if(_e===tt[nt]){rt=nt;break}et.shiftKey?setFocus(rt,-1):setFocus(rt,1),et.stopPropagation(),et.preventDefault()},handleArrows=et=>{const _e=getActions(),tt=getConfirmButton(),rt=getDenyButton(),nt=getCancelButton();if(!_e||!tt||!rt||!nt)return;const st=[tt,rt,nt];if(document.activeElement instanceof HTMLElement&&!st.includes(document.activeElement))return;const it=arrowKeysNextButton.includes(et)?"nextElementSibling":"previousElementSibling";let at=document.activeElement;if(at){for(let ot=0;ot<_e.children.length;ot++){if(at=at[it],!at)return;if(at instanceof HTMLButtonElement&&isVisible$1(at))break}at instanceof HTMLButtonElement&&at.focus()}},handleEsc=(et,_e,tt)=>{callIfFunction(_e.allowEscapeKey)&&(et.preventDefault(),tt(DismissReason.esc))};var privateMethods={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const setAriaHidden=()=>{const et=getContainer();Array.from(document.body.children).forEach(tt=>{tt.contains(et)||(tt.hasAttribute("aria-hidden")&&tt.setAttribute("data-previous-aria-hidden",tt.getAttribute("aria-hidden")||""),tt.setAttribute("aria-hidden","true"))})},unsetAriaHidden=()=>{Array.from(document.body.children).forEach(_e=>{_e.hasAttribute("data-previous-aria-hidden")?(_e.setAttribute("aria-hidden",_e.getAttribute("data-previous-aria-hidden")||""),_e.removeAttribute("data-previous-aria-hidden")):_e.removeAttribute("aria-hidden")})},isSafariOrIOS=typeof window<"u"&&!!window.GestureEvent,iOSfix=()=>{if(isSafariOrIOS&&!hasClass(document.body,swalClasses.iosfix)){const et=document.body.scrollTop;document.body.style.top=`${et*-1}px`,addClass(document.body,swalClasses.iosfix),lockBodyScroll()}},lockBodyScroll=()=>{const et=getContainer();if(!et)return;let _e;et.ontouchstart=tt=>{_e=shouldPreventTouchMove(tt)},et.ontouchmove=tt=>{_e&&(tt.preventDefault(),tt.stopPropagation())}},shouldPreventTouchMove=et=>{const _e=et.target,tt=getContainer(),rt=getHtmlContainer();return!tt||!rt||isStylus(et)||isZoom(et)?!1:_e===tt||!isScrollable(tt)&&_e instanceof HTMLElement&&_e.tagName!=="INPUT"&&_e.tagName!=="TEXTAREA"&&!(isScrollable(rt)&&rt.contains(_e))},isStylus=et=>et.touches&&et.touches.length&&et.touches[0].touchType==="stylus",isZoom=et=>et.touches&&et.touches.length>1,undoIOSfix=()=>{if(hasClass(document.body,swalClasses.iosfix)){const et=parseInt(document.body.style.top,10);removeClass(document.body,swalClasses.iosfix),document.body.style.top="",document.body.scrollTop=et*-1}},measureScrollbar=()=>{const et=document.createElement("div");et.className=swalClasses["scrollbar-measure"],document.body.appendChild(et);const _e=et.getBoundingClientRect().width-et.clientWidth;return document.body.removeChild(et),_e};let previousBodyPadding=null;const replaceScrollbarWithPadding=et=>{previousBodyPadding===null&&(document.body.scrollHeight>window.innerHeight||et==="scroll")&&(previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${previousBodyPadding+measureScrollbar()}px`)},undoReplaceScrollbarWithPadding=()=>{previousBodyPadding!==null&&(document.body.style.paddingRight=`${previousBodyPadding}px`,previousBodyPadding=null)};function removePopupAndResetState(et,_e,tt,rt){isToast()?triggerDidCloseAndDispose(et,rt):(restoreActiveElement(tt).then(()=>triggerDidCloseAndDispose(et,rt)),removeKeydownHandler(globalState)),isSafariOrIOS?(_e.setAttribute("style","display:none !important"),_e.removeAttribute("class"),_e.innerHTML=""):_e.remove(),isModal()&&(undoReplaceScrollbarWithPadding(),undoIOSfix(),unsetAriaHidden()),removeBodyClasses()}function removeBodyClasses(){removeClass([document.documentElement,document.body],[swalClasses.shown,swalClasses["height-auto"],swalClasses["no-backdrop"],swalClasses["toast-shown"]])}function close(et){et=prepareResolveValue(et);const _e=privateMethods.swalPromiseResolve.get(this),tt=triggerClosePopup(this);this.isAwaitingPromise?et.isDismissed||(handleAwaitingPromise(this),_e(et)):tt&&_e(et)}const triggerClosePopup=et=>{const _e=getPopup();if(!_e)return!1;const tt=privateProps.innerParams.get(et);if(!tt||hasClass(_e,tt.hideClass.popup))return!1;removeClass(_e,tt.showClass.popup),addClass(_e,tt.hideClass.popup);const rt=getContainer();return removeClass(rt,tt.showClass.backdrop),addClass(rt,tt.hideClass.backdrop),handlePopupAnimation(et,_e,tt),!0};function rejectPromise(et){const _e=privateMethods.swalPromiseReject.get(this);handleAwaitingPromise(this),_e&&_e(et)}const handleAwaitingPromise=et=>{et.isAwaitingPromise&&(delete et.isAwaitingPromise,privateProps.innerParams.get(et)||et._destroy())},prepareResolveValue=et=>typeof et>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},et),handlePopupAnimation=(et,_e,tt)=>{const rt=getContainer(),nt=hasCssAnimation(_e);typeof tt.willClose=="function"&&tt.willClose(_e),globalState.eventEmitter.emit("willClose",_e),nt?animatePopup(et,_e,rt,tt.returnFocus,tt.didClose):removePopupAndResetState(et,rt,tt.returnFocus,tt.didClose)},animatePopup=(et,_e,tt,rt,nt)=>{globalState.swalCloseEventFinishedCallback=removePopupAndResetState.bind(null,et,tt,rt,nt);const st=function(it){it.target===_e&&(globalState.swalCloseEventFinishedCallback(),delete globalState.swalCloseEventFinishedCallback,_e.removeEventListener("animationend",st),_e.removeEventListener("transitionend",st))};_e.addEventListener("animationend",st),_e.addEventListener("transitionend",st)},triggerDidCloseAndDispose=(et,_e)=>{setTimeout(()=>{typeof _e=="function"&&_e.bind(et.params)(),globalState.eventEmitter.emit("didClose"),et._destroy&&et._destroy()})},showLoading=et=>{let _e=getPopup();if(_e||new Swal$1,_e=getPopup(),!_e)return;const tt=getLoader();isToast()?hide(getIcon()):replaceButton(_e,et),show(tt),_e.setAttribute("data-loading","true"),_e.setAttribute("aria-busy","true"),_e.focus()},replaceButton=(et,_e)=>{const tt=getActions(),rt=getLoader();!tt||!rt||(!_e&&isVisible$1(getConfirmButton())&&(_e=getConfirmButton()),show(tt),_e&&(hide(_e),rt.setAttribute("data-button-to-replace",_e.className),tt.insertBefore(rt,_e)),addClass([et,tt],swalClasses.loading))},handleInputOptionsAndValue=(et,_e)=>{_e.input==="select"||_e.input==="radio"?handleInputOptions(et,_e):["text","email","number","tel","textarea"].some(tt=>tt===_e.input)&&(hasToPromiseFn(_e.inputValue)||isPromise$1(_e.inputValue))&&(showLoading(getConfirmButton()),handleInputValue(et,_e))},getInputValue=(et,_e)=>{const tt=et.getInput();if(!tt)return null;switch(_e.input){case"checkbox":return getCheckboxValue(tt);case"radio":return getRadioValue(tt);case"file":return getFileValue(tt);default:return _e.inputAutoTrim?tt.value.trim():tt.value}},getCheckboxValue=et=>et.checked?1:0,getRadioValue=et=>et.checked?et.value:null,getFileValue=et=>et.files&&et.files.length?et.getAttribute("multiple")!==null?et.files:et.files[0]:null,handleInputOptions=(et,_e)=>{const tt=getPopup();if(!tt)return;const rt=nt=>{_e.input==="select"?populateSelectOptions(tt,formatInputOptions(nt),_e):_e.input==="radio"&&populateRadioOptions(tt,formatInputOptions(nt),_e)};hasToPromiseFn(_e.inputOptions)||isPromise$1(_e.inputOptions)?(showLoading(getConfirmButton()),asPromise(_e.inputOptions).then(nt=>{et.hideLoading(),rt(nt)})):typeof _e.inputOptions=="object"?rt(_e.inputOptions):error(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof _e.inputOptions}`)},handleInputValue=(et,_e)=>{const tt=et.getInput();tt&&(hide(tt),asPromise(_e.inputValue).then(rt=>{tt.value=_e.input==="number"?`${parseFloat(rt)||0}`:`${rt}`,show(tt),tt.focus(),et.hideLoading()}).catch(rt=>{error(`Error in inputValue promise: ${rt}`),tt.value="",show(tt),tt.focus(),et.hideLoading()}))};function populateSelectOptions(et,_e,tt){const rt=getDirectChildByClass(et,swalClasses.select);if(!rt)return;const nt=(st,it,at)=>{const ot=document.createElement("option");ot.value=at,setInnerHtml(ot,it),ot.selected=isSelected(at,tt.inputValue),st.appendChild(ot)};_e.forEach(st=>{const it=st[0],at=st[1];if(Array.isArray(at)){const ot=document.createElement("optgroup");ot.label=it,ot.disabled=!1,rt.appendChild(ot),at.forEach(lt=>nt(ot,lt[1],lt[0]))}else nt(rt,at,it)}),rt.focus()}function populateRadioOptions(et,_e,tt){const rt=getDirectChildByClass(et,swalClasses.radio);if(!rt)return;_e.forEach(st=>{const it=st[0],at=st[1],ot=document.createElement("input"),lt=document.createElement("label");ot.type="radio",ot.name=swalClasses.radio,ot.value=it,isSelected(it,tt.inputValue)&&(ot.checked=!0);const ct=document.createElement("span");setInnerHtml(ct,at),ct.className=swalClasses.label,lt.appendChild(ot),lt.appendChild(ct),rt.appendChild(lt)});const nt=rt.querySelectorAll("input");nt.length&&nt[0].focus()}const formatInputOptions=et=>{const _e=[];return et instanceof Map?et.forEach((tt,rt)=>{let nt=tt;typeof nt=="object"&&(nt=formatInputOptions(nt)),_e.push([rt,nt])}):Object.keys(et).forEach(tt=>{let rt=et[tt];typeof rt=="object"&&(rt=formatInputOptions(rt)),_e.push([tt,rt])}),_e},isSelected=(et,_e)=>!!_e&&_e.toString()===et.toString(),handleConfirmButtonClick=et=>{const _e=privateProps.innerParams.get(et);et.disableButtons(),_e.input?handleConfirmOrDenyWithInput(et,"confirm"):confirm$1(et,!0)},handleDenyButtonClick=et=>{const _e=privateProps.innerParams.get(et);et.disableButtons(),_e.returnInputValueOnDeny?handleConfirmOrDenyWithInput(et,"deny"):deny(et,!1)},handleCancelButtonClick=(et,_e)=>{et.disableButtons(),_e(DismissReason.cancel)},handleConfirmOrDenyWithInput=(et,_e)=>{const tt=privateProps.innerParams.get(et);if(!tt.input){error(`The "input" parameter is needed to be set when using returnInputValueOn${capitalizeFirstLetter(_e)}`);return}const rt=et.getInput(),nt=getInputValue(et,tt);tt.inputValidator?handleInputValidator(et,nt,_e):rt&&!rt.checkValidity()?(et.enableButtons(),et.showValidationMessage(tt.validationMessage||rt.validationMessage)):_e==="deny"?deny(et,nt):confirm$1(et,nt)},handleInputValidator=(et,_e,tt)=>{const rt=privateProps.innerParams.get(et);et.disableInput(),Promise.resolve().then(()=>asPromise(rt.inputValidator(_e,rt.validationMessage))).then(st=>{et.enableButtons(),et.enableInput(),st?et.showValidationMessage(st):tt==="deny"?deny(et,_e):confirm$1(et,_e)})},deny=(et,_e)=>{const tt=privateProps.innerParams.get(et||void 0);tt.showLoaderOnDeny&&showLoading(getDenyButton()),tt.preDeny?(et.isAwaitingPromise=!0,Promise.resolve().then(()=>asPromise(tt.preDeny(_e,tt.validationMessage))).then(nt=>{nt===!1?(et.hideLoading(),handleAwaitingPromise(et)):et.close({isDenied:!0,value:typeof nt>"u"?_e:nt})}).catch(nt=>rejectWith(et||void 0,nt))):et.close({isDenied:!0,value:_e})},succeedWith=(et,_e)=>{et.close({isConfirmed:!0,value:_e})},rejectWith=(et,_e)=>{et.rejectPromise(_e)},confirm$1=(et,_e)=>{const tt=privateProps.innerParams.get(et||void 0);tt.showLoaderOnConfirm&&showLoading(),tt.preConfirm?(et.resetValidationMessage(),et.isAwaitingPromise=!0,Promise.resolve().then(()=>asPromise(tt.preConfirm(_e,tt.validationMessage))).then(nt=>{isVisible$1(getValidationMessage())||nt===!1?(et.hideLoading(),handleAwaitingPromise(et)):succeedWith(et,typeof nt>"u"?_e:nt)}).catch(nt=>rejectWith(et||void 0,nt))):succeedWith(et,_e)};function hideLoading(){const et=privateProps.innerParams.get(this);if(!et)return;const _e=privateProps.domCache.get(this);hide(_e.loader),isToast()?et.icon&&show(getIcon()):showRelatedButton(_e),removeClass([_e.popup,_e.actions],swalClasses.loading),_e.popup.removeAttribute("aria-busy"),_e.popup.removeAttribute("data-loading"),_e.confirmButton.disabled=!1,_e.denyButton.disabled=!1,_e.cancelButton.disabled=!1}const showRelatedButton=et=>{const _e=et.popup.getElementsByClassName(et.loader.getAttribute("data-button-to-replace"));_e.length?show(_e[0],"inline-block"):allButtonsAreHidden()&&hide(et.actions)};function getInput(){const et=privateProps.innerParams.get(this),_e=privateProps.domCache.get(this);return _e?getInput$1(_e.popup,et.input):null}function setButtonsDisabled(et,_e,tt){const rt=privateProps.domCache.get(et);_e.forEach(nt=>{rt[nt].disabled=tt})}function setInputDisabled(et,_e){const tt=getPopup();if(!(!tt||!et))if(et.type==="radio"){const rt=tt.querySelectorAll(`[name="${swalClasses.radio}"]`);for(let nt=0;nt<rt.length;nt++)rt[nt].disabled=_e}else et.disabled=_e}function enableButtons(){setButtonsDisabled(this,["confirmButton","denyButton","cancelButton"],!1)}function disableButtons(){setButtonsDisabled(this,["confirmButton","denyButton","cancelButton"],!0)}function enableInput(){setInputDisabled(this.getInput(),!1)}function disableInput(){setInputDisabled(this.getInput(),!0)}function showValidationMessage(et){const _e=privateProps.domCache.get(this),tt=privateProps.innerParams.get(this);setInnerHtml(_e.validationMessage,et),_e.validationMessage.className=swalClasses["validation-message"],tt.customClass&&tt.customClass.validationMessage&&addClass(_e.validationMessage,tt.customClass.validationMessage),show(_e.validationMessage);const rt=this.getInput();rt&&(rt.setAttribute("aria-invalid","true"),rt.setAttribute("aria-describedby",swalClasses["validation-message"]),focusInput(rt),addClass(rt,swalClasses.inputerror))}function resetValidationMessage(){const et=privateProps.domCache.get(this);et.validationMessage&&hide(et.validationMessage);const _e=this.getInput();_e&&(_e.removeAttribute("aria-invalid"),_e.removeAttribute("aria-describedby"),removeClass(_e,swalClasses.inputerror))}const defaultParams={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},updatableParams=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],deprecatedParams={allowEnterKey:void 0},toastIncompatibleParams=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],isValidParameter=et=>Object.prototype.hasOwnProperty.call(defaultParams,et),isUpdatableParameter=et=>updatableParams.indexOf(et)!==-1,isDeprecatedParameter=et=>deprecatedParams[et],checkIfParamIsValid=et=>{isValidParameter(et)||warn$1(`Unknown parameter "${et}"`)},checkIfToastParamIsValid=et=>{toastIncompatibleParams.includes(et)&&warn$1(`The parameter "${et}" is incompatible with toasts`)},checkIfParamIsDeprecated=et=>{const _e=isDeprecatedParameter(et);_e&&warnAboutDeprecation(et,_e)},showWarningsForParams=et=>{et.backdrop===!1&&et.allowOutsideClick&&warn$1('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const _e in et)checkIfParamIsValid(_e),et.toast&&checkIfToastParamIsValid(_e),checkIfParamIsDeprecated(_e)};function update(et){const _e=getPopup(),tt=privateProps.innerParams.get(this);if(!_e||hasClass(_e,tt.hideClass.popup)){warn$1("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const rt=filterValidParams(et),nt=Object.assign({},tt,rt);render$1(this,nt),privateProps.innerParams.set(this,nt),Object.defineProperties(this,{params:{value:Object.assign({},this.params,et),writable:!1,enumerable:!0}})}const filterValidParams=et=>{const _e={};return Object.keys(et).forEach(tt=>{isUpdatableParameter(tt)?_e[tt]=et[tt]:warn$1(`Invalid parameter to update: ${tt}`)}),_e};function _destroy(){const et=privateProps.domCache.get(this),_e=privateProps.innerParams.get(this);if(!_e){disposeWeakMaps(this);return}et.popup&&globalState.swalCloseEventFinishedCallback&&(globalState.swalCloseEventFinishedCallback(),delete globalState.swalCloseEventFinishedCallback),typeof _e.didDestroy=="function"&&_e.didDestroy(),globalState.eventEmitter.emit("didDestroy"),disposeSwal(this)}const disposeSwal=et=>{disposeWeakMaps(et),delete et.params,delete globalState.keydownHandler,delete globalState.keydownTarget,delete globalState.currentInstance},disposeWeakMaps=et=>{et.isAwaitingPromise?(unsetWeakMaps(privateProps,et),et.isAwaitingPromise=!0):(unsetWeakMaps(privateMethods,et),unsetWeakMaps(privateProps,et),delete et.isAwaitingPromise,delete et.disableButtons,delete et.enableButtons,delete et.getInput,delete et.disableInput,delete et.enableInput,delete et.hideLoading,delete et.disableLoading,delete et.showValidationMessage,delete et.resetValidationMessage,delete et.close,delete et.closePopup,delete et.closeModal,delete et.closeToast,delete et.rejectPromise,delete et.update,delete et._destroy)},unsetWeakMaps=(et,_e)=>{for(const tt in et)et[tt].delete(_e)};var instanceMethods=Object.freeze({__proto__:null,_destroy,close,closeModal:close,closePopup:close,closeToast:close,disableButtons,disableInput,disableLoading:hideLoading,enableButtons,enableInput,getInput,handleAwaitingPromise,hideLoading,rejectPromise,resetValidationMessage,showValidationMessage,update});const handlePopupClick=(et,_e,tt)=>{et.toast?handleToastClick(et,_e,tt):(handleModalMousedown(_e),handleContainerMousedown(_e),handleModalClick(et,_e,tt))},handleToastClick=(et,_e,tt)=>{_e.popup.onclick=()=>{et&&(isAnyButtonShown(et)||et.timer||et.input)||tt(DismissReason.close)}},isAnyButtonShown=et=>!!(et.showConfirmButton||et.showDenyButton||et.showCancelButton||et.showCloseButton);let ignoreOutsideClick=!1;const handleModalMousedown=et=>{et.popup.onmousedown=()=>{et.container.onmouseup=function(_e){et.container.onmouseup=()=>{},_e.target===et.container&&(ignoreOutsideClick=!0)}}},handleContainerMousedown=et=>{et.container.onmousedown=_e=>{_e.target===et.container&&_e.preventDefault(),et.popup.onmouseup=function(tt){et.popup.onmouseup=()=>{},(tt.target===et.popup||tt.target instanceof HTMLElement&&et.popup.contains(tt.target))&&(ignoreOutsideClick=!0)}}},handleModalClick=(et,_e,tt)=>{_e.container.onclick=rt=>{if(ignoreOutsideClick){ignoreOutsideClick=!1;return}rt.target===_e.container&&callIfFunction(et.allowOutsideClick)&&tt(DismissReason.backdrop)}},isJqueryElement=et=>typeof et=="object"&&et.jquery,isElement=et=>et instanceof Element||isJqueryElement(et),argsToParams=et=>{const _e={};return typeof et[0]=="object"&&!isElement(et[0])?Object.assign(_e,et[0]):["title","html","icon"].forEach((tt,rt)=>{const nt=et[rt];typeof nt=="string"||isElement(nt)?_e[tt]=nt:nt!==void 0&&error(`Unexpected type of ${tt}! Expected "string" or "Element", got ${typeof nt}`)}),_e};function fire(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];return new this(..._e)}function mixin$1(et){class _e extends this{_main(rt,nt){return super._main(rt,Object.assign({},et,nt))}}return _e}const getTimerLeft=()=>globalState.timeout&&globalState.timeout.getTimerLeft(),stopTimer=()=>{if(globalState.timeout)return stopTimerProgressBar(),globalState.timeout.stop()},resumeTimer=()=>{if(globalState.timeout){const et=globalState.timeout.start();return animateTimerProgressBar(et),et}},toggleTimer=()=>{const et=globalState.timeout;return et&&(et.running?stopTimer():resumeTimer())},increaseTimer=et=>{if(globalState.timeout){const _e=globalState.timeout.increase(et);return animateTimerProgressBar(_e,!0),_e}},isTimerRunning=()=>!!(globalState.timeout&&globalState.timeout.isRunning());let bodyClickListenerAdded=!1;const clickHandlers={};function bindClickHandler(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";clickHandlers[et]=this,bodyClickListenerAdded||(document.body.addEventListener("click",bodyClickListener),bodyClickListenerAdded=!0)}const bodyClickListener=et=>{for(let _e=et.target;_e&&_e!==document;_e=_e.parentNode)for(const tt in clickHandlers){const rt=_e.getAttribute(tt);if(rt){clickHandlers[tt].fire({template:rt});return}}};let EventEmitter$1=class{constructor(){this.events={}}_getHandlersByEventName(_e){return typeof this.events[_e]>"u"&&(this.events[_e]=[]),this.events[_e]}on(_e,tt){const rt=this._getHandlersByEventName(_e);rt.includes(tt)||rt.push(tt)}once(_e,tt){var rt=this;const nt=function(){rt.removeListener(_e,nt);for(var st=arguments.length,it=new Array(st),at=0;at<st;at++)it[at]=arguments[at];tt.apply(rt,it)};this.on(_e,nt)}emit(_e){for(var tt=arguments.length,rt=new Array(tt>1?tt-1:0),nt=1;nt<tt;nt++)rt[nt-1]=arguments[nt];this._getHandlersByEventName(_e).forEach(st=>{try{st.apply(this,rt)}catch(it){console.error(it)}})}removeListener(_e,tt){const rt=this._getHandlersByEventName(_e),nt=rt.indexOf(tt);nt>-1&&rt.splice(nt,1)}removeAllListeners(_e){this.events[_e]!==void 0&&(this.events[_e].length=0)}reset(){this.events={}}};globalState.eventEmitter=new EventEmitter$1;const on$1=(et,_e)=>{globalState.eventEmitter.on(et,_e)},once=(et,_e)=>{globalState.eventEmitter.once(et,_e)},off=(et,_e)=>{if(!et){globalState.eventEmitter.reset();return}_e?globalState.eventEmitter.removeListener(et,_e):globalState.eventEmitter.removeAllListeners(et)};var staticMethods=Object.freeze({__proto__:null,argsToParams,bindClickHandler,clickCancel,clickConfirm,clickDeny,enableLoading:showLoading,fire,getActions,getCancelButton,getCloseButton,getConfirmButton,getContainer,getDenyButton,getFocusableElements,getFooter,getHtmlContainer,getIcon,getIconContent,getImage,getInputLabel,getLoader,getPopup,getProgressSteps,getTimerLeft,getTimerProgressBar,getTitle,getValidationMessage,increaseTimer,isDeprecatedParameter,isLoading,isTimerRunning,isUpdatableParameter,isValidParameter,isVisible,mixin:mixin$1,off,on:on$1,once,resumeTimer,showLoading,stopTimer,toggleTimer});class Timer{constructor(_e,tt){this.callback=_e,this.remaining=tt,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(_e){const tt=this.running;return tt&&this.stop(),this.remaining+=_e,tt&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const swalStringParams=["swal-title","swal-html","swal-footer"],getTemplateParams=et=>{const _e=typeof et.template=="string"?document.querySelector(et.template):et.template;if(!_e)return{};const tt=_e.content;return showWarningsForElements(tt),Object.assign(getSwalParams(tt),getSwalFunctionParams(tt),getSwalButtons(tt),getSwalImage(tt),getSwalIcon(tt),getSwalInput(tt),getSwalStringParams(tt,swalStringParams))},getSwalParams=et=>{const _e={};return Array.from(et.querySelectorAll("swal-param")).forEach(rt=>{showWarningsForAttributes(rt,["name","value"]);const nt=rt.getAttribute("name"),st=rt.getAttribute("value");!nt||!st||(typeof defaultParams[nt]=="boolean"?_e[nt]=st!=="false":typeof defaultParams[nt]=="object"?_e[nt]=JSON.parse(st):_e[nt]=st)}),_e},getSwalFunctionParams=et=>{const _e={};return Array.from(et.querySelectorAll("swal-function-param")).forEach(rt=>{const nt=rt.getAttribute("name"),st=rt.getAttribute("value");!nt||!st||(_e[nt]=new Function(`return ${st}`)())}),_e},getSwalButtons=et=>{const _e={};return Array.from(et.querySelectorAll("swal-button")).forEach(rt=>{showWarningsForAttributes(rt,["type","color","aria-label"]);const nt=rt.getAttribute("type");!nt||!["confirm","cancel","deny"].includes(nt)||(_e[`${nt}ButtonText`]=rt.innerHTML,_e[`show${capitalizeFirstLetter(nt)}Button`]=!0,rt.hasAttribute("color")&&(_e[`${nt}ButtonColor`]=rt.getAttribute("color")),rt.hasAttribute("aria-label")&&(_e[`${nt}ButtonAriaLabel`]=rt.getAttribute("aria-label")))}),_e},getSwalImage=et=>{const _e={},tt=et.querySelector("swal-image");return tt&&(showWarningsForAttributes(tt,["src","width","height","alt"]),tt.hasAttribute("src")&&(_e.imageUrl=tt.getAttribute("src")||void 0),tt.hasAttribute("width")&&(_e.imageWidth=tt.getAttribute("width")||void 0),tt.hasAttribute("height")&&(_e.imageHeight=tt.getAttribute("height")||void 0),tt.hasAttribute("alt")&&(_e.imageAlt=tt.getAttribute("alt")||void 0)),_e},getSwalIcon=et=>{const _e={},tt=et.querySelector("swal-icon");return tt&&(showWarningsForAttributes(tt,["type","color"]),tt.hasAttribute("type")&&(_e.icon=tt.getAttribute("type")),tt.hasAttribute("color")&&(_e.iconColor=tt.getAttribute("color")),_e.iconHtml=tt.innerHTML),_e},getSwalInput=et=>{const _e={},tt=et.querySelector("swal-input");tt&&(showWarningsForAttributes(tt,["type","label","placeholder","value"]),_e.input=tt.getAttribute("type")||"text",tt.hasAttribute("label")&&(_e.inputLabel=tt.getAttribute("label")),tt.hasAttribute("placeholder")&&(_e.inputPlaceholder=tt.getAttribute("placeholder")),tt.hasAttribute("value")&&(_e.inputValue=tt.getAttribute("value")));const rt=Array.from(et.querySelectorAll("swal-input-option"));return rt.length&&(_e.inputOptions={},rt.forEach(nt=>{showWarningsForAttributes(nt,["value"]);const st=nt.getAttribute("value");if(!st)return;const it=nt.innerHTML;_e.inputOptions[st]=it})),_e},getSwalStringParams=(et,_e)=>{const tt={};for(const rt in _e){const nt=_e[rt],st=et.querySelector(nt);st&&(showWarningsForAttributes(st,[]),tt[nt.replace(/^swal-/,"")]=st.innerHTML.trim())}return tt},showWarningsForElements=et=>{const _e=swalStringParams.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(et.children).forEach(tt=>{const rt=tt.tagName.toLowerCase();_e.includes(rt)||warn$1(`Unrecognized element <${rt}>`)})},showWarningsForAttributes=(et,_e)=>{Array.from(et.attributes).forEach(tt=>{_e.indexOf(tt.name)===-1&&warn$1([`Unrecognized attribute "${tt.name}" on <${et.tagName.toLowerCase()}>.`,`${_e.length?`Allowed attributes are: ${_e.join(", ")}`:"To set the value, use HTML within the element."}`])})},SHOW_CLASS_TIMEOUT=10,openPopup=et=>{const _e=getContainer(),tt=getPopup();typeof et.willOpen=="function"&&et.willOpen(tt),globalState.eventEmitter.emit("willOpen",tt);const nt=window.getComputedStyle(document.body).overflowY;addClasses(_e,tt,et),setTimeout(()=>{setScrollingVisibility(_e,tt)},SHOW_CLASS_TIMEOUT),isModal()&&(fixScrollContainer(_e,et.scrollbarPadding,nt),setAriaHidden()),!isToast()&&!globalState.previousActiveElement&&(globalState.previousActiveElement=document.activeElement),typeof et.didOpen=="function"&&setTimeout(()=>et.didOpen(tt)),globalState.eventEmitter.emit("didOpen",tt),removeClass(_e,swalClasses["no-transition"])},swalOpenAnimationFinished=et=>{const _e=getPopup();if(et.target!==_e)return;const tt=getContainer();_e.removeEventListener("animationend",swalOpenAnimationFinished),_e.removeEventListener("transitionend",swalOpenAnimationFinished),tt.style.overflowY="auto"},setScrollingVisibility=(et,_e)=>{hasCssAnimation(_e)?(et.style.overflowY="hidden",_e.addEventListener("animationend",swalOpenAnimationFinished),_e.addEventListener("transitionend",swalOpenAnimationFinished)):et.style.overflowY="auto"},fixScrollContainer=(et,_e,tt)=>{iOSfix(),_e&&tt!=="hidden"&&replaceScrollbarWithPadding(tt),setTimeout(()=>{et.scrollTop=0})},addClasses=(et,_e,tt)=>{addClass(et,tt.showClass.backdrop),tt.animation?(_e.style.setProperty("opacity","0","important"),show(_e,"grid"),setTimeout(()=>{addClass(_e,tt.showClass.popup),_e.style.removeProperty("opacity")},SHOW_CLASS_TIMEOUT)):show(_e,"grid"),addClass([document.documentElement,document.body],swalClasses.shown),tt.heightAuto&&tt.backdrop&&!tt.toast&&addClass([document.documentElement,document.body],swalClasses["height-auto"])};var defaultInputValidators={email:(et,_e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(et)?Promise.resolve():Promise.resolve(_e||"Invalid email address"),url:(et,_e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(et)?Promise.resolve():Promise.resolve(_e||"Invalid URL")};function setDefaultInputValidators(et){et.inputValidator||(et.input==="email"&&(et.inputValidator=defaultInputValidators.email),et.input==="url"&&(et.inputValidator=defaultInputValidators.url))}function validateCustomTargetElement(et){(!et.target||typeof et.target=="string"&&!document.querySelector(et.target)||typeof et.target!="string"&&!et.target.appendChild)&&(warn$1('Target parameter is not valid, defaulting to "body"'),et.target="body")}function setParameters(et){setDefaultInputValidators(et),et.showLoaderOnConfirm&&!et.preConfirm&&warn$1(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),validateCustomTargetElement(et),typeof et.title=="string"&&(et.title=et.title.split(`
`).join("<br />")),init(et)}let currentInstance;var _promise=new WeakMap;class SweetAlert{constructor(){if(_classPrivateFieldInitSpec(this,_promise,void 0),typeof window>"u")return;currentInstance=this;for(var _e=arguments.length,tt=new Array(_e),rt=0;rt<_e;rt++)tt[rt]=arguments[rt];const nt=Object.freeze(this.constructor.argsToParams(tt));this.params=nt,this.isAwaitingPromise=!1,_classPrivateFieldSet2(_promise,this,this._main(currentInstance.params))}_main(_e){let tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(showWarningsForParams(Object.assign({},tt,_e)),globalState.currentInstance){const st=privateMethods.swalPromiseResolve.get(globalState.currentInstance),{isAwaitingPromise:it}=globalState.currentInstance;globalState.currentInstance._destroy(),it||st({isDismissed:!0}),isModal()&&unsetAriaHidden()}globalState.currentInstance=currentInstance;const rt=prepareParams(_e,tt);setParameters(rt),Object.freeze(rt),globalState.timeout&&(globalState.timeout.stop(),delete globalState.timeout),clearTimeout(globalState.restoreFocusTimeout);const nt=populateDomCache(currentInstance);return render$1(currentInstance,rt),privateProps.innerParams.set(currentInstance,rt),swalPromise(currentInstance,nt,rt)}then(_e){return _classPrivateFieldGet2(_promise,this).then(_e)}finally(_e){return _classPrivateFieldGet2(_promise,this).finally(_e)}}const swalPromise=(et,_e,tt)=>new Promise((rt,nt)=>{const st=it=>{et.close({isDismissed:!0,dismiss:it})};privateMethods.swalPromiseResolve.set(et,rt),privateMethods.swalPromiseReject.set(et,nt),_e.confirmButton.onclick=()=>{handleConfirmButtonClick(et)},_e.denyButton.onclick=()=>{handleDenyButtonClick(et)},_e.cancelButton.onclick=()=>{handleCancelButtonClick(et,st)},_e.closeButton.onclick=()=>{st(DismissReason.close)},handlePopupClick(tt,_e,st),addKeydownHandler(globalState,tt,st),handleInputOptionsAndValue(et,tt),openPopup(tt),setupTimer(globalState,tt,st),initFocus(_e,tt),setTimeout(()=>{_e.container.scrollTop=0})}),prepareParams=(et,_e)=>{const tt=getTemplateParams(et),rt=Object.assign({},defaultParams,_e,tt,et);return rt.showClass=Object.assign({},defaultParams.showClass,rt.showClass),rt.hideClass=Object.assign({},defaultParams.hideClass,rt.hideClass),rt.animation===!1&&(rt.showClass={backdrop:"swal2-noanimation"},rt.hideClass={}),rt},populateDomCache=et=>{const _e={popup:getPopup(),container:getContainer(),actions:getActions(),confirmButton:getConfirmButton(),denyButton:getDenyButton(),cancelButton:getCancelButton(),loader:getLoader(),closeButton:getCloseButton(),validationMessage:getValidationMessage(),progressSteps:getProgressSteps()};return privateProps.domCache.set(et,_e),_e},setupTimer=(et,_e,tt)=>{const rt=getTimerProgressBar();hide(rt),_e.timer&&(et.timeout=new Timer(()=>{tt("timer"),delete et.timeout},_e.timer),_e.timerProgressBar&&(show(rt),applyCustomClass(rt,_e,"timerProgressBar"),setTimeout(()=>{et.timeout&&et.timeout.running&&animateTimerProgressBar(_e.timer)})))},initFocus=(et,_e)=>{if(!_e.toast){if(!callIfFunction(_e.allowEnterKey)){warnAboutDeprecation("allowEnterKey"),blurActiveElement();return}focusAutofocus(et)||focusButton(et,_e)||setFocus(-1,1)}},focusAutofocus=et=>{const _e=et.popup.querySelectorAll("[autofocus]");for(const tt of _e)if(tt instanceof HTMLElement&&isVisible$1(tt))return tt.focus(),!0;return!1},focusButton=(et,_e)=>_e.focusDeny&&isVisible$1(et.denyButton)?(et.denyButton.focus(),!0):_e.focusCancel&&isVisible$1(et.cancelButton)?(et.cancelButton.focus(),!0):_e.focusConfirm&&isVisible$1(et.confirmButton)?(et.confirmButton.focus(),!0):!1,blurActiveElement=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const et=new Date,_e=localStorage.getItem("swal-initiation");_e?(et.getTime()-Date.parse(_e))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const tt=document.createElement("audio");tt.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",tt.loop=!0,document.body.appendChild(tt),setTimeout(()=>{tt.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${et}`)}SweetAlert.prototype.disableButtons=disableButtons;SweetAlert.prototype.enableButtons=enableButtons;SweetAlert.prototype.getInput=getInput;SweetAlert.prototype.disableInput=disableInput;SweetAlert.prototype.enableInput=enableInput;SweetAlert.prototype.hideLoading=hideLoading;SweetAlert.prototype.disableLoading=hideLoading;SweetAlert.prototype.showValidationMessage=showValidationMessage;SweetAlert.prototype.resetValidationMessage=resetValidationMessage;SweetAlert.prototype.close=close;SweetAlert.prototype.closePopup=close;SweetAlert.prototype.closeModal=close;SweetAlert.prototype.closeToast=close;SweetAlert.prototype.rejectPromise=rejectPromise;SweetAlert.prototype.update=update;SweetAlert.prototype._destroy=_destroy;Object.assign(SweetAlert,staticMethods);Object.keys(instanceMethods).forEach(et=>{SweetAlert[et]=function(){return currentInstance&&currentInstance[et]?currentInstance[et](...arguments):null}});SweetAlert.DismissReason=DismissReason;SweetAlert.version="11.14.3";const Swal$1=SweetAlert;Swal$1.default=Swal$1;typeof document<"u"&&function(et,_e){var tt=et.createElement("style");if(et.getElementsByTagName("head")[0].appendChild(tt),tt.styleSheet)tt.styleSheet.disabled||(tt.styleSheet.cssText=_e);else try{tt.innerHTML=_e}catch{tt.innerText=_e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}');var lib$2={exports:{}},_FullInternals={},_CoreInternals={},Global={};(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et._registerNode=et.Konva=et.glob=void 0;const _e=Math.PI/180;function tt(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}et.glob=typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},et.Konva={_global:et.glob,version:"9.3.6",isBrowser:tt(),isUnminified:/param/.test((function(nt){}).toString()),dblClickWindow:400,getAngle(nt){return et.Konva.angleDeg?nt*_e:nt},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return et.Konva.DD.isDragging},isTransforming(){var nt;return(nt=et.Konva.Transformer)===null||nt===void 0?void 0:nt.isTransforming()},isDragReady(){return!!et.Konva.DD.node},releaseCanvasOnDestroy:!0,document:et.glob.document,_injectGlobal(nt){et.glob.Konva=nt}};const rt=nt=>{et.Konva[nt.prototype.getClassName()]=nt};et._registerNode=rt,et.Konva._injectGlobal(et.Konva)})(Global);var Util={};(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et.Util=et.Transform=void 0;const _e=Global;class tt{constructor(yt=[1,0,0,1,0,0]){this.dirty=!1,this.m=yt&&yt.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new tt(this.m)}copyInto(yt){yt.m[0]=this.m[0],yt.m[1]=this.m[1],yt.m[2]=this.m[2],yt.m[3]=this.m[3],yt.m[4]=this.m[4],yt.m[5]=this.m[5]}point(yt){var xt=this.m;return{x:xt[0]*yt.x+xt[2]*yt.y+xt[4],y:xt[1]*yt.x+xt[3]*yt.y+xt[5]}}translate(yt,xt){return this.m[4]+=this.m[0]*yt+this.m[2]*xt,this.m[5]+=this.m[1]*yt+this.m[3]*xt,this}scale(yt,xt){return this.m[0]*=yt,this.m[1]*=yt,this.m[2]*=xt,this.m[3]*=xt,this}rotate(yt){var xt=Math.cos(yt),Et=Math.sin(yt),wt=this.m[0]*xt+this.m[2]*Et,$t=this.m[1]*xt+this.m[3]*Et,Tt=this.m[0]*-Et+this.m[2]*xt,St=this.m[1]*-Et+this.m[3]*xt;return this.m[0]=wt,this.m[1]=$t,this.m[2]=Tt,this.m[3]=St,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(yt,xt){var Et=this.m[0]+this.m[2]*xt,wt=this.m[1]+this.m[3]*xt,$t=this.m[2]+this.m[0]*yt,Tt=this.m[3]+this.m[1]*yt;return this.m[0]=Et,this.m[1]=wt,this.m[2]=$t,this.m[3]=Tt,this}multiply(yt){var xt=this.m[0]*yt.m[0]+this.m[2]*yt.m[1],Et=this.m[1]*yt.m[0]+this.m[3]*yt.m[1],wt=this.m[0]*yt.m[2]+this.m[2]*yt.m[3],$t=this.m[1]*yt.m[2]+this.m[3]*yt.m[3],Tt=this.m[0]*yt.m[4]+this.m[2]*yt.m[5]+this.m[4],St=this.m[1]*yt.m[4]+this.m[3]*yt.m[5]+this.m[5];return this.m[0]=xt,this.m[1]=Et,this.m[2]=wt,this.m[3]=$t,this.m[4]=Tt,this.m[5]=St,this}invert(){var yt=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),xt=this.m[3]*yt,Et=-this.m[1]*yt,wt=-this.m[2]*yt,$t=this.m[0]*yt,Tt=yt*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),St=yt*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=xt,this.m[1]=Et,this.m[2]=wt,this.m[3]=$t,this.m[4]=Tt,this.m[5]=St,this}getMatrix(){return this.m}decompose(){var yt=this.m[0],xt=this.m[1],Et=this.m[2],wt=this.m[3],$t=this.m[4],Tt=this.m[5],St=yt*wt-xt*Et;let Pt={x:$t,y:Tt,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(yt!=0||xt!=0){var At=Math.sqrt(yt*yt+xt*xt);Pt.rotation=xt>0?Math.acos(yt/At):-Math.acos(yt/At),Pt.scaleX=At,Pt.scaleY=St/At,Pt.skewX=(yt*Et+xt*wt)/St,Pt.skewY=0}else if(Et!=0||wt!=0){var Rt=Math.sqrt(Et*Et+wt*wt);Pt.rotation=Math.PI/2-(wt>0?Math.acos(-Et/Rt):-Math.acos(Et/Rt)),Pt.scaleX=St/Rt,Pt.scaleY=Rt,Pt.skewX=0,Pt.skewY=(yt*Et+xt*wt)/St}return Pt.rotation=et.Util._getRotation(Pt.rotation),Pt}}et.Transform=tt;var rt="[object Array]",nt="[object Number]",st="[object String]",it="[object Boolean]",at=Math.PI/180,ot=180/Math.PI,lt="#",ct="",ut="0",dt="Konva warning: ",ft="Konva error: ",ht="rgb(",pt={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},gt=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,mt=[];const bt=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(vt){setTimeout(vt,60)};et.Util={_isElement(vt){return!!(vt&&vt.nodeType==1)},_isFunction(vt){return!!(vt&&vt.constructor&&vt.call&&vt.apply)},_isPlainObject(vt){return!!vt&&vt.constructor===Object},_isArray(vt){return Object.prototype.toString.call(vt)===rt},_isNumber(vt){return Object.prototype.toString.call(vt)===nt&&!isNaN(vt)&&isFinite(vt)},_isString(vt){return Object.prototype.toString.call(vt)===st},_isBoolean(vt){return Object.prototype.toString.call(vt)===it},isObject(vt){return vt instanceof Object},isValidSelector(vt){if(typeof vt!="string")return!1;var yt=vt[0];return yt==="#"||yt==="."||yt===yt.toUpperCase()},_sign(vt){return vt===0||vt>0?1:-1},requestAnimFrame(vt){mt.push(vt),mt.length===1&&bt(function(){const yt=mt;mt=[],yt.forEach(function(xt){xt()})})},createCanvasElement(){var vt=document.createElement("canvas");try{vt.style=vt.style||{}}catch{}return vt},createImageElement(){return document.createElement("img")},_isInDocument(vt){for(;vt=vt.parentNode;)if(vt==document)return!0;return!1},_urlToImage(vt,yt){var xt=et.Util.createImageElement();xt.onload=function(){yt(xt)},xt.src=vt},_rgbToHex(vt,yt,xt){return((1<<24)+(vt<<16)+(yt<<8)+xt).toString(16).slice(1)},_hexToRgb(vt){vt=vt.replace(lt,ct);var yt=parseInt(vt,16);return{r:yt>>16&255,g:yt>>8&255,b:yt&255}},getRandomColor(){for(var vt=(Math.random()*16777215<<0).toString(16);vt.length<6;)vt=ut+vt;return lt+vt},getRGB(vt){var yt;return vt in pt?(yt=pt[vt],{r:yt[0],g:yt[1],b:yt[2]}):vt[0]===lt?this._hexToRgb(vt.substring(1)):vt.substr(0,4)===ht?(yt=gt.exec(vt.replace(/ /g,"")),{r:parseInt(yt[1],10),g:parseInt(yt[2],10),b:parseInt(yt[3],10)}):{r:0,g:0,b:0}},colorToRGBA(vt){return vt=vt||"black",et.Util._namedColorToRBA(vt)||et.Util._hex3ColorToRGBA(vt)||et.Util._hex4ColorToRGBA(vt)||et.Util._hex6ColorToRGBA(vt)||et.Util._hex8ColorToRGBA(vt)||et.Util._rgbColorToRGBA(vt)||et.Util._rgbaColorToRGBA(vt)||et.Util._hslColorToRGBA(vt)},_namedColorToRBA(vt){var yt=pt[vt.toLowerCase()];return yt?{r:yt[0],g:yt[1],b:yt[2],a:1}:null},_rgbColorToRGBA(vt){if(vt.indexOf("rgb(")===0){vt=vt.match(/rgb\(([^)]+)\)/)[1];var yt=vt.split(/ *, */).map(Number);return{r:yt[0],g:yt[1],b:yt[2],a:1}}},_rgbaColorToRGBA(vt){if(vt.indexOf("rgba(")===0){vt=vt.match(/rgba\(([^)]+)\)/)[1];var yt=vt.split(/ *, */).map((xt,Et)=>xt.slice(-1)==="%"?Et===3?parseInt(xt)/100:parseInt(xt)/100*255:Number(xt));return{r:yt[0],g:yt[1],b:yt[2],a:yt[3]}}},_hex8ColorToRGBA(vt){if(vt[0]==="#"&&vt.length===9)return{r:parseInt(vt.slice(1,3),16),g:parseInt(vt.slice(3,5),16),b:parseInt(vt.slice(5,7),16),a:parseInt(vt.slice(7,9),16)/255}},_hex6ColorToRGBA(vt){if(vt[0]==="#"&&vt.length===7)return{r:parseInt(vt.slice(1,3),16),g:parseInt(vt.slice(3,5),16),b:parseInt(vt.slice(5,7),16),a:1}},_hex4ColorToRGBA(vt){if(vt[0]==="#"&&vt.length===5)return{r:parseInt(vt[1]+vt[1],16),g:parseInt(vt[2]+vt[2],16),b:parseInt(vt[3]+vt[3],16),a:parseInt(vt[4]+vt[4],16)/255}},_hex3ColorToRGBA(vt){if(vt[0]==="#"&&vt.length===4)return{r:parseInt(vt[1]+vt[1],16),g:parseInt(vt[2]+vt[2],16),b:parseInt(vt[3]+vt[3],16),a:1}},_hslColorToRGBA(vt){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(vt)){const[yt,...xt]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(vt),Et=Number(xt[0])/360,wt=Number(xt[1])/100,$t=Number(xt[2])/100;let Tt,St,Pt;if(wt===0)return Pt=$t*255,{r:Math.round(Pt),g:Math.round(Pt),b:Math.round(Pt),a:1};$t<.5?Tt=$t*(1+wt):Tt=$t+wt-$t*wt;const At=2*$t-Tt,Rt=[0,0,0];for(let Ct=0;Ct<3;Ct++)St=Et+1/3*-(Ct-1),St<0&&St++,St>1&&St--,6*St<1?Pt=At+(Tt-At)*6*St:2*St<1?Pt=Tt:3*St<2?Pt=At+(Tt-At)*(2/3-St)*6:Pt=At,Rt[Ct]=Pt*255;return{r:Math.round(Rt[0]),g:Math.round(Rt[1]),b:Math.round(Rt[2]),a:1}}},haveIntersection(vt,yt){return!(yt.x>vt.x+vt.width||yt.x+yt.width<vt.x||yt.y>vt.y+vt.height||yt.y+yt.height<vt.y)},cloneObject(vt){var yt={};for(var xt in vt)this._isPlainObject(vt[xt])?yt[xt]=this.cloneObject(vt[xt]):this._isArray(vt[xt])?yt[xt]=this.cloneArray(vt[xt]):yt[xt]=vt[xt];return yt},cloneArray(vt){return vt.slice(0)},degToRad(vt){return vt*at},radToDeg(vt){return vt*ot},_degToRad(vt){return et.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),et.Util.degToRad(vt)},_radToDeg(vt){return et.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),et.Util.radToDeg(vt)},_getRotation(vt){return _e.Konva.angleDeg?et.Util.radToDeg(vt):vt},_capitalize(vt){return vt.charAt(0).toUpperCase()+vt.slice(1)},throw(vt){throw new Error(ft+vt)},error(vt){console.error(ft+vt)},warn(vt){_e.Konva.showWarnings&&console.warn(dt+vt)},each(vt,yt){for(var xt in vt)yt(xt,vt[xt])},_inRange(vt,yt,xt){return yt<=vt&&vt<xt},_getProjectionToSegment(vt,yt,xt,Et,wt,$t){var Tt,St,Pt,At=(vt-xt)*(vt-xt)+(yt-Et)*(yt-Et);if(At==0)Tt=vt,St=yt,Pt=(wt-xt)*(wt-xt)+($t-Et)*($t-Et);else{var Rt=((wt-vt)*(xt-vt)+($t-yt)*(Et-yt))/At;Rt<0?(Tt=vt,St=yt,Pt=(vt-wt)*(vt-wt)+(yt-$t)*(yt-$t)):Rt>1?(Tt=xt,St=Et,Pt=(xt-wt)*(xt-wt)+(Et-$t)*(Et-$t)):(Tt=vt+Rt*(xt-vt),St=yt+Rt*(Et-yt),Pt=(Tt-wt)*(Tt-wt)+(St-$t)*(St-$t))}return[Tt,St,Pt]},_getProjectionToLine(vt,yt,xt){var Et=et.Util.cloneObject(vt),wt=Number.MAX_VALUE;return yt.forEach(function($t,Tt){if(!(!xt&&Tt===yt.length-1)){var St=yt[(Tt+1)%yt.length],Pt=et.Util._getProjectionToSegment($t.x,$t.y,St.x,St.y,vt.x,vt.y),At=Pt[0],Rt=Pt[1],Ct=Pt[2];Ct<wt&&(Et.x=At,Et.y=Rt,wt=Ct)}}),Et},_prepareArrayForTween(vt,yt,xt){var Et,wt=[],$t=[];if(vt.length>yt.length){var Tt=yt;yt=vt,vt=Tt}for(Et=0;Et<vt.length;Et+=2)wt.push({x:vt[Et],y:vt[Et+1]});for(Et=0;Et<yt.length;Et+=2)$t.push({x:yt[Et],y:yt[Et+1]});var St=[];return $t.forEach(function(Pt){var At=et.Util._getProjectionToLine(Pt,wt,xt);St.push(At.x),St.push(At.y)}),St},_prepareToStringify(vt){var yt;vt.visitedByCircularReferenceRemoval=!0;for(var xt in vt)if(vt.hasOwnProperty(xt)&&vt[xt]&&typeof vt[xt]=="object"){if(yt=Object.getOwnPropertyDescriptor(vt,xt),vt[xt].visitedByCircularReferenceRemoval||et.Util._isElement(vt[xt]))if(yt.configurable)delete vt[xt];else return null;else if(et.Util._prepareToStringify(vt[xt])===null)if(yt.configurable)delete vt[xt];else return null}return delete vt.visitedByCircularReferenceRemoval,vt},_assign(vt,yt){for(var xt in yt)vt[xt]=yt[xt];return vt},_getFirstPointerId(vt){return vt.touches?vt.changedTouches[0].identifier:vt.pointerId||999},releaseCanvas(...vt){_e.Konva.releaseCanvasOnDestroy&&vt.forEach(yt=>{yt.width=0,yt.height=0})},drawRoundedRectPath(vt,yt,xt,Et){let wt=0,$t=0,Tt=0,St=0;typeof Et=="number"?wt=$t=Tt=St=Math.min(Et,yt/2,xt/2):(wt=Math.min(Et[0]||0,yt/2,xt/2),$t=Math.min(Et[1]||0,yt/2,xt/2),St=Math.min(Et[2]||0,yt/2,xt/2),Tt=Math.min(Et[3]||0,yt/2,xt/2)),vt.moveTo(wt,0),vt.lineTo(yt-$t,0),vt.arc(yt-$t,$t,$t,Math.PI*3/2,0,!1),vt.lineTo(yt,xt-St),vt.arc(yt-St,xt-St,St,0,Math.PI/2,!1),vt.lineTo(Tt,xt),vt.arc(Tt,xt-Tt,Tt,Math.PI/2,Math.PI,!1),vt.lineTo(0,wt),vt.arc(wt,wt,wt,Math.PI,Math.PI*3/2,!1)}}})(Util);var Node$2={},Factory={},Validators={};Object.defineProperty(Validators,"__esModule",{value:!0});Validators.getComponentValidator=Validators.getBooleanValidator=Validators.getNumberArrayValidator=Validators.getFunctionValidator=Validators.getStringOrGradientValidator=Validators.getStringValidator=Validators.getNumberOrAutoValidator=Validators.getNumberOrArrayOfNumbersValidator=Validators.getNumberValidator=Validators.alphaComponent=Validators.RGBComponent=void 0;const Global_1$p=Global,Util_1$f=Util;function _formatValue(et){return Util_1$f.Util._isString(et)?'"'+et+'"':Object.prototype.toString.call(et)==="[object Number]"||Util_1$f.Util._isBoolean(et)?et:Object.prototype.toString.call(et)}function RGBComponent(et){return et>255?255:et<0?0:Math.round(et)}Validators.RGBComponent=RGBComponent;function alphaComponent(et){return et>1?1:et<1e-4?1e-4:et}Validators.alphaComponent=alphaComponent;function getNumberValidator(){if(Global_1$p.Konva.isUnminified)return function(et,_e){return Util_1$f.Util._isNumber(et)||Util_1$f.Util.warn(_formatValue(et)+' is a not valid value for "'+_e+'" attribute. The value should be a number.'),et}}Validators.getNumberValidator=getNumberValidator;function getNumberOrArrayOfNumbersValidator(et){if(Global_1$p.Konva.isUnminified)return function(_e,tt){let rt=Util_1$f.Util._isNumber(_e),nt=Util_1$f.Util._isArray(_e)&&_e.length==et;return!rt&&!nt&&Util_1$f.Util.warn(_formatValue(_e)+' is a not valid value for "'+tt+'" attribute. The value should be a number or Array<number>('+et+")"),_e}}Validators.getNumberOrArrayOfNumbersValidator=getNumberOrArrayOfNumbersValidator;function getNumberOrAutoValidator(){if(Global_1$p.Konva.isUnminified)return function(et,_e){var tt=Util_1$f.Util._isNumber(et),rt=et==="auto";return tt||rt||Util_1$f.Util.warn(_formatValue(et)+' is a not valid value for "'+_e+'" attribute. The value should be a number or "auto".'),et}}Validators.getNumberOrAutoValidator=getNumberOrAutoValidator;function getStringValidator(){if(Global_1$p.Konva.isUnminified)return function(et,_e){return Util_1$f.Util._isString(et)||Util_1$f.Util.warn(_formatValue(et)+' is a not valid value for "'+_e+'" attribute. The value should be a string.'),et}}Validators.getStringValidator=getStringValidator;function getStringOrGradientValidator(){if(Global_1$p.Konva.isUnminified)return function(et,_e){const tt=Util_1$f.Util._isString(et),rt=Object.prototype.toString.call(et)==="[object CanvasGradient]"||et&&et.addColorStop;return tt||rt||Util_1$f.Util.warn(_formatValue(et)+' is a not valid value for "'+_e+'" attribute. The value should be a string or a native gradient.'),et}}Validators.getStringOrGradientValidator=getStringOrGradientValidator;function getFunctionValidator(){if(Global_1$p.Konva.isUnminified)return function(et,_e){return Util_1$f.Util._isFunction(et)||Util_1$f.Util.warn(_formatValue(et)+' is a not valid value for "'+_e+'" attribute. The value should be a function.'),et}}Validators.getFunctionValidator=getFunctionValidator;function getNumberArrayValidator(){if(Global_1$p.Konva.isUnminified)return function(et,_e){const tt=Int8Array?Object.getPrototypeOf(Int8Array):null;return tt&&et instanceof tt||(Util_1$f.Util._isArray(et)?et.forEach(function(rt){Util_1$f.Util._isNumber(rt)||Util_1$f.Util.warn('"'+_e+'" attribute has non numeric element '+rt+". Make sure that all elements are numbers.")}):Util_1$f.Util.warn(_formatValue(et)+' is a not valid value for "'+_e+'" attribute. The value should be a array of numbers.')),et}}Validators.getNumberArrayValidator=getNumberArrayValidator;function getBooleanValidator(){if(Global_1$p.Konva.isUnminified)return function(et,_e){var tt=et===!0||et===!1;return tt||Util_1$f.Util.warn(_formatValue(et)+' is a not valid value for "'+_e+'" attribute. The value should be a boolean.'),et}}Validators.getBooleanValidator=getBooleanValidator;function getComponentValidator(et){if(Global_1$p.Konva.isUnminified)return function(_e,tt){return _e==null||Util_1$f.Util.isObject(_e)||Util_1$f.Util.warn(_formatValue(_e)+' is a not valid value for "'+tt+'" attribute. The value should be an object with properties '+et),_e}}Validators.getComponentValidator=getComponentValidator;(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et.Factory=void 0;const _e=Util,tt=Validators;var rt="get",nt="set";et.Factory={addGetterSetter(st,it,at,ot,lt){et.Factory.addGetter(st,it,at),et.Factory.addSetter(st,it,ot,lt),et.Factory.addOverloadedGetterSetter(st,it)},addGetter(st,it,at){var ot=rt+_e.Util._capitalize(it);st.prototype[ot]=st.prototype[ot]||function(){var lt=this.attrs[it];return lt===void 0?at:lt}},addSetter(st,it,at,ot){var lt=nt+_e.Util._capitalize(it);st.prototype[lt]||et.Factory.overWriteSetter(st,it,at,ot)},overWriteSetter(st,it,at,ot){var lt=nt+_e.Util._capitalize(it);st.prototype[lt]=function(ct){return at&&ct!==void 0&&ct!==null&&(ct=at.call(this,ct,it)),this._setAttr(it,ct),ot&&ot.call(this),this}},addComponentsGetterSetter(st,it,at,ot,lt){var ct=at.length,ut=_e.Util._capitalize,dt=rt+ut(it),ft=nt+ut(it),ht,pt;st.prototype[dt]=function(){var mt={};for(ht=0;ht<ct;ht++)pt=at[ht],mt[pt]=this.getAttr(it+ut(pt));return mt};var gt=(0,tt.getComponentValidator)(at);st.prototype[ft]=function(mt){var bt=this.attrs[it],vt;ot&&(mt=ot.call(this,mt)),gt&&gt.call(this,mt,it);for(vt in mt)mt.hasOwnProperty(vt)&&this._setAttr(it+ut(vt),mt[vt]);return mt||at.forEach(yt=>{this._setAttr(it+ut(yt),void 0)}),this._fireChangeEvent(it,bt,mt),lt&&lt.call(this),this},et.Factory.addOverloadedGetterSetter(st,it)},addOverloadedGetterSetter(st,it){var at=_e.Util._capitalize(it),ot=nt+at,lt=rt+at;st.prototype[it]=function(){return arguments.length?(this[ot](arguments[0]),this):this[lt]()}},addDeprecatedGetterSetter(st,it,at,ot){_e.Util.error("Adding deprecated "+it);var lt=rt+_e.Util._capitalize(it),ct=it+" property is deprecated and will be removed soon. Look at Konva change log for more information.";st.prototype[lt]=function(){_e.Util.error(ct);var ut=this.attrs[it];return ut===void 0?at:ut},et.Factory.addSetter(st,it,ot,function(){_e.Util.error(ct)}),et.Factory.addOverloadedGetterSetter(st,it)},backCompat(st,it){_e.Util.each(it,function(at,ot){var lt=st.prototype[ot],ct=rt+_e.Util._capitalize(at),ut=nt+_e.Util._capitalize(at);function dt(){lt.apply(this,arguments),_e.Util.error('"'+at+'" method is deprecated and will be removed soon. Use ""'+ot+'" instead.')}st.prototype[at]=dt,st.prototype[ct]=dt,st.prototype[ut]=dt})},afterSetFilter(){this._filterUpToDate=!1}}})(Factory);var Canvas$2={},Context$1={};Object.defineProperty(Context$1,"__esModule",{value:!0});Context$1.HitContext=Context$1.SceneContext=Context$1.Context=void 0;const Util_1$e=Util,Global_1$o=Global;function simplifyArray(et){var _e=[],tt=et.length,rt=Util_1$e.Util,nt,st;for(nt=0;nt<tt;nt++)st=et[nt],rt._isNumber(st)?st=Math.round(st*1e3)/1e3:rt._isString(st)||(st=st+""),_e.push(st);return _e}var COMMA=",",OPEN_PAREN="(",CLOSE_PAREN=")",OPEN_PAREN_BRACKET="([",CLOSE_BRACKET_PAREN="])",SEMICOLON=";",DOUBLE_PAREN="()",EQUALS="=",CONTEXT_METHODS=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],CONTEXT_PROPERTIES=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"];const traceArrMax=100;class Context{constructor(_e){this.canvas=_e,Global_1$o.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(_e){_e.fillEnabled()&&this._fill(_e)}_fill(_e){}strokeShape(_e){_e.hasStroke()&&this._stroke(_e)}_stroke(_e){}fillStrokeShape(_e){_e.attrs.fillAfterStrokeEnabled?(this.strokeShape(_e),this.fillShape(_e)):(this.fillShape(_e),this.strokeShape(_e))}getTrace(_e,tt){var rt=this.traceArr,nt=rt.length,st="",it,at,ot,lt;for(it=0;it<nt;it++)at=rt[it],ot=at.method,ot?(lt=at.args,st+=ot,_e?st+=DOUBLE_PAREN:Util_1$e.Util._isArray(lt[0])?st+=OPEN_PAREN_BRACKET+lt.join(COMMA)+CLOSE_BRACKET_PAREN:(tt&&(lt=lt.map(ct=>typeof ct=="number"?Math.floor(ct):ct)),st+=OPEN_PAREN+lt.join(COMMA)+CLOSE_PAREN)):(st+=at.property,_e||(st+=EQUALS+at.val)),st+=SEMICOLON;return st}clearTrace(){this.traceArr=[]}_trace(_e){var tt=this.traceArr,rt;tt.push(_e),rt=tt.length,rt>=traceArrMax&&tt.shift()}reset(){var _e=this.getCanvas().getPixelRatio();this.setTransform(1*_e,0,0,1*_e,0,0)}getCanvas(){return this.canvas}clear(_e){var tt=this.getCanvas();_e?this.clearRect(_e.x||0,_e.y||0,_e.width||0,_e.height||0):this.clearRect(0,0,tt.getWidth()/tt.pixelRatio,tt.getHeight()/tt.pixelRatio)}_applyLineCap(_e){const tt=_e.attrs.lineCap;tt&&this.setAttr("lineCap",tt)}_applyOpacity(_e){var tt=_e.getAbsoluteOpacity();tt!==1&&this.setAttr("globalAlpha",tt)}_applyLineJoin(_e){const tt=_e.attrs.lineJoin;tt&&this.setAttr("lineJoin",tt)}setAttr(_e,tt){this._context[_e]=tt}arc(_e,tt,rt,nt,st,it){this._context.arc(_e,tt,rt,nt,st,it)}arcTo(_e,tt,rt,nt,st){this._context.arcTo(_e,tt,rt,nt,st)}beginPath(){this._context.beginPath()}bezierCurveTo(_e,tt,rt,nt,st,it){this._context.bezierCurveTo(_e,tt,rt,nt,st,it)}clearRect(_e,tt,rt,nt){this._context.clearRect(_e,tt,rt,nt)}clip(..._e){this._context.clip.apply(this._context,_e)}closePath(){this._context.closePath()}createImageData(_e,tt){var rt=arguments;if(rt.length===2)return this._context.createImageData(_e,tt);if(rt.length===1)return this._context.createImageData(_e)}createLinearGradient(_e,tt,rt,nt){return this._context.createLinearGradient(_e,tt,rt,nt)}createPattern(_e,tt){return this._context.createPattern(_e,tt)}createRadialGradient(_e,tt,rt,nt,st,it){return this._context.createRadialGradient(_e,tt,rt,nt,st,it)}drawImage(_e,tt,rt,nt,st,it,at,ot,lt){var ct=arguments,ut=this._context;ct.length===3?ut.drawImage(_e,tt,rt):ct.length===5?ut.drawImage(_e,tt,rt,nt,st):ct.length===9&&ut.drawImage(_e,tt,rt,nt,st,it,at,ot,lt)}ellipse(_e,tt,rt,nt,st,it,at,ot){this._context.ellipse(_e,tt,rt,nt,st,it,at,ot)}isPointInPath(_e,tt,rt,nt){return rt?this._context.isPointInPath(rt,_e,tt,nt):this._context.isPointInPath(_e,tt,nt)}fill(..._e){this._context.fill.apply(this._context,_e)}fillRect(_e,tt,rt,nt){this._context.fillRect(_e,tt,rt,nt)}strokeRect(_e,tt,rt,nt){this._context.strokeRect(_e,tt,rt,nt)}fillText(_e,tt,rt,nt){nt?this._context.fillText(_e,tt,rt,nt):this._context.fillText(_e,tt,rt)}measureText(_e){return this._context.measureText(_e)}getImageData(_e,tt,rt,nt){return this._context.getImageData(_e,tt,rt,nt)}lineTo(_e,tt){this._context.lineTo(_e,tt)}moveTo(_e,tt){this._context.moveTo(_e,tt)}rect(_e,tt,rt,nt){this._context.rect(_e,tt,rt,nt)}roundRect(_e,tt,rt,nt,st){this._context.roundRect(_e,tt,rt,nt,st)}putImageData(_e,tt,rt){this._context.putImageData(_e,tt,rt)}quadraticCurveTo(_e,tt,rt,nt){this._context.quadraticCurveTo(_e,tt,rt,nt)}restore(){this._context.restore()}rotate(_e){this._context.rotate(_e)}save(){this._context.save()}scale(_e,tt){this._context.scale(_e,tt)}setLineDash(_e){this._context.setLineDash?this._context.setLineDash(_e):"mozDash"in this._context?this._context.mozDash=_e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=_e)}getLineDash(){return this._context.getLineDash()}setTransform(_e,tt,rt,nt,st,it){this._context.setTransform(_e,tt,rt,nt,st,it)}stroke(_e){_e?this._context.stroke(_e):this._context.stroke()}strokeText(_e,tt,rt,nt){this._context.strokeText(_e,tt,rt,nt)}transform(_e,tt,rt,nt,st,it){this._context.transform(_e,tt,rt,nt,st,it)}translate(_e,tt){this._context.translate(_e,tt)}_enableTrace(){var _e=this,tt=CONTEXT_METHODS.length,rt=this.setAttr,nt,st,it=function(at){var ot=_e[at],lt;_e[at]=function(){return st=simplifyArray(Array.prototype.slice.call(arguments,0)),lt=ot.apply(_e,arguments),_e._trace({method:at,args:st}),lt}};for(nt=0;nt<tt;nt++)it(CONTEXT_METHODS[nt]);_e.setAttr=function(){rt.apply(_e,arguments);var at=arguments[0],ot=arguments[1];(at==="shadowOffsetX"||at==="shadowOffsetY"||at==="shadowBlur")&&(ot=ot/this.canvas.getPixelRatio()),_e._trace({property:at,val:ot})}}_applyGlobalCompositeOperation(_e){const tt=_e.attrs.globalCompositeOperation;var rt=!tt||tt==="source-over";rt||this.setAttr("globalCompositeOperation",tt)}}Context$1.Context=Context;CONTEXT_PROPERTIES.forEach(function(et){Object.defineProperty(Context.prototype,et,{get(){return this._context[et]},set(_e){this._context[et]=_e}})});class SceneContext extends Context{constructor(_e,{willReadFrequently:tt=!1}={}){super(_e),this._context=_e._canvas.getContext("2d",{willReadFrequently:tt})}_fillColor(_e){var tt=_e.fill();this.setAttr("fillStyle",tt),_e._fillFunc(this)}_fillPattern(_e){this.setAttr("fillStyle",_e._getFillPattern()),_e._fillFunc(this)}_fillLinearGradient(_e){var tt=_e._getLinearGradient();tt&&(this.setAttr("fillStyle",tt),_e._fillFunc(this))}_fillRadialGradient(_e){const tt=_e._getRadialGradient();tt&&(this.setAttr("fillStyle",tt),_e._fillFunc(this))}_fill(_e){const tt=_e.fill(),rt=_e.getFillPriority();if(tt&&rt==="color"){this._fillColor(_e);return}const nt=_e.getFillPatternImage();if(nt&&rt==="pattern"){this._fillPattern(_e);return}const st=_e.getFillLinearGradientColorStops();if(st&&rt==="linear-gradient"){this._fillLinearGradient(_e);return}const it=_e.getFillRadialGradientColorStops();if(it&&rt==="radial-gradient"){this._fillRadialGradient(_e);return}tt?this._fillColor(_e):nt?this._fillPattern(_e):st?this._fillLinearGradient(_e):it&&this._fillRadialGradient(_e)}_strokeLinearGradient(_e){const tt=_e.getStrokeLinearGradientStartPoint(),rt=_e.getStrokeLinearGradientEndPoint(),nt=_e.getStrokeLinearGradientColorStops(),st=this.createLinearGradient(tt.x,tt.y,rt.x,rt.y);if(nt){for(var it=0;it<nt.length;it+=2)st.addColorStop(nt[it],nt[it+1]);this.setAttr("strokeStyle",st)}}_stroke(_e){var tt=_e.dash(),rt=_e.getStrokeScaleEnabled();if(_e.hasStroke()){if(!rt){this.save();var nt=this.getCanvas().getPixelRatio();this.setTransform(nt,0,0,nt,0,0)}this._applyLineCap(_e),tt&&_e.dashEnabled()&&(this.setLineDash(tt),this.setAttr("lineDashOffset",_e.dashOffset())),this.setAttr("lineWidth",_e.strokeWidth()),_e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");var st=_e.getStrokeLinearGradientColorStops();st?this._strokeLinearGradient(_e):this.setAttr("strokeStyle",_e.stroke()),_e._strokeFunc(this),rt||this.restore()}}_applyShadow(_e){var tt,rt,nt,st=(tt=_e.getShadowRGBA())!==null&&tt!==void 0?tt:"black",it=(rt=_e.getShadowBlur())!==null&&rt!==void 0?rt:5,at=(nt=_e.getShadowOffset())!==null&&nt!==void 0?nt:{x:0,y:0},ot=_e.getAbsoluteScale(),lt=this.canvas.getPixelRatio(),ct=ot.x*lt,ut=ot.y*lt;this.setAttr("shadowColor",st),this.setAttr("shadowBlur",it*Math.min(Math.abs(ct),Math.abs(ut))),this.setAttr("shadowOffsetX",at.x*ct),this.setAttr("shadowOffsetY",at.y*ut)}}Context$1.SceneContext=SceneContext;class HitContext extends Context{constructor(_e){super(_e),this._context=_e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(_e){this.save(),this.setAttr("fillStyle",_e.colorKey),_e._fillFuncHit(this),this.restore()}strokeShape(_e){_e.hasHitStroke()&&this._stroke(_e)}_stroke(_e){if(_e.hasHitStroke()){const st=_e.getStrokeScaleEnabled();if(!st){this.save();var tt=this.getCanvas().getPixelRatio();this.setTransform(tt,0,0,tt,0,0)}this._applyLineCap(_e);var rt=_e.hitStrokeWidth(),nt=rt==="auto"?_e.strokeWidth():rt;this.setAttr("lineWidth",nt),this.setAttr("strokeStyle",_e.colorKey),_e._strokeFuncHit(this),st||this.restore()}}}Context$1.HitContext=HitContext;Object.defineProperty(Canvas$2,"__esModule",{value:!0});Canvas$2.HitCanvas=Canvas$2.SceneCanvas=Canvas$2.Canvas=void 0;const Util_1$d=Util,Context_1=Context$1,Global_1$n=Global,Factory_1$z=Factory,Validators_1$y=Validators;var _pixelRatio;function getDevicePixelRatio(){if(_pixelRatio)return _pixelRatio;var et=Util_1$d.Util.createCanvasElement(),_e=et.getContext("2d");return _pixelRatio=function(){var tt=Global_1$n.Konva._global.devicePixelRatio||1,rt=_e.webkitBackingStorePixelRatio||_e.mozBackingStorePixelRatio||_e.msBackingStorePixelRatio||_e.oBackingStorePixelRatio||_e.backingStorePixelRatio||1;return tt/rt}(),Util_1$d.Util.releaseCanvas(et),_pixelRatio}let Canvas$1=class{constructor(_e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var tt=_e||{},rt=tt.pixelRatio||Global_1$n.Konva.pixelRatio||getDevicePixelRatio();this.pixelRatio=rt,this._canvas=Util_1$d.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(_e){var tt=this.pixelRatio;this.pixelRatio=_e,this.setSize(this.getWidth()/tt,this.getHeight()/tt)}setWidth(_e){this.width=this._canvas.width=_e*this.pixelRatio,this._canvas.style.width=_e+"px";var tt=this.pixelRatio,rt=this.getContext()._context;rt.scale(tt,tt)}setHeight(_e){this.height=this._canvas.height=_e*this.pixelRatio,this._canvas.style.height=_e+"px";var tt=this.pixelRatio,rt=this.getContext()._context;rt.scale(tt,tt)}getWidth(){return this.width}getHeight(){return this.height}setSize(_e,tt){this.setWidth(_e||0),this.setHeight(tt||0)}toDataURL(_e,tt){try{return this._canvas.toDataURL(_e,tt)}catch{try{return this._canvas.toDataURL()}catch(nt){return Util_1$d.Util.error("Unable to get data URL. "+nt.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};Canvas$2.Canvas=Canvas$1;Factory_1$z.Factory.addGetterSetter(Canvas$1,"pixelRatio",void 0,(0,Validators_1$y.getNumberValidator)());class SceneCanvas extends Canvas$1{constructor(_e={width:0,height:0,willReadFrequently:!1}){super(_e),this.context=new Context_1.SceneContext(this,{willReadFrequently:_e.willReadFrequently}),this.setSize(_e.width,_e.height)}}Canvas$2.SceneCanvas=SceneCanvas;class HitCanvas extends Canvas$1{constructor(_e={width:0,height:0}){super(_e),this.hitCanvas=!0,this.context=new Context_1.HitContext(this),this.setSize(_e.width,_e.height)}}Canvas$2.HitCanvas=HitCanvas;var DragAndDrop={};(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et.DD=void 0;const _e=Global,tt=Util;et.DD={get isDragging(){var rt=!1;return et.DD._dragElements.forEach(nt=>{nt.dragStatus==="dragging"&&(rt=!0)}),rt},justDragged:!1,get node(){var rt;return et.DD._dragElements.forEach(nt=>{rt=nt.node}),rt},_dragElements:new Map,_drag(rt){const nt=[];et.DD._dragElements.forEach((st,it)=>{const{node:at}=st,ot=at.getStage();ot.setPointersPositions(rt),st.pointerId===void 0&&(st.pointerId=tt.Util._getFirstPointerId(rt));const lt=ot._changedPointerPositions.find(dt=>dt.id===st.pointerId);if(lt){if(st.dragStatus!=="dragging"){var ct=at.dragDistance(),ut=Math.max(Math.abs(lt.x-st.startPointerPos.x),Math.abs(lt.y-st.startPointerPos.y));if(ut<ct||(at.startDrag({evt:rt}),!at.isDragging()))return}at._setDragPosition(rt,st),nt.push(at)}}),nt.forEach(st=>{st.fire("dragmove",{type:"dragmove",target:st,evt:rt},!0)})},_endDragBefore(rt){const nt=[];et.DD._dragElements.forEach(st=>{const{node:it}=st,at=it.getStage();if(rt&&at.setPointersPositions(rt),!at._changedPointerPositions.find(ct=>ct.id===st.pointerId))return;(st.dragStatus==="dragging"||st.dragStatus==="stopped")&&(et.DD.justDragged=!0,_e.Konva._mouseListenClick=!1,_e.Konva._touchListenClick=!1,_e.Konva._pointerListenClick=!1,st.dragStatus="stopped");const lt=st.node.getLayer()||st.node instanceof _e.Konva.Stage&&st.node;lt&&nt.indexOf(lt)===-1&&nt.push(lt)}),nt.forEach(st=>{st.draw()})},_endDragAfter(rt){et.DD._dragElements.forEach((nt,st)=>{nt.dragStatus==="stopped"&&nt.node.fire("dragend",{type:"dragend",target:nt.node,evt:rt},!0),nt.dragStatus!=="dragging"&&et.DD._dragElements.delete(st)})}},_e.Konva.isBrowser&&(window.addEventListener("mouseup",et.DD._endDragBefore,!0),window.addEventListener("touchend",et.DD._endDragBefore,!0),window.addEventListener("mousemove",et.DD._drag),window.addEventListener("touchmove",et.DD._drag),window.addEventListener("mouseup",et.DD._endDragAfter,!1),window.addEventListener("touchend",et.DD._endDragAfter,!1))})(DragAndDrop);Object.defineProperty(Node$2,"__esModule",{value:!0});Node$2.Node=void 0;const Util_1$c=Util,Factory_1$y=Factory,Canvas_1$1=Canvas$2,Global_1$m=Global,DragAndDrop_1=DragAndDrop,Validators_1$x=Validators;var ABSOLUTE_OPACITY="absoluteOpacity",ALL_LISTENERS="allEventListeners",ABSOLUTE_TRANSFORM="absoluteTransform",ABSOLUTE_SCALE="absoluteScale",CANVAS="canvas",CHANGE="Change",CHILDREN="children",KONVA="konva",LISTENING="listening",MOUSEENTER="mouseenter",MOUSELEAVE="mouseleave",SET="set",SHAPE="Shape",SPACE$1=" ",STAGE="stage",TRANSFORM="transform",UPPER_STAGE="Stage",VISIBLE="visible",TRANSFORM_CHANGE_STR$1=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(SPACE$1);let idCounter$1=1,Node$1=class gs{constructor(_e){this._id=idCounter$1++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(_e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(_e){(_e===TRANSFORM||_e===ABSOLUTE_TRANSFORM)&&this._cache.get(_e)?this._cache.get(_e).dirty=!0:_e?this._cache.delete(_e):this._cache.clear()}_getCache(_e,tt){var rt=this._cache.get(_e),nt=_e===TRANSFORM||_e===ABSOLUTE_TRANSFORM,st=rt===void 0||nt&&rt.dirty===!0;return st&&(rt=tt.call(this),this._cache.set(_e,rt)),rt}_calculate(_e,tt,rt){if(!this._attachedDepsListeners.get(_e)){const nt=tt.map(st=>st+"Change.konva").join(SPACE$1);this.on(nt,()=>{this._clearCache(_e)}),this._attachedDepsListeners.set(_e,!0)}return this._getCache(_e,rt)}_getCanvasCache(){return this._cache.get(CANVAS)}_clearSelfAndDescendantCache(_e){this._clearCache(_e),_e===ABSOLUTE_TRANSFORM&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(CANVAS)){const{scene:_e,filter:tt,hit:rt}=this._cache.get(CANVAS);Util_1$c.Util.releaseCanvas(_e,tt,rt),this._cache.delete(CANVAS)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(_e){var tt=_e||{},rt={};(tt.x===void 0||tt.y===void 0||tt.width===void 0||tt.height===void 0)&&(rt=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));var nt=Math.ceil(tt.width||rt.width),st=Math.ceil(tt.height||rt.height),it=tt.pixelRatio,at=tt.x===void 0?Math.floor(rt.x):tt.x,ot=tt.y===void 0?Math.floor(rt.y):tt.y,lt=tt.offset||0,ct=tt.drawBorder||!1,ut=tt.hitCanvasPixelRatio||1;if(!nt||!st){Util_1$c.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const dt=Math.abs(Math.round(rt.x)-at)>.5?1:0,ft=Math.abs(Math.round(rt.y)-ot)>.5?1:0;nt+=lt*2+dt,st+=lt*2+ft,at-=lt,ot-=lt;var ht=new Canvas_1$1.SceneCanvas({pixelRatio:it,width:nt,height:st}),pt=new Canvas_1$1.SceneCanvas({pixelRatio:it,width:0,height:0,willReadFrequently:!0}),gt=new Canvas_1$1.HitCanvas({pixelRatio:ut,width:nt,height:st}),mt=ht.getContext(),bt=gt.getContext();return gt.isCache=!0,ht.isCache=!0,this._cache.delete(CANVAS),this._filterUpToDate=!1,tt.imageSmoothingEnabled===!1&&(ht.getContext()._context.imageSmoothingEnabled=!1,pt.getContext()._context.imageSmoothingEnabled=!1),mt.save(),bt.save(),mt.translate(-at,-ot),bt.translate(-at,-ot),this._isUnderCache=!0,this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY),this._clearSelfAndDescendantCache(ABSOLUTE_SCALE),this.drawScene(ht,this),this.drawHit(gt,this),this._isUnderCache=!1,mt.restore(),bt.restore(),ct&&(mt.save(),mt.beginPath(),mt.rect(0,0,nt,st),mt.closePath(),mt.setAttr("strokeStyle","red"),mt.setAttr("lineWidth",5),mt.stroke(),mt.restore()),this._cache.set(CANVAS,{scene:ht,filter:pt,hit:gt,x:at,y:ot}),this._requestDraw(),this}isCached(){return this._cache.has(CANVAS)}getClientRect(_e){throw new Error('abstract "getClientRect" method call')}_transformedRect(_e,tt){var rt=[{x:_e.x,y:_e.y},{x:_e.x+_e.width,y:_e.y},{x:_e.x+_e.width,y:_e.y+_e.height},{x:_e.x,y:_e.y+_e.height}],nt=1/0,st=1/0,it=-1/0,at=-1/0,ot=this.getAbsoluteTransform(tt);return rt.forEach(function(lt){var ct=ot.point(lt);nt===void 0&&(nt=it=ct.x,st=at=ct.y),nt=Math.min(nt,ct.x),st=Math.min(st,ct.y),it=Math.max(it,ct.x),at=Math.max(at,ct.y)}),{x:nt,y:st,width:it-nt,height:at-st}}_drawCachedSceneCanvas(_e){_e.save(),_e._applyOpacity(this),_e._applyGlobalCompositeOperation(this);const tt=this._getCanvasCache();_e.translate(tt.x,tt.y);var rt=this._getCachedSceneCanvas(),nt=rt.pixelRatio;_e.drawImage(rt._canvas,0,0,rt.width/nt,rt.height/nt),_e.restore()}_drawCachedHitCanvas(_e){var tt=this._getCanvasCache(),rt=tt.hit;_e.save(),_e.translate(tt.x,tt.y),_e.drawImage(rt._canvas,0,0,rt.width/rt.pixelRatio,rt.height/rt.pixelRatio),_e.restore()}_getCachedSceneCanvas(){var _e=this.filters(),tt=this._getCanvasCache(),rt=tt.scene,nt=tt.filter,st=nt.getContext(),it,at,ot,lt;if(_e){if(!this._filterUpToDate){var ct=rt.pixelRatio;nt.setSize(rt.width/rt.pixelRatio,rt.height/rt.pixelRatio);try{for(it=_e.length,st.clear(),st.drawImage(rt._canvas,0,0,rt.getWidth()/ct,rt.getHeight()/ct),at=st.getImageData(0,0,nt.getWidth(),nt.getHeight()),ot=0;ot<it;ot++){if(lt=_e[ot],typeof lt!="function"){Util_1$c.Util.error("Filter should be type of function, but got "+typeof lt+" instead. Please check correct filters");continue}lt.call(this,at),st.putImageData(at,0,0)}}catch(ut){Util_1$c.Util.error("Unable to apply filter. "+ut.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return nt}return rt}on(_e,tt){if(this._cache&&this._cache.delete(ALL_LISTENERS),arguments.length===3)return this._delegate.apply(this,arguments);var rt=_e.split(SPACE$1),nt=rt.length,st,it,at,ot,lt;for(st=0;st<nt;st++)it=rt[st],at=it.split("."),ot=at[0],lt=at[1]||"",this.eventListeners[ot]||(this.eventListeners[ot]=[]),this.eventListeners[ot].push({name:lt,handler:tt});return this}off(_e,tt){var rt=(_e||"").split(SPACE$1),nt=rt.length,st,it,at,ot,lt,ct;if(this._cache&&this._cache.delete(ALL_LISTENERS),!_e)for(it in this.eventListeners)this._off(it);for(st=0;st<nt;st++)if(at=rt[st],ot=at.split("."),lt=ot[0],ct=ot[1],lt)this.eventListeners[lt]&&this._off(lt,ct,tt);else for(it in this.eventListeners)this._off(it,ct,tt);return this}dispatchEvent(_e){var tt={target:this,type:_e.type,evt:_e};return this.fire(_e.type,tt),this}addEventListener(_e,tt){return this.on(_e,function(rt){tt.call(this,rt.evt)}),this}removeEventListener(_e){return this.off(_e),this}_delegate(_e,tt,rt){var nt=this;this.on(_e,function(st){for(var it=st.target.findAncestors(tt,!0,nt),at=0;at<it.length;at++)st=Util_1$c.Util.cloneObject(st),st.currentTarget=it[at],rt.call(it[at],st)})}remove(){return this.isDragging()&&this.stopDrag(),DragAndDrop_1.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM),this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY),this._clearSelfAndDescendantCache(ABSOLUTE_SCALE),this._clearSelfAndDescendantCache(STAGE),this._clearSelfAndDescendantCache(VISIBLE),this._clearSelfAndDescendantCache(LISTENING)}_remove(){this._clearCaches();var _e=this.getParent();_e&&_e.children&&(_e.children.splice(this.index,1),_e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(_e){var tt="get"+Util_1$c.Util._capitalize(_e);return Util_1$c.Util._isFunction(this[tt])?this[tt]():this.attrs[_e]}getAncestors(){for(var _e=this.getParent(),tt=[];_e;)tt.push(_e),_e=_e.getParent();return tt}getAttrs(){return this.attrs||{}}setAttrs(_e){return this._batchTransformChanges(()=>{var tt,rt;if(!_e)return this;for(tt in _e)tt!==CHILDREN&&(rt=SET+Util_1$c.Util._capitalize(tt),Util_1$c.Util._isFunction(this[rt])?this[rt](_e[tt]):this._setAttr(tt,_e[tt]))}),this}isListening(){return this._getCache(LISTENING,this._isListening)}_isListening(_e){if(!this.listening())return!1;const rt=this.getParent();return rt&&rt!==_e&&this!==_e?rt._isListening(_e):!0}isVisible(){return this._getCache(VISIBLE,this._isVisible)}_isVisible(_e){if(!this.visible())return!1;const rt=this.getParent();return rt&&rt!==_e&&this!==_e?rt._isVisible(_e):!0}shouldDrawHit(_e,tt=!1){if(_e)return this._isVisible(_e)&&this._isListening(_e);var rt=this.getLayer(),nt=!1;DragAndDrop_1.DD._dragElements.forEach(it=>{it.dragStatus==="dragging"&&(it.node.nodeType==="Stage"||it.node.getLayer()===rt)&&(nt=!0)});var st=!tt&&!Global_1$m.Konva.hitOnDragEnabled&&(nt||Global_1$m.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!st}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var _e=this.getDepth(),tt=this,rt=0,nt,st,it,at;function ot(ct){for(nt=[],st=ct.length,it=0;it<st;it++)at=ct[it],rt++,at.nodeType!==SHAPE&&(nt=nt.concat(at.getChildren().slice())),at._id===tt._id&&(it=st);nt.length>0&&nt[0].getDepth()<=_e&&ot(nt)}const lt=this.getStage();return tt.nodeType!==UPPER_STAGE&&lt&&ot(lt.getChildren()),rt}getDepth(){for(var _e=0,tt=this.parent;tt;)_e++,tt=tt.parent;return _e}_batchTransformChanges(_e){this._batchingTransformChange=!0,_e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(TRANSFORM),this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM)),this._needClearTransformCache=!1}setPosition(_e){return this._batchTransformChanges(()=>{this.x(_e.x),this.y(_e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const _e=this.getStage();if(!_e)return null;var tt=_e.getPointerPosition();if(!tt)return null;var rt=this.getAbsoluteTransform().copy();return rt.invert(),rt.point(tt)}getAbsolutePosition(_e){let tt=!1,rt=this.parent;for(;rt;){if(rt.isCached()){tt=!0;break}rt=rt.parent}tt&&!_e&&(_e=!0);var nt=this.getAbsoluteTransform(_e).getMatrix(),st=new Util_1$c.Transform,it=this.offset();return st.m=nt.slice(),st.translate(it.x,it.y),st.getTranslation()}setAbsolutePosition(_e){const{x:tt,y:rt,...nt}=this._clearTransform();this.attrs.x=tt,this.attrs.y=rt,this._clearCache(TRANSFORM);var st=this._getAbsoluteTransform().copy();return st.invert(),st.translate(_e.x,_e.y),_e={x:this.attrs.x+st.getTranslation().x,y:this.attrs.y+st.getTranslation().y},this._setTransform(nt),this.setPosition({x:_e.x,y:_e.y}),this._clearCache(TRANSFORM),this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM),this}_setTransform(_e){var tt;for(tt in _e)this.attrs[tt]=_e[tt]}_clearTransform(){var _e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,_e}move(_e){var tt=_e.x,rt=_e.y,nt=this.x(),st=this.y();return tt!==void 0&&(nt+=tt),rt!==void 0&&(st+=rt),this.setPosition({x:nt,y:st}),this}_eachAncestorReverse(_e,tt){var rt=[],nt=this.getParent(),st,it;if(!(tt&&tt._id===this._id)){for(rt.unshift(this);nt&&(!tt||nt._id!==tt._id);)rt.unshift(nt),nt=nt.parent;for(st=rt.length,it=0;it<st;it++)_e(rt[it])}}rotate(_e){return this.rotation(this.rotation()+_e),this}moveToTop(){if(!this.parent)return Util_1$c.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var _e=this.index,tt=this.parent.getChildren().length;return _e<tt-1?(this.parent.children.splice(_e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return Util_1$c.Util.warn("Node has no parent. moveUp function is ignored."),!1;var _e=this.index,tt=this.parent.getChildren().length;return _e<tt-1?(this.parent.children.splice(_e,1),this.parent.children.splice(_e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return Util_1$c.Util.warn("Node has no parent. moveDown function is ignored."),!1;var _e=this.index;return _e>0?(this.parent.children.splice(_e,1),this.parent.children.splice(_e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return Util_1$c.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var _e=this.index;return _e>0?(this.parent.children.splice(_e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(_e){if(!this.parent)return Util_1$c.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(_e<0||_e>=this.parent.children.length)&&Util_1$c.Util.warn("Unexpected value "+_e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var tt=this.index;return this.parent.children.splice(tt,1),this.parent.children.splice(_e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(ABSOLUTE_OPACITY,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var _e=this.opacity(),tt=this.getParent();return tt&&!tt._isUnderCache&&(_e*=tt.getAbsoluteOpacity()),_e}moveTo(_e){return this.getParent()!==_e&&(this._remove(),_e.add(this)),this}toObject(){var _e=this.getAttrs(),tt,rt,nt,st,it;const at={attrs:{},className:this.getClassName()};for(tt in _e)rt=_e[tt],it=Util_1$c.Util.isObject(rt)&&!Util_1$c.Util._isPlainObject(rt)&&!Util_1$c.Util._isArray(rt),!it&&(nt=typeof this[tt]=="function"&&this[tt],delete _e[tt],st=nt?nt.call(this):null,_e[tt]=rt,st!==rt&&(at.attrs[tt]=rt));return Util_1$c.Util._prepareToStringify(at)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(_e,tt,rt){var nt=[];tt&&this._isMatch(_e)&&nt.push(this);for(var st=this.parent;st;){if(st===rt)return nt;st._isMatch(_e)&&nt.push(st),st=st.parent}return nt}isAncestorOf(_e){return!1}findAncestor(_e,tt,rt){return this.findAncestors(_e,tt,rt)[0]}_isMatch(_e){if(!_e)return!1;if(typeof _e=="function")return _e(this);var tt=_e.replace(/ /g,"").split(","),rt=tt.length,nt,st;for(nt=0;nt<rt;nt++)if(st=tt[nt],Util_1$c.Util.isValidSelector(st)||(Util_1$c.Util.warn('Selector "'+st+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),Util_1$c.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),Util_1$c.Util.warn("Konva is awesome, right?")),st.charAt(0)==="#"){if(this.id()===st.slice(1))return!0}else if(st.charAt(0)==="."){if(this.hasName(st.slice(1)))return!0}else if(this.className===st||this.nodeType===st)return!0;return!1}getLayer(){var _e=this.getParent();return _e?_e.getLayer():null}getStage(){return this._getCache(STAGE,this._getStage)}_getStage(){var _e=this.getParent();return _e?_e.getStage():null}fire(_e,tt={},rt){return tt.target=tt.target||this,rt?this._fireAndBubble(_e,tt):this._fire(_e,tt),this}getAbsoluteTransform(_e){return _e?this._getAbsoluteTransform(_e):this._getCache(ABSOLUTE_TRANSFORM,this._getAbsoluteTransform)}_getAbsoluteTransform(_e){var tt;if(_e)return tt=new Util_1$c.Transform,this._eachAncestorReverse(function(nt){var st=nt.transformsEnabled();st==="all"?tt.multiply(nt.getTransform()):st==="position"&&tt.translate(nt.x()-nt.offsetX(),nt.y()-nt.offsetY())},_e),tt;tt=this._cache.get(ABSOLUTE_TRANSFORM)||new Util_1$c.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(tt):tt.reset();var rt=this.transformsEnabled();if(rt==="all")tt.multiply(this.getTransform());else if(rt==="position"){const nt=this.attrs.x||0,st=this.attrs.y||0,it=this.attrs.offsetX||0,at=this.attrs.offsetY||0;tt.translate(nt-it,st-at)}return tt.dirty=!1,tt}getAbsoluteScale(_e){for(var tt=this;tt;)tt._isUnderCache&&(_e=tt),tt=tt.getParent();const nt=this.getAbsoluteTransform(_e).decompose();return{x:nt.scaleX,y:nt.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(TRANSFORM,this._getTransform)}_getTransform(){var _e,tt,rt=this._cache.get(TRANSFORM)||new Util_1$c.Transform;rt.reset();var nt=this.x(),st=this.y(),it=Global_1$m.Konva.getAngle(this.rotation()),at=(_e=this.attrs.scaleX)!==null&&_e!==void 0?_e:1,ot=(tt=this.attrs.scaleY)!==null&&tt!==void 0?tt:1,lt=this.attrs.skewX||0,ct=this.attrs.skewY||0,ut=this.attrs.offsetX||0,dt=this.attrs.offsetY||0;return(nt!==0||st!==0)&&rt.translate(nt,st),it!==0&&rt.rotate(it),(lt!==0||ct!==0)&&rt.skew(lt,ct),(at!==1||ot!==1)&&rt.scale(at,ot),(ut!==0||dt!==0)&&rt.translate(-1*ut,-1*dt),rt.dirty=!1,rt}clone(_e){var tt=Util_1$c.Util.cloneObject(this.attrs),rt,nt,st,it,at;for(rt in _e)tt[rt]=_e[rt];var ot=new this.constructor(tt);for(rt in this.eventListeners)for(nt=this.eventListeners[rt],st=nt.length,it=0;it<st;it++)at=nt[it],at.name.indexOf(KONVA)<0&&(ot.eventListeners[rt]||(ot.eventListeners[rt]=[]),ot.eventListeners[rt].push(at));return ot}_toKonvaCanvas(_e){_e=_e||{};var tt=this.getClientRect(),rt=this.getStage(),nt=_e.x!==void 0?_e.x:Math.floor(tt.x),st=_e.y!==void 0?_e.y:Math.floor(tt.y),it=_e.pixelRatio||1,at=new Canvas_1$1.SceneCanvas({width:_e.width||Math.ceil(tt.width)||(rt?rt.width():0),height:_e.height||Math.ceil(tt.height)||(rt?rt.height():0),pixelRatio:it}),ot=at.getContext();const lt=new Canvas_1$1.SceneCanvas({width:at.width/at.pixelRatio+Math.abs(nt),height:at.height/at.pixelRatio+Math.abs(st),pixelRatio:at.pixelRatio});return _e.imageSmoothingEnabled===!1&&(ot._context.imageSmoothingEnabled=!1),ot.save(),(nt||st)&&ot.translate(-1*nt,-1*st),this.drawScene(at,void 0,lt),ot.restore(),at}toCanvas(_e){return this._toKonvaCanvas(_e)._canvas}toDataURL(_e){_e=_e||{};var tt=_e.mimeType||null,rt=_e.quality||null,nt=this._toKonvaCanvas(_e).toDataURL(tt,rt);return _e.callback&&_e.callback(nt),nt}toImage(_e){return new Promise((tt,rt)=>{try{const nt=_e==null?void 0:_e.callback;nt&&delete _e.callback,Util_1$c.Util._urlToImage(this.toDataURL(_e),function(st){tt(st),nt==null||nt(st)})}catch(nt){rt(nt)}})}toBlob(_e){return new Promise((tt,rt)=>{try{const nt=_e==null?void 0:_e.callback;nt&&delete _e.callback,this.toCanvas(_e).toBlob(st=>{tt(st),nt==null||nt(st)},_e==null?void 0:_e.mimeType,_e==null?void 0:_e.quality)}catch(nt){rt(nt)}})}setSize(_e){return this.width(_e.width),this.height(_e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Global_1$m.Konva.dragDistance}_off(_e,tt,rt){var nt=this.eventListeners[_e],st,it,at;for(st=0;st<nt.length;st++)if(it=nt[st].name,at=nt[st].handler,(it!=="konva"||tt==="konva")&&(!tt||it===tt)&&(!rt||rt===at)){if(nt.splice(st,1),nt.length===0){delete this.eventListeners[_e];break}st--}}_fireChangeEvent(_e,tt,rt){this._fire(_e+CHANGE,{oldVal:tt,newVal:rt})}addName(_e){if(!this.hasName(_e)){var tt=this.name(),rt=tt?tt+" "+_e:_e;this.name(rt)}return this}hasName(_e){if(!_e)return!1;const tt=this.name();if(!tt)return!1;var rt=(tt||"").split(/\s/g);return rt.indexOf(_e)!==-1}removeName(_e){var tt=(this.name()||"").split(/\s/g),rt=tt.indexOf(_e);return rt!==-1&&(tt.splice(rt,1),this.name(tt.join(" "))),this}setAttr(_e,tt){var rt=this[SET+Util_1$c.Util._capitalize(_e)];return Util_1$c.Util._isFunction(rt)?rt.call(this,tt):this._setAttr(_e,tt),this}_requestDraw(){if(Global_1$m.Konva.autoDrawEnabled){const _e=this.getLayer()||this.getStage();_e==null||_e.batchDraw()}}_setAttr(_e,tt){var rt=this.attrs[_e];rt===tt&&!Util_1$c.Util.isObject(tt)||(tt==null?delete this.attrs[_e]:this.attrs[_e]=tt,this._shouldFireChangeEvents&&this._fireChangeEvent(_e,rt,tt),this._requestDraw())}_setComponentAttr(_e,tt,rt){var nt;rt!==void 0&&(nt=this.attrs[_e],nt||(this.attrs[_e]=this.getAttr(_e)),this.attrs[_e][tt]=rt,this._fireChangeEvent(_e,nt,rt))}_fireAndBubble(_e,tt,rt){tt&&this.nodeType===SHAPE&&(tt.target=this);var nt=(_e===MOUSEENTER||_e===MOUSELEAVE)&&(rt&&(this===rt||this.isAncestorOf&&this.isAncestorOf(rt))||this.nodeType==="Stage"&&!rt);if(!nt){this._fire(_e,tt);var st=(_e===MOUSEENTER||_e===MOUSELEAVE)&&rt&&rt.isAncestorOf&&rt.isAncestorOf(this)&&!rt.isAncestorOf(this.parent);(tt&&!tt.cancelBubble||!tt)&&this.parent&&this.parent.isListening()&&!st&&(rt&&rt.parent?this._fireAndBubble.call(this.parent,_e,tt,rt):this._fireAndBubble.call(this.parent,_e,tt))}}_getProtoListeners(_e){var tt,rt,nt;const st=(tt=this._cache.get(ALL_LISTENERS))!==null&&tt!==void 0?tt:{};let it=st==null?void 0:st[_e];if(it===void 0){it=[];let at=Object.getPrototypeOf(this);for(;at;){const ot=(nt=(rt=at.eventListeners)===null||rt===void 0?void 0:rt[_e])!==null&&nt!==void 0?nt:[];it.push(...ot),at=Object.getPrototypeOf(at)}st[_e]=it,this._cache.set(ALL_LISTENERS,st)}return it}_fire(_e,tt){tt=tt||{},tt.currentTarget=this,tt.type=_e;const rt=this._getProtoListeners(_e);if(rt)for(var nt=0;nt<rt.length;nt++)rt[nt].handler.call(this,tt);const st=this.eventListeners[_e];if(st)for(var nt=0;nt<st.length;nt++)st[nt].handler.call(this,tt)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(_e){var tt=_e?_e.pointerId:void 0,rt=this.getStage(),nt=this.getAbsolutePosition();if(rt){var st=rt._getPointerById(tt)||rt._changedPointerPositions[0]||nt;DragAndDrop_1.DD._dragElements.set(this._id,{node:this,startPointerPos:st,offset:{x:st.x-nt.x,y:st.y-nt.y},dragStatus:"ready",pointerId:tt})}}startDrag(_e,tt=!0){DragAndDrop_1.DD._dragElements.has(this._id)||this._createDragElement(_e);const rt=DragAndDrop_1.DD._dragElements.get(this._id);rt.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:_e&&_e.evt},tt)}_setDragPosition(_e,tt){const rt=this.getStage()._getPointerById(tt.pointerId);if(rt){var nt={x:rt.x-tt.offset.x,y:rt.y-tt.offset.y},st=this.dragBoundFunc();if(st!==void 0){const it=st.call(this,nt,_e);it?nt=it:Util_1$c.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==nt.x||this._lastPos.y!==nt.y)&&(this.setAbsolutePosition(nt),this._requestDraw()),this._lastPos=nt}}stopDrag(_e){const tt=DragAndDrop_1.DD._dragElements.get(this._id);tt&&(tt.dragStatus="stopped"),DragAndDrop_1.DD._endDragBefore(_e),DragAndDrop_1.DD._endDragAfter(_e)}setDraggable(_e){this._setAttr("draggable",_e),this._dragChange()}isDragging(){const _e=DragAndDrop_1.DD._dragElements.get(this._id);return _e?_e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(_e){var tt=_e.evt.button!==void 0,rt=!tt||Global_1$m.Konva.dragButtons.indexOf(_e.evt.button)>=0;if(rt&&!this.isDragging()){var nt=!1;DragAndDrop_1.DD._dragElements.forEach(st=>{this.isAncestorOf(st.node)&&(nt=!0)}),nt||this._createDragElement(_e)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var _e=this.getStage();if(!_e)return;const tt=DragAndDrop_1.DD._dragElements.get(this._id),rt=tt&&tt.dragStatus==="dragging",nt=tt&&tt.dragStatus==="ready";rt?this.stopDrag():nt&&DragAndDrop_1.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(_e={x:0,y:0}){const tt=this.getStage();if(!tt)return!1;const rt={x:-_e.x,y:-_e.y,width:tt.width()+2*_e.x,height:tt.height()+2*_e.y};return Util_1$c.Util.haveIntersection(rt,this.getClientRect())}static create(_e,tt){return Util_1$c.Util._isString(_e)&&(_e=JSON.parse(_e)),this._createNode(_e,tt)}static _createNode(_e,tt){var rt=gs.prototype.getClassName.call(_e),nt=_e.children,st,it,at;tt&&(_e.attrs.container=tt),Global_1$m.Konva[rt]||(Util_1$c.Util.warn('Can not find a node with class name "'+rt+'". Fallback to "Shape".'),rt="Shape");const ot=Global_1$m.Konva[rt];if(st=new ot(_e.attrs),nt)for(it=nt.length,at=0;at<it;at++)st.add(gs._createNode(nt[at]));return st}};Node$2.Node=Node$1;Node$1.prototype.nodeType="Node";Node$1.prototype._attrsAffectingSize=[];Node$1.prototype.eventListeners={};Node$1.prototype.on.call(Node$1.prototype,TRANSFORM_CHANGE_STR$1,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(TRANSFORM),this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM)});Node$1.prototype.on.call(Node$1.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(VISIBLE)});Node$1.prototype.on.call(Node$1.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(LISTENING)});Node$1.prototype.on.call(Node$1.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY)});const addGetterSetter=Factory_1$y.Factory.addGetterSetter;addGetterSetter(Node$1,"zIndex");addGetterSetter(Node$1,"absolutePosition");addGetterSetter(Node$1,"position");addGetterSetter(Node$1,"x",0,(0,Validators_1$x.getNumberValidator)());addGetterSetter(Node$1,"y",0,(0,Validators_1$x.getNumberValidator)());addGetterSetter(Node$1,"globalCompositeOperation","source-over",(0,Validators_1$x.getStringValidator)());addGetterSetter(Node$1,"opacity",1,(0,Validators_1$x.getNumberValidator)());addGetterSetter(Node$1,"name","",(0,Validators_1$x.getStringValidator)());addGetterSetter(Node$1,"id","",(0,Validators_1$x.getStringValidator)());addGetterSetter(Node$1,"rotation",0,(0,Validators_1$x.getNumberValidator)());Factory_1$y.Factory.addComponentsGetterSetter(Node$1,"scale",["x","y"]);addGetterSetter(Node$1,"scaleX",1,(0,Validators_1$x.getNumberValidator)());addGetterSetter(Node$1,"scaleY",1,(0,Validators_1$x.getNumberValidator)());Factory_1$y.Factory.addComponentsGetterSetter(Node$1,"skew",["x","y"]);addGetterSetter(Node$1,"skewX",0,(0,Validators_1$x.getNumberValidator)());addGetterSetter(Node$1,"skewY",0,(0,Validators_1$x.getNumberValidator)());Factory_1$y.Factory.addComponentsGetterSetter(Node$1,"offset",["x","y"]);addGetterSetter(Node$1,"offsetX",0,(0,Validators_1$x.getNumberValidator)());addGetterSetter(Node$1,"offsetY",0,(0,Validators_1$x.getNumberValidator)());addGetterSetter(Node$1,"dragDistance",null,(0,Validators_1$x.getNumberValidator)());addGetterSetter(Node$1,"width",0,(0,Validators_1$x.getNumberValidator)());addGetterSetter(Node$1,"height",0,(0,Validators_1$x.getNumberValidator)());addGetterSetter(Node$1,"listening",!0,(0,Validators_1$x.getBooleanValidator)());addGetterSetter(Node$1,"preventDefault",!0,(0,Validators_1$x.getBooleanValidator)());addGetterSetter(Node$1,"filters",null,function(et){return this._filterUpToDate=!1,et});addGetterSetter(Node$1,"visible",!0,(0,Validators_1$x.getBooleanValidator)());addGetterSetter(Node$1,"transformsEnabled","all",(0,Validators_1$x.getStringValidator)());addGetterSetter(Node$1,"size");addGetterSetter(Node$1,"dragBoundFunc");addGetterSetter(Node$1,"draggable",!1,(0,Validators_1$x.getBooleanValidator)());Factory_1$y.Factory.backCompat(Node$1,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});var Container$1={};Object.defineProperty(Container$1,"__esModule",{value:!0});Container$1.Container=void 0;const Factory_1$x=Factory,Node_1$h=Node$2,Validators_1$w=Validators;class Container extends Node_1$h.Node{constructor(){super(...arguments),this.children=[]}getChildren(_e){if(!_e)return this.children||[];const tt=this.children||[];var rt=[];return tt.forEach(function(nt){_e(nt)&&rt.push(nt)}),rt}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(_e=>{_e.parent=null,_e.index=0,_e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(_e=>{_e.parent=null,_e.index=0,_e.destroy()}),this.children=[],this._requestDraw(),this}add(..._e){if(_e.length===0)return this;if(_e.length>1){for(var tt=0;tt<_e.length;tt++)this.add(_e[tt]);return this}const rt=_e[0];return rt.getParent()?(rt.moveTo(this),this):(this._validateAdd(rt),rt.index=this.getChildren().length,rt.parent=this,rt._clearCaches(),this.getChildren().push(rt),this._fire("add",{child:rt}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(_e){return this._generalFind(_e,!1)}findOne(_e){var tt=this._generalFind(_e,!0);return tt.length>0?tt[0]:void 0}_generalFind(_e,tt){var rt=[];return this._descendants(nt=>{const st=nt._isMatch(_e);return st&&rt.push(nt),!!(st&&tt)}),rt}_descendants(_e){let tt=!1;const rt=this.getChildren();for(const nt of rt){if(tt=_e(nt),tt)return!0;if(nt.hasChildren()&&(tt=nt._descendants(_e),tt))return!0}return!1}toObject(){var _e=Node_1$h.Node.prototype.toObject.call(this);return _e.children=[],this.getChildren().forEach(tt=>{_e.children.push(tt.toObject())}),_e}isAncestorOf(_e){for(var tt=_e.getParent();tt;){if(tt._id===this._id)return!0;tt=tt.getParent()}return!1}clone(_e){var tt=Node_1$h.Node.prototype.clone.call(this,_e);return this.getChildren().forEach(function(rt){tt.add(rt.clone())}),tt}getAllIntersections(_e){var tt=[];return this.find("Shape").forEach(rt=>{rt.isVisible()&&rt.intersects(_e)&&tt.push(rt)}),tt}_clearSelfAndDescendantCache(_e){var tt;super._clearSelfAndDescendantCache(_e),!this.isCached()&&((tt=this.children)===null||tt===void 0||tt.forEach(function(rt){rt._clearSelfAndDescendantCache(_e)}))}_setChildrenIndices(){var _e;(_e=this.children)===null||_e===void 0||_e.forEach(function(tt,rt){tt.index=rt}),this._requestDraw()}drawScene(_e,tt,rt){var nt=this.getLayer(),st=_e||nt&&nt.getCanvas(),it=st&&st.getContext(),at=this._getCanvasCache(),ot=at&&at.scene,lt=st&&st.isCache;if(!this.isVisible()&&!lt)return this;if(ot){it.save();var ct=this.getAbsoluteTransform(tt).getMatrix();it.transform(ct[0],ct[1],ct[2],ct[3],ct[4],ct[5]),this._drawCachedSceneCanvas(it),it.restore()}else this._drawChildren("drawScene",st,tt,rt);return this}drawHit(_e,tt){if(!this.shouldDrawHit(tt))return this;var rt=this.getLayer(),nt=_e||rt&&rt.hitCanvas,st=nt&&nt.getContext(),it=this._getCanvasCache(),at=it&&it.hit;if(at){st.save();var ot=this.getAbsoluteTransform(tt).getMatrix();st.transform(ot[0],ot[1],ot[2],ot[3],ot[4],ot[5]),this._drawCachedHitCanvas(st),st.restore()}else this._drawChildren("drawHit",nt,tt);return this}_drawChildren(_e,tt,rt,nt){var st,it=tt&&tt.getContext(),at=this.clipWidth(),ot=this.clipHeight(),lt=this.clipFunc(),ct=typeof at=="number"&&typeof ot=="number"||lt;const ut=rt===this;if(ct){it.save();var dt=this.getAbsoluteTransform(rt),ft=dt.getMatrix();it.transform(ft[0],ft[1],ft[2],ft[3],ft[4],ft[5]),it.beginPath();let mt;if(lt)mt=lt.call(this,it,this);else{var ht=this.clipX(),pt=this.clipY();it.rect(ht||0,pt||0,at,ot)}it.clip.apply(it,mt),ft=dt.copy().invert().getMatrix(),it.transform(ft[0],ft[1],ft[2],ft[3],ft[4],ft[5])}var gt=!ut&&this.globalCompositeOperation()!=="source-over"&&_e==="drawScene";gt&&(it.save(),it._applyGlobalCompositeOperation(this)),(st=this.children)===null||st===void 0||st.forEach(function(mt){mt[_e](tt,rt,nt)}),gt&&it.restore(),ct&&it.restore()}getClientRect(_e={}){var tt,rt=_e.skipTransform,nt=_e.relativeTo,st,it,at,ot,lt={x:1/0,y:1/0,width:0,height:0},ct=this;(tt=this.children)===null||tt===void 0||tt.forEach(function(pt){if(pt.visible()){var gt=pt.getClientRect({relativeTo:ct,skipShadow:_e.skipShadow,skipStroke:_e.skipStroke});gt.width===0&&gt.height===0||(st===void 0?(st=gt.x,it=gt.y,at=gt.x+gt.width,ot=gt.y+gt.height):(st=Math.min(st,gt.x),it=Math.min(it,gt.y),at=Math.max(at,gt.x+gt.width),ot=Math.max(ot,gt.y+gt.height)))}});for(var ut=this.find("Shape"),dt=!1,ft=0;ft<ut.length;ft++){var ht=ut[ft];if(ht._isVisible(this)){dt=!0;break}}return dt&&st!==void 0?lt={x:st,y:it,width:at-st,height:ot-it}:lt={x:0,y:0,width:0,height:0},rt?lt:this._transformedRect(lt,nt)}}Container$1.Container=Container;Factory_1$x.Factory.addComponentsGetterSetter(Container,"clip",["x","y","width","height"]);Factory_1$x.Factory.addGetterSetter(Container,"clipX",void 0,(0,Validators_1$w.getNumberValidator)());Factory_1$x.Factory.addGetterSetter(Container,"clipY",void 0,(0,Validators_1$w.getNumberValidator)());Factory_1$x.Factory.addGetterSetter(Container,"clipWidth",void 0,(0,Validators_1$w.getNumberValidator)());Factory_1$x.Factory.addGetterSetter(Container,"clipHeight",void 0,(0,Validators_1$w.getNumberValidator)());Factory_1$x.Factory.addGetterSetter(Container,"clipFunc");var Stage={},PointerEvents={};Object.defineProperty(PointerEvents,"__esModule",{value:!0});PointerEvents.releaseCapture=PointerEvents.setPointerCapture=PointerEvents.hasPointerCapture=PointerEvents.createEvent=PointerEvents.getCapturedShape=void 0;const Global_1$l=Global,Captures=new Map,SUPPORT_POINTER_EVENTS=Global_1$l.Konva._global.PointerEvent!==void 0;function getCapturedShape(et){return Captures.get(et)}PointerEvents.getCapturedShape=getCapturedShape;function createEvent(et){return{evt:et,pointerId:et.pointerId}}PointerEvents.createEvent=createEvent;function hasPointerCapture(et,_e){return Captures.get(et)===_e}PointerEvents.hasPointerCapture=hasPointerCapture;function setPointerCapture(et,_e){releaseCapture(et),_e.getStage()&&(Captures.set(et,_e),SUPPORT_POINTER_EVENTS&&_e._fire("gotpointercapture",createEvent(new PointerEvent("gotpointercapture"))))}PointerEvents.setPointerCapture=setPointerCapture;function releaseCapture(et,_e){const tt=Captures.get(et);if(!tt)return;const rt=tt.getStage();rt&&rt.content,Captures.delete(et),SUPPORT_POINTER_EVENTS&&tt._fire("lostpointercapture",createEvent(new PointerEvent("lostpointercapture")))}PointerEvents.releaseCapture=releaseCapture;(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et.Stage=et.stages=void 0;const _e=Util,tt=Factory,rt=Container$1,nt=Global,st=Canvas$2,it=DragAndDrop,at=Global,ot=PointerEvents;var lt="Stage",ct="string",ut="px",dt="mouseout",ft="mouseleave",ht="mouseover",pt="mouseenter",gt="mousemove",mt="mousedown",bt="mouseup",vt="pointermove",yt="pointerdown",xt="pointerup",Et="pointercancel",wt="lostpointercapture",$t="pointerout",Tt="pointerleave",St="pointerover",Pt="pointerenter",At="contextmenu",Rt="touchstart",Ct="touchend",Dt="touchmove",Ft="touchcancel",Mt="wheel",Ot=5,jt=[[pt,"_pointerenter"],[mt,"_pointerdown"],[gt,"_pointermove"],[bt,"_pointerup"],[ft,"_pointerleave"],[Rt,"_pointerdown"],[Dt,"_pointermove"],[Ct,"_pointerup"],[Ft,"_pointercancel"],[ht,"_pointerover"],[Mt,"_wheel"],[At,"_contextmenu"],[yt,"_pointerdown"],[vt,"_pointermove"],[xt,"_pointerup"],[Et,"_pointercancel"],[wt,"_lostpointercapture"]];const Ut={mouse:{[$t]:dt,[Tt]:ft,[St]:ht,[Pt]:pt,[vt]:gt,[yt]:mt,[xt]:bt,[Et]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[$t]:"touchout",[Tt]:"touchleave",[St]:"touchover",[Pt]:"touchenter",[vt]:Dt,[yt]:Rt,[xt]:Ct,[Et]:Ft,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[$t]:$t,[Tt]:Tt,[St]:St,[Pt]:Pt,[vt]:vt,[yt]:yt,[xt]:xt,[Et]:Et,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},_t=Qt=>Qt.indexOf("pointer")>=0?"pointer":Qt.indexOf("touch")>=0?"touch":"mouse",It=Qt=>{const Nt=_t(Qt);if(Nt==="pointer")return nt.Konva.pointerEventsEnabled&&Ut.pointer;if(Nt==="touch")return Ut.touch;if(Nt==="mouse")return Ut.mouse};function Wt(Qt={}){return(Qt.clipFunc||Qt.clipWidth||Qt.clipHeight)&&_e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),Qt}const Kt="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";et.stages=[];class Bt extends rt.Container{constructor(Nt){super(Wt(Nt)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),et.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{Wt(this.attrs)}),this._checkVisibility()}_validateAdd(Nt){const Xt=Nt.getType()==="Layer",Zt=Nt.getType()==="FastLayer";Xt||Zt||_e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const Nt=this.visible()?"":"none";this.content.style.display=Nt}setContainer(Nt){if(typeof Nt===ct){if(Nt.charAt(0)==="."){var Xt=Nt.slice(1);Nt=document.getElementsByClassName(Xt)[0]}else{var Zt;Nt.charAt(0)!=="#"?Zt=Nt:Zt=Nt.slice(1),Nt=document.getElementById(Zt)}if(!Nt)throw"Can not find container in document with id "+Zt}return this._setAttr("container",Nt),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),Nt.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var Nt=this.children,Xt=Nt.length,Zt;for(Zt=0;Zt<Xt;Zt++)Nt[Zt].clear();return this}clone(Nt){return Nt||(Nt={}),Nt.container=typeof document<"u"&&document.createElement("div"),rt.Container.prototype.clone.call(this,Nt)}destroy(){super.destroy();var Nt=this.content;Nt&&_e.Util._isInDocument(Nt)&&this.container().removeChild(Nt);var Xt=et.stages.indexOf(this);return Xt>-1&&et.stages.splice(Xt,1),_e.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const Nt=this._pointerPositions[0]||this._changedPointerPositions[0];return Nt?{x:Nt.x,y:Nt.y}:(_e.Util.warn(Kt),null)}_getPointerById(Nt){return this._pointerPositions.find(Xt=>Xt.id===Nt)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(Nt){Nt=Nt||{},Nt.x=Nt.x||0,Nt.y=Nt.y||0,Nt.width=Nt.width||this.width(),Nt.height=Nt.height||this.height();var Xt=new st.SceneCanvas({width:Nt.width,height:Nt.height,pixelRatio:Nt.pixelRatio||1}),Zt=Xt.getContext()._context,Yt=this.children;return(Nt.x||Nt.y)&&Zt.translate(-1*Nt.x,-1*Nt.y),Yt.forEach(function(rr){if(rr.isVisible()){var ar=rr._toKonvaCanvas(Nt);Zt.drawImage(ar._canvas,Nt.x,Nt.y,ar.getWidth()/ar.getPixelRatio(),ar.getHeight()/ar.getPixelRatio())}}),Xt}getIntersection(Nt){if(!Nt)return null;var Xt=this.children,Zt=Xt.length,Yt=Zt-1,rr;for(rr=Yt;rr>=0;rr--){const ar=Xt[rr].getIntersection(Nt);if(ar)return ar}return null}_resizeDOM(){var Nt=this.width(),Xt=this.height();this.content&&(this.content.style.width=Nt+ut,this.content.style.height=Xt+ut),this.bufferCanvas.setSize(Nt,Xt),this.bufferHitCanvas.setSize(Nt,Xt),this.children.forEach(Zt=>{Zt.setSize({width:Nt,height:Xt}),Zt.draw()})}add(Nt,...Xt){if(arguments.length>1){for(var Zt=0;Zt<arguments.length;Zt++)this.add(arguments[Zt]);return this}super.add(Nt);var Yt=this.children.length;return Yt>Ot&&_e.Util.warn("The stage has "+Yt+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),Nt.setSize({width:this.width(),height:this.height()}),Nt.draw(),nt.Konva.isBrowser&&this.content.appendChild(Nt.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(Nt){return ot.hasPointerCapture(Nt,this)}setPointerCapture(Nt){ot.setPointerCapture(Nt,this)}releaseCapture(Nt){ot.releaseCapture(Nt,this)}getLayers(){return this.children}_bindContentEvents(){nt.Konva.isBrowser&&jt.forEach(([Nt,Xt])=>{this.content.addEventListener(Nt,Zt=>{this[Xt](Zt)},{passive:!1})})}_pointerenter(Nt){this.setPointersPositions(Nt);const Xt=It(Nt.type);Xt&&this._fire(Xt.pointerenter,{evt:Nt,target:this,currentTarget:this})}_pointerover(Nt){this.setPointersPositions(Nt);const Xt=It(Nt.type);Xt&&this._fire(Xt.pointerover,{evt:Nt,target:this,currentTarget:this})}_getTargetShape(Nt){let Xt=this[Nt+"targetShape"];return Xt&&!Xt.getStage()&&(Xt=null),Xt}_pointerleave(Nt){const Xt=It(Nt.type),Zt=_t(Nt.type);if(Xt){this.setPointersPositions(Nt);var Yt=this._getTargetShape(Zt),rr=!(nt.Konva.isDragging()||nt.Konva.isTransforming())||nt.Konva.hitOnDragEnabled;Yt&&rr?(Yt._fireAndBubble(Xt.pointerout,{evt:Nt}),Yt._fireAndBubble(Xt.pointerleave,{evt:Nt}),this._fire(Xt.pointerleave,{evt:Nt,target:this,currentTarget:this}),this[Zt+"targetShape"]=null):rr&&(this._fire(Xt.pointerleave,{evt:Nt,target:this,currentTarget:this}),this._fire(Xt.pointerout,{evt:Nt,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}}_pointerdown(Nt){const Xt=It(Nt.type),Zt=_t(Nt.type);if(Xt){this.setPointersPositions(Nt);var Yt=!1;this._changedPointerPositions.forEach(rr=>{var ar=this.getIntersection(rr);if(it.DD.justDragged=!1,nt.Konva["_"+Zt+"ListenClick"]=!0,!ar||!ar.isListening())return;nt.Konva.capturePointerEventsEnabled&&ar.setPointerCapture(rr.id),this[Zt+"ClickStartShape"]=ar,ar._fireAndBubble(Xt.pointerdown,{evt:Nt,pointerId:rr.id}),Yt=!0;const sr=Nt.type.indexOf("touch")>=0;ar.preventDefault()&&Nt.cancelable&&sr&&Nt.preventDefault()}),Yt||this._fire(Xt.pointerdown,{evt:Nt,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(Nt){const Xt=It(Nt.type),Zt=_t(Nt.type);if(!Xt)return;nt.Konva.isDragging()&&it.DD.node.preventDefault()&&Nt.cancelable&&Nt.preventDefault(),this.setPointersPositions(Nt);var Yt=!(nt.Konva.isDragging()||nt.Konva.isTransforming())||nt.Konva.hitOnDragEnabled;if(!Yt)return;var rr={};let ar=!1;var sr=this._getTargetShape(Zt);this._changedPointerPositions.forEach(kt=>{const er=ot.getCapturedShape(kt.id)||this.getIntersection(kt),Gt=kt.id,zt={evt:Nt,pointerId:Gt};var Vt=sr!==er;if(Vt&&sr&&(sr._fireAndBubble(Xt.pointerout,{...zt},er),sr._fireAndBubble(Xt.pointerleave,{...zt},er)),er){if(rr[er._id])return;rr[er._id]=!0}er&&er.isListening()?(ar=!0,Vt&&(er._fireAndBubble(Xt.pointerover,{...zt},sr),er._fireAndBubble(Xt.pointerenter,{...zt},sr),this[Zt+"targetShape"]=er),er._fireAndBubble(Xt.pointermove,{...zt})):sr&&(this._fire(Xt.pointerover,{evt:Nt,target:this,currentTarget:this,pointerId:Gt}),this[Zt+"targetShape"]=null)}),ar||this._fire(Xt.pointermove,{evt:Nt,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(Nt){const Xt=It(Nt.type),Zt=_t(Nt.type);if(!Xt)return;this.setPointersPositions(Nt);const Yt=this[Zt+"ClickStartShape"],rr=this[Zt+"ClickEndShape"];var ar={};let sr=!1;this._changedPointerPositions.forEach(kt=>{const er=ot.getCapturedShape(kt.id)||this.getIntersection(kt);if(er){if(er.releaseCapture(kt.id),ar[er._id])return;ar[er._id]=!0}const Gt=kt.id,zt={evt:Nt,pointerId:Gt};let Vt=!1;nt.Konva["_"+Zt+"InDblClickWindow"]?(Vt=!0,clearTimeout(this[Zt+"DblTimeout"])):it.DD.justDragged||(nt.Konva["_"+Zt+"InDblClickWindow"]=!0,clearTimeout(this[Zt+"DblTimeout"])),this[Zt+"DblTimeout"]=setTimeout(function(){nt.Konva["_"+Zt+"InDblClickWindow"]=!1},nt.Konva.dblClickWindow),er&&er.isListening()?(sr=!0,this[Zt+"ClickEndShape"]=er,er._fireAndBubble(Xt.pointerup,{...zt}),nt.Konva["_"+Zt+"ListenClick"]&&Yt&&Yt===er&&(er._fireAndBubble(Xt.pointerclick,{...zt}),Vt&&rr&&rr===er&&er._fireAndBubble(Xt.pointerdblclick,{...zt}))):(this[Zt+"ClickEndShape"]=null,nt.Konva["_"+Zt+"ListenClick"]&&this._fire(Xt.pointerclick,{evt:Nt,target:this,currentTarget:this,pointerId:Gt}),Vt&&this._fire(Xt.pointerdblclick,{evt:Nt,target:this,currentTarget:this,pointerId:Gt}))}),sr||this._fire(Xt.pointerup,{evt:Nt,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),nt.Konva["_"+Zt+"ListenClick"]=!1,Nt.cancelable&&Zt!=="touch"&&Nt.preventDefault()}_contextmenu(Nt){this.setPointersPositions(Nt);var Xt=this.getIntersection(this.getPointerPosition());Xt&&Xt.isListening()?Xt._fireAndBubble(At,{evt:Nt}):this._fire(At,{evt:Nt,target:this,currentTarget:this})}_wheel(Nt){this.setPointersPositions(Nt);var Xt=this.getIntersection(this.getPointerPosition());Xt&&Xt.isListening()?Xt._fireAndBubble(Mt,{evt:Nt}):this._fire(Mt,{evt:Nt,target:this,currentTarget:this})}_pointercancel(Nt){this.setPointersPositions(Nt);const Xt=ot.getCapturedShape(Nt.pointerId)||this.getIntersection(this.getPointerPosition());Xt&&Xt._fireAndBubble(xt,ot.createEvent(Nt)),ot.releaseCapture(Nt.pointerId)}_lostpointercapture(Nt){ot.releaseCapture(Nt.pointerId)}setPointersPositions(Nt){var Xt=this._getContentPosition(),Zt=null,Yt=null;Nt=Nt||window.event,Nt.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(Nt.touches,rr=>{this._pointerPositions.push({id:rr.identifier,x:(rr.clientX-Xt.left)/Xt.scaleX,y:(rr.clientY-Xt.top)/Xt.scaleY})}),Array.prototype.forEach.call(Nt.changedTouches||Nt.touches,rr=>{this._changedPointerPositions.push({id:rr.identifier,x:(rr.clientX-Xt.left)/Xt.scaleX,y:(rr.clientY-Xt.top)/Xt.scaleY})})):(Zt=(Nt.clientX-Xt.left)/Xt.scaleX,Yt=(Nt.clientY-Xt.top)/Xt.scaleY,this.pointerPos={x:Zt,y:Yt},this._pointerPositions=[{x:Zt,y:Yt,id:_e.Util._getFirstPointerId(Nt)}],this._changedPointerPositions=[{x:Zt,y:Yt,id:_e.Util._getFirstPointerId(Nt)}])}_setPointerPosition(Nt){_e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(Nt)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var Nt=this.content.getBoundingClientRect();return{top:Nt.top,left:Nt.left,scaleX:Nt.width/this.content.clientWidth||1,scaleY:Nt.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new st.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new st.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!!nt.Konva.isBrowser){var Nt=this.container();if(!Nt)throw"Stage has no container. A container is required.";Nt.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),Nt.appendChild(this.content),this._resizeDOM()}}cache(){return _e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(Nt){Nt.batchDraw()}),this}}et.Stage=Bt,Bt.prototype.nodeType=lt,(0,at._registerNode)(Bt),tt.Factory.addGetterSetter(Bt,"container")})(Stage);var Layer$1={},Shape={};(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et.Shape=et.shapes=void 0;const _e=Global,tt=Util,rt=Factory,nt=Node$2,st=Validators,it=Global,at=PointerEvents;var ot="hasShadow",lt="shadowRGBA",ct="patternImage",ut="linearGradient",dt="radialGradient";let ft;function ht(){return ft||(ft=tt.Util.createCanvasElement().getContext("2d"),ft)}et.shapes={};function pt(Tt){const St=this.attrs.fillRule;St?Tt.fill(St):Tt.fill()}function gt(Tt){Tt.stroke()}function mt(Tt){Tt.fill()}function bt(Tt){Tt.stroke()}function vt(){this._clearCache(ot)}function yt(){this._clearCache(lt)}function xt(){this._clearCache(ct)}function Et(){this._clearCache(ut)}function wt(){this._clearCache(dt)}class $t extends nt.Node{constructor(St){super(St);let Pt;for(;Pt=tt.Util.getRandomColor(),!(Pt&&!(Pt in et.shapes)););this.colorKey=Pt,et.shapes[Pt]=this}getContext(){return tt.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return tt.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(ot,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(ct,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var St=ht();const Pt=St.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(Pt&&Pt.setTransform){const At=new tt.Transform;At.translate(this.fillPatternX(),this.fillPatternY()),At.rotate(_e.Konva.getAngle(this.fillPatternRotation())),At.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),At.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const Rt=At.getMatrix(),Ct=typeof DOMMatrix>"u"?{a:Rt[0],b:Rt[1],c:Rt[2],d:Rt[3],e:Rt[4],f:Rt[5]}:new DOMMatrix(Rt);Pt.setTransform(Ct)}return Pt}}_getLinearGradient(){return this._getCache(ut,this.__getLinearGradient)}__getLinearGradient(){var St=this.fillLinearGradientColorStops();if(St){for(var Pt=ht(),At=this.fillLinearGradientStartPoint(),Rt=this.fillLinearGradientEndPoint(),Ct=Pt.createLinearGradient(At.x,At.y,Rt.x,Rt.y),Dt=0;Dt<St.length;Dt+=2)Ct.addColorStop(St[Dt],St[Dt+1]);return Ct}}_getRadialGradient(){return this._getCache(dt,this.__getRadialGradient)}__getRadialGradient(){var St=this.fillRadialGradientColorStops();if(St){for(var Pt=ht(),At=this.fillRadialGradientStartPoint(),Rt=this.fillRadialGradientEndPoint(),Ct=Pt.createRadialGradient(At.x,At.y,this.fillRadialGradientStartRadius(),Rt.x,Rt.y,this.fillRadialGradientEndRadius()),Dt=0;Dt<St.length;Dt+=2)Ct.addColorStop(St[Dt],St[Dt+1]);return Ct}}getShadowRGBA(){return this._getCache(lt,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var St=tt.Util.colorToRGBA(this.shadowColor());if(St)return"rgba("+St.r+","+St.g+","+St.b+","+St.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const St=this.hitStrokeWidth();return St==="auto"?this.hasStroke():this.strokeEnabled()&&!!St}intersects(St){var Pt=this.getStage();if(!Pt)return!1;const At=Pt.bufferHitCanvas;return At.getContext().clear(),this.drawHit(At,void 0,!0),At.context.getImageData(Math.round(St.x),Math.round(St.y),1,1).data[3]>0}destroy(){return nt.Node.prototype.destroy.call(this),delete et.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(St){var Pt;if(!((Pt=this.attrs.perfectDrawEnabled)!==null&&Pt!==void 0?Pt:!0))return!1;const Rt=St||this.hasFill(),Ct=this.hasStroke(),Dt=this.getAbsoluteOpacity()!==1;if(Rt&&Ct&&Dt)return!0;const Ft=this.hasShadow(),Mt=this.shadowForStrokeEnabled();return!!(Rt&&Ct&&Ft&&Mt)}setStrokeHitEnabled(St){tt.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),St?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var St=this.size();return{x:this._centroid?-St.width/2:0,y:this._centroid?-St.height/2:0,width:St.width,height:St.height}}getClientRect(St={}){const Pt=St.skipTransform,At=St.relativeTo,Rt=this.getSelfRect(),Dt=!St.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,Ft=Rt.width+Dt,Mt=Rt.height+Dt,Ot=!St.skipShadow&&this.hasShadow(),jt=Ot?this.shadowOffsetX():0,Ut=Ot?this.shadowOffsetY():0,_t=Ft+Math.abs(jt),It=Mt+Math.abs(Ut),Wt=Ot&&this.shadowBlur()||0,Kt=_t+Wt*2,Bt=It+Wt*2,Qt={width:Kt,height:Bt,x:-(Dt/2+Wt)+Math.min(jt,0)+Rt.x,y:-(Dt/2+Wt)+Math.min(Ut,0)+Rt.y};return Pt?Qt:this._transformedRect(Qt,At)}drawScene(St,Pt,At){var Rt=this.getLayer(),Ct=St||Rt.getCanvas(),Dt=Ct.getContext(),Ft=this._getCanvasCache(),Mt=this.getSceneFunc(),Ot=this.hasShadow(),jt,Ut,_t=Ct.isCache,It=Pt===this;if(!this.isVisible()&&!It)return this;if(Ft){Dt.save();var Wt=this.getAbsoluteTransform(Pt).getMatrix();return Dt.transform(Wt[0],Wt[1],Wt[2],Wt[3],Wt[4],Wt[5]),this._drawCachedSceneCanvas(Dt),Dt.restore(),this}if(!Mt)return this;if(Dt.save(),this._useBufferCanvas()&&!_t){jt=this.getStage();const Qt=At||jt.bufferCanvas;Ut=Qt.getContext(),Ut.clear(),Ut.save(),Ut._applyLineJoin(this);var Kt=this.getAbsoluteTransform(Pt).getMatrix();Ut.transform(Kt[0],Kt[1],Kt[2],Kt[3],Kt[4],Kt[5]),Mt.call(this,Ut,this),Ut.restore();var Bt=Qt.pixelRatio;Ot&&Dt._applyShadow(this),Dt._applyOpacity(this),Dt._applyGlobalCompositeOperation(this),Dt.drawImage(Qt._canvas,0,0,Qt.width/Bt,Qt.height/Bt)}else{if(Dt._applyLineJoin(this),!It){var Kt=this.getAbsoluteTransform(Pt).getMatrix();Dt.transform(Kt[0],Kt[1],Kt[2],Kt[3],Kt[4],Kt[5]),Dt._applyOpacity(this),Dt._applyGlobalCompositeOperation(this)}Ot&&Dt._applyShadow(this),Mt.call(this,Dt,this)}return Dt.restore(),this}drawHit(St,Pt,At=!1){if(!this.shouldDrawHit(Pt,At))return this;var Rt=this.getLayer(),Ct=St||Rt.hitCanvas,Dt=Ct&&Ct.getContext(),Ft=this.hitFunc()||this.sceneFunc(),Mt=this._getCanvasCache(),Ot=Mt&&Mt.hit;if(this.colorKey||tt.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),Ot){Dt.save();var jt=this.getAbsoluteTransform(Pt).getMatrix();return Dt.transform(jt[0],jt[1],jt[2],jt[3],jt[4],jt[5]),this._drawCachedHitCanvas(Dt),Dt.restore(),this}if(!Ft)return this;if(Dt.save(),Dt._applyLineJoin(this),!(this===Pt)){var _t=this.getAbsoluteTransform(Pt).getMatrix();Dt.transform(_t[0],_t[1],_t[2],_t[3],_t[4],_t[5])}return Ft.call(this,Dt,this),Dt.restore(),this}drawHitFromCache(St=0){var Pt=this._getCanvasCache(),At=this._getCachedSceneCanvas(),Rt=Pt.hit,Ct=Rt.getContext(),Dt=Rt.getWidth(),Ft=Rt.getHeight(),Mt,Ot,jt,Ut,_t,It;Ct.clear(),Ct.drawImage(At._canvas,0,0,Dt,Ft);try{for(Mt=Ct.getImageData(0,0,Dt,Ft),Ot=Mt.data,jt=Ot.length,Ut=tt.Util._hexToRgb(this.colorKey),_t=0;_t<jt;_t+=4)It=Ot[_t+3],It>St?(Ot[_t]=Ut.r,Ot[_t+1]=Ut.g,Ot[_t+2]=Ut.b,Ot[_t+3]=255):Ot[_t+3]=0;Ct.putImageData(Mt,0,0)}catch(Wt){tt.Util.error("Unable to draw hit graph from cached scene canvas. "+Wt.message)}return this}hasPointerCapture(St){return at.hasPointerCapture(St,this)}setPointerCapture(St){at.setPointerCapture(St,this)}releaseCapture(St){at.releaseCapture(St,this)}}et.Shape=$t,$t.prototype._fillFunc=pt,$t.prototype._strokeFunc=gt,$t.prototype._fillFuncHit=mt,$t.prototype._strokeFuncHit=bt,$t.prototype._centroid=!1,$t.prototype.nodeType="Shape",(0,it._registerNode)($t),$t.prototype.eventListeners={},$t.prototype.on.call($t.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",vt),$t.prototype.on.call($t.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",yt),$t.prototype.on.call($t.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",xt),$t.prototype.on.call($t.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",Et),$t.prototype.on.call($t.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",wt),rt.Factory.addGetterSetter($t,"stroke",void 0,(0,st.getStringOrGradientValidator)()),rt.Factory.addGetterSetter($t,"strokeWidth",2,(0,st.getNumberValidator)()),rt.Factory.addGetterSetter($t,"fillAfterStrokeEnabled",!1),rt.Factory.addGetterSetter($t,"hitStrokeWidth","auto",(0,st.getNumberOrAutoValidator)()),rt.Factory.addGetterSetter($t,"strokeHitEnabled",!0,(0,st.getBooleanValidator)()),rt.Factory.addGetterSetter($t,"perfectDrawEnabled",!0,(0,st.getBooleanValidator)()),rt.Factory.addGetterSetter($t,"shadowForStrokeEnabled",!0,(0,st.getBooleanValidator)()),rt.Factory.addGetterSetter($t,"lineJoin"),rt.Factory.addGetterSetter($t,"lineCap"),rt.Factory.addGetterSetter($t,"sceneFunc"),rt.Factory.addGetterSetter($t,"hitFunc"),rt.Factory.addGetterSetter($t,"dash"),rt.Factory.addGetterSetter($t,"dashOffset",0,(0,st.getNumberValidator)()),rt.Factory.addGetterSetter($t,"shadowColor",void 0,(0,st.getStringValidator)()),rt.Factory.addGetterSetter($t,"shadowBlur",0,(0,st.getNumberValidator)()),rt.Factory.addGetterSetter($t,"shadowOpacity",1,(0,st.getNumberValidator)()),rt.Factory.addComponentsGetterSetter($t,"shadowOffset",["x","y"]),rt.Factory.addGetterSetter($t,"shadowOffsetX",0,(0,st.getNumberValidator)()),rt.Factory.addGetterSetter($t,"shadowOffsetY",0,(0,st.getNumberValidator)()),rt.Factory.addGetterSetter($t,"fillPatternImage"),rt.Factory.addGetterSetter($t,"fill",void 0,(0,st.getStringOrGradientValidator)()),rt.Factory.addGetterSetter($t,"fillPatternX",0,(0,st.getNumberValidator)()),rt.Factory.addGetterSetter($t,"fillPatternY",0,(0,st.getNumberValidator)()),rt.Factory.addGetterSetter($t,"fillLinearGradientColorStops"),rt.Factory.addGetterSetter($t,"strokeLinearGradientColorStops"),rt.Factory.addGetterSetter($t,"fillRadialGradientStartRadius",0),rt.Factory.addGetterSetter($t,"fillRadialGradientEndRadius",0),rt.Factory.addGetterSetter($t,"fillRadialGradientColorStops"),rt.Factory.addGetterSetter($t,"fillPatternRepeat","repeat"),rt.Factory.addGetterSetter($t,"fillEnabled",!0),rt.Factory.addGetterSetter($t,"strokeEnabled",!0),rt.Factory.addGetterSetter($t,"shadowEnabled",!0),rt.Factory.addGetterSetter($t,"dashEnabled",!0),rt.Factory.addGetterSetter($t,"strokeScaleEnabled",!0),rt.Factory.addGetterSetter($t,"fillPriority","color"),rt.Factory.addComponentsGetterSetter($t,"fillPatternOffset",["x","y"]),rt.Factory.addGetterSetter($t,"fillPatternOffsetX",0,(0,st.getNumberValidator)()),rt.Factory.addGetterSetter($t,"fillPatternOffsetY",0,(0,st.getNumberValidator)()),rt.Factory.addComponentsGetterSetter($t,"fillPatternScale",["x","y"]),rt.Factory.addGetterSetter($t,"fillPatternScaleX",1,(0,st.getNumberValidator)()),rt.Factory.addGetterSetter($t,"fillPatternScaleY",1,(0,st.getNumberValidator)()),rt.Factory.addComponentsGetterSetter($t,"fillLinearGradientStartPoint",["x","y"]),rt.Factory.addComponentsGetterSetter($t,"strokeLinearGradientStartPoint",["x","y"]),rt.Factory.addGetterSetter($t,"fillLinearGradientStartPointX",0),rt.Factory.addGetterSetter($t,"strokeLinearGradientStartPointX",0),rt.Factory.addGetterSetter($t,"fillLinearGradientStartPointY",0),rt.Factory.addGetterSetter($t,"strokeLinearGradientStartPointY",0),rt.Factory.addComponentsGetterSetter($t,"fillLinearGradientEndPoint",["x","y"]),rt.Factory.addComponentsGetterSetter($t,"strokeLinearGradientEndPoint",["x","y"]),rt.Factory.addGetterSetter($t,"fillLinearGradientEndPointX",0),rt.Factory.addGetterSetter($t,"strokeLinearGradientEndPointX",0),rt.Factory.addGetterSetter($t,"fillLinearGradientEndPointY",0),rt.Factory.addGetterSetter($t,"strokeLinearGradientEndPointY",0),rt.Factory.addComponentsGetterSetter($t,"fillRadialGradientStartPoint",["x","y"]),rt.Factory.addGetterSetter($t,"fillRadialGradientStartPointX",0),rt.Factory.addGetterSetter($t,"fillRadialGradientStartPointY",0),rt.Factory.addComponentsGetterSetter($t,"fillRadialGradientEndPoint",["x","y"]),rt.Factory.addGetterSetter($t,"fillRadialGradientEndPointX",0),rt.Factory.addGetterSetter($t,"fillRadialGradientEndPointY",0),rt.Factory.addGetterSetter($t,"fillPatternRotation",0),rt.Factory.addGetterSetter($t,"fillRule",void 0,(0,st.getStringValidator)()),rt.Factory.backCompat($t,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})})(Shape);Object.defineProperty(Layer$1,"__esModule",{value:!0});Layer$1.Layer=void 0;const Util_1$b=Util,Container_1$1=Container$1,Node_1$g=Node$2,Factory_1$w=Factory,Canvas_1=Canvas$2,Validators_1$v=Validators,Shape_1$g=Shape,Global_1$k=Global;var HASH="#",BEFORE_DRAW="beforeDraw",DRAW="draw",INTERSECTION_OFFSETS=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],INTERSECTION_OFFSETS_LEN=INTERSECTION_OFFSETS.length;class Layer extends Container_1$1.Container{constructor(_e){super(_e),this.canvas=new Canvas_1.SceneCanvas,this.hitCanvas=new Canvas_1.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(_e){return this.getContext().clear(_e),this.getHitCanvas().getContext().clear(_e),this}setZIndex(_e){super.setZIndex(_e);var tt=this.getStage();return tt&&tt.content&&(tt.content.removeChild(this.getNativeCanvasElement()),_e<tt.children.length-1?tt.content.insertBefore(this.getNativeCanvasElement(),tt.children[_e+1].getCanvas()._canvas):tt.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Node_1$g.Node.prototype.moveToTop.call(this);var _e=this.getStage();return _e&&_e.content&&(_e.content.removeChild(this.getNativeCanvasElement()),_e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){var _e=Node_1$g.Node.prototype.moveUp.call(this);if(!_e)return!1;var tt=this.getStage();return!tt||!tt.content?!1:(tt.content.removeChild(this.getNativeCanvasElement()),this.index<tt.children.length-1?tt.content.insertBefore(this.getNativeCanvasElement(),tt.children[this.index+1].getCanvas()._canvas):tt.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Node_1$g.Node.prototype.moveDown.call(this)){var _e=this.getStage();if(_e){var tt=_e.children;_e.content&&(_e.content.removeChild(this.getNativeCanvasElement()),_e.content.insertBefore(this.getNativeCanvasElement(),tt[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Node_1$g.Node.prototype.moveToBottom.call(this)){var _e=this.getStage();if(_e){var tt=_e.children;_e.content&&(_e.content.removeChild(this.getNativeCanvasElement()),_e.content.insertBefore(this.getNativeCanvasElement(),tt[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var _e=this.getNativeCanvasElement();return Node_1$g.Node.prototype.remove.call(this),_e&&_e.parentNode&&Util_1$b.Util._isInDocument(_e)&&_e.parentNode.removeChild(_e),this}getStage(){return this.parent}setSize({width:_e,height:tt}){return this.canvas.setSize(_e,tt),this.hitCanvas.setSize(_e,tt),this._setSmoothEnabled(),this}_validateAdd(_e){var tt=_e.getType();tt!=="Group"&&tt!=="Shape"&&Util_1$b.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(_e){return _e=_e||{},_e.width=_e.width||this.getWidth(),_e.height=_e.height||this.getHeight(),_e.x=_e.x!==void 0?_e.x:this.x(),_e.y=_e.y!==void 0?_e.y:this.y(),Node_1$g.Node.prototype._toKonvaCanvas.call(this,_e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){Util_1$b.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){Util_1$b.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,Util_1$b.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(_e){if(!this.isListening()||!this.isVisible())return null;for(var tt=1,rt=!1;;){for(let nt=0;nt<INTERSECTION_OFFSETS_LEN;nt++){const st=INTERSECTION_OFFSETS[nt],it=this._getIntersection({x:_e.x+st.x*tt,y:_e.y+st.y*tt}),at=it.shape;if(at)return at;if(rt=!!it.antialiased,!it.antialiased)break}if(rt)tt+=1;else return null}}_getIntersection(_e){const tt=this.hitCanvas.pixelRatio,rt=this.hitCanvas.context.getImageData(Math.round(_e.x*tt),Math.round(_e.y*tt),1,1).data,nt=rt[3];if(nt===255){const st=Util_1$b.Util._rgbToHex(rt[0],rt[1],rt[2]),it=Shape_1$g.shapes[HASH+st];return it?{shape:it}:{antialiased:!0}}else if(nt>0)return{antialiased:!0};return{}}drawScene(_e,tt){var rt=this.getLayer(),nt=_e||rt&&rt.getCanvas();return this._fire(BEFORE_DRAW,{node:this}),this.clearBeforeDraw()&&nt.getContext().clear(),Container_1$1.Container.prototype.drawScene.call(this,nt,tt),this._fire(DRAW,{node:this}),this}drawHit(_e,tt){var rt=this.getLayer(),nt=_e||rt&&rt.hitCanvas;return rt&&rt.clearBeforeDraw()&&rt.getHitCanvas().getContext().clear(),Container_1$1.Container.prototype.drawHit.call(this,nt,tt),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(_e){Util_1$b.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(_e)}getHitGraphEnabled(_e){return Util_1$b.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!(!this.parent||!this.parent.content)){var _e=this.parent,tt=!!this.hitCanvas._canvas.parentNode;tt?_e.content.removeChild(this.hitCanvas._canvas):_e.content.appendChild(this.hitCanvas._canvas)}}destroy(){return Util_1$b.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}Layer$1.Layer=Layer;Layer.prototype.nodeType="Layer";(0,Global_1$k._registerNode)(Layer);Factory_1$w.Factory.addGetterSetter(Layer,"imageSmoothingEnabled",!0);Factory_1$w.Factory.addGetterSetter(Layer,"clearBeforeDraw",!0);Factory_1$w.Factory.addGetterSetter(Layer,"hitGraphEnabled",!0,(0,Validators_1$v.getBooleanValidator)());var FastLayer$1={};Object.defineProperty(FastLayer$1,"__esModule",{value:!0});FastLayer$1.FastLayer=void 0;const Util_1$a=Util,Layer_1=Layer$1,Global_1$j=Global;class FastLayer extends Layer_1.Layer{constructor(_e){super(_e),this.listening(!1),Util_1$a.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}FastLayer$1.FastLayer=FastLayer;FastLayer.prototype.nodeType="FastLayer";(0,Global_1$j._registerNode)(FastLayer);var Group$1={};Object.defineProperty(Group$1,"__esModule",{value:!0});Group$1.Group=void 0;const Util_1$9=Util,Container_1=Container$1,Global_1$i=Global;class Group extends Container_1.Container{_validateAdd(_e){var tt=_e.getType();tt!=="Group"&&tt!=="Shape"&&Util_1$9.Util.throw("You may only add groups and shapes to groups.")}}Group$1.Group=Group;Group.prototype.nodeType="Group";(0,Global_1$i._registerNode)(Group);var Animation$1={};Object.defineProperty(Animation$1,"__esModule",{value:!0});Animation$1.Animation=void 0;const Global_1$h=Global,Util_1$8=Util,now$3=function(){return Global_1$h.glob.performance&&Global_1$h.glob.performance.now?function(){return Global_1$h.glob.performance.now()}:function(){return new Date().getTime()}}();class Animation{constructor(_e,tt){this.id=Animation.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:now$3(),frameRate:0},this.func=_e,this.setLayers(tt)}setLayers(_e){let tt=[];return _e&&(tt=Array.isArray(_e)?_e:[_e]),this.layers=tt,this}getLayers(){return this.layers}addLayer(_e){const tt=this.layers,rt=tt.length;for(let nt=0;nt<rt;nt++)if(tt[nt]._id===_e._id)return!1;return this.layers.push(_e),!0}isRunning(){const tt=Animation.animations,rt=tt.length;for(let nt=0;nt<rt;nt++)if(tt[nt].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=now$3(),Animation._addAnimation(this),this}stop(){return Animation._removeAnimation(this),this}_updateFrameObject(_e){this.frame.timeDiff=_e-this.frame.lastTime,this.frame.lastTime=_e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(_e){this.animations.push(_e),this._handleAnimation()}static _removeAnimation(_e){const tt=_e.id,rt=this.animations,nt=rt.length;for(let st=0;st<nt;st++)if(rt[st].id===tt){this.animations.splice(st,1);break}}static _runFrames(){const _e={},tt=this.animations;for(let rt=0;rt<tt.length;rt++){const nt=tt[rt],st=nt.layers,it=nt.func;nt._updateFrameObject(now$3());const at=st.length;let ot;if(it?ot=it.call(nt,nt.frame)!==!1:ot=!0,!!ot)for(let lt=0;lt<at;lt++){const ct=st[lt];ct._id!==void 0&&(_e[ct._id]=ct)}}for(let rt in _e)_e.hasOwnProperty(rt)&&_e[rt].batchDraw()}static _animationLoop(){const _e=Animation;_e.animations.length?(_e._runFrames(),Util_1$8.Util.requestAnimFrame(_e._animationLoop)):_e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,Util_1$8.Util.requestAnimFrame(this._animationLoop))}}Animation$1.Animation=Animation;Animation.animations=[];Animation.animIdCounter=0;Animation.animRunning=!1;var Tween={};(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et.Easings=et.Tween=void 0;const _e=Util,tt=Animation$1,rt=Node$2,nt=Global;var st={node:1,duration:1,easing:1,onFinish:1,yoyo:1},it=1,at=2,ot=3,lt=0,ct=["fill","stroke","shadowColor"];class ut{constructor(ht,pt,gt,mt,bt,vt,yt){this.prop=ht,this.propFunc=pt,this.begin=mt,this._pos=mt,this.duration=vt,this._change=0,this.prevPos=0,this.yoyo=yt,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=gt,this._change=bt-this.begin,this.pause()}fire(ht){var pt=this[ht];pt&&pt()}setTime(ht){ht>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():ht<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=ht,this.update())}getTime(){return this._time}setPosition(ht){this.prevPos=this._pos,this.propFunc(ht),this._pos=ht}getPosition(ht){return ht===void 0&&(ht=this._time),this.func(ht,this.begin,this._change,this.duration)}play(){this.state=at,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=ot,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(ht){this.pause(),this._time=ht,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var ht=this.getTimer()-this._startTime;this.state===at?this.setTime(ht):this.state===ot&&this.setTime(this.duration-ht)}pause(){this.state=it,this.fire("onPause")}getTimer(){return new Date().getTime()}}class dt{constructor(ht){var pt=this,gt=ht.node,mt=gt._id,bt,vt=ht.easing||et.Easings.Linear,yt=!!ht.yoyo,xt;typeof ht.duration>"u"?bt=.3:ht.duration===0?bt=.001:bt=ht.duration,this.node=gt,this._id=lt++;var Et=gt.getLayer()||(gt instanceof nt.Konva.Stage?gt.getLayers():null);Et||_e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new tt.Animation(function(){pt.tween.onEnterFrame()},Et),this.tween=new ut(xt,function(wt){pt._tweenFunc(wt)},vt,0,1,bt*1e3,yt),this._addListeners(),dt.attrs[mt]||(dt.attrs[mt]={}),dt.attrs[mt][this._id]||(dt.attrs[mt][this._id]={}),dt.tweens[mt]||(dt.tweens[mt]={});for(xt in ht)st[xt]===void 0&&this._addAttr(xt,ht[xt]);this.reset(),this.onFinish=ht.onFinish,this.onReset=ht.onReset,this.onUpdate=ht.onUpdate}_addAttr(ht,pt){var gt=this.node,mt=gt._id,bt,vt,yt,xt,Et,wt,$t,Tt;if(yt=dt.tweens[mt][ht],yt&&delete dt.attrs[mt][yt][ht],bt=gt.getAttr(ht),_e.Util._isArray(pt))if(vt=[],Et=Math.max(pt.length,bt.length),ht==="points"&&pt.length!==bt.length&&(pt.length>bt.length?($t=bt,bt=_e.Util._prepareArrayForTween(bt,pt,gt.closed())):(wt=pt,pt=_e.Util._prepareArrayForTween(pt,bt,gt.closed()))),ht.indexOf("fill")===0)for(xt=0;xt<Et;xt++)if(xt%2===0)vt.push(pt[xt]-bt[xt]);else{var St=_e.Util.colorToRGBA(bt[xt]);Tt=_e.Util.colorToRGBA(pt[xt]),bt[xt]=St,vt.push({r:Tt.r-St.r,g:Tt.g-St.g,b:Tt.b-St.b,a:Tt.a-St.a})}else for(xt=0;xt<Et;xt++)vt.push(pt[xt]-bt[xt]);else ct.indexOf(ht)!==-1?(bt=_e.Util.colorToRGBA(bt),Tt=_e.Util.colorToRGBA(pt),vt={r:Tt.r-bt.r,g:Tt.g-bt.g,b:Tt.b-bt.b,a:Tt.a-bt.a}):vt=pt-bt;dt.attrs[mt][this._id][ht]={start:bt,diff:vt,end:pt,trueEnd:wt,trueStart:$t},dt.tweens[mt][ht]=this._id}_tweenFunc(ht){var pt=this.node,gt=dt.attrs[pt._id][this._id],mt,bt,vt,yt,xt,Et,wt,$t;for(mt in gt){if(bt=gt[mt],vt=bt.start,yt=bt.diff,$t=bt.end,_e.Util._isArray(vt))if(xt=[],wt=Math.max(vt.length,$t.length),mt.indexOf("fill")===0)for(Et=0;Et<wt;Et++)Et%2===0?xt.push((vt[Et]||0)+yt[Et]*ht):xt.push("rgba("+Math.round(vt[Et].r+yt[Et].r*ht)+","+Math.round(vt[Et].g+yt[Et].g*ht)+","+Math.round(vt[Et].b+yt[Et].b*ht)+","+(vt[Et].a+yt[Et].a*ht)+")");else for(Et=0;Et<wt;Et++)xt.push((vt[Et]||0)+yt[Et]*ht);else ct.indexOf(mt)!==-1?xt="rgba("+Math.round(vt.r+yt.r*ht)+","+Math.round(vt.g+yt.g*ht)+","+Math.round(vt.b+yt.b*ht)+","+(vt.a+yt.a*ht)+")":xt=vt+yt*ht;pt.setAttr(mt,xt)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var ht=this.node,pt=dt.attrs[ht._id][this._id];pt.points&&pt.points.trueEnd&&ht.setAttr("points",pt.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var ht=this.node,pt=dt.attrs[ht._id][this._id];pt.points&&pt.points.trueStart&&ht.points(pt.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(ht){return this.tween.seek(ht*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var ht=this.node._id,pt=this._id,gt=dt.tweens[ht],mt;this.pause();for(mt in gt)delete dt.tweens[ht][mt];delete dt.attrs[ht][pt]}}et.Tween=dt,dt.attrs={},dt.tweens={},rt.Node.prototype.to=function(ft){var ht=ft.onFinish;ft.node=this,ft.onFinish=function(){this.destroy(),ht&&ht()};var pt=new dt(ft);pt.play()},et.Easings={BackEaseIn(ft,ht,pt,gt){var mt=1.70158;return pt*(ft/=gt)*ft*((mt+1)*ft-mt)+ht},BackEaseOut(ft,ht,pt,gt){var mt=1.70158;return pt*((ft=ft/gt-1)*ft*((mt+1)*ft+mt)+1)+ht},BackEaseInOut(ft,ht,pt,gt){var mt=1.70158;return(ft/=gt/2)<1?pt/2*(ft*ft*(((mt*=1.525)+1)*ft-mt))+ht:pt/2*((ft-=2)*ft*(((mt*=1.525)+1)*ft+mt)+2)+ht},ElasticEaseIn(ft,ht,pt,gt,mt,bt){var vt=0;return ft===0?ht:(ft/=gt)===1?ht+pt:(bt||(bt=gt*.3),!mt||mt<Math.abs(pt)?(mt=pt,vt=bt/4):vt=bt/(2*Math.PI)*Math.asin(pt/mt),-(mt*Math.pow(2,10*(ft-=1))*Math.sin((ft*gt-vt)*(2*Math.PI)/bt))+ht)},ElasticEaseOut(ft,ht,pt,gt,mt,bt){var vt=0;return ft===0?ht:(ft/=gt)===1?ht+pt:(bt||(bt=gt*.3),!mt||mt<Math.abs(pt)?(mt=pt,vt=bt/4):vt=bt/(2*Math.PI)*Math.asin(pt/mt),mt*Math.pow(2,-10*ft)*Math.sin((ft*gt-vt)*(2*Math.PI)/bt)+pt+ht)},ElasticEaseInOut(ft,ht,pt,gt,mt,bt){var vt=0;return ft===0?ht:(ft/=gt/2)===2?ht+pt:(bt||(bt=gt*(.3*1.5)),!mt||mt<Math.abs(pt)?(mt=pt,vt=bt/4):vt=bt/(2*Math.PI)*Math.asin(pt/mt),ft<1?-.5*(mt*Math.pow(2,10*(ft-=1))*Math.sin((ft*gt-vt)*(2*Math.PI)/bt))+ht:mt*Math.pow(2,-10*(ft-=1))*Math.sin((ft*gt-vt)*(2*Math.PI)/bt)*.5+pt+ht)},BounceEaseOut(ft,ht,pt,gt){return(ft/=gt)<1/2.75?pt*(7.5625*ft*ft)+ht:ft<2/2.75?pt*(7.5625*(ft-=1.5/2.75)*ft+.75)+ht:ft<2.5/2.75?pt*(7.5625*(ft-=2.25/2.75)*ft+.9375)+ht:pt*(7.5625*(ft-=2.625/2.75)*ft+.984375)+ht},BounceEaseIn(ft,ht,pt,gt){return pt-et.Easings.BounceEaseOut(gt-ft,0,pt,gt)+ht},BounceEaseInOut(ft,ht,pt,gt){return ft<gt/2?et.Easings.BounceEaseIn(ft*2,0,pt,gt)*.5+ht:et.Easings.BounceEaseOut(ft*2-gt,0,pt,gt)*.5+pt*.5+ht},EaseIn(ft,ht,pt,gt){return pt*(ft/=gt)*ft+ht},EaseOut(ft,ht,pt,gt){return-pt*(ft/=gt)*(ft-2)+ht},EaseInOut(ft,ht,pt,gt){return(ft/=gt/2)<1?pt/2*ft*ft+ht:-pt/2*(--ft*(ft-2)-1)+ht},StrongEaseIn(ft,ht,pt,gt){return pt*(ft/=gt)*ft*ft*ft*ft+ht},StrongEaseOut(ft,ht,pt,gt){return pt*((ft=ft/gt-1)*ft*ft*ft*ft+1)+ht},StrongEaseInOut(ft,ht,pt,gt){return(ft/=gt/2)<1?pt/2*ft*ft*ft*ft*ft+ht:pt/2*((ft-=2)*ft*ft*ft*ft+2)+ht},Linear(ft,ht,pt,gt){return pt*ft/gt+ht}}})(Tween);(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et.Konva=void 0;const _e=Global,tt=Util,rt=Node$2,nt=Container$1,st=Stage,it=Layer$1,at=FastLayer$1,ot=Group$1,lt=DragAndDrop,ct=Shape,ut=Animation$1,dt=Tween,ft=Context$1,ht=Canvas$2;et.Konva=tt.Util._assign(_e.Konva,{Util:tt.Util,Transform:tt.Transform,Node:rt.Node,Container:nt.Container,Stage:st.Stage,stages:st.stages,Layer:it.Layer,FastLayer:at.FastLayer,Group:ot.Group,DD:lt.DD,Shape:ct.Shape,shapes:ct.shapes,Animation:ut.Animation,Tween:dt.Tween,Easings:dt.Easings,Context:ft.Context,Canvas:ht.Canvas}),et.default=et.Konva})(_CoreInternals);var Arc$1={};Object.defineProperty(Arc$1,"__esModule",{value:!0});Arc$1.Arc=void 0;const Factory_1$v=Factory,Shape_1$f=Shape,Global_1$g=Global,Validators_1$u=Validators,Global_2$2=Global;class Arc extends Shape_1$f.Shape{_sceneFunc(_e){var tt=Global_1$g.Konva.getAngle(this.angle()),rt=this.clockwise();_e.beginPath(),_e.arc(0,0,this.outerRadius(),0,tt,rt),_e.arc(0,0,this.innerRadius(),tt,0,!rt),_e.closePath(),_e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(_e){this.outerRadius(_e/2)}setHeight(_e){this.outerRadius(_e/2)}getSelfRect(){const _e=this.innerRadius(),tt=this.outerRadius(),rt=this.clockwise(),nt=Global_1$g.Konva.getAngle(rt?360-this.angle():this.angle()),st=Math.cos(Math.min(nt,Math.PI)),it=1,at=Math.sin(Math.min(Math.max(Math.PI,nt),3*Math.PI/2)),ot=Math.sin(Math.min(nt,Math.PI/2)),lt=st*(st>0?_e:tt),ct=it*tt,ut=at*(at>0?_e:tt),dt=ot*(ot>0?tt:_e);return{x:lt,y:rt?-1*dt:ut,width:ct-lt,height:dt-ut}}}Arc$1.Arc=Arc;Arc.prototype._centroid=!0;Arc.prototype.className="Arc";Arc.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,Global_2$2._registerNode)(Arc);Factory_1$v.Factory.addGetterSetter(Arc,"innerRadius",0,(0,Validators_1$u.getNumberValidator)());Factory_1$v.Factory.addGetterSetter(Arc,"outerRadius",0,(0,Validators_1$u.getNumberValidator)());Factory_1$v.Factory.addGetterSetter(Arc,"angle",0,(0,Validators_1$u.getNumberValidator)());Factory_1$v.Factory.addGetterSetter(Arc,"clockwise",!1,(0,Validators_1$u.getBooleanValidator)());var Arrow$1={},Line$1={};Object.defineProperty(Line$1,"__esModule",{value:!0});Line$1.Line=void 0;const Factory_1$u=Factory,Shape_1$e=Shape,Validators_1$t=Validators,Global_1$f=Global;function getControlPoints(et,_e,tt,rt,nt,st,it){var at=Math.sqrt(Math.pow(tt-et,2)+Math.pow(rt-_e,2)),ot=Math.sqrt(Math.pow(nt-tt,2)+Math.pow(st-rt,2)),lt=it*at/(at+ot),ct=it*ot/(at+ot),ut=tt-lt*(nt-et),dt=rt-lt*(st-_e),ft=tt+ct*(nt-et),ht=rt+ct*(st-_e);return[ut,dt,ft,ht]}function expandPoints(et,_e){var tt=et.length,rt=[],nt,st;for(nt=2;nt<tt-2;nt+=2)st=getControlPoints(et[nt-2],et[nt-1],et[nt],et[nt+1],et[nt+2],et[nt+3],_e),!isNaN(st[0])&&(rt.push(st[0]),rt.push(st[1]),rt.push(et[nt]),rt.push(et[nt+1]),rt.push(st[2]),rt.push(st[3]));return rt}class Line extends Shape_1$e.Shape{constructor(_e){super(_e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(_e){var tt=this.points(),rt=tt.length,nt=this.tension(),st=this.closed(),it=this.bezier(),at,ot,lt;if(rt){if(_e.beginPath(),_e.moveTo(tt[0],tt[1]),nt!==0&&rt>4){for(at=this.getTensionPoints(),ot=at.length,lt=st?0:4,st||_e.quadraticCurveTo(at[0],at[1],at[2],at[3]);lt<ot-2;)_e.bezierCurveTo(at[lt++],at[lt++],at[lt++],at[lt++],at[lt++],at[lt++]);st||_e.quadraticCurveTo(at[ot-2],at[ot-1],tt[rt-2],tt[rt-1])}else if(it)for(lt=2;lt<rt;)_e.bezierCurveTo(tt[lt++],tt[lt++],tt[lt++],tt[lt++],tt[lt++],tt[lt++]);else for(lt=2;lt<rt;lt+=2)_e.lineTo(tt[lt],tt[lt+1]);st?(_e.closePath(),_e.fillStrokeShape(this)):_e.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():expandPoints(this.points(),this.tension())}_getTensionPointsClosed(){var _e=this.points(),tt=_e.length,rt=this.tension(),nt=getControlPoints(_e[tt-2],_e[tt-1],_e[0],_e[1],_e[2],_e[3],rt),st=getControlPoints(_e[tt-4],_e[tt-3],_e[tt-2],_e[tt-1],_e[0],_e[1],rt),it=expandPoints(_e,rt),at=[nt[2],nt[3]].concat(it).concat([st[0],st[1],_e[tt-2],_e[tt-1],st[2],st[3],nt[0],nt[1],_e[0],_e[1]]);return at}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var _e=this.points();if(_e.length<4)return{x:_e[0]||0,y:_e[1]||0,width:0,height:0};this.tension()!==0?_e=[_e[0],_e[1],...this._getTensionPoints(),_e[_e.length-2],_e[_e.length-1]]:_e=this.points();for(var tt=_e[0],rt=_e[0],nt=_e[1],st=_e[1],it,at,ot=0;ot<_e.length/2;ot++)it=_e[ot*2],at=_e[ot*2+1],tt=Math.min(tt,it),rt=Math.max(rt,it),nt=Math.min(nt,at),st=Math.max(st,at);return{x:tt,y:nt,width:rt-tt,height:st-nt}}}Line$1.Line=Line;Line.prototype.className="Line";Line.prototype._attrsAffectingSize=["points","bezier","tension"];(0,Global_1$f._registerNode)(Line);Factory_1$u.Factory.addGetterSetter(Line,"closed",!1);Factory_1$u.Factory.addGetterSetter(Line,"bezier",!1);Factory_1$u.Factory.addGetterSetter(Line,"tension",0,(0,Validators_1$t.getNumberValidator)());Factory_1$u.Factory.addGetterSetter(Line,"points",[],(0,Validators_1$t.getNumberArrayValidator)());var Path$1={},BezierFunctions={};(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et.t2length=et.getQuadraticArcLength=et.getCubicArcLength=et.binomialCoefficients=et.cValues=et.tValues=void 0,et.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],et.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],et.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const _e=(it,at,ot)=>{let lt,ct,ut;lt=ot/2,ct=0;for(let ft=0;ft<20;ft++)ut=lt*et.tValues[20][ft]+lt,ct+=et.cValues[20][ft]*rt(it,at,ut);return lt*ct};et.getCubicArcLength=_e;const tt=(it,at,ot)=>{ot===void 0&&(ot=1);const lt=it[0]-2*it[1]+it[2],ct=at[0]-2*at[1]+at[2],ut=2*it[1]-2*it[0],dt=2*at[1]-2*at[0],ft=4*(lt*lt+ct*ct),ht=4*(lt*ut+ct*dt),pt=ut*ut+dt*dt;if(ft===0)return ot*Math.sqrt(Math.pow(it[2]-it[0],2)+Math.pow(at[2]-at[0],2));const gt=ht/(2*ft),mt=pt/ft,bt=ot+gt,vt=mt-gt*gt,yt=bt*bt+vt>0?Math.sqrt(bt*bt+vt):0,xt=gt*gt+vt>0?Math.sqrt(gt*gt+vt):0,Et=gt+Math.sqrt(gt*gt+vt)!==0?vt*Math.log(Math.abs((bt+yt)/(gt+xt))):0;return Math.sqrt(ft)/2*(bt*yt-gt*xt+Et)};et.getQuadraticArcLength=tt;function rt(it,at,ot){const lt=nt(1,ot,it),ct=nt(1,ot,at),ut=lt*lt+ct*ct;return Math.sqrt(ut)}const nt=(it,at,ot)=>{const lt=ot.length-1;let ct,ut;if(lt===0)return 0;if(it===0){ut=0;for(let dt=0;dt<=lt;dt++)ut+=et.binomialCoefficients[lt][dt]*Math.pow(1-at,lt-dt)*Math.pow(at,dt)*ot[dt];return ut}else{ct=new Array(lt);for(let dt=0;dt<lt;dt++)ct[dt]=lt*(ot[dt+1]-ot[dt]);return nt(it-1,at,ct)}},st=(it,at,ot)=>{let lt=1,ct=it/at,ut=(it-ot(ct))/at,dt=0;for(;lt>.001;){const ft=ot(ct+ut),ht=Math.abs(it-ft)/at;if(ht<lt)lt=ht,ct+=ut;else{const pt=ot(ct-ut),gt=Math.abs(it-pt)/at;gt<lt?(lt=gt,ct-=ut):ut/=2}if(dt++,dt>500)break}return ct};et.t2length=st})(BezierFunctions);Object.defineProperty(Path$1,"__esModule",{value:!0});Path$1.Path=void 0;const Factory_1$t=Factory,Shape_1$d=Shape,Global_1$e=Global,BezierFunctions_1=BezierFunctions;class Path extends Shape_1$d.Shape{constructor(_e){super(_e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Path.parsePathData(this.data()),this.pathLength=Path.getPathLength(this.dataArray)}_sceneFunc(_e){var tt=this.dataArray;_e.beginPath();for(var rt=!1,nt=0;nt<tt.length;nt++){var st=tt[nt].command,it=tt[nt].points;switch(st){case"L":_e.lineTo(it[0],it[1]);break;case"M":_e.moveTo(it[0],it[1]);break;case"C":_e.bezierCurveTo(it[0],it[1],it[2],it[3],it[4],it[5]);break;case"Q":_e.quadraticCurveTo(it[0],it[1],it[2],it[3]);break;case"A":var at=it[0],ot=it[1],lt=it[2],ct=it[3],ut=it[4],dt=it[5],ft=it[6],ht=it[7],pt=lt>ct?lt:ct,gt=lt>ct?1:lt/ct,mt=lt>ct?ct/lt:1;_e.translate(at,ot),_e.rotate(ft),_e.scale(gt,mt),_e.arc(0,0,pt,ut,ut+dt,1-ht),_e.scale(1/gt,1/mt),_e.rotate(-ft),_e.translate(-at,-ot);break;case"z":rt=!0,_e.closePath();break}}!rt&&!this.hasFill()?_e.strokeShape(this):_e.fillStrokeShape(this)}getSelfRect(){var _e=[];this.dataArray.forEach(function(lt){if(lt.command==="A"){var ct=lt.points[4],ut=lt.points[5],dt=lt.points[4]+ut,ft=Math.PI/180;if(Math.abs(ct-dt)<ft&&(ft=Math.abs(ct-dt)),ut<0)for(let ht=ct-ft;ht>dt;ht-=ft){const pt=Path.getPointOnEllipticalArc(lt.points[0],lt.points[1],lt.points[2],lt.points[3],ht,0);_e.push(pt.x,pt.y)}else for(let ht=ct+ft;ht<dt;ht+=ft){const pt=Path.getPointOnEllipticalArc(lt.points[0],lt.points[1],lt.points[2],lt.points[3],ht,0);_e.push(pt.x,pt.y)}}else if(lt.command==="C")for(let ht=0;ht<=1;ht+=.01){const pt=Path.getPointOnCubicBezier(ht,lt.start.x,lt.start.y,lt.points[0],lt.points[1],lt.points[2],lt.points[3],lt.points[4],lt.points[5]);_e.push(pt.x,pt.y)}else _e=_e.concat(lt.points)});for(var tt=_e[0],rt=_e[0],nt=_e[1],st=_e[1],it,at,ot=0;ot<_e.length/2;ot++)it=_e[ot*2],at=_e[ot*2+1],isNaN(it)||(tt=Math.min(tt,it),rt=Math.max(rt,it)),isNaN(at)||(nt=Math.min(nt,at),st=Math.max(st,at));return{x:tt,y:nt,width:rt-tt,height:st-nt}}getLength(){return this.pathLength}getPointAtLength(_e){return Path.getPointAtLengthOfDataArray(_e,this.dataArray)}static getLineLength(_e,tt,rt,nt){return Math.sqrt((rt-_e)*(rt-_e)+(nt-tt)*(nt-tt))}static getPathLength(_e){let tt=0;for(var rt=0;rt<_e.length;++rt)tt+=_e[rt].pathLength;return tt}static getPointAtLengthOfDataArray(_e,tt){var rt,nt=0,st=tt.length;if(!st)return null;for(;nt<st&&_e>tt[nt].pathLength;)_e-=tt[nt].pathLength,++nt;if(nt===st)return rt=tt[nt-1].points.slice(-2),{x:rt[0],y:rt[1]};if(_e<.01)return rt=tt[nt].points.slice(0,2),{x:rt[0],y:rt[1]};var it=tt[nt],at=it.points;switch(it.command){case"L":return Path.getPointOnLine(_e,it.start.x,it.start.y,at[0],at[1]);case"C":return Path.getPointOnCubicBezier((0,BezierFunctions_1.t2length)(_e,Path.getPathLength(tt),pt=>(0,BezierFunctions_1.getCubicArcLength)([it.start.x,at[0],at[2],at[4]],[it.start.y,at[1],at[3],at[5]],pt)),it.start.x,it.start.y,at[0],at[1],at[2],at[3],at[4],at[5]);case"Q":return Path.getPointOnQuadraticBezier((0,BezierFunctions_1.t2length)(_e,Path.getPathLength(tt),pt=>(0,BezierFunctions_1.getQuadraticArcLength)([it.start.x,at[0],at[2]],[it.start.y,at[1],at[3]],pt)),it.start.x,it.start.y,at[0],at[1],at[2],at[3]);case"A":var ot=at[0],lt=at[1],ct=at[2],ut=at[3],dt=at[4],ft=at[5],ht=at[6];return dt+=ft*_e/it.pathLength,Path.getPointOnEllipticalArc(ot,lt,ct,ut,dt,ht)}return null}static getPointOnLine(_e,tt,rt,nt,st,it,at){it===void 0&&(it=tt),at===void 0&&(at=rt);var ot=(st-rt)/(nt-tt+1e-8),lt=Math.sqrt(_e*_e/(1+ot*ot));nt<tt&&(lt*=-1);var ct=ot*lt,ut;if(nt===tt)ut={x:it,y:at+ct};else if((at-rt)/(it-tt+1e-8)===ot)ut={x:it+lt,y:at+ct};else{var dt,ft,ht=this.getLineLength(tt,rt,nt,st),pt=(it-tt)*(nt-tt)+(at-rt)*(st-rt);pt=pt/(ht*ht),dt=tt+pt*(nt-tt),ft=rt+pt*(st-rt);var gt=this.getLineLength(it,at,dt,ft),mt=Math.sqrt(_e*_e-gt*gt);lt=Math.sqrt(mt*mt/(1+ot*ot)),nt<tt&&(lt*=-1),ct=ot*lt,ut={x:dt+lt,y:ft+ct}}return ut}static getPointOnCubicBezier(_e,tt,rt,nt,st,it,at,ot,lt){function ct(gt){return gt*gt*gt}function ut(gt){return 3*gt*gt*(1-gt)}function dt(gt){return 3*gt*(1-gt)*(1-gt)}function ft(gt){return(1-gt)*(1-gt)*(1-gt)}var ht=ot*ct(_e)+it*ut(_e)+nt*dt(_e)+tt*ft(_e),pt=lt*ct(_e)+at*ut(_e)+st*dt(_e)+rt*ft(_e);return{x:ht,y:pt}}static getPointOnQuadraticBezier(_e,tt,rt,nt,st,it,at){function ot(ft){return ft*ft}function lt(ft){return 2*ft*(1-ft)}function ct(ft){return(1-ft)*(1-ft)}var ut=it*ot(_e)+nt*lt(_e)+tt*ct(_e),dt=at*ot(_e)+st*lt(_e)+rt*ct(_e);return{x:ut,y:dt}}static getPointOnEllipticalArc(_e,tt,rt,nt,st,it){var at=Math.cos(it),ot=Math.sin(it),lt={x:rt*Math.cos(st),y:nt*Math.sin(st)};return{x:_e+(lt.x*at-lt.y*ot),y:tt+(lt.x*ot+lt.y*at)}}static parsePathData(_e){if(!_e)return[];var tt=_e,rt=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];tt=tt.replace(new RegExp(" ","g"),",");for(var nt=0;nt<rt.length;nt++)tt=tt.replace(new RegExp(rt[nt],"g"),"|"+rt[nt]);var st=tt.split("|"),it=[],at=[],ot=0,lt=0,ct=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,ut;for(nt=1;nt<st.length;nt++){var dt=st[nt],ft=dt.charAt(0);for(dt=dt.slice(1),at.length=0;ut=ct.exec(dt);)at.push(ut[0]);for(var ht=[],pt=0,gt=at.length;pt<gt;pt++){if(at[pt]==="00"){ht.push(0,0);continue}var mt=parseFloat(at[pt]);isNaN(mt)?ht.push(0):ht.push(mt)}for(;ht.length>0&&!isNaN(ht[0]);){var bt="",vt=[],yt=ot,xt=lt,Et,wt,$t,Tt,St,Pt,At,Rt,Ct,Dt;switch(ft){case"l":ot+=ht.shift(),lt+=ht.shift(),bt="L",vt.push(ot,lt);break;case"L":ot=ht.shift(),lt=ht.shift(),vt.push(ot,lt);break;case"m":var Ft=ht.shift(),Mt=ht.shift();if(ot+=Ft,lt+=Mt,bt="M",it.length>2&&it[it.length-1].command==="z"){for(var Ot=it.length-2;Ot>=0;Ot--)if(it[Ot].command==="M"){ot=it[Ot].points[0]+Ft,lt=it[Ot].points[1]+Mt;break}}vt.push(ot,lt),ft="l";break;case"M":ot=ht.shift(),lt=ht.shift(),bt="M",vt.push(ot,lt),ft="L";break;case"h":ot+=ht.shift(),bt="L",vt.push(ot,lt);break;case"H":ot=ht.shift(),bt="L",vt.push(ot,lt);break;case"v":lt+=ht.shift(),bt="L",vt.push(ot,lt);break;case"V":lt=ht.shift(),bt="L",vt.push(ot,lt);break;case"C":vt.push(ht.shift(),ht.shift(),ht.shift(),ht.shift()),ot=ht.shift(),lt=ht.shift(),vt.push(ot,lt);break;case"c":vt.push(ot+ht.shift(),lt+ht.shift(),ot+ht.shift(),lt+ht.shift()),ot+=ht.shift(),lt+=ht.shift(),bt="C",vt.push(ot,lt);break;case"S":wt=ot,$t=lt,Et=it[it.length-1],Et.command==="C"&&(wt=ot+(ot-Et.points[2]),$t=lt+(lt-Et.points[3])),vt.push(wt,$t,ht.shift(),ht.shift()),ot=ht.shift(),lt=ht.shift(),bt="C",vt.push(ot,lt);break;case"s":wt=ot,$t=lt,Et=it[it.length-1],Et.command==="C"&&(wt=ot+(ot-Et.points[2]),$t=lt+(lt-Et.points[3])),vt.push(wt,$t,ot+ht.shift(),lt+ht.shift()),ot+=ht.shift(),lt+=ht.shift(),bt="C",vt.push(ot,lt);break;case"Q":vt.push(ht.shift(),ht.shift()),ot=ht.shift(),lt=ht.shift(),vt.push(ot,lt);break;case"q":vt.push(ot+ht.shift(),lt+ht.shift()),ot+=ht.shift(),lt+=ht.shift(),bt="Q",vt.push(ot,lt);break;case"T":wt=ot,$t=lt,Et=it[it.length-1],Et.command==="Q"&&(wt=ot+(ot-Et.points[0]),$t=lt+(lt-Et.points[1])),ot=ht.shift(),lt=ht.shift(),bt="Q",vt.push(wt,$t,ot,lt);break;case"t":wt=ot,$t=lt,Et=it[it.length-1],Et.command==="Q"&&(wt=ot+(ot-Et.points[0]),$t=lt+(lt-Et.points[1])),ot+=ht.shift(),lt+=ht.shift(),bt="Q",vt.push(wt,$t,ot,lt);break;case"A":Tt=ht.shift(),St=ht.shift(),Pt=ht.shift(),At=ht.shift(),Rt=ht.shift(),Ct=ot,Dt=lt,ot=ht.shift(),lt=ht.shift(),bt="A",vt=this.convertEndpointToCenterParameterization(Ct,Dt,ot,lt,At,Rt,Tt,St,Pt);break;case"a":Tt=ht.shift(),St=ht.shift(),Pt=ht.shift(),At=ht.shift(),Rt=ht.shift(),Ct=ot,Dt=lt,ot+=ht.shift(),lt+=ht.shift(),bt="A",vt=this.convertEndpointToCenterParameterization(Ct,Dt,ot,lt,At,Rt,Tt,St,Pt);break}it.push({command:bt||ft,points:vt,start:{x:yt,y:xt},pathLength:this.calcLength(yt,xt,bt||ft,vt)})}(ft==="z"||ft==="Z")&&it.push({command:"z",points:[],start:void 0,pathLength:0})}return it}static calcLength(_e,tt,rt,nt){var st,it,at,ot,lt=Path;switch(rt){case"L":return lt.getLineLength(_e,tt,nt[0],nt[1]);case"C":return(0,BezierFunctions_1.getCubicArcLength)([_e,nt[0],nt[2],nt[4]],[tt,nt[1],nt[3],nt[5]],1);case"Q":return(0,BezierFunctions_1.getQuadraticArcLength)([_e,nt[0],nt[2]],[tt,nt[1],nt[3]],1);case"A":st=0;var ct=nt[4],ut=nt[5],dt=nt[4]+ut,ft=Math.PI/180;if(Math.abs(ct-dt)<ft&&(ft=Math.abs(ct-dt)),it=lt.getPointOnEllipticalArc(nt[0],nt[1],nt[2],nt[3],ct,0),ut<0)for(ot=ct-ft;ot>dt;ot-=ft)at=lt.getPointOnEllipticalArc(nt[0],nt[1],nt[2],nt[3],ot,0),st+=lt.getLineLength(it.x,it.y,at.x,at.y),it=at;else for(ot=ct+ft;ot<dt;ot+=ft)at=lt.getPointOnEllipticalArc(nt[0],nt[1],nt[2],nt[3],ot,0),st+=lt.getLineLength(it.x,it.y,at.x,at.y),it=at;return at=lt.getPointOnEllipticalArc(nt[0],nt[1],nt[2],nt[3],dt,0),st+=lt.getLineLength(it.x,it.y,at.x,at.y),st}return 0}static convertEndpointToCenterParameterization(_e,tt,rt,nt,st,it,at,ot,lt){var ct=lt*(Math.PI/180),ut=Math.cos(ct)*(_e-rt)/2+Math.sin(ct)*(tt-nt)/2,dt=-1*Math.sin(ct)*(_e-rt)/2+Math.cos(ct)*(tt-nt)/2,ft=ut*ut/(at*at)+dt*dt/(ot*ot);ft>1&&(at*=Math.sqrt(ft),ot*=Math.sqrt(ft));var ht=Math.sqrt((at*at*(ot*ot)-at*at*(dt*dt)-ot*ot*(ut*ut))/(at*at*(dt*dt)+ot*ot*(ut*ut)));st===it&&(ht*=-1),isNaN(ht)&&(ht=0);var pt=ht*at*dt/ot,gt=ht*-ot*ut/at,mt=(_e+rt)/2+Math.cos(ct)*pt-Math.sin(ct)*gt,bt=(tt+nt)/2+Math.sin(ct)*pt+Math.cos(ct)*gt,vt=function(St){return Math.sqrt(St[0]*St[0]+St[1]*St[1])},yt=function(St,Pt){return(St[0]*Pt[0]+St[1]*Pt[1])/(vt(St)*vt(Pt))},xt=function(St,Pt){return(St[0]*Pt[1]<St[1]*Pt[0]?-1:1)*Math.acos(yt(St,Pt))},Et=xt([1,0],[(ut-pt)/at,(dt-gt)/ot]),wt=[(ut-pt)/at,(dt-gt)/ot],$t=[(-1*ut-pt)/at,(-1*dt-gt)/ot],Tt=xt(wt,$t);return yt(wt,$t)<=-1&&(Tt=Math.PI),yt(wt,$t)>=1&&(Tt=0),it===0&&Tt>0&&(Tt=Tt-2*Math.PI),it===1&&Tt<0&&(Tt=Tt+2*Math.PI),[mt,bt,at,ot,Et,Tt,ct,it]}}Path$1.Path=Path;Path.prototype.className="Path";Path.prototype._attrsAffectingSize=["data"];(0,Global_1$e._registerNode)(Path);Factory_1$t.Factory.addGetterSetter(Path,"data");Object.defineProperty(Arrow$1,"__esModule",{value:!0});Arrow$1.Arrow=void 0;const Factory_1$s=Factory,Line_1$1=Line$1,Validators_1$s=Validators,Global_1$d=Global,Path_1$2=Path$1;class Arrow extends Line_1$1.Line{_sceneFunc(_e){super._sceneFunc(_e);var tt=Math.PI*2,rt=this.points(),nt=rt,st=this.tension()!==0&&rt.length>4;st&&(nt=this.getTensionPoints());var it=this.pointerLength(),at=rt.length,ot,lt;if(st){const dt=[nt[nt.length-4],nt[nt.length-3],nt[nt.length-2],nt[nt.length-1],rt[at-2],rt[at-1]],ft=Path_1$2.Path.calcLength(nt[nt.length-4],nt[nt.length-3],"C",dt),ht=Path_1$2.Path.getPointOnQuadraticBezier(Math.min(1,1-it/ft),dt[0],dt[1],dt[2],dt[3],dt[4],dt[5]);ot=rt[at-2]-ht.x,lt=rt[at-1]-ht.y}else ot=rt[at-2]-rt[at-4],lt=rt[at-1]-rt[at-3];var ct=(Math.atan2(lt,ot)+tt)%tt,ut=this.pointerWidth();this.pointerAtEnding()&&(_e.save(),_e.beginPath(),_e.translate(rt[at-2],rt[at-1]),_e.rotate(ct),_e.moveTo(0,0),_e.lineTo(-it,ut/2),_e.lineTo(-it,-ut/2),_e.closePath(),_e.restore(),this.__fillStroke(_e)),this.pointerAtBeginning()&&(_e.save(),_e.beginPath(),_e.translate(rt[0],rt[1]),st?(ot=(nt[0]+nt[2])/2-rt[0],lt=(nt[1]+nt[3])/2-rt[1]):(ot=rt[2]-rt[0],lt=rt[3]-rt[1]),_e.rotate((Math.atan2(-lt,-ot)+tt)%tt),_e.moveTo(0,0),_e.lineTo(-it,ut/2),_e.lineTo(-it,-ut/2),_e.closePath(),_e.restore(),this.__fillStroke(_e))}__fillStroke(_e){var tt=this.dashEnabled();tt&&(this.attrs.dashEnabled=!1,_e.setLineDash([])),_e.fillStrokeShape(this),tt&&(this.attrs.dashEnabled=!0)}getSelfRect(){const _e=super.getSelfRect(),tt=this.pointerWidth()/2;return{x:_e.x-tt,y:_e.y-tt,width:_e.width+tt*2,height:_e.height+tt*2}}}Arrow$1.Arrow=Arrow;Arrow.prototype.className="Arrow";(0,Global_1$d._registerNode)(Arrow);Factory_1$s.Factory.addGetterSetter(Arrow,"pointerLength",10,(0,Validators_1$s.getNumberValidator)());Factory_1$s.Factory.addGetterSetter(Arrow,"pointerWidth",10,(0,Validators_1$s.getNumberValidator)());Factory_1$s.Factory.addGetterSetter(Arrow,"pointerAtBeginning",!1);Factory_1$s.Factory.addGetterSetter(Arrow,"pointerAtEnding",!0);var Circle$2={};Object.defineProperty(Circle$2,"__esModule",{value:!0});Circle$2.Circle=void 0;const Factory_1$r=Factory,Shape_1$c=Shape,Validators_1$r=Validators,Global_1$c=Global;let Circle$1=class extends Shape_1$c.Shape{_sceneFunc(_e){_e.beginPath(),_e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),_e.closePath(),_e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(_e){this.radius()!==_e/2&&this.radius(_e/2)}setHeight(_e){this.radius()!==_e/2&&this.radius(_e/2)}};Circle$2.Circle=Circle$1;Circle$1.prototype._centroid=!0;Circle$1.prototype.className="Circle";Circle$1.prototype._attrsAffectingSize=["radius"];(0,Global_1$c._registerNode)(Circle$1);Factory_1$r.Factory.addGetterSetter(Circle$1,"radius",0,(0,Validators_1$r.getNumberValidator)());var Ellipse$1={};Object.defineProperty(Ellipse$1,"__esModule",{value:!0});Ellipse$1.Ellipse=void 0;const Factory_1$q=Factory,Shape_1$b=Shape,Validators_1$q=Validators,Global_1$b=Global;class Ellipse extends Shape_1$b.Shape{_sceneFunc(_e){var tt=this.radiusX(),rt=this.radiusY();_e.beginPath(),_e.save(),tt!==rt&&_e.scale(1,rt/tt),_e.arc(0,0,tt,0,Math.PI*2,!1),_e.restore(),_e.closePath(),_e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(_e){this.radiusX(_e/2)}setHeight(_e){this.radiusY(_e/2)}}Ellipse$1.Ellipse=Ellipse;Ellipse.prototype.className="Ellipse";Ellipse.prototype._centroid=!0;Ellipse.prototype._attrsAffectingSize=["radiusX","radiusY"];(0,Global_1$b._registerNode)(Ellipse);Factory_1$q.Factory.addComponentsGetterSetter(Ellipse,"radius",["x","y"]);Factory_1$q.Factory.addGetterSetter(Ellipse,"radiusX",0,(0,Validators_1$q.getNumberValidator)());Factory_1$q.Factory.addGetterSetter(Ellipse,"radiusY",0,(0,Validators_1$q.getNumberValidator)());var Image$2={};Object.defineProperty(Image$2,"__esModule",{value:!0});Image$2.Image=void 0;const Util_1$7=Util,Factory_1$p=Factory,Shape_1$a=Shape,Global_1$a=Global,Validators_1$p=Validators;let Image$1=class bs extends Shape_1$a.Shape{constructor(_e){super(_e),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const _e=this.image();_e&&_e.complete||_e&&_e.readyState===4||_e&&_e.addEventListener&&_e.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(_e){const tt=this.getWidth(),rt=this.getHeight(),nt=this.cornerRadius(),st=this.attrs.image;let it;if(st){const at=this.attrs.cropWidth,ot=this.attrs.cropHeight;at&&ot?it=[st,this.cropX(),this.cropY(),at,ot,0,0,tt,rt]:it=[st,0,0,tt,rt]}(this.hasFill()||this.hasStroke()||nt)&&(_e.beginPath(),nt?Util_1$7.Util.drawRoundedRectPath(_e,tt,rt,nt):_e.rect(0,0,tt,rt),_e.closePath(),_e.fillStrokeShape(this)),st&&(nt&&_e.clip(),_e.drawImage.apply(_e,it))}_hitFunc(_e){var tt=this.width(),rt=this.height(),nt=this.cornerRadius();_e.beginPath(),nt?Util_1$7.Util.drawRoundedRectPath(_e,tt,rt,nt):_e.rect(0,0,tt,rt),_e.closePath(),_e.fillStrokeShape(this)}getWidth(){var _e,tt;return(_e=this.attrs.width)!==null&&_e!==void 0?_e:(tt=this.image())===null||tt===void 0?void 0:tt.width}getHeight(){var _e,tt;return(_e=this.attrs.height)!==null&&_e!==void 0?_e:(tt=this.image())===null||tt===void 0?void 0:tt.height}static fromURL(_e,tt,rt=null){var nt=Util_1$7.Util.createImageElement();nt.onload=function(){var st=new bs({image:nt});tt(st)},nt.onerror=rt,nt.crossOrigin="Anonymous",nt.src=_e}};Image$2.Image=Image$1;Image$1.prototype.className="Image";(0,Global_1$a._registerNode)(Image$1);Factory_1$p.Factory.addGetterSetter(Image$1,"cornerRadius",0,(0,Validators_1$p.getNumberOrArrayOfNumbersValidator)(4));Factory_1$p.Factory.addGetterSetter(Image$1,"image");Factory_1$p.Factory.addComponentsGetterSetter(Image$1,"crop",["x","y","width","height"]);Factory_1$p.Factory.addGetterSetter(Image$1,"cropX",0,(0,Validators_1$p.getNumberValidator)());Factory_1$p.Factory.addGetterSetter(Image$1,"cropY",0,(0,Validators_1$p.getNumberValidator)());Factory_1$p.Factory.addGetterSetter(Image$1,"cropWidth",0,(0,Validators_1$p.getNumberValidator)());Factory_1$p.Factory.addGetterSetter(Image$1,"cropHeight",0,(0,Validators_1$p.getNumberValidator)());var Label$1={};Object.defineProperty(Label$1,"__esModule",{value:!0});Label$1.Tag=Label$1.Label=void 0;const Factory_1$o=Factory,Shape_1$9=Shape,Group_1$1=Group$1,Validators_1$o=Validators,Global_1$9=Global;var ATTR_CHANGE_LIST$2=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],CHANGE_KONVA$1="Change.konva",NONE$1="none",UP="up",RIGHT$1="right",DOWN="down",LEFT$1="left",attrChangeListLen$1=ATTR_CHANGE_LIST$2.length;class Label extends Group_1$1.Group{constructor(_e){super(_e),this.on("add.konva",function(tt){this._addListeners(tt.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(_e){var tt=this,rt,nt=function(){tt._sync()};for(rt=0;rt<attrChangeListLen$1;rt++)_e.on(ATTR_CHANGE_LIST$2[rt]+CHANGE_KONVA$1,nt)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var _e=this.getText(),tt=this.getTag(),rt,nt,st,it,at,ot,lt;if(_e&&tt){switch(rt=_e.width(),nt=_e.height(),st=tt.pointerDirection(),it=tt.pointerWidth(),lt=tt.pointerHeight(),at=0,ot=0,st){case UP:at=rt/2,ot=-1*lt;break;case RIGHT$1:at=rt+it,ot=nt/2;break;case DOWN:at=rt/2,ot=nt+lt;break;case LEFT$1:at=-1*it,ot=nt/2;break}tt.setAttrs({x:-1*at,y:-1*ot,width:rt,height:nt}),_e.setAttrs({x:-1*at,y:-1*ot})}}}Label$1.Label=Label;Label.prototype.className="Label";(0,Global_1$9._registerNode)(Label);class Tag extends Shape_1$9.Shape{_sceneFunc(_e){var tt=this.width(),rt=this.height(),nt=this.pointerDirection(),st=this.pointerWidth(),it=this.pointerHeight(),at=this.cornerRadius();let ot=0,lt=0,ct=0,ut=0;typeof at=="number"?ot=lt=ct=ut=Math.min(at,tt/2,rt/2):(ot=Math.min(at[0]||0,tt/2,rt/2),lt=Math.min(at[1]||0,tt/2,rt/2),ut=Math.min(at[2]||0,tt/2,rt/2),ct=Math.min(at[3]||0,tt/2,rt/2)),_e.beginPath(),_e.moveTo(ot,0),nt===UP&&(_e.lineTo((tt-st)/2,0),_e.lineTo(tt/2,-1*it),_e.lineTo((tt+st)/2,0)),_e.lineTo(tt-lt,0),_e.arc(tt-lt,lt,lt,Math.PI*3/2,0,!1),nt===RIGHT$1&&(_e.lineTo(tt,(rt-it)/2),_e.lineTo(tt+st,rt/2),_e.lineTo(tt,(rt+it)/2)),_e.lineTo(tt,rt-ut),_e.arc(tt-ut,rt-ut,ut,0,Math.PI/2,!1),nt===DOWN&&(_e.lineTo((tt+st)/2,rt),_e.lineTo(tt/2,rt+it),_e.lineTo((tt-st)/2,rt)),_e.lineTo(ct,rt),_e.arc(ct,rt-ct,ct,Math.PI/2,Math.PI,!1),nt===LEFT$1&&(_e.lineTo(0,(rt+it)/2),_e.lineTo(-1*st,rt/2),_e.lineTo(0,(rt-it)/2)),_e.lineTo(0,ot),_e.arc(ot,ot,ot,Math.PI,Math.PI*3/2,!1),_e.closePath(),_e.fillStrokeShape(this)}getSelfRect(){var _e=0,tt=0,rt=this.pointerWidth(),nt=this.pointerHeight(),st=this.pointerDirection(),it=this.width(),at=this.height();return st===UP?(tt-=nt,at+=nt):st===DOWN?at+=nt:st===LEFT$1?(_e-=rt*1.5,it+=rt):st===RIGHT$1&&(it+=rt*1.5),{x:_e,y:tt,width:it,height:at}}}Label$1.Tag=Tag;Tag.prototype.className="Tag";(0,Global_1$9._registerNode)(Tag);Factory_1$o.Factory.addGetterSetter(Tag,"pointerDirection",NONE$1);Factory_1$o.Factory.addGetterSetter(Tag,"pointerWidth",0,(0,Validators_1$o.getNumberValidator)());Factory_1$o.Factory.addGetterSetter(Tag,"pointerHeight",0,(0,Validators_1$o.getNumberValidator)());Factory_1$o.Factory.addGetterSetter(Tag,"cornerRadius",0,(0,Validators_1$o.getNumberOrArrayOfNumbersValidator)(4));var Rect$1={};Object.defineProperty(Rect$1,"__esModule",{value:!0});Rect$1.Rect=void 0;const Factory_1$n=Factory,Shape_1$8=Shape,Global_1$8=Global,Util_1$6=Util,Validators_1$n=Validators;class Rect extends Shape_1$8.Shape{_sceneFunc(_e){var tt=this.cornerRadius(),rt=this.width(),nt=this.height();_e.beginPath(),tt?Util_1$6.Util.drawRoundedRectPath(_e,rt,nt,tt):_e.rect(0,0,rt,nt),_e.closePath(),_e.fillStrokeShape(this)}}Rect$1.Rect=Rect;Rect.prototype.className="Rect";(0,Global_1$8._registerNode)(Rect);Factory_1$n.Factory.addGetterSetter(Rect,"cornerRadius",0,(0,Validators_1$n.getNumberOrArrayOfNumbersValidator)(4));var RegularPolygon$1={};Object.defineProperty(RegularPolygon$1,"__esModule",{value:!0});RegularPolygon$1.RegularPolygon=void 0;const Factory_1$m=Factory,Shape_1$7=Shape,Validators_1$m=Validators,Global_1$7=Global;class RegularPolygon extends Shape_1$7.Shape{_sceneFunc(_e){const tt=this._getPoints();_e.beginPath(),_e.moveTo(tt[0].x,tt[0].y);for(var rt=1;rt<tt.length;rt++)_e.lineTo(tt[rt].x,tt[rt].y);_e.closePath(),_e.fillStrokeShape(this)}_getPoints(){const _e=this.attrs.sides,tt=this.attrs.radius||0,rt=[];for(var nt=0;nt<_e;nt++)rt.push({x:tt*Math.sin(nt*2*Math.PI/_e),y:-1*tt*Math.cos(nt*2*Math.PI/_e)});return rt}getSelfRect(){const _e=this._getPoints();var tt=_e[0].x,rt=_e[0].y,nt=_e[0].x,st=_e[0].y;return _e.forEach(it=>{tt=Math.min(tt,it.x),rt=Math.max(rt,it.x),nt=Math.min(nt,it.y),st=Math.max(st,it.y)}),{x:tt,y:nt,width:rt-tt,height:st-nt}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(_e){this.radius(_e/2)}setHeight(_e){this.radius(_e/2)}}RegularPolygon$1.RegularPolygon=RegularPolygon;RegularPolygon.prototype.className="RegularPolygon";RegularPolygon.prototype._centroid=!0;RegularPolygon.prototype._attrsAffectingSize=["radius"];(0,Global_1$7._registerNode)(RegularPolygon);Factory_1$m.Factory.addGetterSetter(RegularPolygon,"radius",0,(0,Validators_1$m.getNumberValidator)());Factory_1$m.Factory.addGetterSetter(RegularPolygon,"sides",0,(0,Validators_1$m.getNumberValidator)());var Ring$1={};Object.defineProperty(Ring$1,"__esModule",{value:!0});Ring$1.Ring=void 0;const Factory_1$l=Factory,Shape_1$6=Shape,Validators_1$l=Validators,Global_1$6=Global;var PIx2=Math.PI*2;class Ring extends Shape_1$6.Shape{_sceneFunc(_e){_e.beginPath(),_e.arc(0,0,this.innerRadius(),0,PIx2,!1),_e.moveTo(this.outerRadius(),0),_e.arc(0,0,this.outerRadius(),PIx2,0,!0),_e.closePath(),_e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(_e){this.outerRadius(_e/2)}setHeight(_e){this.outerRadius(_e/2)}}Ring$1.Ring=Ring;Ring.prototype.className="Ring";Ring.prototype._centroid=!0;Ring.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,Global_1$6._registerNode)(Ring);Factory_1$l.Factory.addGetterSetter(Ring,"innerRadius",0,(0,Validators_1$l.getNumberValidator)());Factory_1$l.Factory.addGetterSetter(Ring,"outerRadius",0,(0,Validators_1$l.getNumberValidator)());var Sprite$1={};Object.defineProperty(Sprite$1,"__esModule",{value:!0});Sprite$1.Sprite=void 0;const Factory_1$k=Factory,Shape_1$5=Shape,Animation_1=Animation$1,Validators_1$k=Validators,Global_1$5=Global;class Sprite extends Shape_1$5.Shape{constructor(_e){super(_e),this._updated=!0,this.anim=new Animation_1.Animation(()=>{var tt=this._updated;return this._updated=!1,tt}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(_e){var tt=this.animation(),rt=this.frameIndex(),nt=rt*4,st=this.animations()[tt],it=this.frameOffsets(),at=st[nt+0],ot=st[nt+1],lt=st[nt+2],ct=st[nt+3],ut=this.image();if((this.hasFill()||this.hasStroke())&&(_e.beginPath(),_e.rect(0,0,lt,ct),_e.closePath(),_e.fillStrokeShape(this)),ut)if(it){var dt=it[tt],ft=rt*2;_e.drawImage(ut,at,ot,lt,ct,dt[ft+0],dt[ft+1],lt,ct)}else _e.drawImage(ut,at,ot,lt,ct,0,0,lt,ct)}_hitFunc(_e){var tt=this.animation(),rt=this.frameIndex(),nt=rt*4,st=this.animations()[tt],it=this.frameOffsets(),at=st[nt+2],ot=st[nt+3];if(_e.beginPath(),it){var lt=it[tt],ct=rt*2;_e.rect(lt[ct+0],lt[ct+1],at,ot)}else _e.rect(0,0,at,ot);_e.closePath(),_e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var _e=this;this.interval=setInterval(function(){_e._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var _e=this.getLayer();this.anim.setLayers(_e),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var _e=this.frameIndex(),tt=this.animation(),rt=this.animations(),nt=rt[tt],st=nt.length/4;_e<st-1?this.frameIndex(_e+1):this.frameIndex(0)}}Sprite$1.Sprite=Sprite;Sprite.prototype.className="Sprite";(0,Global_1$5._registerNode)(Sprite);Factory_1$k.Factory.addGetterSetter(Sprite,"animation");Factory_1$k.Factory.addGetterSetter(Sprite,"animations");Factory_1$k.Factory.addGetterSetter(Sprite,"frameOffsets");Factory_1$k.Factory.addGetterSetter(Sprite,"image");Factory_1$k.Factory.addGetterSetter(Sprite,"frameIndex",0,(0,Validators_1$k.getNumberValidator)());Factory_1$k.Factory.addGetterSetter(Sprite,"frameRate",17,(0,Validators_1$k.getNumberValidator)());Factory_1$k.Factory.backCompat(Sprite,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});var Star$1={};Object.defineProperty(Star$1,"__esModule",{value:!0});Star$1.Star=void 0;const Factory_1$j=Factory,Shape_1$4=Shape,Validators_1$j=Validators,Global_1$4=Global;class Star extends Shape_1$4.Shape{_sceneFunc(_e){var tt=this.innerRadius(),rt=this.outerRadius(),nt=this.numPoints();_e.beginPath(),_e.moveTo(0,0-rt);for(var st=1;st<nt*2;st++){var it=st%2===0?rt:tt,at=it*Math.sin(st*Math.PI/nt),ot=-1*it*Math.cos(st*Math.PI/nt);_e.lineTo(at,ot)}_e.closePath(),_e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(_e){this.outerRadius(_e/2)}setHeight(_e){this.outerRadius(_e/2)}}Star$1.Star=Star;Star.prototype.className="Star";Star.prototype._centroid=!0;Star.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,Global_1$4._registerNode)(Star);Factory_1$j.Factory.addGetterSetter(Star,"numPoints",5,(0,Validators_1$j.getNumberValidator)());Factory_1$j.Factory.addGetterSetter(Star,"innerRadius",0,(0,Validators_1$j.getNumberValidator)());Factory_1$j.Factory.addGetterSetter(Star,"outerRadius",0,(0,Validators_1$j.getNumberValidator)());var Text$1={};Object.defineProperty(Text$1,"__esModule",{value:!0});Text$1.Text=Text$1.stringToArray=void 0;const Util_1$5=Util,Factory_1$i=Factory,Shape_1$3=Shape,Validators_1$i=Validators,Global_1$3=Global;function stringToArray(et){return Array.from(et)}Text$1.stringToArray=stringToArray;var AUTO="auto",CENTER="center",INHERIT="inherit",JUSTIFY="justify",CHANGE_KONVA="Change.konva",CONTEXT_2D="2d",DASH="-",LEFT="left",TEXT="text",TEXT_UPPER="Text",TOP="top",BOTTOM="bottom",MIDDLE="middle",NORMAL$1="normal",PX_SPACE="px ",SPACE=" ",RIGHT="right",RTL="rtl",WORD="word",CHAR="char",NONE="none",ELLIPSIS="",ATTR_CHANGE_LIST$1=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],attrChangeListLen=ATTR_CHANGE_LIST$1.length;function normalizeFontFamily(et){return et.split(",").map(_e=>{_e=_e.trim();const tt=_e.indexOf(" ")>=0,rt=_e.indexOf('"')>=0||_e.indexOf("'")>=0;return tt&&!rt&&(_e=`"${_e}"`),_e}).join(", ")}var dummyContext;function getDummyContext(){return dummyContext||(dummyContext=Util_1$5.Util.createCanvasElement().getContext(CONTEXT_2D),dummyContext)}function _fillFunc$1(et){et.fillText(this._partialText,this._partialTextX,this._partialTextY)}function _strokeFunc$1(et){et.setAttr("miterLimit",2),et.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function checkDefaultFill(et){return et=et||{},!et.fillLinearGradientColorStops&&!et.fillRadialGradientColorStops&&!et.fillPatternImage&&(et.fill=et.fill||"black"),et}class Text extends Shape_1$3.Shape{constructor(_e){super(checkDefaultFill(_e)),this._partialTextX=0,this._partialTextY=0;for(var tt=0;tt<attrChangeListLen;tt++)this.on(ATTR_CHANGE_LIST$1[tt]+CHANGE_KONVA,this._setTextData);this._setTextData()}_sceneFunc(_e){var tt=this.textArr,rt=tt.length;if(this.text()){var nt=this.padding(),st=this.fontSize(),it=this.lineHeight()*st,at=this.verticalAlign(),ot=this.direction(),lt=0,ct=this.align(),ut=this.getWidth(),dt=this.letterSpacing(),ft=this.fill(),ht=this.textDecoration(),pt=ht.indexOf("underline")!==-1,gt=ht.indexOf("line-through")!==-1,mt;ot=ot===INHERIT?_e.direction:ot;var bt=0,bt=it/2,vt=0,yt=0;for(ot===RTL&&_e.setAttr("direction",ot),_e.setAttr("font",this._getContextFont()),_e.setAttr("textBaseline",MIDDLE),_e.setAttr("textAlign",LEFT),at===MIDDLE?lt=(this.getHeight()-rt*it-nt*2)/2:at===BOTTOM&&(lt=this.getHeight()-rt*it-nt*2),_e.translate(nt,lt+nt),mt=0;mt<rt;mt++){var vt=0,yt=0,xt=tt[mt],Et=xt.text,wt=xt.width,$t=xt.lastInParagraph,Tt,St,Pt;if(_e.save(),ct===RIGHT?vt+=ut-wt-nt*2:ct===CENTER&&(vt+=(ut-wt-nt*2)/2),pt){_e.save(),_e.beginPath(),_e.moveTo(vt,bt+yt+Math.round(st/2)),Tt=Et.split(" ").length-1,St=Tt===0,Pt=ct===JUSTIFY&&!$t?ut-nt*2:wt,_e.lineTo(vt+Math.round(Pt),bt+yt+Math.round(st/2)),_e.lineWidth=st/15;const Mt=this._getLinearGradient();_e.strokeStyle=Mt||ft,_e.stroke(),_e.restore()}if(gt){_e.save(),_e.beginPath(),_e.moveTo(vt,bt+yt),Tt=Et.split(" ").length-1,St=Tt===0,Pt=ct===JUSTIFY&&$t&&!St?ut-nt*2:wt,_e.lineTo(vt+Math.round(Pt),bt+yt),_e.lineWidth=st/15;const Mt=this._getLinearGradient();_e.strokeStyle=Mt||ft,_e.stroke(),_e.restore()}if(ot!==RTL&&(dt!==0||ct===JUSTIFY)){Tt=Et.split(" ").length-1;for(var At=stringToArray(Et),Rt=0;Rt<At.length;Rt++){var Ct=At[Rt];Ct===" "&&!$t&&ct===JUSTIFY&&(vt+=(ut-nt*2-wt)/Tt),this._partialTextX=vt,this._partialTextY=bt+yt,this._partialText=Ct,_e.fillStrokeShape(this),vt+=this.measureSize(Ct).width+dt}}else dt!==0&&_e.setAttr("letterSpacing",`${dt}px`),this._partialTextX=vt,this._partialTextY=bt+yt,this._partialText=Et,_e.fillStrokeShape(this);_e.restore(),rt>1&&(bt+=it)}}}_hitFunc(_e){var tt=this.getWidth(),rt=this.getHeight();_e.beginPath(),_e.rect(0,0,tt,rt),_e.closePath(),_e.fillStrokeShape(this)}setText(_e){var tt=Util_1$5.Util._isString(_e)?_e:_e==null?"":_e+"";return this._setAttr(TEXT,tt),this}getWidth(){var _e=this.attrs.width===AUTO||this.attrs.width===void 0;return _e?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){var _e=this.attrs.height===AUTO||this.attrs.height===void 0;return _e?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return Util_1$5.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(_e){var tt=getDummyContext(),rt=this.fontSize(),nt;return tt.save(),tt.font=this._getContextFont(),nt=tt.measureText(_e),tt.restore(),{width:nt.width,height:rt}}_getContextFont(){return this.fontStyle()+SPACE+this.fontVariant()+SPACE+(this.fontSize()+PX_SPACE)+normalizeFontFamily(this.fontFamily())}_addTextLine(_e){this.align()===JUSTIFY&&(_e=_e.trim());var rt=this._getTextWidth(_e);return this.textArr.push({text:_e,width:rt,lastInParagraph:!1})}_getTextWidth(_e){var tt=this.letterSpacing(),rt=_e.length;return getDummyContext().measureText(_e).width+(rt?tt*(rt-1):0)}_setTextData(){var _e=this.text().split(`
`),tt=+this.fontSize(),rt=0,nt=this.lineHeight()*tt,st=this.attrs.width,it=this.attrs.height,at=st!==AUTO&&st!==void 0,ot=it!==AUTO&&it!==void 0,lt=this.padding(),ct=st-lt*2,ut=it-lt*2,dt=0,ft=this.wrap(),ht=ft!==NONE,pt=ft!==CHAR&&ht,gt=this.ellipsis();this.textArr=[],getDummyContext().font=this._getContextFont();for(var mt=gt?this._getTextWidth(ELLIPSIS):0,bt=0,vt=_e.length;bt<vt;++bt){var yt=_e[bt],xt=this._getTextWidth(yt);if(at&&xt>ct)for(;yt.length>0;){for(var Et=0,wt=yt.length,$t="",Tt=0;Et<wt;){var St=Et+wt>>>1,Pt=yt.slice(0,St+1),At=this._getTextWidth(Pt)+mt;At<=ct?(Et=St+1,$t=Pt,Tt=At):wt=St}if($t){if(pt){var Rt,Ct=yt[$t.length],Dt=Ct===SPACE||Ct===DASH;Dt&&Tt<=ct?Rt=$t.length:Rt=Math.max($t.lastIndexOf(SPACE),$t.lastIndexOf(DASH))+1,Rt>0&&(Et=Rt,$t=$t.slice(0,Et),Tt=this._getTextWidth($t))}$t=$t.trimRight(),this._addTextLine($t),rt=Math.max(rt,Tt),dt+=nt;var Ft=this._shouldHandleEllipsis(dt);if(Ft){this._tryToAddEllipsisToLastLine();break}if(yt=yt.slice(Et),yt=yt.trimLeft(),yt.length>0&&(xt=this._getTextWidth(yt),xt<=ct)){this._addTextLine(yt),dt+=nt,rt=Math.max(rt,xt);break}}else break}else this._addTextLine(yt),dt+=nt,rt=Math.max(rt,xt),this._shouldHandleEllipsis(dt)&&bt<vt-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),ot&&dt+nt>ut)break}this.textHeight=tt,this.textWidth=rt}_shouldHandleEllipsis(_e){var tt=+this.fontSize(),rt=this.lineHeight()*tt,nt=this.attrs.height,st=nt!==AUTO&&nt!==void 0,it=this.padding(),at=nt-it*2,ot=this.wrap(),lt=ot!==NONE;return!lt||st&&_e+rt>at}_tryToAddEllipsisToLastLine(){var _e=this.attrs.width,tt=_e!==AUTO&&_e!==void 0,rt=this.padding(),nt=_e-rt*2,st=this.ellipsis(),it=this.textArr[this.textArr.length-1];if(!(!it||!st)){if(tt){var at=this._getTextWidth(it.text+ELLIPSIS)<nt;at||(it.text=it.text.slice(0,it.text.length-3))}this.textArr.splice(this.textArr.length-1,1),this._addTextLine(it.text+ELLIPSIS)}}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const _e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,tt=this.hasShadow();return _e&&tt?!0:super._useBufferCanvas()}}Text$1.Text=Text;Text.prototype._fillFunc=_fillFunc$1;Text.prototype._strokeFunc=_strokeFunc$1;Text.prototype.className=TEXT_UPPER;Text.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];(0,Global_1$3._registerNode)(Text);Factory_1$i.Factory.overWriteSetter(Text,"width",(0,Validators_1$i.getNumberOrAutoValidator)());Factory_1$i.Factory.overWriteSetter(Text,"height",(0,Validators_1$i.getNumberOrAutoValidator)());Factory_1$i.Factory.addGetterSetter(Text,"direction",INHERIT);Factory_1$i.Factory.addGetterSetter(Text,"fontFamily","Arial");Factory_1$i.Factory.addGetterSetter(Text,"fontSize",12,(0,Validators_1$i.getNumberValidator)());Factory_1$i.Factory.addGetterSetter(Text,"fontStyle",NORMAL$1);Factory_1$i.Factory.addGetterSetter(Text,"fontVariant",NORMAL$1);Factory_1$i.Factory.addGetterSetter(Text,"padding",0,(0,Validators_1$i.getNumberValidator)());Factory_1$i.Factory.addGetterSetter(Text,"align",LEFT);Factory_1$i.Factory.addGetterSetter(Text,"verticalAlign",TOP);Factory_1$i.Factory.addGetterSetter(Text,"lineHeight",1,(0,Validators_1$i.getNumberValidator)());Factory_1$i.Factory.addGetterSetter(Text,"wrap",WORD);Factory_1$i.Factory.addGetterSetter(Text,"ellipsis",!1,(0,Validators_1$i.getBooleanValidator)());Factory_1$i.Factory.addGetterSetter(Text,"letterSpacing",0,(0,Validators_1$i.getNumberValidator)());Factory_1$i.Factory.addGetterSetter(Text,"text","",(0,Validators_1$i.getStringValidator)());Factory_1$i.Factory.addGetterSetter(Text,"textDecoration","");var TextPath$1={};Object.defineProperty(TextPath$1,"__esModule",{value:!0});TextPath$1.TextPath=void 0;const Util_1$4=Util,Factory_1$h=Factory,Shape_1$2=Shape,Path_1$1=Path$1,Text_1$1=Text$1,Validators_1$h=Validators,Global_1$2=Global;var EMPTY_STRING="",NORMAL="normal";function _fillFunc(et){et.fillText(this.partialText,0,0)}function _strokeFunc(et){et.strokeText(this.partialText,0,0)}class TextPath extends Shape_1$2.Shape{constructor(_e){super(_e),this.dummyCanvas=Util_1$4.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return Path_1$1.Path.getPathLength(this.dataArray)}_getPointAtLength(_e){if(!this.attrs.data)return null;const tt=this.pathLength;return _e-1>tt?null:Path_1$1.Path.getPointAtLengthOfDataArray(_e,this.dataArray)}_readDataAttribute(){this.dataArray=Path_1$1.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(_e){_e.setAttr("font",this._getContextFont()),_e.setAttr("textBaseline",this.textBaseline()),_e.setAttr("textAlign","left"),_e.save();var tt=this.textDecoration(),rt=this.fill(),nt=this.fontSize(),st=this.glyphInfo;tt==="underline"&&_e.beginPath();for(var it=0;it<st.length;it++){_e.save();var at=st[it].p0;_e.translate(at.x,at.y),_e.rotate(st[it].rotation),this.partialText=st[it].text,_e.fillStrokeShape(this),tt==="underline"&&(it===0&&_e.moveTo(0,nt/2+1),_e.lineTo(nt,nt/2+1)),_e.restore()}tt==="underline"&&(_e.strokeStyle=rt,_e.lineWidth=nt/20,_e.stroke()),_e.restore()}_hitFunc(_e){_e.beginPath();var tt=this.glyphInfo;if(tt.length>=1){var rt=tt[0].p0;_e.moveTo(rt.x,rt.y)}for(var nt=0;nt<tt.length;nt++){var st=tt[nt].p1;_e.lineTo(st.x,st.y)}_e.setAttr("lineWidth",this.fontSize()),_e.setAttr("strokeStyle",this.colorKey),_e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return Util_1$4.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(_e){return Text_1$1.Text.prototype.setText.call(this,_e)}_getContextFont(){return Text_1$1.Text.prototype._getContextFont.call(this)}_getTextSize(_e){var tt=this.dummyCanvas,rt=tt.getContext("2d");rt.save(),rt.font=this._getContextFont();var nt=rt.measureText(_e);return rt.restore(),{width:nt.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:_e,height:tt}=this._getTextSize(this.attrs.text);if(this.textWidth=_e,this.textHeight=tt,this.glyphInfo=[],!this.attrs.data)return null;const rt=this.letterSpacing(),nt=this.align(),st=this.kerningFunc(),it=Math.max(this.textWidth+((this.attrs.text||"").length-1)*rt,0);let at=0;nt==="center"&&(at=Math.max(0,this.pathLength/2-it/2)),nt==="right"&&(at=Math.max(0,this.pathLength-it));const ot=(0,Text_1$1.stringToArray)(this.text());let lt=at;for(var ct=0;ct<ot.length;ct++){const ut=this._getPointAtLength(lt);if(!ut)return;let dt=this._getTextSize(ot[ct]).width+rt;if(ot[ct]===" "&&nt==="justify"){const bt=this.text().split(" ").length-1;dt+=(this.pathLength-it)/bt}const ft=this._getPointAtLength(lt+dt);if(!ft)return;const ht=Path_1$1.Path.getLineLength(ut.x,ut.y,ft.x,ft.y);let pt=0;if(st)try{pt=st(ot[ct-1],ot[ct])*this.fontSize()}catch{pt=0}ut.x+=pt,ft.x+=pt,this.textWidth+=pt;const gt=Path_1$1.Path.getPointOnLine(pt+ht/2,ut.x,ut.y,ft.x,ft.y),mt=Math.atan2(ft.y-ut.y,ft.x-ut.x);this.glyphInfo.push({transposeX:gt.x,transposeY:gt.y,text:ot[ct],rotation:mt,p0:ut,p1:ft}),lt+=dt}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var _e=[];this.glyphInfo.forEach(function(ct){_e.push(ct.p0.x),_e.push(ct.p0.y),_e.push(ct.p1.x),_e.push(ct.p1.y)});for(var tt=_e[0]||0,rt=_e[0]||0,nt=_e[1]||0,st=_e[1]||0,it,at,ot=0;ot<_e.length/2;ot++)it=_e[ot*2],at=_e[ot*2+1],tt=Math.min(tt,it),rt=Math.max(rt,it),nt=Math.min(nt,at),st=Math.max(st,at);var lt=this.fontSize();return{x:tt-lt/2,y:nt-lt/2,width:rt-tt+lt,height:st-nt+lt}}destroy(){return Util_1$4.Util.releaseCanvas(this.dummyCanvas),super.destroy()}}TextPath$1.TextPath=TextPath;TextPath.prototype._fillFunc=_fillFunc;TextPath.prototype._strokeFunc=_strokeFunc;TextPath.prototype._fillFuncHit=_fillFunc;TextPath.prototype._strokeFuncHit=_strokeFunc;TextPath.prototype.className="TextPath";TextPath.prototype._attrsAffectingSize=["text","fontSize","data"];(0,Global_1$2._registerNode)(TextPath);Factory_1$h.Factory.addGetterSetter(TextPath,"data");Factory_1$h.Factory.addGetterSetter(TextPath,"fontFamily","Arial");Factory_1$h.Factory.addGetterSetter(TextPath,"fontSize",12,(0,Validators_1$h.getNumberValidator)());Factory_1$h.Factory.addGetterSetter(TextPath,"fontStyle",NORMAL);Factory_1$h.Factory.addGetterSetter(TextPath,"align","left");Factory_1$h.Factory.addGetterSetter(TextPath,"letterSpacing",0,(0,Validators_1$h.getNumberValidator)());Factory_1$h.Factory.addGetterSetter(TextPath,"textBaseline","middle");Factory_1$h.Factory.addGetterSetter(TextPath,"fontVariant",NORMAL);Factory_1$h.Factory.addGetterSetter(TextPath,"text",EMPTY_STRING);Factory_1$h.Factory.addGetterSetter(TextPath,"textDecoration",null);Factory_1$h.Factory.addGetterSetter(TextPath,"kerningFunc",null);var Transformer$1={};Object.defineProperty(Transformer$1,"__esModule",{value:!0});Transformer$1.Transformer=void 0;const Util_1$3=Util,Factory_1$g=Factory,Node_1$f=Node$2,Shape_1$1=Shape,Rect_1$1=Rect$1,Group_1=Group$1,Global_1$1=Global,Validators_1$g=Validators,Global_2$1=Global;var EVENTS_NAME="tr-konva",ATTR_CHANGE_LIST=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(et=>et+`.${EVENTS_NAME}`).join(" "),NODES_RECT="nodesRect",TRANSFORM_CHANGE_STR=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],ANGLES={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const TOUCH_DEVICE="ontouchstart"in Global_1$1.Konva._global;function getCursor(et,_e,tt){if(et==="rotater")return tt;_e+=Util_1$3.Util.degToRad(ANGLES[et]||0);var rt=(Util_1$3.Util.radToDeg(_e)%360+360)%360;return Util_1$3.Util._inRange(rt,315+22.5,360)||Util_1$3.Util._inRange(rt,0,22.5)?"ns-resize":Util_1$3.Util._inRange(rt,45-22.5,45+22.5)?"nesw-resize":Util_1$3.Util._inRange(rt,90-22.5,90+22.5)?"ew-resize":Util_1$3.Util._inRange(rt,135-22.5,135+22.5)?"nwse-resize":Util_1$3.Util._inRange(rt,180-22.5,180+22.5)?"ns-resize":Util_1$3.Util._inRange(rt,225-22.5,225+22.5)?"nesw-resize":Util_1$3.Util._inRange(rt,270-22.5,270+22.5)?"ew-resize":Util_1$3.Util._inRange(rt,315-22.5,315+22.5)?"nwse-resize":(Util_1$3.Util.error("Transformer has unknown angle for cursor detection: "+rt),"pointer")}var ANCHORS_NAMES=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],MAX_SAFE_INTEGER$5=1e8;function getCenter(et){return{x:et.x+et.width/2*Math.cos(et.rotation)+et.height/2*Math.sin(-et.rotation),y:et.y+et.height/2*Math.cos(et.rotation)+et.width/2*Math.sin(et.rotation)}}function rotateAroundPoint(et,_e,tt){const rt=tt.x+(et.x-tt.x)*Math.cos(_e)-(et.y-tt.y)*Math.sin(_e),nt=tt.y+(et.x-tt.x)*Math.sin(_e)+(et.y-tt.y)*Math.cos(_e);return{...et,rotation:et.rotation+_e,x:rt,y:nt}}function rotateAroundCenter(et,_e){const tt=getCenter(et);return rotateAroundPoint(et,_e,tt)}function getSnap(et,_e,tt){let rt=_e;for(let nt=0;nt<et.length;nt++){const st=Global_1$1.Konva.getAngle(et[nt]),it=Math.abs(st-_e)%(Math.PI*2);Math.min(it,Math.PI*2-it)<tt&&(rt=st)}return rt}let activeTransformersCount=0;class Transformer extends Group_1.Group{constructor(_e){super(_e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(ATTR_CHANGE_LIST,this.update),this.getNode()&&this.update()}attachTo(_e){return this.setNode(_e),this}setNode(_e){return Util_1$3.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([_e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return EVENTS_NAME+this._id}setNodes(_e=[]){this._nodes&&this._nodes.length&&this.detach();const tt=_e.filter(nt=>nt.isAncestorOf(this)?(Util_1$3.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);this._nodes=_e=tt,_e.length===1&&this.useSingleNodeRotation()?this.rotation(_e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(nt=>{const st=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},it=nt._attrsAffectingSize.map(at=>at+"Change."+this._getEventNamespace()).join(" ");nt.on(it,st),nt.on(TRANSFORM_CHANGE_STR.map(at=>at+`.${this._getEventNamespace()}`).join(" "),st),nt.on(`absoluteTransformChange.${this._getEventNamespace()}`,st),this._proxyDrag(nt)}),this._resetTransformCache();var rt=!!this.findOne(".top-left");return rt&&this.update(),this}_proxyDrag(_e){let tt;_e.on(`dragstart.${this._getEventNamespace()}`,rt=>{tt=_e.getAbsolutePosition(),!this.isDragging()&&_e!==this.findOne(".back")&&this.startDrag(rt,!1)}),_e.on(`dragmove.${this._getEventNamespace()}`,rt=>{if(!tt)return;const nt=_e.getAbsolutePosition(),st=nt.x-tt.x,it=nt.y-tt.y;this.nodes().forEach(at=>{if(at===_e||at.isDragging())return;const ot=at.getAbsolutePosition();at.setAbsolutePosition({x:ot.x+st,y:ot.y+it}),at.startDrag(rt)}),tt=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(_e=>{_e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(NODES_RECT),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(NODES_RECT,this.__getNodeRect)}__getNodeShape(_e,tt=this.rotation(),rt){var nt=_e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),st=_e.getAbsoluteScale(rt),it=_e.getAbsolutePosition(rt),at=nt.x*st.x-_e.offsetX()*st.x,ot=nt.y*st.y-_e.offsetY()*st.y;const lt=(Global_1$1.Konva.getAngle(_e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),ct={x:it.x+at*Math.cos(lt)+ot*Math.sin(-lt),y:it.y+ot*Math.cos(lt)+at*Math.sin(lt),width:nt.width*st.x,height:nt.height*st.y,rotation:lt};return rotateAroundPoint(ct,-Global_1$1.Konva.getAngle(tt),{x:0,y:0})}__getNodeRect(){var _e=this.getNode();if(!_e)return{x:-MAX_SAFE_INTEGER$5,y:-MAX_SAFE_INTEGER$5,width:0,height:0,rotation:0};const tt=[];this.nodes().map(lt=>{const ct=lt.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var ut=[{x:ct.x,y:ct.y},{x:ct.x+ct.width,y:ct.y},{x:ct.x+ct.width,y:ct.y+ct.height},{x:ct.x,y:ct.y+ct.height}],dt=lt.getAbsoluteTransform();ut.forEach(function(ft){var ht=dt.point(ft);tt.push(ht)})});const rt=new Util_1$3.Transform;rt.rotate(-Global_1$1.Konva.getAngle(this.rotation()));var nt=1/0,st=1/0,it=-1/0,at=-1/0;tt.forEach(function(lt){var ct=rt.point(lt);nt===void 0&&(nt=it=ct.x,st=at=ct.y),nt=Math.min(nt,ct.x),st=Math.min(st,ct.y),it=Math.max(it,ct.x),at=Math.max(at,ct.y)}),rt.invert();const ot=rt.point({x:nt,y:st});return{x:ot.x,y:ot.y,width:it-nt,height:at-st,rotation:Global_1$1.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),ANCHORS_NAMES.forEach(_e=>{this._createAnchor(_e)}),this._createAnchor("rotater")}_createAnchor(_e){var tt=new Rect_1$1.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:_e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:TOUCH_DEVICE?10:"auto"}),rt=this;tt.on("mousedown touchstart",function(nt){rt._handleMouseDown(nt)}),tt.on("dragstart",nt=>{tt.stopDrag(),nt.cancelBubble=!0}),tt.on("dragend",nt=>{nt.cancelBubble=!0}),tt.on("mouseenter",()=>{var nt=Global_1$1.Konva.getAngle(this.rotation()),st=this.rotateAnchorCursor(),it=getCursor(_e,nt,st);tt.getStage().content&&(tt.getStage().content.style.cursor=it),this._cursorChange=!0}),tt.on("mouseout",()=>{tt.getStage().content&&(tt.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(tt)}_createBack(){var _e=new Shape_1$1.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(tt,rt){var nt=rt.getParent(),st=nt.padding();tt.beginPath(),tt.rect(-st,-st,rt.width()+st*2,rt.height()+st*2),tt.moveTo(rt.width()/2,-st),nt.rotateEnabled()&&nt.rotateLineVisible()&&tt.lineTo(rt.width()/2,-nt.rotateAnchorOffset()*Util_1$3.Util._sign(rt.height())-st),tt.fillStrokeShape(rt)},hitFunc:(tt,rt)=>{if(this.shouldOverdrawWholeArea()){var nt=this.padding();tt.beginPath(),tt.rect(-nt,-nt,rt.width()+nt*2,rt.height()+nt*2),tt.fillStrokeShape(rt)}}});this.add(_e),this._proxyDrag(_e),_e.on("dragstart",tt=>{tt.cancelBubble=!0}),_e.on("dragmove",tt=>{tt.cancelBubble=!0}),_e.on("dragend",tt=>{tt.cancelBubble=!0}),this.on("dragmove",tt=>{this.update()})}_handleMouseDown(_e){this._movingAnchorName=_e.target.name().split(" ")[0];var tt=this._getNodeRect(),rt=tt.width,nt=tt.height,st=Math.sqrt(Math.pow(rt,2)+Math.pow(nt,2));this.sin=Math.abs(nt/st),this.cos=Math.abs(rt/st),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var it=_e.target.getAbsolutePosition(),at=_e.target.getStage().getPointerPosition();this._anchorDragOffset={x:at.x-it.x,y:at.y-it.y},activeTransformersCount++,this._fire("transformstart",{evt:_e.evt,target:this.getNode()}),this._nodes.forEach(ot=>{ot._fire("transformstart",{evt:_e.evt,target:ot})})}_handleMouseMove(_e){var tt,rt,nt,st=this.findOne("."+this._movingAnchorName),it=st.getStage();it.setPointersPositions(_e);const at=it.getPointerPosition();let ot={x:at.x-this._anchorDragOffset.x,y:at.y-this._anchorDragOffset.y};const lt=st.getAbsolutePosition();this.anchorDragBoundFunc()&&(ot=this.anchorDragBoundFunc()(lt,ot,_e)),st.setAbsolutePosition(ot);const ct=st.getAbsolutePosition();if(!(lt.x===ct.x&&lt.y===ct.y)){if(this._movingAnchorName==="rotater"){var ut=this._getNodeRect();tt=st.x()-ut.width/2,rt=-st.y()+ut.height/2;let Rt=Math.atan2(-rt,tt)+Math.PI/2;ut.height<0&&(Rt-=Math.PI);var dt=Global_1$1.Konva.getAngle(this.rotation());const Ct=dt+Rt,Dt=Global_1$1.Konva.getAngle(this.rotationSnapTolerance()),Mt=getSnap(this.rotationSnaps(),Ct,Dt)-ut.rotation,Ot=rotateAroundCenter(ut,Mt);this._fitNodesInto(Ot,_e);return}var ft=this.shiftBehavior(),ht;ft==="inverted"?ht=this.keepRatio()&&!_e.shiftKey:ft==="none"?ht=this.keepRatio():ht=this.keepRatio()||_e.shiftKey;var vt=this.centeredScaling()||_e.altKey;if(this._movingAnchorName==="top-left"){if(ht){var pt=vt?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};nt=Math.sqrt(Math.pow(pt.x-st.x(),2)+Math.pow(pt.y-st.y(),2));var gt=this.findOne(".top-left").x()>pt.x?-1:1,mt=this.findOne(".top-left").y()>pt.y?-1:1;tt=nt*this.cos*gt,rt=nt*this.sin*mt,this.findOne(".top-left").x(pt.x-tt),this.findOne(".top-left").y(pt.y-rt)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(st.y());else if(this._movingAnchorName==="top-right"){if(ht){var pt=vt?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};nt=Math.sqrt(Math.pow(st.x()-pt.x,2)+Math.pow(pt.y-st.y(),2));var gt=this.findOne(".top-right").x()<pt.x?-1:1,mt=this.findOne(".top-right").y()>pt.y?-1:1;tt=nt*this.cos*gt,rt=nt*this.sin*mt,this.findOne(".top-right").x(pt.x+tt),this.findOne(".top-right").y(pt.y-rt)}var bt=st.position();this.findOne(".top-left").y(bt.y),this.findOne(".bottom-right").x(bt.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(st.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(st.x());else if(this._movingAnchorName==="bottom-left"){if(ht){var pt=vt?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};nt=Math.sqrt(Math.pow(pt.x-st.x(),2)+Math.pow(st.y()-pt.y,2));var gt=pt.x<st.x()?-1:1,mt=st.y()<pt.y?-1:1;tt=nt*this.cos*gt,rt=nt*this.sin*mt,st.x(pt.x-tt),st.y(pt.y+rt)}bt=st.position(),this.findOne(".top-left").x(bt.x),this.findOne(".bottom-right").y(bt.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(st.y());else if(this._movingAnchorName==="bottom-right"){if(ht){var pt=vt?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};nt=Math.sqrt(Math.pow(st.x()-pt.x,2)+Math.pow(st.y()-pt.y,2));var gt=this.findOne(".bottom-right").x()<pt.x?-1:1,mt=this.findOne(".bottom-right").y()<pt.y?-1:1;tt=nt*this.cos*gt,rt=nt*this.sin*mt,this.findOne(".bottom-right").x(pt.x+tt),this.findOne(".bottom-right").y(pt.y+rt)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var vt=this.centeredScaling()||_e.altKey;if(vt){var yt=this.findOne(".top-left"),xt=this.findOne(".bottom-right"),Et=yt.x(),wt=yt.y(),$t=this.getWidth()-xt.x(),Tt=this.getHeight()-xt.y();xt.move({x:-Et,y:-wt}),yt.move({x:$t,y:Tt})}var St=this.findOne(".top-left").getAbsolutePosition();tt=St.x,rt=St.y;var Pt=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),At=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:tt,y:rt,width:Pt,height:At,rotation:Global_1$1.Konva.getAngle(this.rotation())},_e)}}_handleMouseUp(_e){this._removeEvents(_e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(_e){var tt;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var rt=this.getNode();activeTransformersCount--,this._fire("transformend",{evt:_e,target:rt}),(tt=this.getLayer())===null||tt===void 0||tt.batchDraw(),rt&&this._nodes.forEach(nt=>{var st;nt._fire("transformend",{evt:_e,target:nt}),(st=nt.getLayer())===null||st===void 0||st.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(_e,tt){var rt=this._getNodeRect();const nt=1;if(Util_1$3.Util._inRange(_e.width,-this.padding()*2-nt,nt)){this.update();return}if(Util_1$3.Util._inRange(_e.height,-this.padding()*2-nt,nt)){this.update();return}var st=new Util_1$3.Transform;if(st.rotate(Global_1$1.Konva.getAngle(this.rotation())),this._movingAnchorName&&_e.width<0&&this._movingAnchorName.indexOf("left")>=0){const dt=st.point({x:-this.padding()*2,y:0});_e.x+=dt.x,_e.y+=dt.y,_e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=dt.x,this._anchorDragOffset.y-=dt.y}else if(this._movingAnchorName&&_e.width<0&&this._movingAnchorName.indexOf("right")>=0){const dt=st.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=dt.x,this._anchorDragOffset.y-=dt.y,_e.width+=this.padding()*2}if(this._movingAnchorName&&_e.height<0&&this._movingAnchorName.indexOf("top")>=0){const dt=st.point({x:0,y:-this.padding()*2});_e.x+=dt.x,_e.y+=dt.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=dt.x,this._anchorDragOffset.y-=dt.y,_e.height+=this.padding()*2}else if(this._movingAnchorName&&_e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const dt=st.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=dt.x,this._anchorDragOffset.y-=dt.y,_e.height+=this.padding()*2}if(this.boundBoxFunc()){const dt=this.boundBoxFunc()(rt,_e);dt?_e=dt:Util_1$3.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const it=1e7,at=new Util_1$3.Transform;at.translate(rt.x,rt.y),at.rotate(rt.rotation),at.scale(rt.width/it,rt.height/it);const ot=new Util_1$3.Transform,lt=_e.width/it,ct=_e.height/it;this.flipEnabled()===!1?(ot.translate(_e.x,_e.y),ot.rotate(_e.rotation),ot.translate(_e.width<0?_e.width:0,_e.height<0?_e.height:0),ot.scale(Math.abs(lt),Math.abs(ct))):(ot.translate(_e.x,_e.y),ot.rotate(_e.rotation),ot.scale(lt,ct));const ut=ot.multiply(at.invert());this._nodes.forEach(dt=>{var ft;const ht=dt.getParent().getAbsoluteTransform(),pt=dt.getTransform().copy();pt.translate(dt.offsetX(),dt.offsetY());const gt=new Util_1$3.Transform;gt.multiply(ht.copy().invert()).multiply(ut).multiply(ht).multiply(pt);const mt=gt.decompose();dt.setAttrs(mt),(ft=dt.getLayer())===null||ft===void 0||ft.batchDraw()}),this.rotation(Util_1$3.Util._getRotation(_e.rotation)),this._nodes.forEach(dt=>{this._fire("transform",{evt:tt,target:dt}),dt._fire("transform",{evt:tt,target:dt})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(_e,tt){this.findOne(_e).setAttrs(tt)}update(){var _e,tt=this._getNodeRect();this.rotation(Util_1$3.Util._getRotation(tt.rotation));var rt=tt.width,nt=tt.height,st=this.enabledAnchors(),it=this.resizeEnabled(),at=this.padding(),ot=this.anchorSize();const lt=this.find("._anchor");lt.forEach(ut=>{ut.setAttrs({width:ot,height:ot,offsetX:ot/2,offsetY:ot/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:ot/2+at,offsetY:ot/2+at,visible:it&&st.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:rt/2,y:0,offsetY:ot/2+at,visible:it&&st.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:rt,y:0,offsetX:ot/2-at,offsetY:ot/2+at,visible:it&&st.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:nt/2,offsetX:ot/2+at,visible:it&&st.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:rt,y:nt/2,offsetX:ot/2-at,visible:it&&st.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:nt,offsetX:ot/2+at,offsetY:ot/2-at,visible:it&&st.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:rt/2,y:nt,offsetY:ot/2-at,visible:it&&st.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:rt,y:nt,offsetX:ot/2-at,offsetY:ot/2-at,visible:it&&st.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:rt/2,y:-this.rotateAnchorOffset()*Util_1$3.Util._sign(nt)-at,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:rt,height:nt,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const ct=this.anchorStyleFunc();ct&&lt.forEach(ut=>{ct(ut)}),(_e=this.getLayer())===null||_e===void 0||_e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var _e=this.findOne("."+this._movingAnchorName);_e&&_e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),Group_1.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return Node_1$f.Node.prototype.toObject.call(this)}clone(_e){var tt=Node_1$f.Node.prototype.clone.call(this,_e);return tt}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}Transformer$1.Transformer=Transformer;Transformer.isTransforming=()=>activeTransformersCount>0;function validateAnchors(et){return et instanceof Array||Util_1$3.Util.warn("enabledAnchors value should be an array"),et instanceof Array&&et.forEach(function(_e){ANCHORS_NAMES.indexOf(_e)===-1&&Util_1$3.Util.warn("Unknown anchor name: "+_e+". Available names are: "+ANCHORS_NAMES.join(", "))}),et||[]}Transformer.prototype.className="Transformer";(0,Global_2$1._registerNode)(Transformer);Factory_1$g.Factory.addGetterSetter(Transformer,"enabledAnchors",ANCHORS_NAMES,validateAnchors);Factory_1$g.Factory.addGetterSetter(Transformer,"flipEnabled",!0,(0,Validators_1$g.getBooleanValidator)());Factory_1$g.Factory.addGetterSetter(Transformer,"resizeEnabled",!0);Factory_1$g.Factory.addGetterSetter(Transformer,"anchorSize",10,(0,Validators_1$g.getNumberValidator)());Factory_1$g.Factory.addGetterSetter(Transformer,"rotateEnabled",!0);Factory_1$g.Factory.addGetterSetter(Transformer,"rotateLineVisible",!0);Factory_1$g.Factory.addGetterSetter(Transformer,"rotationSnaps",[]);Factory_1$g.Factory.addGetterSetter(Transformer,"rotateAnchorOffset",50,(0,Validators_1$g.getNumberValidator)());Factory_1$g.Factory.addGetterSetter(Transformer,"rotateAnchorCursor","crosshair");Factory_1$g.Factory.addGetterSetter(Transformer,"rotationSnapTolerance",5,(0,Validators_1$g.getNumberValidator)());Factory_1$g.Factory.addGetterSetter(Transformer,"borderEnabled",!0);Factory_1$g.Factory.addGetterSetter(Transformer,"anchorStroke","rgb(0, 161, 255)");Factory_1$g.Factory.addGetterSetter(Transformer,"anchorStrokeWidth",1,(0,Validators_1$g.getNumberValidator)());Factory_1$g.Factory.addGetterSetter(Transformer,"anchorFill","white");Factory_1$g.Factory.addGetterSetter(Transformer,"anchorCornerRadius",0,(0,Validators_1$g.getNumberValidator)());Factory_1$g.Factory.addGetterSetter(Transformer,"borderStroke","rgb(0, 161, 255)");Factory_1$g.Factory.addGetterSetter(Transformer,"borderStrokeWidth",1,(0,Validators_1$g.getNumberValidator)());Factory_1$g.Factory.addGetterSetter(Transformer,"borderDash");Factory_1$g.Factory.addGetterSetter(Transformer,"keepRatio",!0);Factory_1$g.Factory.addGetterSetter(Transformer,"shiftBehavior","default");Factory_1$g.Factory.addGetterSetter(Transformer,"centeredScaling",!1);Factory_1$g.Factory.addGetterSetter(Transformer,"ignoreStroke",!1);Factory_1$g.Factory.addGetterSetter(Transformer,"padding",0,(0,Validators_1$g.getNumberValidator)());Factory_1$g.Factory.addGetterSetter(Transformer,"node");Factory_1$g.Factory.addGetterSetter(Transformer,"nodes");Factory_1$g.Factory.addGetterSetter(Transformer,"boundBoxFunc");Factory_1$g.Factory.addGetterSetter(Transformer,"anchorDragBoundFunc");Factory_1$g.Factory.addGetterSetter(Transformer,"anchorStyleFunc");Factory_1$g.Factory.addGetterSetter(Transformer,"shouldOverdrawWholeArea",!1);Factory_1$g.Factory.addGetterSetter(Transformer,"useSingleNodeRotation",!0);Factory_1$g.Factory.backCompat(Transformer,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});var Wedge$1={};Object.defineProperty(Wedge$1,"__esModule",{value:!0});Wedge$1.Wedge=void 0;const Factory_1$f=Factory,Shape_1=Shape,Global_1=Global,Validators_1$f=Validators,Global_2=Global;class Wedge extends Shape_1.Shape{_sceneFunc(_e){_e.beginPath(),_e.arc(0,0,this.radius(),0,Global_1.Konva.getAngle(this.angle()),this.clockwise()),_e.lineTo(0,0),_e.closePath(),_e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(_e){this.radius(_e/2)}setHeight(_e){this.radius(_e/2)}}Wedge$1.Wedge=Wedge;Wedge.prototype.className="Wedge";Wedge.prototype._centroid=!0;Wedge.prototype._attrsAffectingSize=["radius"];(0,Global_2._registerNode)(Wedge);Factory_1$f.Factory.addGetterSetter(Wedge,"radius",0,(0,Validators_1$f.getNumberValidator)());Factory_1$f.Factory.addGetterSetter(Wedge,"angle",0,(0,Validators_1$f.getNumberValidator)());Factory_1$f.Factory.addGetterSetter(Wedge,"clockwise",!1);Factory_1$f.Factory.backCompat(Wedge,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});var Blur$1={};Object.defineProperty(Blur$1,"__esModule",{value:!0});Blur$1.Blur=void 0;const Factory_1$e=Factory,Node_1$e=Node$2,Validators_1$e=Validators;function BlurStack(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var mul_table=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],shg_table=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function filterGaussBlurRGBA(et,_e){var tt=et.data,rt=et.width,nt=et.height,st,it,at,ot,lt,ct,ut,dt,ft,ht,pt,gt,mt,bt,vt,yt,xt,Et,wt,$t,Tt,St,Pt,At,Rt=_e+_e+1,Ct=rt-1,Dt=nt-1,Ft=_e+1,Mt=Ft*(Ft+1)/2,Ot=new BlurStack,jt=null,Ut=Ot,_t=null,It=null,Wt=mul_table[_e],Kt=shg_table[_e];for(at=1;at<Rt;at++)Ut=Ut.next=new BlurStack,at===Ft&&(jt=Ut);for(Ut.next=Ot,ut=ct=0,it=0;it<nt;it++){for(yt=xt=Et=wt=dt=ft=ht=pt=0,gt=Ft*($t=tt[ct]),mt=Ft*(Tt=tt[ct+1]),bt=Ft*(St=tt[ct+2]),vt=Ft*(Pt=tt[ct+3]),dt+=Mt*$t,ft+=Mt*Tt,ht+=Mt*St,pt+=Mt*Pt,Ut=Ot,at=0;at<Ft;at++)Ut.r=$t,Ut.g=Tt,Ut.b=St,Ut.a=Pt,Ut=Ut.next;for(at=1;at<Ft;at++)ot=ct+((Ct<at?Ct:at)<<2),dt+=(Ut.r=$t=tt[ot])*(At=Ft-at),ft+=(Ut.g=Tt=tt[ot+1])*At,ht+=(Ut.b=St=tt[ot+2])*At,pt+=(Ut.a=Pt=tt[ot+3])*At,yt+=$t,xt+=Tt,Et+=St,wt+=Pt,Ut=Ut.next;for(_t=Ot,It=jt,st=0;st<rt;st++)tt[ct+3]=Pt=pt*Wt>>Kt,Pt!==0?(Pt=255/Pt,tt[ct]=(dt*Wt>>Kt)*Pt,tt[ct+1]=(ft*Wt>>Kt)*Pt,tt[ct+2]=(ht*Wt>>Kt)*Pt):tt[ct]=tt[ct+1]=tt[ct+2]=0,dt-=gt,ft-=mt,ht-=bt,pt-=vt,gt-=_t.r,mt-=_t.g,bt-=_t.b,vt-=_t.a,ot=ut+((ot=st+_e+1)<Ct?ot:Ct)<<2,yt+=_t.r=tt[ot],xt+=_t.g=tt[ot+1],Et+=_t.b=tt[ot+2],wt+=_t.a=tt[ot+3],dt+=yt,ft+=xt,ht+=Et,pt+=wt,_t=_t.next,gt+=$t=It.r,mt+=Tt=It.g,bt+=St=It.b,vt+=Pt=It.a,yt-=$t,xt-=Tt,Et-=St,wt-=Pt,It=It.next,ct+=4;ut+=rt}for(st=0;st<rt;st++){for(xt=Et=wt=yt=ft=ht=pt=dt=0,ct=st<<2,gt=Ft*($t=tt[ct]),mt=Ft*(Tt=tt[ct+1]),bt=Ft*(St=tt[ct+2]),vt=Ft*(Pt=tt[ct+3]),dt+=Mt*$t,ft+=Mt*Tt,ht+=Mt*St,pt+=Mt*Pt,Ut=Ot,at=0;at<Ft;at++)Ut.r=$t,Ut.g=Tt,Ut.b=St,Ut.a=Pt,Ut=Ut.next;for(lt=rt,at=1;at<=_e;at++)ct=lt+st<<2,dt+=(Ut.r=$t=tt[ct])*(At=Ft-at),ft+=(Ut.g=Tt=tt[ct+1])*At,ht+=(Ut.b=St=tt[ct+2])*At,pt+=(Ut.a=Pt=tt[ct+3])*At,yt+=$t,xt+=Tt,Et+=St,wt+=Pt,Ut=Ut.next,at<Dt&&(lt+=rt);for(ct=st,_t=Ot,It=jt,it=0;it<nt;it++)ot=ct<<2,tt[ot+3]=Pt=pt*Wt>>Kt,Pt>0?(Pt=255/Pt,tt[ot]=(dt*Wt>>Kt)*Pt,tt[ot+1]=(ft*Wt>>Kt)*Pt,tt[ot+2]=(ht*Wt>>Kt)*Pt):tt[ot]=tt[ot+1]=tt[ot+2]=0,dt-=gt,ft-=mt,ht-=bt,pt-=vt,gt-=_t.r,mt-=_t.g,bt-=_t.b,vt-=_t.a,ot=st+((ot=it+Ft)<Dt?ot:Dt)*rt<<2,dt+=yt+=_t.r=tt[ot],ft+=xt+=_t.g=tt[ot+1],ht+=Et+=_t.b=tt[ot+2],pt+=wt+=_t.a=tt[ot+3],_t=_t.next,gt+=$t=It.r,mt+=Tt=It.g,bt+=St=It.b,vt+=Pt=It.a,yt-=$t,xt-=Tt,Et-=St,wt-=Pt,It=It.next,ct+=rt}}const Blur=function(_e){var tt=Math.round(this.blurRadius());tt>0&&filterGaussBlurRGBA(_e,tt)};Blur$1.Blur=Blur;Factory_1$e.Factory.addGetterSetter(Node_1$e.Node,"blurRadius",0,(0,Validators_1$e.getNumberValidator)(),Factory_1$e.Factory.afterSetFilter);var Brighten$1={};Object.defineProperty(Brighten$1,"__esModule",{value:!0});Brighten$1.Brighten=void 0;const Factory_1$d=Factory,Node_1$d=Node$2,Validators_1$d=Validators,Brighten=function(et){var _e=this.brightness()*255,tt=et.data,rt=tt.length,nt;for(nt=0;nt<rt;nt+=4)tt[nt]+=_e,tt[nt+1]+=_e,tt[nt+2]+=_e};Brighten$1.Brighten=Brighten;Factory_1$d.Factory.addGetterSetter(Node_1$d.Node,"brightness",0,(0,Validators_1$d.getNumberValidator)(),Factory_1$d.Factory.afterSetFilter);var Contrast$1={};Object.defineProperty(Contrast$1,"__esModule",{value:!0});Contrast$1.Contrast=void 0;const Factory_1$c=Factory,Node_1$c=Node$2,Validators_1$c=Validators,Contrast=function(et){var _e=Math.pow((this.contrast()+100)/100,2),tt=et.data,rt=tt.length,nt=150,st=150,it=150,at;for(at=0;at<rt;at+=4)nt=tt[at],st=tt[at+1],it=tt[at+2],nt/=255,nt-=.5,nt*=_e,nt+=.5,nt*=255,st/=255,st-=.5,st*=_e,st+=.5,st*=255,it/=255,it-=.5,it*=_e,it+=.5,it*=255,nt=nt<0?0:nt>255?255:nt,st=st<0?0:st>255?255:st,it=it<0?0:it>255?255:it,tt[at]=nt,tt[at+1]=st,tt[at+2]=it};Contrast$1.Contrast=Contrast;Factory_1$c.Factory.addGetterSetter(Node_1$c.Node,"contrast",0,(0,Validators_1$c.getNumberValidator)(),Factory_1$c.Factory.afterSetFilter);var Emboss$1={};Object.defineProperty(Emboss$1,"__esModule",{value:!0});Emboss$1.Emboss=void 0;const Factory_1$b=Factory,Node_1$b=Node$2,Util_1$2=Util,Validators_1$b=Validators,Emboss=function(et){var _e=this.embossStrength()*10,tt=this.embossWhiteLevel()*255,rt=this.embossDirection(),nt=this.embossBlend(),st=0,it=0,at=et.data,ot=et.width,lt=et.height,ct=ot*4,ut=lt;switch(rt){case"top-left":st=-1,it=-1;break;case"top":st=-1,it=0;break;case"top-right":st=-1,it=1;break;case"right":st=0,it=1;break;case"bottom-right":st=1,it=1;break;case"bottom":st=1,it=0;break;case"bottom-left":st=1,it=-1;break;case"left":st=0,it=-1;break;default:Util_1$2.Util.error("Unknown emboss direction: "+rt)}do{var dt=(ut-1)*ct,ft=st;ut+ft<1&&(ft=0),ut+ft>lt&&(ft=0);var ht=(ut-1+ft)*ot*4,pt=ot;do{var gt=dt+(pt-1)*4,mt=it;pt+mt<1&&(mt=0),pt+mt>ot&&(mt=0);var bt=ht+(pt-1+mt)*4,vt=at[gt]-at[bt],yt=at[gt+1]-at[bt+1],xt=at[gt+2]-at[bt+2],Et=vt,wt=Et>0?Et:-Et,$t=yt>0?yt:-yt,Tt=xt>0?xt:-xt;if($t>wt&&(Et=yt),Tt>wt&&(Et=xt),Et*=_e,nt){var St=at[gt]+Et,Pt=at[gt+1]+Et,At=at[gt+2]+Et;at[gt]=St>255?255:St<0?0:St,at[gt+1]=Pt>255?255:Pt<0?0:Pt,at[gt+2]=At>255?255:At<0?0:At}else{var Rt=tt-Et;Rt<0?Rt=0:Rt>255&&(Rt=255),at[gt]=at[gt+1]=at[gt+2]=Rt}}while(--pt)}while(--ut)};Emboss$1.Emboss=Emboss;Factory_1$b.Factory.addGetterSetter(Node_1$b.Node,"embossStrength",.5,(0,Validators_1$b.getNumberValidator)(),Factory_1$b.Factory.afterSetFilter);Factory_1$b.Factory.addGetterSetter(Node_1$b.Node,"embossWhiteLevel",.5,(0,Validators_1$b.getNumberValidator)(),Factory_1$b.Factory.afterSetFilter);Factory_1$b.Factory.addGetterSetter(Node_1$b.Node,"embossDirection","top-left",null,Factory_1$b.Factory.afterSetFilter);Factory_1$b.Factory.addGetterSetter(Node_1$b.Node,"embossBlend",!1,null,Factory_1$b.Factory.afterSetFilter);var Enhance$1={};Object.defineProperty(Enhance$1,"__esModule",{value:!0});Enhance$1.Enhance=void 0;const Factory_1$a=Factory,Node_1$a=Node$2,Validators_1$a=Validators;function remap(et,_e,tt,rt,nt){var st=tt-_e,it=nt-rt,at;return st===0?rt+it/2:it===0?rt:(at=(et-_e)/st,at=it*at+rt,at)}const Enhance=function(et){var _e=et.data,tt=_e.length,rt=_e[0],nt=rt,st,it=_e[1],at=it,ot,lt=_e[2],ct=lt,ut,dt,ft=this.enhance();if(ft!==0){for(dt=0;dt<tt;dt+=4)st=_e[dt+0],st<rt?rt=st:st>nt&&(nt=st),ot=_e[dt+1],ot<it?it=ot:ot>at&&(at=ot),ut=_e[dt+2],ut<lt?lt=ut:ut>ct&&(ct=ut);nt===rt&&(nt=255,rt=0),at===it&&(at=255,it=0),ct===lt&&(ct=255,lt=0);var ht,pt,gt,mt,bt,vt,yt,xt,Et;for(ft>0?(pt=nt+ft*(255-nt),gt=rt-ft*(rt-0),bt=at+ft*(255-at),vt=it-ft*(it-0),xt=ct+ft*(255-ct),Et=lt-ft*(lt-0)):(ht=(nt+rt)*.5,pt=nt+ft*(nt-ht),gt=rt+ft*(rt-ht),mt=(at+it)*.5,bt=at+ft*(at-mt),vt=it+ft*(it-mt),yt=(ct+lt)*.5,xt=ct+ft*(ct-yt),Et=lt+ft*(lt-yt)),dt=0;dt<tt;dt+=4)_e[dt+0]=remap(_e[dt+0],rt,nt,gt,pt),_e[dt+1]=remap(_e[dt+1],it,at,vt,bt),_e[dt+2]=remap(_e[dt+2],lt,ct,Et,xt)}};Enhance$1.Enhance=Enhance;Factory_1$a.Factory.addGetterSetter(Node_1$a.Node,"enhance",0,(0,Validators_1$a.getNumberValidator)(),Factory_1$a.Factory.afterSetFilter);var Grayscale$1={};Object.defineProperty(Grayscale$1,"__esModule",{value:!0});Grayscale$1.Grayscale=void 0;const Grayscale=function(et){var _e=et.data,tt=_e.length,rt,nt;for(rt=0;rt<tt;rt+=4)nt=.34*_e[rt]+.5*_e[rt+1]+.16*_e[rt+2],_e[rt]=nt,_e[rt+1]=nt,_e[rt+2]=nt};Grayscale$1.Grayscale=Grayscale;var HSL$1={};Object.defineProperty(HSL$1,"__esModule",{value:!0});HSL$1.HSL=void 0;const Factory_1$9=Factory,Node_1$9=Node$2,Validators_1$9=Validators;Factory_1$9.Factory.addGetterSetter(Node_1$9.Node,"hue",0,(0,Validators_1$9.getNumberValidator)(),Factory_1$9.Factory.afterSetFilter);Factory_1$9.Factory.addGetterSetter(Node_1$9.Node,"saturation",0,(0,Validators_1$9.getNumberValidator)(),Factory_1$9.Factory.afterSetFilter);Factory_1$9.Factory.addGetterSetter(Node_1$9.Node,"luminance",0,(0,Validators_1$9.getNumberValidator)(),Factory_1$9.Factory.afterSetFilter);const HSL=function(et){var _e=et.data,tt=_e.length,rt=1,nt=Math.pow(2,this.saturation()),st=Math.abs(this.hue()+360)%360,it=this.luminance()*127,at,ot=rt*nt*Math.cos(st*Math.PI/180),lt=rt*nt*Math.sin(st*Math.PI/180),ct=.299*rt+.701*ot+.167*lt,ut=.587*rt-.587*ot+.33*lt,dt=.114*rt-.114*ot-.497*lt,ft=.299*rt-.299*ot-.328*lt,ht=.587*rt+.413*ot+.035*lt,pt=.114*rt-.114*ot+.293*lt,gt=.299*rt-.3*ot+1.25*lt,mt=.587*rt-.586*ot-1.05*lt,bt=.114*rt+.886*ot-.2*lt,vt,yt,xt,Et;for(at=0;at<tt;at+=4)vt=_e[at+0],yt=_e[at+1],xt=_e[at+2],Et=_e[at+3],_e[at+0]=ct*vt+ut*yt+dt*xt+it,_e[at+1]=ft*vt+ht*yt+pt*xt+it,_e[at+2]=gt*vt+mt*yt+bt*xt+it,_e[at+3]=Et};HSL$1.HSL=HSL;var HSV$1={};Object.defineProperty(HSV$1,"__esModule",{value:!0});HSV$1.HSV=void 0;const Factory_1$8=Factory,Node_1$8=Node$2,Validators_1$8=Validators,HSV=function(et){var _e=et.data,tt=_e.length,rt=Math.pow(2,this.value()),nt=Math.pow(2,this.saturation()),st=Math.abs(this.hue()+360)%360,it,at=rt*nt*Math.cos(st*Math.PI/180),ot=rt*nt*Math.sin(st*Math.PI/180),lt=.299*rt+.701*at+.167*ot,ct=.587*rt-.587*at+.33*ot,ut=.114*rt-.114*at-.497*ot,dt=.299*rt-.299*at-.328*ot,ft=.587*rt+.413*at+.035*ot,ht=.114*rt-.114*at+.293*ot,pt=.299*rt-.3*at+1.25*ot,gt=.587*rt-.586*at-1.05*ot,mt=.114*rt+.886*at-.2*ot,bt,vt,yt,xt;for(it=0;it<tt;it+=4)bt=_e[it+0],vt=_e[it+1],yt=_e[it+2],xt=_e[it+3],_e[it+0]=lt*bt+ct*vt+ut*yt,_e[it+1]=dt*bt+ft*vt+ht*yt,_e[it+2]=pt*bt+gt*vt+mt*yt,_e[it+3]=xt};HSV$1.HSV=HSV;Factory_1$8.Factory.addGetterSetter(Node_1$8.Node,"hue",0,(0,Validators_1$8.getNumberValidator)(),Factory_1$8.Factory.afterSetFilter);Factory_1$8.Factory.addGetterSetter(Node_1$8.Node,"saturation",0,(0,Validators_1$8.getNumberValidator)(),Factory_1$8.Factory.afterSetFilter);Factory_1$8.Factory.addGetterSetter(Node_1$8.Node,"value",0,(0,Validators_1$8.getNumberValidator)(),Factory_1$8.Factory.afterSetFilter);var Invert$1={};Object.defineProperty(Invert$1,"__esModule",{value:!0});Invert$1.Invert=void 0;const Invert=function(et){var _e=et.data,tt=_e.length,rt;for(rt=0;rt<tt;rt+=4)_e[rt]=255-_e[rt],_e[rt+1]=255-_e[rt+1],_e[rt+2]=255-_e[rt+2]};Invert$1.Invert=Invert;var Kaleidoscope$1={};Object.defineProperty(Kaleidoscope$1,"__esModule",{value:!0});Kaleidoscope$1.Kaleidoscope=void 0;const Factory_1$7=Factory,Node_1$7=Node$2,Util_1$1=Util,Validators_1$7=Validators;var ToPolar=function(et,_e,tt){var rt=et.data,nt=_e.data,st=et.width,it=et.height,at=tt.polarCenterX||st/2,ot=tt.polarCenterY||it/2,lt,ct,ut,dt=0,ft=0,ht=0,pt=0,gt,mt=Math.sqrt(at*at+ot*ot);ct=st-at,ut=it-ot,gt=Math.sqrt(ct*ct+ut*ut),mt=gt>mt?gt:mt;var bt=it,vt=st,yt,xt,Et=360/vt*Math.PI/180,wt,$t;for(xt=0;xt<vt;xt+=1)for(wt=Math.sin(xt*Et),$t=Math.cos(xt*Et),yt=0;yt<bt;yt+=1)ct=Math.floor(at+mt*yt/bt*$t),ut=Math.floor(ot+mt*yt/bt*wt),lt=(ut*st+ct)*4,dt=rt[lt+0],ft=rt[lt+1],ht=rt[lt+2],pt=rt[lt+3],lt=(xt+yt*st)*4,nt[lt+0]=dt,nt[lt+1]=ft,nt[lt+2]=ht,nt[lt+3]=pt},FromPolar=function(et,_e,tt){var rt=et.data,nt=_e.data,st=et.width,it=et.height,at=tt.polarCenterX||st/2,ot=tt.polarCenterY||it/2,lt,ct,ut,dt,ft,ht=0,pt=0,gt=0,mt=0,bt,vt=Math.sqrt(at*at+ot*ot);ct=st-at,ut=it-ot,bt=Math.sqrt(ct*ct+ut*ut),vt=bt>vt?bt:vt;var yt=it,xt=st,Et,wt,$t=tt.polarRotation||0,Tt,St;for(ct=0;ct<st;ct+=1)for(ut=0;ut<it;ut+=1)dt=ct-at,ft=ut-ot,Et=Math.sqrt(dt*dt+ft*ft)*yt/vt,wt=(Math.atan2(ft,dt)*180/Math.PI+360+$t)%360,wt=wt*xt/360,Tt=Math.floor(wt),St=Math.floor(Et),lt=(St*st+Tt)*4,ht=rt[lt+0],pt=rt[lt+1],gt=rt[lt+2],mt=rt[lt+3],lt=(ut*st+ct)*4,nt[lt+0]=ht,nt[lt+1]=pt,nt[lt+2]=gt,nt[lt+3]=mt};const Kaleidoscope=function(et){var _e=et.width,tt=et.height,rt,nt,st,it,at,ot,lt,ct,ut,dt,ft=Math.round(this.kaleidoscopePower()),ht=Math.round(this.kaleidoscopeAngle()),pt=Math.floor(_e*(ht%360)/360);if(!(ft<1)){var gt=Util_1$1.Util.createCanvasElement();gt.width=_e,gt.height=tt;var mt=gt.getContext("2d").getImageData(0,0,_e,tt);Util_1$1.Util.releaseCanvas(gt),ToPolar(et,mt,{polarCenterX:_e/2,polarCenterY:tt/2});for(var bt=_e/Math.pow(2,ft);bt<=8;)bt=bt*2,ft-=1;bt=Math.ceil(bt);var vt=bt,yt=0,xt=vt,Et=1;for(pt+bt>_e&&(yt=vt,xt=0,Et=-1),nt=0;nt<tt;nt+=1)for(rt=yt;rt!==xt;rt+=Et)st=Math.round(rt+pt)%_e,ut=(_e*nt+st)*4,at=mt.data[ut+0],ot=mt.data[ut+1],lt=mt.data[ut+2],ct=mt.data[ut+3],dt=(_e*nt+rt)*4,mt.data[dt+0]=at,mt.data[dt+1]=ot,mt.data[dt+2]=lt,mt.data[dt+3]=ct;for(nt=0;nt<tt;nt+=1)for(vt=Math.floor(bt),it=0;it<ft;it+=1){for(rt=0;rt<vt+1;rt+=1)ut=(_e*nt+rt)*4,at=mt.data[ut+0],ot=mt.data[ut+1],lt=mt.data[ut+2],ct=mt.data[ut+3],dt=(_e*nt+vt*2-rt-1)*4,mt.data[dt+0]=at,mt.data[dt+1]=ot,mt.data[dt+2]=lt,mt.data[dt+3]=ct;vt*=2}FromPolar(mt,et,{polarRotation:0})}};Kaleidoscope$1.Kaleidoscope=Kaleidoscope;Factory_1$7.Factory.addGetterSetter(Node_1$7.Node,"kaleidoscopePower",2,(0,Validators_1$7.getNumberValidator)(),Factory_1$7.Factory.afterSetFilter);Factory_1$7.Factory.addGetterSetter(Node_1$7.Node,"kaleidoscopeAngle",0,(0,Validators_1$7.getNumberValidator)(),Factory_1$7.Factory.afterSetFilter);var Mask$1={};Object.defineProperty(Mask$1,"__esModule",{value:!0});Mask$1.Mask=void 0;const Factory_1$6=Factory,Node_1$6=Node$2,Validators_1$6=Validators;function pixelAt(et,_e,tt){var rt=(tt*et.width+_e)*4,nt=[];return nt.push(et.data[rt++],et.data[rt++],et.data[rt++],et.data[rt++]),nt}function rgbDistance(et,_e){return Math.sqrt(Math.pow(et[0]-_e[0],2)+Math.pow(et[1]-_e[1],2)+Math.pow(et[2]-_e[2],2))}function rgbMean(et){for(var _e=[0,0,0],tt=0;tt<et.length;tt++)_e[0]+=et[tt][0],_e[1]+=et[tt][1],_e[2]+=et[tt][2];return _e[0]/=et.length,_e[1]/=et.length,_e[2]/=et.length,_e}function backgroundMask(et,_e){var tt=pixelAt(et,0,0),rt=pixelAt(et,et.width-1,0),nt=pixelAt(et,0,et.height-1),st=pixelAt(et,et.width-1,et.height-1),it=_e||10;if(rgbDistance(tt,rt)<it&&rgbDistance(rt,st)<it&&rgbDistance(st,nt)<it&&rgbDistance(nt,tt)<it){for(var at=rgbMean([rt,tt,st,nt]),ot=[],lt=0;lt<et.width*et.height;lt++){var ct=rgbDistance(at,[et.data[lt*4],et.data[lt*4+1],et.data[lt*4+2]]);ot[lt]=ct<it?0:255}return ot}}function applyMask(et,_e){for(var tt=0;tt<et.width*et.height;tt++)et.data[4*tt+3]=_e[tt]}function erodeMask(et,_e,tt){for(var rt=[1,1,1,1,0,1,1,1,1],nt=Math.round(Math.sqrt(rt.length)),st=Math.floor(nt/2),it=[],at=0;at<tt;at++)for(var ot=0;ot<_e;ot++){for(var lt=at*_e+ot,ct=0,ut=0;ut<nt;ut++)for(var dt=0;dt<nt;dt++){var ft=at+ut-st,ht=ot+dt-st;if(ft>=0&&ft<tt&&ht>=0&&ht<_e){var pt=ft*_e+ht,gt=rt[ut*nt+dt];ct+=et[pt]*gt}}it[lt]=ct===255*8?255:0}return it}function dilateMask(et,_e,tt){for(var rt=[1,1,1,1,1,1,1,1,1],nt=Math.round(Math.sqrt(rt.length)),st=Math.floor(nt/2),it=[],at=0;at<tt;at++)for(var ot=0;ot<_e;ot++){for(var lt=at*_e+ot,ct=0,ut=0;ut<nt;ut++)for(var dt=0;dt<nt;dt++){var ft=at+ut-st,ht=ot+dt-st;if(ft>=0&&ft<tt&&ht>=0&&ht<_e){var pt=ft*_e+ht,gt=rt[ut*nt+dt];ct+=et[pt]*gt}}it[lt]=ct>=255*4?255:0}return it}function smoothEdgeMask(et,_e,tt){for(var rt=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],nt=Math.round(Math.sqrt(rt.length)),st=Math.floor(nt/2),it=[],at=0;at<tt;at++)for(var ot=0;ot<_e;ot++){for(var lt=at*_e+ot,ct=0,ut=0;ut<nt;ut++)for(var dt=0;dt<nt;dt++){var ft=at+ut-st,ht=ot+dt-st;if(ft>=0&&ft<tt&&ht>=0&&ht<_e){var pt=ft*_e+ht,gt=rt[ut*nt+dt];ct+=et[pt]*gt}}it[lt]=ct}return it}const Mask=function(et){var _e=this.threshold(),tt=backgroundMask(et,_e);return tt&&(tt=erodeMask(tt,et.width,et.height),tt=dilateMask(tt,et.width,et.height),tt=smoothEdgeMask(tt,et.width,et.height),applyMask(et,tt)),et};Mask$1.Mask=Mask;Factory_1$6.Factory.addGetterSetter(Node_1$6.Node,"threshold",0,(0,Validators_1$6.getNumberValidator)(),Factory_1$6.Factory.afterSetFilter);var Noise$1={};Object.defineProperty(Noise$1,"__esModule",{value:!0});Noise$1.Noise=void 0;const Factory_1$5=Factory,Node_1$5=Node$2,Validators_1$5=Validators,Noise=function(et){var _e=this.noise()*255,tt=et.data,rt=tt.length,nt=_e/2,st;for(st=0;st<rt;st+=4)tt[st+0]+=nt-2*nt*Math.random(),tt[st+1]+=nt-2*nt*Math.random(),tt[st+2]+=nt-2*nt*Math.random()};Noise$1.Noise=Noise;Factory_1$5.Factory.addGetterSetter(Node_1$5.Node,"noise",.2,(0,Validators_1$5.getNumberValidator)(),Factory_1$5.Factory.afterSetFilter);var Pixelate$1={};Object.defineProperty(Pixelate$1,"__esModule",{value:!0});Pixelate$1.Pixelate=void 0;const Factory_1$4=Factory,Util_1=Util,Node_1$4=Node$2,Validators_1$4=Validators,Pixelate=function(et){var _e=Math.ceil(this.pixelSize()),tt=et.width,rt=et.height,nt,st,it,at,ot,lt,ct,ut=Math.ceil(tt/_e),dt=Math.ceil(rt/_e),ft,ht,pt,gt,mt,bt,vt,yt=et.data;if(_e<=0){Util_1.Util.error("pixelSize value can not be <= 0");return}for(mt=0;mt<ut;mt+=1)for(bt=0;bt<dt;bt+=1){for(at=0,ot=0,lt=0,ct=0,ft=mt*_e,ht=ft+_e,pt=bt*_e,gt=pt+_e,vt=0,nt=ft;nt<ht;nt+=1)if(!(nt>=tt))for(st=pt;st<gt;st+=1)st>=rt||(it=(tt*st+nt)*4,at+=yt[it+0],ot+=yt[it+1],lt+=yt[it+2],ct+=yt[it+3],vt+=1);for(at=at/vt,ot=ot/vt,lt=lt/vt,ct=ct/vt,nt=ft;nt<ht;nt+=1)if(!(nt>=tt))for(st=pt;st<gt;st+=1)st>=rt||(it=(tt*st+nt)*4,yt[it+0]=at,yt[it+1]=ot,yt[it+2]=lt,yt[it+3]=ct)}};Pixelate$1.Pixelate=Pixelate;Factory_1$4.Factory.addGetterSetter(Node_1$4.Node,"pixelSize",8,(0,Validators_1$4.getNumberValidator)(),Factory_1$4.Factory.afterSetFilter);var Posterize$1={};Object.defineProperty(Posterize$1,"__esModule",{value:!0});Posterize$1.Posterize=void 0;const Factory_1$3=Factory,Node_1$3=Node$2,Validators_1$3=Validators,Posterize=function(et){var _e=Math.round(this.levels()*254)+1,tt=et.data,rt=tt.length,nt=255/_e,st;for(st=0;st<rt;st+=1)tt[st]=Math.floor(tt[st]/nt)*nt};Posterize$1.Posterize=Posterize;Factory_1$3.Factory.addGetterSetter(Node_1$3.Node,"levels",.5,(0,Validators_1$3.getNumberValidator)(),Factory_1$3.Factory.afterSetFilter);var RGB$1={};Object.defineProperty(RGB$1,"__esModule",{value:!0});RGB$1.RGB=void 0;const Factory_1$2=Factory,Node_1$2=Node$2,Validators_1$2=Validators,RGB=function(et){var _e=et.data,tt=_e.length,rt=this.red(),nt=this.green(),st=this.blue(),it,at;for(it=0;it<tt;it+=4)at=(.34*_e[it]+.5*_e[it+1]+.16*_e[it+2])/255,_e[it]=at*rt,_e[it+1]=at*nt,_e[it+2]=at*st,_e[it+3]=_e[it+3]};RGB$1.RGB=RGB;Factory_1$2.Factory.addGetterSetter(Node_1$2.Node,"red",0,function(et){return this._filterUpToDate=!1,et>255?255:et<0?0:Math.round(et)});Factory_1$2.Factory.addGetterSetter(Node_1$2.Node,"green",0,function(et){return this._filterUpToDate=!1,et>255?255:et<0?0:Math.round(et)});Factory_1$2.Factory.addGetterSetter(Node_1$2.Node,"blue",0,Validators_1$2.RGBComponent,Factory_1$2.Factory.afterSetFilter);var RGBA$1={};Object.defineProperty(RGBA$1,"__esModule",{value:!0});RGBA$1.RGBA=void 0;const Factory_1$1=Factory,Node_1$1=Node$2,Validators_1$1=Validators,RGBA=function(et){var _e=et.data,tt=_e.length,rt=this.red(),nt=this.green(),st=this.blue(),it=this.alpha(),at,ot;for(at=0;at<tt;at+=4)ot=1-it,_e[at]=rt*it+_e[at]*ot,_e[at+1]=nt*it+_e[at+1]*ot,_e[at+2]=st*it+_e[at+2]*ot};RGBA$1.RGBA=RGBA;Factory_1$1.Factory.addGetterSetter(Node_1$1.Node,"red",0,function(et){return this._filterUpToDate=!1,et>255?255:et<0?0:Math.round(et)});Factory_1$1.Factory.addGetterSetter(Node_1$1.Node,"green",0,function(et){return this._filterUpToDate=!1,et>255?255:et<0?0:Math.round(et)});Factory_1$1.Factory.addGetterSetter(Node_1$1.Node,"blue",0,Validators_1$1.RGBComponent,Factory_1$1.Factory.afterSetFilter);Factory_1$1.Factory.addGetterSetter(Node_1$1.Node,"alpha",1,function(et){return this._filterUpToDate=!1,et>1?1:et<0?0:et});var Sepia$1={};Object.defineProperty(Sepia$1,"__esModule",{value:!0});Sepia$1.Sepia=void 0;const Sepia=function(et){var _e=et.data,tt=_e.length,rt,nt,st,it;for(rt=0;rt<tt;rt+=4)nt=_e[rt+0],st=_e[rt+1],it=_e[rt+2],_e[rt+0]=Math.min(255,nt*.393+st*.769+it*.189),_e[rt+1]=Math.min(255,nt*.349+st*.686+it*.168),_e[rt+2]=Math.min(255,nt*.272+st*.534+it*.131)};Sepia$1.Sepia=Sepia;var Solarize$1={};Object.defineProperty(Solarize$1,"__esModule",{value:!0});Solarize$1.Solarize=void 0;const Solarize=function(et){var _e=et.data,tt=et.width,rt=et.height,nt=tt*4,st=rt;do{var it=(st-1)*nt,at=tt;do{var ot=it+(at-1)*4,lt=_e[ot],ct=_e[ot+1],ut=_e[ot+2];lt>127&&(lt=255-lt),ct>127&&(ct=255-ct),ut>127&&(ut=255-ut),_e[ot]=lt,_e[ot+1]=ct,_e[ot+2]=ut}while(--at)}while(--st)};Solarize$1.Solarize=Solarize;var Threshold$1={};Object.defineProperty(Threshold$1,"__esModule",{value:!0});Threshold$1.Threshold=void 0;const Factory_1=Factory,Node_1=Node$2,Validators_1=Validators,Threshold=function(et){var _e=this.threshold()*255,tt=et.data,rt=tt.length,nt;for(nt=0;nt<rt;nt+=1)tt[nt]=tt[nt]<_e?0:255};Threshold$1.Threshold=Threshold;Factory_1.Factory.addGetterSetter(Node_1.Node,"threshold",.5,(0,Validators_1.getNumberValidator)(),Factory_1.Factory.afterSetFilter);Object.defineProperty(_FullInternals,"__esModule",{value:!0});_FullInternals.Konva=void 0;const _CoreInternals_1=_CoreInternals,Arc_1=Arc$1,Arrow_1=Arrow$1,Circle_1=Circle$2,Ellipse_1=Ellipse$1,Image_1=Image$2,Label_1=Label$1,Line_1=Line$1,Path_1=Path$1,Rect_1=Rect$1,RegularPolygon_1=RegularPolygon$1,Ring_1=Ring$1,Sprite_1=Sprite$1,Star_1=Star$1,Text_1=Text$1,TextPath_1=TextPath$1,Transformer_1=Transformer$1,Wedge_1=Wedge$1,Blur_1=Blur$1,Brighten_1=Brighten$1,Contrast_1=Contrast$1,Emboss_1=Emboss$1,Enhance_1=Enhance$1,Grayscale_1=Grayscale$1,HSL_1=HSL$1,HSV_1=HSV$1,Invert_1=Invert$1,Kaleidoscope_1=Kaleidoscope$1,Mask_1=Mask$1,Noise_1=Noise$1,Pixelate_1=Pixelate$1,Posterize_1=Posterize$1,RGB_1=RGB$1,RGBA_1=RGBA$1,Sepia_1=Sepia$1,Solarize_1=Solarize$1,Threshold_1=Threshold$1;_FullInternals.Konva=_CoreInternals_1.Konva.Util._assign(_CoreInternals_1.Konva,{Arc:Arc_1.Arc,Arrow:Arrow_1.Arrow,Circle:Circle_1.Circle,Ellipse:Ellipse_1.Ellipse,Image:Image_1.Image,Label:Label_1.Label,Tag:Label_1.Tag,Line:Line_1.Line,Path:Path_1.Path,Rect:Rect_1.Rect,RegularPolygon:RegularPolygon_1.RegularPolygon,Ring:Ring_1.Ring,Sprite:Sprite_1.Sprite,Star:Star_1.Star,Text:Text_1.Text,TextPath:TextPath_1.TextPath,Transformer:Transformer_1.Transformer,Wedge:Wedge_1.Wedge,Filters:{Blur:Blur_1.Blur,Brighten:Brighten_1.Brighten,Contrast:Contrast_1.Contrast,Emboss:Emboss_1.Emboss,Enhance:Enhance_1.Enhance,Grayscale:Grayscale_1.Grayscale,HSL:HSL_1.HSL,HSV:HSV_1.HSV,Invert:Invert_1.Invert,Kaleidoscope:Kaleidoscope_1.Kaleidoscope,Mask:Mask_1.Mask,Noise:Noise_1.Noise,Pixelate:Pixelate_1.Pixelate,Posterize:Posterize_1.Posterize,RGB:RGB_1.RGB,RGBA:RGBA_1.RGBA,Sepia:Sepia_1.Sepia,Solarize:Solarize_1.Solarize,Threshold:Threshold_1.Threshold}});var lib$1=lib$2.exports;Object.defineProperty(lib$1,"__esModule",{value:!0});const _FullInternals_1=_FullInternals;lib$2.exports=_FullInternals_1.Konva;var libExports=lib$2.exports;const Konva$1=getDefaultExportFromCjs$1(libExports),host="192.168.1.116",port=4e3,password="mrkadmin",username="admin",config={host,port,password,username};function bind(et,_e){return function(){return et.apply(_e,arguments)}}const{toString:toString$4}=Object.prototype,{getPrototypeOf}=Object,kindOf=(et=>_e=>{const tt=toString$4.call(_e);return et[tt]||(et[tt]=tt.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=et=>(et=et.toLowerCase(),_e=>kindOf(_e)===et),typeOfTest=et=>_e=>typeof _e===et,{isArray:isArray$e}=Array,isUndefined$1=typeOfTest("undefined");function isBuffer$6(et){return et!==null&&!isUndefined$1(et)&&et.constructor!==null&&!isUndefined$1(et.constructor)&&isFunction$5(et.constructor.isBuffer)&&et.constructor.isBuffer(et)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView$1(et){let _e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?_e=ArrayBuffer.isView(et):_e=et&&et.buffer&&isArrayBuffer(et.buffer),_e}const isString$1=typeOfTest("string"),isFunction$5=typeOfTest("function"),isNumber=typeOfTest("number"),isObject$9=et=>et!==null&&typeof et=="object",isBoolean=et=>et===!0||et===!1,isPlainObject$2=et=>{if(kindOf(et)!=="object")return!1;const _e=getPrototypeOf(et);return(_e===null||_e===Object.prototype||Object.getPrototypeOf(_e)===null)&&!(Symbol.toStringTag in et)&&!(Symbol.iterator in et)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=et=>isObject$9(et)&&isFunction$5(et.pipe),isFormData=et=>{let _e;return et&&(typeof FormData=="function"&&et instanceof FormData||isFunction$5(et.append)&&((_e=kindOf(et))==="formdata"||_e==="object"&&isFunction$5(et.toString)&&et.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=et=>et.trim?et.trim():et.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach$1(et,_e,{allOwnKeys:tt=!1}={}){if(et===null||typeof et>"u")return;let rt,nt;if(typeof et!="object"&&(et=[et]),isArray$e(et))for(rt=0,nt=et.length;rt<nt;rt++)_e.call(null,et[rt],rt,et);else{const st=tt?Object.getOwnPropertyNames(et):Object.keys(et),it=st.length;let at;for(rt=0;rt<it;rt++)at=st[rt],_e.call(null,et[at],at,et)}}function findKey(et,_e){_e=_e.toLowerCase();const tt=Object.keys(et);let rt=tt.length,nt;for(;rt-- >0;)if(nt=tt[rt],_e===nt.toLowerCase())return nt;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=et=>!isUndefined$1(et)&&et!==_global;function merge$2(){const{caseless:et}=isContextDefined(this)&&this||{},_e={},tt=(rt,nt)=>{const st=et&&findKey(_e,nt)||nt;isPlainObject$2(_e[st])&&isPlainObject$2(rt)?_e[st]=merge$2(_e[st],rt):isPlainObject$2(rt)?_e[st]=merge$2({},rt):isArray$e(rt)?_e[st]=rt.slice():_e[st]=rt};for(let rt=0,nt=arguments.length;rt<nt;rt++)arguments[rt]&&forEach$1(arguments[rt],tt);return _e}const extend=(et,_e,tt,{allOwnKeys:rt}={})=>(forEach$1(_e,(nt,st)=>{tt&&isFunction$5(nt)?et[st]=bind(nt,tt):et[st]=nt},{allOwnKeys:rt}),et),stripBOM=et=>(et.charCodeAt(0)===65279&&(et=et.slice(1)),et),inherits=(et,_e,tt,rt)=>{et.prototype=Object.create(_e.prototype,rt),et.prototype.constructor=et,Object.defineProperty(et,"super",{value:_e.prototype}),tt&&Object.assign(et.prototype,tt)},toFlatObject=(et,_e,tt,rt)=>{let nt,st,it;const at={};if(_e=_e||{},et==null)return _e;do{for(nt=Object.getOwnPropertyNames(et),st=nt.length;st-- >0;)it=nt[st],(!rt||rt(it,et,_e))&&!at[it]&&(_e[it]=et[it],at[it]=!0);et=tt!==!1&&getPrototypeOf(et)}while(et&&(!tt||tt(et,_e))&&et!==Object.prototype);return _e},endsWith=(et,_e,tt)=>{et=String(et),(tt===void 0||tt>et.length)&&(tt=et.length),tt-=_e.length;const rt=et.indexOf(_e,tt);return rt!==-1&&rt===tt},toArray$1=et=>{if(!et)return null;if(isArray$e(et))return et;let _e=et.length;if(!isNumber(_e))return null;const tt=new Array(_e);for(;_e-- >0;)tt[_e]=et[_e];return tt},isTypedArray$5=(et=>_e=>et&&_e instanceof et)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(et,_e)=>{const rt=(et&&et[Symbol.iterator]).call(et);let nt;for(;(nt=rt.next())&&!nt.done;){const st=nt.value;_e.call(et,st[0],st[1])}},matchAll=(et,_e)=>{let tt;const rt=[];for(;(tt=et.exec(_e))!==null;)rt.push(tt);return rt},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=et=>et.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(tt,rt,nt){return rt.toUpperCase()+nt}),hasOwnProperty$p=(({hasOwnProperty:et})=>(_e,tt)=>et.call(_e,tt))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(et,_e)=>{const tt=Object.getOwnPropertyDescriptors(et),rt={};forEach$1(tt,(nt,st)=>{let it;(it=_e(nt,st,et))!==!1&&(rt[st]=it||nt)}),Object.defineProperties(et,rt)},freezeMethods=et=>{reduceDescriptors(et,(_e,tt)=>{if(isFunction$5(et)&&["arguments","caller","callee"].indexOf(tt)!==-1)return!1;const rt=et[tt];if(isFunction$5(rt)){if(_e.enumerable=!1,"writable"in _e){_e.writable=!1;return}_e.set||(_e.set=()=>{throw Error("Can not rewrite read-only method '"+tt+"'")})}})},toObjectSet=(et,_e)=>{const tt={},rt=nt=>{nt.forEach(st=>{tt[st]=!0})};return isArray$e(et)?rt(et):rt(String(et).split(_e)),tt},noop$1=()=>{},toFiniteNumber=(et,_e)=>et!=null&&Number.isFinite(et=+et)?et:_e,ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(et=16,_e=ALPHABET.ALPHA_DIGIT)=>{let tt="";const{length:rt}=_e;for(;et--;)tt+=_e[Math.random()*rt|0];return tt};function isSpecCompliantForm(et){return!!(et&&isFunction$5(et.append)&&et[Symbol.toStringTag]==="FormData"&&et[Symbol.iterator])}const toJSONObject=et=>{const _e=new Array(10),tt=(rt,nt)=>{if(isObject$9(rt)){if(_e.indexOf(rt)>=0)return;if(!("toJSON"in rt)){_e[nt]=rt;const st=isArray$e(rt)?[]:{};return forEach$1(rt,(it,at)=>{const ot=tt(it,nt+1);!isUndefined$1(ot)&&(st[at]=ot)}),_e[nt]=void 0,st}}return rt};return tt(et,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=et=>et&&(isObject$9(et)||isFunction$5(et))&&isFunction$5(et.then)&&isFunction$5(et.catch),utils$1={isArray:isArray$e,isArrayBuffer,isBuffer:isBuffer$6,isFormData,isArrayBufferView:isArrayBufferView$1,isString:isString$1,isNumber,isBoolean,isObject:isObject$9,isPlainObject:isPlainObject$2,isReadableStream,isRequest,isResponse,isHeaders,isUndefined:isUndefined$1,isDate,isFile,isBlob,isRegExp,isFunction:isFunction$5,isStream,isURLSearchParams,isTypedArray:isTypedArray$5,isFileList,forEach:forEach$1,merge:merge$2,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray:toArray$1,forEachEntry,matchAll,isHTMLForm,hasOwnProperty:hasOwnProperty$p,hasOwnProp:hasOwnProperty$p,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$1,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable};function AxiosError(et,_e,tt,rt,nt){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=et,this.name="AxiosError",_e&&(this.code=_e),tt&&(this.config=tt),rt&&(this.request=rt),nt&&(this.response=nt)}utils$1.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(et=>{descriptors[et]={value:et}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(et,_e,tt,rt,nt,st)=>{const it=Object.create(prototype$1);return utils$1.toFlatObject(et,it,function(ot){return ot!==Error.prototype},at=>at!=="isAxiosError"),AxiosError.call(it,et.message,_e,tt,rt,nt),it.cause=et,it.name=et.name,st&&Object.assign(it,st),it};const httpAdapter=null;function isVisitable(et){return utils$1.isPlainObject(et)||utils$1.isArray(et)}function removeBrackets(et){return utils$1.endsWith(et,"[]")?et.slice(0,-2):et}function renderKey(et,_e,tt){return et?et.concat(_e).map(function(nt,st){return nt=removeBrackets(nt),!tt&&st?"["+nt+"]":nt}).join(tt?".":""):_e}function isFlatArray(et){return utils$1.isArray(et)&&!et.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function(_e){return/^is[A-Z]/.test(_e)});function toFormData(et,_e,tt){if(!utils$1.isObject(et))throw new TypeError("target must be an object");_e=_e||new FormData,tt=utils$1.toFlatObject(tt,{metaTokens:!0,dots:!1,indexes:!1},!1,function(pt,gt){return!utils$1.isUndefined(gt[pt])});const rt=tt.metaTokens,nt=tt.visitor||ct,st=tt.dots,it=tt.indexes,ot=(tt.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(_e);if(!utils$1.isFunction(nt))throw new TypeError("visitor must be a function");function lt(ht){if(ht===null)return"";if(utils$1.isDate(ht))return ht.toISOString();if(!ot&&utils$1.isBlob(ht))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(ht)||utils$1.isTypedArray(ht)?ot&&typeof Blob=="function"?new Blob([ht]):Buffer.from(ht):ht}function ct(ht,pt,gt){let mt=ht;if(ht&&!gt&&typeof ht=="object"){if(utils$1.endsWith(pt,"{}"))pt=rt?pt:pt.slice(0,-2),ht=JSON.stringify(ht);else if(utils$1.isArray(ht)&&isFlatArray(ht)||(utils$1.isFileList(ht)||utils$1.endsWith(pt,"[]"))&&(mt=utils$1.toArray(ht)))return pt=removeBrackets(pt),mt.forEach(function(vt,yt){!(utils$1.isUndefined(vt)||vt===null)&&_e.append(it===!0?renderKey([pt],yt,st):it===null?pt:pt+"[]",lt(vt))}),!1}return isVisitable(ht)?!0:(_e.append(renderKey(gt,pt,st),lt(ht)),!1)}const ut=[],dt=Object.assign(predicates,{defaultVisitor:ct,convertValue:lt,isVisitable});function ft(ht,pt){if(!utils$1.isUndefined(ht)){if(ut.indexOf(ht)!==-1)throw Error("Circular reference detected in "+pt.join("."));ut.push(ht),utils$1.forEach(ht,function(mt,bt){(!(utils$1.isUndefined(mt)||mt===null)&&nt.call(_e,mt,utils$1.isString(bt)?bt.trim():bt,pt,dt))===!0&&ft(mt,pt?pt.concat(bt):[bt])}),ut.pop()}}if(!utils$1.isObject(et))throw new TypeError("data must be an object");return ft(et),_e}function encode$3(et){const _e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(et).replace(/[!'()~]|%20|%00/g,function(rt){return _e[rt]})}function AxiosURLSearchParams(et,_e){this._pairs=[],et&&toFormData(et,this,_e)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(_e,tt){this._pairs.push([_e,tt])};prototype.toString=function(_e){const tt=_e?function(rt){return _e.call(this,rt,encode$3)}:encode$3;return this._pairs.map(function(nt){return tt(nt[0])+"="+tt(nt[1])},"").join("&")};function encode$2(et){return encodeURIComponent(et).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(et,_e,tt){if(!_e)return et;const rt=tt&&tt.encode||encode$2,nt=tt&&tt.serialize;let st;if(nt?st=nt(_e,tt):st=utils$1.isURLSearchParams(_e)?_e.toString():new AxiosURLSearchParams(_e,tt).toString(rt),st){const it=et.indexOf("#");it!==-1&&(et=et.slice(0,it)),et+=(et.indexOf("?")===-1?"?":"&")+st}return et}class InterceptorManager{constructor(){this.handlers=[]}use(_e,tt,rt){return this.handlers.push({fulfilled:_e,rejected:tt,synchronous:rt?rt.synchronous:!1,runWhen:rt?rt.runWhen:null}),this.handlers.length-1}eject(_e){this.handlers[_e]&&(this.handlers[_e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(_e){utils$1.forEach(this.handlers,function(rt){rt!==null&&_e(rt)})}}const InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",hasStandardBrowserEnv=(et=>hasBrowserEnv&&["ReactNative","NativeScript","NS"].indexOf(et)<0)(typeof navigator<"u"&&navigator.product),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(et,_e){return toFormData(et,new platform.classes.URLSearchParams,Object.assign({visitor:function(tt,rt,nt,st){return platform.isNode&&utils$1.isBuffer(tt)?(this.append(rt,tt.toString("base64")),!1):st.defaultVisitor.apply(this,arguments)}},_e))}function parsePropPath(et){return utils$1.matchAll(/\w+|\[(\w*)]/g,et).map(_e=>_e[0]==="[]"?"":_e[1]||_e[0])}function arrayToObject(et){const _e={},tt=Object.keys(et);let rt;const nt=tt.length;let st;for(rt=0;rt<nt;rt++)st=tt[rt],_e[st]=et[st];return _e}function formDataToJSON(et){function _e(tt,rt,nt,st){let it=tt[st++];if(it==="__proto__")return!0;const at=Number.isFinite(+it),ot=st>=tt.length;return it=!it&&utils$1.isArray(nt)?nt.length:it,ot?(utils$1.hasOwnProp(nt,it)?nt[it]=[nt[it],rt]:nt[it]=rt,!at):((!nt[it]||!utils$1.isObject(nt[it]))&&(nt[it]=[]),_e(tt,rt,nt[it],st)&&utils$1.isArray(nt[it])&&(nt[it]=arrayToObject(nt[it])),!at)}if(utils$1.isFormData(et)&&utils$1.isFunction(et.entries)){const tt={};return utils$1.forEachEntry(et,(rt,nt)=>{_e(parsePropPath(rt),nt,tt,0)}),tt}return null}function stringifySafely(et,_e,tt){if(utils$1.isString(et))try{return(_e||JSON.parse)(et),utils$1.trim(et)}catch(rt){if(rt.name!=="SyntaxError")throw rt}return(tt||JSON.stringify)(et)}const defaults$1={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(_e,tt){const rt=tt.getContentType()||"",nt=rt.indexOf("application/json")>-1,st=utils$1.isObject(_e);if(st&&utils$1.isHTMLForm(_e)&&(_e=new FormData(_e)),utils$1.isFormData(_e))return nt?JSON.stringify(formDataToJSON(_e)):_e;if(utils$1.isArrayBuffer(_e)||utils$1.isBuffer(_e)||utils$1.isStream(_e)||utils$1.isFile(_e)||utils$1.isBlob(_e)||utils$1.isReadableStream(_e))return _e;if(utils$1.isArrayBufferView(_e))return _e.buffer;if(utils$1.isURLSearchParams(_e))return tt.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),_e.toString();let at;if(st){if(rt.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(_e,this.formSerializer).toString();if((at=utils$1.isFileList(_e))||rt.indexOf("multipart/form-data")>-1){const ot=this.env&&this.env.FormData;return toFormData(at?{"files[]":_e}:_e,ot&&new ot,this.formSerializer)}}return st||nt?(tt.setContentType("application/json",!1),stringifySafely(_e)):_e}],transformResponse:[function(_e){const tt=this.transitional||defaults$1.transitional,rt=tt&&tt.forcedJSONParsing,nt=this.responseType==="json";if(utils$1.isResponse(_e)||utils$1.isReadableStream(_e))return _e;if(_e&&utils$1.isString(_e)&&(rt&&!this.responseType||nt)){const it=!(tt&&tt.silentJSONParsing)&&nt;try{return JSON.parse(_e)}catch(at){if(it)throw at.name==="SyntaxError"?AxiosError.from(at,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):at}}return _e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(_e){return _e>=200&&_e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],et=>{defaults$1.headers[et]={}});const defaults$2=defaults$1,ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=et=>{const _e={};let tt,rt,nt;return et&&et.split(`
`).forEach(function(it){nt=it.indexOf(":"),tt=it.substring(0,nt).trim().toLowerCase(),rt=it.substring(nt+1).trim(),!(!tt||_e[tt]&&ignoreDuplicateOf[tt])&&(tt==="set-cookie"?_e[tt]?_e[tt].push(rt):_e[tt]=[rt]:_e[tt]=_e[tt]?_e[tt]+", "+rt:rt)}),_e},$internals=Symbol("internals");function normalizeHeader(et){return et&&String(et).trim().toLowerCase()}function normalizeValue(et){return et===!1||et==null?et:utils$1.isArray(et)?et.map(normalizeValue):String(et)}function parseTokens(et){const _e=Object.create(null),tt=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let rt;for(;rt=tt.exec(et);)_e[rt[1]]=rt[2];return _e}const isValidHeaderName=et=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(et.trim());function matchHeaderValue(et,_e,tt,rt,nt){if(utils$1.isFunction(rt))return rt.call(this,_e,tt);if(nt&&(_e=tt),!!utils$1.isString(_e)){if(utils$1.isString(rt))return _e.indexOf(rt)!==-1;if(utils$1.isRegExp(rt))return rt.test(_e)}}function formatHeader(et){return et.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(_e,tt,rt)=>tt.toUpperCase()+rt)}function buildAccessors(et,_e){const tt=utils$1.toCamelCase(" "+_e);["get","set","has"].forEach(rt=>{Object.defineProperty(et,rt+tt,{value:function(nt,st,it){return this[rt].call(this,_e,nt,st,it)},configurable:!0})})}class AxiosHeaders{constructor(_e){_e&&this.set(_e)}set(_e,tt,rt){const nt=this;function st(at,ot,lt){const ct=normalizeHeader(ot);if(!ct)throw new Error("header name must be a non-empty string");const ut=utils$1.findKey(nt,ct);(!ut||nt[ut]===void 0||lt===!0||lt===void 0&&nt[ut]!==!1)&&(nt[ut||ot]=normalizeValue(at))}const it=(at,ot)=>utils$1.forEach(at,(lt,ct)=>st(lt,ct,ot));if(utils$1.isPlainObject(_e)||_e instanceof this.constructor)it(_e,tt);else if(utils$1.isString(_e)&&(_e=_e.trim())&&!isValidHeaderName(_e))it(parseHeaders(_e),tt);else if(utils$1.isHeaders(_e))for(const[at,ot]of _e.entries())st(ot,at,rt);else _e!=null&&st(tt,_e,rt);return this}get(_e,tt){if(_e=normalizeHeader(_e),_e){const rt=utils$1.findKey(this,_e);if(rt){const nt=this[rt];if(!tt)return nt;if(tt===!0)return parseTokens(nt);if(utils$1.isFunction(tt))return tt.call(this,nt,rt);if(utils$1.isRegExp(tt))return tt.exec(nt);throw new TypeError("parser must be boolean|regexp|function")}}}has(_e,tt){if(_e=normalizeHeader(_e),_e){const rt=utils$1.findKey(this,_e);return!!(rt&&this[rt]!==void 0&&(!tt||matchHeaderValue(this,this[rt],rt,tt)))}return!1}delete(_e,tt){const rt=this;let nt=!1;function st(it){if(it=normalizeHeader(it),it){const at=utils$1.findKey(rt,it);at&&(!tt||matchHeaderValue(rt,rt[at],at,tt))&&(delete rt[at],nt=!0)}}return utils$1.isArray(_e)?_e.forEach(st):st(_e),nt}clear(_e){const tt=Object.keys(this);let rt=tt.length,nt=!1;for(;rt--;){const st=tt[rt];(!_e||matchHeaderValue(this,this[st],st,_e,!0))&&(delete this[st],nt=!0)}return nt}normalize(_e){const tt=this,rt={};return utils$1.forEach(this,(nt,st)=>{const it=utils$1.findKey(rt,st);if(it){tt[it]=normalizeValue(nt),delete tt[st];return}const at=_e?formatHeader(st):String(st).trim();at!==st&&delete tt[st],tt[at]=normalizeValue(nt),rt[at]=!0}),this}concat(..._e){return this.constructor.concat(this,..._e)}toJSON(_e){const tt=Object.create(null);return utils$1.forEach(this,(rt,nt)=>{rt!=null&&rt!==!1&&(tt[nt]=_e&&utils$1.isArray(rt)?rt.join(", "):rt)}),tt}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([_e,tt])=>_e+": "+tt).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(_e){return _e instanceof this?_e:new this(_e)}static concat(_e,...tt){const rt=new this(_e);return tt.forEach(nt=>rt.set(nt)),rt}static accessor(_e){const rt=(this[$internals]=this[$internals]={accessors:{}}).accessors,nt=this.prototype;function st(it){const at=normalizeHeader(it);rt[at]||(buildAccessors(nt,it),rt[at]=!0)}return utils$1.isArray(_e)?_e.forEach(st):st(_e),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders.prototype,({value:et},_e)=>{let tt=_e[0].toUpperCase()+_e.slice(1);return{get:()=>et,set(rt){this[tt]=rt}}});utils$1.freezeMethods(AxiosHeaders);const AxiosHeaders$1=AxiosHeaders;function transformData(et,_e){const tt=this||defaults$2,rt=_e||tt,nt=AxiosHeaders$1.from(rt.headers);let st=rt.data;return utils$1.forEach(et,function(at){st=at.call(tt,st,nt.normalize(),_e?_e.status:void 0)}),nt.normalize(),st}function isCancel(et){return!!(et&&et.__CANCEL__)}function CanceledError(et,_e,tt){AxiosError.call(this,et??"canceled",AxiosError.ERR_CANCELED,_e,tt),this.name="CanceledError"}utils$1.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(et,_e,tt){const rt=tt.config.validateStatus;!tt.status||!rt||rt(tt.status)?et(tt):_e(new AxiosError("Request failed with status code "+tt.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(tt.status/100)-4],tt.config,tt.request,tt))}function parseProtocol(et){const _e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(et);return _e&&_e[1]||""}function speedometer(et,_e){et=et||10;const tt=new Array(et),rt=new Array(et);let nt=0,st=0,it;return _e=_e!==void 0?_e:1e3,function(ot){const lt=Date.now(),ct=rt[st];it||(it=lt),tt[nt]=ot,rt[nt]=lt;let ut=st,dt=0;for(;ut!==nt;)dt+=tt[ut++],ut=ut%et;if(nt=(nt+1)%et,nt===st&&(st=(st+1)%et),lt-it<_e)return;const ft=ct&&lt-ct;return ft?Math.round(dt*1e3/ft):void 0}}function throttle$1(et,_e){let tt=0;const rt=1e3/_e;let nt=null;return function(){const it=this===!0,at=Date.now();if(it||at-tt>rt)return nt&&(clearTimeout(nt),nt=null),tt=at,et.apply(null,arguments);nt||(nt=setTimeout(()=>(nt=null,tt=Date.now(),et.apply(null,arguments)),rt-(at-tt)))}}const progressEventReducer=(et,_e,tt=3)=>{let rt=0;const nt=speedometer(50,250);return throttle$1(st=>{const it=st.loaded,at=st.lengthComputable?st.total:void 0,ot=it-rt,lt=nt(ot),ct=it<=at;rt=it;const ut={loaded:it,total:at,progress:at?it/at:void 0,bytes:ot,rate:lt||void 0,estimated:lt&&at&&ct?(at-it)/lt:void 0,event:st,lengthComputable:at!=null};ut[_e?"download":"upload"]=!0,et(ut)},tt)},isURLSameOrigin=platform.hasStandardBrowserEnv?function(){const _e=/(msie|trident)/i.test(navigator.userAgent),tt=document.createElement("a");let rt;function nt(st){let it=st;return _e&&(tt.setAttribute("href",it),it=tt.href),tt.setAttribute("href",it),{href:tt.href,protocol:tt.protocol?tt.protocol.replace(/:$/,""):"",host:tt.host,search:tt.search?tt.search.replace(/^\?/,""):"",hash:tt.hash?tt.hash.replace(/^#/,""):"",hostname:tt.hostname,port:tt.port,pathname:tt.pathname.charAt(0)==="/"?tt.pathname:"/"+tt.pathname}}return rt=nt(window.location.href),function(it){const at=utils$1.isString(it)?nt(it):it;return at.protocol===rt.protocol&&at.host===rt.host}}():function(){return function(){return!0}}(),cookies=platform.hasStandardBrowserEnv?{write(et,_e,tt,rt,nt,st){const it=[et+"="+encodeURIComponent(_e)];utils$1.isNumber(tt)&&it.push("expires="+new Date(tt).toGMTString()),utils$1.isString(rt)&&it.push("path="+rt),utils$1.isString(nt)&&it.push("domain="+nt),st===!0&&it.push("secure"),document.cookie=it.join("; ")},read(et){const _e=document.cookie.match(new RegExp("(^|;\\s*)("+et+")=([^;]*)"));return _e?decodeURIComponent(_e[3]):null},remove(et){this.write(et,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(et){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(et)}function combineURLs(et,_e){return _e?et.replace(/\/?\/$/,"")+"/"+_e.replace(/^\/+/,""):et}function buildFullPath(et,_e){return et&&!isAbsoluteURL(_e)?combineURLs(et,_e):_e}const headersToObject=et=>et instanceof AxiosHeaders$1?{...et}:et;function mergeConfig$1(et,_e){_e=_e||{};const tt={};function rt(lt,ct,ut){return utils$1.isPlainObject(lt)&&utils$1.isPlainObject(ct)?utils$1.merge.call({caseless:ut},lt,ct):utils$1.isPlainObject(ct)?utils$1.merge({},ct):utils$1.isArray(ct)?ct.slice():ct}function nt(lt,ct,ut){if(utils$1.isUndefined(ct)){if(!utils$1.isUndefined(lt))return rt(void 0,lt,ut)}else return rt(lt,ct,ut)}function st(lt,ct){if(!utils$1.isUndefined(ct))return rt(void 0,ct)}function it(lt,ct){if(utils$1.isUndefined(ct)){if(!utils$1.isUndefined(lt))return rt(void 0,lt)}else return rt(void 0,ct)}function at(lt,ct,ut){if(ut in _e)return rt(lt,ct);if(ut in et)return rt(void 0,lt)}const ot={url:st,method:st,data:st,baseURL:it,transformRequest:it,transformResponse:it,paramsSerializer:it,timeout:it,timeoutMessage:it,withCredentials:it,withXSRFToken:it,adapter:it,responseType:it,xsrfCookieName:it,xsrfHeaderName:it,onUploadProgress:it,onDownloadProgress:it,decompress:it,maxContentLength:it,maxBodyLength:it,beforeRedirect:it,transport:it,httpAgent:it,httpsAgent:it,cancelToken:it,socketPath:it,responseEncoding:it,validateStatus:at,headers:(lt,ct)=>nt(headersToObject(lt),headersToObject(ct),!0)};return utils$1.forEach(Object.keys(Object.assign({},et,_e)),function(ct){const ut=ot[ct]||nt,dt=ut(et[ct],_e[ct],ct);utils$1.isUndefined(dt)&&ut!==at||(tt[ct]=dt)}),tt}const resolveConfig=et=>{const _e=mergeConfig$1({},et);let{data:tt,withXSRFToken:rt,xsrfHeaderName:nt,xsrfCookieName:st,headers:it,auth:at}=_e;_e.headers=it=AxiosHeaders$1.from(it),_e.url=buildURL(buildFullPath(_e.baseURL,_e.url),et.params,et.paramsSerializer),at&&it.set("Authorization","Basic "+btoa((at.username||"")+":"+(at.password?unescape(encodeURIComponent(at.password)):"")));let ot;if(utils$1.isFormData(tt)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)it.setContentType(void 0);else if((ot=it.getContentType())!==!1){const[lt,...ct]=ot?ot.split(";").map(ut=>ut.trim()).filter(Boolean):[];it.setContentType([lt||"multipart/form-data",...ct].join("; "))}}if(platform.hasStandardBrowserEnv&&(rt&&utils$1.isFunction(rt)&&(rt=rt(_e)),rt||rt!==!1&&isURLSameOrigin(_e.url))){const lt=nt&&st&&cookies.read(st);lt&&it.set(nt,lt)}return _e},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(et){return new Promise(function(tt,rt){const nt=resolveConfig(et);let st=nt.data;const it=AxiosHeaders$1.from(nt.headers).normalize();let{responseType:at}=nt,ot;function lt(){nt.cancelToken&&nt.cancelToken.unsubscribe(ot),nt.signal&&nt.signal.removeEventListener("abort",ot)}let ct=new XMLHttpRequest;ct.open(nt.method.toUpperCase(),nt.url,!0),ct.timeout=nt.timeout;function ut(){if(!ct)return;const ft=AxiosHeaders$1.from("getAllResponseHeaders"in ct&&ct.getAllResponseHeaders()),pt={data:!at||at==="text"||at==="json"?ct.responseText:ct.response,status:ct.status,statusText:ct.statusText,headers:ft,config:et,request:ct};settle(function(mt){tt(mt),lt()},function(mt){rt(mt),lt()},pt),ct=null}"onloadend"in ct?ct.onloadend=ut:ct.onreadystatechange=function(){!ct||ct.readyState!==4||ct.status===0&&!(ct.responseURL&&ct.responseURL.indexOf("file:")===0)||setTimeout(ut)},ct.onabort=function(){ct&&(rt(new AxiosError("Request aborted",AxiosError.ECONNABORTED,nt,ct)),ct=null)},ct.onerror=function(){rt(new AxiosError("Network Error",AxiosError.ERR_NETWORK,nt,ct)),ct=null},ct.ontimeout=function(){let ht=nt.timeout?"timeout of "+nt.timeout+"ms exceeded":"timeout exceeded";const pt=nt.transitional||transitionalDefaults;nt.timeoutErrorMessage&&(ht=nt.timeoutErrorMessage),rt(new AxiosError(ht,pt.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,nt,ct)),ct=null},st===void 0&&it.setContentType(null),"setRequestHeader"in ct&&utils$1.forEach(it.toJSON(),function(ht,pt){ct.setRequestHeader(pt,ht)}),utils$1.isUndefined(nt.withCredentials)||(ct.withCredentials=!!nt.withCredentials),at&&at!=="json"&&(ct.responseType=nt.responseType),typeof nt.onDownloadProgress=="function"&&ct.addEventListener("progress",progressEventReducer(nt.onDownloadProgress,!0)),typeof nt.onUploadProgress=="function"&&ct.upload&&ct.upload.addEventListener("progress",progressEventReducer(nt.onUploadProgress)),(nt.cancelToken||nt.signal)&&(ot=ft=>{ct&&(rt(!ft||ft.type?new CanceledError(null,et,ct):ft),ct.abort(),ct=null)},nt.cancelToken&&nt.cancelToken.subscribe(ot),nt.signal&&(nt.signal.aborted?ot():nt.signal.addEventListener("abort",ot)));const dt=parseProtocol(nt.url);if(dt&&platform.protocols.indexOf(dt)===-1){rt(new AxiosError("Unsupported protocol "+dt+":",AxiosError.ERR_BAD_REQUEST,et));return}ct.send(st||null)})},composeSignals=(et,_e)=>{let tt=new AbortController,rt;const nt=function(ot){if(!rt){rt=!0,it();const lt=ot instanceof Error?ot:this.reason;tt.abort(lt instanceof AxiosError?lt:new CanceledError(lt instanceof Error?lt.message:lt))}};let st=_e&&setTimeout(()=>{nt(new AxiosError(`timeout ${_e} of ms exceeded`,AxiosError.ETIMEDOUT))},_e);const it=()=>{et&&(st&&clearTimeout(st),st=null,et.forEach(ot=>{ot&&(ot.removeEventListener?ot.removeEventListener("abort",nt):ot.unsubscribe(nt))}),et=null)};et.forEach(ot=>ot&&ot.addEventListener&&ot.addEventListener("abort",nt));const{signal:at}=tt;return at.unsubscribe=it,[at,()=>{st&&clearTimeout(st),st=null}]},composeSignals$1=composeSignals,streamChunk=function*(et,_e){let tt=et.byteLength;if(!_e||tt<_e){yield et;return}let rt=0,nt;for(;rt<tt;)nt=rt+_e,yield et.slice(rt,nt),rt=nt},readBytes=async function*(et,_e,tt){for await(const rt of et)yield*streamChunk(ArrayBuffer.isView(rt)?rt:await tt(String(rt)),_e)},trackStream=(et,_e,tt,rt,nt)=>{const st=readBytes(et,_e,nt);let it=0;return new ReadableStream({type:"bytes",async pull(at){const{done:ot,value:lt}=await st.next();if(ot){at.close(),rt();return}let ct=lt.byteLength;tt&&tt(it+=ct),at.enqueue(new Uint8Array(lt))},cancel(at){return rt(at),st.return()}},{highWaterMark:2})},fetchProgressDecorator=(et,_e)=>{const tt=et!=null;return rt=>setTimeout(()=>_e({lengthComputable:tt,total:et,loaded:rt}))},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(et=>_e=>et.encode(_e))(new TextEncoder):async et=>new Uint8Array(await new Response(et).arrayBuffer())),supportsRequestStream=isReadableStreamSupported&&(()=>{let et=!1;const _e=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return et=!0,"half"}}).headers.has("Content-Type");return et&&!_e})(),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&!!(()=>{try{return utils$1.isReadableStream(new Response("").body)}catch{}})(),resolvers={stream:supportsResponseStream&&(et=>et.body)};isFetchSupported&&(et=>{["text","arrayBuffer","blob","formData","stream"].forEach(_e=>{!resolvers[_e]&&(resolvers[_e]=utils$1.isFunction(et[_e])?tt=>tt[_e]():(tt,rt)=>{throw new AxiosError(`Response type '${_e}' is not supported`,AxiosError.ERR_NOT_SUPPORT,rt)})})})(new Response);const getBodyLength=async et=>{if(et==null)return 0;if(utils$1.isBlob(et))return et.size;if(utils$1.isSpecCompliantForm(et))return(await new Request(et).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(et))return et.byteLength;if(utils$1.isURLSearchParams(et)&&(et=et+""),utils$1.isString(et))return(await encodeText(et)).byteLength},resolveBodyLength=async(et,_e)=>{const tt=utils$1.toFiniteNumber(et.getContentLength());return tt??getBodyLength(_e)},fetchAdapter=isFetchSupported&&(async et=>{let{url:_e,method:tt,data:rt,signal:nt,cancelToken:st,timeout:it,onDownloadProgress:at,onUploadProgress:ot,responseType:lt,headers:ct,withCredentials:ut="same-origin",fetchOptions:dt}=resolveConfig(et);lt=lt?(lt+"").toLowerCase():"text";let[ft,ht]=nt||st||it?composeSignals$1([nt,st],it):[],pt,gt;const mt=()=>{!pt&&setTimeout(()=>{ft&&ft.unsubscribe()}),pt=!0};let bt;try{if(ot&&supportsRequestStream&&tt!=="get"&&tt!=="head"&&(bt=await resolveBodyLength(ct,rt))!==0){let Et=new Request(_e,{method:"POST",body:rt,duplex:"half"}),wt;utils$1.isFormData(rt)&&(wt=Et.headers.get("content-type"))&&ct.setContentType(wt),Et.body&&(rt=trackStream(Et.body,DEFAULT_CHUNK_SIZE,fetchProgressDecorator(bt,progressEventReducer(ot)),null,encodeText))}utils$1.isString(ut)||(ut=ut?"cors":"omit"),gt=new Request(_e,{...dt,signal:ft,method:tt.toUpperCase(),headers:ct.normalize().toJSON(),body:rt,duplex:"half",withCredentials:ut});let vt=await fetch(gt);const yt=supportsResponseStream&&(lt==="stream"||lt==="response");if(supportsResponseStream&&(at||yt)){const Et={};["status","statusText","headers"].forEach($t=>{Et[$t]=vt[$t]});const wt=utils$1.toFiniteNumber(vt.headers.get("content-length"));vt=new Response(trackStream(vt.body,DEFAULT_CHUNK_SIZE,at&&fetchProgressDecorator(wt,progressEventReducer(at,!0)),yt&&mt,encodeText),Et)}lt=lt||"text";let xt=await resolvers[utils$1.findKey(resolvers,lt)||"text"](vt,et);return!yt&&mt(),ht&&ht(),await new Promise((Et,wt)=>{settle(Et,wt,{data:xt,headers:AxiosHeaders$1.from(vt.headers),status:vt.status,statusText:vt.statusText,config:et,request:gt})})}catch(vt){throw mt(),vt&&vt.name==="TypeError"&&/fetch/i.test(vt.message)?Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,et,gt),{cause:vt.cause||vt}):AxiosError.from(vt,vt&&vt.code,et,gt)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1.forEach(knownAdapters,(et,_e)=>{if(et){try{Object.defineProperty(et,"name",{value:_e})}catch{}Object.defineProperty(et,"adapterName",{value:_e})}});const renderReason=et=>`- ${et}`,isResolvedHandle=et=>utils$1.isFunction(et)||et===null||et===!1,adapters={getAdapter:et=>{et=utils$1.isArray(et)?et:[et];const{length:_e}=et;let tt,rt;const nt={};for(let st=0;st<_e;st++){tt=et[st];let it;if(rt=tt,!isResolvedHandle(tt)&&(rt=knownAdapters[(it=String(tt)).toLowerCase()],rt===void 0))throw new AxiosError(`Unknown adapter '${it}'`);if(rt)break;nt[it||"#"+st]=rt}if(!rt){const st=Object.entries(nt).map(([at,ot])=>`adapter ${at} `+(ot===!1?"is not supported by the environment":"is not available in the build"));let it=_e?st.length>1?`since :
`+st.map(renderReason).join(`
`):" "+renderReason(st[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+it,"ERR_NOT_SUPPORT")}return rt},adapters:knownAdapters};function throwIfCancellationRequested(et){if(et.cancelToken&&et.cancelToken.throwIfRequested(),et.signal&&et.signal.aborted)throw new CanceledError(null,et)}function dispatchRequest(et){return throwIfCancellationRequested(et),et.headers=AxiosHeaders$1.from(et.headers),et.data=transformData.call(et,et.transformRequest),["post","put","patch"].indexOf(et.method)!==-1&&et.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(et.adapter||defaults$2.adapter)(et).then(function(rt){return throwIfCancellationRequested(et),rt.data=transformData.call(et,et.transformResponse,rt),rt.headers=AxiosHeaders$1.from(rt.headers),rt},function(rt){return isCancel(rt)||(throwIfCancellationRequested(et),rt&&rt.response&&(rt.response.data=transformData.call(et,et.transformResponse,rt.response),rt.response.headers=AxiosHeaders$1.from(rt.response.headers))),Promise.reject(rt)})}const VERSION="1.7.2",validators$1={};["object","boolean","number","function","string","symbol"].forEach((et,_e)=>{validators$1[et]=function(rt){return typeof rt===et||"a"+(_e<1?"n ":" ")+et}});const deprecatedWarnings={};validators$1.transitional=function(_e,tt,rt){function nt(st,it){return"[Axios v"+VERSION+"] Transitional option '"+st+"'"+it+(rt?". "+rt:"")}return(st,it,at)=>{if(_e===!1)throw new AxiosError(nt(it," has been removed"+(tt?" in "+tt:"")),AxiosError.ERR_DEPRECATED);return tt&&!deprecatedWarnings[it]&&(deprecatedWarnings[it]=!0,console.warn(nt(it," has been deprecated since v"+tt+" and will be removed in the near future"))),_e?_e(st,it,at):!0}};function assertOptions(et,_e,tt){if(typeof et!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const rt=Object.keys(et);let nt=rt.length;for(;nt-- >0;){const st=rt[nt],it=_e[st];if(it){const at=et[st],ot=at===void 0||it(at,st,et);if(ot!==!0)throw new AxiosError("option "+st+" must be "+ot,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(tt!==!0)throw new AxiosError("Unknown option "+st,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(_e){this.defaults=_e,this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}async request(_e,tt){try{return await this._request(_e,tt)}catch(rt){if(rt instanceof Error){let nt;Error.captureStackTrace?Error.captureStackTrace(nt={}):nt=new Error;const st=nt.stack?nt.stack.replace(/^.+\n/,""):"";try{rt.stack?st&&!String(rt.stack).endsWith(st.replace(/^.+\n.+\n/,""))&&(rt.stack+=`
`+st):rt.stack=st}catch{}}throw rt}}_request(_e,tt){typeof _e=="string"?(tt=tt||{},tt.url=_e):tt=_e||{},tt=mergeConfig$1(this.defaults,tt);const{transitional:rt,paramsSerializer:nt,headers:st}=tt;rt!==void 0&&validator.assertOptions(rt,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),nt!=null&&(utils$1.isFunction(nt)?tt.paramsSerializer={serialize:nt}:validator.assertOptions(nt,{encode:validators.function,serialize:validators.function},!0)),tt.method=(tt.method||this.defaults.method||"get").toLowerCase();let it=st&&utils$1.merge(st.common,st[tt.method]);st&&utils$1.forEach(["delete","get","head","post","put","patch","common"],ht=>{delete st[ht]}),tt.headers=AxiosHeaders$1.concat(it,st);const at=[];let ot=!0;this.interceptors.request.forEach(function(pt){typeof pt.runWhen=="function"&&pt.runWhen(tt)===!1||(ot=ot&&pt.synchronous,at.unshift(pt.fulfilled,pt.rejected))});const lt=[];this.interceptors.response.forEach(function(pt){lt.push(pt.fulfilled,pt.rejected)});let ct,ut=0,dt;if(!ot){const ht=[dispatchRequest.bind(this),void 0];for(ht.unshift.apply(ht,at),ht.push.apply(ht,lt),dt=ht.length,ct=Promise.resolve(tt);ut<dt;)ct=ct.then(ht[ut++],ht[ut++]);return ct}dt=at.length;let ft=tt;for(ut=0;ut<dt;){const ht=at[ut++],pt=at[ut++];try{ft=ht(ft)}catch(gt){pt.call(this,gt);break}}try{ct=dispatchRequest.call(this,ft)}catch(ht){return Promise.reject(ht)}for(ut=0,dt=lt.length;ut<dt;)ct=ct.then(lt[ut++],lt[ut++]);return ct}getUri(_e){_e=mergeConfig$1(this.defaults,_e);const tt=buildFullPath(_e.baseURL,_e.url);return buildURL(tt,_e.params,_e.paramsSerializer)}}utils$1.forEach(["delete","get","head","options"],function(_e){Axios.prototype[_e]=function(tt,rt){return this.request(mergeConfig$1(rt||{},{method:_e,url:tt,data:(rt||{}).data}))}});utils$1.forEach(["post","put","patch"],function(_e){function tt(rt){return function(st,it,at){return this.request(mergeConfig$1(at||{},{method:_e,headers:rt?{"Content-Type":"multipart/form-data"}:{},url:st,data:it}))}}Axios.prototype[_e]=tt(),Axios.prototype[_e+"Form"]=tt(!0)});const Axios$1=Axios;class CancelToken{constructor(_e){if(typeof _e!="function")throw new TypeError("executor must be a function.");let tt;this.promise=new Promise(function(st){tt=st});const rt=this;this.promise.then(nt=>{if(!rt._listeners)return;let st=rt._listeners.length;for(;st-- >0;)rt._listeners[st](nt);rt._listeners=null}),this.promise.then=nt=>{let st;const it=new Promise(at=>{rt.subscribe(at),st=at}).then(nt);return it.cancel=function(){rt.unsubscribe(st)},it},_e(function(st,it,at){rt.reason||(rt.reason=new CanceledError(st,it,at),tt(rt.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(_e){if(this.reason){_e(this.reason);return}this._listeners?this._listeners.push(_e):this._listeners=[_e]}unsubscribe(_e){if(!this._listeners)return;const tt=this._listeners.indexOf(_e);tt!==-1&&this._listeners.splice(tt,1)}static source(){let _e;return{token:new CancelToken(function(nt){_e=nt}),cancel:_e}}}const CancelToken$1=CancelToken;function spread(et){return function(tt){return et.apply(null,tt)}}function isAxiosError(et){return utils$1.isObject(et)&&et.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([et,_e])=>{HttpStatusCode[_e]=et});const HttpStatusCode$1=HttpStatusCode;function createInstance(et){const _e=new Axios$1(et),tt=bind(Axios$1.prototype.request,_e);return utils$1.extend(tt,Axios$1.prototype,_e,{allOwnKeys:!0}),utils$1.extend(tt,_e,null,{allOwnKeys:!0}),tt.create=function(nt){return createInstance(mergeConfig$1(et,nt))},tt}const axios=createInstance(defaults$2);axios.Axios=Axios$1;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function(_e){return Promise.all(_e)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig$1;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=et=>formDataToJSON(utils$1.isHTMLForm(et)?new FormData(et):et);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const axios$1=axios,extractData=et=>et.data,catchErr=et=>console.warn("Request Failed:",et),userAccessToken$5=localStorage.getItem("accessToken"),createScene=(et,_e)=>axios$1.post(`${et}/scenes`,_e,{headers:{Authorization:`Bearer ${userAccessToken$5}`}}).then(extractData).catch(catchErr),getScenes=et=>axios$1.get(`${et}/scenes`,{headers:{Authorization:`Bearer ${userAccessToken$5}`}}).then(extractData).catch(catchErr),getSceneById=(et,_e)=>axios$1.get(`${et}/scenes/${_e}`,{headers:{Authorization:`Bearer ${userAccessToken$5}`}}).then(extractData).catch(catchErr),updateScene=(et,_e,tt)=>axios$1.put(`${et}/scenes/${_e}`,tt,{headers:{Authorization:`Bearer ${userAccessToken$5}`}}).then(extractData).catch(catchErr),deleteScene$1=(et,_e)=>axios$1.delete(`${et}/scenes/${_e}`,{headers:{Authorization:`Bearer ${userAccessToken$5}`}}).catch(catchErr),userAccessToken$4=localStorage.getItem("accessToken"),createSource=(et,_e)=>axios$1.post(`${et}/sources`,_e,{headers:{Authorization:`Bearer ${userAccessToken$4}`}}).then(extractData).catch(catchErr),getSources=et=>axios$1.get(`${et}/sources`,{headers:{Authorization:`Bearer ${userAccessToken$4}`}}).then(extractData).catch(catchErr),getSourceById=(et,_e)=>axios$1.get(`${et}/sources/${_e}`,{headers:{Authorization:`Bearer ${userAccessToken$4}`}}).then(extractData).catch(catchErr),updateSource=(et,_e,tt)=>axios$1.put(`${et}/sources/${_e}`,tt,{headers:{Authorization:`Bearer ${userAccessToken$4}`}}).then(extractData).catch(catchErr),deleteSource=(et,_e)=>axios$1.delete(`${et}/sources/${_e}`,{headers:{Authorization:`Bearer ${userAccessToken$4}`}}).catch(catchErr),userAccessToken$3=localStorage.getItem("accessToken"),createMedia=(et,_e)=>axios$1.post(`${et}/media`,_e,{headers:{Authorization:`Bearer ${userAccessToken$3}`}}).then(extractData).catch(catchErr),getMedia=et=>axios$1.get(`${et}/media`,{headers:{Authorization:`Bearer ${userAccessToken$3}`}}).then(extractData).catch(catchErr),getMediaById=(et,_e)=>axios$1.get(`${et}/media/${_e}`,{headers:{Authorization:`Bearer ${userAccessToken$3}`}}).then(extractData).catch(catchErr),updateMedia=(et,_e,tt)=>axios$1.put(`${et}/media/${_e}`,tt,{headers:{Authorization:`Bearer ${userAccessToken$3}`}}).then(extractData).catch(catchErr),deleteMedia=(et,_e)=>axios$1.delete(`${et}/media/${_e}`,{headers:{Authorization:`Bearer ${userAccessToken$3}`}}).catch(catchErr),userAccessToken$2=localStorage.getItem("accessToken"),createProgram=(et,_e)=>axios$1.post(`${et}/programs`,_e,{headers:{Authorization:`Bearer ${userAccessToken$2}`}}).then(extractData).catch(catchErr),getPrograms=et=>axios$1.get(`${et}/programs`,{headers:{Authorization:`Bearer ${userAccessToken$2}`}}).then(extractData).catch(catchErr),getProgramById=(et,_e)=>axios$1.get(`${et}/programs/${_e}`,{headers:{Authorization:`Bearer ${userAccessToken$2}`}}).then(extractData).catch(catchErr),updateProgram=(et,_e,tt)=>axios$1.put(`${et}/programs/${_e}`,tt,{headers:{Authorization:`Bearer ${userAccessToken$2}`}}).then(extractData).catch(catchErr),deleteProgram=(et,_e)=>axios$1.delete(`${et}/programs/${_e}`).catch(catchErr),updateProgramScheduleOrders=(et,_e,tt)=>axios$1.put(`${et}/programs/${_e}/schedules`,tt,{headers:{Authorization:`Bearer ${userAccessToken$2}`}}).then(extractData).catch(catchErr),userAccessToken$1=localStorage.getItem("accessToken"),createProgramSchedule=(et,_e)=>axios$1.post(`${et}/programs/schedules`,_e,{headers:{Authorization:`Bearer ${userAccessToken$1}`}}).then(extractData).catch(catchErr),getProgramSchedules=et=>axios$1.get(`${et}/programs/schedules`,{headers:{Authorization:`Bearer ${userAccessToken$1}`}}).then(extractData).catch(catchErr),getProgramScheduleById=(et,_e)=>axios$1.get(`${et}/programs/schedules/${_e}`,{headers:{Authorization:`Bearer ${userAccessToken$1}`}}).then(extractData).catch(catchErr),updateProgramSchedule=(et,_e,tt)=>axios$1.put(`${et}/programs/schedules/${_e}`,tt,{headers:{Authorization:`Bearer ${userAccessToken$1}`}}).then(extractData).catch(catchErr),deleteProgramSchedule=(et,_e)=>axios$1.delete(`${et}/programs/schedules/${_e}`,{headers:{Authorization:`Bearer ${userAccessToken$1}`}}).catch(catchErr),addSceneToProgram=async(et,_e,tt,rt=60,nt=!0,st=void 0,it={})=>createProgramSchedule(et,{programId:_e,sceneId:tt,duration:rt,skip:nt,description:st,metadata:it}),setConfigMosaic=(et,_e)=>axios$1.post(`${et}/configure-mosaic`,_e).then(extractData).catch(catchErr),getConfigMosaic=et=>axios$1.get(`${et}/configure-mosaic`).then(extractData).catch(catchErr),api={createScene,getScenes,getSceneById,updateScene,deleteScene:deleteScene$1,createProgram,getPrograms,getProgramById,updateProgram,deleteProgram,updateProgramScheduleOrders,createProgramSchedule,getProgramSchedules,getProgramScheduleById,updateProgramSchedule,deleteProgramSchedule,addSceneToProgram,createSource,getSources,getSourceById,updateSource,deleteSource,createMedia,getMedia,getMediaById,updateMedia,deleteMedia,setConfigMosaic,getConfigMosaic},deleteSourceFromScene=({id:et,getSelectedScene:_e,setSources:tt,sendOperation:rt})=>{Swal$1.fire({title:"  ",icon:"warning",showCancelButton:!0,cancelButtonText:"",confirmButtonColor:"limegreen",cancelButtonColor:"#d33",confirmButtonText:""}).then(async nt=>{var st,it;if(nt.isConfirmed){rt("source",{action:"remove",id:et,payload:{}}),tt(ot=>ot.filter(lt=>lt.externalId!==et));let at=(st=_e())==null?void 0:st.layer.find(`#${et}`);if(at){for(let ot=0;ot<at.length;ot++)at[ot].remove();(it=_e())==null||it.layer.draw()}}else return})},removeTransformers=et=>{et.find("Transformer").forEach(_e=>_e.detach())},fitToMonitors=({uniqId:et,selectedMonitors:_e,getSelectedScene:tt,allDataMonitors:rt,sendOperation:nt,id:st})=>{var mt,bt,vt,yt;const it=(mt=tt())==null?void 0:mt.layer.getChildren().find(xt=>xt.attrs.uniqId===et);if(!it){console.error("videoGroup not found");return}const at=(bt=tt())==null?void 0:bt.layer;if(at&&removeTransformers(at),_e.length===0){console.error("No monitors selected");return}const ot=_e.map(xt=>rt[xt]),lt=Math.min(...ot.map(xt=>xt.x)),ct=Math.min(...ot.map(xt=>xt.y)),ut=Math.max(...ot.map(xt=>xt.x+xt.width)),dt=Math.max(...ot.map(xt=>xt.y+xt.height)),ft=lt,ht=ct,pt=ut-lt,gt=dt-ct;it instanceof Konva.Image?(it.position({x:ft,y:ht}),it.width(pt),it.height(gt),it.setAttr("rotation",0),(vt=tt())==null||vt.layer.draw(),nt("source",{action:"resize",id:String(et),payload:{x:ft,y:ht,width:pt,height:gt,rotation:0}})):it instanceof Konva.Group?(it.position({x:ft,y:ht}),it==null||it.getChildren(xt=>{xt instanceof Konva.Rect,xt.width(pt),xt.height(gt)}),it.setAttr("rotation",0),(yt=tt())==null||yt.layer.draw(),nt("source",{action:"resize",id:String(et),payload:{x:ft,y:ht,width:pt,height:gt,rotation:0}})):console.log("videoGroup    ")},byteToHex=[];for(let et=0;et<256;++et)byteToHex.push((et+256).toString(16).slice(1));function unsafeStringify(et,_e=0){return(byteToHex[et[_e+0]]+byteToHex[et[_e+1]]+byteToHex[et[_e+2]]+byteToHex[et[_e+3]]+"-"+byteToHex[et[_e+4]]+byteToHex[et[_e+5]]+"-"+byteToHex[et[_e+6]]+byteToHex[et[_e+7]]+"-"+byteToHex[et[_e+8]]+byteToHex[et[_e+9]]+"-"+byteToHex[et[_e+10]]+byteToHex[et[_e+11]]+byteToHex[et[_e+12]]+byteToHex[et[_e+13]]+byteToHex[et[_e+14]]+byteToHex[et[_e+15]]).toLowerCase()}let getRandomValues;const rnds8=new Uint8Array(16);function rng(){if(!getRandomValues){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");getRandomValues=crypto.getRandomValues.bind(crypto)}return getRandomValues(rnds8)}const randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),native={randomUUID};function v4(et,_e,tt){var nt;if(native.randomUUID&&!_e&&!et)return native.randomUUID();et=et||{};const rt=et.random??((nt=et.rng)==null?void 0:nt.call(et))??rng();if(rt.length<16)throw new Error("Random bytes length must be >= 16");if(rt[6]=rt[6]&15|64,rt[8]=rt[8]&63|128,_e){if(tt=tt||0,tt<0||tt+16>_e.length)throw new RangeError(`UUID byte range ${tt}:${tt+15} is out of buffer bounds`);for(let st=0;st<16;++st)_e[tt+st]=rt[st];return _e}return unsafeStringify(rt)}const addImage=({img:et,mode:_e=!0,getSelectedScene:tt,setSources:rt,sendOperation:nt,url:st,generateBlobImageURL:it})=>{var gt;let at=_e?v4():et.externalId;const ot=(gt=tt())==null?void 0:gt.layer;if(!ot)return;const lt=Number.isFinite(et==null?void 0:et.x)?et.x:0,ct=Number.isFinite(et==null?void 0:et.y)?et.y:0,ut=_e?`image:${st}/${et.content}`:`image:${et.imageElement.src}`;_e&&nt("source",{action:"add",id:String(at),payload:{source:ut,x:lt,y:ct,z:et==null?void 0:et.z,width:et.imageElement.width||et.width,height:et.imageElement.height||et.height,name:et.name,type:"IMAGE",sceneId:tt().id,content:et.content,mediaId:et.id,externalId:at,metadata:{source:ut}}});const dt=new Image;dt.src=et.imageElement.src;const ft=new Konva$1.Image({image:dt,width:_e?et.imageElement.width:et.width,height:_e?et.imageElement.height:et.height,name:"object",id:String(et.id),stroke:"white",strokeWidth:2,uniqId:at,x:0,y:0}),ht=new Konva$1.Text({x:0,y:0,text:`${et.name}
(${et.type})`,fontSize:30,fill:"black",fontFamily:"Arial",uniqId:at,id:String(at),padding:5,align:"center",width:_e?et.imageElement.width:et.width,ellipsis:!0}),pt=new Konva$1.Group({x:_e?lt:et.x,y:_e?ct:et.y,draggable:!1,uniqId:at,id:String(at),rotation:et.rotation||0});pt.add(ft),pt.add(ht),ot.add(pt),pt.on("click",()=>{pt.draggable(!0);const mt=new Konva$1.Transformer({nodes:[pt],enabledAnchors:["top-left","top-right","bottom-left","bottom-right"],rotateEnabled:!0,id:String(at)});mt.flipEnabled(!1),ot.add(mt),mt.attachTo(pt),ot.draw()}),pt.on("dragend",mt=>{const{x:bt,y:vt}=mt.target.position();rt(yt=>yt.map(xt=>xt.uniqId===mt.target.attrs.uniqId?{...xt,x:bt,y:vt,sceneId:tt().id}:xt)),nt("source",{action:"move",id:mt.target.attrs.uniqId,payload:{source:ut,x:bt,y:vt}})}),pt.on("transformend",mt=>{const bt=ft.width()*pt.scaleX(),vt=ft.height()*pt.scaleY(),yt=Math.round(pt.getAttr("rotation")),xt=pt.x(),Et=pt.y();rt(wt=>wt.map($t=>$t.uniqId===mt.target.attrs.uniqId?{...$t,x:xt,y:Et,width:bt,height:vt,rotation:yt,sceneId:tt().id}:$t)),nt("source",{action:"resize",id:mt.target.attrs.uniqId,payload:{source:ut,x:xt,y:Et,width:bt,height:vt,rotation:yt}})}),_e&&rt(mt=>[...mt,{...et,externalId:at,sceneId:tt().id}]),ot.draw(),dt.onerror=()=>{console.error("Failed to load image:",et.imageElement.src)}},addInput=({input:et,mode:_e=!0,getSelectedScene:tt,setSources:rt,sendOperation:nt})=>{var ht,pt;let st=_e?v4():et.externalId,it=((ht=et.metadata)==null?void 0:ht.native)||!1;_e&&Swal$1.fire({title:"    ",icon:"warning",showCancelButton:!0,cancelButtonText:"",confirmButtonColor:"limegreen",cancelButtonColor:"gray",confirmButtonText:""}).then(async gt=>{gt.isConfirmed?it=!1:it=!0});const at=Number.isFinite(et==null?void 0:et.x)?et.x:0,ot=Number.isFinite(et==null?void 0:et.y)?et.y:0,lt=(pt=tt())==null?void 0:pt.layer;if(!lt)return;const ct=new Konva.Group({x:at,y:ot,draggable:!1,id:String(st),type:"INPUT",uniqId:st,rotation:et.rotation||0}),ut=new Konva.Rect({x:0,y:0,width:et.width,height:et.height,fill:"lightblue",id:String(st),stroke:"white",strokeWidth:2,uniqId:st}),dt=new Konva.Text({x:10,y:10,text:`${et.name}
(${et.type})`,fontSize:40,fill:"black",uniqId:st,id:String(st)});ct.add(ut),ct.add(dt),_e&&(nt("source",{action:"add",id:st,payload:{source:"input:"+et.content,x:at,y:ot,z:et==null?void 0:et.z,width:et.width,height:et.height,name:et.name,type:"INPUT",sceneId:tt().id,content:et.content,mediaId:et.id,source:"input:"+et.content,metadata:{native:it}}}),rt(gt=>[...gt,{...et,externalId:st,sceneId:tt().id}])),lt.add(ct),lt.draw();const ft=new Konva.Transformer({nodes:[ct],enabledAnchors:["top-left","top-right","bottom-left","bottom-right"],rotateEnabled:!0,id:String(st)});ft.flipEnabled(!1),ct.on("click",()=>{ct.draggable(!0),lt.add(ft),ft.attachTo(ct),lt.draw()}),ct.on("dragend",gt=>{const{x:mt,y:bt}=gt.target.position();rt(vt=>vt.map(yt=>yt.uniqId===gt.target.attrs.uniqId?{...yt,x:mt,y:bt,sceneId:tt().id}:yt)),nt("source",{action:"move",id:gt.target.attrs.uniqId,payload:{x:ct.x(),y:ct.y()}})}),ct.on("transformend",gt=>{const mt=ut.width()*ct.scaleX(),bt=ut.height()*ct.scaleY(),vt=Math.round(ct.getAttr("rotation")),yt=ct.x(),xt=ct.y();rt(Et=>Et.map(wt=>wt.uniqId===gt.target.attrs.uniqId?{...wt,x:yt,y:xt,width:mt,height:bt,rotation:vt,sceneId:tt().id}:wt)),nt("source",{action:"resize",id:gt.target.attrs.uniqId,payload:{x:yt,y:xt,width:mt,height:bt,rotation:vt}})})},generateLayoutOptions=et=>{const _e=[];for(let tt=1;tt<=et;tt++)for(let rt=1;rt<=et;rt++)tt*rt<=et&&_e.push(`${tt}x${rt}`);return _e},LayoutDropdownArrMonitor=()=>{const{videoWalls:et}=useMyContext(),_e=et.length,tt=generateLayoutOptions(_e);return jsxRuntimeExports.jsx("div",{className:"relative left-0 top-[200px] z-[100]",children:jsxRuntimeExports.jsxs(dropdown_default,{children:[jsxRuntimeExports.jsx(dropdown_trigger_default,{children:jsxRuntimeExports.jsx(button_default,{size:"sm",fullWidth:!0,variant:"solid",color:"primary",children:" "})}),jsxRuntimeExports.jsx(dropdown_menu_default,{"aria-label":" ",color:"secondary",onAction:rt=>{const[nt,st]=rt.split("x").map(Number);arrangeMonitors(nt,st)},children:tt.map(rt=>jsxRuntimeExports.jsx(menu_item_base_default,{children:rt},rt))})]})})},MonitorLayoutModal=()=>{const{isOpen:et,onOpen:_e,onOpenChange:tt,onClose:rt}=useDisclosure(),[nt,st]=reactExports.useState(null),[it,at]=reactExports.useState([]),[ot,lt]=reactExports.useState([]),{videoWalls:ct}=useMyContext(),ut=vt=>{const[yt,xt]=vt.split("x").map(Number);ft(yt,xt),st(vt)},dt=()=>{if(!nt||it.length===0)return"";const[vt,yt]=nt.split("x").map(Number),xt=it[0][0],Et=`${xt.width},${xt.height},60.000`;let wt="",$t="";return it.forEach((St,Pt)=>{St.forEach((At,Rt)=>{At&&($t+=` gridPos=${Rt},${Pt}`,wt+=` out=${At.position.x},${At.position.y}`)})}),`rows=${vt} cols=${yt} res=${Et}${$t} ${wt} rotate=0 overlapcol=0 overlaprow=0`},ft=(vt,yt)=>{let xt=0;const Et=10,wt=ct[0].width,$t=ct[0].height,Tt=[],St=Array.from({length:vt},(Pt,At)=>Array.from({length:yt},(Rt,Ct)=>{if(xt>=ct.length)return null;const Dt=Ct*(wt+Et),Ft=At*($t+Et),Mt=ct[xt];return Tt.push({monitorId:Mt.id,position:{x:Dt,y:Ft}}),xt++,{...Mt,position:{x:Dt,y:Ft}}}));at(St)},ht=(vt,yt,xt)=>{const Et=it.map($t=>$t.map(Tt=>(Tt==null?void 0:Tt.id)===xt.id?null:Tt));Et[vt][yt]={...xt,position:{x:yt*(xt.width+10),y:vt*(xt.height+10)}},at(Et);const wt=Et.flat().filter(Boolean).map($t=>$t.id);lt(wt)},{url:pt}=useMyContext(),gt=()=>{api.getConfigMosaic(pt).then(vt=>console.log(vt)),dt(),rt()},mt=()=>ct,bt=()=>{at([]),lt([]),st(null)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(button_default,{className:"z-[1000]",onPress:_e,children:" "}),jsxRuntimeExports.jsx(modal_default,{className:"min-w-full  min-h-screen !border-none",classNames:{wrapper:"z-[1000] !border-none",body:"!border-none"},scrollBehavior:"inside",isOpen:et,onOpenChange:tt,children:jsxRuntimeExports.jsx(modal_content_default,{className:"w-full",children:vt=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(modal_header_default,{children:" "}),jsxRuntimeExports.jsxs(modal_body_default,{children:[jsxRuntimeExports.jsxs(dropdown_default,{children:[jsxRuntimeExports.jsx(dropdown_trigger_default,{children:jsxRuntimeExports.jsx(button_default,{size:"sm",fullWidth:!0,variant:"solid",color:"primary",children:" "})}),jsxRuntimeExports.jsx(dropdown_menu_default,{"aria-label":" ",color:"secondary",onAction:ut,children:generateLayoutOptions(ct.length).map(yt=>jsxRuntimeExports.jsx(menu_item_base_default,{children:yt},yt))})]}),nt&&jsxRuntimeExports.jsx("div",{className:"monitor-layout",style:{display:"grid",gridTemplateColumns:`repeat(${nt.split("x")[1]}, 1fr)`,gridTemplateRows:`repeat(${nt.split("x")[0]}, 1fr)`,gap:"10px",width:"100%"},children:it.map((yt,xt)=>yt.map((Et,wt)=>jsxRuntimeExports.jsxs("div",{className:"monitor-box",style:{width:"100%",height:"100px",border:"1px solid #ccc",padding:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsx("p",{children:Et&&Et.name||""}),jsxRuntimeExports.jsxs(dropdown_default,{children:[jsxRuntimeExports.jsx(dropdown_trigger_default,{children:jsxRuntimeExports.jsx(button_default,{size:"sm",variant:"solid",children:" "})}),jsxRuntimeExports.jsx(dropdown_menu_default,{children:mt().map($t=>jsxRuntimeExports.jsx(menu_item_base_default,{onPress:()=>ht(xt,wt,$t),children:$t.name},$t.id))})]})]},`${xt}-${wt}`)))}),jsxRuntimeExports.jsx(button_default,{color:"danger",variant:"outline",onPress:bt,style:{marginTop:"20px"},children:"  "})]}),jsxRuntimeExports.jsxs(modal_footer_default,{children:[jsxRuntimeExports.jsx(button_default,{color:"danger",variant:"light",onPress:vt,children:""}),jsxRuntimeExports.jsx(button_default,{color:"primary",onPress:gt,children:""})]})]})})})]})},MonitorPositionEditor=({monitors:et,updateMonitorPosition:_e})=>{const[tt,rt]=reactExports.useState(null),[nt,st]=reactExports.useState(0),[it,at]=reactExports.useState(0),{isOpen:ot,onOpen:lt,onClose:ct,onOpenChange:ut}=useDisclosure(),dt=React.useRef(null),{moveProps:ft}=useDraggable({targetRef:dt,isDisabled:!ot}),ht=gt=>{rt(gt),st(gt.x),at(gt.y),lt()},pt=()=>{tt&&(_e(tt.id,nt,it),rt(null),ct())};return jsxRuntimeExports.jsxs("div",{className:"relative left-0 top-[200px] z-[100] h-[200px] overflow-y-scroll",children:[jsxRuntimeExports.jsx("div",{className:"flex flex-col  gap-2 bg-gray-700 rounded  overflow-scroll",children:et.map(gt=>jsxRuntimeExports.jsxs(button_default,{size:"sm",color:"primary",onPress:()=>ht(gt),className:"m-1",children:[" ",gt.id]}))}),jsxRuntimeExports.jsx(modal_default,{ref:dt,isOpen:ot,onOpenChange:ut,children:jsxRuntimeExports.jsx(modal_content_default,{children:gt=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(modal_header_default,{...ft,className:"flex flex-col gap-1",children:"  "}),jsxRuntimeExports.jsx(modal_body_default,{children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-4",children:[jsxRuntimeExports.jsx(input_default,{type:"number",label:" X",value:nt,onChange:mt=>st(Number(mt.target.value))}),jsxRuntimeExports.jsx(input_default,{type:"number",label:" Y",value:it,onChange:mt=>at(Number(mt.target.value))})]})}),jsxRuntimeExports.jsxs(modal_footer_default,{children:[jsxRuntimeExports.jsx(button_default,{color:"danger",variant:"light",onPress:gt,children:""}),jsxRuntimeExports.jsx(button_default,{color:"primary",onPress:pt,children:""})]})]})})})]})},updateMonitorPosition=(et,_e,tt)=>{let rt=!1;const nt=videoWalls.map(st=>{var it;if(st.id===et){const at={x:_e,y:tt,width:st.width,height:st.height};return videoWalls.forEach(ot=>{if(ot.id===et)return;const lt={x:ot.x,y:ot.y,width:ot.width,height:ot.height};at.x+at.width<=lt.x||at.x>=lt.x+lt.width||at.y+at.height<=lt.y||at.y>=lt.y+lt.height||(rt=!0)}),rt?st:(updateKonvaMonitorPosition((it=getSelectedScene())==null?void 0:it.layer,et,_e,tt),{...st,x:_e,y:tt})}return st});rt?Swal.fire({title:"",text:"     .",icon:"error",confirmButtonText:""}):(arrangeMForScenes(nt),setVideoWalls(nt))},updateKonvaMonitorPosition=(et,_e,tt,rt)=>{const nt=et.findOne(`#monitor-group-${_e}`);if(nt){nt.position({x:tt,y:rt});const st=nt.findOne(".monitorText");st&&st.text(`Monitor ${_e}
X: ${tt}, Y: ${rt}`),et.draw()}},addMonitorsToScenes=({jsonData:et,scenes:_e,setScenes:tt})=>{if(!et||!Array.isArray(et)){Swal$1.fire({title:"",text:"  JSON  .",icon:"error",confirmButtonText:""});return}const rt=5;return _e.map(st=>{const it=st.layer;it&&it.destroyChildren();let at=[...et];return et.forEach((ot,lt)=>{const ct=new Konva$1.Group({x:ot.x,y:ot.y,clip:{x:0,y:0,width:ot.width,height:ot.height},draggable:!1,id:`monitor-group-${ot.id}`,catFix:"monitor",index:2}),ut=new Konva$1.Rect({x:0,y:0,catFix:"monitor",width:ot.width,height:ot.height,fill:ot.connected?"#161616":"red",stroke:"white",name:"fillShape",strokeWidth:3,id:`monitor-${lt}`}),dt=new Konva$1.Text({x:10,y:10,text:ot.connected?`Monitor ${ot.name}`:`Monitor ${ot.id} (Disconnected)`,fontSize:50,fill:"white",align:"left",verticalAlign:"top",name:"monitorText"});if(!ot.connected){const ht=new Konva$1.Text({text:"",fontSize:30,fill:"white",x:ut.width()/2-15,y:ut.height()/2-15,name:"disconnectIcon"});ct.add(ht)}let ft={x:ot.x,y:ot.y};ct.on("dragmove",ht=>{const{x:pt,y:gt}=ht.target.position(),mt=Math.round(pt/rt)*rt,bt=Math.round(gt/rt)*rt;ct.findOne(".monitorText").text(`Monitor ${lt+1}
X: ${mt}, Y: ${bt}`),ht.target.position({x:mt,y:bt})}),ct.on("dragend",ht=>{const pt=ct.getClientRect();let gt=!1;if(it.children.forEach(mt=>{if(mt===ct)return;const bt=mt.getClientRect();pt.x+pt.width<=bt.x||pt.x>=bt.x+bt.width||pt.y+pt.height<=bt.y||pt.y>=bt.y+bt.height||(gt=!0)}),gt)ut.fill("red"),setTimeout(()=>{ut.fill(ot.connected?"#161616":"red"),it.draw()},500),ht.target.position(ft);else{const mt=ht.target.x(),bt=ht.target.y();ft={x:mt,y:bt},at=videoWallsRef.current;const vt=at.findIndex(yt=>yt.id===ot.id);vt!==-1&&(at[vt]={...at[vt],x:mt,y:bt}),arrangeMForScenes$1(at)}it.draw(),setVideoWalls(at)}),ct.add(ut),ct.add(dt),it.add(ct),ct.zIndex(0)}),it.draw(),st})},arrangeMForScenes$1=et=>{let _e=1/0,tt=1/0,rt=null;et.forEach(st=>{(st.x<_e||st.x===_e&&st.y<tt)&&(_e=st.x,tt=st.y,rt=st["Monitor ID"])}),et.forEach(st=>{st.primary=st["Monitor ID"]===rt?"Yes":"No"}),sendOperation("arrange-displays",et.map(st=>({"Monitor ID":st["Monitor ID"],x:st.x,y:st.y,primary:st.primary}))),connectionMode===!0&&setIsLoading(!0);const nt=scenesRef.current.map(st=>{const it=st.layer;return it&&(it.children.forEach(ot=>{if(ot.attrs.catFix==="monitor"){ot.draggable(isToggleVideoWall);const lt=parseInt(ot.id().split("-")[2],10),ct=et.find(ut=>parseInt(ut.id)===lt);if(ct){const{x:ut,y:dt}=ct;ot.position({x:ut,y:dt});const ft=ot.findOne(".monitorText");ft&&ft.text(`Monitor ${lt}
X: ${ut}, Y: ${dt}`)}}}),it.draw()),st});setScenes(nt)},arrangeMonitors$1=(et,_e)=>{let tt=null;const rt=scenes.map(nt=>{const st=nt.layer;if(!st)return nt;const it=st.children,at=it.length,ot=10,lt=[...videoWalls],ct=videoWalls[0].width,ut=videoWalls[0].height;let dt=0;for(let ft=0;ft<et;ft++)for(let ht=0;ht<_e&&!(dt>=at);ht++){const pt=ht*(ct+ot),gt=ft*(ut+ot),mt=it[dt],bt=parseInt(mt.id().split("-")[2],10);mt.position({x:pt,y:gt});const vt=mt.findOne("Text");vt&&vt.text(`Monitor ${bt}
X: ${pt}, Y: ${gt}`);const yt=lt.findIndex(xt=>xt.id===bt);yt!==-1&&(lt[yt]={...lt[yt],x:pt,y:gt}),dt++}return st.draw(),tt=lt,setVideoWalls(lt),nt});setIsLoading(!0),sendOperation("arrange-displays",tt.map((nt,st)=>({"Monitor ID":nt["Monitor ID"],x:nt.x,y:nt.y,primary:st===0?"Yes":"No"}))),setScenes(rt)},generateMonitorsForLayer=(et,_e,tt)=>{if(!et||!_e)return;const rt=5;et&&et.destroyChildren();let nt=[..._e];_e.forEach((st,it)=>{const at=new Konva$1.Group({x:st.x,y:st.y,clip:{x:0,y:0,width:st.width,height:st.height},draggable:!0,id:`monitor-group-${st.id}`,catFix:"monitor"}),ot=st.connected;tt(ot);const lt=new Konva$1.Rect({x:0,y:0,catFix:"monitor",width:st.width,height:st.height,fill:ot?"#161616":"red",stroke:"white",name:"fillShape",strokeWidth:3,id:`monitor-${st.id}`}),ct=new Konva$1.Text({x:10,y:10,text:ot?`Monitor ${st.name}`:`Monitor ${st.name} (Disconnected)`,fontSize:50,fill:"white",align:"left",verticalAlign:"top",name:"monitorText"});if(!ot){const dt=new Konva$1.Text({text:"",fontSize:30,fill:"white",x:st.width/2-15,y:st.height/2-15,name:"disconnectIcon"});at.add(dt)}let ut={x:st.x,y:st.y};at.on("dragmove",dt=>{const{x:ft,y:ht}=dt.target.position(),pt=Math.round(ft/rt)*rt,gt=Math.round(ht/rt)*rt;at.findOne(".monitorText").text(`Monitor ${it+1}
X: ${pt}, Y: ${gt}`),dt.target.position({x:pt,y:gt})}),at.on("dragend",dt=>{const ft=at.getClientRect();let ht=!1;if(et.children.forEach(pt=>{if(pt===at)return;const gt=pt.getClientRect();ft.x+ft.width<=gt.x||ft.x>=gt.x+gt.width||ft.y+ft.height<=gt.y||ft.y>=gt.y+gt.height||(ht=!0)}),ht)lt.fill("red"),setTimeout(()=>{lt.fill(ot?"#161616":"red"),et.draw()},500),dt.target.position(ut);else{const pt=dt.target.x(),gt=dt.target.y();ut={x:pt,y:gt},nt=videoWallsRef.current;const mt=nt.findIndex(bt=>bt.id===st.id);mt!==-1&&(nt[mt]={...nt[mt],x:pt,y:gt}),arrangeMForScenes$1(nt)}et.draw(),setVideoWalls(nt)}),at.add(lt),at.add(ct),et.add(at),at.zIndex(0)}),et.draw()};function coerceNumber(et,_e){const tt=Number(et);return Number.isFinite(tt)?tt:_e}function openMarqueeSettingsModal({initial:et}){return Swal$1.fire({title:" ",html:`
      <div style="text-align:right;">
        <div style="display:flex; flex-direction:column; gap:8px">
          <div style="flex:1">
            <label>  (px):</label>
            <input id="mq-w" class="swal2-input" type="number" min="50" step="10" value="${et.width??400}">
          </div>
          <div style="flex:1">
            <label>  (px):</label>
            <input id="mq-h" class="swal2-input" type="number" min="20" step="5" value="${et.height??50}">
          </div>
        </div>
        <div style="display:flex; flex-direction: column; gap:8px">
          <div style="flex:1">
            <label> (px/sec):</label>
            <input id="mq-speed" class="swal2-input" type="number" min="10" step="5" value="${et.speed??80}">
          </div>
          <div style="flex:1">
            <label> :</label>
            <select id="mq-dir" class="swal2-select">
              <option value="rtl" ${et.dir==="rtl"?"selected":""}>   (RTL)</option>
              <option value="ltr" ${et.dir==="ltr"?"selected":""}>   (LTR)</option>
            </select>
          </div>
        </div>
        <div style="margin-top:8px">
          <label> :</label>
          <input id="mq-bg" class="swal2-input" type="color" value="${et.bg??"#ffffff"}">
        </div>
      </div>
    `,showCancelButton:!0,confirmButtonColor:"green",confirmButtonText:"",cancelButtonColor:"red",cancelButtonText:"",focusConfirm:!1,preConfirm:_e=>{const tt=Number(document.getElementById("mq-w").value),rt=Number(document.getElementById("mq-h").value),nt=Number(document.getElementById("mq-speed").value),st=document.getElementById("mq-dir").value||"rtl",it=document.getElementById("mq-bg").value||"#ffffff";return{width:Number.isFinite(tt)?tt:400,height:Number.isFinite(rt)?rt:50,speed:Number.isFinite(nt)?nt:80,dir:st,bg:it}}})}async function showTextContextMenu({group:et,textNode:_e,layer:tt,setSources:rt,sendOperation:nt}){const st=!!et.getAttr("_marquee"),it=et.getAttr("_marqueeCfg")||{width:(_e==null?void 0:_e.width())||200,height:50,speed:80,dir:"rtl",bg:"#ffffff"},at=et.id(),ot=await Swal$1.fire({title:" ",showCancelButton:!0,cancelButtonColor:"red",cancelButtonText:"",showDenyButton:!0,denyButtonColor:st?"#ef4444":"black",denyButtonText:st?" ":" ",confirmButtonColor:"black",confirmButtonText:" ",footer:`
      <button id="btn-edit" class="swal2-confirm swal2-styled" style="background:#2563eb;margin-top:6px">
         /
      </button>
      <button id="btn-del" class="swal2-confirm swal2-styled" style="background:#ef4444;margin-top:6px">
        
      </button>
    `,didOpen:()=>{const lt=document.getElementById("btn-del");lt&&lt.addEventListener("click",async()=>{Swal$1.close(),et.destroy(),tt.draw(),rt(ut=>ut.filter(dt=>dt.externalId!==at)),nt("source",{action:"remove",id:at,payload:{}})});const ct=document.getElementById("btn-edit");ct&&ct.addEventListener("click",async()=>{Swal$1.close();const ut=!!et.getAttr("_marquee"),dt=et.getAttr("_marqueeCfg")||null;if(ut){try{stopMarquee(et)}catch(gt){console.warn("stopMarquee error:",gt)}tt&&tt.batchDraw()}let ft=et.findOne("Text")||et.findOne(".marqueeInner Text");if(ft||(ft=et.findOne(".marqueeInner Text")),!ft){console.warn("No text node to edit"),ut&&dt&&startMarquee(et,et.findOne("Text")||ft,dt);return}const{isConfirmed:ht,value:pt}=await openTextEditorModal({initial:{text:ft.text(),fontSize:ft.fontSize(),fill:ft.fill(),align:ft.align(),dir:ft.direction?ft.direction():"rtl"}});if(!ht){ut&&dt&&setTimeout(()=>{startMarquee(et,et.findOne("Text")||ft,dt),tt&&tt.batchDraw()},8);return}try{const gt=pt.text??"";if(ft.text(gt),ft.fontSize(coerceNumber(pt.fontSize,ft.fontSize())),ft.fill(pt.fill),ft.align(pt.align),typeof ft.direction=="function"&&ft.direction(pt.dir),typeof ft.clearCache=="function")try{ft.clearCache()}catch{}const mt=et.findOne(".marqueeBG")||et.findOne("Rect");mt&&(mt.width(ft.width()),mt.height(ft.height())),tt&&tt.batchDraw(),ut&&dt&&setTimeout(()=>{startMarquee(et,ft,dt),tt&&tt.batchDraw()},8);const bt=et.id();nt("source",{action:"update",id:bt,payload:{content:gt,metadata:{style:{color:ft.fill(),fontSize:ft.fontSize(),dir:pt.dir,align:pt.align}}}})}catch(gt){console.error("apply edit error:",gt)}})}});if(ot.isDenied){if(st){stopMarquee(et);const{x:lt,y:ct}=et.position();nt("source",{action:"update",id:at,payload:{x:lt,y:ct,metadata:{bgColor:"transparent",marquee:{enabled:!1}},width:_e==null?void 0:_e.width(),height:_e==null?void 0:_e.height()}})}else{startMarquee(et,_e,it);const lt=et.getAttr("_marqueeCfg")||computeMarqueeCfgFromText(et,_e);et.setAttr("_marqueeCfg",lt),startMarquee(et,_e,lt);const{x:ct,y:ut}=et.position();nt("source",{action:"update",id:at,payload:{x:ct,y:ut,metadata:{bgColor:lt.bg,marquee:{enabled:!0}},width:lt.width,height:lt.height}})}tt.draw();return}if(ot.isConfirmed){const{isConfirmed:lt,value:ct}=await openMarqueeSettingsModal({initial:it});if(!lt)return;startMarquee(et,_e,ct),nt("source",{action:"update",id:at,payload:{width:ct.width,height:ct.height,metadata:{bgColor:ct.bg,marquee:{enabled:!0,dir:ct.dir,speed:ct.speed}}}})}}function openTextContextMenuById(et,{getSelectedScene:_e,setSources:tt,sendOperation:rt}){const nt=_e==null?void 0:_e(),st=nt==null?void 0:nt.layer;if(!st)return;const it=st.findOne(`#${et}`);if(!it)return;let at=it.findOne(".marqueeInner Text")||it.findOne("Text");at&&showTextContextMenu({group:it,textNode:at,layer:st,setSources:tt,sendOperation:rt})}function openTextEditorModal({initial:et}){return Swal$1.fire({title:" ",html:`
      <div style="text-align:right">
        <label>:</label>
        <textarea id="txt-content" class="swal2-textarea" rows="3">${et.text??""}</textarea>
        <div style="display:flex; gap:8px; margin-top:8px">
          <div style="flex:1">
            <label> :</label>
            <input id="txt-fontsize" class="swal2-input" type="number" min="8" step="1" value="${et.fontSize??40}">
          </div>
          <div style="flex:1">
            <label>:</label>
            <input id="txt-color" class="swal2-input" type="color" value="${et.fill??"#ffffff"}">
          </div>
        </div>
        <div style="margin-top:8px">
          <label>:</label>
          <select id="txt-align" class="swal2-select">
            <option value="left" ${et.align==="left"?"selected":""}></option>
            <option value="center" ${et.align==="center"?"selected":""}></option>
            <option value="right" ${et.align==="right"?"selected":""}></option>
          </select>
        </div>
         <div style="margin-top:8px">
          <label>/:</label>
          <select id="txt-dir" class="swal2-select">
            <option value="rtl" >rtl</option>
            <option value="ltr" >ltr</option>
          </select>
        </div>
      </div>
    `,showCancelButton:!0,confirmButtonColor:"green",confirmButtonText:"",cancelButtonColor:"red",cancelButtonText:"",focusConfirm:!1,preConfirm:()=>{const _e=document.getElementById("txt-content").value??"",tt=coerceNumber(document.getElementById("txt-fontsize").value,40),rt=document.getElementById("txt-color").value||"#ffffff",nt=document.getElementById("txt-align").value||"left",st=document.getElementById("txt-dir").value||"rtl";return{text:_e,fontSize:tt,fill:rt,align:nt,dir:st}}})}function hexToRgba(et,_e=1){let tt=et.replace("#","").trim();tt.length===3&&(tt=tt.split("").map(at=>at+at).join(""));const rt=parseInt(tt,16),nt=rt>>16&255,st=rt>>8&255,it=rt&255;return`rgba(${nt}, ${st}, ${it}, ${_e})`}function normalizeForMarquee(et){if(typeof et!="string")return{normalized:et,changed:!1};const _e=et.replace(/[\r\n]+/g," ").replace(/\s{2,}/g," ").trim();return{normalized:_e,changed:_e!==et}}function bindSelectionRelay(et,..._e){_e.forEach(tt=>{tt&&(tt.listening(!0),tt.off(".marquee"),tt.on("mousedown.marquee touchstart.marquee",rt=>{rt.cancelBubble=!0,et.draggable(!0),et.fire("click",{evt:rt.evt}),et.startDrag()}),tt.on("click.marquee tap.marquee",rt=>{rt.cancelBubble=!0,et.fire("click",{evt:rt.evt})}))})}function startMarquee(et,_e,tt){stopMarquee(et);const rt=et.getLayer();if(!rt||!_e)return;const nt=Number.isFinite(tt==null?void 0:tt.width)?tt.width:400,st=Number.isFinite(tt==null?void 0:tt.height)?tt.height:50,it=Number.isFinite(tt==null?void 0:tt.speed)?tt.speed:80,at=(tt==null?void 0:tt.dir)==="ltr"?"ltr":"rtl",ot=(tt==null?void 0:tt.bg)||"#000000",lt=_e.getAttr("width")!=null,ct=typeof _e.wrap=="function"?_e.wrap():"word",ut=_e.text();et.setAttr("_textPrev",{x:_e.x(),y:_e.y(),wrap:ct,hadExplicitWidth:lt,width:lt?_e.width():null,rawText:ut});const{normalized:dt,changed:ft}=normalizeForMarquee(ut);ft&&_e.text(dt),typeof _e.wrap=="function"&&_e.wrap("none"),typeof _e.ellipsis=="function"&&_e.ellipsis(!1),lt&&_e.setAttr("width",void 0);let ht=et.findOne(".marqueeViewport");ht?ht.clip({x:0,y:0,width:nt,height:st}):(ht=new Konva$1.Group({name:"marqueeViewport",clip:{x:0,y:0,width:nt,height:st},listening:!1}),et.add(ht));let pt=et.findOne(".marqueeBG");pt?(pt.width(nt),pt.height(st),pt.fill(hexToRgba(ot,1))):(pt=new Konva$1.Rect({name:"marqueeBG",x:0,y:0,width:nt,height:st,fill:hexToRgba(ot,1),stroke:"white",strokeWidth:1,listening:!0}),et.add(pt),pt.moveToBottom());let gt=ht.findOne(".marqueeInner");gt?gt.removeChildren():(gt=new Konva$1.Group({name:"marqueeInner",listening:!1}),ht.add(gt)),gt.add(_e),_e.y((st-_e.height())/2),at==="rtl"?gt.x(nt):gt.x(-_e.width()),gt.y(0);const mt=new Konva$1.Animation(bt=>{const vt=((bt==null?void 0:bt.timeDiff)??16)/1e3,yt=it*vt;at==="rtl"?(gt.x(gt.x()-yt),gt.x()+_e.width()<0&&gt.x(nt)):(gt.x(gt.x()+yt),gt.x()>nt&&gt.x(-_e.width()))},rt);mt.start(),et.setAttr("_marqueeAnim",mt),et.setAttr("_marquee",!0),et.setAttr("_marqueeCfg",{width:nt,height:st,speed:it,dir:at,bg:ot}),rt.batchDraw(),bindSelectionRelay(et,pt,ht,gt,_e)}function stopMarquee(et){if(!et)return;const _e=et.getAttr("_marqueeAnim");_e&&_e.stop&&_e.stop();const tt=et.findOne(".marqueeViewport"),rt=tt==null?void 0:tt.findOne(".marqueeInner"),nt=et.findOne(".marqueeBG");let st=(rt==null?void 0:rt.findOne("Text"))||et.findOne("Text");st&&rt&&(st.remove(),et.add(st));const it=et.getAttr("_textPrev")||{};if(st){typeof it.rawText=="string"&&st.text(it.rawText);const ot=Number.isFinite(it.x)?it.x:0,lt=Number.isFinite(it.y)?it.y:0;st.position({x:ot,y:lt}),typeof st.wrap=="function"&&st.wrap(it.wrap??"word"),it.hadExplicitWidth?st.width(it.width):st.setAttr("width",void 0)}nt&&nt.destroy(),tt&&tt.destroy(),et.setAttr("_marqueeAnim",null),et.setAttr("_marquee",!1),et.setAttr("_marqueeCfg",null),et.setAttr("_textPrev",null);const at=et.getLayer();at&&at.batchDraw()}const addText=({textItem:et,mode:_e=!0,getSelectedScene:tt,setSources:rt,sendOperation:nt})=>{var yt,xt,Et,wt,$t,Tt;const st=tt==null?void 0:tt(),it=st==null?void 0:st.layer;if(st==null||st.stageData,!it)return;const at=_e?v4():et.externalId,ot=Number.isFinite(et==null?void 0:et.x)?et.x:0,lt=Number.isFinite(et==null?void 0:et.y)?et.y:0;let ct="";et.type==="TEXT"?ct=et.text??et.content??" ":et.type==="RSS"&&(ct=et.metadata.rssContent??et.text??et.content??" ");const ut=et.metadata.style.color??"#ffffff",dt=coerceNumber(et.metadata.style.fontSize,40),ft=et.metadata.style.align??"left",ht=et.rotation||0,pt=new Konva$1.Text({text:ct,x:0,y:0,fontFamily:"IRANSans, Vazirmatn, Arial",fontSize:dt,fill:ut,align:ft,padding:6,listening:!0,name:"object",uniqId:at}),gt=new Konva$1.Rect({x:0,y:0,width:pt.width(),height:pt.height(),fill:"rgba(255,255,255,0.04)",stroke:"white",strokeWidth:1,listening:!1}),mt=new Konva$1.Group({x:ot,y:lt,draggable:!1,id:String(at),uniqId:at,rotation:ht});mt.add(pt),it.add(mt),it.draw(),_e&&nt("source",{action:"add",id:String(at),payload:{type:et.type,name:et.name??et.type,x:ot,y:lt,z:et==null?void 0:et.z,width:pt.width()??et.width??void 0,height:pt.height()??et.height??void 0,rotation:ht,sceneId:st.id,mediaId:et.id,externalId:at,content:ct,source:`${et.type.toLowerCase()}:${et.content}`,metadata:{rssContent:et.metadata.rssContent||[],bgColor:((yt=et.metadata)==null?void 0:yt.bgColor)??"#ffffff",style:{dir:et.metadata.style.dir||"rtl",fontFamily:et.metadata.style.fontFamily||"Vazirmatn, IRANSans, Arial",fontSize:et.metadata.style.fontSize||20,color:et.metadata.style.color||"#000000"},marquee:{enabled:et.metadata.marquee.enabled||!1,scrollDirection:et.metadata.marquee.scrollDirection||"rtl",speed:((Et=(xt=et.metadata)==null?void 0:xt.marquee)==null?void 0:Et.speed)??90}}}});function bt(){gt.width(pt.width()),gt.height(pt.height()),gt.fill("rgba(255,255,255,0.04)"),gt.stroke("white"),gt.strokeWidth(1)}bt(),et.metadata.marquee.enabled==!0&&startMarquee(mt,pt,{bg:((wt=et.metadata)==null?void 0:wt.bgColor)??"#ffffff",dir:et.metadata.marquee.scrollDirection||"rtl",speed:((Tt=($t=et.metadata)==null?void 0:$t.marquee)==null?void 0:Tt.speed)??90,width:et.width??100,height:et.height??50});const vt=new Konva$1.Transformer({nodes:[mt],enabledAnchors:[],rotateEnabled:!0,keepRatio:!0,id:String(at)});vt.flipEnabled(!1),mt.on("click",()=>{mt.getAttr("_marquee"),mt.draggable(!0),it.add(vt),vt.attachTo(mt),it.draw()}),mt.on("dragend",St=>{const{x:Pt,y:At}=St.target.position();rt(Rt=>Rt.map(Ct=>Ct.externalId===at?{...Ct,x:Pt,y:At,sceneId:st.id}:Ct)),nt("source",{action:"move",id:St.target.attrs.uniqId,payload:{x:Pt,y:At}})}),vt.on("transformend",St=>{const Pt=vt.nodes();Pt&&Pt[0]&&Pt[0];const At=mt.scaleX(),Rt=mt.scaleY(),Ct=Number.isFinite(Rt)&&Rt>0?Rt:Number.isFinite(At)&&At>0?At:1,Dt=pt.fontSize(),Ft=Math.max(8,Math.round(Dt*Ct));pt.fontSize(Ft),mt.scale({x:1,y:1}),mt.rotation(St.target.attrs.rotation);const Mt=Math.round(mt.rotation()),{x:Ot,y:jt}=mt.position();rt(Ut=>Ut.map(_t=>_t.externalId===at?{..._t,x:Ot,y:jt,rotation:Mt,metadata:{style:{fontSize:Ft}},sceneId:st.id}:_t)),nt("source",{action:"update",id:at,payload:{x:Ot,y:jt,rotation:Mt,width:pt.width()*mt.scaleX(),height:pt.height()*mt.scaleY(),metadata:{style:{fontSize:Ft}}}}),it.batchDraw()}),mt.on("contextmenu",async St=>{St.evt.preventDefault(),mt.stopDrag(),mt.draggable(!1);const Pt=mt.getLayer(),At=mt.findOne(".marqueeInner Text")||mt.findOne("Text");!Pt||!At||showTextContextMenu({group:mt,textNode:At,layer:Pt,setSources:rt,sendOperation:nt})}),_e&&rt(St=>[...St,{...et,type:et.type,externalId:at,sceneId:st.id,x:ot,y:lt,text:ct,fontSize:dt,fill:ut,align:ft}])},addVideo=({videoElement:et,mode:_e=!0,getSelectedScene:tt,setSources:rt,sendOperation:nt,url:st,loopVideos:it})=>{var ft,ht,pt;let at=_e?v4():et.externalId;const ot=Number.isFinite(et==null?void 0:et.x)?et.x:0,lt=Number.isFinite(et==null?void 0:et.y)?et.y:0,ct=(ft=tt())==null?void 0:ft.layer;let ut=null;if(_e&&(ut=(ht=tt())==null?void 0:ht.stageData),!ct)return;new Konva$1.Animation(function(){},ct);const dt=et.type==="VIDEO"?_e?`video:${st}/${et.content}`:`video:${et.videoElement.src}`:`video:${et.content}`;if(_e&&nt("source",{action:"add",id:String(at),payload:{source:dt,x:ot,y:lt,z:et==null?void 0:et.z,width:et.videoElement.width||et.videoElement.videoWidth,height:et.videoElement.height||et.videoElement.videoHeight,name:et.name,type:et.type,sceneId:tt().id,content:et.content,mediaId:et.id,externalId:at,metadata:{}}}),_e){const gt=new Konva$1.Text({x:0,y:0,text:`${et.name}
(${et.type})`,fontSize:30,fill:"black",fontFamily:"Arial",padding:5,id:String(at),uniqId:at,align:"center",width:et.videoElement.videoWidth,ellipsis:!0}),mt=new Konva$1.Group({x:_e?ot:et.x,y:_e?lt:et.y,draggable:!1,id:String(at),uniqId:at,rotation:et.rotation||0}),bt=new Konva$1.Image({image:et.videoElement,width:et.videoElement.width||et.videoElement.videoWidth,height:et.videoElement.height||et.videoElement.videoHeight,name:"object",fill:"gray",id:String(et.id),uniqId:at,stroke:"white",strokeWidth:2,x:0,y:0});mt.add(bt),mt.add(gt),ct.add(mt),rt(yt=>[...yt,{...et,externalId:at,sceneId:tt().id}]),ut.add(ct);const vt=new Konva$1.Transformer({nodes:[mt],enabledAnchors:["top-left","top-right","bottom-left","bottom-right"],rotateEnabled:!0,id:String(at)});vt.flipEnabled(!1),mt.on("click",()=>{mt.draggable(!0),ct.add(vt),vt.attachTo(mt),ct.draw()}),vt.on("transformend",yt=>{const xt=bt.width()*mt.scaleX(),Et=bt.height()*mt.scaleY(),wt=Math.round(mt.getAttr("rotation")),$t=mt.x(),Tt=mt.y();nt("source",{action:"resize",id:yt.target.attrs.uniqId,payload:{x:$t,y:Tt,width:xt,height:Et,rotation:wt}}),rt(St=>St.map(Pt=>Pt.uniqId===yt.target.attrs.uniqId?{...Pt,x:$t,y:Tt,width:xt,height:Et,rotation:wt,sceneId:tt().id}:Pt))}),mt.on("dragend",yt=>{const{x:xt,y:Et}=yt.target.position();rt(wt=>wt.map($t=>$t.uniqId===yt.target.attrs.uniqId?{...$t,x:xt,y:Et,sceneId:tt().id}:$t)),nt("source",{action:"move",id:yt.target.attrs.uniqId,payload:{x:xt,y:Et}}),ct.draw()}),et.videoElement.loop=!0,et.videoElement.muted=!0}else{const gt=et.videoElement;gt.muted=!0,gt.defaultMuted=!0,gt.volume=0,gt.playsInline=!0,gt.webkitPlaysInline=!0,gt.setAttribute("muted",""),gt.setAttribute("playsinline",""),gt.crossOrigin=gt.crossOrigin||"anonymous";const mt=new Konva$1.Text({x:0,y:0,text:`${et.name}
(${et.type})`,fontSize:30,fill:"black",fontFamily:"Arial",padding:5,id:String(at),uniqId:at,align:"center",width:et.width,ellipsis:!0}),bt=new Konva$1.Group({x:_e?ot:et.x,y:_e?lt:et.y,draggable:!1,uniqId:at,id:String(at),rotation:et.rotation||0}),vt=et.width||gt.videoWidth||640,yt=et.height||gt.videoHeight||360,xt=new Konva$1.Image({image:gt,width:vt,height:yt,name:"object",fill:"gray",id:String(at),stroke:"white",strokeWidth:2,uniqId:at,x:0,y:0});bt.add(xt),bt.add(mt),(pt=tt())==null||pt.layer,ct.add(bt),_e&&ut.add(ct);const Et=new Konva$1.Transformer({nodes:[bt],enabledAnchors:["top-left","top-right","bottom-left","bottom-right"],rotateEnabled:!0,id:String(at)});Et.flipEnabled(!1),bt.on("click",()=>{bt.draggable(!0),ct.add(Et),Et.attachTo(bt),ct.draw()}),Et.on("transformend",wt=>{const $t=xt.width()*bt.scaleX(),Tt=xt.height()*bt.scaleY(),St=Math.round(bt.getAttr("rotation")),Pt=bt.x(),At=bt.y();nt("source",{action:"resize",id:wt.target.attrs.uniqId,payload:{x:Pt,y:At,width:$t,height:Tt,rotation:St}}),rt(Rt=>Rt.map(Ct=>Ct.uniqId===wt.target.attrs.uniqId?{...Ct,x:Pt,y:At,width:$t,height:Tt,rotation:St,sceneId:tt().id}:Ct))}),bt.on("dragend",wt=>{const{x:$t,y:Tt}=wt.target.position();rt(St=>St.map(Pt=>Pt.uniqId===wt.target.attrs.uniqId?{...Pt,x:$t,y:Tt,sceneId:tt().id}:Pt)),nt("source",{action:"move",id:wt.target.attrs.uniqId,payload:{x:$t,y:Tt}}),ct.draw()}),gt.loop=!0}},playVideo=({id:et,sources:_e=[]})=>{const tt=_e.find(rt=>String(rt.externalId)===String(et)||String(rt.uniqId)===String(et)||String(rt.id)===String(et));if(tt!=null&&tt.videoElement)try{tt.videoElement.muted=!0,tt.videoElement.play()}catch{}},pauseVideo=({id:et,sources:_e=[]})=>{const tt=_e.find(rt=>String(rt.externalId)===String(et)||String(rt.uniqId)===String(et)||String(rt.id)===String(et));if(tt!=null&&tt.videoElement)try{tt.videoElement.pause()}catch{}},toggleLoopVideo=({id:et,sources:_e=[]})=>{const tt=_e.find(rt=>String(rt.externalId)===String(et)||String(rt.uniqId)===String(et)||String(rt.id)===String(et));tt!=null&&tt.videoElement&&(tt.videoElement.loop=!tt.videoElement.loop)},addWeb=async({webResource:et,mode:_e=!0,getSelectedScene:tt,setSources:rt,sendOperation:nt,url:st})=>{var $t,Tt,St;const{id:it,content:at,x:ot,y:lt,width:ct,height:ut,externalId:dt,mediaId:ft,rotation:ht}=et,pt=Number.isFinite(et==null?void 0:et.x)?et.x:0,gt=Number.isFinite(et==null?void 0:et.y)?et.y:0;let mt=_e?v4():dt;const bt=($t=tt())==null?void 0:$t.layer;let vt=null;if(_e&&(vt=(Tt=tt())==null?void 0:Tt.stageData,nt("source",{action:"add",id:String(mt),payload:{source:"iframe:"+at,x:pt,y:gt,z:et==null?void 0:et.z,width:1920,height:1080,name:at,type:"IFRAME",sceneId:(St=tt())==null?void 0:St.id,externalId:mt,mediaId:it,content:at,metadata:{source:"iframe:"+at}}})),!bt)return;const yt=new Konva$1.Group({x:_e?pt:ot,y:_e?gt:lt,draggable:!1,id:String(mt),uniqId:mt,rotation:ht||0}),xt=new Konva$1.Rect({width:ct,height:ut,fill:"lightgray",strokeWidth:2,stroke:"white",uniqId:mt}),Et=new Konva$1.Text({text:at,fontSize:30,fontFamily:"Arial",fill:"black",align:"center",verticalAlign:"middle",padding:10,wrap:"word",width:ct,ellipsis:!0}),wt=new Konva$1.Transformer({nodes:[yt],enabledAnchors:["top-left","top-right","bottom-left","bottom-right"],rotateEnabled:!0,id:String(mt)});wt.flipEnabled(!1),yt.on("click",()=>{yt.draggable(!0),bt.add(wt),wt.attachTo(yt),bt.draw()}),yt.on("dragend",Pt=>{const{x:At,y:Rt}=Pt.target.position();rt(Ct=>Ct.map(Dt=>Dt.uniqId===Pt.target.attrs.uniqId?{...Dt,x:At,y:Rt,sceneId:tt().id}:Dt)),nt("source",{action:"move",id:Pt.target.attrs.uniqId,payload:{x:yt.x(),y:yt.y()}})}),yt.on("transformend",Pt=>{const At=xt.width()*yt.scaleX(),Rt=xt.height()*yt.scaleY(),Ct=Math.round(yt.getAttr("rotation")),Dt=yt.x(),Ft=yt.y();rt(Mt=>Mt.map(Ot=>Ot.uniqId===Pt.target.attrs.uniqId?{...Ot,x:Dt,y:Ft,width:At,height:Rt,rotation:Ct,sceneId:tt().id}:Ot)),nt("source",{action:"resize",id:Pt.target.attrs.uniqId,payload:{x:Dt,y:Ft,width:At,height:Rt,rotation:Ct}})}),yt.add(xt),yt.add(Et),bt.add(yt),_e&&rt(Pt=>[...Pt,{...et,externalId:mt,sceneId:tt().id}]),bt.add(yt),_e&&vt.add(bt),bt.draw()},editWeb=et=>{Swal$1.fire({title:" URL:",input:"url",inputValue:et.content,showCancelButton:!0,confirmButtonColor:"limegreen",cancelButtonColor:"#d33",confirmButtonText:""}).then(_e=>{_e.isConfirmed&&_e.value&&setScenes(tt=>tt.map(rt=>rt.id===selectedScene?{...rt,resources:rt.resources.map(nt=>nt.id===et.id?{...nt,webURL:_e.value,name:_e.value}:nt)}:rt))})};function MdDelete(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(et)}function MdInput(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21 3.01H3c-1.1 0-2 .9-2 2V9h2V4.99h18v14.03H3V15H1v4.01c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98v-14a2 2 0 0 0-2-2zM11 16l4-4-4-4v3H1v2h10v3z"},child:[]}]})(et)}function MdLogout(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"},child:[]}]})(et)}function MdAddBox(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"},child:[]}]})(et)}function MdCollectionsBookmark(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6z"},child:[]},{tag:"path",attr:{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 10-2.5-1.5L15 12V4h5v8z"},child:[]}]})(et)}function MdEdit(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"},child:[]}]})(et)}function MdWindow(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 11V3H5c-1.1 0-2 .9-2 2v6h8zm2 0h8V5c0-1.1-.9-2-2-2h-6v8zm-2 2H3v6c0 1.1.9 2 2 2h6v-8zm2 0v8h6c1.1 0 2-.9 2-2v-6h-8z"},child:[]}]})(et)}function BsDatabaseFillAdd(et){return GenIcon({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7m.5-5v1h1a.5.5 0 0 1 0 1h-1v1a.5.5 0 0 1-1 0v-1h-1a.5.5 0 0 1 0-1h1v-1a.5.5 0 0 1 1 0M8 1c-1.573 0-3.022.289-4.096.777C2.875 2.245 2 2.993 2 4s.875 1.755 1.904 2.223C4.978 6.711 6.427 7 8 7s3.022-.289 4.096-.777C13.125 5.755 14 5.007 14 4s-.875-1.755-1.904-2.223C11.022 1.289 9.573 1 8 1"},child:[]},{tag:"path",attr:{d:"M2 7v-.839c.457.432 1.004.751 1.49.972C4.722 7.693 6.318 8 8 8s3.278-.307 4.51-.867c.486-.22 1.033-.54 1.49-.972V7c0 .424-.155.802-.411 1.133a4.51 4.51 0 0 0-4.815 1.843A12 12 0 0 1 8 10c-1.573 0-3.022-.289-4.096-.777C2.875 8.755 2 8.007 2 7m6.257 3.998L8 11c-1.682 0-3.278-.307-4.51-.867-.486-.22-1.033-.54-1.49-.972V10c0 1.007.875 1.755 1.904 2.223C4.978 12.711 6.427 13 8 13h.027a4.55 4.55 0 0 1 .23-2.002m-.002 3L8 14c-1.682 0-3.278-.307-4.51-.867-.486-.22-1.033-.54-1.49-.972V13c0 1.007.875 1.755 1.904 2.223C4.978 15.711 6.427 16 8 16c.536 0 1.058-.034 1.555-.097a4.5 4.5 0 0 1-1.3-1.905"},child:[]}]})(et)}function BsDatabaseFill(et){return GenIcon({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M3.904 1.777C4.978 1.289 6.427 1 8 1s3.022.289 4.096.777C13.125 2.245 14 2.993 14 4s-.875 1.755-1.904 2.223C11.022 6.711 9.573 7 8 7s-3.022-.289-4.096-.777C2.875 5.755 2 5.007 2 4s.875-1.755 1.904-2.223"},child:[]},{tag:"path",attr:{d:"M2 6.161V7c0 1.007.875 1.755 1.904 2.223C4.978 9.71 6.427 10 8 10s3.022-.289 4.096-.777C13.125 8.755 14 8.007 14 7v-.839c-.457.432-1.004.751-1.49.972C11.278 7.693 9.682 8 8 8s-3.278-.307-4.51-.867c-.486-.22-1.033-.54-1.49-.972"},child:[]},{tag:"path",attr:{d:"M2 9.161V10c0 1.007.875 1.755 1.904 2.223C4.978 12.711 6.427 13 8 13s3.022-.289 4.096-.777C13.125 11.755 14 11.007 14 10v-.839c-.457.432-1.004.751-1.49.972-1.232.56-2.828.867-4.51.867s-3.278-.307-4.51-.867c-.486-.22-1.033-.54-1.49-.972"},child:[]},{tag:"path",attr:{d:"M2 12.161V13c0 1.007.875 1.755 1.904 2.223C4.978 15.711 6.427 16 8 16s3.022-.289 4.096-.777C13.125 14.755 14 14.007 14 13v-.839c-.457.432-1.004.751-1.49.972-1.232.56-2.828.867-4.51.867s-3.278-.307-4.51-.867c-.486-.22-1.033-.54-1.49-.972"},child:[]}]})(et)}function BsEyeSlash(et){return GenIcon({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7 7 0 0 0-2.79.588l.77.771A6 6 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755q-.247.248-.517.486z"},child:[]},{tag:"path",attr:{d:"M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829"},child:[]},{tag:"path",attr:{d:"M3.35 5.47q-.27.24-.518.487A13 13 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7 7 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12z"},child:[]}]})(et)}function BsGrid3X3(et){return GenIcon({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 1.5A1.5 1.5 0 0 1 1.5 0h13A1.5 1.5 0 0 1 16 1.5v13a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 14.5zM1.5 1a.5.5 0 0 0-.5.5V5h4V1zM5 6H1v4h4zm1 4h4V6H6zm-1 1H1v3.5a.5.5 0 0 0 .5.5H5zm1 0v4h4v-4zm5 0v4h3.5a.5.5 0 0 0 .5-.5V11zm0-1h4V6h-4zm0-5h4V1.5a.5.5 0 0 0-.5-.5H11zm-1 0V1H6v4z"},child:[]}]})(et)}function BsInfoCircle(et){return GenIcon({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"},child:[]},{tag:"path",attr:{d:"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"},child:[]}]})(et)}function BsMoon(et){return GenIcon({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6 .278a.77.77 0 0 1 .08.858 7.2 7.2 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277q.792-.001 1.533-.16a.79.79 0 0 1 .81.316.73.73 0 0 1-.031.893A8.35 8.35 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.75.75 0 0 1 6 .278M4.858 1.311A7.27 7.27 0 0 0 1.025 7.71c0 4.02 3.279 7.276 7.319 7.276a7.32 7.32 0 0 0 5.205-2.162q-.506.063-1.029.063c-4.61 0-8.343-3.714-8.343-8.29 0-1.167.242-2.278.681-3.286"},child:[]}]})(et)}function BsSun(et){return GenIcon({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6m0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8M8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0m0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13m8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5M3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8m10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0m-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0m9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707M4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708"},child:[]}]})(et)}function RiPagesFill(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M20 22H4C3.44772 22 3 21.5523 3 21V8H21V21C21 21.5523 20.5523 22 20 22ZM21 6H3V3C3 2.44772 3.44772 2 4 2H20C20.5523 2 21 2.44772 21 3V6ZM7 11V15H11V11H7ZM7 17V19H17V17H7ZM13 12V14H17V12H13Z"},child:[]}]})(et)}function RiForbid2Fill(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM16.8911 8.52313C16.6997 8.25459 16.4836 7.99828 16.2426 7.75736C16.0017 7.51644 15.7454 7.30029 15.4769 7.10891L7.10891 15.4769C7.30029 15.7454 7.51644 16.0017 7.75736 16.2426C7.99828 16.4836 8.25459 16.6997 8.52313 16.8911L16.8911 8.52313Z"},child:[]}]})(et)}const IconMenuSidebar=({modals:et,openModal:_e})=>{const{darkMode:tt}=useMyContext();return jsxRuntimeExports.jsxs("div",{className:"absolute left-[10px] flex flex-col gap-2 top-[50px] z-[100] h-fit",children:[jsxRuntimeExports.jsx(tooltip_default,{showArrow:!0,placement:"right-start",content:"",children:jsxRuntimeExports.jsx(button_default,{className:`${tt?"dark":"light"} min-w-[35px]  p-1`,size:"sm",variant:"solid",color:"default",onPress:()=>_e("resources"),children:jsxRuntimeExports.jsx(BsDatabaseFill,{size:17})})}),jsxRuntimeExports.jsx(tooltip_default,{showArrow:!0,placement:"right-start",content:"",children:jsxRuntimeExports.jsx(button_default,{className:`${tt?"dark":"light"} min-w-[35px]  p-1`,size:"sm",variant:"solid",color:"default",onPress:()=>_e("scenes"),children:jsxRuntimeExports.jsx(RiPagesFill,{size:17})})}),jsxRuntimeExports.jsx(tooltip_default,{showArrow:!0,placement:"right-start",content:" ",children:jsxRuntimeExports.jsx(button_default,{className:`${tt?"dark":"light"} min-w-[35px]  p-1`,size:"sm",variant:"solid",color:"default",onPress:()=>_e("collections"),children:jsxRuntimeExports.jsx(MdCollectionsBookmark,{size:17})})}),jsxRuntimeExports.jsx(tooltip_default,{showArrow:!0,placement:"right-start",content:"    ",children:jsxRuntimeExports.jsx(button_default,{className:`${tt?"dark":"light"} min-w-[35px]  p-1`,size:"sm",variant:"solid",color:"default",onPress:()=>_e("UsageSidebar"),children:jsxRuntimeExports.jsx(BsDatabaseFillAdd,{size:17})})})]})},addScene=async({collections:et,setIsLoading:_e,scenes:tt,setScenes:rt,setSelectedScene:nt,setCollections:st,selectedCollection:it,url:at})=>{const ot=tt.length>0?Math.max(...tt.map(ut=>ut.id))+1:1,lt=new Konva.Layer;let ct={id:ot,name:` ${ot}`,resources:[],layer:lt};try{_e(!0);const ut=await api.createScene(at,{name:ct.name,metadata:{}});ct.id=ut.id,ct.name=` ${ut.id}`}catch{console.log("Faild Add Scene")}finally{_e(!1)}st(ut=>Array.isArray(ut)?ut.map(dt=>dt.id==it?{...dt,scenes:[...(dt==null?void 0:dt.scenes)||[],ot]}:dt):ut),rt(ut=>[...ut,ct]),localStorage.setItem("sceneId",ot),nt(ot),Swal$1.fire({title:"  ",icon:"success",confirmButtonText:" ",confirmButtonColor:"green"})},deleteScene=({id:et,setIsLoading:_e,setScenes:tt,scenes:rt,sources:nt,setSources:st,selectedScene:it,setSelectedScene:at,url:ot,collections:lt,setCollections:ct})=>{Swal$1.fire({title:"  ",showDenyButton:!0,showCancelButton:!1,confirmButtonText:"",denyButtonText:"",confirmButtonColor:"green",denyButtonColor:"gray"}).then(ut=>{if(ut.isConfirmed){if(rt.length<=1){Swal$1.fire({title:"      !",icon:"warning",confirmButtonText:"",confirmButtonColor:"gray"});return}let dt=!1;if(lt.find(pt=>{pt.schedules.find(gt=>{gt.scene_id==et&&(dt=!0)})}),dt){Swal$1.fire({title:"        ",text:".              ",showDenyButton:!0,showCancelButton:!1,icon:"warning",confirmButtonText:"",denyButtonText:"",confirmButtonColor:"green",denyButtonColor:"gray"}).then(pt=>{if(pt.isConfirmed){if(rt.length<=1){Swal$1.fire({title:"      !",icon:"warning",confirmButtonText:"",confirmButtonColor:"gray"});return}const gt=rt.filter(vt=>vt.id!==et),mt=nt.filter(vt=>vt.sceneId!==et),bt=lt.map(vt=>{const yt=vt.schedules.filter(xt=>xt.scene_id!==et);return{...vt,schedules:yt}});ct(bt);try{_e(!0),api.deleteScene(`${ot}`,et)}catch(vt){console.log(vt)}finally{_e(!1)}tt(gt),st(mt),it===et&&gt.length>0&&(localStorage.setItem("sceneId",gt[0].id),at(gt[0].id));return}});return}const ft=rt.filter(pt=>pt.id!==et),ht=nt.filter(pt=>pt.sceneId!==et);try{_e(!0),api.deleteScene(`${ot}`,et)}catch(pt){console.log(pt)}finally{_e(!1)}tt(ft),st(ht),it===et&&ft.length>0&&(localStorage.setItem("sceneId",ft[0].id),at(ft[0].id))}})},handleEditSceneName=({id:et,newName:_e,setScenes:tt,setIsLoading:rt,url:nt,setEditingSceneId:st})=>{tt(it=>it.map(at=>at.id===et?{...at,name:_e}:at));try{rt(!0),api.updateScene(nt,et,{name:_e})}catch(it){console.log(it)}finally{rt(!1)}st(null)},PACKET_TYPES=Object.create(null);PACKET_TYPES.open="0";PACKET_TYPES.close="1";PACKET_TYPES.ping="2";PACKET_TYPES.pong="3";PACKET_TYPES.message="4";PACKET_TYPES.upgrade="5";PACKET_TYPES.noop="6";const PACKET_TYPES_REVERSE=Object.create(null);Object.keys(PACKET_TYPES).forEach(et=>{PACKET_TYPES_REVERSE[PACKET_TYPES[et]]=et});const ERROR_PACKET={type:"error",data:"parser error"},withNativeBlob$1=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",withNativeArrayBuffer$2=typeof ArrayBuffer=="function",isView$1=et=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(et):et&&et.buffer instanceof ArrayBuffer,encodePacket=({type:et,data:_e},tt,rt)=>withNativeBlob$1&&_e instanceof Blob?tt?rt(_e):encodeBlobAsBase64(_e,rt):withNativeArrayBuffer$2&&(_e instanceof ArrayBuffer||isView$1(_e))?tt?rt(_e):encodeBlobAsBase64(new Blob([_e]),rt):rt(PACKET_TYPES[et]+(_e||"")),encodeBlobAsBase64=(et,_e)=>{const tt=new FileReader;return tt.onload=function(){const rt=tt.result.split(",")[1];_e("b"+(rt||""))},tt.readAsDataURL(et)};function toArray(et){return et instanceof Uint8Array?et:et instanceof ArrayBuffer?new Uint8Array(et):new Uint8Array(et.buffer,et.byteOffset,et.byteLength)}let TEXT_ENCODER;function encodePacketToBinary(et,_e){if(withNativeBlob$1&&et.data instanceof Blob)return et.data.arrayBuffer().then(toArray).then(_e);if(withNativeArrayBuffer$2&&(et.data instanceof ArrayBuffer||isView$1(et.data)))return _e(toArray(et.data));encodePacket(et,!1,tt=>{TEXT_ENCODER||(TEXT_ENCODER=new TextEncoder),_e(TEXT_ENCODER.encode(tt))})}const chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let et=0;et<chars.length;et++)lookup$1[chars.charCodeAt(et)]=et;const decode$1=et=>{let _e=et.length*.75,tt=et.length,rt,nt=0,st,it,at,ot;et[et.length-1]==="="&&(_e--,et[et.length-2]==="="&&_e--);const lt=new ArrayBuffer(_e),ct=new Uint8Array(lt);for(rt=0;rt<tt;rt+=4)st=lookup$1[et.charCodeAt(rt)],it=lookup$1[et.charCodeAt(rt+1)],at=lookup$1[et.charCodeAt(rt+2)],ot=lookup$1[et.charCodeAt(rt+3)],ct[nt++]=st<<2|it>>4,ct[nt++]=(it&15)<<4|at>>2,ct[nt++]=(at&3)<<6|ot&63;return lt},withNativeArrayBuffer$1=typeof ArrayBuffer=="function",decodePacket=(et,_e)=>{if(typeof et!="string")return{type:"message",data:mapBinary(et,_e)};const tt=et.charAt(0);return tt==="b"?{type:"message",data:decodeBase64Packet(et.substring(1),_e)}:PACKET_TYPES_REVERSE[tt]?et.length>1?{type:PACKET_TYPES_REVERSE[tt],data:et.substring(1)}:{type:PACKET_TYPES_REVERSE[tt]}:ERROR_PACKET},decodeBase64Packet=(et,_e)=>{if(withNativeArrayBuffer$1){const tt=decode$1(et);return mapBinary(tt,_e)}else return{base64:!0,data:et}},mapBinary=(et,_e)=>{switch(_e){case"blob":return et instanceof Blob?et:new Blob([et]);case"arraybuffer":default:return et instanceof ArrayBuffer?et:et.buffer}},SEPARATOR="",encodePayload=(et,_e)=>{const tt=et.length,rt=new Array(tt);let nt=0;et.forEach((st,it)=>{encodePacket(st,!1,at=>{rt[it]=at,++nt===tt&&_e(rt.join(SEPARATOR))})})},decodePayload=(et,_e)=>{const tt=et.split(SEPARATOR),rt=[];for(let nt=0;nt<tt.length;nt++){const st=decodePacket(tt[nt],_e);if(rt.push(st),st.type==="error")break}return rt};function createPacketEncoderStream(){return new TransformStream({transform(et,_e){encodePacketToBinary(et,tt=>{const rt=tt.length;let nt;if(rt<126)nt=new Uint8Array(1),new DataView(nt.buffer).setUint8(0,rt);else if(rt<65536){nt=new Uint8Array(3);const st=new DataView(nt.buffer);st.setUint8(0,126),st.setUint16(1,rt)}else{nt=new Uint8Array(9);const st=new DataView(nt.buffer);st.setUint8(0,127),st.setBigUint64(1,BigInt(rt))}et.data&&typeof et.data!="string"&&(nt[0]|=128),_e.enqueue(nt),_e.enqueue(tt)})}})}let TEXT_DECODER;function totalLength(et){return et.reduce((_e,tt)=>_e+tt.length,0)}function concatChunks(et,_e){if(et[0].length===_e)return et.shift();const tt=new Uint8Array(_e);let rt=0;for(let nt=0;nt<_e;nt++)tt[nt]=et[0][rt++],rt===et[0].length&&(et.shift(),rt=0);return et.length&&rt<et[0].length&&(et[0]=et[0].slice(rt)),tt}function createPacketDecoderStream(et,_e){TEXT_DECODER||(TEXT_DECODER=new TextDecoder);const tt=[];let rt=0,nt=-1,st=!1;return new TransformStream({transform(it,at){for(tt.push(it);;){if(rt===0){if(totalLength(tt)<1)break;const ot=concatChunks(tt,1);st=(ot[0]&128)===128,nt=ot[0]&127,nt<126?rt=3:nt===126?rt=1:rt=2}else if(rt===1){if(totalLength(tt)<2)break;const ot=concatChunks(tt,2);nt=new DataView(ot.buffer,ot.byteOffset,ot.length).getUint16(0),rt=3}else if(rt===2){if(totalLength(tt)<8)break;const ot=concatChunks(tt,8),lt=new DataView(ot.buffer,ot.byteOffset,ot.length),ct=lt.getUint32(0);if(ct>Math.pow(2,21)-1){at.enqueue(ERROR_PACKET);break}nt=ct*Math.pow(2,32)+lt.getUint32(4),rt=3}else{if(totalLength(tt)<nt)break;const ot=concatChunks(tt,nt);at.enqueue(decodePacket(st?ot:TEXT_DECODER.decode(ot),_e)),rt=0}if(nt===0||nt>et){at.enqueue(ERROR_PACKET);break}}}})}const protocol$1=4;function Emitter(et){if(et)return mixin(et)}function mixin(et){for(var _e in Emitter.prototype)et[_e]=Emitter.prototype[_e];return et}Emitter.prototype.on=Emitter.prototype.addEventListener=function(et,_e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+et]=this._callbacks["$"+et]||[]).push(_e),this};Emitter.prototype.once=function(et,_e){function tt(){this.off(et,tt),_e.apply(this,arguments)}return tt.fn=_e,this.on(et,tt),this};Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(et,_e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var tt=this._callbacks["$"+et];if(!tt)return this;if(arguments.length==1)return delete this._callbacks["$"+et],this;for(var rt,nt=0;nt<tt.length;nt++)if(rt=tt[nt],rt===_e||rt.fn===_e){tt.splice(nt,1);break}return tt.length===0&&delete this._callbacks["$"+et],this};Emitter.prototype.emit=function(et){this._callbacks=this._callbacks||{};for(var _e=new Array(arguments.length-1),tt=this._callbacks["$"+et],rt=1;rt<arguments.length;rt++)_e[rt-1]=arguments[rt];if(tt){tt=tt.slice(0);for(var rt=0,nt=tt.length;rt<nt;++rt)tt[rt].apply(this,_e)}return this};Emitter.prototype.emitReserved=Emitter.prototype.emit;Emitter.prototype.listeners=function(et){return this._callbacks=this._callbacks||{},this._callbacks["$"+et]||[]};Emitter.prototype.hasListeners=function(et){return!!this.listeners(et).length};const globalThisShim=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function pick(et,..._e){return _e.reduce((tt,rt)=>(et.hasOwnProperty(rt)&&(tt[rt]=et[rt]),tt),{})}const NATIVE_SET_TIMEOUT=globalThisShim.setTimeout,NATIVE_CLEAR_TIMEOUT=globalThisShim.clearTimeout;function installTimerFunctions(et,_e){_e.useNativeTimers?(et.setTimeoutFn=NATIVE_SET_TIMEOUT.bind(globalThisShim),et.clearTimeoutFn=NATIVE_CLEAR_TIMEOUT.bind(globalThisShim)):(et.setTimeoutFn=globalThisShim.setTimeout.bind(globalThisShim),et.clearTimeoutFn=globalThisShim.clearTimeout.bind(globalThisShim))}const BASE64_OVERHEAD=1.33;function byteLength(et){return typeof et=="string"?utf8Length(et):Math.ceil((et.byteLength||et.size)*BASE64_OVERHEAD)}function utf8Length(et){let _e=0,tt=0;for(let rt=0,nt=et.length;rt<nt;rt++)_e=et.charCodeAt(rt),_e<128?tt+=1:_e<2048?tt+=2:_e<55296||_e>=57344?tt+=3:(rt++,tt+=4);return tt}function encode$1(et){let _e="";for(let tt in et)et.hasOwnProperty(tt)&&(_e.length&&(_e+="&"),_e+=encodeURIComponent(tt)+"="+encodeURIComponent(et[tt]));return _e}function decode(et){let _e={},tt=et.split("&");for(let rt=0,nt=tt.length;rt<nt;rt++){let st=tt[rt].split("=");_e[decodeURIComponent(st[0])]=decodeURIComponent(st[1])}return _e}class TransportError extends Error{constructor(_e,tt,rt){super(_e),this.description=tt,this.context=rt,this.type="TransportError"}}class Transport extends Emitter{constructor(_e){super(),this.writable=!1,installTimerFunctions(this,_e),this.opts=_e,this.query=_e.query,this.socket=_e.socket}onError(_e,tt,rt){return super.emitReserved("error",new TransportError(_e,tt,rt)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(_e){this.readyState==="open"&&this.write(_e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(_e){const tt=decodePacket(_e,this.socket.binaryType);this.onPacket(tt)}onPacket(_e){super.emitReserved("packet",_e)}onClose(_e){this.readyState="closed",super.emitReserved("close",_e)}pause(_e){}createUri(_e,tt={}){return _e+"://"+this._hostname()+this._port()+this.opts.path+this._query(tt)}_hostname(){const _e=this.opts.hostname;return _e.indexOf(":")===-1?_e:"["+_e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(_e){const tt=encode$1(_e);return tt.length?"?"+tt:""}}const alphabet="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),length=64,map$2={};let seed=0,i$2=0,prev;function encode(et){let _e="";do _e=alphabet[et%length]+_e,et=Math.floor(et/length);while(et>0);return _e}function yeast(){const et=encode(+new Date);return et!==prev?(seed=0,prev=et):et+"."+encode(seed++)}for(;i$2<length;i$2++)map$2[alphabet[i$2]]=i$2;let value=!1;try{value=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const hasCORS=value;function XHR(et){const _e=et.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!_e||hasCORS))return new XMLHttpRequest}catch{}if(!_e)try{return new globalThisShim[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function createCookieJar(){}function empty(){}const hasXHR2=function(){return new XHR({xdomain:!1}).responseType!=null}();class Polling extends Transport{constructor(_e){if(super(_e),this.polling=!1,typeof location<"u"){const rt=location.protocol==="https:";let nt=location.port;nt||(nt=rt?"443":"80"),this.xd=typeof location<"u"&&_e.hostname!==location.hostname||nt!==_e.port}const tt=_e&&_e.forceBase64;this.supportsBinary=hasXHR2&&!tt,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(_e){this.readyState="pausing";const tt=()=>{this.readyState="paused",_e()};if(this.polling||!this.writable){let rt=0;this.polling&&(rt++,this.once("pollComplete",function(){--rt||tt()})),this.writable||(rt++,this.once("drain",function(){--rt||tt()}))}else tt()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(_e){const tt=rt=>{if(this.readyState==="opening"&&rt.type==="open"&&this.onOpen(),rt.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(rt)};decodePayload(_e,this.socket.binaryType).forEach(tt),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const _e=()=>{this.write([{type:"close"}])};this.readyState==="open"?_e():this.once("open",_e)}write(_e){this.writable=!1,encodePayload(_e,tt=>{this.doWrite(tt,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const _e=this.opts.secure?"https":"http",tt=this.query||{};return this.opts.timestampRequests!==!1&&(tt[this.opts.timestampParam]=yeast()),!this.supportsBinary&&!tt.sid&&(tt.b64=1),this.createUri(_e,tt)}request(_e={}){return Object.assign(_e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Request$1(this.uri(),_e)}doWrite(_e,tt){const rt=this.request({method:"POST",data:_e});rt.on("success",tt),rt.on("error",(nt,st)=>{this.onError("xhr post error",nt,st)})}doPoll(){const _e=this.request();_e.on("data",this.onData.bind(this)),_e.on("error",(tt,rt)=>{this.onError("xhr poll error",tt,rt)}),this.pollXhr=_e}}let Request$1=class ps extends Emitter{constructor(_e,tt){super(),installTimerFunctions(this,tt),this.opts=tt,this.method=tt.method||"GET",this.uri=_e,this.data=tt.data!==void 0?tt.data:null,this.create()}create(){var _e;const tt=pick(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");tt.xdomain=!!this.opts.xd;const rt=this.xhr=new XHR(tt);try{rt.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){rt.setDisableHeaderCheck&&rt.setDisableHeaderCheck(!0);for(let nt in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(nt)&&rt.setRequestHeader(nt,this.opts.extraHeaders[nt])}}catch{}if(this.method==="POST")try{rt.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{rt.setRequestHeader("Accept","*/*")}catch{}(_e=this.opts.cookieJar)===null||_e===void 0||_e.addCookies(rt),"withCredentials"in rt&&(rt.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(rt.timeout=this.opts.requestTimeout),rt.onreadystatechange=()=>{var nt;rt.readyState===3&&((nt=this.opts.cookieJar)===null||nt===void 0||nt.parseCookies(rt)),rt.readyState===4&&(rt.status===200||rt.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof rt.status=="number"?rt.status:0)},0))},rt.send(this.data)}catch(nt){this.setTimeoutFn(()=>{this.onError(nt)},0);return}typeof document<"u"&&(this.index=ps.requestsCount++,ps.requests[this.index]=this)}onError(_e){this.emitReserved("error",_e,this.xhr),this.cleanup(!0)}cleanup(_e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=empty,_e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete ps.requests[this.index],this.xhr=null}}onLoad(){const _e=this.xhr.responseText;_e!==null&&(this.emitReserved("data",_e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};Request$1.requestsCount=0;Request$1.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",unloadHandler);else if(typeof addEventListener=="function"){const et="onpagehide"in globalThisShim?"pagehide":"unload";addEventListener(et,unloadHandler,!1)}}function unloadHandler(){for(let et in Request$1.requests)Request$1.requests.hasOwnProperty(et)&&Request$1.requests[et].abort()}const nextTick=typeof Promise=="function"&&typeof Promise.resolve=="function"?_e=>Promise.resolve().then(_e):(_e,tt)=>tt(_e,0),WebSocket=globalThisShim.WebSocket||globalThisShim.MozWebSocket,usingBrowserWebSocket=!0,defaultBinaryType="arraybuffer",isReactNative=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class WS extends Transport{constructor(_e){super(_e),this.supportsBinary=!_e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const _e=this.uri(),tt=this.opts.protocols,rt=isReactNative?{}:pick(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(rt.headers=this.opts.extraHeaders);try{this.ws=usingBrowserWebSocket&&!isReactNative?tt?new WebSocket(_e,tt):new WebSocket(_e):new WebSocket(_e,tt,rt)}catch(nt){return this.emitReserved("error",nt)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=_e=>this.onClose({description:"websocket connection closed",context:_e}),this.ws.onmessage=_e=>this.onData(_e.data),this.ws.onerror=_e=>this.onError("websocket error",_e)}write(_e){this.writable=!1;for(let tt=0;tt<_e.length;tt++){const rt=_e[tt],nt=tt===_e.length-1;encodePacket(rt,this.supportsBinary,st=>{const it={};try{usingBrowserWebSocket&&this.ws.send(st)}catch{}nt&&nextTick(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const _e=this.opts.secure?"wss":"ws",tt=this.query||{};return this.opts.timestampRequests&&(tt[this.opts.timestampParam]=yeast()),this.supportsBinary||(tt.b64=1),this.createUri(_e,tt)}check(){return!!WebSocket}}class WT extends Transport{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(_e=>{this.onError("webtransport error",_e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(_e=>{const tt=createPacketDecoderStream(Number.MAX_SAFE_INTEGER,this.socket.binaryType),rt=_e.readable.pipeThrough(tt).getReader(),nt=createPacketEncoderStream();nt.readable.pipeTo(_e.writable),this.writer=nt.writable.getWriter();const st=()=>{rt.read().then(({done:at,value:ot})=>{at||(this.onPacket(ot),st())}).catch(at=>{})};st();const it={type:"open"};this.query.sid&&(it.data=`{"sid":"${this.query.sid}"}`),this.writer.write(it).then(()=>this.onOpen())})}))}write(_e){this.writable=!1;for(let tt=0;tt<_e.length;tt++){const rt=_e[tt],nt=tt===_e.length-1;this.writer.write(rt).then(()=>{nt&&nextTick(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var _e;(_e=this.transport)===null||_e===void 0||_e.close()}}const transports={websocket:WS,webtransport:WT,polling:Polling},re=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,parts=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function parse(et){if(et.length>2e3)throw"URI too long";const _e=et,tt=et.indexOf("["),rt=et.indexOf("]");tt!=-1&&rt!=-1&&(et=et.substring(0,tt)+et.substring(tt,rt).replace(/:/g,";")+et.substring(rt,et.length));let nt=re.exec(et||""),st={},it=14;for(;it--;)st[parts[it]]=nt[it]||"";return tt!=-1&&rt!=-1&&(st.source=_e,st.host=st.host.substring(1,st.host.length-1).replace(/;/g,":"),st.authority=st.authority.replace("[","").replace("]","").replace(/;/g,":"),st.ipv6uri=!0),st.pathNames=pathNames(st,st.path),st.queryKey=queryKey(st,st.query),st}function pathNames(et,_e){const tt=/\/{2,9}/g,rt=_e.replace(tt,"/").split("/");return(_e.slice(0,1)=="/"||_e.length===0)&&rt.splice(0,1),_e.slice(-1)=="/"&&rt.splice(rt.length-1,1),rt}function queryKey(et,_e){const tt={};return _e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(rt,nt,st){nt&&(tt[nt]=st)}),tt}let Socket$1=class ts extends Emitter{constructor(_e,tt={}){super(),this.binaryType=defaultBinaryType,this.writeBuffer=[],_e&&typeof _e=="object"&&(tt=_e,_e=null),_e?(_e=parse(_e),tt.hostname=_e.host,tt.secure=_e.protocol==="https"||_e.protocol==="wss",tt.port=_e.port,_e.query&&(tt.query=_e.query)):tt.host&&(tt.hostname=parse(tt.host).host),installTimerFunctions(this,tt),this.secure=tt.secure!=null?tt.secure:typeof location<"u"&&location.protocol==="https:",tt.hostname&&!tt.port&&(tt.port=this.secure?"443":"80"),this.hostname=tt.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=tt.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=tt.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},tt),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(_e){const tt=Object.assign({},this.opts.query);tt.EIO=protocol$1,tt.transport=_e,this.id&&(tt.sid=this.id);const rt=Object.assign({},this.opts,{query:tt,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[_e]);return new transports[_e](rt)}open(){let _e;if(this.opts.rememberUpgrade&&ts.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)_e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else _e=this.transports[0];this.readyState="opening";try{_e=this.createTransport(_e)}catch{this.transports.shift(),this.open();return}_e.open(),this.setTransport(_e)}setTransport(_e){this.transport&&this.transport.removeAllListeners(),this.transport=_e,_e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",tt=>this.onClose("transport close",tt))}probe(_e){let tt=this.createTransport(_e),rt=!1;ts.priorWebsocketSuccess=!1;const nt=()=>{rt||(tt.send([{type:"ping",data:"probe"}]),tt.once("packet",ut=>{if(!rt)if(ut.type==="pong"&&ut.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",tt),!tt)return;ts.priorWebsocketSuccess=tt.name==="websocket",this.transport.pause(()=>{rt||this.readyState!=="closed"&&(ct(),this.setTransport(tt),tt.send([{type:"upgrade"}]),this.emitReserved("upgrade",tt),tt=null,this.upgrading=!1,this.flush())})}else{const dt=new Error("probe error");dt.transport=tt.name,this.emitReserved("upgradeError",dt)}}))};function st(){rt||(rt=!0,ct(),tt.close(),tt=null)}const it=ut=>{const dt=new Error("probe error: "+ut);dt.transport=tt.name,st(),this.emitReserved("upgradeError",dt)};function at(){it("transport closed")}function ot(){it("socket closed")}function lt(ut){tt&&ut.name!==tt.name&&st()}const ct=()=>{tt.removeListener("open",nt),tt.removeListener("error",it),tt.removeListener("close",at),this.off("close",ot),this.off("upgrading",lt)};tt.once("open",nt),tt.once("error",it),tt.once("close",at),this.once("close",ot),this.once("upgrading",lt),this.upgrades.indexOf("webtransport")!==-1&&_e!=="webtransport"?this.setTimeoutFn(()=>{rt||tt.open()},200):tt.open()}onOpen(){if(this.readyState="open",ts.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let _e=0;const tt=this.upgrades.length;for(;_e<tt;_e++)this.probe(this.upgrades[_e])}}onPacket(_e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",_e),this.emitReserved("heartbeat"),this.resetPingTimeout(),_e.type){case"open":this.onHandshake(JSON.parse(_e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const tt=new Error("server error");tt.code=_e.data,this.onError(tt);break;case"message":this.emitReserved("data",_e.data),this.emitReserved("message",_e.data);break}}onHandshake(_e){this.emitReserved("handshake",_e),this.id=_e.sid,this.transport.query.sid=_e.sid,this.upgrades=this.filterUpgrades(_e.upgrades),this.pingInterval=_e.pingInterval,this.pingTimeout=_e.pingTimeout,this.maxPayload=_e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const _e=this.getWritablePackets();this.transport.send(_e),this.prevBufferLen=_e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let tt=1;for(let rt=0;rt<this.writeBuffer.length;rt++){const nt=this.writeBuffer[rt].data;if(nt&&(tt+=byteLength(nt)),rt>0&&tt>this.maxPayload)return this.writeBuffer.slice(0,rt);tt+=2}return this.writeBuffer}write(_e,tt,rt){return this.sendPacket("message",_e,tt,rt),this}send(_e,tt,rt){return this.sendPacket("message",_e,tt,rt),this}sendPacket(_e,tt,rt,nt){if(typeof tt=="function"&&(nt=tt,tt=void 0),typeof rt=="function"&&(nt=rt,rt=null),this.readyState==="closing"||this.readyState==="closed")return;rt=rt||{},rt.compress=rt.compress!==!1;const st={type:_e,data:tt,options:rt};this.emitReserved("packetCreate",st),this.writeBuffer.push(st),nt&&this.once("flush",nt),this.flush()}close(){const _e=()=>{this.onClose("forced close"),this.transport.close()},tt=()=>{this.off("upgrade",tt),this.off("upgradeError",tt),_e()},rt=()=>{this.once("upgrade",tt),this.once("upgradeError",tt)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?rt():_e()}):this.upgrading?rt():_e()),this}onError(_e){ts.priorWebsocketSuccess=!1,this.emitReserved("error",_e),this.onClose("transport error",_e)}onClose(_e,tt){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",_e,tt),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(_e){const tt=[];let rt=0;const nt=_e.length;for(;rt<nt;rt++)~this.transports.indexOf(_e[rt])&&tt.push(_e[rt]);return tt}};Socket$1.protocol=protocol$1;function url(et,_e="",tt){let rt=et;tt=tt||typeof location<"u"&&location,et==null&&(et=tt.protocol+"//"+tt.host),typeof et=="string"&&(et.charAt(0)==="/"&&(et.charAt(1)==="/"?et=tt.protocol+et:et=tt.host+et),/^(https?|wss?):\/\//.test(et)||(typeof tt<"u"?et=tt.protocol+"//"+et:et="https://"+et),rt=parse(et)),rt.port||(/^(http|ws)$/.test(rt.protocol)?rt.port="80":/^(http|ws)s$/.test(rt.protocol)&&(rt.port="443")),rt.path=rt.path||"/";const st=rt.host.indexOf(":")!==-1?"["+rt.host+"]":rt.host;return rt.id=rt.protocol+"://"+st+":"+rt.port+_e,rt.href=rt.protocol+"://"+st+(tt&&tt.port===rt.port?"":":"+rt.port),rt}const withNativeArrayBuffer=typeof ArrayBuffer=="function",isView=et=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(et):et.buffer instanceof ArrayBuffer,toString$3=Object.prototype.toString,withNativeBlob=typeof Blob=="function"||typeof Blob<"u"&&toString$3.call(Blob)==="[object BlobConstructor]",withNativeFile=typeof File=="function"||typeof File<"u"&&toString$3.call(File)==="[object FileConstructor]";function isBinary(et){return withNativeArrayBuffer&&(et instanceof ArrayBuffer||isView(et))||withNativeBlob&&et instanceof Blob||withNativeFile&&et instanceof File}function hasBinary(et,_e){if(!et||typeof et!="object")return!1;if(Array.isArray(et)){for(let tt=0,rt=et.length;tt<rt;tt++)if(hasBinary(et[tt]))return!0;return!1}if(isBinary(et))return!0;if(et.toJSON&&typeof et.toJSON=="function"&&arguments.length===1)return hasBinary(et.toJSON(),!0);for(const tt in et)if(Object.prototype.hasOwnProperty.call(et,tt)&&hasBinary(et[tt]))return!0;return!1}function deconstructPacket(et){const _e=[],tt=et.data,rt=et;return rt.data=_deconstructPacket(tt,_e),rt.attachments=_e.length,{packet:rt,buffers:_e}}function _deconstructPacket(et,_e){if(!et)return et;if(isBinary(et)){const tt={_placeholder:!0,num:_e.length};return _e.push(et),tt}else if(Array.isArray(et)){const tt=new Array(et.length);for(let rt=0;rt<et.length;rt++)tt[rt]=_deconstructPacket(et[rt],_e);return tt}else if(typeof et=="object"&&!(et instanceof Date)){const tt={};for(const rt in et)Object.prototype.hasOwnProperty.call(et,rt)&&(tt[rt]=_deconstructPacket(et[rt],_e));return tt}return et}function reconstructPacket(et,_e){return et.data=_reconstructPacket(et.data,_e),delete et.attachments,et}function _reconstructPacket(et,_e){if(!et)return et;if(et&&et._placeholder===!0){if(typeof et.num=="number"&&et.num>=0&&et.num<_e.length)return _e[et.num];throw new Error("illegal attachments")}else if(Array.isArray(et))for(let tt=0;tt<et.length;tt++)et[tt]=_reconstructPacket(et[tt],_e);else if(typeof et=="object")for(const tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(et[tt]=_reconstructPacket(et[tt],_e));return et}const RESERVED_EVENTS$1=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],protocol=5;var PacketType;(function(et){et[et.CONNECT=0]="CONNECT",et[et.DISCONNECT=1]="DISCONNECT",et[et.EVENT=2]="EVENT",et[et.ACK=3]="ACK",et[et.CONNECT_ERROR=4]="CONNECT_ERROR",et[et.BINARY_EVENT=5]="BINARY_EVENT",et[et.BINARY_ACK=6]="BINARY_ACK"})(PacketType||(PacketType={}));class Encoder{constructor(_e){this.replacer=_e}encode(_e){return(_e.type===PacketType.EVENT||_e.type===PacketType.ACK)&&hasBinary(_e)?this.encodeAsBinary({type:_e.type===PacketType.EVENT?PacketType.BINARY_EVENT:PacketType.BINARY_ACK,nsp:_e.nsp,data:_e.data,id:_e.id}):[this.encodeAsString(_e)]}encodeAsString(_e){let tt=""+_e.type;return(_e.type===PacketType.BINARY_EVENT||_e.type===PacketType.BINARY_ACK)&&(tt+=_e.attachments+"-"),_e.nsp&&_e.nsp!=="/"&&(tt+=_e.nsp+","),_e.id!=null&&(tt+=_e.id),_e.data!=null&&(tt+=JSON.stringify(_e.data,this.replacer)),tt}encodeAsBinary(_e){const tt=deconstructPacket(_e),rt=this.encodeAsString(tt.packet),nt=tt.buffers;return nt.unshift(rt),nt}}function isObject$8(et){return Object.prototype.toString.call(et)==="[object Object]"}class Decoder extends Emitter{constructor(_e){super(),this.reviver=_e}add(_e){let tt;if(typeof _e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");tt=this.decodeString(_e);const rt=tt.type===PacketType.BINARY_EVENT;rt||tt.type===PacketType.BINARY_ACK?(tt.type=rt?PacketType.EVENT:PacketType.ACK,this.reconstructor=new BinaryReconstructor(tt),tt.attachments===0&&super.emitReserved("decoded",tt)):super.emitReserved("decoded",tt)}else if(isBinary(_e)||_e.base64)if(this.reconstructor)tt=this.reconstructor.takeBinaryData(_e),tt&&(this.reconstructor=null,super.emitReserved("decoded",tt));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+_e)}decodeString(_e){let tt=0;const rt={type:Number(_e.charAt(0))};if(PacketType[rt.type]===void 0)throw new Error("unknown packet type "+rt.type);if(rt.type===PacketType.BINARY_EVENT||rt.type===PacketType.BINARY_ACK){const st=tt+1;for(;_e.charAt(++tt)!=="-"&&tt!=_e.length;);const it=_e.substring(st,tt);if(it!=Number(it)||_e.charAt(tt)!=="-")throw new Error("Illegal attachments");rt.attachments=Number(it)}if(_e.charAt(tt+1)==="/"){const st=tt+1;for(;++tt&&!(_e.charAt(tt)===","||tt===_e.length););rt.nsp=_e.substring(st,tt)}else rt.nsp="/";const nt=_e.charAt(tt+1);if(nt!==""&&Number(nt)==nt){const st=tt+1;for(;++tt;){const it=_e.charAt(tt);if(it==null||Number(it)!=it){--tt;break}if(tt===_e.length)break}rt.id=Number(_e.substring(st,tt+1))}if(_e.charAt(++tt)){const st=this.tryParse(_e.substr(tt));if(Decoder.isPayloadValid(rt.type,st))rt.data=st;else throw new Error("invalid payload")}return rt}tryParse(_e){try{return JSON.parse(_e,this.reviver)}catch{return!1}}static isPayloadValid(_e,tt){switch(_e){case PacketType.CONNECT:return isObject$8(tt);case PacketType.DISCONNECT:return tt===void 0;case PacketType.CONNECT_ERROR:return typeof tt=="string"||isObject$8(tt);case PacketType.EVENT:case PacketType.BINARY_EVENT:return Array.isArray(tt)&&(typeof tt[0]=="number"||typeof tt[0]=="string"&&RESERVED_EVENTS$1.indexOf(tt[0])===-1);case PacketType.ACK:case PacketType.BINARY_ACK:return Array.isArray(tt)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class BinaryReconstructor{constructor(_e){this.packet=_e,this.buffers=[],this.reconPack=_e}takeBinaryData(_e){if(this.buffers.push(_e),this.buffers.length===this.reconPack.attachments){const tt=reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),tt}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const parser=Object.freeze(Object.defineProperty({__proto__:null,Decoder,Encoder,get PacketType(){return PacketType},protocol},Symbol.toStringTag,{value:"Module"}));function on(et,_e,tt){return et.on(_e,tt),function(){et.off(_e,tt)}}const RESERVED_EVENTS=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Socket extends Emitter{constructor(_e,tt,rt){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=_e,this.nsp=tt,rt&&rt.auth&&(this.auth=rt.auth),this._opts=Object.assign({},rt),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const _e=this.io;this.subs=[on(_e,"open",this.onopen.bind(this)),on(_e,"packet",this.onpacket.bind(this)),on(_e,"error",this.onerror.bind(this)),on(_e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(..._e){return _e.unshift("message"),this.emit.apply(this,_e),this}emit(_e,...tt){if(RESERVED_EVENTS.hasOwnProperty(_e))throw new Error('"'+_e.toString()+'" is a reserved event name');if(tt.unshift(_e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(tt),this;const rt={type:PacketType.EVENT,data:tt};if(rt.options={},rt.options.compress=this.flags.compress!==!1,typeof tt[tt.length-1]=="function"){const it=this.ids++,at=tt.pop();this._registerAckCallback(it,at),rt.id=it}const nt=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!nt||!this.connected)||(this.connected?(this.notifyOutgoingListeners(rt),this.packet(rt)):this.sendBuffer.push(rt)),this.flags={},this}_registerAckCallback(_e,tt){var rt;const nt=(rt=this.flags.timeout)!==null&&rt!==void 0?rt:this._opts.ackTimeout;if(nt===void 0){this.acks[_e]=tt;return}const st=this.io.setTimeoutFn(()=>{delete this.acks[_e];for(let at=0;at<this.sendBuffer.length;at++)this.sendBuffer[at].id===_e&&this.sendBuffer.splice(at,1);tt.call(this,new Error("operation has timed out"))},nt),it=(...at)=>{this.io.clearTimeoutFn(st),tt.apply(this,at)};it.withError=!0,this.acks[_e]=it}emitWithAck(_e,...tt){return new Promise((rt,nt)=>{const st=(it,at)=>it?nt(it):rt(at);st.withError=!0,tt.push(st),this.emit(_e,...tt)})}_addToQueue(_e){let tt;typeof _e[_e.length-1]=="function"&&(tt=_e.pop());const rt={id:this._queueSeq++,tryCount:0,pending:!1,args:_e,flags:Object.assign({fromQueue:!0},this.flags)};_e.push((nt,...st)=>rt!==this._queue[0]?void 0:(nt!==null?rt.tryCount>this._opts.retries&&(this._queue.shift(),tt&&tt(nt)):(this._queue.shift(),tt&&tt(null,...st)),rt.pending=!1,this._drainQueue())),this._queue.push(rt),this._drainQueue()}_drainQueue(_e=!1){if(!this.connected||this._queue.length===0)return;const tt=this._queue[0];tt.pending&&!_e||(tt.pending=!0,tt.tryCount++,this.flags=tt.flags,this.emit.apply(this,tt.args))}packet(_e){_e.nsp=this.nsp,this.io._packet(_e)}onopen(){typeof this.auth=="function"?this.auth(_e=>{this._sendConnectPacket(_e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(_e){this.packet({type:PacketType.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},_e):_e})}onerror(_e){this.connected||this.emitReserved("connect_error",_e)}onclose(_e,tt){this.connected=!1,delete this.id,this.emitReserved("disconnect",_e,tt),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(_e=>{if(!this.sendBuffer.some(rt=>String(rt.id)===_e)){const rt=this.acks[_e];delete this.acks[_e],rt.withError&&rt.call(this,new Error("socket has been disconnected"))}})}onpacket(_e){if(_e.nsp===this.nsp)switch(_e.type){case PacketType.CONNECT:_e.data&&_e.data.sid?this.onconnect(_e.data.sid,_e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case PacketType.EVENT:case PacketType.BINARY_EVENT:this.onevent(_e);break;case PacketType.ACK:case PacketType.BINARY_ACK:this.onack(_e);break;case PacketType.DISCONNECT:this.ondisconnect();break;case PacketType.CONNECT_ERROR:this.destroy();const rt=new Error(_e.data.message);rt.data=_e.data.data,this.emitReserved("connect_error",rt);break}}onevent(_e){const tt=_e.data||[];_e.id!=null&&tt.push(this.ack(_e.id)),this.connected?this.emitEvent(tt):this.receiveBuffer.push(Object.freeze(tt))}emitEvent(_e){if(this._anyListeners&&this._anyListeners.length){const tt=this._anyListeners.slice();for(const rt of tt)rt.apply(this,_e)}super.emit.apply(this,_e),this._pid&&_e.length&&typeof _e[_e.length-1]=="string"&&(this._lastOffset=_e[_e.length-1])}ack(_e){const tt=this;let rt=!1;return function(...nt){rt||(rt=!0,tt.packet({type:PacketType.ACK,id:_e,data:nt}))}}onack(_e){const tt=this.acks[_e.id];typeof tt=="function"&&(delete this.acks[_e.id],tt.withError&&_e.data.unshift(null),tt.apply(this,_e.data))}onconnect(_e,tt){this.id=_e,this.recovered=tt&&this._pid===tt,this._pid=tt,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(_e=>this.emitEvent(_e)),this.receiveBuffer=[],this.sendBuffer.forEach(_e=>{this.notifyOutgoingListeners(_e),this.packet(_e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(_e=>_e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:PacketType.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(_e){return this.flags.compress=_e,this}get volatile(){return this.flags.volatile=!0,this}timeout(_e){return this.flags.timeout=_e,this}onAny(_e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(_e),this}prependAny(_e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(_e),this}offAny(_e){if(!this._anyListeners)return this;if(_e){const tt=this._anyListeners;for(let rt=0;rt<tt.length;rt++)if(_e===tt[rt])return tt.splice(rt,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(_e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(_e),this}prependAnyOutgoing(_e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(_e),this}offAnyOutgoing(_e){if(!this._anyOutgoingListeners)return this;if(_e){const tt=this._anyOutgoingListeners;for(let rt=0;rt<tt.length;rt++)if(_e===tt[rt])return tt.splice(rt,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(_e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const tt=this._anyOutgoingListeners.slice();for(const rt of tt)rt.apply(this,_e.data)}}}function Backoff(et){et=et||{},this.ms=et.min||100,this.max=et.max||1e4,this.factor=et.factor||2,this.jitter=et.jitter>0&&et.jitter<=1?et.jitter:0,this.attempts=0}Backoff.prototype.duration=function(){var et=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var _e=Math.random(),tt=Math.floor(_e*this.jitter*et);et=Math.floor(_e*10)&1?et+tt:et-tt}return Math.min(et,this.max)|0};Backoff.prototype.reset=function(){this.attempts=0};Backoff.prototype.setMin=function(et){this.ms=et};Backoff.prototype.setMax=function(et){this.max=et};Backoff.prototype.setJitter=function(et){this.jitter=et};class Manager extends Emitter{constructor(_e,tt){var rt;super(),this.nsps={},this.subs=[],_e&&typeof _e=="object"&&(tt=_e,_e=void 0),tt=tt||{},tt.path=tt.path||"/socket.io",this.opts=tt,installTimerFunctions(this,tt),this.reconnection(tt.reconnection!==!1),this.reconnectionAttempts(tt.reconnectionAttempts||1/0),this.reconnectionDelay(tt.reconnectionDelay||1e3),this.reconnectionDelayMax(tt.reconnectionDelayMax||5e3),this.randomizationFactor((rt=tt.randomizationFactor)!==null&&rt!==void 0?rt:.5),this.backoff=new Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(tt.timeout==null?2e4:tt.timeout),this._readyState="closed",this.uri=_e;const nt=tt.parser||parser;this.encoder=new nt.Encoder,this.decoder=new nt.Decoder,this._autoConnect=tt.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(_e){return arguments.length?(this._reconnection=!!_e,this):this._reconnection}reconnectionAttempts(_e){return _e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=_e,this)}reconnectionDelay(_e){var tt;return _e===void 0?this._reconnectionDelay:(this._reconnectionDelay=_e,(tt=this.backoff)===null||tt===void 0||tt.setMin(_e),this)}randomizationFactor(_e){var tt;return _e===void 0?this._randomizationFactor:(this._randomizationFactor=_e,(tt=this.backoff)===null||tt===void 0||tt.setJitter(_e),this)}reconnectionDelayMax(_e){var tt;return _e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=_e,(tt=this.backoff)===null||tt===void 0||tt.setMax(_e),this)}timeout(_e){return arguments.length?(this._timeout=_e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(_e){if(~this._readyState.indexOf("open"))return this;this.engine=new Socket$1(this.uri,this.opts);const tt=this.engine,rt=this;this._readyState="opening",this.skipReconnect=!1;const nt=on(tt,"open",function(){rt.onopen(),_e&&_e()}),st=at=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",at),_e?_e(at):this.maybeReconnectOnOpen()},it=on(tt,"error",st);if(this._timeout!==!1){const at=this._timeout,ot=this.setTimeoutFn(()=>{nt(),st(new Error("timeout")),tt.close()},at);this.opts.autoUnref&&ot.unref(),this.subs.push(()=>{this.clearTimeoutFn(ot)})}return this.subs.push(nt),this.subs.push(it),this}connect(_e){return this.open(_e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const _e=this.engine;this.subs.push(on(_e,"ping",this.onping.bind(this)),on(_e,"data",this.ondata.bind(this)),on(_e,"error",this.onerror.bind(this)),on(_e,"close",this.onclose.bind(this)),on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(_e){try{this.decoder.add(_e)}catch(tt){this.onclose("parse error",tt)}}ondecoded(_e){nextTick(()=>{this.emitReserved("packet",_e)},this.setTimeoutFn)}onerror(_e){this.emitReserved("error",_e)}socket(_e,tt){let rt=this.nsps[_e];return rt?this._autoConnect&&!rt.active&&rt.connect():(rt=new Socket(this,_e,tt),this.nsps[_e]=rt),rt}_destroy(_e){const tt=Object.keys(this.nsps);for(const rt of tt)if(this.nsps[rt].active)return;this._close()}_packet(_e){const tt=this.encoder.encode(_e);for(let rt=0;rt<tt.length;rt++)this.engine.write(tt[rt],_e.options)}cleanup(){this.subs.forEach(_e=>_e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(_e,tt){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",_e,tt),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const _e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const tt=this.backoff.duration();this._reconnecting=!0;const rt=this.setTimeoutFn(()=>{_e.skipReconnect||(this.emitReserved("reconnect_attempt",_e.backoff.attempts),!_e.skipReconnect&&_e.open(nt=>{nt?(_e._reconnecting=!1,_e.reconnect(),this.emitReserved("reconnect_error",nt)):_e.onreconnect()}))},tt);this.opts.autoUnref&&rt.unref(),this.subs.push(()=>{this.clearTimeoutFn(rt)})}}onreconnect(){const _e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",_e)}}const cache={};function lookup(et,_e){typeof et=="object"&&(_e=et,et=void 0),_e=_e||{};const tt=url(et,_e.path||"/socket.io"),rt=tt.source,nt=tt.id,st=tt.path,it=cache[nt]&&st in cache[nt].nsps,at=_e.forceNew||_e["force new connection"]||_e.multiplex===!1||it;let ot;return at?ot=new Manager(rt,_e):(cache[nt]||(cache[nt]=new Manager(rt,_e)),ot=cache[nt]),tt.query&&!_e.query&&(_e.query=tt.queryKey),ot.socket(tt.path,_e)}Object.assign(lookup,{Manager,Socket,io:lookup,connect:lookup});const isFiniteNumber=Number.isFinite||function(et){return typeof et=="number"&&isFinite(et)},isSafeInteger=Number.isSafeInteger||function(et){return typeof et=="number"&&Math.abs(et)<=MAX_SAFE_INTEGER$4},MAX_SAFE_INTEGER$4=Number.MAX_SAFE_INTEGER||9007199254740991;let ErrorTypes=function(et){return et.NETWORK_ERROR="networkError",et.MEDIA_ERROR="mediaError",et.KEY_SYSTEM_ERROR="keySystemError",et.MUX_ERROR="muxError",et.OTHER_ERROR="otherError",et}({}),ErrorDetails=function(et){return et.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",et.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",et.KEY_SYSTEM_NO_SESSION="keySystemNoSession",et.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",et.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",et.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",et.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",et.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",et.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",et.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",et.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR="keySystemDestroyMediaKeysError",et.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR="keySystemDestroyCloseSessionError",et.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR="keySystemDestroyRemoveSessionError",et.MANIFEST_LOAD_ERROR="manifestLoadError",et.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",et.MANIFEST_PARSING_ERROR="manifestParsingError",et.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",et.LEVEL_EMPTY_ERROR="levelEmptyError",et.LEVEL_LOAD_ERROR="levelLoadError",et.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",et.LEVEL_PARSING_ERROR="levelParsingError",et.LEVEL_SWITCH_ERROR="levelSwitchError",et.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",et.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",et.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",et.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",et.FRAG_LOAD_ERROR="fragLoadError",et.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",et.FRAG_DECRYPT_ERROR="fragDecryptError",et.FRAG_PARSING_ERROR="fragParsingError",et.FRAG_GAP="fragGap",et.REMUX_ALLOC_ERROR="remuxAllocError",et.KEY_LOAD_ERROR="keyLoadError",et.KEY_LOAD_TIMEOUT="keyLoadTimeOut",et.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",et.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",et.BUFFER_APPEND_ERROR="bufferAppendError",et.BUFFER_APPENDING_ERROR="bufferAppendingError",et.BUFFER_STALLED_ERROR="bufferStalledError",et.BUFFER_FULL_ERROR="bufferFullError",et.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",et.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",et.ASSET_LIST_LOAD_ERROR="assetListLoadError",et.ASSET_LIST_LOAD_TIMEOUT="assetListLoadTimeout",et.ASSET_LIST_PARSING_ERROR="assetListParsingError",et.INTERSTITIAL_ASSET_ITEM_ERROR="interstitialAssetItemError",et.INTERNAL_EXCEPTION="internalException",et.INTERNAL_ABORTED="aborted",et.ATTACH_MEDIA_ERROR="attachMediaError",et.UNKNOWN="unknown",et}({}),Events=function(et){return et.MEDIA_ATTACHING="hlsMediaAttaching",et.MEDIA_ATTACHED="hlsMediaAttached",et.MEDIA_DETACHING="hlsMediaDetaching",et.MEDIA_DETACHED="hlsMediaDetached",et.MEDIA_ENDED="hlsMediaEnded",et.STALL_RESOLVED="hlsStallResolved",et.BUFFER_RESET="hlsBufferReset",et.BUFFER_CODECS="hlsBufferCodecs",et.BUFFER_CREATED="hlsBufferCreated",et.BUFFER_APPENDING="hlsBufferAppending",et.BUFFER_APPENDED="hlsBufferAppended",et.BUFFER_EOS="hlsBufferEos",et.BUFFERED_TO_END="hlsBufferedToEnd",et.BUFFER_FLUSHING="hlsBufferFlushing",et.BUFFER_FLUSHED="hlsBufferFlushed",et.MANIFEST_LOADING="hlsManifestLoading",et.MANIFEST_LOADED="hlsManifestLoaded",et.MANIFEST_PARSED="hlsManifestParsed",et.LEVEL_SWITCHING="hlsLevelSwitching",et.LEVEL_SWITCHED="hlsLevelSwitched",et.LEVEL_LOADING="hlsLevelLoading",et.LEVEL_LOADED="hlsLevelLoaded",et.LEVEL_UPDATED="hlsLevelUpdated",et.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",et.LEVELS_UPDATED="hlsLevelsUpdated",et.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",et.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",et.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",et.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",et.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",et.AUDIO_TRACK_UPDATED="hlsAudioTrackUpdated",et.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",et.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",et.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",et.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",et.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",et.SUBTITLE_TRACK_UPDATED="hlsSubtitleTrackUpdated",et.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",et.CUES_PARSED="hlsCuesParsed",et.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",et.INIT_PTS_FOUND="hlsInitPtsFound",et.FRAG_LOADING="hlsFragLoading",et.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",et.FRAG_LOADED="hlsFragLoaded",et.FRAG_DECRYPTED="hlsFragDecrypted",et.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",et.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",et.FRAG_PARSING_METADATA="hlsFragParsingMetadata",et.FRAG_PARSED="hlsFragParsed",et.FRAG_BUFFERED="hlsFragBuffered",et.FRAG_CHANGED="hlsFragChanged",et.FPS_DROP="hlsFpsDrop",et.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",et.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",et.ERROR="hlsError",et.DESTROYING="hlsDestroying",et.KEY_LOADING="hlsKeyLoading",et.KEY_LOADED="hlsKeyLoaded",et.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",et.BACK_BUFFER_REACHED="hlsBackBufferReached",et.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",et.ASSET_LIST_LOADING="hlsAssetListLoading",et.ASSET_LIST_LOADED="hlsAssetListLoaded",et.INTERSTITIALS_UPDATED="hlsInterstitialsUpdated",et.INTERSTITIALS_BUFFERED_TO_BOUNDARY="hlsInterstitialsBufferedToBoundary",et.INTERSTITIAL_ASSET_PLAYER_CREATED="hlsInterstitialAssetPlayerCreated",et.INTERSTITIAL_STARTED="hlsInterstitialStarted",et.INTERSTITIAL_ASSET_STARTED="hlsInterstitialAssetStarted",et.INTERSTITIAL_ASSET_ENDED="hlsInterstitialAssetEnded",et.INTERSTITIAL_ASSET_ERROR="hlsInterstitialAssetError",et.INTERSTITIAL_ENDED="hlsInterstitialEnded",et.INTERSTITIALS_PRIMARY_RESUMED="hlsInterstitialsPrimaryResumed",et.PLAYOUT_LIMIT_REACHED="hlsPlayoutLimitReached",et.EVENT_CUE_ENTER="hlsEventCueEnter",et}({});var PlaylistContextType={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},PlaylistLevelType={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"};class EWMA{constructor(_e,tt=0,rt=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=_e,this.alpha_=_e?Math.exp(Math.log(.5)/_e):0,this.estimate_=tt,this.totalWeight_=rt}sample(_e,tt){const rt=Math.pow(this.alpha_,_e);this.estimate_=tt*(1-rt)+rt*this.estimate_,this.totalWeight_+=_e}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const _e=1-Math.pow(this.alpha_,this.totalWeight_);if(_e)return this.estimate_/_e}return this.estimate_}}class EwmaBandWidthEstimator{constructor(_e,tt,rt,nt=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=rt,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new EWMA(_e),this.fast_=new EWMA(tt),this.defaultTTFB_=nt,this.ttfb_=new EWMA(_e)}update(_e,tt){const{slow_:rt,fast_:nt,ttfb_:st}=this;rt.halfLife!==_e&&(this.slow_=new EWMA(_e,rt.getEstimate(),rt.getTotalWeight())),nt.halfLife!==tt&&(this.fast_=new EWMA(tt,nt.getEstimate(),nt.getTotalWeight())),st.halfLife!==_e&&(this.ttfb_=new EWMA(_e,st.getEstimate(),st.getTotalWeight()))}sample(_e,tt){_e=Math.max(_e,this.minDelayMs_);const rt=8*tt,nt=_e/1e3,st=rt/nt;this.fast_.sample(nt,st),this.slow_.sample(nt,st)}sampleTTFB(_e){const tt=_e/1e3,rt=Math.sqrt(2)*Math.exp(-Math.pow(tt,2)/2);this.ttfb_.sample(rt,Math.max(_e,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}get defaultEstimate(){return this.defaultEstimate_}destroy(){}}function _defineProperty$2(et,_e,tt){return(_e=_toPropertyKey(_e))in et?Object.defineProperty(et,_e,{value:tt,enumerable:!0,configurable:!0,writable:!0}):et[_e]=tt,et}function _extends$f(){return _extends$f=Object.assign?Object.assign.bind():function(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e];for(var rt in tt)({}).hasOwnProperty.call(tt,rt)&&(et[rt]=tt[rt])}return et},_extends$f.apply(null,arguments)}function ownKeys(et,_e){var tt=Object.keys(et);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(et);_e&&(rt=rt.filter(function(nt){return Object.getOwnPropertyDescriptor(et,nt).enumerable})),tt.push.apply(tt,rt)}return tt}function _objectSpread2(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys(Object(tt),!0).forEach(function(rt){_defineProperty$2(et,rt,tt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(tt)):ownKeys(Object(tt)).forEach(function(rt){Object.defineProperty(et,rt,Object.getOwnPropertyDescriptor(tt,rt))})}return et}function _toPrimitive(et,_e){if(typeof et!="object"||!et)return et;var tt=et[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(et,_e);if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(et)}function _toPropertyKey(et){var _e=_toPrimitive(et,"string");return typeof _e=="symbol"?_e:_e+""}class Logger{constructor(_e,tt){this.trace=void 0,this.debug=void 0,this.log=void 0,this.warn=void 0,this.info=void 0,this.error=void 0;const rt=`[${_e}]:`;this.trace=noop,this.debug=tt.debug.bind(null,rt),this.log=tt.log.bind(null,rt),this.warn=tt.warn.bind(null,rt),this.info=tt.info.bind(null,rt),this.error=tt.error.bind(null,rt)}}const noop=function(){},fakeLogger={trace:noop,debug:noop,log:noop,warn:noop,info:noop,error:noop};function createLogger(){return _extends$f({},fakeLogger)}function consolePrintFn(et,_e){const tt=self.console[et];return tt?tt.bind(self.console,`${_e?"["+_e+"] ":""}[${et}] >`):noop}function getLoggerFn(et,_e,tt){return _e[et]?_e[et].bind(_e):consolePrintFn(et,tt)}const exportedLogger=createLogger();function enableLogs(et,_e,tt){const rt=createLogger();if(typeof console=="object"&&et===!0||typeof et=="object"){const nt=["debug","log","info","warn","error"];nt.forEach(st=>{rt[st]=getLoggerFn(st,et,tt)});try{rt.log(`Debug logs enabled for "${_e}" in hls.js version 1.6.10`)}catch{return createLogger()}nt.forEach(st=>{exportedLogger[st]=getLoggerFn(st,et)})}else _extends$f(exportedLogger,rt);return rt}const logger=exportedLogger;function getMediaSource(et=!0){return typeof self>"u"?void 0:(et||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}function isManagedMediaSource(et){return typeof self<"u"&&et===self.ManagedMediaSource}function isCompatibleTrackChange(et,_e){const tt=Object.keys(et),rt=Object.keys(_e),nt=tt.length,st=rt.length;return!nt||!st||nt===st&&!tt.some(it=>rt.indexOf(it)===-1)}function utf8ArrayToStr(et,_e=!1){if(typeof TextDecoder<"u"){const lt=new TextDecoder("utf-8").decode(et);if(_e){const ct=lt.indexOf("\0");return ct!==-1?lt.substring(0,ct):lt}return lt.replace(/\0/g,"")}const tt=et.length;let rt,nt,st,it="",at=0;for(;at<tt;){if(rt=et[at++],rt===0&&_e)return it;if(rt===0||rt===3)continue;switch(rt>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:it+=String.fromCharCode(rt);break;case 12:case 13:nt=et[at++],it+=String.fromCharCode((rt&31)<<6|nt&63);break;case 14:nt=et[at++],st=et[at++],it+=String.fromCharCode((rt&15)<<12|(nt&63)<<6|(st&63)<<0);break}}return it}const Hex={hexDump:function(et){let _e="";for(let tt=0;tt<et.length;tt++){let rt=et[tt].toString(16);rt.length<2&&(rt="0"+rt),_e+=rt}return _e}};function hexToArrayBuffer(et){return Uint8Array.from(et.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}function getDefaultExportFromCjs(et){return et&&et.__esModule&&Object.prototype.hasOwnProperty.call(et,"default")?et.default:et}var urlToolkit={exports:{}},hasRequiredUrlToolkit;function requireUrlToolkit(){return hasRequiredUrlToolkit||(hasRequiredUrlToolkit=1,function(et,_e){(function(tt){var rt=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,nt=/^(?=([^\/?#]*))\1([^]*)$/,st=/(?:\/|^)\.(?=\/)/g,it=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,at={buildAbsoluteURL:function(ot,lt,ct){if(ct=ct||{},ot=ot.trim(),lt=lt.trim(),!lt){if(!ct.alwaysNormalize)return ot;var ut=at.parseURL(ot);if(!ut)throw new Error("Error trying to parse base URL.");return ut.path=at.normalizePath(ut.path),at.buildURLFromParts(ut)}var dt=at.parseURL(lt);if(!dt)throw new Error("Error trying to parse relative URL.");if(dt.scheme)return ct.alwaysNormalize?(dt.path=at.normalizePath(dt.path),at.buildURLFromParts(dt)):lt;var ft=at.parseURL(ot);if(!ft)throw new Error("Error trying to parse base URL.");if(!ft.netLoc&&ft.path&&ft.path[0]!=="/"){var ht=nt.exec(ft.path);ft.netLoc=ht[1],ft.path=ht[2]}ft.netLoc&&!ft.path&&(ft.path="/");var pt={scheme:ft.scheme,netLoc:dt.netLoc,path:null,params:dt.params,query:dt.query,fragment:dt.fragment};if(!dt.netLoc&&(pt.netLoc=ft.netLoc,dt.path[0]!=="/"))if(!dt.path)pt.path=ft.path,dt.params||(pt.params=ft.params,dt.query||(pt.query=ft.query));else{var gt=ft.path,mt=gt.substring(0,gt.lastIndexOf("/")+1)+dt.path;pt.path=at.normalizePath(mt)}return pt.path===null&&(pt.path=ct.alwaysNormalize?at.normalizePath(dt.path):dt.path),at.buildURLFromParts(pt)},parseURL:function(ot){var lt=rt.exec(ot);return lt?{scheme:lt[1]||"",netLoc:lt[2]||"",path:lt[3]||"",params:lt[4]||"",query:lt[5]||"",fragment:lt[6]||""}:null},normalizePath:function(ot){for(ot=ot.split("").reverse().join("").replace(st,"");ot.length!==(ot=ot.replace(it,"")).length;);return ot.split("").reverse().join("")},buildURLFromParts:function(ot){return ot.scheme+ot.netLoc+ot.path+ot.params+ot.query+ot.fragment}};et.exports=at})()}(urlToolkit)),urlToolkit.exports}var urlToolkitExports=requireUrlToolkit();class LoadStats{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var ElementaryStreamTypes={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"};class BaseSegment{constructor(_e){this._byteRange=null,this._url=null,this._stats=null,this._streams=null,this.base=void 0,this.relurl=void 0,typeof _e=="string"&&(_e={url:_e}),this.base=_e,makeEnumerable(this,"stats")}setByteRange(_e,tt){const rt=_e.split("@",2);let nt;rt.length===1?nt=(tt==null?void 0:tt.byteRangeEndOffset)||0:nt=parseInt(rt[1]),this._byteRange=[nt,parseInt(rt[0])+nt]}get baseurl(){return this.base.url}get byteRange(){return this._byteRange===null?[]:this._byteRange}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get elementaryStreams(){return this._streams===null&&(this._streams={[ElementaryStreamTypes.AUDIO]:null,[ElementaryStreamTypes.VIDEO]:null,[ElementaryStreamTypes.AUDIOVIDEO]:null}),this._streams}set elementaryStreams(_e){this._streams=_e}get hasStats(){return this._stats!==null}get hasStreams(){return this._streams!==null}get stats(){return this._stats===null&&(this._stats=new LoadStats),this._stats}set stats(_e){this._stats=_e}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=urlToolkitExports.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(_e){this._url=_e}clearElementaryStreamInfo(){const{elementaryStreams:_e}=this;_e[ElementaryStreamTypes.AUDIO]=null,_e[ElementaryStreamTypes.VIDEO]=null,_e[ElementaryStreamTypes.AUDIOVIDEO]=null}}function isMediaFragment(et){return et.sn!=="initSegment"}class Fragment extends BaseSegment{constructor(_e,tt){super(tt),this._decryptdata=null,this._programDateTime=null,this._ref=null,this._bitrate=void 0,this.rawProgramDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.playlistOffset=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=_e}get byteLength(){if(this.hasStats){const _e=this.stats.total;if(_e)return _e}if(this.byteRange.length){const _e=this.byteRange[0],tt=this.byteRange[1];if(isFiniteNumber(_e)&&isFiniteNumber(tt))return tt-_e}return null}get bitrate(){return this.byteLength?this.byteLength*8/this.duration:this._bitrate?this._bitrate:null}set bitrate(_e){this._bitrate=_e}get decryptdata(){const{levelkeys:_e}=this;if(!_e&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const tt=this.levelkeys.identity;if(tt)this._decryptdata=tt.getDecryptData(this.sn);else{const rt=Object.keys(this.levelkeys);if(rt.length===1){const nt=this._decryptdata=this.levelkeys[rt[0]]||null;if(nt)return nt.getDecryptData(this.sn)}}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(this.programDateTime===null)return null;const _e=isFiniteNumber(this.duration)?this.duration:0;return this.programDateTime+_e*1e3}get encrypted(){var _e;if((_e=this._decryptdata)!=null&&_e.encrypted)return!0;if(this.levelkeys){var tt;const rt=Object.keys(this.levelkeys),nt=rt.length;if(nt>1||nt===1&&(tt=this.levelkeys[rt[0]])!=null&&tt.encrypted)return!0}return!1}get programDateTime(){return this._programDateTime===null&&this.rawProgramDateTime&&(this.programDateTime=Date.parse(this.rawProgramDateTime)),this._programDateTime}set programDateTime(_e){if(!isFiniteNumber(_e)){this._programDateTime=this.rawProgramDateTime=null;return}this._programDateTime=_e}get ref(){return isMediaFragment(this)?(this._ref||(this._ref={base:this.base,start:this.start,duration:this.duration,sn:this.sn,programDateTime:this.programDateTime}),this._ref):null}addStart(_e){this.setStart(this.start+_e)}setStart(_e){this.start=_e,this._ref&&(this._ref.start=_e)}setDuration(_e){this.duration=_e,this._ref&&(this._ref.duration=_e)}setKeyFormat(_e){if(this.levelkeys){const tt=this.levelkeys[_e];tt&&!this._decryptdata&&(this._decryptdata=tt.getDecryptData(this.sn))}}abortRequests(){var _e,tt;(_e=this.loader)==null||_e.abort(),(tt=this.keyLoader)==null||tt.abort()}setElementaryStreamInfo(_e,tt,rt,nt,st,it=!1){const{elementaryStreams:at}=this,ot=at[_e];if(!ot){at[_e]={startPTS:tt,endPTS:rt,startDTS:nt,endDTS:st,partial:it};return}ot.startPTS=Math.min(ot.startPTS,tt),ot.endPTS=Math.max(ot.endPTS,rt),ot.startDTS=Math.min(ot.startDTS,nt),ot.endDTS=Math.max(ot.endDTS,st)}}class Part extends BaseSegment{constructor(_e,tt,rt,nt,st){super(rt),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.duration=_e.decimalFloatingPoint("DURATION"),this.gap=_e.bool("GAP"),this.independent=_e.bool("INDEPENDENT"),this.relurl=_e.enumeratedString("URI"),this.fragment=tt,this.index=nt;const it=_e.enumeratedString("BYTERANGE");it&&this.setByteRange(it,st),st&&(this.fragOffset=st.fragOffset+st.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:_e}=this;return!!(_e.audio||_e.video||_e.audiovideo)}}function getOwnPropertyDescriptorFromPrototypeChain(et,_e){const tt=Object.getPrototypeOf(et);if(tt){const rt=Object.getOwnPropertyDescriptor(tt,_e);return rt||getOwnPropertyDescriptorFromPrototypeChain(tt,_e)}}function makeEnumerable(et,_e){const tt=getOwnPropertyDescriptorFromPrototypeChain(et,_e);tt&&(tt.enumerable=!0,Object.defineProperty(et,_e,tt))}const UINT32_MAX$1=Math.pow(2,32)-1,push=[].push,RemuxerTrackIdConfig={video:1,audio:2,id3:3,text:4};function bin2str(et){return String.fromCharCode.apply(null,et)}function readUint16(et,_e){const tt=et[_e]<<8|et[_e+1];return tt<0?65536+tt:tt}function readUint32(et,_e){const tt=readSint32(et,_e);return tt<0?4294967296+tt:tt}function readUint64(et,_e){let tt=readUint32(et,_e);return tt*=Math.pow(2,32),tt+=readUint32(et,_e+4),tt}function readSint32(et,_e){return et[_e]<<24|et[_e+1]<<16|et[_e+2]<<8|et[_e+3]}function hasMoofData(et){const _e=et.byteLength;for(let tt=0;tt<_e;){const rt=readUint32(et,tt);if(rt>8&&et[tt+4]===109&&et[tt+5]===111&&et[tt+6]===111&&et[tt+7]===102)return!0;tt=rt>1?tt+rt:_e}return!1}function findBox(et,_e){const tt=[];if(!_e.length)return tt;const rt=et.byteLength;for(let nt=0;nt<rt;){const st=readUint32(et,nt),it=bin2str(et.subarray(nt+4,nt+8)),at=st>1?nt+st:rt;if(it===_e[0])if(_e.length===1)tt.push(et.subarray(nt+8,at));else{const ot=findBox(et.subarray(nt+8,at),_e.slice(1));ot.length&&push.apply(tt,ot)}nt=at}return tt}function parseSegmentIndex(et){const _e=[],tt=et[0];let rt=8;const nt=readUint32(et,rt);rt+=4;let st=0,it=0;tt===0?(st=readUint32(et,rt),it=readUint32(et,rt+4),rt+=8):(st=readUint64(et,rt),it=readUint64(et,rt+8),rt+=16),rt+=2;let at=et.length+it;const ot=readUint16(et,rt);rt+=2;for(let lt=0;lt<ot;lt++){let ct=rt;const ut=readUint32(et,ct);ct+=4;const dt=ut&2147483647;if((ut&2147483648)>>>31===1)return logger.warn("SIDX has hierarchical references (not supported)"),null;const ht=readUint32(et,ct);ct+=4,_e.push({referenceSize:dt,subsegmentDuration:ht,info:{duration:ht/nt,start:at,end:at+dt-1}}),at+=dt,ct+=4,rt=ct}return{earliestPresentationTime:st,timescale:nt,version:tt,referencesCount:ot,references:_e}}function parseInitSegment(et){const _e=[],tt=findBox(et,["moov","trak"]);for(let nt=0;nt<tt.length;nt++){const st=tt[nt],it=findBox(st,["tkhd"])[0];if(it){let at=it[0];const ot=readUint32(it,at===0?12:20),lt=findBox(st,["mdia","mdhd"])[0];if(lt){at=lt[0];const ct=readUint32(lt,at===0?12:20),ut=findBox(st,["mdia","hdlr"])[0];if(ut){const dt=bin2str(ut.subarray(8,12)),ft={soun:ElementaryStreamTypes.AUDIO,vide:ElementaryStreamTypes.VIDEO}[dt],ht=findBox(st,["mdia","minf","stbl","stsd"])[0],pt=parseStsd(ht);ft?(_e[ot]={timescale:ct,type:ft,stsd:pt},_e[ft]=_objectSpread2({timescale:ct,id:ot},pt)):_e[ot]={timescale:ct,type:dt,stsd:pt}}}}}return findBox(et,["moov","mvex","trex"]).forEach(nt=>{const st=readUint32(nt,4),it=_e[st];it&&(it.default={duration:readUint32(nt,12),flags:readUint32(nt,20)})}),_e}function parseStsd(et){const _e=et.subarray(8),tt=_e.subarray(86),rt=bin2str(_e.subarray(4,8));let nt=rt,st;const it=rt==="enca"||rt==="encv";if(it){const lt=findBox(_e,[rt])[0].subarray(rt==="enca"?28:78);findBox(lt,["sinf"]).forEach(ut=>{const dt=findBox(ut,["schm"])[0];if(dt){const ft=bin2str(dt.subarray(4,8));if(ft==="cbcs"||ft==="cenc"){const ht=findBox(ut,["frma"])[0];ht&&(nt=bin2str(ht))}}})}const at=nt;switch(nt){case"avc1":case"avc2":case"avc3":case"avc4":{const ot=findBox(tt,["avcC"])[0];ot&&ot.length>3&&(nt+="."+toHex(ot[1])+toHex(ot[2])+toHex(ot[3]),st=parseSupplementalDoViCodec(at==="avc1"?"dva1":"dvav",tt));break}case"mp4a":{const ot=findBox(_e,[rt])[0],lt=findBox(ot.subarray(28),["esds"])[0];if(lt&&lt.length>7){let ct=4;if(lt[ct++]!==3)break;ct=skipBERInteger(lt,ct),ct+=2;const ut=lt[ct++];if(ut&128&&(ct+=2),ut&64&&(ct+=lt[ct++]),lt[ct++]!==4)break;ct=skipBERInteger(lt,ct);const dt=lt[ct++];if(dt===64)nt+="."+toHex(dt);else break;if(ct+=12,lt[ct++]!==5)break;ct=skipBERInteger(lt,ct);const ft=lt[ct++];let ht=(ft&248)>>3;ht===31&&(ht+=1+((ft&7)<<3)+((lt[ct]&224)>>5)),nt+="."+ht}break}case"hvc1":case"hev1":{const ot=findBox(tt,["hvcC"])[0];if(ot&&ot.length>12){const lt=ot[1],ct=["","A","B","C"][lt>>6],ut=lt&31,dt=readUint32(ot,2),ft=(lt&32)>>5?"H":"L",ht=ot[12],pt=ot.subarray(6,12);nt+="."+ct+ut,nt+="."+reverse32BitInt(dt).toString(16).toUpperCase(),nt+="."+ft+ht;let gt="";for(let mt=pt.length;mt--;){const bt=pt[mt];(bt||gt)&&(gt="."+bt.toString(16).toUpperCase()+gt)}nt+=gt}st=parseSupplementalDoViCodec(at=="hev1"?"dvhe":"dvh1",tt);break}case"dvh1":case"dvhe":case"dvav":case"dva1":case"dav1":{nt=parseSupplementalDoViCodec(nt,tt)||nt;break}case"vp09":{const ot=findBox(tt,["vpcC"])[0];if(ot&&ot.length>6){const lt=ot[4],ct=ot[5],ut=ot[6]>>4&15;nt+="."+addLeadingZero(lt)+"."+addLeadingZero(ct)+"."+addLeadingZero(ut)}break}case"av01":{const ot=findBox(tt,["av1C"])[0];if(ot&&ot.length>2){const lt=ot[1]>>>5,ct=ot[1]&31,ut=ot[2]>>>7?"H":"M",dt=(ot[2]&64)>>6,ft=(ot[2]&32)>>5,ht=lt===2&&dt?ft?12:10:dt?10:8,pt=(ot[2]&16)>>4,gt=(ot[2]&8)>>3,mt=(ot[2]&4)>>2,bt=ot[2]&3;nt+="."+lt+"."+addLeadingZero(ct)+ut+"."+addLeadingZero(ht)+"."+pt+"."+gt+mt+bt+"."+addLeadingZero(1)+"."+addLeadingZero(1)+"."+addLeadingZero(1)+"."+0,st=parseSupplementalDoViCodec("dav1",tt)}break}}return{codec:nt,encrypted:it,supplemental:st}}function parseSupplementalDoViCodec(et,_e){const tt=findBox(_e,["dvvC"]),rt=tt.length?tt[0]:findBox(_e,["dvcC"])[0];if(rt){const nt=rt[2]>>1&127,st=rt[2]<<5&32|rt[3]>>3&31;return et+"."+addLeadingZero(nt)+"."+addLeadingZero(st)}}function reverse32BitInt(et){let _e=0;for(let tt=0;tt<32;tt++)_e|=(et>>tt&1)<<31-tt;return _e>>>0}function skipBERInteger(et,_e){const tt=_e+5;for(;et[_e++]&128&&_e<tt;);return _e}function toHex(et){return("0"+et.toString(16).toUpperCase()).slice(-2)}function addLeadingZero(et){return(et<10?"0":"")+et}function patchEncyptionData(et,_e){if(!et||!_e)return;const tt=_e.keyId;tt&&_e.isCommonEncryption&&findBox(et,["moov","trak"]).forEach(nt=>{const it=findBox(nt,["mdia","minf","stbl","stsd"])[0].subarray(8);let at=findBox(it,["enca"]);const ot=at.length>0;ot||(at=findBox(it,["encv"])),at.forEach(lt=>{const ct=ot?lt.subarray(28):lt.subarray(78);findBox(ct,["sinf"]).forEach(dt=>{const ft=parseSinf(dt);if(ft){const ht=ft.subarray(8,24);ht.some(pt=>pt!==0)||(logger.log(`[eme] Patching keyId in 'enc${ot?"a":"v"}>sinf>>tenc' box: ${Hex.hexDump(ht)} -> ${Hex.hexDump(tt)}`),ft.set(tt,8))}})})})}function parseSinf(et){const _e=findBox(et,["schm"])[0];if(_e){const tt=bin2str(_e.subarray(4,8));if(tt==="cbcs"||tt==="cenc")return findBox(et,["schi","tenc"])[0]}return null}function getSampleData(et,_e,tt){const rt={},nt=findBox(et,["moof","traf"]);for(let st=0;st<nt.length;st++){const it=nt[st],at=findBox(it,["tfhd"])[0],ot=readUint32(at,4),lt=_e[ot];if(!lt)continue;rt[ot]||(rt[ot]={start:NaN,duration:0,sampleCount:0,timescale:lt.timescale,type:lt.type});const ct=rt[ot],ut=findBox(it,["tfdt"])[0];if(ut){const vt=ut[0];let yt=readUint32(ut,4);vt===1&&(yt===UINT32_MAX$1?tt.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"):(yt*=UINT32_MAX$1+1,yt+=readUint32(ut,8))),isFiniteNumber(yt)&&(!isFiniteNumber(ct.start)||yt<ct.start)&&(ct.start=yt)}const dt=lt.default,ft=readUint32(at,0)|(dt==null?void 0:dt.flags);let ht=(dt==null?void 0:dt.duration)||0;ft&8&&(ft&2?ht=readUint32(at,12):ht=readUint32(at,8));const pt=findBox(it,["trun"]);let gt=ct.start||0,mt=0,bt=ht;for(let vt=0;vt<pt.length;vt++){const yt=pt[vt],xt=readUint32(yt,4),Et=ct.sampleCount;ct.sampleCount+=xt;const wt=yt[3]&1,$t=yt[3]&4,Tt=yt[2]&1,St=yt[2]&2,Pt=yt[2]&4,At=yt[2]&8;let Rt=8,Ct=xt;for(wt&&(Rt+=4),$t&&xt&&(!(yt[Rt+1]&1)&&ct.keyFrameIndex===void 0&&(ct.keyFrameIndex=Et),Rt+=4,Tt?(bt=readUint32(yt,Rt),Rt+=4):bt=ht,St&&(Rt+=4),At&&(Rt+=4),gt+=bt,mt+=bt,Ct--);Ct--;)Tt?(bt=readUint32(yt,Rt),Rt+=4):bt=ht,St&&(Rt+=4),Pt&&(yt[Rt+1]&1||ct.keyFrameIndex===void 0&&(ct.keyFrameIndex=ct.sampleCount-(Ct+1),ct.keyFrameStart=gt),Rt+=4),At&&(Rt+=4),gt+=bt,mt+=bt;!mt&&ht&&(mt+=ht*xt)}ct.duration+=mt}if(!Object.keys(rt).some(st=>rt[st].duration)){let st=1/0,it=0;const at=findBox(et,["sidx"]);for(let ot=0;ot<at.length;ot++){const lt=parseSegmentIndex(at[ot]);if(lt!=null&&lt.references){st=Math.min(st,lt.earliestPresentationTime/lt.timescale);const ct=lt.references.reduce((ut,dt)=>ut+dt.info.duration||0,0);it=Math.max(it,ct+lt.earliestPresentationTime/lt.timescale)}}it&&isFiniteNumber(it)&&Object.keys(rt).forEach(ot=>{rt[ot].duration||(rt[ot].duration=it*rt[ot].timescale-rt[ot].start)})}return rt}function segmentValidRange(et){const _e={valid:null,remainder:null},tt=findBox(et,["moof"]);if(tt.length<2)return _e.remainder=et,_e;const rt=tt[tt.length-1];return _e.valid=et.slice(0,rt.byteOffset-8),_e.remainder=et.slice(rt.byteOffset-8),_e}function appendUint8Array(et,_e){const tt=new Uint8Array(et.length+_e.length);return tt.set(et),tt.set(_e,et.length),tt}function parseSamples(et,_e){const tt=[],rt=_e.samples,nt=_e.timescale,st=_e.id;let it=!1;return findBox(rt,["moof"]).map(ot=>{const lt=ot.byteOffset-8;findBox(ot,["traf"]).map(ut=>{const dt=findBox(ut,["tfdt"]).map(ft=>{const ht=ft[0];let pt=readUint32(ft,4);return ht===1&&(pt*=Math.pow(2,32),pt+=readUint32(ft,8)),pt/nt})[0];return dt!==void 0&&(et=dt),findBox(ut,["tfhd"]).map(ft=>{const ht=readUint32(ft,4),pt=readUint32(ft,0)&16777215,gt=(pt&1)!==0,mt=(pt&2)!==0,bt=(pt&8)!==0;let vt=0;const yt=(pt&16)!==0;let xt=0;const Et=(pt&32)!==0;let wt=8;ht===st&&(gt&&(wt+=8),mt&&(wt+=4),bt&&(vt=readUint32(ft,wt),wt+=4),yt&&(xt=readUint32(ft,wt),wt+=4),Et&&(wt+=4),_e.type==="video"&&(it=isHEVC(_e.codec)),findBox(ut,["trun"]).map($t=>{const Tt=$t[0],St=readUint32($t,0)&16777215,Pt=(St&1)!==0;let At=0;const Rt=(St&4)!==0,Ct=(St&256)!==0;let Dt=0;const Ft=(St&512)!==0;let Mt=0;const Ot=(St&1024)!==0,jt=(St&2048)!==0;let Ut=0;const _t=readUint32($t,4);let It=8;Pt&&(At=readUint32($t,It),It+=4),Rt&&(It+=4);let Wt=At+lt;for(let Kt=0;Kt<_t;Kt++){if(Ct?(Dt=readUint32($t,It),It+=4):Dt=vt,Ft?(Mt=readUint32($t,It),It+=4):Mt=xt,Ot&&(It+=4),jt&&(Tt===0?Ut=readUint32($t,It):Ut=readSint32($t,It),It+=4),_e.type===ElementaryStreamTypes.VIDEO){let Bt=0;for(;Bt<Mt;){const Qt=readUint32(rt,Wt);if(Wt+=4,isSEIMessage(it,rt[Wt])){const Nt=rt.subarray(Wt,Wt+Qt);parseSEIMessageFromNALu(Nt,it?2:1,et+Ut/nt,tt)}Wt+=Qt,Bt+=Qt+4}}et+=Dt/nt}}))})})}),tt}function isHEVC(et){if(!et)return!1;const _e=et.substring(0,4);return _e==="hvc1"||_e==="hev1"||_e==="dvh1"||_e==="dvhe"}function isSEIMessage(et,_e){if(et){const tt=_e>>1&63;return tt===39||tt===40}else return(_e&31)===6}function parseSEIMessageFromNALu(et,_e,tt,rt){const nt=discardEPB(et);let st=0;st+=_e;let it=0,at=0,ot=0;for(;st<nt.length;){it=0;do{if(st>=nt.length)break;ot=nt[st++],it+=ot}while(ot===255);at=0;do{if(st>=nt.length)break;ot=nt[st++],at+=ot}while(ot===255);const lt=nt.length-st;let ct=st;if(at<lt)st+=at;else if(at>lt){logger.error(`Malformed SEI payload. ${at} is too small, only ${lt} bytes left to parse.`);break}if(it===4){if(nt[ct++]===181){const dt=readUint16(nt,ct);if(ct+=2,dt===49){const ft=readUint32(nt,ct);if(ct+=4,ft===1195456820){const ht=nt[ct++];if(ht===3){const pt=nt[ct++],gt=31&pt,mt=64&pt,bt=mt?2+gt*3:0,vt=new Uint8Array(bt);if(mt){vt[0]=pt;for(let yt=1;yt<bt;yt++)vt[yt]=nt[ct++]}rt.push({type:ht,payloadType:it,pts:tt,bytes:vt})}}}}}else if(it===5&&at>16){const ut=[];for(let ht=0;ht<16;ht++){const pt=nt[ct++].toString(16);ut.push(pt.length==1?"0"+pt:pt),(ht===3||ht===5||ht===7||ht===9)&&ut.push("-")}const dt=at-16,ft=new Uint8Array(dt);for(let ht=0;ht<dt;ht++)ft[ht]=nt[ct++];rt.push({payloadType:it,pts:tt,uuid:ut.join(""),userData:utf8ArrayToStr(ft),userDataBytes:ft})}}}function discardEPB(et){const _e=et.byteLength,tt=[];let rt=1;for(;rt<_e-2;)et[rt]===0&&et[rt+1]===0&&et[rt+2]===3?(tt.push(rt+2),rt+=2):rt++;if(tt.length===0)return et;const nt=_e-tt.length,st=new Uint8Array(nt);let it=0;for(rt=0;rt<nt;it++,rt++)it===tt[0]&&(it++,tt.shift()),st[rt]=et[it];return st}function parseEmsg(et){const _e=et[0];let tt="",rt="",nt=0,st=0,it=0,at=0,ot=0,lt=0;if(_e===0){for(;bin2str(et.subarray(lt,lt+1))!=="\0";)tt+=bin2str(et.subarray(lt,lt+1)),lt+=1;for(tt+=bin2str(et.subarray(lt,lt+1)),lt+=1;bin2str(et.subarray(lt,lt+1))!=="\0";)rt+=bin2str(et.subarray(lt,lt+1)),lt+=1;rt+=bin2str(et.subarray(lt,lt+1)),lt+=1,nt=readUint32(et,12),st=readUint32(et,16),at=readUint32(et,20),ot=readUint32(et,24),lt=28}else if(_e===1){lt+=4,nt=readUint32(et,lt),lt+=4;const ut=readUint32(et,lt);lt+=4;const dt=readUint32(et,lt);for(lt+=4,it=2**32*ut+dt,isSafeInteger(it)||(it=Number.MAX_SAFE_INTEGER,logger.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),at=readUint32(et,lt),lt+=4,ot=readUint32(et,lt),lt+=4;bin2str(et.subarray(lt,lt+1))!=="\0";)tt+=bin2str(et.subarray(lt,lt+1)),lt+=1;for(tt+=bin2str(et.subarray(lt,lt+1)),lt+=1;bin2str(et.subarray(lt,lt+1))!=="\0";)rt+=bin2str(et.subarray(lt,lt+1)),lt+=1;rt+=bin2str(et.subarray(lt,lt+1)),lt+=1}const ct=et.subarray(lt,et.byteLength);return{schemeIdUri:tt,value:rt,timeScale:nt,presentationTime:it,presentationTimeDelta:st,eventDuration:at,id:ot,payload:ct}}function mp4Box(et,..._e){const tt=_e.length;let rt=8,nt=tt;for(;nt--;)rt+=_e[nt].byteLength;const st=new Uint8Array(rt);for(st[0]=rt>>24&255,st[1]=rt>>16&255,st[2]=rt>>8&255,st[3]=rt&255,st.set(et,4),nt=0,rt=8;nt<tt;nt++)st.set(_e[nt],rt),rt+=_e[nt].byteLength;return st}function mp4pssh(et,_e,tt){if(et.byteLength!==16)throw new RangeError("Invalid system id");let rt,nt;rt=0,nt=new Uint8Array;let st;rt>0?(st=new Uint8Array(4),_e.length>0&&new DataView(st.buffer).setUint32(0,_e.length,!1)):st=new Uint8Array;const it=new Uint8Array(4);return tt.byteLength>0&&new DataView(it.buffer).setUint32(0,tt.byteLength,!1),mp4Box([112,115,115,104],new Uint8Array([rt,0,0,0]),et,st,nt,it,tt)}const userAgentHevcSupportIsInaccurate=()=>/\(Windows.+Firefox\//i.test(navigator.userAgent),sampleEntryCodesISO={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,dav1:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function isCodecType(et,_e){const tt=sampleEntryCodesISO[_e];return!!tt&&!!tt[et.slice(0,4)]}function areCodecsMediaSourceSupported(et,_e,tt=!0){return!et.split(",").some(rt=>!isCodecMediaSourceSupported(rt,_e,tt))}function isCodecMediaSourceSupported(et,_e,tt=!0){var rt;const nt=getMediaSource(tt);return(rt=nt==null?void 0:nt.isTypeSupported(mimeTypeForCodec(et,_e)))!=null?rt:!1}function mimeTypeForCodec(et,_e){return`${_e}/mp4;codecs=${et}`}function videoCodecPreferenceValue(et){if(et){const _e=et.substring(0,4);return sampleEntryCodesISO.video[_e]}return 2}function codecsSetSelectionPreferenceValue(et){const _e=userAgentHevcSupportIsInaccurate();return et.split(",").reduce((tt,rt)=>{const st=_e&&isHEVC(rt)?9:sampleEntryCodesISO.video[rt];return st?(st*2+tt)/(tt?3:2):(sampleEntryCodesISO.audio[rt]+tt)/(tt?2:1)},0)}const CODEC_COMPATIBLE_NAMES={};function getCodecCompatibleNameLower(et,_e=!0){if(CODEC_COMPATIBLE_NAMES[et])return CODEC_COMPATIBLE_NAMES[et];const tt={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"],"mp4a.40.34":["mp3"]}[et];for(let nt=0;nt<tt.length;nt++){var rt;if(isCodecMediaSourceSupported(tt[nt],"audio",_e))return CODEC_COMPATIBLE_NAMES[et]=tt[nt],tt[nt];if(tt[nt]==="mp3"&&(rt=getMediaSource(_e))!=null&&rt.isTypeSupported("audio/mpeg"))return""}return et}const AUDIO_CODEC_REGEXP=/flac|opus|mp4a\.40\.34/i;function getCodecCompatibleName(et,_e=!0){return et.replace(AUDIO_CODEC_REGEXP,tt=>getCodecCompatibleNameLower(tt.toLowerCase(),_e))}function replaceVideoCodec(et,_e){const tt=[];if(et){const rt=et.split(",");for(let nt=0;nt<rt.length;nt++)isCodecType(rt[nt],"video")||tt.push(rt[nt])}return _e&&tt.push(_e),tt.join(",")}function pickMostCompleteCodecName(et,_e){if(et&&(et.length>4||["ac-3","ec-3","alac","fLaC","Opus"].indexOf(et)!==-1)&&(isCodecSupportedAsType(et,"audio")||isCodecSupportedAsType(et,"video")))return et;if(_e){const tt=_e.split(",");if(tt.length>1){if(et){for(let rt=tt.length;rt--;)if(tt[rt].substring(0,4)===et.substring(0,4))return tt[rt]}return tt[0]}}return _e||et}function isCodecSupportedAsType(et,_e){return isCodecType(et,_e)&&isCodecMediaSourceSupported(et,_e)}function convertAVC1ToAVCOTI(et){const _e=et.split(",");for(let tt=0;tt<_e.length;tt++){const rt=_e[tt].split(".");rt.length>2&&rt[0]==="avc1"&&(_e[tt]=`avc1.${parseInt(rt[1]).toString(16)}${("000"+parseInt(rt[2]).toString(16)).slice(-4)}`)}return _e.join(",")}function fillInMissingAV01Params(et){if(et.startsWith("av01.")){const _e=et.split("."),tt=["0","111","01","01","01","0"];for(let rt=_e.length;rt>4&&rt<10;rt++)_e[rt]=tt[rt-4];return _e.join(".")}return et}function getM2TSSupportedAudioTypes(et){const _e=getMediaSource(et)||{isTypeSupported:()=>!1};return{mpeg:_e.isTypeSupported("audio/mpeg"),mp3:_e.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:_e.isTypeSupported('audio/mp4; codecs="ac-3"')}}function getCodecsForMimeType(et){return et.replace(/^.+codecs=["']?([^"']+).*$/,"$1")}const SUPPORTED_INFO_DEFAULT={supported:!0,configurations:[],decodingInfoResults:[{supported:!0,powerEfficient:!0,smooth:!0}]};function getUnsupportedResult(et,_e){return{supported:!1,configurations:_e,decodingInfoResults:[{supported:!1,smooth:!1,powerEfficient:!1}],error:et}}function requiresMediaCapabilitiesDecodingInfo(et,_e,tt,rt,nt,st){const it=et.videoCodec,at=et.audioCodec?et.audioGroups:null,ot=st==null?void 0:st.audioCodec,lt=st==null?void 0:st.channels,ct=lt?parseInt(lt):ot?1/0:2;let ut=null;if(at!=null&&at.length)try{at.length===1&&at[0]?ut=_e.groups[at[0]].channels:ut=at.reduce((dt,ft)=>{if(ft){const ht=_e.groups[ft];if(!ht)throw new Error(`Audio track group ${ft} not found`);Object.keys(ht.channels).forEach(pt=>{dt[pt]=(dt[pt]||0)+ht.channels[pt]})}return dt},{2:0})}catch{return!0}return it!==void 0&&(it.split(",").some(dt=>isHEVC(dt))||et.width>1920&&et.height>1088||et.height>1920&&et.width>1088||et.frameRate>Math.max(rt,30)||et.videoRange!=="SDR"&&et.videoRange!==tt||et.bitrate>Math.max(nt,8e6))||!!ut&&isFiniteNumber(ct)&&Object.keys(ut).some(dt=>parseInt(dt)>ct)}function getMediaDecodingInfoPromise(et,_e,tt,rt={}){const nt=et.videoCodec;if(!nt&&!et.audioCodec||!tt)return Promise.resolve(SUPPORTED_INFO_DEFAULT);const st=[],it=makeVideoConfigurations(et),at=it.length,ot=makeAudioConfigurations(et,_e,at>0),lt=ot.length;for(let ct=at||1*lt||1;ct--;){const ut={type:"media-source"};if(at&&(ut.video=it[ct%at]),lt){ut.audio=ot[ct%lt];const dt=ut.audio.bitrate;ut.video&&dt&&(ut.video.bitrate-=dt)}st.push(ut)}if(nt){const ct=navigator.userAgent;if(nt.split(",").some(ut=>isHEVC(ut))&&userAgentHevcSupportIsInaccurate())return Promise.resolve(getUnsupportedResult(new Error(`Overriding Windows Firefox HEVC MediaCapabilities result based on user-agent string: (${ct})`),st))}return Promise.all(st.map(ct=>{const ut=getMediaDecodingInfoKey(ct);return rt[ut]||(rt[ut]=tt.decodingInfo(ct))})).then(ct=>({supported:!ct.some(ut=>!ut.supported),configurations:st,decodingInfoResults:ct})).catch(ct=>({supported:!1,configurations:st,decodingInfoResults:[],error:ct}))}function makeVideoConfigurations(et){var _e;const tt=(_e=et.videoCodec)==null?void 0:_e.split(","),rt=getVariantDecodingBitrate(et),nt=et.width||640,st=et.height||480,it=et.frameRate||30,at=et.videoRange.toLowerCase();return tt?tt.map(ot=>{const lt={contentType:mimeTypeForCodec(fillInMissingAV01Params(ot),"video"),width:nt,height:st,bitrate:rt,framerate:it};return at!=="sdr"&&(lt.transferFunction=at),lt}):[]}function makeAudioConfigurations(et,_e,tt){var rt;const nt=(rt=et.audioCodec)==null?void 0:rt.split(","),st=getVariantDecodingBitrate(et);return nt&&et.audioGroups?et.audioGroups.reduce((it,at)=>{var ot;const lt=at?(ot=_e.groups[at])==null?void 0:ot.tracks:null;return lt?lt.reduce((ct,ut)=>{if(ut.groupId===at){const dt=parseFloat(ut.channels||"");nt.forEach(ft=>{const ht={contentType:mimeTypeForCodec(ft,"audio"),bitrate:tt?estimatedAudioBitrate(ft,st):st};dt&&(ht.channels=""+dt),ct.push(ht)})}return ct},it):it},[]):[]}function estimatedAudioBitrate(et,_e){if(_e<=1)return 1;let tt=128e3;return et==="ec-3"?tt=768e3:et==="ac-3"&&(tt=64e4),Math.min(_e/2,tt)}function getVariantDecodingBitrate(et){return Math.ceil(Math.max(et.bitrate*.9,et.averageBitrate)/1e3)*1e3||1}function getMediaDecodingInfoKey(et){let _e="";const{audio:tt,video:rt}=et;if(rt){const nt=getCodecsForMimeType(rt.contentType);_e+=`${nt}_r${rt.height}x${rt.width}f${Math.ceil(rt.framerate)}${rt.transferFunction||"sd"}_${Math.ceil(rt.bitrate/1e5)}`}if(tt){const nt=getCodecsForMimeType(tt.contentType);_e+=`${rt?"_":""}${nt}_c${tt.channels}`}return _e}const HdcpLevels=["NONE","TYPE-0","TYPE-1",null];function isHdcpLevel(et){return HdcpLevels.indexOf(et)>-1}const VideoRangeValues=["SDR","PQ","HLG"];function isVideoRange(et){return!!et&&VideoRangeValues.indexOf(et)>-1}var HlsSkip={No:"",Yes:"YES",v2:"v2"};function getSkipValue(et){const{canSkipUntil:_e,canSkipDateRanges:tt,age:rt}=et,nt=rt<_e/2;return _e&&nt?tt?HlsSkip.v2:HlsSkip.Yes:HlsSkip.No}class HlsUrlParameters{constructor(_e,tt,rt){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=_e,this.part=tt,this.skip=rt}addDirectives(_e){const tt=new self.URL(_e);return this.msn!==void 0&&tt.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&tt.searchParams.set("_HLS_part",this.part.toString()),this.skip&&tt.searchParams.set("_HLS_skip",this.skip),tt.href}}class Level{constructor(_e){if(this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.supplemental=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[_e.url],this._attrs=[_e.attrs],this.bitrate=_e.bitrate,_e.details&&(this.details=_e.details),this.id=_e.id||0,this.name=_e.name,this.width=_e.width||0,this.height=_e.height||0,this.frameRate=_e.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=_e.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=_e.audioCodec,this.videoCodec=_e.videoCodec,this.codecSet=[_e.videoCodec,_e.audioCodec].filter(rt=>!!rt).map(rt=>rt.substring(0,4)).join(","),"supplemental"in _e){var tt;this.supplemental=_e.supplemental;const rt=(tt=_e.supplemental)==null?void 0:tt.videoCodec;rt&&rt!==_e.videoCodec&&(this.codecSet+=`,${rt.substring(0,4)}`)}this.addGroupId("audio",_e.attrs.AUDIO),this.addGroupId("text",_e.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(_e){return hasGroup(this._audioGroups,_e)}hasSubtitleGroup(_e){return hasGroup(this._subtitleGroups,_e)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(_e,tt){if(tt){if(_e==="audio"){let rt=this._audioGroups;rt||(rt=this._audioGroups=[]),rt.indexOf(tt)===-1&&rt.push(tt)}else if(_e==="text"){let rt=this._subtitleGroups;rt||(rt=this._subtitleGroups=[]),rt.indexOf(tt)===-1&&rt.push(tt)}}}get urlId(){return 0}set urlId(_e){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var _e;return(_e=this.audioGroups)==null?void 0:_e[0]}get textGroupId(){var _e;return(_e=this.subtitleGroups)==null?void 0:_e[0]}addFallback(){}}function hasGroup(et,_e){return!_e||!et?!1:et.indexOf(_e)!==-1}function isHdrSupported(){if(typeof matchMedia=="function"){const et=matchMedia("(dynamic-range: high)"),_e=matchMedia("bad query");if(et.media!==_e.media)return et.matches===!0}return!1}function getVideoSelectionOptions(et,_e){let tt=!1,rt=[];if(et&&(tt=et!=="SDR",rt=[et]),_e){rt=_e.allowedVideoRanges||VideoRangeValues.slice(0);const nt=rt.join("")!=="SDR"&&!_e.videoCodec;tt=_e.preferHDR!==void 0?_e.preferHDR:nt&&isHdrSupported(),tt||(rt=["SDR"])}return{preferHDR:tt,allowedVideoRanges:rt}}const omitCircularRefsReplacer=et=>{const _e=new WeakSet;return(tt,rt)=>{if(et&&(rt=et(tt,rt)),typeof rt=="object"&&rt!==null){if(_e.has(rt))return;_e.add(rt)}return rt}},stringify=(et,_e)=>JSON.stringify(et,omitCircularRefsReplacer(_e));function getStartCodecTier(et,_e,tt,rt,nt){const st=Object.keys(et),it=rt==null?void 0:rt.channels,at=rt==null?void 0:rt.audioCodec,ot=nt==null?void 0:nt.videoCodec,lt=it&&parseInt(it)===2;let ct=!1,ut=!1,dt=1/0,ft=1/0,ht=1/0,pt=1/0,gt=0,mt=[];const{preferHDR:bt,allowedVideoRanges:vt}=getVideoSelectionOptions(_e,nt);for(let $t=st.length;$t--;){const Tt=et[st[$t]];ct||(ct=Tt.channels[2]>0),dt=Math.min(dt,Tt.minHeight),ft=Math.min(ft,Tt.minFramerate),ht=Math.min(ht,Tt.minBitrate),vt.filter(Pt=>Tt.videoRanges[Pt]>0).length>0&&(ut=!0)}dt=isFiniteNumber(dt)?dt:0,ft=isFiniteNumber(ft)?ft:0;const yt=Math.max(1080,dt),xt=Math.max(30,ft);ht=isFiniteNumber(ht)?ht:tt,tt=Math.max(ht,tt),ut||(_e=void 0);const Et=st.length>1;return{codecSet:st.reduce(($t,Tt)=>{const St=et[Tt];if(Tt===$t)return $t;if(mt=ut?vt.filter(Pt=>St.videoRanges[Pt]>0):[],Et){if(St.minBitrate>tt)return logStartCodecCandidateIgnored(Tt,`min bitrate of ${St.minBitrate} > current estimate of ${tt}`),$t;if(!St.hasDefaultAudio)return logStartCodecCandidateIgnored(Tt,"no renditions with default or auto-select sound found"),$t;if(at&&Tt.indexOf(at.substring(0,4))%5!==0)return logStartCodecCandidateIgnored(Tt,`audio codec preference "${at}" not found`),$t;if(it&&!lt){if(!St.channels[it])return logStartCodecCandidateIgnored(Tt,`no renditions with ${it} channel sound found (channels options: ${Object.keys(St.channels)})`),$t}else if((!at||lt)&&ct&&St.channels[2]===0)return logStartCodecCandidateIgnored(Tt,"no renditions with stereo sound found"),$t;if(St.minHeight>yt)return logStartCodecCandidateIgnored(Tt,`min resolution of ${St.minHeight} > maximum of ${yt}`),$t;if(St.minFramerate>xt)return logStartCodecCandidateIgnored(Tt,`min framerate of ${St.minFramerate} > maximum of ${xt}`),$t;if(!mt.some(Pt=>St.videoRanges[Pt]>0))return logStartCodecCandidateIgnored(Tt,`no variants with VIDEO-RANGE of ${stringify(mt)} found`),$t;if(ot&&Tt.indexOf(ot.substring(0,4))%5!==0)return logStartCodecCandidateIgnored(Tt,`video codec preference "${ot}" not found`),$t;if(St.maxScore<gt)return logStartCodecCandidateIgnored(Tt,`max score of ${St.maxScore} < selected max of ${gt}`),$t}return $t&&(codecsSetSelectionPreferenceValue(Tt)>=codecsSetSelectionPreferenceValue($t)||St.fragmentError>et[$t].fragmentError)?$t:(pt=St.minIndex,gt=St.maxScore,Tt)},void 0),videoRanges:mt,preferHDR:bt,minFramerate:ft,minBitrate:ht,minIndex:pt}}function logStartCodecCandidateIgnored(et,_e){logger.log(`[abr] start candidates with "${et}" ignored because ${_e}`)}function getAudioTracksByGroup(et){return et.reduce((_e,tt)=>{let rt=_e.groups[tt.groupId];rt||(rt=_e.groups[tt.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),rt.tracks.push(tt);const nt=tt.channels||"2";return rt.channels[nt]=(rt.channels[nt]||0)+1,rt.hasDefault=rt.hasDefault||tt.default,rt.hasAutoSelect=rt.hasAutoSelect||tt.autoselect,rt.hasDefault&&(_e.hasDefaultAudio=!0),rt.hasAutoSelect&&(_e.hasAutoSelectAudio=!0),_e},{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}function getCodecTiers(et,_e,tt,rt){return et.slice(tt,rt+1).reduce((nt,st,it)=>{if(!st.codecSet)return nt;const at=st.audioGroups;let ot=nt[st.codecSet];ot||(nt[st.codecSet]=ot={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,minIndex:it,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!at,fragmentError:0}),ot.minBitrate=Math.min(ot.minBitrate,st.bitrate);const lt=Math.min(st.height,st.width);return ot.minHeight=Math.min(ot.minHeight,lt),ot.minFramerate=Math.min(ot.minFramerate,st.frameRate),ot.minIndex=Math.min(ot.minIndex,it),ot.maxScore=Math.max(ot.maxScore,st.score),ot.fragmentError+=st.fragmentError,ot.videoRanges[st.videoRange]=(ot.videoRanges[st.videoRange]||0)+1,at&&at.forEach(ct=>{if(!ct)return;const ut=_e.groups[ct];ut&&(ot.hasDefaultAudio=ot.hasDefaultAudio||_e.hasDefaultAudio?ut.hasDefault:ut.hasAutoSelect||!_e.hasDefaultAudio&&!_e.hasAutoSelectAudio,Object.keys(ut.channels).forEach(dt=>{ot.channels[dt]=(ot.channels[dt]||0)+ut.channels[dt]}))}),nt},{})}function getBasicSelectionOption(et){if(!et)return et;const{lang:_e,assocLang:tt,characteristics:rt,channels:nt,audioCodec:st}=et;return{lang:_e,assocLang:tt,characteristics:rt,channels:nt,audioCodec:st}}function findMatchingOption(et,_e,tt){if("attrs"in et){const rt=_e.indexOf(et);if(rt!==-1)return rt}for(let rt=0;rt<_e.length;rt++){const nt=_e[rt];if(matchesOption(et,nt,tt))return rt}return-1}function matchesOption(et,_e,tt){const{groupId:rt,name:nt,lang:st,assocLang:it,default:at}=et,ot=et.forced;return(rt===void 0||_e.groupId===rt)&&(nt===void 0||_e.name===nt)&&(st===void 0||languagesMatch(st,_e.lang))&&(st===void 0||_e.assocLang===it)&&(at===void 0||_e.default===at)&&(ot===void 0||_e.forced===ot)&&(!("characteristics"in et)||characteristicsMatch(et.characteristics||"",_e.characteristics))&&(tt===void 0||tt(et,_e))}function languagesMatch(et,_e="--"){return et.length===_e.length?et===_e:et.startsWith(_e)||_e.startsWith(et)}function characteristicsMatch(et,_e=""){const tt=et.split(","),rt=_e.split(",");return tt.length===rt.length&&!tt.some(nt=>rt.indexOf(nt)===-1)}function audioMatchPredicate(et,_e){const{audioCodec:tt,channels:rt}=et;return(tt===void 0||(_e.audioCodec||"").substring(0,4)===tt.substring(0,4))&&(rt===void 0||rt===(_e.channels||"2"))}function findClosestLevelWithAudioGroup(et,_e,tt,rt,nt){const st=_e[rt],at=_e.reduce((dt,ft,ht)=>{const pt=ft.uri;return(dt[pt]||(dt[pt]=[])).push(ht),dt},{})[st.uri];at.length>1&&(rt=Math.max.apply(Math,at));const ot=st.videoRange,lt=st.frameRate,ct=st.codecSet.substring(0,4),ut=searchDownAndUpList(_e,rt,dt=>{if(dt.videoRange!==ot||dt.frameRate!==lt||dt.codecSet.substring(0,4)!==ct)return!1;const ft=dt.audioGroups,ht=tt.filter(pt=>!ft||ft.indexOf(pt.groupId)!==-1);return findMatchingOption(et,ht,nt)>-1});return ut>-1?ut:searchDownAndUpList(_e,rt,dt=>{const ft=dt.audioGroups,ht=tt.filter(pt=>!ft||ft.indexOf(pt.groupId)!==-1);return findMatchingOption(et,ht,nt)>-1})}function searchDownAndUpList(et,_e,tt){for(let rt=_e;rt>-1;rt--)if(tt(et[rt]))return rt;for(let rt=_e+1;rt<et.length;rt++)if(tt(et[rt]))return rt;return-1}function useAlternateAudio(et,_e){var tt;return!!et&&et!==((tt=_e.loadLevelObj)==null?void 0:tt.uri)}class AbrController extends Logger{constructor(_e){super("abr",_e.logger),this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.rebufferNotice=-1,this.supportedCache={},this.bwEstimator=void 0,this._abandonRulesCheck=tt=>{var rt;const{fragCurrent:nt,partCurrent:st,hls:it}=this,{autoLevelEnabled:at,media:ot}=it;if(!nt||!ot)return;const lt=performance.now(),ct=st?st.stats:nt.stats,ut=st?st.duration:nt.duration,dt=lt-ct.loading.start,ft=it.minAutoLevel,ht=nt.level,pt=this._nextAutoLevel;if(ct.aborted||ct.loaded&&ct.loaded===ct.total||ht<=ft){this.clearTimer(),this._nextAutoLevel=-1;return}if(!at)return;const gt=pt>-1&&pt!==ht,mt=!!tt||gt;if(!mt&&(ot.paused||!ot.playbackRate||!ot.readyState))return;const bt=it.mainForwardBufferInfo;if(!mt&&bt===null)return;const vt=this.bwEstimator.getEstimateTTFB(),yt=Math.abs(ot.playbackRate);if(dt<=Math.max(vt,1e3*(ut/(yt*2))))return;const xt=bt?bt.len/yt:0,Et=ct.loading.first?ct.loading.first-ct.loading.start:-1,wt=ct.loaded&&Et>-1,$t=this.getBwEstimate(),Tt=it.levels,St=Tt[ht],Pt=Math.max(ct.loaded,Math.round(ut*(nt.bitrate||St.averageBitrate)/8));let At=wt?dt-Et:dt;At<1&&wt&&(At=Math.min(dt,ct.loaded*8/$t));const Rt=wt?ct.loaded*1e3/At:0,Ct=vt/1e3,Dt=Rt?(Pt-ct.loaded)/Rt:Pt*8/$t+Ct;if(Dt<=xt)return;const Ft=Rt?Rt*8:$t,Mt=((rt=(tt==null?void 0:tt.details)||this.hls.latestLevelDetails)==null?void 0:rt.live)===!0,Ot=this.hls.config.abrBandWidthUpFactor;let jt=Number.POSITIVE_INFINITY,Ut;for(Ut=ht-1;Ut>ft;Ut--){const Kt=Tt[Ut].maxBitrate,Bt=!Tt[Ut].details||Mt;if(jt=this.getTimeToLoadFrag(Ct,Ft,ut*Kt,Bt),jt<Math.min(xt,ut+Ct))break}if(jt>=Dt||jt>ut*10)return;wt?this.bwEstimator.sample(dt-Math.min(vt,Et),ct.loaded):this.bwEstimator.sampleTTFB(dt);const _t=Tt[Ut].maxBitrate;this.getBwEstimate()*Ot>_t&&this.resetEstimator(_t);const It=this.findBestLevel(_t,ft,Ut,0,xt,1,1);It>-1&&(Ut=It),this.warn(`Fragment ${nt.sn}${st?" part "+st.index:""} of level ${ht} is loading too slowly;
      Fragment duration: ${nt.duration.toFixed(3)}
      Time to underbuffer: ${xt.toFixed(3)} s
      Estimated load time for current fragment: ${Dt.toFixed(3)} s
      Estimated load time for down switch fragment: ${jt.toFixed(3)} s
      TTFB estimate: ${Et|0} ms
      Current BW estimate: ${isFiniteNumber($t)?$t|0:"Unknown"} bps
      New BW estimate: ${this.getBwEstimate()|0} bps
      Switching to level ${Ut} @ ${_t|0} bps`),it.nextLoadLevel=it.nextAutoLevel=Ut,this.clearTimer();const Wt=()=>{if(this.clearTimer(),this.fragCurrent===nt&&this.hls.loadLevel===Ut&&Ut>0){const Kt=this.getStarvationDelay();if(this.warn(`Aborting inflight request ${Ut>0?"and switching down":""}
      Fragment duration: ${nt.duration.toFixed(3)} s
      Time to underbuffer: ${Kt.toFixed(3)} s`),nt.abortRequests(),this.fragCurrent=this.partCurrent=null,Ut>ft){let Bt=this.findBestLevel(this.hls.levels[ft].bitrate,ft,Ut,0,Kt,1,1);Bt===-1&&(Bt=ft),this.hls.nextLoadLevel=this.hls.nextAutoLevel=Bt,this.resetEstimator(this.hls.levels[Bt].bitrate)}}};gt||Dt>jt*2?Wt():this.timer=self.setInterval(Wt,jt*1e3),it.trigger(Events.FRAG_LOAD_EMERGENCY_ABORTED,{frag:nt,part:st,stats:ct})},this.hls=_e,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(_e){_e&&(this.log(`setting initial bwe to ${_e}`),this.hls.config.abrEwmaDefaultEstimate=_e),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const _e=this.hls.config;return new EwmaBandWidthEstimator(_e.abrEwmaSlowVoD,_e.abrEwmaFastVoD,_e.abrEwmaDefaultEstimate)}registerListeners(){const{hls:_e}=this;_e.on(Events.MANIFEST_LOADING,this.onManifestLoading,this),_e.on(Events.FRAG_LOADING,this.onFragLoading,this),_e.on(Events.FRAG_LOADED,this.onFragLoaded,this),_e.on(Events.FRAG_BUFFERED,this.onFragBuffered,this),_e.on(Events.LEVEL_SWITCHING,this.onLevelSwitching,this),_e.on(Events.LEVEL_LOADED,this.onLevelLoaded,this),_e.on(Events.LEVELS_UPDATED,this.onLevelsUpdated,this),_e.on(Events.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),_e.on(Events.ERROR,this.onError,this)}unregisterListeners(){const{hls:_e}=this;_e&&(_e.off(Events.MANIFEST_LOADING,this.onManifestLoading,this),_e.off(Events.FRAG_LOADING,this.onFragLoading,this),_e.off(Events.FRAG_LOADED,this.onFragLoaded,this),_e.off(Events.FRAG_BUFFERED,this.onFragBuffered,this),_e.off(Events.LEVEL_SWITCHING,this.onLevelSwitching,this),_e.off(Events.LEVEL_LOADED,this.onLevelLoaded,this),_e.off(Events.LEVELS_UPDATED,this.onLevelsUpdated,this),_e.off(Events.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),_e.off(Events.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=this.supportedCache=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(_e,tt){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.supportedCache={},this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(_e,tt){const rt=tt.frag;if(!this.ignoreFragment(rt)){if(!rt.bitrateTest){var nt;this.fragCurrent=rt,this.partCurrent=(nt=tt.part)!=null?nt:null}this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(_e,tt){this.clearTimer()}onError(_e,tt){if(!tt.fatal)switch(tt.details){case ErrorDetails.BUFFER_ADD_CODEC_ERROR:case ErrorDetails.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case ErrorDetails.FRAG_LOAD_TIMEOUT:{const rt=tt.frag,{fragCurrent:nt,partCurrent:st}=this;if(rt&&nt&&rt.sn===nt.sn&&rt.level===nt.level){const it=performance.now(),at=st?st.stats:rt.stats,ot=it-at.loading.start,lt=at.loading.first?at.loading.first-at.loading.start:-1;if(at.loaded&&lt>-1){const ut=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(ot-Math.min(ut,lt),at.loaded)}else this.bwEstimator.sampleTTFB(ot)}break}}}getTimeToLoadFrag(_e,tt,rt,nt){const st=_e+rt/tt,it=nt?_e+this.lastLevelLoadSec:0;return st+it}onLevelLoaded(_e,tt){const rt=this.hls.config,{loading:nt}=tt.stats,st=nt.end-nt.first;isFiniteNumber(st)&&(this.lastLevelLoadSec=st/1e3),tt.details.live?this.bwEstimator.update(rt.abrEwmaSlowLive,rt.abrEwmaFastLive):this.bwEstimator.update(rt.abrEwmaSlowVoD,rt.abrEwmaFastVoD),this.timer>-1&&this._abandonRulesCheck(tt.levelInfo)}onFragLoaded(_e,{frag:tt,part:rt}){const nt=rt?rt.stats:tt.stats;if(tt.type===PlaylistLevelType.MAIN&&this.bwEstimator.sampleTTFB(nt.loading.first-nt.loading.start),!this.ignoreFragment(tt)){if(this.clearTimer(),tt.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const st=rt?rt.duration:tt.duration,it=this.hls.levels[tt.level],at=(it.loaded?it.loaded.bytes:0)+nt.loaded,ot=(it.loaded?it.loaded.duration:0)+st;it.loaded={bytes:at,duration:ot},it.realBitrate=Math.round(8*at/ot)}if(tt.bitrateTest){const st={stats:nt,frag:tt,part:rt,id:tt.type};this.onFragBuffered(Events.FRAG_BUFFERED,st),tt.bitrateTest=!1}else this.lastLoadedFragLevel=tt.level}}onFragBuffered(_e,tt){const{frag:rt,part:nt}=tt,st=nt!=null&&nt.stats.loaded?nt.stats:rt.stats;if(st.aborted||this.ignoreFragment(rt))return;const it=st.parsing.end-st.loading.start-Math.min(st.loading.first-st.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(it,st.loaded),st.bwEstimate=this.getBwEstimate(),rt.bitrateTest?this.bitrateTestDelay=it/1e3:this.bitrateTestDelay=0}ignoreFragment(_e){return _e.type!==PlaylistLevelType.MAIN||_e.sn==="initSegment"}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:_e,minAutoLevel:tt}=this.hls,rt=this.getBwEstimate(),nt=this.hls.config.maxStarvationDelay,st=this.findBestLevel(rt,tt,_e,0,nt,1,1);if(st>-1)return st;const it=this.hls.firstLevel,at=Math.min(Math.max(it,tt),_e);return this.warn(`Could not find best starting auto level. Defaulting to first in playlist ${it} clamped to ${at}`),at}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const _e=this.forcedAutoLevel,rt=this.bwEstimator.canEstimate(),nt=this.lastLoadedFragLevel>-1;if(_e!==-1&&(!rt||!nt||this.nextAutoLevelKey===this.getAutoLevelKey()))return _e;const st=rt&&nt?this.getNextABRAutoLevel():this.firstAutoLevel;if(_e!==-1){const it=this.hls.levels;if(it.length>Math.max(_e,st)&&it[_e].loadError<=it[st].loadError)return _e}return this._nextAutoLevel=st,this.nextAutoLevelKey=this.getAutoLevelKey(),st}getAutoLevelKey(){return`${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel(){const{fragCurrent:_e,partCurrent:tt,hls:rt}=this;if(rt.levels.length<=1)return rt.loadLevel;const{maxAutoLevel:nt,config:st,minAutoLevel:it}=rt,at=tt?tt.duration:_e?_e.duration:0,ot=this.getBwEstimate(),lt=this.getStarvationDelay();let ct=st.abrBandWidthFactor,ut=st.abrBandWidthUpFactor;if(lt){const gt=this.findBestLevel(ot,it,nt,lt,0,ct,ut);if(gt>=0)return this.rebufferNotice=-1,gt}let dt=at?Math.min(at,st.maxStarvationDelay):st.maxStarvationDelay;if(!lt){const gt=this.bitrateTestDelay;gt&&(dt=(at?Math.min(at,st.maxLoadingDelay):st.maxLoadingDelay)-gt,this.info(`bitrate test took ${Math.round(1e3*gt)}ms, set first fragment max fetchDuration to ${Math.round(1e3*dt)} ms`),ct=ut=1)}const ft=this.findBestLevel(ot,it,nt,lt,dt,ct,ut);if(this.rebufferNotice!==ft&&(this.rebufferNotice=ft,this.info(`${lt?"rebuffering expected":"buffer is empty"}, optimal quality level ${ft}`)),ft>-1)return ft;const ht=rt.levels[it],pt=rt.loadLevelObj;return pt&&(ht==null?void 0:ht.bitrate)<pt.bitrate?it:rt.loadLevel}getStarvationDelay(){const _e=this.hls,tt=_e.media;if(!tt)return 1/0;const rt=tt&&tt.playbackRate!==0?Math.abs(tt.playbackRate):1,nt=_e.mainForwardBufferInfo;return(nt?nt.len:0)/rt}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(_e,tt,rt,nt,st,it,at){var ot;const lt=nt+st,ct=this.lastLoadedFragLevel,ut=ct===-1?this.hls.firstLevel:ct,{fragCurrent:dt,partCurrent:ft}=this,{levels:ht,allAudioTracks:pt,loadLevel:gt,config:mt}=this.hls;if(ht.length===1)return 0;const bt=ht[ut],vt=!!((ot=this.hls.latestLevelDetails)!=null&&ot.live),yt=gt===-1||ct===-1;let xt,Et="SDR",wt=(bt==null?void 0:bt.frameRate)||0;const{audioPreference:$t,videoPreference:Tt}=mt,St=this.audioTracksByGroup||(this.audioTracksByGroup=getAudioTracksByGroup(pt));let Pt=-1;if(yt){if(this.firstSelection!==-1)return this.firstSelection;const Ft=this.codecTiers||(this.codecTiers=getCodecTiers(ht,St,tt,rt)),Mt=getStartCodecTier(Ft,Et,_e,$t,Tt),{codecSet:Ot,videoRanges:jt,minFramerate:Ut,minBitrate:_t,minIndex:It,preferHDR:Wt}=Mt;Pt=It,xt=Ot,Et=Wt?jt[jt.length-1]:jt[0],wt=Ut,_e=Math.max(_e,_t),this.log(`picked start tier ${stringify(Mt)}`)}else xt=bt==null?void 0:bt.codecSet,Et=bt==null?void 0:bt.videoRange;const At=ft?ft.duration:dt?dt.duration:0,Rt=this.bwEstimator.getEstimateTTFB()/1e3,Ct=[];for(let Ft=rt;Ft>=tt;Ft--){var Dt;const Mt=ht[Ft],Ot=Ft>ut;if(!Mt)continue;if(mt.useMediaCapabilities&&!Mt.supportedResult&&!Mt.supportedPromise){const Bt=navigator.mediaCapabilities;typeof(Bt==null?void 0:Bt.decodingInfo)=="function"&&requiresMediaCapabilitiesDecodingInfo(Mt,St,Et,wt,_e,$t)?(Mt.supportedPromise=getMediaDecodingInfoPromise(Mt,St,Bt,this.supportedCache),Mt.supportedPromise.then(Qt=>{if(!this.hls)return;Mt.supportedResult=Qt;const Nt=this.hls.levels,Xt=Nt.indexOf(Mt);Qt.error?this.warn(`MediaCapabilities decodingInfo error: "${Qt.error}" for level ${Xt} ${stringify(Qt)}`):Qt.supported?Qt.decodingInfoResults.some(Zt=>Zt.smooth===!1||Zt.powerEfficient===!1)&&this.log(`MediaCapabilities decodingInfo for level ${Xt} not smooth or powerEfficient: ${stringify(Qt)}`):(this.warn(`Unsupported MediaCapabilities decodingInfo result for level ${Xt} ${stringify(Qt)}`),Xt>-1&&Nt.length>1&&(this.log(`Removing unsupported level ${Xt}`),this.hls.removeLevel(Xt),this.hls.loadLevel===-1&&(this.hls.nextLoadLevel=0)))})):Mt.supportedResult=SUPPORTED_INFO_DEFAULT}if((xt&&Mt.codecSet!==xt||Et&&Mt.videoRange!==Et||Ot&&wt>Mt.frameRate||!Ot&&wt>0&&wt<Mt.frameRate||(Dt=Mt.supportedResult)!=null&&(Dt=Dt.decodingInfoResults)!=null&&Dt.some(Bt=>Bt.smooth===!1))&&(!yt||Ft!==Pt)){Ct.push(Ft);continue}const jt=Mt.details,Ut=(ft?jt==null?void 0:jt.partTarget:jt==null?void 0:jt.averagetargetduration)||At;let _t;Ot?_t=at*_e:_t=it*_e;const It=At&&nt>=At*2&&st===0?Mt.averageBitrate:Mt.maxBitrate,Wt=this.getTimeToLoadFrag(Rt,_t,It*Ut,jt===void 0);if(_t>=It&&(Ft===ct||Mt.loadError===0&&Mt.fragmentError===0)&&(Wt<=Rt||!isFiniteNumber(Wt)||vt&&!this.bitrateTestDelay||Wt<lt)){const Bt=this.forcedAutoLevel;return Ft!==gt&&(Bt===-1||Bt!==gt)&&(Ct.length&&this.trace(`Skipped level(s) ${Ct.join(",")} of ${rt} max with CODECS and VIDEO-RANGE:"${ht[Ct[0]].codecs}" ${ht[Ct[0]].videoRange}; not compatible with "${xt}" ${Et}`),this.info(`switch candidate:${ut}->${Ft} adjustedbw(${Math.round(_t)})-bitrate=${Math.round(_t-It)} ttfb:${Rt.toFixed(1)} avgDuration:${Ut.toFixed(1)} maxFetchDuration:${lt.toFixed(1)} fetchDuration:${Wt.toFixed(1)} firstSelection:${yt} codecSet:${Mt.codecSet} videoRange:${Mt.videoRange} hls.loadLevel:${gt}`)),yt&&(this.firstSelection=Ft),Ft}}return-1}set nextAutoLevel(_e){const tt=this.deriveNextAutoLevel(_e);this._nextAutoLevel!==tt&&(this.nextAutoLevelKey="",this._nextAutoLevel=tt)}deriveNextAutoLevel(_e){const{maxAutoLevel:tt,minAutoLevel:rt}=this.hls;return Math.min(Math.max(_e,rt),tt)}}const BinarySearch={search:function(et,_e){let tt=0,rt=et.length-1,nt=null,st=null;for(;tt<=rt;){nt=(tt+rt)/2|0,st=et[nt];const it=_e(st);if(it>0)tt=nt+1;else if(it<0)rt=nt-1;else return st}return null}};function findFragmentByPDT(et,_e,tt){if(_e===null||!Array.isArray(et)||!et.length||!isFiniteNumber(_e))return null;const rt=et[0].programDateTime;if(_e<(rt||0))return null;const nt=et[et.length-1].endProgramDateTime;if(_e>=(nt||0))return null;for(let st=0;st<et.length;++st){const it=et[st];if(pdtWithinToleranceTest(_e,tt,it))return it}return null}function findFragmentByPTS(et,_e,tt=0,rt=0,nt=.005){let st=null;if(et){st=_e[1+et.sn-_e[0].sn]||null;const at=et.endDTS-tt;at>0&&at<15e-7&&(tt+=15e-7),st&&et.level!==st.level&&st.end<=et.end&&(st=_e[2+et.sn-_e[0].sn]||null)}else tt===0&&_e[0].start===0&&(st=_e[0]);if(st&&((!et||et.level===st.level)&&fragmentWithinToleranceTest(tt,rt,st)===0||fragmentWithinFastStartSwitch(st,et,Math.min(nt,rt))))return st;const it=BinarySearch.search(_e,fragmentWithinToleranceTest.bind(null,tt,rt));return it&&(it!==et||!st)?it:st}function fragmentWithinFastStartSwitch(et,_e,tt){if(_e&&_e.start===0&&_e.level<et.level&&(_e.endPTS||0)>0){const rt=_e.tagList.reduce((nt,st)=>(st[0]==="INF"&&(nt+=parseFloat(st[1])),nt),tt);return et.start<=rt}return!1}function fragmentWithinToleranceTest(et=0,_e=0,tt){if(tt.start<=et&&tt.start+tt.duration>et)return 0;const rt=Math.min(_e,tt.duration+(tt.deltaPTS?tt.deltaPTS:0));return tt.start+tt.duration-rt<=et?1:tt.start-rt>et&&tt.start?-1:0}function pdtWithinToleranceTest(et,_e,tt){const rt=Math.min(_e,tt.duration+(tt.deltaPTS?tt.deltaPTS:0))*1e3;return(tt.endProgramDateTime||0)-rt>et}function findNearestWithCC(et,_e,tt){if(et&&et.startCC<=_e&&et.endCC>=_e){let rt=et.fragments;const{fragmentHint:nt}=et;nt&&(rt=rt.concat(nt));let st;return BinarySearch.search(rt,it=>it.cc<_e?1:it.cc>_e?-1:(st=it,it.end<=tt?1:it.start>tt?-1:0)),st||null}return null}function isTimeoutError(et){switch(et.details){case ErrorDetails.FRAG_LOAD_TIMEOUT:case ErrorDetails.KEY_LOAD_TIMEOUT:case ErrorDetails.LEVEL_LOAD_TIMEOUT:case ErrorDetails.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function getRetryConfig(et,_e){const tt=isTimeoutError(_e);return et.default[`${tt?"timeout":"error"}Retry`]}function getRetryDelay(et,_e){const tt=et.backoff==="linear"?1:Math.pow(2,_e);return Math.min(tt*et.retryDelayMs,et.maxRetryDelayMs)}function getLoaderConfigWithoutReties(et){return _objectSpread2(_objectSpread2({},et),{errorRetry:null,timeoutRetry:null})}function shouldRetry(et,_e,tt,rt){if(!et)return!1;const nt=rt==null?void 0:rt.code,st=_e<et.maxNumRetry&&(retryForHttpStatus(nt)||!!tt);return et.shouldRetry?et.shouldRetry(et,_e,tt,rt,st):st}function retryForHttpStatus(et){return et===0&&navigator.onLine===!1||!!et&&(et<400||et>499)}var NetworkErrorAction={DoNothing:0,SendEndCallback:1,SendAlternateToPenaltyBox:2,RemoveAlternatePermanently:3,InsertDiscontinuity:4,RetryRequest:5},ErrorActionFlags={None:0,MoveAllAlternatesMatchingHost:1,MoveAllAlternatesMatchingHDCP:2,SwitchToSDR:4};class ErrorController extends Logger{constructor(_e){super("error-controller",_e.logger),this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.hls=_e,this.registerListeners()}registerListeners(){const _e=this.hls;_e.on(Events.ERROR,this.onError,this),_e.on(Events.MANIFEST_LOADING,this.onManifestLoading,this),_e.on(Events.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const _e=this.hls;_e&&(_e.off(Events.ERROR,this.onError,this),_e.off(Events.ERROR,this.onErrorOut,this),_e.off(Events.MANIFEST_LOADING,this.onManifestLoading,this),_e.off(Events.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(_e){}stopLoad(){this.playlistError=0}getVariantLevelIndex(_e){return(_e==null?void 0:_e.type)===PlaylistLevelType.MAIN?_e.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(_e,tt){var rt;if(tt.fatal)return;const nt=this.hls,st=tt.context;switch(tt.details){case ErrorDetails.FRAG_LOAD_ERROR:case ErrorDetails.FRAG_LOAD_TIMEOUT:case ErrorDetails.KEY_LOAD_ERROR:case ErrorDetails.KEY_LOAD_TIMEOUT:tt.errorAction=this.getFragRetryOrSwitchAction(tt);return;case ErrorDetails.FRAG_PARSING_ERROR:if((rt=tt.frag)!=null&&rt.gap){tt.errorAction=createDoNothingErrorAction();return}case ErrorDetails.FRAG_GAP:case ErrorDetails.FRAG_DECRYPT_ERROR:{tt.errorAction=this.getFragRetryOrSwitchAction(tt),tt.errorAction.action=NetworkErrorAction.SendAlternateToPenaltyBox;return}case ErrorDetails.LEVEL_EMPTY_ERROR:case ErrorDetails.LEVEL_PARSING_ERROR:{var it;const ot=tt.parent===PlaylistLevelType.MAIN?tt.level:nt.loadLevel;tt.details===ErrorDetails.LEVEL_EMPTY_ERROR&&((it=tt.context)!=null&&(it=it.levelDetails)!=null&&it.live)?tt.errorAction=this.getPlaylistRetryOrSwitchAction(tt,ot):(tt.levelRetry=!1,tt.errorAction=this.getLevelSwitchAction(tt,ot))}return;case ErrorDetails.LEVEL_LOAD_ERROR:case ErrorDetails.LEVEL_LOAD_TIMEOUT:typeof(st==null?void 0:st.level)=="number"&&(tt.errorAction=this.getPlaylistRetryOrSwitchAction(tt,st.level));return;case ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case ErrorDetails.SUBTITLE_LOAD_ERROR:case ErrorDetails.SUBTITLE_TRACK_LOAD_TIMEOUT:if(st){const ot=nt.loadLevelObj;if(ot&&(st.type===PlaylistContextType.AUDIO_TRACK&&ot.hasAudioGroup(st.groupId)||st.type===PlaylistContextType.SUBTITLE_TRACK&&ot.hasSubtitleGroup(st.groupId))){tt.errorAction=this.getPlaylistRetryOrSwitchAction(tt,nt.loadLevel),tt.errorAction.action=NetworkErrorAction.SendAlternateToPenaltyBox,tt.errorAction.flags=ErrorActionFlags.MoveAllAlternatesMatchingHost;return}}return;case ErrorDetails.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const ot=nt.loadLevelObj,lt=ot==null?void 0:ot.attrs["HDCP-LEVEL"];lt?tt.errorAction={action:NetworkErrorAction.SendAlternateToPenaltyBox,flags:ErrorActionFlags.MoveAllAlternatesMatchingHDCP,hdcpLevel:lt}:this.keySystemError(tt)}return;case ErrorDetails.BUFFER_ADD_CODEC_ERROR:case ErrorDetails.REMUX_ALLOC_ERROR:case ErrorDetails.BUFFER_APPEND_ERROR:if(!tt.errorAction){var at;tt.errorAction=this.getLevelSwitchAction(tt,(at=tt.level)!=null?at:nt.loadLevel)}return;case ErrorDetails.INTERNAL_EXCEPTION:case ErrorDetails.BUFFER_APPENDING_ERROR:case ErrorDetails.BUFFER_FULL_ERROR:case ErrorDetails.LEVEL_SWITCH_ERROR:case ErrorDetails.BUFFER_STALLED_ERROR:case ErrorDetails.BUFFER_SEEK_OVER_HOLE:case ErrorDetails.BUFFER_NUDGE_ON_STALL:tt.errorAction=createDoNothingErrorAction();return}tt.type===ErrorTypes.KEY_SYSTEM_ERROR&&this.keySystemError(tt)}keySystemError(_e){const tt=this.getVariantLevelIndex(_e.frag);_e.levelRetry=!1,_e.errorAction=this.getLevelSwitchAction(_e,tt)}getPlaylistRetryOrSwitchAction(_e,tt){const rt=this.hls,nt=getRetryConfig(rt.config.playlistLoadPolicy,_e),st=this.playlistError++;if(shouldRetry(nt,st,isTimeoutError(_e),_e.response))return{action:NetworkErrorAction.RetryRequest,flags:ErrorActionFlags.None,retryConfig:nt,retryCount:st};const at=this.getLevelSwitchAction(_e,tt);return nt&&(at.retryConfig=nt,at.retryCount=st),at}getFragRetryOrSwitchAction(_e){const tt=this.hls,rt=this.getVariantLevelIndex(_e.frag),nt=tt.levels[rt],{fragLoadPolicy:st,keyLoadPolicy:it}=tt.config,at=getRetryConfig(_e.details.startsWith("key")?it:st,_e),ot=tt.levels.reduce((ct,ut)=>ct+ut.fragmentError,0);if(nt&&(_e.details!==ErrorDetails.FRAG_GAP&&nt.fragmentError++,shouldRetry(at,ot,isTimeoutError(_e),_e.response)))return{action:NetworkErrorAction.RetryRequest,flags:ErrorActionFlags.None,retryConfig:at,retryCount:ot};const lt=this.getLevelSwitchAction(_e,rt);return at&&(lt.retryConfig=at,lt.retryCount=ot),lt}getLevelSwitchAction(_e,tt){const rt=this.hls;tt==null&&(tt=rt.loadLevel);const nt=this.hls.levels[tt];if(nt){var st,it;const lt=_e.details;nt.loadError++,lt===ErrorDetails.BUFFER_APPEND_ERROR&&nt.fragmentError++;let ct=-1;const{levels:ut,loadLevel:dt,minAutoLevel:ft,maxAutoLevel:ht}=rt;!rt.autoLevelEnabled&&!rt.config.preserveManualLevelOnError&&(rt.loadLevel=-1);const pt=(st=_e.frag)==null?void 0:st.type,mt=(pt===PlaylistLevelType.AUDIO&&lt===ErrorDetails.FRAG_PARSING_ERROR||_e.sourceBufferName==="audio"&&(lt===ErrorDetails.BUFFER_ADD_CODEC_ERROR||lt===ErrorDetails.BUFFER_APPEND_ERROR))&&ut.some(({audioCodec:Et})=>nt.audioCodec!==Et),vt=_e.sourceBufferName==="video"&&(lt===ErrorDetails.BUFFER_ADD_CODEC_ERROR||lt===ErrorDetails.BUFFER_APPEND_ERROR)&&ut.some(({codecSet:Et,audioCodec:wt})=>nt.codecSet!==Et&&nt.audioCodec===wt),{type:yt,groupId:xt}=(it=_e.context)!=null?it:{};for(let Et=ut.length;Et--;){const wt=(Et+dt)%ut.length;if(wt!==dt&&wt>=ft&&wt<=ht&&ut[wt].loadError===0){var at,ot;const $t=ut[wt];if(lt===ErrorDetails.FRAG_GAP&&pt===PlaylistLevelType.MAIN&&_e.frag){const Tt=ut[wt].details;if(Tt){const St=findFragmentByPTS(_e.frag,Tt.fragments,_e.frag.start);if(St!=null&&St.gap)continue}}else{if(yt===PlaylistContextType.AUDIO_TRACK&&$t.hasAudioGroup(xt)||yt===PlaylistContextType.SUBTITLE_TRACK&&$t.hasSubtitleGroup(xt))continue;if(pt===PlaylistLevelType.AUDIO&&(at=nt.audioGroups)!=null&&at.some(Tt=>$t.hasAudioGroup(Tt))||pt===PlaylistLevelType.SUBTITLE&&(ot=nt.subtitleGroups)!=null&&ot.some(Tt=>$t.hasSubtitleGroup(Tt))||mt&&nt.audioCodec===$t.audioCodec||vt&&nt.codecSet===$t.codecSet||!mt&&nt.codecSet!==$t.codecSet)continue}ct=wt;break}}if(ct>-1&&rt.loadLevel!==ct)return _e.levelRetry=!0,this.playlistError=0,{action:NetworkErrorAction.SendAlternateToPenaltyBox,flags:ErrorActionFlags.None,nextAutoLevel:ct}}return{action:NetworkErrorAction.SendAlternateToPenaltyBox,flags:ErrorActionFlags.MoveAllAlternatesMatchingHost}}onErrorOut(_e,tt){var rt;switch((rt=tt.errorAction)==null?void 0:rt.action){case NetworkErrorAction.DoNothing:break;case NetworkErrorAction.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(tt),!tt.errorAction.resolved&&tt.details!==ErrorDetails.FRAG_GAP?tt.fatal=!0:/MediaSource readyState: ended/.test(tt.error.message)&&(this.warn(`MediaSource ended after "${tt.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError());break}if(tt.fatal){this.hls.stopLoad();return}}sendAlternateToPenaltyBox(_e){const tt=this.hls,rt=_e.errorAction;if(!rt)return;const{flags:nt,hdcpLevel:st,nextAutoLevel:it}=rt;switch(nt){case ErrorActionFlags.None:this.switchLevel(_e,it);break;case ErrorActionFlags.MoveAllAlternatesMatchingHDCP:st&&(tt.maxHdcpLevel=HdcpLevels[HdcpLevels.indexOf(st)-1],rt.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${tt.maxHdcpLevel}" or lower`);break}rt.resolved||this.switchLevel(_e,it)}switchLevel(_e,tt){if(tt!==void 0&&_e.errorAction&&(this.warn(`switching to level ${tt} after ${_e.details}`),this.hls.nextAutoLevel=tt,_e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel,_e.details===ErrorDetails.BUFFER_ADD_CODEC_ERROR&&_e.mimeType&&_e.sourceBufferName!=="audiovideo")){const rt=getCodecsForMimeType(_e.mimeType),nt=this.hls.levels;for(let st=nt.length;st--;)nt[st][`${_e.sourceBufferName}Codec`]===rt&&this.hls.removeLevel(st)}}}function createDoNothingErrorAction(et){const _e={action:NetworkErrorAction.DoNothing,flags:ErrorActionFlags.None};return et&&(_e.resolved=!0),_e}var FragmentState={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};class FragmentTracker{constructor(_e){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=_e,this._registerListeners()}_registerListeners(){const{hls:_e}=this;_e&&(_e.on(Events.MANIFEST_LOADING,this.onManifestLoading,this),_e.on(Events.BUFFER_APPENDED,this.onBufferAppended,this),_e.on(Events.FRAG_BUFFERED,this.onFragBuffered,this),_e.on(Events.FRAG_LOADED,this.onFragLoaded,this))}_unregisterListeners(){const{hls:_e}=this;_e&&(_e.off(Events.MANIFEST_LOADING,this.onManifestLoading,this),_e.off(Events.BUFFER_APPENDED,this.onBufferAppended,this),_e.off(Events.FRAG_BUFFERED,this.onFragBuffered,this),_e.off(Events.FRAG_LOADED,this.onFragLoaded,this))}destroy(){this._unregisterListeners(),this.hls=this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(_e,tt){const rt=this.activePartLists[tt];if(rt)for(let nt=rt.length;nt--;){const st=rt[nt];if(!st)break;if(st.start<=_e&&_e<=st.end&&st.loaded)return st}return this.getBufferedFrag(_e,tt)}getBufferedFrag(_e,tt){return this.getFragAtPos(_e,tt,!0)}getFragAtPos(_e,tt,rt){const{fragments:nt}=this,st=Object.keys(nt);for(let it=st.length;it--;){const at=nt[st[it]];if((at==null?void 0:at.body.type)===tt&&(!rt||at.buffered)){const ot=at.body;if(ot.start<=_e&&_e<=ot.end)return ot}}return null}detectEvictedFragments(_e,tt,rt,nt,st){this.timeRanges&&(this.timeRanges[_e]=tt);const it=(nt==null?void 0:nt.fragment.sn)||-1;Object.keys(this.fragments).forEach(at=>{const ot=this.fragments[at];if(!ot||it>=ot.body.sn)return;if(!ot.buffered&&(!ot.loaded||st)){ot.body.type===rt&&this.removeFragment(ot.body);return}const lt=ot.range[_e];if(lt){if(lt.time.length===0){this.removeFragment(ot.body);return}lt.time.some(ct=>{const ut=!this.isTimeBuffered(ct.startPTS,ct.endPTS,tt);return ut&&this.removeFragment(ot.body),ut})}})}detectPartialFragments(_e){const tt=this.timeRanges;if(!tt||_e.frag.sn==="initSegment")return;const rt=_e.frag,nt=getFragmentKey(rt),st=this.fragments[nt];if(!st||st.buffered&&rt.gap)return;const it=!rt.relurl;Object.keys(tt).forEach(at=>{const ot=rt.elementaryStreams[at];if(!ot)return;const lt=tt[at],ct=it||ot.partial===!0;st.range[at]=this.getBufferedTimes(rt,_e.part,ct,lt)}),st.loaded=null,Object.keys(st.range).length?(st.buffered=!0,(st.body.endList=rt.endList||st.body.endList)&&(this.endListFragments[st.body.type]=st),isPartial(st)||this.removeParts(rt.sn-1,rt.type)):this.removeFragment(st.body)}removeParts(_e,tt){const rt=this.activePartLists[tt];rt&&(this.activePartLists[tt]=filterParts(rt,nt=>nt.fragment.sn>=_e))}fragBuffered(_e,tt){const rt=getFragmentKey(_e);let nt=this.fragments[rt];!nt&&tt&&(nt=this.fragments[rt]={body:_e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},_e.gap&&(this.hasGaps=!0)),nt&&(nt.loaded=null,nt.buffered=!0)}getBufferedTimes(_e,tt,rt,nt){const st={time:[],partial:rt},it=_e.start,at=_e.end,ot=_e.minEndPTS||at,lt=_e.maxStartPTS||it;for(let ct=0;ct<nt.length;ct++){const ut=nt.start(ct)-this.bufferPadding,dt=nt.end(ct)+this.bufferPadding;if(lt>=ut&&ot<=dt){st.time.push({startPTS:Math.max(it,nt.start(ct)),endPTS:Math.min(at,nt.end(ct))});break}else if(it<dt&&at>ut){const ft=Math.max(it,nt.start(ct)),ht=Math.min(at,nt.end(ct));ht>ft&&(st.partial=!0,st.time.push({startPTS:ft,endPTS:ht}))}else if(at<=ut)break}return st}getPartialFragment(_e){let tt=null,rt,nt,st,it=0;const{bufferPadding:at,fragments:ot}=this;return Object.keys(ot).forEach(lt=>{const ct=ot[lt];ct&&isPartial(ct)&&(nt=ct.body.start-at,st=ct.body.end+at,_e>=nt&&_e<=st&&(rt=Math.min(_e-nt,st-_e),it<=rt&&(tt=ct.body,it=rt)))}),tt}isEndListAppended(_e){const tt=this.endListFragments[_e];return tt!==void 0&&(tt.buffered||isPartial(tt))}getState(_e){const tt=getFragmentKey(_e),rt=this.fragments[tt];return rt?rt.buffered?isPartial(rt)?FragmentState.PARTIAL:FragmentState.OK:FragmentState.APPENDING:FragmentState.NOT_LOADED}isTimeBuffered(_e,tt,rt){let nt,st;for(let it=0;it<rt.length;it++){if(nt=rt.start(it)-this.bufferPadding,st=rt.end(it)+this.bufferPadding,_e>=nt&&tt<=st)return!0;if(tt<=nt)return!1}return!1}onManifestLoading(){this.removeAllFragments()}onFragLoaded(_e,tt){if(tt.frag.sn==="initSegment"||tt.frag.bitrateTest)return;const rt=tt.frag,nt=tt.part?null:tt,st=getFragmentKey(rt);this.fragments[st]={body:rt,appendedPTS:null,loaded:nt,buffered:!1,range:Object.create(null)}}onBufferAppended(_e,tt){const{frag:rt,part:nt,timeRanges:st,type:it}=tt;if(rt.sn==="initSegment")return;const at=rt.type;if(nt){let lt=this.activePartLists[at];lt||(this.activePartLists[at]=lt=[]),lt.push(nt)}this.timeRanges=st;const ot=st[it];this.detectEvictedFragments(it,ot,at,nt)}onFragBuffered(_e,tt){this.detectPartialFragments(tt)}hasFragment(_e){const tt=getFragmentKey(_e);return!!this.fragments[tt]}hasFragments(_e){const{fragments:tt}=this,rt=Object.keys(tt);if(!_e)return rt.length>0;for(let nt=rt.length;nt--;){const st=tt[rt[nt]];if((st==null?void 0:st.body.type)===_e)return!0}return!1}hasParts(_e){var tt;return!!((tt=this.activePartLists[_e])!=null&&tt.length)}removeFragmentsInRange(_e,tt,rt,nt,st){nt&&!this.hasGaps||Object.keys(this.fragments).forEach(it=>{const at=this.fragments[it];if(!at)return;const ot=at.body;ot.type!==rt||nt&&!ot.gap||ot.start<tt&&ot.end>_e&&(at.buffered||st)&&this.removeFragment(ot)})}removeFragment(_e){const tt=getFragmentKey(_e);_e.clearElementaryStreamInfo();const rt=this.activePartLists[_e.type];if(rt){const nt=_e.sn;this.activePartLists[_e.type]=filterParts(rt,st=>st.fragment.sn!==nt)}delete this.fragments[tt],_e.endList&&delete this.endListFragments[_e.type]}removeAllFragments(){var _e;this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1;const tt=(_e=this.hls)==null||(_e=_e.latestLevelDetails)==null?void 0:_e.partList;tt&&tt.forEach(rt=>rt.clearElementaryStreamInfo())}}function isPartial(et){var _e,tt,rt;return et.buffered&&!!(et.body.gap||(_e=et.range.video)!=null&&_e.partial||(tt=et.range.audio)!=null&&tt.partial||(rt=et.range.audiovideo)!=null&&rt.partial)}function getFragmentKey(et){return`${et.type}_${et.level}_${et.sn}`}function filterParts(et,_e){return et.filter(tt=>{const rt=_e(tt);return rt||tt.clearElementaryStreamInfo(),rt})}var DecrypterAesMode={cbc:0,ctr:1};class AESCrypto{constructor(_e,tt,rt){this.subtle=void 0,this.aesIV=void 0,this.aesMode=void 0,this.subtle=_e,this.aesIV=tt,this.aesMode=rt}decrypt(_e,tt){switch(this.aesMode){case DecrypterAesMode.cbc:return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},tt,_e);case DecrypterAesMode.ctr:return this.subtle.decrypt({name:"AES-CTR",counter:this.aesIV,length:64},tt,_e);default:throw new Error(`[AESCrypto] invalid aes mode ${this.aesMode}`)}}}function removePadding(et){const _e=et.byteLength,tt=_e&&new DataView(et.buffer).getUint8(_e-1);return tt?et.slice(0,_e-tt):et}class AESDecryptor{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(_e){const tt=new DataView(_e),rt=new Uint32Array(4);for(let nt=0;nt<4;nt++)rt[nt]=tt.getUint32(nt*4);return rt}initTable(){const _e=this.sBox,tt=this.invSBox,rt=this.subMix,nt=rt[0],st=rt[1],it=rt[2],at=rt[3],ot=this.invSubMix,lt=ot[0],ct=ot[1],ut=ot[2],dt=ot[3],ft=new Uint32Array(256);let ht=0,pt=0,gt=0;for(gt=0;gt<256;gt++)gt<128?ft[gt]=gt<<1:ft[gt]=gt<<1^283;for(gt=0;gt<256;gt++){let mt=pt^pt<<1^pt<<2^pt<<3^pt<<4;mt=mt>>>8^mt&255^99,_e[ht]=mt,tt[mt]=ht;const bt=ft[ht],vt=ft[bt],yt=ft[vt];let xt=ft[mt]*257^mt*16843008;nt[ht]=xt<<24|xt>>>8,st[ht]=xt<<16|xt>>>16,it[ht]=xt<<8|xt>>>24,at[ht]=xt,xt=yt*16843009^vt*65537^bt*257^ht*16843008,lt[mt]=xt<<24|xt>>>8,ct[mt]=xt<<16|xt>>>16,ut[mt]=xt<<8|xt>>>24,dt[mt]=xt,ht?(ht=bt^ft[ft[ft[yt^bt]]],pt^=ft[ft[pt]]):ht=pt=1}}expandKey(_e){const tt=this.uint8ArrayToUint32Array_(_e);let rt=!0,nt=0;for(;nt<tt.length&&rt;)rt=tt[nt]===this.key[nt],nt++;if(rt)return;this.key=tt;const st=this.keySize=tt.length;if(st!==4&&st!==6&&st!==8)throw new Error("Invalid aes key size="+st);const it=this.ksRows=(st+6+1)*4;let at,ot;const lt=this.keySchedule=new Uint32Array(it),ct=this.invKeySchedule=new Uint32Array(it),ut=this.sBox,dt=this.rcon,ft=this.invSubMix,ht=ft[0],pt=ft[1],gt=ft[2],mt=ft[3];let bt,vt;for(at=0;at<it;at++){if(at<st){bt=lt[at]=tt[at];continue}vt=bt,at%st===0?(vt=vt<<8|vt>>>24,vt=ut[vt>>>24]<<24|ut[vt>>>16&255]<<16|ut[vt>>>8&255]<<8|ut[vt&255],vt^=dt[at/st|0]<<24):st>6&&at%st===4&&(vt=ut[vt>>>24]<<24|ut[vt>>>16&255]<<16|ut[vt>>>8&255]<<8|ut[vt&255]),lt[at]=bt=(lt[at-st]^vt)>>>0}for(ot=0;ot<it;ot++)at=it-ot,ot&3?vt=lt[at]:vt=lt[at-4],ot<4||at<=4?ct[ot]=vt:ct[ot]=ht[ut[vt>>>24]]^pt[ut[vt>>>16&255]]^gt[ut[vt>>>8&255]]^mt[ut[vt&255]],ct[ot]=ct[ot]>>>0}networkToHostOrderSwap(_e){return _e<<24|(_e&65280)<<8|(_e&16711680)>>8|_e>>>24}decrypt(_e,tt,rt){const nt=this.keySize+6,st=this.invKeySchedule,it=this.invSBox,at=this.invSubMix,ot=at[0],lt=at[1],ct=at[2],ut=at[3],dt=this.uint8ArrayToUint32Array_(rt);let ft=dt[0],ht=dt[1],pt=dt[2],gt=dt[3];const mt=new Int32Array(_e),bt=new Int32Array(mt.length);let vt,yt,xt,Et,wt,$t,Tt,St,Pt,At,Rt,Ct,Dt,Ft;const Mt=this.networkToHostOrderSwap;for(;tt<mt.length;){for(Pt=Mt(mt[tt]),At=Mt(mt[tt+1]),Rt=Mt(mt[tt+2]),Ct=Mt(mt[tt+3]),wt=Pt^st[0],$t=Ct^st[1],Tt=Rt^st[2],St=At^st[3],Dt=4,Ft=1;Ft<nt;Ft++)vt=ot[wt>>>24]^lt[$t>>16&255]^ct[Tt>>8&255]^ut[St&255]^st[Dt],yt=ot[$t>>>24]^lt[Tt>>16&255]^ct[St>>8&255]^ut[wt&255]^st[Dt+1],xt=ot[Tt>>>24]^lt[St>>16&255]^ct[wt>>8&255]^ut[$t&255]^st[Dt+2],Et=ot[St>>>24]^lt[wt>>16&255]^ct[$t>>8&255]^ut[Tt&255]^st[Dt+3],wt=vt,$t=yt,Tt=xt,St=Et,Dt=Dt+4;vt=it[wt>>>24]<<24^it[$t>>16&255]<<16^it[Tt>>8&255]<<8^it[St&255]^st[Dt],yt=it[$t>>>24]<<24^it[Tt>>16&255]<<16^it[St>>8&255]<<8^it[wt&255]^st[Dt+1],xt=it[Tt>>>24]<<24^it[St>>16&255]<<16^it[wt>>8&255]<<8^it[$t&255]^st[Dt+2],Et=it[St>>>24]<<24^it[wt>>16&255]<<16^it[$t>>8&255]<<8^it[Tt&255]^st[Dt+3],bt[tt]=Mt(vt^ft),bt[tt+1]=Mt(Et^ht),bt[tt+2]=Mt(xt^pt),bt[tt+3]=Mt(yt^gt),ft=Pt,ht=At,pt=Rt,gt=Ct,tt=tt+4}return bt.buffer}}class FastAESKey{constructor(_e,tt,rt){this.subtle=void 0,this.key=void 0,this.aesMode=void 0,this.subtle=_e,this.key=tt,this.aesMode=rt}expandKey(){const _e=getSubtleAlgoName(this.aesMode);return this.subtle.importKey("raw",this.key,{name:_e},!1,["encrypt","decrypt"])}}function getSubtleAlgoName(et){switch(et){case DecrypterAesMode.cbc:return"AES-CBC";case DecrypterAesMode.ctr:return"AES-CTR";default:throw new Error(`[FastAESKey] invalid aes mode ${et}`)}}const CHUNK_SIZE=16;class Decrypter{constructor(_e,{removePKCS7Padding:tt=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.enableSoftwareAES=void 0,this.enableSoftwareAES=_e.enableSoftwareAES,this.removePKCS7Padding=tt,tt)try{const rt=self.crypto;rt&&(this.subtle=rt.subtle||rt.webkitSubtle)}catch{}this.useSoftware=!this.subtle}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:_e,remainderData:tt}=this;if(!_e||tt)return this.reset(),null;const rt=new Uint8Array(_e);return this.reset(),this.removePKCS7Padding?removePadding(rt):rt}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(_e,tt,rt,nt){return this.useSoftware?new Promise((st,it)=>{const at=ArrayBuffer.isView(_e)?_e:new Uint8Array(_e);this.softwareDecrypt(at,tt,rt,nt);const ot=this.flush();ot?st(ot.buffer):it(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(_e),tt,rt,nt)}softwareDecrypt(_e,tt,rt,nt){const{currentIV:st,currentResult:it,remainderData:at}=this;if(nt!==DecrypterAesMode.cbc||tt.byteLength!==16)return logger.warn("SoftwareDecrypt: can only handle AES-128-CBC"),null;this.logOnce("JS AES decrypt"),at&&(_e=appendUint8Array(at,_e),this.remainderData=null);const ot=this.getValidChunk(_e);if(!ot.length)return null;st&&(rt=st);let lt=this.softwareDecrypter;lt||(lt=this.softwareDecrypter=new AESDecryptor),lt.expandKey(tt);const ct=it;return this.currentResult=lt.decrypt(ot.buffer,0,rt),this.currentIV=ot.slice(-16).buffer,ct||null}webCryptoDecrypt(_e,tt,rt,nt){if(this.key!==tt||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(_e,tt,rt,nt));this.key=tt,this.fastAesKey=new FastAESKey(this.subtle,tt,nt)}return this.fastAesKey.expandKey().then(st=>this.subtle?(this.logOnce("WebCrypto AES decrypt"),new AESCrypto(this.subtle,new Uint8Array(rt),nt).decrypt(_e.buffer,st)):Promise.reject(new Error("web crypto not initialized"))).catch(st=>(logger.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${st.name}: ${st.message}`),this.onWebCryptoError(_e,tt,rt,nt)))}onWebCryptoError(_e,tt,rt,nt){const st=this.enableSoftwareAES;if(st){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(_e,tt,rt,nt);const it=this.flush();if(it)return it.buffer}throw new Error("WebCrypto"+(st?" and softwareDecrypt":"")+": failed to decrypt data")}getValidChunk(_e){let tt=_e;const rt=_e.length-_e.length%CHUNK_SIZE;return rt!==_e.length&&(tt=_e.slice(0,rt),this.remainderData=_e.slice(rt)),tt}logOnce(_e){this.logEnabled&&(logger.log(`[decrypter]: ${_e}`),this.logEnabled=!1)}}const MIN_CHUNK_SIZE=Math.pow(2,17);class FragmentLoader{constructor(_e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=_e}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(_e,tt){const rt=_e.url;if(!rt)return Promise.reject(new LoadError({type:ErrorTypes.NETWORK_ERROR,details:ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:_e,error:new Error(`Fragment does not have a ${rt?"part list":"url"}`),networkDetails:null}));this.abort();const nt=this.config,st=nt.fLoader,it=nt.loader;return new Promise((at,ot)=>{if(this.loader&&this.loader.destroy(),_e.gap)if(_e.tagList.some(ht=>ht[0]==="GAP")){ot(createGapLoadError(_e));return}else _e.gap=!1;const lt=this.loader=st?new st(nt):new it(nt),ct=createLoaderContext(_e);_e.loader=lt;const ut=getLoaderConfigWithoutReties(nt.fragLoadPolicy.default),dt={loadPolicy:ut,timeout:ut.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:_e.sn==="initSegment"?1/0:MIN_CHUNK_SIZE};_e.stats=lt.stats;const ft={onSuccess:(ht,pt,gt,mt)=>{this.resetLoader(_e,lt);let bt=ht.data;gt.resetIV&&_e.decryptdata&&(_e.decryptdata.iv=new Uint8Array(bt.slice(0,16)),bt=bt.slice(16)),at({frag:_e,part:null,payload:bt,networkDetails:mt})},onError:(ht,pt,gt,mt)=>{this.resetLoader(_e,lt),ot(new LoadError({type:ErrorTypes.NETWORK_ERROR,details:ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:_e,response:_objectSpread2({url:rt,data:void 0},ht),error:new Error(`HTTP Error ${ht.code} ${ht.text}`),networkDetails:gt,stats:mt}))},onAbort:(ht,pt,gt)=>{this.resetLoader(_e,lt),ot(new LoadError({type:ErrorTypes.NETWORK_ERROR,details:ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:_e,error:new Error("Aborted"),networkDetails:gt,stats:ht}))},onTimeout:(ht,pt,gt)=>{this.resetLoader(_e,lt),ot(new LoadError({type:ErrorTypes.NETWORK_ERROR,details:ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:_e,error:new Error(`Timeout after ${dt.timeout}ms`),networkDetails:gt,stats:ht}))}};tt&&(ft.onProgress=(ht,pt,gt,mt)=>tt({frag:_e,part:null,payload:gt,networkDetails:mt})),lt.load(ct,dt,ft)})}loadPart(_e,tt,rt){this.abort();const nt=this.config,st=nt.fLoader,it=nt.loader;return new Promise((at,ot)=>{if(this.loader&&this.loader.destroy(),_e.gap||tt.gap){ot(createGapLoadError(_e,tt));return}const lt=this.loader=st?new st(nt):new it(nt),ct=createLoaderContext(_e,tt);_e.loader=lt;const ut=getLoaderConfigWithoutReties(nt.fragLoadPolicy.default),dt={loadPolicy:ut,timeout:ut.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:MIN_CHUNK_SIZE};tt.stats=lt.stats,lt.load(ct,dt,{onSuccess:(ft,ht,pt,gt)=>{this.resetLoader(_e,lt),this.updateStatsFromPart(_e,tt);const mt={frag:_e,part:tt,payload:ft.data,networkDetails:gt};rt(mt),at(mt)},onError:(ft,ht,pt,gt)=>{this.resetLoader(_e,lt),ot(new LoadError({type:ErrorTypes.NETWORK_ERROR,details:ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:_e,part:tt,response:_objectSpread2({url:ct.url,data:void 0},ft),error:new Error(`HTTP Error ${ft.code} ${ft.text}`),networkDetails:pt,stats:gt}))},onAbort:(ft,ht,pt)=>{_e.stats.aborted=tt.stats.aborted,this.resetLoader(_e,lt),ot(new LoadError({type:ErrorTypes.NETWORK_ERROR,details:ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:_e,part:tt,error:new Error("Aborted"),networkDetails:pt,stats:ft}))},onTimeout:(ft,ht,pt)=>{this.resetLoader(_e,lt),ot(new LoadError({type:ErrorTypes.NETWORK_ERROR,details:ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:_e,part:tt,error:new Error(`Timeout after ${dt.timeout}ms`),networkDetails:pt,stats:ft}))}})})}updateStatsFromPart(_e,tt){const rt=_e.stats,nt=tt.stats,st=nt.total;if(rt.loaded+=nt.loaded,st){const ot=Math.round(_e.duration/tt.duration),lt=Math.min(Math.round(rt.loaded/st),ot),ut=(ot-lt)*Math.round(rt.loaded/lt);rt.total=rt.loaded+ut}else rt.total=Math.max(rt.loaded,rt.total);const it=rt.loading,at=nt.loading;it.start?it.first+=at.first-at.start:(it.start=at.start,it.first=at.first),it.end=at.end}resetLoader(_e,tt){_e.loader=null,this.loader===tt&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),tt.destroy()}}function createLoaderContext(et,_e=null){const tt=_e||et,rt={frag:et,part:_e,responseType:"arraybuffer",url:tt.url,headers:{},rangeStart:0,rangeEnd:0},nt=tt.byteRangeStartOffset,st=tt.byteRangeEndOffset;if(isFiniteNumber(nt)&&isFiniteNumber(st)){var it;let at=nt,ot=st;if(et.sn==="initSegment"&&isMethodFullSegmentAesCbc((it=et.decryptdata)==null?void 0:it.method)){const lt=st-nt;lt%16&&(ot=st+(16-lt%16)),nt!==0&&(rt.resetIV=!0,at=nt-16)}rt.rangeStart=at,rt.rangeEnd=ot}return rt}function createGapLoadError(et,_e){const tt=new Error(`GAP ${et.gap?"tag":"attribute"} found`),rt={type:ErrorTypes.MEDIA_ERROR,details:ErrorDetails.FRAG_GAP,fatal:!1,frag:et,error:tt,networkDetails:null};return _e&&(rt.part=_e),(_e||et).stats.aborted=!0,new LoadError(rt)}function isMethodFullSegmentAesCbc(et){return et==="AES-128"||et==="AES-256"}class LoadError extends Error{constructor(_e){super(_e.error.message),this.data=void 0,this.data=_e}}class TaskLoop extends Logger{constructor(_e,tt){super(_e,tt),this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(_e){return this._tickInterval?!1:(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,_e),!0)}clearInterval(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1}clearNextTick(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1}tick(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}class ChunkMetadata{constructor(_e,tt,rt,nt=0,st=-1,it=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=getNewPerformanceTiming(),this.buffering={audio:getNewPerformanceTiming(),video:getNewPerformanceTiming(),audiovideo:getNewPerformanceTiming()},this.level=_e,this.sn=tt,this.id=rt,this.size=nt,this.part=st,this.partial=it}}function getNewPerformanceTiming(){return{start:0,executeStart:0,executeEnd:0,end:0}}const noopBuffered={length:0,start:()=>0,end:()=>0};class BufferHelper{static isBuffered(_e,tt){if(_e){const rt=BufferHelper.getBuffered(_e);for(let nt=rt.length;nt--;)if(tt>=rt.start(nt)&&tt<=rt.end(nt))return!0}return!1}static bufferedRanges(_e){if(_e){const tt=BufferHelper.getBuffered(_e);return BufferHelper.timeRangesToArray(tt)}return[]}static timeRangesToArray(_e){const tt=[];for(let rt=0;rt<_e.length;rt++)tt.push({start:_e.start(rt),end:_e.end(rt)});return tt}static bufferInfo(_e,tt,rt){if(_e){const nt=BufferHelper.bufferedRanges(_e);if(nt.length)return BufferHelper.bufferedInfo(nt,tt,rt)}return{len:0,start:tt,end:tt,bufferedIndex:-1}}static bufferedInfo(_e,tt,rt){tt=Math.max(0,tt),_e.length>1&&_e.sort((ct,ut)=>ct.start-ut.start||ut.end-ct.end);let nt=-1,st=[];if(rt)for(let ct=0;ct<_e.length;ct++){tt>=_e[ct].start&&tt<=_e[ct].end&&(nt=ct);const ut=st.length;if(ut){const dt=st[ut-1].end;_e[ct].start-dt<rt?_e[ct].end>dt&&(st[ut-1].end=_e[ct].end):st.push(_e[ct])}else st.push(_e[ct])}else st=_e;let it=0,at,ot=tt,lt=tt;for(let ct=0;ct<st.length;ct++){const ut=st[ct].start,dt=st[ct].end;if(nt===-1&&tt>=ut&&tt<=dt&&(nt=ct),tt+rt>=ut&&tt<dt)ot=ut,lt=dt,it=lt-tt;else if(tt+rt<ut){at=ut;break}}return{len:it,start:ot||0,end:lt||0,nextStart:at,buffered:_e,bufferedIndex:nt}}static getBuffered(_e){try{return _e.buffered||noopBuffered}catch(tt){return logger.log("failed to get media.buffered",tt),noopBuffered}}}const VARIABLE_REPLACEMENT_REGEX=/\{\$([a-zA-Z0-9-_]+)\}/g;function hasVariableReferences(et){return VARIABLE_REPLACEMENT_REGEX.test(et)}function substituteVariables(et,_e){if(et.variableList!==null||et.hasVariableRefs){const tt=et.variableList;return _e.replace(VARIABLE_REPLACEMENT_REGEX,rt=>{const nt=rt.substring(2,rt.length-1),st=tt==null?void 0:tt[nt];return st===void 0?(et.playlistParsingError||(et.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${nt}"`)),rt):st})}return _e}function addVariableDefinition(et,_e,tt){let rt=et.variableList;rt||(et.variableList=rt={});let nt,st;if("QUERYPARAM"in _e){nt=_e.QUERYPARAM;try{const it=new self.URL(tt).searchParams;if(it.has(nt))st=it.get(nt);else throw new Error(`"${nt}" does not match any query parameter in URI: "${tt}"`)}catch(it){et.playlistParsingError||(et.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${it.message}`))}}else nt=_e.NAME,st=_e.VALUE;nt in rt?et.playlistParsingError||(et.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${nt}"`)):rt[nt]=st||""}function importVariableDefinition(et,_e,tt){const rt=_e.IMPORT;if(tt&&rt in tt){let nt=et.variableList;nt||(et.variableList=nt={}),nt[rt]=tt[rt]}else et.playlistParsingError||(et.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${rt}"`))}const DECIMAL_RESOLUTION_REGEX=/^(\d+)x(\d+)$/,ATTR_LIST_REGEX=/(.+?)=(".*?"|.*?)(?:,|$)/g;class AttrList{constructor(_e,tt){typeof _e=="string"&&(_e=AttrList.parseAttrList(_e,tt)),_extends$f(this,_e)}get clientAttrs(){return Object.keys(this).filter(_e=>_e.substring(0,2)==="X-")}decimalInteger(_e){const tt=parseInt(this[_e],10);return tt>Number.MAX_SAFE_INTEGER?1/0:tt}hexadecimalInteger(_e){if(this[_e]){let tt=(this[_e]||"0x").slice(2);tt=(tt.length&1?"0":"")+tt;const rt=new Uint8Array(tt.length/2);for(let nt=0;nt<tt.length/2;nt++)rt[nt]=parseInt(tt.slice(nt*2,nt*2+2),16);return rt}return null}hexadecimalIntegerAsNumber(_e){const tt=parseInt(this[_e],16);return tt>Number.MAX_SAFE_INTEGER?1/0:tt}decimalFloatingPoint(_e){return parseFloat(this[_e])}optionalFloat(_e,tt){const rt=this[_e];return rt?parseFloat(rt):tt}enumeratedString(_e){return this[_e]}enumeratedStringList(_e,tt){const rt=this[_e];return(rt?rt.split(/[ ,]+/):[]).reduce((nt,st)=>(nt[st.toLowerCase()]=!0,nt),tt)}bool(_e){return this[_e]==="YES"}decimalResolution(_e){const tt=DECIMAL_RESOLUTION_REGEX.exec(this[_e]);if(tt!==null)return{width:parseInt(tt[1],10),height:parseInt(tt[2],10)}}static parseAttrList(_e,tt){let rt;const nt={},st='"';for(ATTR_LIST_REGEX.lastIndex=0;(rt=ATTR_LIST_REGEX.exec(_e))!==null;){const it=rt[1].trim();let at=rt[2];const ot=at.indexOf(st)===0&&at.lastIndexOf(st)===at.length-1;let lt=!1;if(ot)at=at.slice(1,-1);else switch(it){case"IV":case"SCTE35-CMD":case"SCTE35-IN":case"SCTE35-OUT":lt=!0}if(tt&&(ot||lt))at=substituteVariables(tt,at);else if(!lt&&!ot)switch(it){case"CLOSED-CAPTIONS":if(at==="NONE")break;case"ALLOWED-CPC":case"CLASS":case"ASSOC-LANGUAGE":case"AUDIO":case"BYTERANGE":case"CHANNELS":case"CHARACTERISTICS":case"CODECS":case"DATA-ID":case"END-DATE":case"GROUP-ID":case"ID":case"IMPORT":case"INSTREAM-ID":case"KEYFORMAT":case"KEYFORMATVERSIONS":case"LANGUAGE":case"NAME":case"PATHWAY-ID":case"QUERYPARAM":case"RECENTLY-REMOVED-DATERANGES":case"SERVER-URI":case"STABLE-RENDITION-ID":case"STABLE-VARIANT-ID":case"START-DATE":case"SUBTITLES":case"SUPPLEMENTAL-CODECS":case"URI":case"VALUE":case"VIDEO":case"X-ASSET-LIST":case"X-ASSET-URI":logger.warn(`${_e}: attribute ${it} is missing quotes`)}nt[it]=at}return nt}}const CLASS_INTERSTITIAL="com.apple.hls.interstitial";function isDateRangeCueAttribute(et){return et!=="ID"&&et!=="CLASS"&&et!=="CUE"&&et!=="START-DATE"&&et!=="DURATION"&&et!=="END-DATE"&&et!=="END-ON-NEXT"}function isSCTE35Attribute(et){return et==="SCTE35-OUT"||et==="SCTE35-IN"||et==="SCTE35-CMD"}class DateRange{constructor(_e,tt,rt=0){var nt;if(this.attr=void 0,this.tagAnchor=void 0,this.tagOrder=void 0,this._startDate=void 0,this._endDate=void 0,this._dateAtEnd=void 0,this._cue=void 0,this._badValueForSameId=void 0,this.tagAnchor=(tt==null?void 0:tt.tagAnchor)||null,this.tagOrder=(nt=tt==null?void 0:tt.tagOrder)!=null?nt:rt,tt){const st=tt.attr;for(const it in st)if(Object.prototype.hasOwnProperty.call(_e,it)&&_e[it]!==st[it]){logger.warn(`DATERANGE tag attribute: "${it}" does not match for tags with ID: "${_e.ID}"`),this._badValueForSameId=it;break}_e=_extends$f(new AttrList({}),st,_e)}if(this.attr=_e,tt?(this._startDate=tt._startDate,this._cue=tt._cue,this._endDate=tt._endDate,this._dateAtEnd=tt._dateAtEnd):this._startDate=new Date(_e["START-DATE"]),"END-DATE"in this.attr){const st=(tt==null?void 0:tt.endDate)||new Date(this.attr["END-DATE"]);isFiniteNumber(st.getTime())&&(this._endDate=st)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get cue(){const _e=this._cue;return _e===void 0?this._cue=this.attr.enumeratedStringList(this.attr.CUE?"CUE":"X-CUE",{pre:!1,post:!1,once:!1}):_e}get startTime(){const{tagAnchor:_e}=this;return _e===null||_e.programDateTime===null?(logger.warn(`Expected tagAnchor Fragment with PDT set for DateRange "${this.id}": ${_e}`),NaN):_e.start+(this.startDate.getTime()-_e.programDateTime)/1e3}get startDate(){return this._startDate}get endDate(){const _e=this._endDate||this._dateAtEnd;if(_e)return _e;const tt=this.duration;return tt!==null?this._dateAtEnd=new Date(this._startDate.getTime()+tt*1e3):null}get duration(){if("DURATION"in this.attr){const _e=this.attr.decimalFloatingPoint("DURATION");if(isFiniteNumber(_e))return _e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isInterstitial(){return this.class===CLASS_INTERSTITIAL}get isValid(){return!!this.id&&!this._badValueForSameId&&isFiniteNumber(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)&&(!this.attr.CUE||!this.cue.pre&&!this.cue.post||this.cue.pre!==this.cue.post)&&(!this.isInterstitial||"X-ASSET-URI"in this.attr||"X-ASSET-LIST"in this.attr)}}const DEFAULT_TARGET_DURATION=10;class LevelDetails{constructor(_e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.dateRangeTagCount=0,this.live=!0,this.requestScheduled=-1,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.appliedTimelineOffset=void 0,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=_e}reloaded(_e){if(!_e){this.advanced=!0,this.updated=!0;return}const tt=this.lastPartSn-_e.lastPartSn,rt=this.lastPartIndex-_e.lastPartIndex;this.updated=this.endSN!==_e.endSN||!!rt||!!tt||!this.live,this.advanced=this.endSN>_e.endSN||tt>0||tt===0&&rt>0,this.updated||this.advanced?this.misses=Math.floor(_e.misses*.6):this.misses=_e.misses+1}get hasProgramDateTime(){return this.fragments.length?isFiniteNumber(this.fragments[this.fragments.length-1].programDateTime):!1}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||DEFAULT_TARGET_DURATION}get drift(){const _e=this.driftEndTime-this.driftStartTime;return _e>0?(this.driftEnd-this.driftStart)*1e3/_e:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var _e;return(_e=this.partList)!=null&&_e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){return this.fragments.length?this.fragments[this.fragments.length-1].end:0}get fragmentStart(){return this.fragments.length?this.fragments[0].start:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var _e;return(_e=this.partList)!=null&&_e.length?this.partList[this.partList.length-1].index:-1}get maxPartIndex(){const _e=this.partList;if(_e){const tt=this.lastPartIndex;if(tt!==-1){for(let rt=_e.length;rt--;)if(_e[rt].index>tt)return _e[rt].index;return tt}}return 0}get lastPartSn(){var _e;return(_e=this.partList)!=null&&_e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}get expired(){if(this.live&&this.age&&this.misses<3){const _e=this.partEnd-this.fragmentStart;return this.age>Math.max(_e,this.totalduration)+this.levelTargetDuration}return!1}}function isFullSegmentEncryption(et){return et==="AES-128"||et==="AES-256"||et==="AES-256-CTR"}function getAesModeFromFullSegmentMethod(et){switch(et){case"AES-128":case"AES-256":return DecrypterAesMode.cbc;case"AES-256-CTR":return DecrypterAesMode.ctr;default:throw new Error(`invalid full segment method ${et}`)}}function base64Decode(et){return Uint8Array.from(atob(et),_e=>_e.charCodeAt(0))}function strToUtf8array(et){return Uint8Array.from(unescape(encodeURIComponent(et)),_e=>_e.charCodeAt(0))}function getKeyIdBytes(et){const _e=strToUtf8array(et).subarray(0,16),tt=new Uint8Array(16);return tt.set(_e,16-_e.length),tt}function changeEndianness(et){const _e=function(rt,nt,st){const it=rt[nt];rt[nt]=rt[st],rt[st]=it};_e(et,0,3),_e(et,1,2),_e(et,4,5),_e(et,6,7)}function convertDataUriToArrayBytes(et){const _e=et.split(":");let tt=null;if(_e[0]==="data"&&_e.length===2){const rt=_e[1].split(";"),nt=rt[rt.length-1].split(",");if(nt.length===2){const st=nt[0]==="base64",it=nt[1];st?(rt.splice(-1,1),tt=base64Decode(it)):tt=getKeyIdBytes(it)}}return tt}const optionalSelf=typeof self<"u"?self:void 0;var KeySystems={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},KeySystemFormats={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.streamingkeydelivery",PLAYREADY:"com.microsoft.playready",WIDEVINE:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};function keySystemFormatToKeySystemDomain(et){switch(et){case KeySystemFormats.FAIRPLAY:return KeySystems.FAIRPLAY;case KeySystemFormats.PLAYREADY:return KeySystems.PLAYREADY;case KeySystemFormats.WIDEVINE:return KeySystems.WIDEVINE;case KeySystemFormats.CLEARKEY:return KeySystems.CLEARKEY}}function keySystemDomainToKeySystemFormat(et){switch(et){case KeySystems.FAIRPLAY:return KeySystemFormats.FAIRPLAY;case KeySystems.PLAYREADY:return KeySystemFormats.PLAYREADY;case KeySystems.WIDEVINE:return KeySystemFormats.WIDEVINE;case KeySystems.CLEARKEY:return KeySystemFormats.CLEARKEY}}function getKeySystemsForConfig(et){const{drmSystems:_e,widevineLicenseUrl:tt}=et,rt=_e?[KeySystems.FAIRPLAY,KeySystems.WIDEVINE,KeySystems.PLAYREADY,KeySystems.CLEARKEY].filter(nt=>!!_e[nt]):[];return!rt[KeySystems.WIDEVINE]&&tt&&rt.push(KeySystems.WIDEVINE),rt}const requestMediaKeySystemAccess=function(et){return optionalSelf!=null&&(et=optionalSelf.navigator)!=null&&et.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null}();function getSupportedMediaKeySystemConfigurations(et,_e,tt,rt){let nt;switch(et){case KeySystems.FAIRPLAY:nt=["cenc","sinf"];break;case KeySystems.WIDEVINE:case KeySystems.PLAYREADY:nt=["cenc"];break;case KeySystems.CLEARKEY:nt=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${et}`)}return createMediaKeySystemConfigurations(nt,_e,tt,rt)}function createMediaKeySystemConfigurations(et,_e,tt,rt){return[{initDataTypes:et,persistentState:rt.persistentState||"optional",distinctiveIdentifier:rt.distinctiveIdentifier||"optional",sessionTypes:rt.sessionTypes||[rt.sessionType||"temporary"],audioCapabilities:_e.map(st=>({contentType:`audio/mp4; codecs=${st}`,robustness:rt.audioRobustness||"",encryptionScheme:rt.audioEncryptionScheme||null})),videoCapabilities:tt.map(st=>({contentType:`video/mp4; codecs=${st}`,robustness:rt.videoRobustness||"",encryptionScheme:rt.videoEncryptionScheme||null}))}]}function isPersistentSessionType(et){var _e;return et.sessionType==="persistent-license"||!!((_e=et.sessionTypes)!=null&&_e.some(tt=>tt==="persistent-license"))}function parsePlayReadyWRM(et){const _e=new Uint16Array(et.buffer,et.byteOffset,et.byteLength/2),tt=String.fromCharCode.apply(null,Array.from(_e)),rt=tt.substring(tt.indexOf("<"),tt.length),it=new DOMParser().parseFromString(rt,"text/xml").getElementsByTagName("KID")[0];if(it){const at=it.childNodes[0]?it.childNodes[0].nodeValue:it.getAttribute("VALUE");if(at){const ot=base64Decode(at).subarray(0,16);return changeEndianness(ot),ot}}return null}let keyUriToKeyIdMap={};class LevelKey{static clearKeyUriToKeyIdMap(){keyUriToKeyIdMap={}}constructor(_e,tt,rt,nt=[1],st=null,it){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=_e,this.uri=tt,this.keyFormat=rt,this.keyFormatVersions=nt,this.iv=st,this.encrypted=_e?_e!=="NONE":!1,this.isCommonEncryption=this.encrypted&&!isFullSegmentEncryption(_e),it!=null&&it.startsWith("0x")&&(this.keyId=new Uint8Array(hexToArrayBuffer(it)))}matches(_e){var tt,rt;return _e.uri===this.uri&&_e.method===this.method&&_e.encrypted===this.encrypted&&_e.keyFormat===this.keyFormat&&_e.keyFormatVersions.join(",")===this.keyFormatVersions.join(",")&&((tt=_e.iv)==null?void 0:tt.join(","))===((rt=this.iv)==null?void 0:rt.join(","))}isSupported(){if(this.method){if(isFullSegmentEncryption(this.method)||this.method==="NONE")return!0;if(this.keyFormat==="identity")return this.method==="SAMPLE-AES";switch(this.keyFormat){case KeySystemFormats.FAIRPLAY:case KeySystemFormats.WIDEVINE:case KeySystemFormats.PLAYREADY:case KeySystemFormats.CLEARKEY:return["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1}getDecryptData(_e){if(!this.encrypted||!this.uri)return null;if(isFullSegmentEncryption(this.method)&&this.uri&&!this.iv){typeof _e!="number"&&(logger.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),_e=0);const rt=createInitializationVector(_e);return new LevelKey(this.method,this.uri,"identity",this.keyFormatVersions,rt)}if(this.pssh&&this.keyId)return this;const tt=convertDataUriToArrayBytes(this.uri);if(tt)switch(this.keyFormat){case KeySystemFormats.WIDEVINE:if(this.pssh=tt,!this.keyId&&tt.length>=22){const rt=tt.length-22;this.keyId=tt.subarray(rt,rt+16)}break;case KeySystemFormats.PLAYREADY:{const rt=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=mp4pssh(rt,null,tt),this.keyId=parsePlayReadyWRM(tt);break}default:{let rt=tt.subarray(0,16);if(rt.length!==16){const nt=new Uint8Array(16);nt.set(rt,16-rt.length),rt=nt}this.keyId=rt;break}}if(!this.keyId||this.keyId.byteLength!==16){let rt=keyUriToKeyIdMap[this.uri];if(!rt){const nt=Object.keys(keyUriToKeyIdMap).length%Number.MAX_SAFE_INTEGER;rt=new Uint8Array(16),new DataView(rt.buffer,12,4).setUint32(0,nt),keyUriToKeyIdMap[this.uri]=rt}this.keyId=rt}return this}}function createInitializationVector(et){const _e=new Uint8Array(16);for(let tt=12;tt<16;tt++)_e[tt]=et>>8*(15-tt)&255;return _e}const MASTER_PLAYLIST_REGEX=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,MASTER_PLAYLIST_MEDIA_REGEX=/#EXT-X-MEDIA:(.*)/g,IS_MEDIA_PLAYLIST=/^#EXT(?:INF|-X-TARGETDURATION):/m,LEVEL_PLAYLIST_REGEX_FAST=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#.*/.source].join("|"),"g"),LEVEL_PLAYLIST_REGEX_SLOW=new RegExp([/#EXT-X-(PROGRAM-DATE-TIME|BYTERANGE|DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class M3U8Parser{static findGroup(_e,tt){for(let rt=0;rt<_e.length;rt++){const nt=_e[rt];if(nt.id===tt)return nt}}static resolve(_e,tt){return urlToolkitExports.buildAbsoluteURL(tt,_e,{alwaysNormalize:!0})}static isMediaPlaylist(_e){return IS_MEDIA_PLAYLIST.test(_e)}static parseMasterPlaylist(_e,tt){const rt=hasVariableReferences(_e),nt={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:rt},st=[];MASTER_PLAYLIST_REGEX.lastIndex=0;let it;for(;(it=MASTER_PLAYLIST_REGEX.exec(_e))!=null;)if(it[1]){var at;const lt=new AttrList(it[1],nt),ct=substituteVariables(nt,it[2]),ut={attrs:lt,bitrate:lt.decimalInteger("BANDWIDTH")||lt.decimalInteger("AVERAGE-BANDWIDTH"),name:lt.NAME,url:M3U8Parser.resolve(ct,tt)},dt=lt.decimalResolution("RESOLUTION");dt&&(ut.width=dt.width,ut.height=dt.height),setCodecs(lt.CODECS,ut);const ft=lt["SUPPLEMENTAL-CODECS"];ft&&(ut.supplemental={},setCodecs(ft,ut.supplemental)),(at=ut.unknownCodecs)!=null&&at.length||st.push(ut),nt.levels.push(ut)}else if(it[3]){const lt=it[3],ct=it[4];switch(lt){case"SESSION-DATA":{const ut=new AttrList(ct,nt),dt=ut["DATA-ID"];dt&&(nt.sessionData===null&&(nt.sessionData={}),nt.sessionData[dt]=ut);break}case"SESSION-KEY":{const ut=parseKey(ct,tt,nt);ut.encrypted&&ut.isSupported()?(nt.sessionKeys===null&&(nt.sessionKeys=[]),nt.sessionKeys.push(ut)):logger.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${ct}"`);break}case"DEFINE":{{const ut=new AttrList(ct,nt);addVariableDefinition(nt,ut,tt)}break}case"CONTENT-STEERING":{const ut=new AttrList(ct,nt);nt.contentSteering={uri:M3U8Parser.resolve(ut["SERVER-URI"],tt),pathwayId:ut["PATHWAY-ID"]||"."};break}case"START":{nt.startTimeOffset=parseStartTimeOffset(ct);break}}}const ot=st.length>0&&st.length<nt.levels.length;return nt.levels=ot?st:nt.levels,nt.levels.length===0&&(nt.playlistParsingError=new Error("no levels found in manifest")),nt}static parseMasterPlaylistMedia(_e,tt,rt){let nt;const st={},it=rt.levels,at={AUDIO:it.map(lt=>({id:lt.attrs.AUDIO,audioCodec:lt.audioCodec})),SUBTITLES:it.map(lt=>({id:lt.attrs.SUBTITLES,textCodec:lt.textCodec})),"CLOSED-CAPTIONS":[]};let ot=0;for(MASTER_PLAYLIST_MEDIA_REGEX.lastIndex=0;(nt=MASTER_PLAYLIST_MEDIA_REGEX.exec(_e))!==null;){const lt=new AttrList(nt[1],rt),ct=lt.TYPE;if(ct){const ut=at[ct],dt=st[ct]||[];st[ct]=dt;const ft=lt.LANGUAGE,ht=lt["ASSOC-LANGUAGE"],pt=lt.CHANNELS,gt=lt.CHARACTERISTICS,mt=lt["INSTREAM-ID"],bt={attrs:lt,bitrate:0,id:ot++,groupId:lt["GROUP-ID"]||"",name:lt.NAME||ft||"",type:ct,default:lt.bool("DEFAULT"),autoselect:lt.bool("AUTOSELECT"),forced:lt.bool("FORCED"),lang:ft,url:lt.URI?M3U8Parser.resolve(lt.URI,tt):""};if(ht&&(bt.assocLang=ht),pt&&(bt.channels=pt),gt&&(bt.characteristics=gt),mt&&(bt.instreamId=mt),ut!=null&&ut.length){const vt=M3U8Parser.findGroup(ut,bt.groupId)||ut[0];assignCodec(bt,vt,"audioCodec"),assignCodec(bt,vt,"textCodec")}dt.push(bt)}}return st}static parseLevelPlaylist(_e,tt,rt,nt,st,it){var at;const ot={url:tt},lt=new LevelDetails(tt),ct=lt.fragments,ut=[];let dt=null,ft=0,ht=0,pt=0,gt=0,mt=0,bt=null,vt=new Fragment(nt,ot),yt,xt,Et,wt=-1,$t=!1,Tt=null,St;if(LEVEL_PLAYLIST_REGEX_FAST.lastIndex=0,lt.m3u8=_e,lt.hasVariableRefs=hasVariableReferences(_e),((at=LEVEL_PLAYLIST_REGEX_FAST.exec(_e))==null?void 0:at[0])!=="#EXTM3U")return lt.playlistParsingError=new Error("Missing format identifier #EXTM3U"),lt;for(;(yt=LEVEL_PLAYLIST_REGEX_FAST.exec(_e))!==null;){$t&&($t=!1,vt=new Fragment(nt,ot),vt.playlistOffset=pt,vt.setStart(pt),vt.sn=ft,vt.cc=gt,mt&&(vt.bitrate=mt),vt.level=rt,dt&&(vt.initSegment=dt,dt.rawProgramDateTime&&(vt.rawProgramDateTime=dt.rawProgramDateTime,dt.rawProgramDateTime=null),Tt&&(vt.setByteRange(Tt),Tt=null)));const Ct=yt[1];if(Ct){vt.duration=parseFloat(Ct);const Dt=(" "+yt[2]).slice(1);vt.title=Dt||null,vt.tagList.push(Dt?["INF",Ct,Dt]:["INF",Ct])}else if(yt[3]){if(isFiniteNumber(vt.duration)){vt.playlistOffset=pt,vt.setStart(pt),Et&&setFragLevelKeys(vt,Et,lt),vt.sn=ft,vt.level=rt,vt.cc=gt,ct.push(vt);const Dt=(" "+yt[3]).slice(1);vt.relurl=substituteVariables(lt,Dt),assignProgramDateTime(vt,bt,ut),bt=vt,pt+=vt.duration,ft++,ht=0,$t=!0}}else{if(yt=yt[0].match(LEVEL_PLAYLIST_REGEX_SLOW),!yt){logger.warn("No matches on slow regex match for level playlist!");continue}for(xt=1;xt<yt.length&&yt[xt]===void 0;xt++);const Dt=(" "+yt[xt]).slice(1),Ft=(" "+yt[xt+1]).slice(1),Mt=yt[xt+2]?(" "+yt[xt+2]).slice(1):null;switch(Dt){case"BYTERANGE":bt?vt.setByteRange(Ft,bt):vt.setByteRange(Ft);break;case"PROGRAM-DATE-TIME":vt.rawProgramDateTime=Ft,vt.tagList.push(["PROGRAM-DATE-TIME",Ft]),wt===-1&&(wt=ct.length);break;case"PLAYLIST-TYPE":lt.type&&assignMultipleMediaPlaylistTagOccuranceError(lt,Dt,yt),lt.type=Ft.toUpperCase();break;case"MEDIA-SEQUENCE":lt.startSN!==0?assignMultipleMediaPlaylistTagOccuranceError(lt,Dt,yt):ct.length>0&&assignMustAppearBeforeSegmentsError(lt,Dt,yt),ft=lt.startSN=parseInt(Ft);break;case"SKIP":{lt.skippedSegments&&assignMultipleMediaPlaylistTagOccuranceError(lt,Dt,yt);const Ot=new AttrList(Ft,lt),jt=Ot.decimalInteger("SKIPPED-SEGMENTS");if(isFiniteNumber(jt)){lt.skippedSegments+=jt;for(let _t=jt;_t--;)ct.push(null);ft+=jt}const Ut=Ot.enumeratedString("RECENTLY-REMOVED-DATERANGES");Ut&&(lt.recentlyRemovedDateranges=(lt.recentlyRemovedDateranges||[]).concat(Ut.split("	")));break}case"TARGETDURATION":lt.targetduration!==0&&assignMultipleMediaPlaylistTagOccuranceError(lt,Dt,yt),lt.targetduration=Math.max(parseInt(Ft),1);break;case"VERSION":lt.version!==null&&assignMultipleMediaPlaylistTagOccuranceError(lt,Dt,yt),lt.version=parseInt(Ft);break;case"INDEPENDENT-SEGMENTS":break;case"ENDLIST":lt.live||assignMultipleMediaPlaylistTagOccuranceError(lt,Dt,yt),lt.live=!1;break;case"#":(Ft||Mt)&&vt.tagList.push(Mt?[Ft,Mt]:[Ft]);break;case"DISCONTINUITY":gt++,vt.tagList.push(["DIS"]);break;case"GAP":vt.gap=!0,vt.tagList.push([Dt]);break;case"BITRATE":vt.tagList.push([Dt,Ft]),mt=parseInt(Ft)*1e3,isFiniteNumber(mt)?vt.bitrate=mt:mt=0;break;case"DATERANGE":{const Ot=new AttrList(Ft,lt),jt=new DateRange(Ot,lt.dateRanges[Ot.ID],lt.dateRangeTagCount);lt.dateRangeTagCount++,jt.isValid||lt.skippedSegments?lt.dateRanges[jt.id]=jt:logger.warn(`Ignoring invalid DATERANGE tag: "${Ft}"`),vt.tagList.push(["EXT-X-DATERANGE",Ft]);break}case"DEFINE":{{const Ot=new AttrList(Ft,lt);"IMPORT"in Ot?importVariableDefinition(lt,Ot,it):addVariableDefinition(lt,Ot,tt)}break}case"DISCONTINUITY-SEQUENCE":lt.startCC!==0?assignMultipleMediaPlaylistTagOccuranceError(lt,Dt,yt):ct.length>0&&assignMustAppearBeforeSegmentsError(lt,Dt,yt),lt.startCC=gt=parseInt(Ft);break;case"KEY":{const Ot=parseKey(Ft,tt,lt);if(Ot.isSupported()){if(Ot.method==="NONE"){Et=void 0;break}Et||(Et={});const jt=Et[Ot.keyFormat];jt!=null&&jt.matches(Ot)||(jt&&(Et=_extends$f({},Et)),Et[Ot.keyFormat]=Ot)}else logger.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${Ft}"`);break}case"START":lt.startTimeOffset=parseStartTimeOffset(Ft);break;case"MAP":{const Ot=new AttrList(Ft,lt);if(vt.duration){const jt=new Fragment(nt,ot);setInitSegment(jt,Ot,rt,Et),dt=jt,vt.initSegment=dt,dt.rawProgramDateTime&&!vt.rawProgramDateTime&&(vt.rawProgramDateTime=dt.rawProgramDateTime)}else{const jt=vt.byteRangeEndOffset;if(jt){const Ut=vt.byteRangeStartOffset;Tt=`${jt-Ut}@${Ut}`}else Tt=null;setInitSegment(vt,Ot,rt,Et),dt=vt,$t=!0}dt.cc=gt;break}case"SERVER-CONTROL":{St&&assignMultipleMediaPlaylistTagOccuranceError(lt,Dt,yt),St=new AttrList(Ft),lt.canBlockReload=St.bool("CAN-BLOCK-RELOAD"),lt.canSkipUntil=St.optionalFloat("CAN-SKIP-UNTIL",0),lt.canSkipDateRanges=lt.canSkipUntil>0&&St.bool("CAN-SKIP-DATERANGES"),lt.partHoldBack=St.optionalFloat("PART-HOLD-BACK",0),lt.holdBack=St.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{lt.partTarget&&assignMultipleMediaPlaylistTagOccuranceError(lt,Dt,yt);const Ot=new AttrList(Ft);lt.partTarget=Ot.decimalFloatingPoint("PART-TARGET");break}case"PART":{let Ot=lt.partList;Ot||(Ot=lt.partList=[]);const jt=ht>0?Ot[Ot.length-1]:void 0,Ut=ht++,_t=new AttrList(Ft,lt),It=new Part(_t,vt,ot,Ut,jt);Ot.push(It),vt.duration+=It.duration;break}case"PRELOAD-HINT":{const Ot=new AttrList(Ft,lt);lt.preloadHint=Ot;break}case"RENDITION-REPORT":{const Ot=new AttrList(Ft,lt);lt.renditionReports=lt.renditionReports||[],lt.renditionReports.push(Ot);break}default:logger.warn(`line parsed but not handled: ${yt}`);break}}}bt&&!bt.relurl?(ct.pop(),pt-=bt.duration,lt.partList&&(lt.fragmentHint=bt)):lt.partList&&(assignProgramDateTime(vt,bt,ut),vt.cc=gt,lt.fragmentHint=vt,Et&&setFragLevelKeys(vt,Et,lt)),lt.targetduration||(lt.playlistParsingError=new Error("#EXT-X-TARGETDURATION is required"));const Pt=ct.length,At=ct[0],Rt=ct[Pt-1];if(pt+=lt.skippedSegments*lt.targetduration,pt>0&&Pt&&Rt){lt.averagetargetduration=pt/Pt;const Ct=Rt.sn;lt.endSN=Ct!=="initSegment"?Ct:0,lt.live||(Rt.endList=!0),wt>0&&(backfillProgramDateTimes(ct,wt),At&&ut.unshift(At))}return lt.fragmentHint&&(pt+=lt.fragmentHint.duration),lt.totalduration=pt,ut.length&&lt.dateRangeTagCount&&At&&mapDateRanges(ut,lt),lt.endCC=gt,lt}}function mapDateRanges(et,_e){let tt=et.length;if(!tt)if(_e.hasProgramDateTime){const at=_e.fragments[_e.fragments.length-1];et.push(at),tt++}else return;const rt=et[tt-1],nt=_e.live?1/0:_e.totalduration,st=Object.keys(_e.dateRanges);for(let at=st.length;at--;){const ot=_e.dateRanges[st[at]],lt=ot.startDate.getTime();ot.tagAnchor=rt.ref;for(let ct=tt;ct--;){var it;if(((it=et[ct])==null?void 0:it.sn)<_e.startSN)break;const ut=findFragmentWithStartDate(_e,lt,et,ct,nt);if(ut!==-1){ot.tagAnchor=_e.fragments[ut].ref;break}}}}function findFragmentWithStartDate(et,_e,tt,rt,nt){const st=tt[rt];if(st){const at=st.programDateTime;if(_e>=at||rt===0){var it;const ot=(((it=tt[rt+1])==null?void 0:it.start)||nt)-st.start;if(_e<=at+ot*1e3){const lt=tt[rt].sn-et.startSN;if(lt<0)return-1;const ct=et.fragments;if(ct.length>tt.length){const dt=(tt[rt+1]||ct[ct.length-1]).sn-et.startSN;for(let ft=dt;ft>lt;ft--){const ht=ct[ft].programDateTime;if(_e>=ht&&_e<ht+ct[ft].duration*1e3)return ft}}return lt}}}return-1}function parseKey(et,_e,tt){var rt,nt;const st=new AttrList(et,tt),it=(rt=st.METHOD)!=null?rt:"",at=st.URI,ot=st.hexadecimalInteger("IV"),lt=st.KEYFORMATVERSIONS,ct=(nt=st.KEYFORMAT)!=null?nt:"identity";at&&st.IV&&!ot&&logger.error(`Invalid IV: ${st.IV}`);const ut=at?M3U8Parser.resolve(at,_e):"",dt=(lt||"1").split("/").map(Number).filter(Number.isFinite);return new LevelKey(it,ut,ct,dt,ot,st.KEYID)}function parseStartTimeOffset(et){const tt=new AttrList(et).decimalFloatingPoint("TIME-OFFSET");return isFiniteNumber(tt)?tt:null}function setCodecs(et,_e){let tt=(et||"").split(/[ ,]+/).filter(rt=>rt);["video","audio","text"].forEach(rt=>{const nt=tt.filter(st=>isCodecType(st,rt));nt.length&&(_e[`${rt}Codec`]=nt.map(st=>st.split("/")[0]).join(","),tt=tt.filter(st=>nt.indexOf(st)===-1))}),_e.unknownCodecs=tt}function assignCodec(et,_e,tt){const rt=_e[tt];rt&&(et[tt]=rt)}function backfillProgramDateTimes(et,_e){let tt=et[_e];for(let rt=_e;rt--;){const nt=et[rt];if(!nt)return;nt.programDateTime=tt.programDateTime-nt.duration*1e3,tt=nt}}function assignProgramDateTime(et,_e,tt){et.rawProgramDateTime?tt.push(et):_e!=null&&_e.programDateTime&&(et.programDateTime=_e.endProgramDateTime)}function setInitSegment(et,_e,tt,rt){et.relurl=_e.URI,_e.BYTERANGE&&et.setByteRange(_e.BYTERANGE),et.level=tt,et.sn="initSegment",rt&&(et.levelkeys=rt),et.initSegment=null}function setFragLevelKeys(et,_e,tt){et.levelkeys=_e;const{encryptedFragments:rt}=tt;(!rt.length||rt[rt.length-1].levelkeys!==_e)&&Object.keys(_e).some(nt=>_e[nt].isCommonEncryption)&&rt.push(et)}function assignMultipleMediaPlaylistTagOccuranceError(et,_e,tt){et.playlistParsingError=new Error(`#EXT-X-${_e} must not appear more than once (${tt[0]})`)}function assignMustAppearBeforeSegmentsError(et,_e,tt){et.playlistParsingError=new Error(`#EXT-X-${_e} must appear before the first Media Segment (${tt[0]})`)}function updateFromToPTS(et,_e){const tt=_e.startPTS;if(isFiniteNumber(tt)){let rt=0,nt;_e.sn>et.sn?(rt=tt-et.start,nt=et):(rt=et.start-tt,nt=_e),nt.duration!==rt&&nt.setDuration(rt)}else _e.sn>et.sn?et.cc===_e.cc&&et.minEndPTS?_e.setStart(et.start+(et.minEndPTS-et.start)):_e.setStart(et.start+et.duration):_e.setStart(Math.max(et.start-_e.duration,0))}function updateFragPTSDTS(et,_e,tt,rt,nt,st,it){rt-tt<=0&&(it.warn("Fragment should have a positive duration",_e),rt=tt+_e.duration,st=nt+_e.duration);let ot=tt,lt=rt;const ct=_e.startPTS,ut=_e.endPTS;if(isFiniteNumber(ct)){const mt=Math.abs(ct-tt);et&&mt>et.totalduration?it.warn(`media timestamps and playlist times differ by ${mt}s for level ${_e.level} ${et.url}`):isFiniteNumber(_e.deltaPTS)?_e.deltaPTS=Math.max(mt,_e.deltaPTS):_e.deltaPTS=mt,ot=Math.max(tt,ct),tt=Math.min(tt,ct),nt=_e.startDTS!==void 0?Math.min(nt,_e.startDTS):nt,lt=Math.min(rt,ut),rt=Math.max(rt,ut),st=_e.endDTS!==void 0?Math.max(st,_e.endDTS):st}const dt=tt-_e.start;_e.start!==0&&_e.setStart(tt),_e.setDuration(rt-_e.start),_e.startPTS=tt,_e.maxStartPTS=ot,_e.startDTS=nt,_e.endPTS=rt,_e.minEndPTS=lt,_e.endDTS=st;const ft=_e.sn;if(!et||ft<et.startSN||ft>et.endSN)return 0;let ht;const pt=ft-et.startSN,gt=et.fragments;for(gt[pt]=_e,ht=pt;ht>0;ht--)updateFromToPTS(gt[ht],gt[ht-1]);for(ht=pt;ht<gt.length-1;ht++)updateFromToPTS(gt[ht],gt[ht+1]);return et.fragmentHint&&updateFromToPTS(gt[gt.length-1],et.fragmentHint),et.PTSKnown=et.alignedSliding=!0,dt}function mergeDetails(et,_e,tt){if(et===_e)return;let rt=null;const nt=et.fragments;for(let ct=nt.length-1;ct>=0;ct--){const ut=nt[ct].initSegment;if(ut){rt=ut;break}}et.fragmentHint&&delete et.fragmentHint.endPTS;let st;mapFragmentIntersection(et,_e,(ct,ut,dt,ft)=>{if((!_e.startCC||_e.skippedSegments)&&ut.cc!==ct.cc){const ht=ct.cc-ut.cc;for(let pt=dt;pt<ft.length;pt++)ft[pt].cc+=ht;_e.endCC=ft[ft.length-1].cc}isFiniteNumber(ct.startPTS)&&isFiniteNumber(ct.endPTS)&&(ut.setStart(ut.startPTS=ct.startPTS),ut.startDTS=ct.startDTS,ut.maxStartPTS=ct.maxStartPTS,ut.endPTS=ct.endPTS,ut.endDTS=ct.endDTS,ut.minEndPTS=ct.minEndPTS,ut.setDuration(ct.endPTS-ct.startPTS),ut.duration&&(st=ut),_e.PTSKnown=_e.alignedSliding=!0),ct.hasStreams&&(ut.elementaryStreams=ct.elementaryStreams),ut.loader=ct.loader,ct.hasStats&&(ut.stats=ct.stats),ct.initSegment&&(ut.initSegment=ct.initSegment,rt=ct.initSegment)});const it=_e.fragments,at=_e.fragmentHint?it.concat(_e.fragmentHint):it;if(rt&&at.forEach(ct=>{var ut;ct&&(!ct.initSegment||ct.initSegment.relurl===((ut=rt)==null?void 0:ut.relurl))&&(ct.initSegment=rt)}),_e.skippedSegments){if(_e.deltaUpdateFailed=it.some(ct=>!ct),_e.deltaUpdateFailed){tt.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let ct=_e.skippedSegments;ct--;)it.shift();_e.startSN=it[0].sn}else{_e.canSkipDateRanges&&(_e.dateRanges=mergeDateRanges(et.dateRanges,_e,tt));const ct=et.fragments.filter(ut=>ut.rawProgramDateTime);if(et.hasProgramDateTime&&!_e.hasProgramDateTime)for(let ut=1;ut<at.length;ut++)at[ut].programDateTime===null&&assignProgramDateTime(at[ut],at[ut-1],ct);mapDateRanges(ct,_e)}_e.endCC=it[it.length-1].cc}if(!_e.startCC){var ot;const ct=getFragmentWithSN(et,_e.startSN-1);_e.startCC=(ot=ct==null?void 0:ct.cc)!=null?ot:it[0].cc}mapPartIntersection(et.partList,_e.partList,(ct,ut)=>{ut.elementaryStreams=ct.elementaryStreams,ut.stats=ct.stats}),st?updateFragPTSDTS(_e,st,st.startPTS,st.endPTS,st.startDTS,st.endDTS,tt):adjustSliding(et,_e),it.length&&(_e.totalduration=_e.edge-it[0].start),_e.driftStartTime=et.driftStartTime,_e.driftStart=et.driftStart;const lt=_e.advancedDateTime;if(_e.advanced&&lt){const ct=_e.edge;_e.driftStart||(_e.driftStartTime=lt,_e.driftStart=ct),_e.driftEndTime=lt,_e.driftEnd=ct}else _e.driftEndTime=et.driftEndTime,_e.driftEnd=et.driftEnd,_e.advancedDateTime=et.advancedDateTime;_e.requestScheduled===-1&&(_e.requestScheduled=et.requestScheduled)}function mergeDateRanges(et,_e,tt){const{dateRanges:rt,recentlyRemovedDateranges:nt}=_e,st=_extends$f({},et);nt&&nt.forEach(ot=>{delete st[ot]});const at=Object.keys(st).length;return at?(Object.keys(rt).forEach(ot=>{const lt=st[ot],ct=new DateRange(rt[ot].attr,lt);ct.isValid?(st[ot]=ct,lt||(ct.tagOrder+=at)):tt.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${stringify(rt[ot].attr)}"`)}),st):rt}function mapPartIntersection(et,_e,tt){if(et&&_e){let rt=0;for(let nt=0,st=et.length;nt<=st;nt++){const it=et[nt],at=_e[nt+rt];it&&at&&it.index===at.index&&it.fragment.sn===at.fragment.sn?tt(it,at):rt--}}}function mapFragmentIntersection(et,_e,tt){const rt=_e.skippedSegments,nt=Math.max(et.startSN,_e.startSN)-_e.startSN,st=(et.fragmentHint?1:0)+(rt?_e.endSN:Math.min(et.endSN,_e.endSN))-_e.startSN,it=_e.startSN-et.startSN,at=_e.fragmentHint?_e.fragments.concat(_e.fragmentHint):_e.fragments,ot=et.fragmentHint?et.fragments.concat(et.fragmentHint):et.fragments;for(let lt=nt;lt<=st;lt++){const ct=ot[it+lt];let ut=at[lt];if(rt&&!ut&&ct&&(ut=_e.fragments[lt]=ct),ct&&ut){tt(ct,ut,lt,at);const dt=ct.relurl,ft=ut.relurl;if(dt&&notEqualAfterStrippingQueries(dt,ft)){_e.playlistParsingError=getSequenceError(`media sequence mismatch ${ut.sn}:`,et,_e,ct,ut);return}else if(ct.cc!==ut.cc){_e.playlistParsingError=getSequenceError(`discontinuity sequence mismatch (${ct.cc}!=${ut.cc})`,et,_e,ct,ut);return}}}}function getSequenceError(et,_e,tt,rt,nt){return new Error(`${et} ${nt.url}
Playlist starting @${_e.startSN}
${_e.m3u8}

Playlist starting @${tt.startSN}
${tt.m3u8}`)}function adjustSliding(et,_e,tt=!0){const rt=_e.startSN+_e.skippedSegments-et.startSN,nt=et.fragments,st=rt>=0;let it=0;if(st&&rt<nt.length)it=nt[rt].start;else if(st&&_e.startSN===et.endSN+1)it=et.fragmentEnd;else if(st&&tt)it=et.fragmentStart+rt*_e.levelTargetDuration;else if(!_e.skippedSegments&&_e.fragmentStart===0)it=et.fragmentStart;else return;addSliding(_e,it)}function addSliding(et,_e){if(_e){const tt=et.fragments;for(let rt=et.skippedSegments;rt<tt.length;rt++)tt[rt].addStart(_e);et.fragmentHint&&et.fragmentHint.addStart(_e)}}function computeReloadInterval(et,_e=1/0){let tt=1e3*et.targetduration;if(et.updated){const rt=et.fragments;if(rt.length&&tt*4>_e){const st=rt[rt.length-1].duration*1e3;st<tt&&(tt=st)}}else tt/=2;return Math.round(tt)}function getFragmentWithSN(et,_e,tt){if(!et)return null;let rt=et.fragments[_e-et.startSN];return rt||(rt=et.fragmentHint,rt&&rt.sn===_e)?rt:_e<et.startSN&&tt&&tt.sn===_e?tt:null}function getPartWith(et,_e,tt){return et?findPart(et.partList,_e,tt):null}function findPart(et,_e,tt){if(et)for(let rt=et.length;rt--;){const nt=et[rt];if(nt.index===tt&&nt.fragment.sn===_e)return nt}return null}function reassignFragmentLevelIndexes(et){et.forEach((_e,tt)=>{var rt;(rt=_e.details)==null||rt.fragments.forEach(nt=>{nt.level=tt,nt.initSegment&&(nt.initSegment.level=tt)})})}function notEqualAfterStrippingQueries(et,_e){return et!==_e&&_e?stripQuery(et)!==stripQuery(_e):!1}function stripQuery(et){return et.replace(/\?[^?]*$/,"")}function findFirstFragWithCC(et,_e){for(let rt=0,nt=et.length;rt<nt;rt++){var tt;if(((tt=et[rt])==null?void 0:tt.cc)===_e)return et[rt]}return null}function shouldAlignOnDiscontinuities(et,_e){return!!(et&&_e.startCC<et.endCC&&_e.endCC>et.startCC)}function adjustFragmentStart(et,_e){const tt=et.start+_e;et.startPTS=tt,et.setStart(tt),et.endPTS=tt+et.duration}function adjustSlidingStart(et,_e){const tt=_e.fragments;for(let rt=0,nt=tt.length;rt<nt;rt++)adjustFragmentStart(tt[rt],et);_e.fragmentHint&&adjustFragmentStart(_e.fragmentHint,et),_e.alignedSliding=!0}function alignStream(et,_e){et&&(alignDiscontinuities(_e,et),_e.alignedSliding||alignMediaPlaylistByPDT(_e,et),!_e.alignedSliding&&!_e.skippedSegments&&adjustSliding(et,_e,!1))}function alignDiscontinuities(et,_e){if(!shouldAlignOnDiscontinuities(_e,et))return;const tt=Math.min(_e.endCC,et.endCC),rt=findFirstFragWithCC(_e.fragments,tt),nt=findFirstFragWithCC(et.fragments,tt);if(!rt||!nt)return;logger.log(`Aligning playlist at start of dicontinuity sequence ${tt}`);const st=rt.start-nt.start;adjustSlidingStart(st,et)}function alignMediaPlaylistByPDT(et,_e){if(!et.hasProgramDateTime||!_e.hasProgramDateTime)return;const tt=et.fragments,rt=_e.fragments;if(!tt.length||!rt.length)return;let nt,st;const it=Math.min(_e.endCC,et.endCC);_e.startCC<it&&et.startCC<it&&(nt=findFirstFragWithCC(rt,it),st=findFirstFragWithCC(tt,it)),(!nt||!st)&&(nt=rt[Math.floor(rt.length/2)],st=findFirstFragWithCC(tt,nt.cc)||tt[Math.floor(tt.length/2)]);const at=nt.programDateTime,ot=st.programDateTime;if(!at||!ot)return;const lt=(ot-at)/1e3-(st.start-nt.start);adjustSlidingStart(lt,et)}const TimeRanges={toString:function(et){let _e="";const tt=et.length;for(let rt=0;rt<tt;rt++)_e+=`[${et.start(rt).toFixed(3)}-${et.end(rt).toFixed(3)}]`;return _e}},State={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};class BaseStreamController extends TaskLoop{constructor(_e,tt,rt,nt,st){super(nt,_e.logger),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=State.STOPPED,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.buffering=!0,this.loadingParts=!1,this.loopSn=void 0,this.onMediaSeeking=()=>{const{config:it,fragCurrent:at,media:ot,mediaBuffer:lt,state:ct}=this,ut=ot?ot.currentTime:0,dt=BufferHelper.bufferInfo(lt||ot,ut,it.maxBufferHole),ft=!dt.len;if(this.log(`Media seeking to ${isFiniteNumber(ut)?ut.toFixed(3):ut}, state: ${ct}, ${ft?"out of":"in"} buffer`),this.state===State.ENDED)this.resetLoadingState();else if(at){const ht=it.maxFragLookUpTolerance,pt=at.start-ht,gt=at.start+at.duration+ht;if(ft||gt<dt.start||pt>dt.end){const mt=ut>gt;(ut<pt||mt)&&(mt&&at.loader&&(this.log(`Cancelling fragment load for seek (sn: ${at.sn})`),at.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}if(ot){this.fragmentTracker.removeFragmentsInRange(ut,1/0,this.playlistType,!0);const ht=this.lastCurrentTime;if(ut>ht&&(this.lastCurrentTime=ut),!this.loadingParts){const pt=Math.max(dt.end,ut),gt=this.shouldLoadParts(this.getLevelDetails(),pt);gt&&(this.log(`LL-Part loading ON after seeking to ${ut.toFixed(2)} with buffer @${pt.toFixed(2)}`),this.loadingParts=gt)}}this.hls.hasEnoughToStart||(this.log(`Setting ${ft?"startPosition":"nextLoadPosition"} to ${ut} for seek without enough to start`),this.nextLoadPosition=ut,ft&&(this.startPosition=ut)),this.tickImmediate()},this.onMediaEnded=()=>{this.log("setting startPosition to 0 because media ended"),this.startPosition=this.lastCurrentTime=0},this.playlistType=st,this.hls=_e,this.fragmentLoader=new FragmentLoader(_e.config),this.keyLoader=rt,this.fragmentTracker=tt,this.config=_e.config,this.decrypter=new Decrypter(_e.config)}registerListeners(){const{hls:_e}=this;_e.on(Events.MEDIA_ATTACHED,this.onMediaAttached,this),_e.on(Events.MEDIA_DETACHING,this.onMediaDetaching,this),_e.on(Events.MANIFEST_LOADING,this.onManifestLoading,this),_e.on(Events.MANIFEST_LOADED,this.onManifestLoaded,this),_e.on(Events.ERROR,this.onError,this)}unregisterListeners(){const{hls:_e}=this;_e.off(Events.MEDIA_ATTACHED,this.onMediaAttached,this),_e.off(Events.MEDIA_DETACHING,this.onMediaDetaching,this),_e.off(Events.MANIFEST_LOADING,this.onManifestLoading,this),_e.off(Events.MANIFEST_LOADED,this.onManifestLoaded,this),_e.off(Events.ERROR,this.onError,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(_e){}stopLoad(){if(this.state===State.STOPPED)return;this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const _e=this.fragCurrent;_e!=null&&_e.loader&&(_e.abortRequests(),this.fragmentTracker.removeFragment(_e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=State.STOPPED}get startPositionValue(){const{nextLoadPosition:_e,startPosition:tt}=this;return tt===-1&&_e?_e:tt}get bufferingEnabled(){return this.buffering}pauseBuffering(){this.buffering=!1}resumeBuffering(){this.buffering=!0}get inFlightFrag(){return{frag:this.fragCurrent,state:this.state}}_streamEnded(_e,tt){if(tt.live||!this.media)return!1;const rt=_e.end||0,nt=this.config.timelineOffset||0;if(rt<=nt)return!1;const st=_e.buffered;this.config.maxBufferHole&&st&&st.length>1&&(_e=BufferHelper.bufferedInfo(st,_e.start,0));const it=_e.nextStart;if(it&&it>nt&&it<tt.edge||this.media.currentTime<_e.start)return!1;const ot=tt.partList;if(ot!=null&&ot.length){const ct=ot[ot.length-1];return BufferHelper.isBuffered(this.media,ct.start+ct.duration/2)}const lt=tt.fragments[tt.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(lt)}getLevelDetails(){if(this.levels&&this.levelLastLoaded!==null)return this.levelLastLoaded.details}get timelineOffset(){const _e=this.config.timelineOffset;if(_e){var tt;return((tt=this.getLevelDetails())==null?void 0:tt.appliedTimelineOffset)||_e}return 0}onMediaAttached(_e,tt){const rt=this.media=this.mediaBuffer=tt.media;rt.removeEventListener("seeking",this.onMediaSeeking),rt.removeEventListener("ended",this.onMediaEnded),rt.addEventListener("seeking",this.onMediaSeeking),rt.addEventListener("ended",this.onMediaEnded);const nt=this.config;this.levels&&nt.autoStartLoad&&this.state===State.STOPPED&&this.startLoad(nt.startPosition)}onMediaDetaching(_e,tt){const rt=!!tt.transferMedia,nt=this.media;if(nt!==null){if(nt.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),nt.removeEventListener("seeking",this.onMediaSeeking),nt.removeEventListener("ended",this.onMediaEnded),this.keyLoader&&!rt&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loopSn=void 0,rt){this.resetLoadingState(),this.resetTransmuxer();return}this.loadingParts=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}}onManifestLoading(){this.initPTS=[],this.levels=this.levelLastLoaded=this.fragCurrent=null,this.lastCurrentTime=this.startPosition=0,this.startFragRequested=!1}onError(_e,tt){}onManifestLoaded(_e,tt){this.startTimeOffset=tt.startTimeOffset}onHandlerDestroying(){this.stopLoad(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),super.onHandlerDestroying(),this.hls=this.onMediaSeeking=this.onMediaEnded=null}onHandlerDestroyed(){this.state=State.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(_e,tt,rt){this.startFragRequested=!0,this._loadFragForPlayback(_e,tt,rt)}_loadFragForPlayback(_e,tt,rt){const nt=st=>{const it=st.frag;if(this.fragContextChanged(it)){this.warn(`${it.type} sn: ${it.sn}${st.part?" part: "+st.part.index:""} of ${this.fragInfo(it,!1,st.part)}) was dropped during download.`),this.fragmentTracker.removeFragment(it);return}it.stats.chunkCount++,this._handleFragmentLoadProgress(st)};this._doFragLoad(_e,tt,rt,nt).then(st=>{if(!st)return;const it=this.state,at=st.frag;if(this.fragContextChanged(at)){(it===State.FRAG_LOADING||!this.fragCurrent&&it===State.PARSING)&&(this.fragmentTracker.removeFragment(at),this.state=State.IDLE);return}"payload"in st&&(this.log(`Loaded ${at.type} sn: ${at.sn} of ${this.playlistLabel()} ${at.level}`),this.hls.trigger(Events.FRAG_LOADED,st)),this._handleFragmentLoadComplete(st)}).catch(st=>{this.state===State.STOPPED||this.state===State.ERROR||(this.warn(`Frag error: ${(st==null?void 0:st.message)||st}`),this.resetFragmentLoading(_e))})}clearTrackerIfNeeded(_e){var tt;const{fragmentTracker:rt}=this;if(rt.getState(_e)===FragmentState.APPENDING){const st=_e.type,it=this.getFwdBufferInfo(this.mediaBuffer,st),at=Math.max(_e.duration,it?it.len:this.config.maxBufferLength),ot=this.backtrackFragment;((ot?_e.sn-ot.sn:0)===1||this.reduceMaxBufferLength(at,_e.duration))&&rt.removeFragment(_e)}else((tt=this.mediaBuffer)==null?void 0:tt.buffered.length)===0?rt.removeAllFragments():rt.hasParts(_e.type)&&(rt.detectPartialFragments({frag:_e,part:null,stats:_e.stats,id:_e.type}),rt.getState(_e)===FragmentState.PARTIAL&&rt.removeFragment(_e))}checkLiveUpdate(_e){if(_e.updated&&!_e.live){const tt=_e.fragments[_e.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:tt,part:null,stats:tt.stats,id:tt.type})}_e.fragments[0]||(_e.deltaUpdateFailed=!0)}waitForLive(_e){const tt=_e.details;return(tt==null?void 0:tt.live)&&tt.type!=="EVENT"&&(this.levelLastLoaded!==_e||tt.expired)}flushMainBuffer(_e,tt,rt=null){if(!(_e-tt))return;const nt={startOffset:_e,endOffset:tt,type:rt};this.hls.trigger(Events.BUFFER_FLUSHING,nt)}_loadInitSegment(_e,tt){this._doFragLoad(_e,tt).then(rt=>{const nt=rt==null?void 0:rt.frag;if(!nt||this.fragContextChanged(nt)||!this.levels)throw new Error("init load aborted");return rt}).then(rt=>{const{hls:nt}=this,{frag:st,payload:it}=rt,at=st.decryptdata;if(it&&it.byteLength>0&&at!=null&&at.key&&at.iv&&isFullSegmentEncryption(at.method)){const ot=self.performance.now();return this.decrypter.decrypt(new Uint8Array(it),at.key.buffer,at.iv.buffer,getAesModeFromFullSegmentMethod(at.method)).catch(lt=>{throw nt.trigger(Events.ERROR,{type:ErrorTypes.MEDIA_ERROR,details:ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!1,error:lt,reason:lt.message,frag:st}),lt}).then(lt=>{const ct=self.performance.now();return nt.trigger(Events.FRAG_DECRYPTED,{frag:st,payload:lt,stats:{tstart:ot,tdecrypt:ct}}),rt.payload=lt,this.completeInitSegmentLoad(rt)})}return this.completeInitSegmentLoad(rt)}).catch(rt=>{this.state===State.STOPPED||this.state===State.ERROR||(this.warn(rt),this.resetFragmentLoading(_e))})}completeInitSegmentLoad(_e){const{levels:tt}=this;if(!tt)throw new Error("init load aborted, missing levels");const rt=_e.frag.stats;this.state!==State.STOPPED&&(this.state=State.IDLE),_e.frag.data=new Uint8Array(_e.payload),rt.parsing.start=rt.buffering.start=self.performance.now(),rt.parsing.end=rt.buffering.end=self.performance.now(),this.tick()}unhandledEncryptionError(_e,tt){var rt,nt;const st=_e.tracks;if(st&&!tt.encrypted&&((rt=st.audio)!=null&&rt.encrypted||(nt=st.video)!=null&&nt.encrypted)&&(!this.config.emeEnabled||!this.keyLoader.emeController)){const it=this.media,at=new Error(`Encrypted track with no key in ${this.fragInfo(tt)} (media ${it?"attached mediaKeys: "+it.mediaKeys:"detached"})`);return this.warn(at.message),!it||it.mediaKeys?!1:(this.hls.trigger(Events.ERROR,{type:ErrorTypes.KEY_SYSTEM_ERROR,details:ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!1,error:at,frag:tt}),this.resetTransmuxer(),!0)}return!1}fragContextChanged(_e){const{fragCurrent:tt}=this;return!_e||!tt||_e.sn!==tt.sn||_e.level!==tt.level}fragBufferedComplete(_e,tt){const rt=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log(`Buffered ${_e.type} sn: ${_e.sn}${tt?" part: "+tt.index:""} of ${this.fragInfo(_e,!1,tt)} > buffer:${rt?TimeRanges.toString(BufferHelper.getBuffered(rt)):"(detached)"})`),isMediaFragment(_e)){var nt;if(_e.type!==PlaylistLevelType.SUBTITLE){const it=_e.elementaryStreams;if(!Object.keys(it).some(at=>!!it[at])){this.state=State.IDLE;return}}const st=(nt=this.levels)==null?void 0:nt[_e.level];st!=null&&st.fragmentError&&(this.log(`Resetting level fragment error count of ${st.fragmentError} on frag buffered`),st.fragmentError=0)}this.state=State.IDLE}_handleFragmentLoadComplete(_e){const{transmuxer:tt}=this;if(!tt)return;const{frag:rt,part:nt,partsLoaded:st}=_e,it=!st||st.length===0||st.some(ot=>!ot),at=new ChunkMetadata(rt.level,rt.sn,rt.stats.chunkCount+1,0,nt?nt.index:-1,!it);tt.flush(at)}_handleFragmentLoadProgress(_e){}_doFragLoad(_e,tt,rt=null,nt){var st;this.fragCurrent=_e;const it=tt.details;if(!this.levels||!it)throw new Error(`frag load aborted, missing level${it?"":" detail"}s`);let at=null;_e.encrypted&&!((st=_e.decryptdata)!=null&&st.key)?(this.log(`Loading key for ${_e.sn} of [${it.startSN}-${it.endSN}], ${this.playlistLabel()} ${_e.level}`),this.state=State.KEY_LOADING,this.fragCurrent=_e,at=this.keyLoader.load(_e).then(dt=>{if(!this.fragContextChanged(dt.frag))return this.hls.trigger(Events.KEY_LOADED,dt),this.state===State.KEY_LOADING&&(this.state=State.IDLE),dt}),this.hls.trigger(Events.KEY_LOADING,{frag:_e}),this.fragCurrent===null&&(at=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))):_e.encrypted||(at=this.keyLoader.loadClear(_e,it.encryptedFragments,this.startFragRequested),at&&this.log("[eme] blocking frag load until media-keys acquired"));const ot=this.fragPrevious;if(isMediaFragment(_e)&&(!ot||_e.sn!==ot.sn)){const dt=this.shouldLoadParts(tt.details,_e.end);dt!==this.loadingParts&&(this.log(`LL-Part loading ${dt?"ON":"OFF"} loading sn ${ot==null?void 0:ot.sn}->${_e.sn}`),this.loadingParts=dt)}if(rt=Math.max(_e.start,rt||0),this.loadingParts&&isMediaFragment(_e)){const dt=it.partList;if(dt&&nt){rt>it.fragmentEnd&&it.fragmentHint&&(_e=it.fragmentHint);const ft=this.getNextPart(dt,_e,rt);if(ft>-1){const ht=dt[ft];_e=this.fragCurrent=ht.fragment,this.log(`Loading ${_e.type} sn: ${_e.sn} part: ${ht.index} (${ft}/${dt.length-1}) of ${this.fragInfo(_e,!1,ht)}) cc: ${_e.cc} [${it.startSN}-${it.endSN}], target: ${parseFloat(rt.toFixed(3))}`),this.nextLoadPosition=ht.start+ht.duration,this.state=State.FRAG_LOADING;let pt;return at?pt=at.then(gt=>!gt||this.fragContextChanged(gt.frag)?null:this.doFragPartsLoad(_e,ht,tt,nt)).catch(gt=>this.handleFragLoadError(gt)):pt=this.doFragPartsLoad(_e,ht,tt,nt).catch(gt=>this.handleFragLoadError(gt)),this.hls.trigger(Events.FRAG_LOADING,{frag:_e,part:ht,targetBufferTime:rt}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):pt}else if(!_e.url||this.loadedEndOfParts(dt,rt))return Promise.resolve(null)}}if(isMediaFragment(_e)&&this.loadingParts){var lt;this.log(`LL-Part loading OFF after next part miss @${rt.toFixed(2)} Check buffer at sn: ${_e.sn} loaded parts: ${(lt=it.partList)==null?void 0:lt.filter(dt=>dt.loaded).map(dt=>`[${dt.start}-${dt.end}]`)}`),this.loadingParts=!1}else if(!_e.url)return Promise.resolve(null);this.log(`Loading ${_e.type} sn: ${_e.sn} of ${this.fragInfo(_e,!1)}) cc: ${_e.cc} ${"["+it.startSN+"-"+it.endSN+"]"}, target: ${parseFloat(rt.toFixed(3))}`),isFiniteNumber(_e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=_e.start+_e.duration),this.state=State.FRAG_LOADING;const ct=this.config.progressive;let ut;return ct&&at?ut=at.then(dt=>!dt||this.fragContextChanged(dt.frag)?null:this.fragmentLoader.load(_e,nt)).catch(dt=>this.handleFragLoadError(dt)):ut=Promise.all([this.fragmentLoader.load(_e,ct?nt:void 0),at]).then(([dt])=>(!ct&&nt&&nt(dt),dt)).catch(dt=>this.handleFragLoadError(dt)),this.hls.trigger(Events.FRAG_LOADING,{frag:_e,targetBufferTime:rt}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):ut}doFragPartsLoad(_e,tt,rt,nt){return new Promise((st,it)=>{var at;const ot=[],lt=(at=rt.details)==null?void 0:at.partList,ct=ut=>{this.fragmentLoader.loadPart(_e,ut,nt).then(dt=>{ot[ut.index]=dt;const ft=dt.part;this.hls.trigger(Events.FRAG_LOADED,dt);const ht=getPartWith(rt.details,_e.sn,ut.index+1)||findPart(lt,_e.sn,ut.index+1);if(ht)ct(ht);else return st({frag:_e,part:ft,partsLoaded:ot})}).catch(it)};ct(tt)})}handleFragLoadError(_e){if("data"in _e){const tt=_e.data;tt&&tt.details===ErrorDetails.INTERNAL_ABORTED?this.handleFragLoadAborted(tt.frag,tt.part):this.hls.trigger(Events.ERROR,tt)}else this.hls.trigger(Events.ERROR,{type:ErrorTypes.OTHER_ERROR,details:ErrorDetails.INTERNAL_EXCEPTION,err:_e,error:_e,fatal:!0});return null}_handleTransmuxerFlush(_e){const tt=this.getCurrentContext(_e);if(!tt||this.state!==State.PARSING){!this.fragCurrent&&this.state!==State.STOPPED&&this.state!==State.ERROR&&(this.state=State.IDLE);return}const{frag:rt,part:nt,level:st}=tt,it=self.performance.now();rt.stats.parsing.end=it,nt&&(nt.stats.parsing.end=it);const at=this.getLevelDetails(),lt=at&&rt.sn>at.endSN||this.shouldLoadParts(at,rt.end);lt!==this.loadingParts&&(this.log(`LL-Part loading ${lt?"ON":"OFF"} after parsing segment ending @${rt.end.toFixed(2)}`),this.loadingParts=lt),this.updateLevelTiming(rt,nt,st,_e.partial)}shouldLoadParts(_e,tt){if(this.config.lowLatencyMode){if(!_e)return this.loadingParts;if(_e.partList){var rt;const st=_e.partList[0];if(st.fragment.type===PlaylistLevelType.SUBTITLE)return!1;const it=st.end+(((rt=_e.fragmentHint)==null?void 0:rt.duration)||0);if(tt>=it){var nt;if((this.hls.hasEnoughToStart?((nt=this.media)==null?void 0:nt.currentTime)||this.lastCurrentTime:this.getLoadPosition())>st.start-st.fragment.duration)return!0}}}return!1}getCurrentContext(_e){const{levels:tt,fragCurrent:rt}=this,{level:nt,sn:st,part:it}=_e;if(!(tt!=null&&tt[nt]))return this.warn(`Levels object was unset while buffering fragment ${st} of ${this.playlistLabel()} ${nt}. The current chunk will not be buffered.`),null;const at=tt[nt],ot=at.details,lt=it>-1?getPartWith(ot,st,it):null,ct=lt?lt.fragment:getFragmentWithSN(ot,st,rt);return ct?(rt&&rt!==ct&&(ct.stats=rt.stats),{frag:ct,part:lt,level:at}):null}bufferFragmentData(_e,tt,rt,nt,st){if(this.state!==State.PARSING)return;const{data1:it,data2:at}=_e;let ot=it;if(at&&(ot=appendUint8Array(it,at)),!ot.length)return;const lt=this.initPTS[tt.cc],ct=lt?-lt.baseTime/lt.timescale:void 0,ut={type:_e.type,frag:tt,part:rt,chunkMeta:nt,offset:ct,parent:tt.type,data:ot};if(this.hls.trigger(Events.BUFFER_APPENDING,ut),_e.dropped&&_e.independent&&!rt){if(st)return;this.flushBufferGap(tt)}}flushBufferGap(_e){const tt=this.media;if(!tt)return;if(!BufferHelper.isBuffered(tt,tt.currentTime)){this.flushMainBuffer(0,_e.start);return}const rt=tt.currentTime,nt=BufferHelper.bufferInfo(tt,rt,0),st=_e.duration,it=Math.min(this.config.maxFragLookUpTolerance*2,st*.25),at=Math.max(Math.min(_e.start-it,nt.end-it),rt+it);_e.start-at>it&&this.flushMainBuffer(at,_e.start)}getFwdBufferInfo(_e,tt){var rt;const nt=this.getLoadPosition();if(!isFiniteNumber(nt))return null;const it=this.lastCurrentTime>nt||(rt=this.media)!=null&&rt.paused?0:this.config.maxBufferHole;return this.getFwdBufferInfoAtPos(_e,nt,tt,it)}getFwdBufferInfoAtPos(_e,tt,rt,nt){const st=BufferHelper.bufferInfo(_e,tt,nt);if(st.len===0&&st.nextStart!==void 0){const it=this.fragmentTracker.getBufferedFrag(tt,rt);if(it&&(st.nextStart<=it.end||it.gap)){const at=Math.max(Math.min(st.nextStart,it.end)-tt,nt);return BufferHelper.bufferInfo(_e,tt,at)}}return st}getMaxBufferLength(_e){const{config:tt}=this;let rt;return _e?rt=Math.max(8*tt.maxBufferSize/_e,tt.maxBufferLength):rt=tt.maxBufferLength,Math.min(rt,tt.maxMaxBufferLength)}reduceMaxBufferLength(_e,tt){const rt=this.config,nt=Math.max(Math.min(_e-tt,rt.maxBufferLength),tt),st=Math.max(_e-tt*3,rt.maxMaxBufferLength/2,nt);return st>=nt?(rt.maxMaxBufferLength=st,this.warn(`Reduce max buffer length to ${st}s`),!0):!1}getAppendedFrag(_e,tt=PlaylistLevelType.MAIN){const rt=this.fragmentTracker?this.fragmentTracker.getAppendedFrag(_e,tt):null;return rt&&"fragment"in rt?rt.fragment:rt}getNextFragment(_e,tt){const rt=tt.fragments,nt=rt.length;if(!nt)return null;const{config:st}=this,it=rt[0].start,at=st.lowLatencyMode&&!!tt.partList;let ot=null;if(tt.live){const ut=st.initialLiveManifestSize;if(nt<ut)return this.warn(`Not enough fragments to start playback (have: ${nt}, need: ${ut})`),null;if(!tt.PTSKnown&&!this.startFragRequested&&this.startPosition===-1||_e<it){var lt;at&&!this.loadingParts&&(this.log("LL-Part loading ON for initial live fragment"),this.loadingParts=!0),ot=this.getInitialLiveFragment(tt);const dt=this.hls.startPosition,ft=this.hls.liveSyncPosition,ht=ot?(dt!==-1&&dt>=it?dt:ft)||ot.start:_e;this.log(`Setting startPosition to ${ht} to match start frag at live edge. mainStart: ${dt} liveSyncPosition: ${ft} frag.start: ${(lt=ot)==null?void 0:lt.start}`),this.startPosition=this.nextLoadPosition=ht}}else _e<=it&&(ot=rt[0]);if(!ot){const ut=this.loadingParts?tt.partEnd:tt.fragmentEnd;ot=this.getFragmentAtPosition(_e,ut,tt)}let ct=this.filterReplacedPrimary(ot,tt);if(!ct&&ot){const ut=ot.sn-tt.startSN;ct=this.filterReplacedPrimary(rt[ut+1]||null,tt)}return this.mapToInitFragWhenRequired(ct)}isLoopLoading(_e,tt){const rt=this.fragmentTracker.getState(_e);return(rt===FragmentState.OK||rt===FragmentState.PARTIAL&&!!_e.gap)&&this.nextLoadPosition>tt}getNextFragmentLoopLoading(_e,tt,rt,nt,st){let it=null;if(_e.gap&&(it=this.getNextFragment(this.nextLoadPosition,tt),it&&!it.gap&&rt.nextStart)){const at=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,rt.nextStart,nt,0);if(at!==null&&rt.len+at.len>=st){const ot=it.sn;return this.loopSn!==ot&&(this.log(`buffer full after gaps in "${nt}" playlist starting at sn: ${ot}`),this.loopSn=ot),null}}return this.loopSn=void 0,it}get primaryPrefetch(){if(interstitialsEnabled(this.config)){var _e;if((_e=this.hls.interstitialsManager)==null||(_e=_e.playingItem)==null?void 0:_e.event)return!0}return!1}filterReplacedPrimary(_e,tt){if(!_e)return _e;if(interstitialsEnabled(this.config)&&_e.type!==PlaylistLevelType.SUBTITLE){const rt=this.hls.interstitialsManager,nt=rt==null?void 0:rt.bufferingItem;if(nt){const it=nt.event;if(it){if(it.appendInPlace||Math.abs(_e.start-nt.start)>1||nt.start===0)return null}else if(_e.end<=nt.start&&(tt==null?void 0:tt.live)===!1||_e.start>nt.end&&nt.nextEvent&&(nt.nextEvent.appendInPlace||_e.start-nt.end>1))return null}const st=rt==null?void 0:rt.playerQueue;if(st)for(let it=st.length;it--;){const at=st[it].interstitial;if(at.appendInPlace&&_e.start>=at.startTime&&_e.end<=at.resumeTime)return null}}return _e}mapToInitFragWhenRequired(_e){return _e!=null&&_e.initSegment&&!_e.initSegment.data&&!this.bitrateTest?_e.initSegment:_e}getNextPart(_e,tt,rt){let nt=-1,st=!1,it=!0;for(let at=0,ot=_e.length;at<ot;at++){const lt=_e[at];if(it=it&&!lt.independent,nt>-1&&rt<lt.start)break;const ct=lt.loaded;ct?nt=-1:(st||(lt.independent||it)&&lt.fragment===tt)&&(lt.fragment!==tt&&this.warn(`Need buffer at ${rt} but next unloaded part starts at ${lt.start}`),nt=at),st=ct}return nt}loadedEndOfParts(_e,tt){let rt;for(let nt=_e.length;nt--;){if(rt=_e[nt],!rt.loaded)return!1;if(tt>rt.start)return!0}return!1}getInitialLiveFragment(_e){const tt=_e.fragments,rt=this.fragPrevious;let nt=null;if(rt){if(_e.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${rt.programDateTime}`),nt=findFragmentByPDT(tt,rt.endProgramDateTime,this.config.maxFragLookUpTolerance)),!nt){const st=rt.sn+1;if(st>=_e.startSN&&st<=_e.endSN){const it=tt[st-_e.startSN];rt.cc===it.cc&&(nt=it,this.log(`Live playlist, switching playlist, load frag with next SN: ${nt.sn}`))}nt||(nt=findNearestWithCC(_e,rt.cc,rt.end),nt&&this.log(`Live playlist, switching playlist, load frag with same CC: ${nt.sn}`))}}else{const st=this.hls.liveSyncPosition;st!==null&&(nt=this.getFragmentAtPosition(st,this.bitrateTest?_e.fragmentEnd:_e.edge,_e))}return nt}getFragmentAtPosition(_e,tt,rt){const{config:nt}=this;let{fragPrevious:st}=this,{fragments:it,endSN:at}=rt;const{fragmentHint:ot}=rt,{maxFragLookUpTolerance:lt}=nt,ct=rt.partList,ut=!!(this.loadingParts&&ct!=null&&ct.length&&ot);ut&&!this.bitrateTest&&ct[ct.length-1].fragment.sn===ot.sn&&(it=it.concat(ot),at=ot.sn);let dt;if(_e<tt){var ft;const pt=_e<this.lastCurrentTime||_e>tt-lt||(ft=this.media)!=null&&ft.paused||!this.startFragRequested?0:lt;dt=findFragmentByPTS(st,it,_e,pt)}else dt=it[it.length-1];if(dt){const ht=dt.sn-rt.startSN,pt=this.fragmentTracker.getState(dt);if((pt===FragmentState.OK||pt===FragmentState.PARTIAL&&dt.gap)&&(st=dt),st&&dt.sn===st.sn&&(!ut||ct[0].fragment.sn>dt.sn||!rt.live)&&dt.level===st.level){const mt=it[ht+1];dt.sn<at&&this.fragmentTracker.getState(mt)!==FragmentState.OK?dt=mt:dt=null}}return dt}alignPlaylists(_e,tt,rt){const nt=_e.fragments.length;if(!nt)return this.warn("No fragments in live playlist"),0;const st=_e.fragmentStart,it=!tt,at=_e.alignedSliding&&isFiniteNumber(st);if(it||!at&&!st){alignStream(rt,_e);const ot=_e.fragmentStart;return this.log(`Live playlist sliding: ${ot.toFixed(2)} start-sn: ${tt?tt.startSN:"na"}->${_e.startSN} fragments: ${nt}`),ot}return st}waitForCdnTuneIn(_e){return _e.live&&_e.canBlockReload&&_e.partTarget&&_e.tuneInGoal>Math.max(_e.partHoldBack,_e.partTarget*3)}setStartPosition(_e,tt){let rt=this.startPosition;rt<tt&&(rt=-1);const nt=this.timelineOffset;if(rt===-1){const st=this.startTimeOffset!==null,it=st?this.startTimeOffset:_e.startTimeOffset;it!==null&&isFiniteNumber(it)?(rt=tt+it,it<0&&(rt+=_e.edge),rt=Math.min(Math.max(tt,rt),tt+_e.totalduration),this.log(`Setting startPosition to ${rt} for start time offset ${it} found in ${st?"multivariant":"media"} playlist`),this.startPosition=rt):_e.live?(rt=this.hls.liveSyncPosition||tt,this.log(`Setting startPosition to -1 to start at live edge ${rt}`),this.startPosition=-1):(this.log("setting startPosition to 0 by default"),this.startPosition=rt=0),this.lastCurrentTime=rt+nt}this.nextLoadPosition=rt+nt}getLoadPosition(){var _e;const{media:tt}=this;let rt=0;return(_e=this.hls)!=null&&_e.hasEnoughToStart&&tt?rt=tt.currentTime:this.nextLoadPosition>=0&&(rt=this.nextLoadPosition),rt}handleFragLoadAborted(_e,tt){this.transmuxer&&_e.type===this.playlistType&&isMediaFragment(_e)&&_e.stats.aborted&&(this.log(`Fragment ${_e.sn}${tt?" part "+tt.index:""} of ${this.playlistLabel()} ${_e.level} was aborted`),this.resetFragmentLoading(_e))}resetFragmentLoading(_e){(!this.fragCurrent||!this.fragContextChanged(_e)&&this.state!==State.FRAG_LOADING_WAITING_RETRY)&&(this.state=State.IDLE)}onFragmentOrKeyLoadError(_e,tt){var rt;if(tt.chunkMeta&&!tt.frag){const gt=this.getCurrentContext(tt.chunkMeta);gt&&(tt.frag=gt.frag)}const nt=tt.frag;if(!nt||nt.type!==_e||!this.levels)return;if(this.fragContextChanged(nt)){var st;this.warn(`Frag load error must match current frag to retry ${nt.url} > ${(st=this.fragCurrent)==null?void 0:st.url}`);return}const it=tt.details===ErrorDetails.FRAG_GAP;it&&this.fragmentTracker.fragBuffered(nt,!0);const at=tt.errorAction,{action:ot,flags:lt,retryCount:ct=0,retryConfig:ut}=at||{},dt=!!at&&!!ut,ft=dt&&ot===NetworkErrorAction.RetryRequest,ht=dt&&!at.resolved&&lt===ErrorActionFlags.MoveAllAlternatesMatchingHost,pt=((rt=tt.response)==null?void 0:rt.code)||0;if(!ft&&ht&&isMediaFragment(nt)&&!nt.endList&&pt!==0)this.resetFragmentErrors(_e),this.treatAsGap(nt),at.resolved=!0;else if((ft||ht)&&ct<ut.maxNumRetry){this.resetStartWhenNotLoaded(this.levelLastLoaded);const gt=getRetryDelay(ut,ct);this.warn(`Fragment ${nt.sn} of ${_e} ${nt.level} errored with ${tt.details}, retrying loading ${ct+1}/${ut.maxNumRetry} in ${gt}ms`),at.resolved=!0,this.retryDate=self.performance.now()+gt,this.state=State.FRAG_LOADING_WAITING_RETRY}else if(ut&&at)if(this.resetFragmentErrors(_e),ct<ut.maxNumRetry)!it&&ot!==NetworkErrorAction.RemoveAlternatePermanently&&(at.resolved=!0);else{this.warn(`${tt.details} reached or exceeded max retry (${ct})`);return}else ot===NetworkErrorAction.SendAlternateToPenaltyBox?this.state=State.WAITING_LEVEL:this.state=State.ERROR;this.tickImmediate()}reduceLengthAndFlushBuffer(_e){if(this.state===State.PARSING||this.state===State.PARSED){const tt=_e.frag,rt=_e.parent,nt=this.getFwdBufferInfo(this.mediaBuffer,rt),st=nt&&nt.len>.5;st&&this.reduceMaxBufferLength(nt.len,(tt==null?void 0:tt.duration)||10);const it=!st;return it&&this.warn(`Buffer full error while media.currentTime (${this.getLoadPosition()}) is not buffered, flush ${rt} buffer`),tt&&(this.fragmentTracker.removeFragment(tt),this.nextLoadPosition=tt.start),this.resetLoadingState(),it}return!1}resetFragmentErrors(_e){_e===PlaylistLevelType.AUDIO&&(this.fragCurrent=null),this.hls.hasEnoughToStart||(this.startFragRequested=!1),this.state!==State.STOPPED&&(this.state=State.IDLE)}afterBufferFlushed(_e,tt,rt){if(!_e)return;const nt=BufferHelper.getBuffered(_e);this.fragmentTracker.detectEvictedFragments(tt,nt,rt),this.state===State.ENDED&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state!==State.STOPPED&&(this.state=State.IDLE)}resetStartWhenNotLoaded(_e){if(!this.hls.hasEnoughToStart){this.startFragRequested=!1;const tt=_e?_e.details:null;tt!=null&&tt.live?(this.log("resetting startPosition for live start"),this.startPosition=-1,this.setStartPosition(tt,tt.fragmentStart),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(_e){this.warn(`The loading context changed while buffering fragment ${_e.sn} of ${this.playlistLabel()} ${_e.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState()}removeUnbufferedFrags(_e=0){this.fragmentTracker.removeFragmentsInRange(_e,1/0,this.playlistType,!1,!0)}updateLevelTiming(_e,tt,rt,nt){const st=rt.details;if(!st){this.warn("level.details undefined");return}if(!Object.keys(_e.elementaryStreams).reduce((ot,lt)=>{const ct=_e.elementaryStreams[lt];if(ct){const ut=ct.endPTS-ct.startPTS;if(ut<=0)return this.warn(`Could not parse fragment ${_e.sn} ${lt} duration reliably (${ut})`),ot||!1;const dt=nt?0:updateFragPTSDTS(st,_e,ct.startPTS,ct.endPTS,ct.startDTS,ct.endDTS,this);return this.hls.trigger(Events.LEVEL_PTS_UPDATED,{details:st,level:rt,drift:dt,type:lt,frag:_e,start:ct.startPTS,end:ct.endPTS}),!0}return ot},!1)){var at;if(rt.fragmentError===0&&this.treatAsGap(_e,rt),((at=this.transmuxer)==null?void 0:at.error)===null){const ot=new Error(`Found no media in fragment ${_e.sn} of ${this.playlistLabel()} ${_e.level} resetting transmuxer to fallback to playlist timing`);if(this.warn(ot.message),this.hls.trigger(Events.ERROR,{type:ErrorTypes.MEDIA_ERROR,details:ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,error:ot,frag:_e,reason:`Found no media in msn ${_e.sn} of ${this.playlistLabel()} "${rt.url}"`}),!this.hls)return;this.resetTransmuxer()}}this.state=State.PARSED,this.log(`Parsed ${_e.type} sn: ${_e.sn}${tt?" part: "+tt.index:""} of ${this.fragInfo(_e,!1,tt)})`),this.hls.trigger(Events.FRAG_PARSED,{frag:_e,part:tt})}playlistLabel(){return this.playlistType===PlaylistLevelType.MAIN?"level":"track"}fragInfo(_e,tt=!0,rt){var nt,st;return`${this.playlistLabel()} ${_e.level} (${rt?"part":"frag"}:[${((nt=tt&&!rt?_e.startPTS:(rt||_e).start)!=null?nt:NaN).toFixed(3)}-${((st=tt&&!rt?_e.endPTS:(rt||_e).end)!=null?st:NaN).toFixed(3)}]${rt&&_e.type==="main"?"INDEPENDENT="+(rt.independent?"YES":"NO"):""}`}treatAsGap(_e,tt){tt&&tt.fragmentError++,_e.gap=!0,this.fragmentTracker.removeFragment(_e),this.fragmentTracker.fragBuffered(_e,!0)}resetTransmuxer(){var _e;(_e=this.transmuxer)==null||_e.reset()}recoverWorkerError(_e){_e.event==="demuxerWorker"&&(this.fragmentTracker.removeAllFragments(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState())}set state(_e){const tt=this._state;tt!==_e&&(this._state=_e,this.log(`${tt}->${_e}`))}get state(){return this._state}}function interstitialsEnabled(et){return!!et.interstitialsController&&et.enableInterstitialPlayback!==!1}class ChunkCache{constructor(){this.chunks=[],this.dataLength=0}push(_e){this.chunks.push(_e),this.dataLength+=_e.length}flush(){const{chunks:_e,dataLength:tt}=this;let rt;if(_e.length)_e.length===1?rt=_e[0]:rt=concatUint8Arrays(_e,tt);else return new Uint8Array(0);return this.reset(),rt}reset(){this.chunks.length=0,this.dataLength=0}}function concatUint8Arrays(et,_e){const tt=new Uint8Array(_e);let rt=0;for(let nt=0;nt<et.length;nt++){const st=et[nt];tt.set(st,rt),rt+=st.length}return tt}var eventemitter3={exports:{}},hasRequiredEventemitter3;function requireEventemitter3(){return hasRequiredEventemitter3||(hasRequiredEventemitter3=1,function(et){var _e=Object.prototype.hasOwnProperty,tt="~";function rt(){}Object.create&&(rt.prototype=Object.create(null),new rt().__proto__||(tt=!1));function nt(ot,lt,ct){this.fn=ot,this.context=lt,this.once=ct||!1}function st(ot,lt,ct,ut,dt){if(typeof ct!="function")throw new TypeError("The listener must be a function");var ft=new nt(ct,ut||ot,dt),ht=tt?tt+lt:lt;return ot._events[ht]?ot._events[ht].fn?ot._events[ht]=[ot._events[ht],ft]:ot._events[ht].push(ft):(ot._events[ht]=ft,ot._eventsCount++),ot}function it(ot,lt){--ot._eventsCount===0?ot._events=new rt:delete ot._events[lt]}function at(){this._events=new rt,this._eventsCount=0}at.prototype.eventNames=function(){var lt=[],ct,ut;if(this._eventsCount===0)return lt;for(ut in ct=this._events)_e.call(ct,ut)&&lt.push(tt?ut.slice(1):ut);return Object.getOwnPropertySymbols?lt.concat(Object.getOwnPropertySymbols(ct)):lt},at.prototype.listeners=function(lt){var ct=tt?tt+lt:lt,ut=this._events[ct];if(!ut)return[];if(ut.fn)return[ut.fn];for(var dt=0,ft=ut.length,ht=new Array(ft);dt<ft;dt++)ht[dt]=ut[dt].fn;return ht},at.prototype.listenerCount=function(lt){var ct=tt?tt+lt:lt,ut=this._events[ct];return ut?ut.fn?1:ut.length:0},at.prototype.emit=function(lt,ct,ut,dt,ft,ht){var pt=tt?tt+lt:lt;if(!this._events[pt])return!1;var gt=this._events[pt],mt=arguments.length,bt,vt;if(gt.fn){switch(gt.once&&this.removeListener(lt,gt.fn,void 0,!0),mt){case 1:return gt.fn.call(gt.context),!0;case 2:return gt.fn.call(gt.context,ct),!0;case 3:return gt.fn.call(gt.context,ct,ut),!0;case 4:return gt.fn.call(gt.context,ct,ut,dt),!0;case 5:return gt.fn.call(gt.context,ct,ut,dt,ft),!0;case 6:return gt.fn.call(gt.context,ct,ut,dt,ft,ht),!0}for(vt=1,bt=new Array(mt-1);vt<mt;vt++)bt[vt-1]=arguments[vt];gt.fn.apply(gt.context,bt)}else{var yt=gt.length,xt;for(vt=0;vt<yt;vt++)switch(gt[vt].once&&this.removeListener(lt,gt[vt].fn,void 0,!0),mt){case 1:gt[vt].fn.call(gt[vt].context);break;case 2:gt[vt].fn.call(gt[vt].context,ct);break;case 3:gt[vt].fn.call(gt[vt].context,ct,ut);break;case 4:gt[vt].fn.call(gt[vt].context,ct,ut,dt);break;default:if(!bt)for(xt=1,bt=new Array(mt-1);xt<mt;xt++)bt[xt-1]=arguments[xt];gt[vt].fn.apply(gt[vt].context,bt)}}return!0},at.prototype.on=function(lt,ct,ut){return st(this,lt,ct,ut,!1)},at.prototype.once=function(lt,ct,ut){return st(this,lt,ct,ut,!0)},at.prototype.removeListener=function(lt,ct,ut,dt){var ft=tt?tt+lt:lt;if(!this._events[ft])return this;if(!ct)return it(this,ft),this;var ht=this._events[ft];if(ht.fn)ht.fn===ct&&(!dt||ht.once)&&(!ut||ht.context===ut)&&it(this,ft);else{for(var pt=0,gt=[],mt=ht.length;pt<mt;pt++)(ht[pt].fn!==ct||dt&&!ht[pt].once||ut&&ht[pt].context!==ut)&&gt.push(ht[pt]);gt.length?this._events[ft]=gt.length===1?gt[0]:gt:it(this,ft)}return this},at.prototype.removeAllListeners=function(lt){var ct;return lt?(ct=tt?tt+lt:lt,this._events[ct]&&it(this,ct)):(this._events=new rt,this._eventsCount=0),this},at.prototype.off=at.prototype.removeListener,at.prototype.addListener=at.prototype.on,at.prefixed=tt,at.EventEmitter=at,et.exports=at}(eventemitter3)),eventemitter3.exports}var eventemitter3Exports=requireEventemitter3(),EventEmitter=getDefaultExportFromCjs(eventemitter3Exports);const version="1.6.10",workerStore={};function hasUMDWorker(){return typeof __HLS_WORKER_BUNDLE__=="function"}function injectWorker(){const et=workerStore[version];if(et)return et.clientCount++,et;const _e=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),tt=self.URL.createObjectURL(_e),nt={worker:new self.Worker(tt),objectURL:tt,clientCount:1};return workerStore[version]=nt,nt}function loadWorker(et){const _e=workerStore[et];if(_e)return _e.clientCount++,_e;const tt=new self.URL(et,self.location.href).href,nt={worker:new self.Worker(tt),scriptURL:tt,clientCount:1};return workerStore[et]=nt,nt}function removeWorkerFromStore(et){const _e=workerStore[et||version];if(_e&&_e.clientCount--===1){const{worker:rt,objectURL:nt}=_e;delete workerStore[et||version],nt&&self.URL.revokeObjectURL(nt),rt.terminate()}}function isId3Footer(et,_e){return _e+10<=et.length&&et[_e]===51&&et[_e+1]===68&&et[_e+2]===73&&et[_e+3]<255&&et[_e+4]<255&&et[_e+6]<128&&et[_e+7]<128&&et[_e+8]<128&&et[_e+9]<128}function isId3Header(et,_e){return _e+10<=et.length&&et[_e]===73&&et[_e+1]===68&&et[_e+2]===51&&et[_e+3]<255&&et[_e+4]<255&&et[_e+6]<128&&et[_e+7]<128&&et[_e+8]<128&&et[_e+9]<128}function readId3Size(et,_e){let tt=0;return tt=(et[_e]&127)<<21,tt|=(et[_e+1]&127)<<14,tt|=(et[_e+2]&127)<<7,tt|=et[_e+3]&127,tt}function getId3Data(et,_e){const tt=_e;let rt=0;for(;isId3Header(et,_e);){rt+=10;const nt=readId3Size(et,_e+6);rt+=nt,isId3Footer(et,_e+10)&&(rt+=10),_e+=rt}if(rt>0)return et.subarray(tt,tt+rt)}function getAudioConfig(et,_e,tt,rt){const nt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],st=_e[tt+2],it=st>>2&15;if(it>12){const ft=new Error(`invalid ADTS sampling index:${it}`);et.emit(Events.ERROR,Events.ERROR,{type:ErrorTypes.MEDIA_ERROR,details:ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,error:ft,reason:ft.message});return}const at=(st>>6&3)+1,ot=_e[tt+3]>>6&3|(st&1)<<2,lt="mp4a.40."+at,ct=nt[it];let ut=it;(at===5||at===29)&&(ut-=3);const dt=[at<<3|(ut&14)>>1,(ut&1)<<7|ot<<3];return logger.log(`manifest codec:${rt}, parsed codec:${lt}, channels:${ot}, rate:${ct} (ADTS object type:${at} sampling index:${it})`),{config:dt,samplerate:ct,channelCount:ot,codec:lt,parsedCodec:lt,manifestCodec:rt}}function isHeaderPattern$1(et,_e){return et[_e]===255&&(et[_e+1]&246)===240}function getHeaderLength(et,_e){return et[_e+1]&1?7:9}function getFullFrameLength(et,_e){return(et[_e+3]&3)<<11|et[_e+4]<<3|(et[_e+5]&224)>>>5}function canGetFrameLength(et,_e){return _e+5<et.length}function isHeader$1(et,_e){return _e+1<et.length&&isHeaderPattern$1(et,_e)}function canParse$1(et,_e){return canGetFrameLength(et,_e)&&isHeaderPattern$1(et,_e)&&getFullFrameLength(et,_e)<=et.length-_e}function probe$1(et,_e){if(isHeader$1(et,_e)){const tt=getHeaderLength(et,_e);if(_e+tt>=et.length)return!1;const rt=getFullFrameLength(et,_e);if(rt<=tt)return!1;const nt=_e+rt;return nt===et.length||isHeader$1(et,nt)}return!1}function initTrackConfig(et,_e,tt,rt,nt){if(!et.samplerate){const st=getAudioConfig(_e,tt,rt,nt);if(!st)return;_extends$f(et,st)}}function getFrameDuration(et){return 1024*9e4/et}function parseFrameHeader(et,_e){const tt=getHeaderLength(et,_e);if(_e+tt<=et.length){const rt=getFullFrameLength(et,_e)-tt;if(rt>0)return{headerLength:tt,frameLength:rt}}}function appendFrame$2(et,_e,tt,rt,nt){const st=getFrameDuration(et.samplerate),it=rt+nt*st,at=parseFrameHeader(_e,tt);let ot;if(at){const{frameLength:ut,headerLength:dt}=at,ft=dt+ut,ht=Math.max(0,tt+ft-_e.length);ht?(ot=new Uint8Array(ft-dt),ot.set(_e.subarray(tt+dt,_e.length),0)):ot=_e.subarray(tt+dt,tt+ft);const pt={unit:ot,pts:it};return ht||et.samples.push(pt),{sample:pt,length:ft,missing:ht}}const lt=_e.length-tt;return ot=new Uint8Array(lt),ot.set(_e.subarray(tt,_e.length),0),{sample:{unit:ot,pts:it},length:lt,missing:-1}}function canParseId3(et,_e){return isId3Header(et,_e)&&readId3Size(et,_e+6)+10<=et.length-_e}function toArrayBuffer(et){return et instanceof ArrayBuffer?et:et.byteOffset==0&&et.byteLength==et.buffer.byteLength?et.buffer:new Uint8Array(et).buffer}function toUint8(et,_e=0,tt=1/0){return view(et,_e,tt,Uint8Array)}function view(et,_e,tt,rt){const nt=unsafeGetArrayBuffer(et);let st=1;"BYTES_PER_ELEMENT"in rt&&(st=rt.BYTES_PER_ELEMENT);const it=isArrayBufferView(et)?et.byteOffset:0,at=(it+et.byteLength)/st,ot=(it+_e)/st,lt=Math.floor(Math.max(0,Math.min(ot,at))),ct=Math.floor(Math.min(lt+Math.max(tt,0),at));return new rt(nt,lt,ct-lt)}function unsafeGetArrayBuffer(et){return et instanceof ArrayBuffer?et:et.buffer}function isArrayBufferView(et){return et&&et.buffer instanceof ArrayBuffer&&et.byteLength!==void 0&&et.byteOffset!==void 0}function decodeId3ImageFrame(et){const _e={key:et.type,description:"",data:"",mimeType:null,pictureType:null},tt=3;if(et.size<2)return;if(et.data[0]!==tt){console.log("Ignore frame with unrecognized character encoding");return}const rt=et.data.subarray(1).indexOf(0);if(rt===-1)return;const nt=utf8ArrayToStr(toUint8(et.data,1,rt)),st=et.data[2+rt],it=et.data.subarray(3+rt).indexOf(0);if(it===-1)return;const at=utf8ArrayToStr(toUint8(et.data,3+rt,it));let ot;return nt==="-->"?ot=utf8ArrayToStr(toUint8(et.data,4+rt+it)):ot=toArrayBuffer(et.data.subarray(4+rt+it)),_e.mimeType=nt,_e.pictureType=st,_e.description=at,_e.data=ot,_e}function decodeId3PrivFrame(et){if(et.size<2)return;const _e=utf8ArrayToStr(et.data,!0),tt=new Uint8Array(et.data.subarray(_e.length+1));return{key:et.type,info:_e,data:tt.buffer}}function decodeId3TextFrame(et){if(et.size<2)return;if(et.type==="TXXX"){let tt=1;const rt=utf8ArrayToStr(et.data.subarray(tt),!0);tt+=rt.length+1;const nt=utf8ArrayToStr(et.data.subarray(tt));return{key:et.type,info:rt,data:nt}}const _e=utf8ArrayToStr(et.data.subarray(1));return{key:et.type,info:"",data:_e}}function decodeId3UrlFrame(et){if(et.type==="WXXX"){if(et.size<2)return;let tt=1;const rt=utf8ArrayToStr(et.data.subarray(tt),!0);tt+=rt.length+1;const nt=utf8ArrayToStr(et.data.subarray(tt));return{key:et.type,info:rt,data:nt}}const _e=utf8ArrayToStr(et.data);return{key:et.type,info:"",data:_e}}function decodeId3Frame(et){return et.type==="PRIV"?decodeId3PrivFrame(et):et.type[0]==="W"?decodeId3UrlFrame(et):et.type==="APIC"?decodeId3ImageFrame(et):decodeId3TextFrame(et)}function getId3FrameData(et){const _e=String.fromCharCode(et[0],et[1],et[2],et[3]),tt=readId3Size(et,4),rt=10;return{type:_e,size:tt,data:et.subarray(rt,rt+tt)}}const HEADER_FOOTER_SIZE=10,FRAME_SIZE=10;function getId3Frames(et){let _e=0;const tt=[];for(;isId3Header(et,_e);){const rt=readId3Size(et,_e+6);et[_e+5]>>6&1&&(_e+=HEADER_FOOTER_SIZE),_e+=HEADER_FOOTER_SIZE;const nt=_e+rt;for(;_e+FRAME_SIZE<nt;){const st=getId3FrameData(et.subarray(_e)),it=decodeId3Frame(st);it&&tt.push(it),_e+=st.size+HEADER_FOOTER_SIZE}isId3Footer(et,_e)&&(_e+=HEADER_FOOTER_SIZE)}return tt}function isId3TimestampFrame(et){return et&&et.key==="PRIV"&&et.info==="com.apple.streaming.transportStreamTimestamp"}function readId3Timestamp(et){if(et.data.byteLength===8){const _e=new Uint8Array(et.data),tt=_e[3]&1;let rt=(_e[4]<<23)+(_e[5]<<15)+(_e[6]<<7)+_e[7];return rt/=45,tt&&(rt+=4772185884e-2),Math.round(rt)}}function getId3Timestamp(et){const _e=getId3Frames(et);for(let tt=0;tt<_e.length;tt++){const rt=_e[tt];if(isId3TimestampFrame(rt))return readId3Timestamp(rt)}}let MetadataSchema=function(et){return et.audioId3="org.id3",et.dateRange="com.apple.quicktime.HLS",et.emsg="https://aomedia.org/emsg/ID3",et.misbklv="urn:misb:KLV:bin:1910.1",et}({});function dummyTrack(et="",_e=9e4){return{type:et,id:-1,pid:-1,inputTimeScale:_e,sequenceNumber:-1,samples:[],dropped:0}}class BaseAudioDemuxer{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(_e,tt,rt,nt){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(_e){this.initPTS=_e,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(_e,tt){return!1}appendFrame(_e,tt,rt){}demux(_e,tt){this.cachedData&&(_e=appendUint8Array(this.cachedData,_e),this.cachedData=null);let rt=getId3Data(_e,0),nt=rt?rt.length:0,st;const it=this._audioTrack,at=this._id3Track,ot=rt?getId3Timestamp(rt):void 0,lt=_e.length;for((this.basePTS===null||this.frameIndex===0&&isFiniteNumber(ot))&&(this.basePTS=initPTSFn(ot,tt,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),rt&&rt.length>0&&at.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:rt,type:MetadataSchema.audioId3,duration:Number.POSITIVE_INFINITY});nt<lt;){if(this.canParse(_e,nt)){const ct=this.appendFrame(it,_e,nt);ct?(this.frameIndex++,this.lastPTS=ct.sample.pts,nt+=ct.length,st=nt):nt=lt}else canParseId3(_e,nt)?(rt=getId3Data(_e,nt),at.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:rt,type:MetadataSchema.audioId3,duration:Number.POSITIVE_INFINITY}),nt+=rt.length,st=nt):nt++;if(nt===lt&&st!==lt){const ct=_e.slice(st);this.cachedData?this.cachedData=appendUint8Array(this.cachedData,ct):this.cachedData=ct}}return{audioTrack:it,videoTrack:dummyTrack(),id3Track:at,textTrack:dummyTrack()}}demuxSampleAes(_e,tt,rt){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(_e){const tt=this.cachedData;return tt&&(this.cachedData=null,this.demux(tt,0)),{audioTrack:this._audioTrack,videoTrack:dummyTrack(),id3Track:this._id3Track,textTrack:dummyTrack()}}destroy(){this.cachedData=null,this._audioTrack=this._id3Track=void 0}}const initPTSFn=(et,_e,tt)=>{if(isFiniteNumber(et))return et*90;const rt=tt?tt.baseTime*9e4/tt.timescale:0;return _e*9e4+rt};let chromeVersion$1=null;const BitratesMap=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot=[0,1,1,4];function appendFrame$1(et,_e,tt,rt,nt){if(tt+24>_e.length)return;const st=parseHeader(_e,tt);if(st&&tt+st.frameLength<=_e.length){const it=st.samplesPerFrame*9e4/st.sampleRate,at=rt+nt*it,ot={unit:_e.subarray(tt,tt+st.frameLength),pts:at,dts:at};return et.config=[],et.channelCount=st.channelCount,et.samplerate=st.sampleRate,et.samples.push(ot),{sample:ot,length:st.frameLength,missing:0}}}function parseHeader(et,_e){const tt=et[_e+1]>>3&3,rt=et[_e+1]>>1&3,nt=et[_e+2]>>4&15,st=et[_e+2]>>2&3;if(tt!==1&&nt!==0&&nt!==15&&st!==3){const it=et[_e+2]>>1&1,at=et[_e+3]>>6,ot=tt===3?3-rt:rt===3?3:4,lt=BitratesMap[ot*14+nt-1]*1e3,ut=SamplingRateMap[(tt===3?0:tt===2?1:2)*3+st],dt=at===3?1:2,ft=SamplesCoefficients[tt][rt],ht=BytesInSlot[rt],pt=ft*8*ht,gt=Math.floor(ft*lt/ut+it)*ht;if(chromeVersion$1===null){const vt=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);chromeVersion$1=vt?parseInt(vt[1]):0}return!!chromeVersion$1&&chromeVersion$1<=87&&rt===2&&lt>=224e3&&at===0&&(et[_e+3]=et[_e+3]|128),{sampleRate:ut,channelCount:dt,frameLength:gt,samplesPerFrame:pt}}}function isHeaderPattern(et,_e){return et[_e]===255&&(et[_e+1]&224)===224&&(et[_e+1]&6)!==0}function isHeader(et,_e){return _e+1<et.length&&isHeaderPattern(et,_e)}function canParse(et,_e){return isHeaderPattern(et,_e)&&4<=et.length-_e}function probe(et,_e){if(_e+1<et.length&&isHeaderPattern(et,_e)){const rt=parseHeader(et,_e);let nt=4;rt!=null&&rt.frameLength&&(nt=rt.frameLength);const st=_e+nt;return st===et.length||isHeader(et,st)}return!1}class AACDemuxer extends BaseAudioDemuxer{constructor(_e,tt){super(),this.observer=void 0,this.config=void 0,this.observer=_e,this.config=tt}resetInitSegment(_e,tt,rt,nt){super.resetInitSegment(_e,tt,rt,nt),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:tt,duration:nt,inputTimeScale:9e4,dropped:0}}static probe(_e,tt){if(!_e)return!1;const rt=getId3Data(_e,0);let nt=(rt==null?void 0:rt.length)||0;if(probe(_e,nt))return!1;for(let st=_e.length;nt<st;nt++)if(probe$1(_e,nt))return tt.log("ADTS sync word found !"),!0;return!1}canParse(_e,tt){return canParse$1(_e,tt)}appendFrame(_e,tt,rt){initTrackConfig(_e,this.observer,tt,rt,_e.manifestCodec);const nt=appendFrame$2(_e,tt,rt,this.basePTS,this.frameIndex);if(nt&&nt.missing===0)return nt}}const getAudioBSID=(et,_e)=>{let tt=0,rt=5;_e+=rt;const nt=new Uint32Array(1),st=new Uint32Array(1),it=new Uint8Array(1);for(;rt>0;){it[0]=et[_e];const at=Math.min(rt,8),ot=8-at;st[0]=4278190080>>>24+ot<<ot,nt[0]=(it[0]&st[0])>>ot,tt=tt?tt<<at|nt[0]:nt[0],_e+=1,rt-=at}return tt};class AC3Demuxer extends BaseAudioDemuxer{constructor(_e){super(),this.observer=void 0,this.observer=_e}resetInitSegment(_e,tt,rt,nt){super.resetInitSegment(_e,tt,rt,nt),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:tt,duration:nt,inputTimeScale:9e4,dropped:0}}canParse(_e,tt){return tt+64<_e.length}appendFrame(_e,tt,rt){const nt=appendFrame(_e,tt,rt,this.basePTS,this.frameIndex);if(nt!==-1)return{sample:_e.samples[_e.samples.length-1],length:nt,missing:0}}static probe(_e){if(!_e)return!1;const tt=getId3Data(_e,0);if(!tt)return!1;const rt=tt.length;return _e[rt]===11&&_e[rt+1]===119&&getId3Timestamp(tt)!==void 0&&getAudioBSID(_e,rt)<16}}function appendFrame(et,_e,tt,rt,nt){if(tt+8>_e.length||_e[tt]!==11||_e[tt+1]!==119)return-1;const st=_e[tt+4]>>6;if(st>=3)return-1;const at=[48e3,44100,32e3][st],ot=_e[tt+4]&63,ct=[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][ot*3+st]*2;if(tt+ct>_e.length)return-1;const ut=_e[tt+6]>>5;let dt=0;ut===2?dt+=2:(ut&1&&ut!==1&&(dt+=2),ut&4&&(dt+=2));const ft=(_e[tt+6]<<8|_e[tt+7])>>12-dt&1,pt=[2,1,2,3,3,4,4,5][ut]+ft,gt=_e[tt+5]>>3,mt=_e[tt+5]&7,bt=new Uint8Array([st<<6|gt<<1|mt>>2,(mt&3)<<6|ut<<3|ft<<2|ot>>4,ot<<4&224]),vt=1536/at*9e4,yt=rt+nt*vt,xt=_e.subarray(tt,tt+ct);return et.config=bt,et.channelCount=pt,et.samplerate=at,et.samples.push({unit:xt,pts:yt}),ct}class MP3Demuxer extends BaseAudioDemuxer{resetInitSegment(_e,tt,rt,nt){super.resetInitSegment(_e,tt,rt,nt),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:tt,duration:nt,inputTimeScale:9e4,dropped:0}}static probe(_e){if(!_e)return!1;const tt=getId3Data(_e,0);let rt=(tt==null?void 0:tt.length)||0;if(tt&&_e[rt]===11&&_e[rt+1]===119&&getId3Timestamp(tt)!==void 0&&getAudioBSID(_e,rt)<=16)return!1;for(let nt=_e.length;rt<nt;rt++)if(probe(_e,rt))return logger.log("MPEG Audio sync word found !"),!0;return!1}canParse(_e,tt){return canParse(_e,tt)}appendFrame(_e,tt,rt){if(this.basePTS!==null)return appendFrame$1(_e,tt,rt,this.basePTS,this.frameIndex)}}const emsgSchemePattern=/\/emsg[-/]ID3/i;class MP4Demuxer{constructor(_e,tt){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=tt}resetTimeStamp(){}resetInitSegment(_e,tt,rt,nt){const st=this.videoTrack=dummyTrack("video",1),it=this.audioTrack=dummyTrack("audio",1),at=this.txtTrack=dummyTrack("text",1);if(this.id3Track=dummyTrack("id3",1),this.timeOffset=0,!(_e!=null&&_e.byteLength))return;const ot=parseInitSegment(_e);if(ot.video){const{id:lt,timescale:ct,codec:ut,supplemental:dt}=ot.video;st.id=lt,st.timescale=at.timescale=ct,st.codec=ut,st.supplemental=dt}if(ot.audio){const{id:lt,timescale:ct,codec:ut}=ot.audio;it.id=lt,it.timescale=ct,it.codec=ut}at.id=RemuxerTrackIdConfig.text,st.sampleDuration=0,st.duration=it.duration=nt}resetContiguity(){this.remainderData=null}static probe(_e){return hasMoofData(_e)}demux(_e,tt){this.timeOffset=tt;let rt=_e;const nt=this.videoTrack,st=this.txtTrack;if(this.config.progressive){this.remainderData&&(rt=appendUint8Array(this.remainderData,_e));const at=segmentValidRange(rt);this.remainderData=at.remainder,nt.samples=at.valid||new Uint8Array}else nt.samples=rt;const it=this.extractID3Track(nt,tt);return st.samples=parseSamples(tt,nt),{videoTrack:nt,audioTrack:this.audioTrack,id3Track:it,textTrack:this.txtTrack}}flush(){const _e=this.timeOffset,tt=this.videoTrack,rt=this.txtTrack;tt.samples=this.remainderData||new Uint8Array,this.remainderData=null;const nt=this.extractID3Track(tt,this.timeOffset);return rt.samples=parseSamples(_e,tt),{videoTrack:tt,audioTrack:dummyTrack(),id3Track:nt,textTrack:dummyTrack()}}extractID3Track(_e,tt){const rt=this.id3Track;if(_e.samples.length){const nt=findBox(_e.samples,["emsg"]);nt&&nt.forEach(st=>{const it=parseEmsg(st);if(emsgSchemePattern.test(it.schemeIdUri)){const at=getEmsgStartTime(it,tt);let ot=it.eventDuration===4294967295?Number.POSITIVE_INFINITY:it.eventDuration/it.timeScale;ot<=.001&&(ot=Number.POSITIVE_INFINITY);const lt=it.payload;rt.samples.push({data:lt,len:lt.byteLength,dts:at,pts:at,type:MetadataSchema.emsg,duration:ot})}else if(this.config.enableEmsgKLVMetadata&&it.schemeIdUri.startsWith("urn:misb:KLV:bin:1910.1")){const at=getEmsgStartTime(it,tt);rt.samples.push({data:it.payload,len:it.payload.byteLength,dts:at,pts:at,type:MetadataSchema.misbklv,duration:Number.POSITIVE_INFINITY})}})}return rt}demuxSampleAes(_e,tt,rt){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){this.config=null,this.remainderData=null,this.videoTrack=this.audioTrack=this.id3Track=this.txtTrack=void 0}}function getEmsgStartTime(et,_e){return isFiniteNumber(et.presentationTime)?et.presentationTime/et.timeScale:_e+et.presentationTimeDelta/et.timeScale}class SampleAesDecrypter{constructor(_e,tt,rt){this.keyData=void 0,this.decrypter=void 0,this.keyData=rt,this.decrypter=new Decrypter(tt,{removePKCS7Padding:!1})}decryptBuffer(_e){return this.decrypter.decrypt(_e,this.keyData.key.buffer,this.keyData.iv.buffer,DecrypterAesMode.cbc)}decryptAacSample(_e,tt,rt){const nt=_e[tt].unit;if(nt.length<=16)return;const st=nt.subarray(16,nt.length-nt.length%16),it=st.buffer.slice(st.byteOffset,st.byteOffset+st.length);this.decryptBuffer(it).then(at=>{const ot=new Uint8Array(at);nt.set(ot,16),this.decrypter.isSync()||this.decryptAacSamples(_e,tt+1,rt)})}decryptAacSamples(_e,tt,rt){for(;;tt++){if(tt>=_e.length){rt();return}if(!(_e[tt].unit.length<32)&&(this.decryptAacSample(_e,tt,rt),!this.decrypter.isSync()))return}}getAvcEncryptedData(_e){const tt=Math.floor((_e.length-48)/160)*16+16,rt=new Int8Array(tt);let nt=0;for(let st=32;st<_e.length-16;st+=160,nt+=16)rt.set(_e.subarray(st,st+16),nt);return rt}getAvcDecryptedUnit(_e,tt){const rt=new Uint8Array(tt);let nt=0;for(let st=32;st<_e.length-16;st+=160,nt+=16)_e.set(rt.subarray(nt,nt+16),st);return _e}decryptAvcSample(_e,tt,rt,nt,st){const it=discardEPB(st.data),at=this.getAvcEncryptedData(it);this.decryptBuffer(at.buffer).then(ot=>{st.data=this.getAvcDecryptedUnit(it,ot),this.decrypter.isSync()||this.decryptAvcSamples(_e,tt,rt+1,nt)})}decryptAvcSamples(_e,tt,rt,nt){if(_e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;tt++,rt=0){if(tt>=_e.length){nt();return}const st=_e[tt].units;for(;!(rt>=st.length);rt++){const it=st[rt];if(!(it.data.length<=48||it.type!==1&&it.type!==5)&&(this.decryptAvcSample(_e,tt,rt,nt,it),!this.decrypter.isSync()))return}}}}class BaseVideoParser{constructor(){this.VideoSample=null}createVideoSample(_e,tt,rt){return{key:_e,frame:!1,pts:tt,dts:rt,units:[],length:0}}getLastNalUnit(_e){var tt;let rt=this.VideoSample,nt;if((!rt||rt.units.length===0)&&(rt=_e[_e.length-1]),(tt=rt)!=null&&tt.units){const st=rt.units;nt=st[st.length-1]}return nt}pushAccessUnit(_e,tt){if(_e.units.length&&_e.frame){if(_e.pts===void 0){const rt=tt.samples,nt=rt.length;if(nt){const st=rt[nt-1];_e.pts=st.pts,_e.dts=st.dts}else{tt.dropped++;return}}tt.samples.push(_e)}}parseNALu(_e,tt,rt){const nt=tt.byteLength;let st=_e.naluState||0;const it=st,at=[];let ot=0,lt,ct,ut,dt=-1,ft=0;for(st===-1&&(dt=0,ft=this.getNALuType(tt,0),st=0,ot=1);ot<nt;){if(lt=tt[ot++],!st){st=lt?0:1;continue}if(st===1){st=lt?0:2;continue}if(!lt)st=3;else if(lt===1){if(ct=ot-st-1,dt>=0){const ht={data:tt.subarray(dt,ct),type:ft};at.push(ht)}else{const ht=this.getLastNalUnit(_e.samples);ht&&(it&&ot<=4-it&&ht.state&&(ht.data=ht.data.subarray(0,ht.data.byteLength-it)),ct>0&&(ht.data=appendUint8Array(ht.data,tt.subarray(0,ct)),ht.state=0))}ot<nt?(ut=this.getNALuType(tt,ot),dt=ot,ft=ut,st=0):st=-1}else st=0}if(dt>=0&&st>=0){const ht={data:tt.subarray(dt,nt),type:ft,state:st};at.push(ht)}if(at.length===0){const ht=this.getLastNalUnit(_e.samples);ht&&(ht.data=appendUint8Array(ht.data,tt))}return _e.naluState=st,at}}class ExpGolomb{constructor(_e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=_e,this.bytesAvailable=_e.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const _e=this.data,tt=this.bytesAvailable,rt=_e.byteLength-tt,nt=new Uint8Array(4),st=Math.min(4,tt);if(st===0)throw new Error("no bytes available");nt.set(_e.subarray(rt,rt+st)),this.word=new DataView(nt.buffer).getUint32(0),this.bitsAvailable=st*8,this.bytesAvailable-=st}skipBits(_e){let tt;_e=Math.min(_e,this.bytesAvailable*8+this.bitsAvailable),this.bitsAvailable>_e?(this.word<<=_e,this.bitsAvailable-=_e):(_e-=this.bitsAvailable,tt=_e>>3,_e-=tt<<3,this.bytesAvailable-=tt,this.loadWord(),this.word<<=_e,this.bitsAvailable-=_e)}readBits(_e){let tt=Math.min(this.bitsAvailable,_e);const rt=this.word>>>32-tt;if(_e>32&&logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=tt,this.bitsAvailable>0)this.word<<=tt;else if(this.bytesAvailable>0)this.loadWord();else throw new Error("no bits available");return tt=_e-tt,tt>0&&this.bitsAvailable?rt<<tt|this.readBits(tt):rt}skipLZ(){let _e;for(_e=0;_e<this.bitsAvailable;++_e)if(this.word&2147483648>>>_e)return this.word<<=_e,this.bitsAvailable-=_e,_e;return this.loadWord(),_e+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const _e=this.skipLZ();return this.readBits(_e+1)-1}readEG(){const _e=this.readUEG();return 1&_e?1+_e>>>1:-1*(_e>>>1)}readBoolean(){return this.readBits(1)===1}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}}class AvcVideoParser extends BaseVideoParser{parsePES(_e,tt,rt,nt){const st=this.parseNALu(_e,rt.data,nt);let it=this.VideoSample,at,ot=!1;rt.data=null,it&&st.length&&!_e.audFound&&(this.pushAccessUnit(it,_e),it=this.VideoSample=this.createVideoSample(!1,rt.pts,rt.dts)),st.forEach(lt=>{var ct,ut;switch(lt.type){case 1:{let pt=!1;at=!0;const gt=lt.data;if(ot&&gt.length>4){const mt=this.readSliceType(gt);(mt===2||mt===4||mt===7||mt===9)&&(pt=!0)}if(pt){var dt;(dt=it)!=null&&dt.frame&&!it.key&&(this.pushAccessUnit(it,_e),it=this.VideoSample=null)}it||(it=this.VideoSample=this.createVideoSample(!0,rt.pts,rt.dts)),it.frame=!0,it.key=pt;break}case 5:at=!0,(ct=it)!=null&&ct.frame&&!it.key&&(this.pushAccessUnit(it,_e),it=this.VideoSample=null),it||(it=this.VideoSample=this.createVideoSample(!0,rt.pts,rt.dts)),it.key=!0,it.frame=!0;break;case 6:{at=!0,parseSEIMessageFromNALu(lt.data,1,rt.pts,tt.samples);break}case 7:{var ft,ht;at=!0,ot=!0;const pt=lt.data,gt=this.readSPS(pt);if(!_e.sps||_e.width!==gt.width||_e.height!==gt.height||((ft=_e.pixelRatio)==null?void 0:ft[0])!==gt.pixelRatio[0]||((ht=_e.pixelRatio)==null?void 0:ht[1])!==gt.pixelRatio[1]){_e.width=gt.width,_e.height=gt.height,_e.pixelRatio=gt.pixelRatio,_e.sps=[pt];const mt=pt.subarray(1,4);let bt="avc1.";for(let vt=0;vt<3;vt++){let yt=mt[vt].toString(16);yt.length<2&&(yt="0"+yt),bt+=yt}_e.codec=bt}break}case 8:at=!0,_e.pps=[lt.data];break;case 9:at=!0,_e.audFound=!0,(ut=it)!=null&&ut.frame&&(this.pushAccessUnit(it,_e),it=null),it||(it=this.VideoSample=this.createVideoSample(!1,rt.pts,rt.dts));break;case 12:at=!0;break;default:at=!1;break}it&&at&&it.units.push(lt)}),nt&&it&&(this.pushAccessUnit(it,_e),this.VideoSample=null)}getNALuType(_e,tt){return _e[tt]&31}readSliceType(_e){const tt=new ExpGolomb(_e);return tt.readUByte(),tt.readUEG(),tt.readUEG()}skipScalingList(_e,tt){let rt=8,nt=8,st;for(let it=0;it<_e;it++)nt!==0&&(st=tt.readEG(),nt=(rt+st+256)%256),rt=nt===0?rt:nt}readSPS(_e){const tt=new ExpGolomb(_e);let rt=0,nt=0,st=0,it=0,at,ot,lt;const ct=tt.readUByte.bind(tt),ut=tt.readBits.bind(tt),dt=tt.readUEG.bind(tt),ft=tt.readBoolean.bind(tt),ht=tt.skipBits.bind(tt),pt=tt.skipEG.bind(tt),gt=tt.skipUEG.bind(tt),mt=this.skipScalingList.bind(this);ct();const bt=ct();if(ut(5),ht(3),ct(),gt(),bt===100||bt===110||bt===122||bt===244||bt===44||bt===83||bt===86||bt===118||bt===128){const $t=dt();if($t===3&&ht(1),gt(),gt(),ht(1),ft())for(ot=$t!==3?8:12,lt=0;lt<ot;lt++)ft()&&(lt<6?mt(16,tt):mt(64,tt))}gt();const vt=dt();if(vt===0)dt();else if(vt===1)for(ht(1),pt(),pt(),at=dt(),lt=0;lt<at;lt++)pt();gt(),ht(1);const yt=dt(),xt=dt(),Et=ut(1);Et===0&&ht(1),ht(1),ft()&&(rt=dt(),nt=dt(),st=dt(),it=dt());let wt=[1,1];if(ft()&&ft())switch(ct()){case 1:wt=[1,1];break;case 2:wt=[12,11];break;case 3:wt=[10,11];break;case 4:wt=[16,11];break;case 5:wt=[40,33];break;case 6:wt=[24,11];break;case 7:wt=[20,11];break;case 8:wt=[32,11];break;case 9:wt=[80,33];break;case 10:wt=[18,11];break;case 11:wt=[15,11];break;case 12:wt=[64,33];break;case 13:wt=[160,99];break;case 14:wt=[4,3];break;case 15:wt=[3,2];break;case 16:wt=[2,1];break;case 255:{wt=[ct()<<8|ct(),ct()<<8|ct()];break}}return{width:Math.ceil((yt+1)*16-rt*2-nt*2),height:(2-Et)*(xt+1)*16-(Et?2:4)*(st+it),pixelRatio:wt}}}class HevcVideoParser extends BaseVideoParser{constructor(..._e){super(..._e),this.initVPS=null}parsePES(_e,tt,rt,nt){const st=this.parseNALu(_e,rt.data,nt);let it=this.VideoSample,at,ot=!1;rt.data=null,it&&st.length&&!_e.audFound&&(this.pushAccessUnit(it,_e),it=this.VideoSample=this.createVideoSample(!1,rt.pts,rt.dts)),st.forEach(lt=>{var ct,ut;switch(lt.type){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:it||(it=this.VideoSample=this.createVideoSample(!1,rt.pts,rt.dts)),it.frame=!0,at=!0;break;case 16:case 17:case 18:case 21:if(at=!0,ot){var dt;(dt=it)!=null&&dt.frame&&!it.key&&(this.pushAccessUnit(it,_e),it=this.VideoSample=null)}it||(it=this.VideoSample=this.createVideoSample(!0,rt.pts,rt.dts)),it.key=!0,it.frame=!0;break;case 19:case 20:at=!0,(ct=it)!=null&&ct.frame&&!it.key&&(this.pushAccessUnit(it,_e),it=this.VideoSample=null),it||(it=this.VideoSample=this.createVideoSample(!0,rt.pts,rt.dts)),it.key=!0,it.frame=!0;break;case 39:at=!0,parseSEIMessageFromNALu(lt.data,2,rt.pts,tt.samples);break;case 32:at=!0,_e.vps||(typeof _e.params!="object"&&(_e.params={}),_e.params=_extends$f(_e.params,this.readVPS(lt.data)),this.initVPS=lt.data),_e.vps=[lt.data];break;case 33:if(at=!0,ot=!0,_e.vps!==void 0&&_e.vps[0]!==this.initVPS&&_e.sps!==void 0&&!this.matchSPS(_e.sps[0],lt.data)&&(this.initVPS=_e.vps[0],_e.sps=_e.pps=void 0),!_e.sps){const ft=this.readSPS(lt.data);_e.width=ft.width,_e.height=ft.height,_e.pixelRatio=ft.pixelRatio,_e.codec=ft.codecString,_e.sps=[],typeof _e.params!="object"&&(_e.params={});for(const ht in ft.params)_e.params[ht]=ft.params[ht]}this.pushParameterSet(_e.sps,lt.data,_e.vps),it||(it=this.VideoSample=this.createVideoSample(!0,rt.pts,rt.dts)),it.key=!0;break;case 34:if(at=!0,typeof _e.params=="object"){if(!_e.pps){_e.pps=[];const ft=this.readPPS(lt.data);for(const ht in ft)_e.params[ht]=ft[ht]}this.pushParameterSet(_e.pps,lt.data,_e.vps)}break;case 35:at=!0,_e.audFound=!0,(ut=it)!=null&&ut.frame&&(this.pushAccessUnit(it,_e),it=null),it||(it=this.VideoSample=this.createVideoSample(!1,rt.pts,rt.dts));break;default:at=!1;break}it&&at&&it.units.push(lt)}),nt&&it&&(this.pushAccessUnit(it,_e),this.VideoSample=null)}pushParameterSet(_e,tt,rt){(rt&&rt[0]===this.initVPS||!rt&&!_e.length)&&_e.push(tt)}getNALuType(_e,tt){return(_e[tt]&126)>>>1}ebsp2rbsp(_e){const tt=new Uint8Array(_e.byteLength);let rt=0;for(let nt=0;nt<_e.byteLength;nt++)nt>=2&&_e[nt]===3&&_e[nt-1]===0&&_e[nt-2]===0||(tt[rt]=_e[nt],rt++);return new Uint8Array(tt.buffer,0,rt)}pushAccessUnit(_e,tt){super.pushAccessUnit(_e,tt),this.initVPS&&(this.initVPS=null)}readVPS(_e){const tt=new ExpGolomb(_e);tt.readUByte(),tt.readUByte(),tt.readBits(4),tt.skipBits(2),tt.readBits(6);const rt=tt.readBits(3),nt=tt.readBoolean();return{numTemporalLayers:rt+1,temporalIdNested:nt}}readSPS(_e){const tt=new ExpGolomb(this.ebsp2rbsp(_e));tt.readUByte(),tt.readUByte(),tt.readBits(4);const rt=tt.readBits(3);tt.readBoolean();const nt=tt.readBits(2),st=tt.readBoolean(),it=tt.readBits(5),at=tt.readUByte(),ot=tt.readUByte(),lt=tt.readUByte(),ct=tt.readUByte(),ut=tt.readUByte(),dt=tt.readUByte(),ft=tt.readUByte(),ht=tt.readUByte(),pt=tt.readUByte(),gt=tt.readUByte(),mt=tt.readUByte(),bt=[],vt=[];for(let Gt=0;Gt<rt;Gt++)bt.push(tt.readBoolean()),vt.push(tt.readBoolean());if(rt>0)for(let Gt=rt;Gt<8;Gt++)tt.readBits(2);for(let Gt=0;Gt<rt;Gt++)bt[Gt]&&(tt.readUByte(),tt.readUByte(),tt.readUByte(),tt.readUByte(),tt.readUByte(),tt.readUByte(),tt.readUByte(),tt.readUByte(),tt.readUByte(),tt.readUByte(),tt.readUByte()),vt[Gt]&&tt.readUByte();tt.readUEG();const yt=tt.readUEG();yt==3&&tt.skipBits(1);const xt=tt.readUEG(),Et=tt.readUEG(),wt=tt.readBoolean();let $t=0,Tt=0,St=0,Pt=0;wt&&($t+=tt.readUEG(),Tt+=tt.readUEG(),St+=tt.readUEG(),Pt+=tt.readUEG());const At=tt.readUEG(),Rt=tt.readUEG(),Ct=tt.readUEG(),Dt=tt.readBoolean();for(let Gt=Dt?0:rt;Gt<=rt;Gt++)tt.skipUEG(),tt.skipUEG(),tt.skipUEG();if(tt.skipUEG(),tt.skipUEG(),tt.skipUEG(),tt.skipUEG(),tt.skipUEG(),tt.skipUEG(),tt.readBoolean()&&tt.readBoolean())for(let zt=0;zt<4;zt++)for(let Vt=0;Vt<(zt===3?2:6);Vt++)if(!tt.readBoolean())tt.readUEG();else{const lr=Math.min(64,1<<4+(zt<<1));zt>1&&tt.readEG();for(let dr=0;dr<lr;dr++)tt.readEG()}tt.readBoolean(),tt.readBoolean(),tt.readBoolean()&&(tt.readUByte(),tt.skipUEG(),tt.skipUEG(),tt.readBoolean());const Ot=tt.readUEG();let jt=0;for(let Gt=0;Gt<Ot;Gt++){let zt=!1;if(Gt!==0&&(zt=tt.readBoolean()),zt){Gt===Ot&&tt.readUEG(),tt.readBoolean(),tt.readUEG();let Vt=0;for(let Ht=0;Ht<=jt;Ht++){const lr=tt.readBoolean();let dr=!1;lr||(dr=tt.readBoolean()),(lr||dr)&&Vt++}jt=Vt}else{const Vt=tt.readUEG(),Ht=tt.readUEG();jt=Vt+Ht;for(let lr=0;lr<Vt;lr++)tt.readUEG(),tt.readBoolean();for(let lr=0;lr<Ht;lr++)tt.readUEG(),tt.readBoolean()}}if(tt.readBoolean()){const Gt=tt.readUEG();for(let zt=0;zt<Gt;zt++){for(let Vt=0;Vt<Ct+4;Vt++)tt.readBits(1);tt.readBits(1)}}let _t=0,It=1,Wt=1,Kt=!0,Bt=1,Qt=0;tt.readBoolean(),tt.readBoolean();let Nt=!1;if(tt.readBoolean()){if(tt.readBoolean()){const Jt=tt.readUByte(),nr=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],fr=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];Jt>0&&Jt<16?(It=nr[Jt-1],Wt=fr[Jt-1]):Jt===255&&(It=tt.readBits(16),Wt=tt.readBits(16))}if(tt.readBoolean()&&tt.readBoolean(),tt.readBoolean()&&(tt.readBits(3),tt.readBoolean(),tt.readBoolean()&&(tt.readUByte(),tt.readUByte(),tt.readUByte())),tt.readBoolean()&&(tt.readUEG(),tt.readUEG()),tt.readBoolean(),tt.readBoolean(),tt.readBoolean(),Nt=tt.readBoolean(),Nt&&(tt.skipUEG(),tt.skipUEG(),tt.skipUEG(),tt.skipUEG()),tt.readBoolean()&&(Bt=tt.readBits(32),Qt=tt.readBits(32),tt.readBoolean()&&tt.readUEG(),tt.readBoolean())){const fr=tt.readBoolean(),Lt=tt.readBoolean();let qt=!1;(fr||Lt)&&(qt=tt.readBoolean(),qt&&(tt.readUByte(),tt.readBits(5),tt.readBoolean(),tt.readBits(5)),tt.readBits(4),tt.readBits(4),qt&&tt.readBits(4),tt.readBits(5),tt.readBits(5),tt.readBits(5));for(let tr=0;tr<=rt;tr++){Kt=tt.readBoolean();const ir=Kt||tt.readBoolean();let or=!1;ir?tt.readEG():or=tt.readBoolean();const ur=or?1:tt.readUEG()+1;if(fr)for(let hr=0;hr<ur;hr++)tt.readUEG(),tt.readUEG(),qt&&(tt.readUEG(),tt.readUEG()),tt.skipBits(1);if(Lt)for(let hr=0;hr<ur;hr++)tt.readUEG(),tt.readUEG(),qt&&(tt.readUEG(),tt.readUEG()),tt.skipBits(1)}}tt.readBoolean()&&(tt.readBoolean(),tt.readBoolean(),tt.readBoolean(),_t=tt.readUEG())}let Zt=xt,Yt=Et;if(wt){let Gt=1,zt=1;yt===1?Gt=zt=2:yt==2&&(Gt=2),Zt=xt-Gt*Tt-Gt*$t,Yt=Et-zt*Pt-zt*St}const rr=nt?["A","B","C"][nt]:"",ar=at<<24|ot<<16|lt<<8|ct;let sr=0;for(let Gt=0;Gt<32;Gt++)sr=(sr|(ar>>Gt&1)<<31-Gt)>>>0;let kt=sr.toString(16);return it===1&&kt==="2"&&(kt="6"),{codecString:`hvc1.${rr}${it}.${kt}.${st?"H":"L"}${mt}.B0`,params:{general_tier_flag:st,general_profile_idc:it,general_profile_space:nt,general_profile_compatibility_flags:[at,ot,lt,ct],general_constraint_indicator_flags:[ut,dt,ft,ht,pt,gt],general_level_idc:mt,bit_depth:At+8,bit_depth_luma_minus8:At,bit_depth_chroma_minus8:Rt,min_spatial_segmentation_idc:_t,chroma_format_idc:yt,frame_rate:{fixed:Kt,fps:Qt/Bt}},width:Zt,height:Yt,pixelRatio:[It,Wt]}}readPPS(_e){const tt=new ExpGolomb(this.ebsp2rbsp(_e));tt.readUByte(),tt.readUByte(),tt.skipUEG(),tt.skipUEG(),tt.skipBits(2),tt.skipBits(3),tt.skipBits(2),tt.skipUEG(),tt.skipUEG(),tt.skipEG(),tt.skipBits(2),tt.readBoolean()&&tt.skipUEG(),tt.skipEG(),tt.skipEG(),tt.skipBits(4);const nt=tt.readBoolean(),st=tt.readBoolean();let it=1;return st&&nt?it=0:st?it=3:nt&&(it=2),{parallelismType:it}}matchSPS(_e,tt){return String.fromCharCode.apply(null,_e).substr(3)===String.fromCharCode.apply(null,tt).substr(3)}}const PACKET_LENGTH=188;class TSDemuxer{constructor(_e,tt,rt,nt){this.logger=void 0,this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=_e,this.config=tt,this.typeSupported=rt,this.logger=nt,this.videoParser=null}static probe(_e,tt){const rt=TSDemuxer.syncOffset(_e);return rt>0&&tt.warn(`MPEG2-TS detected but first sync word found @ offset ${rt}`),rt!==-1}static syncOffset(_e){const tt=_e.length;let rt=Math.min(PACKET_LENGTH*5,tt-PACKET_LENGTH)+1,nt=0;for(;nt<rt;){let st=!1,it=-1,at=0;for(let ot=nt;ot<tt;ot+=PACKET_LENGTH)if(_e[ot]===71&&(tt-ot===PACKET_LENGTH||_e[ot+PACKET_LENGTH]===71)){if(at++,it===-1&&(it=ot,it!==0&&(rt=Math.min(it+PACKET_LENGTH*99,_e.length-PACKET_LENGTH)+1)),st||(st=parsePID(_e,ot)===0),st&&at>1&&(it===0&&at>2||ot+PACKET_LENGTH>rt))return it}else{if(at)return-1;break}nt++}return-1}static createTrack(_e,tt){return{container:_e==="video"||_e==="audio"?"video/mp2t":void 0,type:_e,id:RemuxerTrackIdConfig[_e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:_e==="audio"?tt:void 0}}resetInitSegment(_e,tt,rt,nt){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=TSDemuxer.createTrack("video"),this._videoTrack.duration=nt,this._audioTrack=TSDemuxer.createTrack("audio",nt),this._id3Track=TSDemuxer.createTrack("id3"),this._txtTrack=TSDemuxer.createTrack("text"),this._audioTrack.segmentCodec="aac",this.videoParser=null,this.aacOverFlow=null,this.remainderData=null,this.audioCodec=tt,this.videoCodec=rt}resetTimeStamp(){}resetContiguity(){const{_audioTrack:_e,_videoTrack:tt,_id3Track:rt}=this;_e&&(_e.pesData=null),tt&&(tt.pesData=null),rt&&(rt.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(_e,tt,rt=!1,nt=!1){rt||(this.sampleAes=null);let st;const it=this._videoTrack,at=this._audioTrack,ot=this._id3Track,lt=this._txtTrack;let ct=it.pid,ut=it.pesData,dt=at.pid,ft=ot.pid,ht=at.pesData,pt=ot.pesData,gt=null,mt=this.pmtParsed,bt=this._pmtId,vt=_e.length;if(this.remainderData&&(_e=appendUint8Array(this.remainderData,_e),vt=_e.length,this.remainderData=null),vt<PACKET_LENGTH&&!nt)return this.remainderData=_e,{audioTrack:at,videoTrack:it,id3Track:ot,textTrack:lt};const yt=Math.max(0,TSDemuxer.syncOffset(_e));vt-=(vt-yt)%PACKET_LENGTH,vt<_e.byteLength&&!nt&&(this.remainderData=new Uint8Array(_e.buffer,vt,_e.buffer.byteLength-vt));let xt=0;for(let wt=yt;wt<vt;wt+=PACKET_LENGTH)if(_e[wt]===71){const $t=!!(_e[wt+1]&64),Tt=parsePID(_e,wt),St=(_e[wt+3]&48)>>4;let Pt;if(St>1){if(Pt=wt+5+_e[wt+4],Pt===wt+PACKET_LENGTH)continue}else Pt=wt+4;switch(Tt){case ct:$t&&(ut&&(st=parsePES(ut,this.logger))&&(this.readyVideoParser(it.segmentCodec),this.videoParser!==null&&this.videoParser.parsePES(it,lt,st,!1)),ut={data:[],size:0}),ut&&(ut.data.push(_e.subarray(Pt,wt+PACKET_LENGTH)),ut.size+=wt+PACKET_LENGTH-Pt);break;case dt:if($t){if(ht&&(st=parsePES(ht,this.logger)))switch(at.segmentCodec){case"aac":this.parseAACPES(at,st);break;case"mp3":this.parseMPEGPES(at,st);break;case"ac3":this.parseAC3PES(at,st);break}ht={data:[],size:0}}ht&&(ht.data.push(_e.subarray(Pt,wt+PACKET_LENGTH)),ht.size+=wt+PACKET_LENGTH-Pt);break;case ft:$t&&(pt&&(st=parsePES(pt,this.logger))&&this.parseID3PES(ot,st),pt={data:[],size:0}),pt&&(pt.data.push(_e.subarray(Pt,wt+PACKET_LENGTH)),pt.size+=wt+PACKET_LENGTH-Pt);break;case 0:$t&&(Pt+=_e[Pt]+1),bt=this._pmtId=parsePAT(_e,Pt);break;case bt:{$t&&(Pt+=_e[Pt]+1);const At=parsePMT(_e,Pt,this.typeSupported,rt,this.observer,this.logger);ct=At.videoPid,ct>0&&(it.pid=ct,it.segmentCodec=At.segmentVideoCodec),dt=At.audioPid,dt>0&&(at.pid=dt,at.segmentCodec=At.segmentAudioCodec),ft=At.id3Pid,ft>0&&(ot.pid=ft),gt!==null&&!mt&&(this.logger.warn(`MPEG-TS PMT found at ${wt} after unknown PID '${gt}'. Backtracking to sync byte @${yt} to parse all TS packets.`),gt=null,wt=yt-188),mt=this.pmtParsed=!0;break}case 17:case 8191:break;default:gt=Tt;break}}else xt++;xt>0&&emitParsingError(this.observer,new Error(`Found ${xt} TS packet/s that do not start with 0x47`),void 0,this.logger),it.pesData=ut,at.pesData=ht,ot.pesData=pt;const Et={audioTrack:at,videoTrack:it,id3Track:ot,textTrack:lt};return nt&&this.extractRemainingSamples(Et),Et}flush(){const{remainderData:_e}=this;this.remainderData=null;let tt;return _e?tt=this.demux(_e,-1,!1,!0):tt={videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(tt),this.sampleAes?this.decrypt(tt,this.sampleAes):tt}extractRemainingSamples(_e){const{audioTrack:tt,videoTrack:rt,id3Track:nt,textTrack:st}=_e,it=rt.pesData,at=tt.pesData,ot=nt.pesData;let lt;if(it&&(lt=parsePES(it,this.logger))?(this.readyVideoParser(rt.segmentCodec),this.videoParser!==null&&(this.videoParser.parsePES(rt,st,lt,!0),rt.pesData=null)):rt.pesData=it,at&&(lt=parsePES(at,this.logger))){switch(tt.segmentCodec){case"aac":this.parseAACPES(tt,lt);break;case"mp3":this.parseMPEGPES(tt,lt);break;case"ac3":this.parseAC3PES(tt,lt);break}tt.pesData=null}else at!=null&&at.size&&this.logger.log("last AAC PES packet truncated,might overlap between fragments"),tt.pesData=at;ot&&(lt=parsePES(ot,this.logger))?(this.parseID3PES(nt,lt),nt.pesData=null):nt.pesData=ot}demuxSampleAes(_e,tt,rt){const nt=this.demux(_e,rt,!0,!this.config.progressive),st=this.sampleAes=new SampleAesDecrypter(this.observer,this.config,tt);return this.decrypt(nt,st)}readyVideoParser(_e){this.videoParser===null&&(_e==="avc"?this.videoParser=new AvcVideoParser:_e==="hevc"&&(this.videoParser=new HevcVideoParser))}decrypt(_e,tt){return new Promise(rt=>{const{audioTrack:nt,videoTrack:st}=_e;nt.samples&&nt.segmentCodec==="aac"?tt.decryptAacSamples(nt.samples,0,()=>{st.samples?tt.decryptAvcSamples(st.samples,0,0,()=>{rt(_e)}):rt(_e)}):st.samples&&tt.decryptAvcSamples(st.samples,0,0,()=>{rt(_e)})})}destroy(){this.observer&&this.observer.removeAllListeners(),this.config=this.logger=this.observer=null,this.aacOverFlow=this.videoParser=this.remainderData=this.sampleAes=null,this._videoTrack=this._audioTrack=this._id3Track=this._txtTrack=void 0}parseAACPES(_e,tt){let rt=0;const nt=this.aacOverFlow;let st=tt.data;if(nt){this.aacOverFlow=null;const ut=nt.missing,dt=nt.sample.unit.byteLength;if(ut===-1)st=appendUint8Array(nt.sample.unit,st);else{const ft=dt-ut;nt.sample.unit.set(st.subarray(0,ut),ft),_e.samples.push(nt.sample),rt=nt.missing}}let it,at;for(it=rt,at=st.length;it<at-1&&!isHeader$1(st,it);it++);if(it!==rt){let ut;const dt=it<at-1;if(dt?ut=`AAC PES did not start with ADTS header,offset:${it}`:ut="No ADTS header found in AAC PES",emitParsingError(this.observer,new Error(ut),dt,this.logger),!dt)return}initTrackConfig(_e,this.observer,st,it,this.audioCodec);let ot;if(tt.pts!==void 0)ot=tt.pts;else if(nt){const ut=getFrameDuration(_e.samplerate);ot=nt.sample.pts+ut}else{this.logger.warn("[tsdemuxer]: AAC PES unknown PTS");return}let lt=0,ct;for(;it<at;)if(ct=appendFrame$2(_e,st,it,ot,lt),it+=ct.length,ct.missing){this.aacOverFlow=ct;break}else for(lt++;it<at-1&&!isHeader$1(st,it);it++);}parseMPEGPES(_e,tt){const rt=tt.data,nt=rt.length;let st=0,it=0;const at=tt.pts;if(at===void 0){this.logger.warn("[tsdemuxer]: MPEG PES unknown PTS");return}for(;it<nt;)if(isHeader(rt,it)){const ot=appendFrame$1(_e,rt,it,at,st);if(ot)it+=ot.length,st++;else break}else it++}parseAC3PES(_e,tt){{const rt=tt.data,nt=tt.pts;if(nt===void 0){this.logger.warn("[tsdemuxer]: AC3 PES unknown PTS");return}const st=rt.length;let it=0,at=0,ot;for(;at<st&&(ot=appendFrame(_e,rt,at,nt,it++))>0;)at+=ot}}parseID3PES(_e,tt){if(tt.pts===void 0){this.logger.warn("[tsdemuxer]: ID3 PES unknown PTS");return}const rt=_extends$f({},tt,{type:this._videoTrack?MetadataSchema.emsg:MetadataSchema.audioId3,duration:Number.POSITIVE_INFINITY});_e.samples.push(rt)}}function parsePID(et,_e){return((et[_e+1]&31)<<8)+et[_e+2]}function parsePAT(et,_e){return(et[_e+10]&31)<<8|et[_e+11]}function parsePMT(et,_e,tt,rt,nt,st){const it={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},at=(et[_e+1]&15)<<8|et[_e+2],ot=_e+3+at-4,lt=(et[_e+10]&15)<<8|et[_e+11];for(_e+=12+lt;_e<ot;){const ct=parsePID(et,_e),ut=(et[_e+3]&15)<<8|et[_e+4];switch(et[_e]){case 207:if(!rt){logEncryptedSamplesFoundInUnencryptedStream("ADTS AAC",st);break}case 15:it.audioPid===-1&&(it.audioPid=ct);break;case 21:it.id3Pid===-1&&(it.id3Pid=ct);break;case 219:if(!rt){logEncryptedSamplesFoundInUnencryptedStream("H.264",st);break}case 27:it.videoPid===-1&&(it.videoPid=ct);break;case 3:case 4:!tt.mpeg&&!tt.mp3?st.log("MPEG audio found, not supported in this browser"):it.audioPid===-1&&(it.audioPid=ct,it.segmentAudioCodec="mp3");break;case 193:if(!rt){logEncryptedSamplesFoundInUnencryptedStream("AC-3",st);break}case 129:tt.ac3?it.audioPid===-1&&(it.audioPid=ct,it.segmentAudioCodec="ac3"):st.log("AC-3 audio found, not supported in this browser");break;case 6:if(it.audioPid===-1&&ut>0){let dt=_e+5,ft=ut;for(;ft>2;){switch(et[dt]){case 106:tt.ac3!==!0?st.log("AC-3 audio found, not supported in this browser for now"):(it.audioPid=ct,it.segmentAudioCodec="ac3");break}const pt=et[dt+1]+2;dt+=pt,ft-=pt}}break;case 194:case 135:return emitParsingError(nt,new Error("Unsupported EC-3 in M2TS found"),void 0,st),it;case 36:it.videoPid===-1&&(it.videoPid=ct,it.segmentVideoCodec="hevc",st.log("HEVC in M2TS found"));break}_e+=ut+5}return it}function emitParsingError(et,_e,tt,rt){rt.warn(`parsing error: ${_e.message}`),et.emit(Events.ERROR,Events.ERROR,{type:ErrorTypes.MEDIA_ERROR,details:ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,levelRetry:tt,error:_e,reason:_e.message})}function logEncryptedSamplesFoundInUnencryptedStream(et,_e){_e.log(`${et} with AES-128-CBC encryption found in unencrypted stream`)}function parsePES(et,_e){let tt=0,rt,nt,st,it,at;const ot=et.data;if(!et||et.size===0)return null;for(;ot[0].length<19&&ot.length>1;)ot[0]=appendUint8Array(ot[0],ot[1]),ot.splice(1,1);if(rt=ot[0],(rt[0]<<16)+(rt[1]<<8)+rt[2]===1){if(nt=(rt[4]<<8)+rt[5],nt&&nt>et.size-6)return null;const ct=rt[7];ct&192&&(it=(rt[9]&14)*536870912+(rt[10]&255)*4194304+(rt[11]&254)*16384+(rt[12]&255)*128+(rt[13]&254)/2,ct&64?(at=(rt[14]&14)*536870912+(rt[15]&255)*4194304+(rt[16]&254)*16384+(rt[17]&255)*128+(rt[18]&254)/2,it-at>60*9e4&&(_e.warn(`${Math.round((it-at)/9e4)}s delta between PTS and DTS, align them`),it=at)):at=it),st=rt[8];let ut=st+9;if(et.size<=ut)return null;et.size-=ut;const dt=new Uint8Array(et.size);for(let ft=0,ht=ot.length;ft<ht;ft++){rt=ot[ft];let pt=rt.byteLength;if(ut)if(ut>pt){ut-=pt;continue}else rt=rt.subarray(ut),pt-=ut,ut=0;dt.set(rt,tt),tt+=pt}return nt&&(nt-=st+3),{data:dt,pts:it,dts:at,len:nt}}return null}class AAC{static getSilentFrame(_e,tt){switch(_e){case"mp4a.40.2":if(tt===1)return new Uint8Array([0,200,0,128,35,128]);if(tt===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(tt===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(tt===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(tt===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(tt===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(tt===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(tt===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(tt===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}}}const UINT32_MAX=Math.pow(2,32)-1;class MP4{static init(){MP4.types={avc1:[],avcC:[],hvc1:[],hvcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};let _e;for(_e in MP4.types)MP4.types.hasOwnProperty(_e)&&(MP4.types[_e]=[_e.charCodeAt(0),_e.charCodeAt(1),_e.charCodeAt(2),_e.charCodeAt(3)]);const tt=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),rt=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);MP4.HDLR_TYPES={video:tt,audio:rt};const nt=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),st=new Uint8Array([0,0,0,0,0,0,0,0]);MP4.STTS=MP4.STSC=MP4.STCO=st,MP4.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),MP4.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),MP4.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),MP4.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const it=new Uint8Array([105,115,111,109]),at=new Uint8Array([97,118,99,49]),ot=new Uint8Array([0,0,0,1]);MP4.FTYP=MP4.box(MP4.types.ftyp,it,ot,it,at),MP4.DINF=MP4.box(MP4.types.dinf,MP4.box(MP4.types.dref,nt))}static box(_e,...tt){let rt=8,nt=tt.length;const st=nt;for(;nt--;)rt+=tt[nt].byteLength;const it=new Uint8Array(rt);for(it[0]=rt>>24&255,it[1]=rt>>16&255,it[2]=rt>>8&255,it[3]=rt&255,it.set(_e,4),nt=0,rt=8;nt<st;nt++)it.set(tt[nt],rt),rt+=tt[nt].byteLength;return it}static hdlr(_e){return MP4.box(MP4.types.hdlr,MP4.HDLR_TYPES[_e])}static mdat(_e){return MP4.box(MP4.types.mdat,_e)}static mdhd(_e,tt){tt*=_e;const rt=Math.floor(tt/(UINT32_MAX+1)),nt=Math.floor(tt%(UINT32_MAX+1));return MP4.box(MP4.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,_e>>24&255,_e>>16&255,_e>>8&255,_e&255,rt>>24,rt>>16&255,rt>>8&255,rt&255,nt>>24,nt>>16&255,nt>>8&255,nt&255,85,196,0,0]))}static mdia(_e){return MP4.box(MP4.types.mdia,MP4.mdhd(_e.timescale||0,_e.duration||0),MP4.hdlr(_e.type),MP4.minf(_e))}static mfhd(_e){return MP4.box(MP4.types.mfhd,new Uint8Array([0,0,0,0,_e>>24,_e>>16&255,_e>>8&255,_e&255]))}static minf(_e){return _e.type==="audio"?MP4.box(MP4.types.minf,MP4.box(MP4.types.smhd,MP4.SMHD),MP4.DINF,MP4.stbl(_e)):MP4.box(MP4.types.minf,MP4.box(MP4.types.vmhd,MP4.VMHD),MP4.DINF,MP4.stbl(_e))}static moof(_e,tt,rt){return MP4.box(MP4.types.moof,MP4.mfhd(_e),MP4.traf(rt,tt))}static moov(_e){let tt=_e.length;const rt=[];for(;tt--;)rt[tt]=MP4.trak(_e[tt]);return MP4.box.apply(null,[MP4.types.moov,MP4.mvhd(_e[0].timescale||0,_e[0].duration||0)].concat(rt).concat(MP4.mvex(_e)))}static mvex(_e){let tt=_e.length;const rt=[];for(;tt--;)rt[tt]=MP4.trex(_e[tt]);return MP4.box.apply(null,[MP4.types.mvex,...rt])}static mvhd(_e,tt){tt*=_e;const rt=Math.floor(tt/(UINT32_MAX+1)),nt=Math.floor(tt%(UINT32_MAX+1)),st=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,_e>>24&255,_e>>16&255,_e>>8&255,_e&255,rt>>24,rt>>16&255,rt>>8&255,rt&255,nt>>24,nt>>16&255,nt>>8&255,nt&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return MP4.box(MP4.types.mvhd,st)}static sdtp(_e){const tt=_e.samples||[],rt=new Uint8Array(4+tt.length);let nt,st;for(nt=0;nt<tt.length;nt++)st=tt[nt].flags,rt[nt+4]=st.dependsOn<<4|st.isDependedOn<<2|st.hasRedundancy;return MP4.box(MP4.types.sdtp,rt)}static stbl(_e){return MP4.box(MP4.types.stbl,MP4.stsd(_e),MP4.box(MP4.types.stts,MP4.STTS),MP4.box(MP4.types.stsc,MP4.STSC),MP4.box(MP4.types.stsz,MP4.STSZ),MP4.box(MP4.types.stco,MP4.STCO))}static avc1(_e){let tt=[],rt=[],nt,st,it;for(nt=0;nt<_e.sps.length;nt++)st=_e.sps[nt],it=st.byteLength,tt.push(it>>>8&255),tt.push(it&255),tt=tt.concat(Array.prototype.slice.call(st));for(nt=0;nt<_e.pps.length;nt++)st=_e.pps[nt],it=st.byteLength,rt.push(it>>>8&255),rt.push(it&255),rt=rt.concat(Array.prototype.slice.call(st));const at=MP4.box(MP4.types.avcC,new Uint8Array([1,tt[3],tt[4],tt[5],255,224|_e.sps.length].concat(tt).concat([_e.pps.length]).concat(rt))),ot=_e.width,lt=_e.height,ct=_e.pixelRatio[0],ut=_e.pixelRatio[1];return MP4.box(MP4.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,ot>>8&255,ot&255,lt>>8&255,lt&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),at,MP4.box(MP4.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),MP4.box(MP4.types.pasp,new Uint8Array([ct>>24,ct>>16&255,ct>>8&255,ct&255,ut>>24,ut>>16&255,ut>>8&255,ut&255])))}static esds(_e){const tt=_e.config;return new Uint8Array([0,0,0,0,3,25,0,1,0,4,17,64,21,0,0,0,0,0,0,0,0,0,0,0,5,2,...tt,6,1,2])}static audioStsd(_e){const tt=_e.samplerate||0;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,_e.channelCount||0,0,16,0,0,0,0,tt>>8&255,tt&255,0,0])}static mp4a(_e){return MP4.box(MP4.types.mp4a,MP4.audioStsd(_e),MP4.box(MP4.types.esds,MP4.esds(_e)))}static mp3(_e){return MP4.box(MP4.types[".mp3"],MP4.audioStsd(_e))}static ac3(_e){return MP4.box(MP4.types["ac-3"],MP4.audioStsd(_e),MP4.box(MP4.types.dac3,_e.config))}static stsd(_e){const{segmentCodec:tt}=_e;if(_e.type==="audio"){if(tt==="aac")return MP4.box(MP4.types.stsd,MP4.STSD,MP4.mp4a(_e));if(tt==="ac3"&&_e.config)return MP4.box(MP4.types.stsd,MP4.STSD,MP4.ac3(_e));if(tt==="mp3"&&_e.codec==="mp3")return MP4.box(MP4.types.stsd,MP4.STSD,MP4.mp3(_e))}else if(_e.pps&&_e.sps){if(tt==="avc")return MP4.box(MP4.types.stsd,MP4.STSD,MP4.avc1(_e));if(tt==="hevc"&&_e.vps)return MP4.box(MP4.types.stsd,MP4.STSD,MP4.hvc1(_e))}else throw new Error("video track missing pps or sps");throw new Error(`unsupported ${_e.type} segment codec (${tt}/${_e.codec})`)}static tkhd(_e){const tt=_e.id,rt=(_e.duration||0)*(_e.timescale||0),nt=_e.width||0,st=_e.height||0,it=Math.floor(rt/(UINT32_MAX+1)),at=Math.floor(rt%(UINT32_MAX+1));return MP4.box(MP4.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,tt>>24&255,tt>>16&255,tt>>8&255,tt&255,0,0,0,0,it>>24,it>>16&255,it>>8&255,it&255,at>>24,at>>16&255,at>>8&255,at&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,nt>>8&255,nt&255,0,0,st>>8&255,st&255,0,0]))}static traf(_e,tt){const rt=MP4.sdtp(_e),nt=_e.id,st=Math.floor(tt/(UINT32_MAX+1)),it=Math.floor(tt%(UINT32_MAX+1));return MP4.box(MP4.types.traf,MP4.box(MP4.types.tfhd,new Uint8Array([0,0,0,0,nt>>24,nt>>16&255,nt>>8&255,nt&255])),MP4.box(MP4.types.tfdt,new Uint8Array([1,0,0,0,st>>24,st>>16&255,st>>8&255,st&255,it>>24,it>>16&255,it>>8&255,it&255])),MP4.trun(_e,rt.length+16+20+8+16+8+8),rt)}static trak(_e){return _e.duration=_e.duration||4294967295,MP4.box(MP4.types.trak,MP4.tkhd(_e),MP4.mdia(_e))}static trex(_e){const tt=_e.id;return MP4.box(MP4.types.trex,new Uint8Array([0,0,0,0,tt>>24,tt>>16&255,tt>>8&255,tt&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(_e,tt){const rt=_e.samples||[],nt=rt.length,st=12+16*nt,it=new Uint8Array(st);let at,ot,lt,ct,ut,dt;for(tt+=8+st,it.set([_e.type==="video"?1:0,0,15,1,nt>>>24&255,nt>>>16&255,nt>>>8&255,nt&255,tt>>>24&255,tt>>>16&255,tt>>>8&255,tt&255],0),at=0;at<nt;at++)ot=rt[at],lt=ot.duration,ct=ot.size,ut=ot.flags,dt=ot.cts,it.set([lt>>>24&255,lt>>>16&255,lt>>>8&255,lt&255,ct>>>24&255,ct>>>16&255,ct>>>8&255,ct&255,ut.isLeading<<2|ut.dependsOn,ut.isDependedOn<<6|ut.hasRedundancy<<4|ut.paddingValue<<1|ut.isNonSync,ut.degradPrio&61440,ut.degradPrio&15,dt>>>24&255,dt>>>16&255,dt>>>8&255,dt&255],12+16*at);return MP4.box(MP4.types.trun,it)}static initSegment(_e){MP4.types||MP4.init();const tt=MP4.moov(_e);return appendUint8Array(MP4.FTYP,tt)}static hvc1(_e){const tt=_e.params,rt=[_e.vps,_e.sps,_e.pps],nt=4,st=new Uint8Array([1,tt.general_profile_space<<6|(tt.general_tier_flag?32:0)|tt.general_profile_idc,tt.general_profile_compatibility_flags[0],tt.general_profile_compatibility_flags[1],tt.general_profile_compatibility_flags[2],tt.general_profile_compatibility_flags[3],tt.general_constraint_indicator_flags[0],tt.general_constraint_indicator_flags[1],tt.general_constraint_indicator_flags[2],tt.general_constraint_indicator_flags[3],tt.general_constraint_indicator_flags[4],tt.general_constraint_indicator_flags[5],tt.general_level_idc,240|tt.min_spatial_segmentation_idc>>8,255&tt.min_spatial_segmentation_idc,252|tt.parallelismType,252|tt.chroma_format_idc,248|tt.bit_depth_luma_minus8,248|tt.bit_depth_chroma_minus8,0,parseInt(tt.frame_rate.fps),nt-1|tt.temporal_id_nested<<2|tt.num_temporal_layers<<3|(tt.frame_rate.fixed?64:0),rt.length]);let it=st.length;for(let ht=0;ht<rt.length;ht+=1){it+=3;for(let pt=0;pt<rt[ht].length;pt+=1)it+=2+rt[ht][pt].length}const at=new Uint8Array(it);at.set(st,0),it=st.length;const ot=rt.length-1;for(let ht=0;ht<rt.length;ht+=1){at.set(new Uint8Array([32+ht|(ht===ot?128:0),0,rt[ht].length]),it),it+=3;for(let pt=0;pt<rt[ht].length;pt+=1)at.set(new Uint8Array([rt[ht][pt].length>>8,rt[ht][pt].length&255]),it),it+=2,at.set(rt[ht][pt],it),it+=rt[ht][pt].length}const lt=MP4.box(MP4.types.hvcC,at),ct=_e.width,ut=_e.height,dt=_e.pixelRatio[0],ft=_e.pixelRatio[1];return MP4.box(MP4.types.hvc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,ct>>8&255,ct&255,ut>>8&255,ut&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),lt,MP4.box(MP4.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),MP4.box(MP4.types.pasp,new Uint8Array([dt>>24,dt>>16&255,dt>>8&255,dt&255,ft>>24,ft>>16&255,ft>>8&255,ft&255])))}}MP4.types=void 0;MP4.HDLR_TYPES=void 0;MP4.STTS=void 0;MP4.STSC=void 0;MP4.STCO=void 0;MP4.STSZ=void 0;MP4.VMHD=void 0;MP4.SMHD=void 0;MP4.STSD=void 0;MP4.FTYP=void 0;MP4.DINF=void 0;const MPEG_TS_CLOCK_FREQ_HZ=9e4;function toTimescaleFromBase(et,_e,tt=1,rt=!1){const nt=et*_e*tt;return rt?Math.round(nt):nt}function toTimescaleFromScale(et,_e,tt=1,rt=!1){return toTimescaleFromBase(et,_e,1/tt,rt)}function toMsFromMpegTsClock(et,_e=!1){return toTimescaleFromBase(et,1e3,1/MPEG_TS_CLOCK_FREQ_HZ,_e)}function toMpegTsClockFromTimescale(et,_e=1){return toTimescaleFromBase(et,MPEG_TS_CLOCK_FREQ_HZ,1/_e)}const MAX_SILENT_FRAME_DURATION=10*1e3,AAC_SAMPLES_PER_FRAME=1024,MPEG_AUDIO_SAMPLE_PER_FRAME=1152,AC3_SAMPLES_PER_FRAME=1536;let chromeVersion=null,safariWebkitVersion=null;function createMp4Sample(et,_e,tt,rt){return{duration:_e,size:tt,cts:rt,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:et?2:1,isNonSync:et?0:1}}}class MP4Remuxer extends Logger{constructor(_e,tt,rt,nt){if(super("mp4-remuxer",nt),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextVideoTs=null,this.nextAudioTs=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=_e,this.config=tt,this.typeSupported=rt,this.ISGenerated=!1,chromeVersion===null){const it=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);chromeVersion=it?parseInt(it[1]):0}if(safariWebkitVersion===null){const st=navigator.userAgent.match(/Safari\/(\d+)/i);safariWebkitVersion=st?parseInt(st[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(_e){this.log("initPTS & initDTS reset"),this._initPTS=this._initDTS=_e}resetNextTimestamp(){this.log("reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){this.log("ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(_e){let tt=!1;const rt=_e[0].pts,nt=_e.reduce((st,it)=>{let at=it.pts,ot=at-st;return ot<-4294967296&&(tt=!0,at=normalizePts(at,rt),ot=at-st),ot>0?st:at},rt);return tt&&this.debug("PTS rollover detected"),nt}remux(_e,tt,rt,nt,st,it,at,ot){let lt,ct,ut,dt,ft,ht,pt=st,gt=st;const mt=_e.pid>-1,bt=tt.pid>-1,vt=tt.samples.length,yt=_e.samples.length>0,xt=at&&vt>0||vt>1;if((!mt||yt)&&(!bt||xt)||this.ISGenerated||at){if(this.ISGenerated){var wt,$t,Tt,St;const Ct=this.videoTrackConfig;(Ct&&(tt.width!==Ct.width||tt.height!==Ct.height||((wt=tt.pixelRatio)==null?void 0:wt[0])!==(($t=Ct.pixelRatio)==null?void 0:$t[0])||((Tt=tt.pixelRatio)==null?void 0:Tt[1])!==((St=Ct.pixelRatio)==null?void 0:St[1]))||!Ct&&xt||this.nextAudioTs===null&&yt)&&this.resetInitSegment()}this.ISGenerated||(ut=this.generateIS(_e,tt,st,it));const Pt=this.isVideoContiguous;let At=-1,Rt;if(xt&&(At=findKeyframeIndex(tt.samples),!Pt&&this.config.forceKeyFrameOnDiscontinuity))if(ht=!0,At>0){this.warn(`Dropped ${At} out of ${vt} video samples due to a missing keyframe`);const Ct=this.getVideoStartPts(tt.samples);tt.samples=tt.samples.slice(At),tt.dropped+=At,gt+=(tt.samples[0].pts-Ct)/tt.inputTimeScale,Rt=gt}else At===-1&&(this.warn(`No keyframe found out of ${vt} video samples`),ht=!1);if(this.ISGenerated){if(yt&&xt){const Ct=this.getVideoStartPts(tt.samples),Ft=(normalizePts(_e.samples[0].pts,Ct)-Ct)/tt.inputTimeScale;pt+=Math.max(0,Ft),gt+=Math.max(0,-Ft)}if(yt){if(_e.samplerate||(this.warn("regenerate InitSegment as audio detected"),ut=this.generateIS(_e,tt,st,it)),ct=this.remuxAudio(_e,pt,this.isAudioContiguous,it,bt||xt||ot===PlaylistLevelType.AUDIO?gt:void 0),xt){const Ct=ct?ct.endPTS-ct.startPTS:0;tt.inputTimeScale||(this.warn("regenerate InitSegment as video detected"),ut=this.generateIS(_e,tt,st,it)),lt=this.remuxVideo(tt,gt,Pt,Ct)}}else xt&&(lt=this.remuxVideo(tt,gt,Pt,0));lt&&(lt.firstKeyFrame=At,lt.independent=At!==-1,lt.firstKeyFramePTS=Rt)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(rt.samples.length&&(ft=flushTextTrackMetadataCueSamples(rt,st,this._initPTS,this._initDTS)),nt.samples.length&&(dt=flushTextTrackUserdataCueSamples(nt,st,this._initPTS))),{audio:ct,video:lt,initSegment:ut,independent:ht,text:dt,id3:ft}}generateIS(_e,tt,rt,nt){const st=_e.samples,it=tt.samples,at=this.typeSupported,ot={},lt=this._initPTS;let ct=!lt||nt,ut="audio/mp4",dt,ft,ht,pt=-1;if(ct&&(dt=ft=1/0),_e.config&&st.length){switch(_e.timescale=_e.samplerate,_e.segmentCodec){case"mp3":at.mpeg?(ut="audio/mpeg",_e.codec=""):at.mp3&&(_e.codec="mp3");break;case"ac3":_e.codec="ac-3";break}ot.audio={id:"audio",container:ut,codec:_e.codec,initSegment:_e.segmentCodec==="mp3"&&at.mpeg?new Uint8Array(0):MP4.initSegment([_e]),metadata:{channelCount:_e.channelCount}},ct&&(pt=_e.id,ht=_e.inputTimeScale,!lt||ht!==lt.timescale?dt=ft=st[0].pts-Math.round(ht*rt):ct=!1)}if(tt.sps&&tt.pps&&it.length){if(tt.timescale=tt.inputTimeScale,ot.video={id:"main",container:"video/mp4",codec:tt.codec,initSegment:MP4.initSegment([tt]),metadata:{width:tt.width,height:tt.height}},ct)if(pt=tt.id,ht=tt.inputTimeScale,!lt||ht!==lt.timescale){const gt=this.getVideoStartPts(it),mt=Math.round(ht*rt);ft=Math.min(ft,normalizePts(it[0].dts,gt)-mt),dt=Math.min(dt,gt-mt)}else ct=!1;this.videoTrackConfig={width:tt.width,height:tt.height,pixelRatio:tt.pixelRatio}}if(Object.keys(ot).length)return this.ISGenerated=!0,ct?(lt&&this.warn(`Timestamps at playlist time: ${nt?"":"~"}${rt} ${dt/ht} != initPTS: ${lt.baseTime/lt.timescale} (${lt.baseTime}/${lt.timescale}) trackId: ${lt.trackId}`),this.log(`Found initPTS at playlist time: ${rt} offset: ${dt/ht} (${dt}/${ht}) trackId: ${pt}`),this._initPTS={baseTime:dt,timescale:ht,trackId:pt},this._initDTS={baseTime:ft,timescale:ht,trackId:pt}):dt=ht=void 0,{tracks:ot,initPTS:dt,timescale:ht,trackId:pt}}remuxVideo(_e,tt,rt,nt){const st=_e.inputTimeScale,it=_e.samples,at=[],ot=it.length,lt=this._initPTS,ct=lt.baseTime*st/lt.timescale;let ut=this.nextVideoTs,dt=8,ft=this.videoSampleDuration,ht,pt,gt=Number.POSITIVE_INFINITY,mt=Number.NEGATIVE_INFINITY,bt=!1;if(!rt||ut===null){const _t=ct+tt*st,It=it[0].pts-normalizePts(it[0].dts,it[0].pts);chromeVersion&&ut!==null&&Math.abs(_t-It-(ut+ct))<15e3?rt=!0:ut=_t-It-ct}const vt=ut+ct;for(let _t=0;_t<ot;_t++){const It=it[_t];It.pts=normalizePts(It.pts,vt),It.dts=normalizePts(It.dts,vt),It.dts<it[_t>0?_t-1:_t].dts&&(bt=!0)}bt&&it.sort(function(_t,It){const Wt=_t.dts-It.dts,Kt=_t.pts-It.pts;return Wt||Kt}),ht=it[0].dts,pt=it[it.length-1].dts;const yt=pt-ht,xt=yt?Math.round(yt/(ot-1)):ft||_e.inputTimeScale/30;if(rt){const _t=ht-vt,It=_t>xt,Wt=_t<-1;if((It||Wt)&&(It?this.warn(`${(_e.segmentCodec||"").toUpperCase()}: ${toMsFromMpegTsClock(_t,!0)} ms (${_t}dts) hole between fragments detected at ${tt.toFixed(3)}`):this.warn(`${(_e.segmentCodec||"").toUpperCase()}: ${toMsFromMpegTsClock(-_t,!0)} ms (${_t}dts) overlapping between fragments detected at ${tt.toFixed(3)}`),!Wt||vt>=it[0].pts||chromeVersion)){ht=vt;const Kt=it[0].pts-_t;if(It)it[0].dts=ht,it[0].pts=Kt;else{let Bt=!0;for(let Qt=0;Qt<it.length&&!(it[Qt].dts>Kt&&Bt);Qt++){const Nt=it[Qt].pts;if(it[Qt].dts-=_t,it[Qt].pts-=_t,Qt<it.length-1){const Xt=it[Qt+1].pts,Zt=it[Qt].pts,Yt=Xt<=Zt,rr=Xt<=Nt;Bt=Yt==rr}}}this.log(`Video: Initial PTS/DTS adjusted: ${toMsFromMpegTsClock(Kt,!0)}/${toMsFromMpegTsClock(ht,!0)}, delta: ${toMsFromMpegTsClock(_t,!0)} ms`)}}ht=Math.max(0,ht);let Et=0,wt=0,$t=ht;for(let _t=0;_t<ot;_t++){const It=it[_t],Wt=It.units,Kt=Wt.length;let Bt=0;for(let Qt=0;Qt<Kt;Qt++)Bt+=Wt[Qt].data.length;wt+=Bt,Et+=Kt,It.length=Bt,It.dts<$t?(It.dts=$t,$t+=xt/4|0||1):$t=It.dts,gt=Math.min(It.pts,gt),mt=Math.max(It.pts,mt)}pt=it[ot-1].dts;const Tt=wt+4*Et+8;let St;try{St=new Uint8Array(Tt)}catch(_t){this.observer.emit(Events.ERROR,Events.ERROR,{type:ErrorTypes.MUX_ERROR,details:ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,error:_t,bytes:Tt,reason:`fail allocating video mdat ${Tt}`});return}const Pt=new DataView(St.buffer);Pt.setUint32(0,Tt),St.set(MP4.types.mdat,4);let At=!1,Rt=Number.POSITIVE_INFINITY,Ct=Number.POSITIVE_INFINITY,Dt=Number.NEGATIVE_INFINITY,Ft=Number.NEGATIVE_INFINITY;for(let _t=0;_t<ot;_t++){const It=it[_t],Wt=It.units;let Kt=0;for(let Nt=0,Xt=Wt.length;Nt<Xt;Nt++){const Zt=Wt[Nt],Yt=Zt.data,rr=Zt.data.byteLength;Pt.setUint32(dt,rr),dt+=4,St.set(Yt,dt),dt+=rr,Kt+=4+rr}let Bt;if(_t<ot-1)ft=it[_t+1].dts-It.dts,Bt=it[_t+1].pts-It.pts;else{const Nt=this.config,Xt=_t>0?It.dts-it[_t-1].dts:xt;if(Bt=_t>0?It.pts-it[_t-1].pts:xt,Nt.stretchShortVideoTrack&&this.nextAudioTs!==null){const Zt=Math.floor(Nt.maxBufferHole*st),Yt=(nt?gt+nt*st:this.nextAudioTs+ct)-It.pts;Yt>Zt?(ft=Yt-Xt,ft<0?ft=Xt:At=!0,this.log(`It is approximately ${Yt/90} ms to the next segment; using duration ${ft/90} ms for the last video frame.`)):ft=Xt}else ft=Xt}const Qt=Math.round(It.pts-It.dts);Rt=Math.min(Rt,ft),Dt=Math.max(Dt,ft),Ct=Math.min(Ct,Bt),Ft=Math.max(Ft,Bt),at.push(createMp4Sample(It.key,ft,Kt,Qt))}if(at.length){if(chromeVersion){if(chromeVersion<70){const _t=at[0].flags;_t.dependsOn=2,_t.isNonSync=0}}else if(safariWebkitVersion&&Ft-Ct<Dt-Rt&&xt/Dt<.025&&at[0].cts===0){this.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let _t=ht;for(let It=0,Wt=at.length;It<Wt;It++){const Kt=_t+at[It].duration,Bt=_t+at[It].cts;if(It<Wt-1){const Qt=Kt+at[It+1].cts;at[It].duration=Qt-Bt}else at[It].duration=It?at[It-1].duration:xt;at[It].cts=0,_t=Kt}}}ft=At||!ft?xt:ft;const Mt=pt+ft;this.nextVideoTs=ut=Mt-ct,this.videoSampleDuration=ft,this.isVideoContiguous=!0;const Ut={data1:MP4.moof(_e.sequenceNumber++,ht,_extends$f(_e,{samples:at})),data2:St,startPTS:(gt-ct)/st,endPTS:(mt+ft-ct)/st,startDTS:(ht-ct)/st,endDTS:ut/st,type:"video",hasAudio:!1,hasVideo:!0,nb:at.length,dropped:_e.dropped};return _e.samples=[],_e.dropped=0,Ut}getSamplesPerFrame(_e){switch(_e.segmentCodec){case"mp3":return MPEG_AUDIO_SAMPLE_PER_FRAME;case"ac3":return AC3_SAMPLES_PER_FRAME;default:return AAC_SAMPLES_PER_FRAME}}remuxAudio(_e,tt,rt,nt,st){const it=_e.inputTimeScale,at=_e.samplerate?_e.samplerate:it,ot=it/at,lt=this.getSamplesPerFrame(_e),ct=lt*ot,ut=this._initPTS,dt=_e.segmentCodec==="mp3"&&this.typeSupported.mpeg,ft=[],ht=st!==void 0;let pt=_e.samples,gt=dt?0:8,mt=this.nextAudioTs||-1;const bt=ut.baseTime*it/ut.timescale,vt=bt+tt*it;if(this.isAudioContiguous=rt=rt||pt.length&&mt>0&&(nt&&Math.abs(vt-(mt+bt))<9e3||Math.abs(normalizePts(pt[0].pts,vt)-(mt+bt))<20*ct),pt.forEach(function(Ft){Ft.pts=normalizePts(Ft.pts,vt)}),!rt||mt<0){if(pt=pt.filter(Ft=>Ft.pts>=0),!pt.length)return;st===0?mt=0:nt&&!ht?mt=Math.max(0,vt-bt):mt=pt[0].pts-bt}if(_e.segmentCodec==="aac"){const Ft=this.config.maxAudioFramesDrift;for(let Mt=0,Ot=mt+bt;Mt<pt.length;Mt++){const jt=pt[Mt],Ut=jt.pts,_t=Ut-Ot,It=Math.abs(1e3*_t/it);if(_t<=-Ft*ct&&ht)Mt===0&&(this.warn(`Audio frame @ ${(Ut/it).toFixed(3)}s overlaps marker by ${Math.round(1e3*_t/it)} ms.`),this.nextAudioTs=mt=Ut-bt,Ot=Ut);else if(_t>=Ft*ct&&It<MAX_SILENT_FRAME_DURATION&&ht){let Wt=Math.round(_t/ct);for(Ot=Ut-Wt*ct;Ot<0&&Wt&&ct;)Wt--,Ot+=ct;Mt===0&&(this.nextAudioTs=mt=Ot-bt),this.warn(`Injecting ${Wt} audio frames @ ${((Ot-bt)/it).toFixed(3)}s due to ${Math.round(1e3*_t/it)} ms gap.`);for(let Kt=0;Kt<Wt;Kt++){let Bt=AAC.getSilentFrame(_e.parsedCodec||_e.manifestCodec||_e.codec,_e.channelCount);Bt||(this.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),Bt=jt.unit.subarray()),pt.splice(Mt,0,{unit:Bt,pts:Ot}),Ot+=ct,Mt++}}jt.pts=Ot,Ot+=ct}}let yt=null,xt=null,Et,wt=0,$t=pt.length;for(;$t--;)wt+=pt[$t].unit.byteLength;for(let Ft=0,Mt=pt.length;Ft<Mt;Ft++){const Ot=pt[Ft],jt=Ot.unit;let Ut=Ot.pts;if(xt!==null){const It=ft[Ft-1];It.duration=Math.round((Ut-xt)/ot)}else if(rt&&_e.segmentCodec==="aac"&&(Ut=mt+bt),yt=Ut,wt>0){wt+=gt;try{Et=new Uint8Array(wt)}catch(It){this.observer.emit(Events.ERROR,Events.ERROR,{type:ErrorTypes.MUX_ERROR,details:ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,error:It,bytes:wt,reason:`fail allocating audio mdat ${wt}`});return}dt||(new DataView(Et.buffer).setUint32(0,wt),Et.set(MP4.types.mdat,4))}else return;Et.set(jt,gt);const _t=jt.byteLength;gt+=_t,ft.push(createMp4Sample(!0,lt,_t,0)),xt=Ut}const Tt=ft.length;if(!Tt)return;const St=ft[ft.length-1];mt=xt-bt,this.nextAudioTs=mt+ot*St.duration;const Pt=dt?new Uint8Array(0):MP4.moof(_e.sequenceNumber++,yt/ot,_extends$f({},_e,{samples:ft}));_e.samples=[];const At=(yt-bt)/it,Rt=mt/it,Dt={data1:Pt,data2:Et,startPTS:At,endPTS:Rt,startDTS:At,endDTS:Rt,type:"audio",hasAudio:!0,hasVideo:!1,nb:Tt};return this.isAudioContiguous=!0,Dt}}function normalizePts(et,_e){let tt;if(_e===null)return et;for(_e<et?tt=-8589934592:tt=8589934592;Math.abs(et-_e)>4294967296;)et+=tt;return et}function findKeyframeIndex(et){for(let _e=0;_e<et.length;_e++)if(et[_e].key)return _e;return-1}function flushTextTrackMetadataCueSamples(et,_e,tt,rt){const nt=et.samples.length;if(!nt)return;const st=et.inputTimeScale;for(let at=0;at<nt;at++){const ot=et.samples[at];ot.pts=normalizePts(ot.pts-tt.baseTime*st/tt.timescale,_e*st)/st,ot.dts=normalizePts(ot.dts-rt.baseTime*st/rt.timescale,_e*st)/st}const it=et.samples;return et.samples=[],{samples:it}}function flushTextTrackUserdataCueSamples(et,_e,tt){const rt=et.samples.length;if(!rt)return;const nt=et.inputTimeScale;for(let it=0;it<rt;it++){const at=et.samples[it];at.pts=normalizePts(at.pts-tt.baseTime*nt/tt.timescale,_e*nt)/nt}et.samples.sort((it,at)=>it.pts-at.pts);const st=et.samples;return et.samples=[],{samples:st}}class PassThroughRemuxer extends Logger{constructor(_e,tt,rt,nt){super("passthrough-remuxer",nt),this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null,this.isVideoContiguous=!1}destroy(){}resetTimeStamp(_e){this.lastEndTime=null;const tt=this.initPTS;tt&&_e&&tt.baseTime===_e.baseTime&&tt.timescale===_e.timescale||(this.initPTS=_e)}resetNextTimestamp(){this.isVideoContiguous=!1,this.lastEndTime=null}resetInitSegment(_e,tt,rt,nt){this.audioCodec=tt,this.videoCodec=rt,this.generateInitSegment(_e,nt),this.emitInitSegment=!0}generateInitSegment(_e,tt){let{audioCodec:rt,videoCodec:nt}=this;if(!(_e!=null&&_e.byteLength)){this.initTracks=void 0,this.initData=void 0;return}const{audio:st,video:it}=this.initData=parseInitSegment(_e);if(tt)patchEncyptionData(_e,tt);else{const ot=st||it;ot!=null&&ot.encrypted&&this.warn(`Init segment with encrypted track with has no key ("${ot.codec}")!`)}st&&(rt=getParsedTrackCodec(st,ElementaryStreamTypes.AUDIO,this)),it&&(nt=getParsedTrackCodec(it,ElementaryStreamTypes.VIDEO,this));const at={};st&&it?at.audiovideo={container:"video/mp4",codec:rt+","+nt,supplemental:it.supplemental,encrypted:it.encrypted,initSegment:_e,id:"main"}:st?at.audio={container:"audio/mp4",codec:rt,encrypted:st.encrypted,initSegment:_e,id:"audio"}:it?at.video={container:"video/mp4",codec:nt,supplemental:it.supplemental,encrypted:it.encrypted,initSegment:_e,id:"main"}:this.warn("initSegment does not contain moov or trak boxes."),this.initTracks=at}remux(_e,tt,rt,nt,st,it){var at,ot;let{initPTS:lt,lastEndTime:ct}=this;const ut={audio:void 0,video:void 0,text:nt,id3:rt,initSegment:void 0};isFiniteNumber(ct)||(ct=this.lastEndTime=st||0);const dt=tt.samples;if(!dt.length)return ut;const ft={initPTS:void 0,timescale:void 0,trackId:void 0};let ht=this.initData;if((at=ht)!=null&&at.length||(this.generateInitSegment(dt),ht=this.initData),!((ot=ht)!=null&&ot.length))return this.warn("Failed to generate initSegment."),ut;this.emitInitSegment&&(ft.tracks=this.initTracks,this.emitInitSegment=!1);const pt=getSampleData(dt,ht,this),gt=ht.audio?pt[ht.audio.id]:null,mt=ht.video?pt[ht.video.id]:null,bt=toStartEndOrDefault(mt,1/0),vt=toStartEndOrDefault(gt,1/0),yt=toStartEndOrDefault(mt,0,!0),xt=toStartEndOrDefault(gt,0,!0);let Et=st,wt=0;const $t=gt&&(!mt||!lt&&vt<bt||lt&&lt.trackId===ht.audio.id),Tt=$t?gt:mt;if(Tt){const Ot=Tt.timescale,jt=Tt.start-st*Ot,Ut=$t?ht.audio.id:ht.video.id;Et=Tt.start/Ot,wt=$t?xt-vt:yt-bt,(it||!lt)&&(isInvalidInitPts(lt,Et,st,wt)||Ot!==lt.timescale)&&(lt&&this.warn(`Timestamps at playlist time: ${it?"":"~"}${st} ${jt/Ot} != initPTS: ${lt.baseTime/lt.timescale} (${lt.baseTime}/${lt.timescale}) trackId: ${lt.trackId}`),this.log(`Found initPTS at playlist time: ${st} offset: ${Et-st} (${jt}/${Ot}) trackId: ${Ut}`),lt=null,ft.initPTS=jt,ft.timescale=Ot,ft.trackId=Ut)}else this.warn(`No audio or video samples found for initPTS at playlist time: ${st}`);lt?(ft.initPTS=lt.baseTime,ft.timescale=lt.timescale,ft.trackId=lt.trackId):((!ft.timescale||ft.trackId===void 0||ft.initPTS===void 0)&&(this.warn("Could not set initPTS"),ft.initPTS=Et,ft.timescale=1,ft.trackId=-1),this.initPTS=lt={baseTime:ft.initPTS,timescale:ft.timescale,trackId:ft.trackId});const St=Et-lt.baseTime/lt.timescale,Pt=St+wt;wt>0?this.lastEndTime=Pt:(this.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const At=!!ht.audio,Rt=!!ht.video;let Ct="";At&&(Ct+="audio"),Rt&&(Ct+="video");const Dt=(ht.audio?ht.audio.encrypted:!1)||(ht.video?ht.video.encrypted:!1),Ft={data1:dt,startPTS:St,startDTS:St,endPTS:Pt,endDTS:Pt,type:Ct,hasAudio:At,hasVideo:Rt,nb:1,dropped:0,encrypted:Dt};ut.audio=At&&!Rt?Ft:void 0,ut.video=Rt?Ft:void 0;const Mt=mt==null?void 0:mt.sampleCount;if(Mt){const Ot=mt.keyFrameIndex,jt=Ot!==-1;Ft.nb=Mt,Ft.dropped=Ot===0||this.isVideoContiguous?0:jt?Ot:Mt,Ft.independent=jt,Ft.firstKeyFrame=Ot,jt&&mt.keyFrameStart&&(Ft.firstKeyFramePTS=(mt.keyFrameStart-lt.baseTime)/lt.timescale),this.isVideoContiguous||(ut.independent=jt),this.isVideoContiguous||(this.isVideoContiguous=jt),Ft.dropped&&this.warn(`fmp4 does not start with IDR: firstIDR ${Ot}/${Mt} dropped: ${Ft.dropped} start: ${Ft.firstKeyFramePTS||"NA"}`)}return ut.initSegment=ft,ut.id3=flushTextTrackMetadataCueSamples(rt,st,lt,lt),nt.samples.length&&(ut.text=flushTextTrackUserdataCueSamples(nt,st,lt)),ut}}function toStartEndOrDefault(et,_e,tt=!1){return(et==null?void 0:et.start)!==void 0?(et.start+(tt?et.duration:0))/et.timescale:_e}function isInvalidInitPts(et,_e,tt,rt){if(et===null)return!0;const nt=Math.max(rt,1),st=_e-et.baseTime/et.timescale;return Math.abs(st-tt)>nt}function getParsedTrackCodec(et,_e,tt){const rt=et.codec;return rt&&rt.length>4?rt:_e===ElementaryStreamTypes.AUDIO?rt==="ec-3"||rt==="ac-3"||rt==="alac"?rt:rt==="fLaC"||rt==="Opus"?getCodecCompatibleName(rt,!1):(tt.warn(`Unhandled audio codec "${rt}" in mp4 MAP`),rt||"mp4a"):(tt.warn(`Unhandled video codec "${rt}" in mp4 MAP`),rt||"avc1")}let now$2;try{now$2=self.performance.now.bind(self.performance)}catch{now$2=Date.now}const muxConfig=[{demux:MP4Demuxer,remux:PassThroughRemuxer},{demux:TSDemuxer,remux:MP4Remuxer},{demux:AACDemuxer,remux:MP4Remuxer},{demux:MP3Demuxer,remux:MP4Remuxer}];muxConfig.splice(2,0,{demux:AC3Demuxer,remux:MP4Remuxer});class Transmuxer{constructor(_e,tt,rt,nt,st,it){this.asyncResult=!1,this.logger=void 0,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=_e,this.typeSupported=tt,this.config=rt,this.id=st,this.logger=it}configure(_e){this.transmuxConfig=_e,this.decrypter&&this.decrypter.reset()}push(_e,tt,rt,nt){const st=rt.transmuxing;st.executeStart=now$2();let it=new Uint8Array(_e);const{currentTransmuxState:at,transmuxConfig:ot}=this;nt&&(this.currentTransmuxState=nt);const{contiguous:lt,discontinuity:ct,trackSwitch:ut,accurateTimeOffset:dt,timeOffset:ft,initSegmentChange:ht}=nt||at,{audioCodec:pt,videoCodec:gt,defaultInitPts:mt,duration:bt,initSegmentData:vt}=ot,yt=getEncryptionType(it,tt);if(yt&&isFullSegmentEncryption(yt.method)){const $t=this.getDecrypter(),Tt=getAesModeFromFullSegmentMethod(yt.method);if($t.isSync()){let St=$t.softwareDecrypt(it,yt.key.buffer,yt.iv.buffer,Tt);if(rt.part>-1){const At=$t.flush();St=At&&At.buffer}if(!St)return st.executeEnd=now$2(),emptyResult(rt);it=new Uint8Array(St)}else return this.asyncResult=!0,this.decryptionPromise=$t.webCryptoDecrypt(it,yt.key.buffer,yt.iv.buffer,Tt).then(St=>{const Pt=this.push(St,null,rt);return this.decryptionPromise=null,Pt}),this.decryptionPromise}const xt=this.needsProbing(ct,ut);if(xt){const $t=this.configureTransmuxer(it);if($t)return this.logger.warn(`[transmuxer] ${$t.message}`),this.observer.emit(Events.ERROR,Events.ERROR,{type:ErrorTypes.MEDIA_ERROR,details:ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,error:$t,reason:$t.message}),st.executeEnd=now$2(),emptyResult(rt)}(ct||ut||ht||xt)&&this.resetInitSegment(vt,pt,gt,bt,tt),(ct||ht||xt)&&this.resetInitialTimestamp(mt),lt||this.resetContiguity();const Et=this.transmux(it,yt,ft,dt,rt);this.asyncResult=isPromise(Et);const wt=this.currentTransmuxState;return wt.contiguous=!0,wt.discontinuity=!1,wt.trackSwitch=!1,st.executeEnd=now$2(),Et}flush(_e){const tt=_e.transmuxing;tt.executeStart=now$2();const{decrypter:rt,currentTransmuxState:nt,decryptionPromise:st}=this;if(st)return this.asyncResult=!0,st.then(()=>this.flush(_e));const it=[],{timeOffset:at}=nt;if(rt){const ut=rt.flush();ut&&it.push(this.push(ut.buffer,null,_e))}const{demuxer:ot,remuxer:lt}=this;if(!ot||!lt){tt.executeEnd=now$2();const ut=[emptyResult(_e)];return this.asyncResult?Promise.resolve(ut):ut}const ct=ot.flush(at);return isPromise(ct)?(this.asyncResult=!0,ct.then(ut=>(this.flushRemux(it,ut,_e),it))):(this.flushRemux(it,ct,_e),this.asyncResult?Promise.resolve(it):it)}flushRemux(_e,tt,rt){const{audioTrack:nt,videoTrack:st,id3Track:it,textTrack:at}=tt,{accurateTimeOffset:ot,timeOffset:lt}=this.currentTransmuxState;this.logger.log(`[transmuxer.ts]: Flushed ${this.id} sn: ${rt.sn}${rt.part>-1?" part: "+rt.part:""} of ${this.id===PlaylistLevelType.MAIN?"level":"track"} ${rt.level}`);const ct=this.remuxer.remux(nt,st,it,at,lt,ot,!0,this.id);_e.push({remuxResult:ct,chunkMeta:rt}),rt.transmuxing.executeEnd=now$2()}resetInitialTimestamp(_e){const{demuxer:tt,remuxer:rt}=this;!tt||!rt||(tt.resetTimeStamp(_e),rt.resetTimeStamp(_e))}resetContiguity(){const{demuxer:_e,remuxer:tt}=this;!_e||!tt||(_e.resetContiguity(),tt.resetNextTimestamp())}resetInitSegment(_e,tt,rt,nt,st){const{demuxer:it,remuxer:at}=this;!it||!at||(it.resetInitSegment(_e,tt,rt,nt),at.resetInitSegment(_e,tt,rt,st))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(_e,tt,rt,nt,st){let it;return tt&&tt.method==="SAMPLE-AES"?it=this.transmuxSampleAes(_e,tt,rt,nt,st):it=this.transmuxUnencrypted(_e,rt,nt,st),it}transmuxUnencrypted(_e,tt,rt,nt){const{audioTrack:st,videoTrack:it,id3Track:at,textTrack:ot}=this.demuxer.demux(_e,tt,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(st,it,at,ot,tt,rt,!1,this.id),chunkMeta:nt}}transmuxSampleAes(_e,tt,rt,nt,st){return this.demuxer.demuxSampleAes(_e,tt,rt).then(it=>({remuxResult:this.remuxer.remux(it.audioTrack,it.videoTrack,it.id3Track,it.textTrack,rt,nt,!1,this.id),chunkMeta:st}))}configureTransmuxer(_e){const{config:tt,observer:rt,typeSupported:nt}=this;let st;for(let ut=0,dt=muxConfig.length;ut<dt;ut++){var it;if((it=muxConfig[ut].demux)!=null&&it.probe(_e,this.logger)){st=muxConfig[ut];break}}if(!st)return new Error("Failed to find demuxer by probing fragment data");const at=this.demuxer,ot=this.remuxer,lt=st.remux,ct=st.demux;(!ot||!(ot instanceof lt))&&(this.remuxer=new lt(rt,tt,nt,this.logger)),(!at||!(at instanceof ct))&&(this.demuxer=new ct(rt,tt,nt,this.logger),this.probe=ct.probe)}needsProbing(_e,tt){return!this.demuxer||!this.remuxer||_e||tt}getDecrypter(){let _e=this.decrypter;return _e||(_e=this.decrypter=new Decrypter(this.config)),_e}}function getEncryptionType(et,_e){let tt=null;return et.byteLength>0&&(_e==null?void 0:_e.key)!=null&&_e.iv!==null&&_e.method!=null&&(tt=_e),tt}const emptyResult=et=>({remuxResult:{},chunkMeta:et});function isPromise(et){return"then"in et&&et.then instanceof Function}class TransmuxConfig{constructor(_e,tt,rt,nt,st){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=_e,this.videoCodec=tt,this.initSegmentData=rt,this.duration=nt,this.defaultInitPts=st||null}}class TransmuxState{constructor(_e,tt,rt,nt,st,it){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=_e,this.contiguous=tt,this.accurateTimeOffset=rt,this.trackSwitch=nt,this.timeOffset=st,this.initSegmentChange=it}}let transmuxerInstanceCount=0;class TransmuxerInterface{constructor(_e,tt,rt,nt){this.error=null,this.hls=void 0,this.id=void 0,this.instanceNo=transmuxerInstanceCount++,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.onWorkerMessage=ot=>{const lt=ot.data,ct=this.hls;if(!(!ct||!(lt!=null&&lt.event)||lt.instanceNo!==this.instanceNo))switch(lt.event){case"init":{var ut;const dt=(ut=this.workerContext)==null?void 0:ut.objectURL;dt&&self.URL.revokeObjectURL(dt);break}case"transmuxComplete":{this.handleTransmuxComplete(lt.data);break}case"flush":{this.onFlush(lt.data);break}case"workerLog":{ct.logger[lt.data.logType]&&ct.logger[lt.data.logType](lt.data.message);break}default:{lt.data=lt.data||{},lt.data.frag=this.frag,lt.data.part=this.part,lt.data.id=this.id,ct.trigger(lt.event,lt.data);break}}},this.onWorkerError=ot=>{if(!this.hls)return;const lt=new Error(`${ot.message}  (${ot.filename}:${ot.lineno})`);this.hls.config.enableWorker=!1,this.hls.logger.warn(`Error in "${this.id}" Web Worker, fallback to inline`),this.hls.trigger(Events.ERROR,{type:ErrorTypes.OTHER_ERROR,details:ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:lt})};const st=_e.config;this.hls=_e,this.id=tt,this.useWorker=!!st.enableWorker,this.onTransmuxComplete=rt,this.onFlush=nt;const it=(ot,lt)=>{lt=lt||{},lt.frag=this.frag||void 0,ot===Events.ERROR&&(lt=lt,lt.parent=this.id,lt.part=this.part,this.error=lt.error),this.hls.trigger(ot,lt)};this.observer=new EventEmitter,this.observer.on(Events.FRAG_DECRYPTED,it),this.observer.on(Events.ERROR,it);const at=getM2TSSupportedAudioTypes(st.preferManagedMediaSource);if(this.useWorker&&typeof Worker<"u"){const ot=this.hls.logger;if(st.workerPath||hasUMDWorker()){try{st.workerPath?(ot.log(`loading Web Worker ${st.workerPath} for "${tt}"`),this.workerContext=loadWorker(st.workerPath)):(ot.log(`injecting Web Worker for "${tt}"`),this.workerContext=injectWorker());const{worker:ct}=this.workerContext;ct.addEventListener("message",this.onWorkerMessage),ct.addEventListener("error",this.onWorkerError),ct.postMessage({instanceNo:this.instanceNo,cmd:"init",typeSupported:at,id:tt,config:stringify(st)})}catch(ct){ot.warn(`Error setting up "${tt}" Web Worker, fallback to inline`,ct),this.terminateWorker(),this.error=null,this.transmuxer=new Transmuxer(this.observer,at,st,"",tt,_e.logger)}return}}this.transmuxer=new Transmuxer(this.observer,at,st,"",tt,_e.logger)}reset(){if(this.frag=null,this.part=null,this.workerContext){const _e=this.instanceNo;this.instanceNo=transmuxerInstanceCount++;const tt=this.hls.config,rt=getM2TSSupportedAudioTypes(tt.preferManagedMediaSource);this.workerContext.worker.postMessage({instanceNo:this.instanceNo,cmd:"reset",resetNo:_e,typeSupported:rt,id:this.id,config:stringify(tt)})}}terminateWorker(){if(this.workerContext){const{worker:_e}=this.workerContext;this.workerContext=null,_e.removeEventListener("message",this.onWorkerMessage),_e.removeEventListener("error",this.onWorkerError),removeWorkerFromStore(this.hls.config.workerPath)}}destroy(){if(this.workerContext)this.terminateWorker(),this.onWorkerMessage=this.onWorkerError=null;else{const tt=this.transmuxer;tt&&(tt.destroy(),this.transmuxer=null)}const _e=this.observer;_e&&_e.removeAllListeners(),this.frag=null,this.part=null,this.observer=null,this.hls=null}push(_e,tt,rt,nt,st,it,at,ot,lt,ct){var ut,dt;lt.transmuxing.start=self.performance.now();const{instanceNo:ft,transmuxer:ht}=this,pt=it?it.start:st.start,gt=st.decryptdata,mt=this.frag,bt=!(mt&&st.cc===mt.cc),vt=!(mt&&lt.level===mt.level),yt=mt?lt.sn-mt.sn:-1,xt=this.part?lt.part-this.part.index:-1,Et=yt===0&&lt.id>1&&lt.id===(mt==null?void 0:mt.stats.chunkCount),wt=!vt&&(yt===1||yt===0&&(xt===1||Et&&xt<=0)),$t=self.performance.now();(vt||yt||st.stats.parsing.start===0)&&(st.stats.parsing.start=$t),it&&(xt||!wt)&&(it.stats.parsing.start=$t);const Tt=!(mt&&((ut=st.initSegment)==null?void 0:ut.url)===((dt=mt.initSegment)==null?void 0:dt.url)),St=new TransmuxState(bt,wt,ot,vt,pt,Tt);if(!wt||bt||Tt){this.hls.logger.log(`[transmuxer-interface]: Starting new transmux session for ${st.type} sn: ${lt.sn}${lt.part>-1?" part: "+lt.part:""} ${this.id===PlaylistLevelType.MAIN?"level":"track"}: ${lt.level} id: ${lt.id}
        discontinuity: ${bt}
        trackSwitch: ${vt}
        contiguous: ${wt}
        accurateTimeOffset: ${ot}
        timeOffset: ${pt}
        initSegmentChange: ${Tt}`);const Pt=new TransmuxConfig(rt,nt,tt,at,ct);this.configureTransmuxer(Pt)}if(this.frag=st,this.part=it,this.workerContext)this.workerContext.worker.postMessage({instanceNo:ft,cmd:"demux",data:_e,decryptdata:gt,chunkMeta:lt,state:St},_e instanceof ArrayBuffer?[_e]:[]);else if(ht){const Pt=ht.push(_e,gt,lt,St);isPromise(Pt)?Pt.then(At=>{this.handleTransmuxComplete(At)}).catch(At=>{this.transmuxerError(At,lt,"transmuxer-interface push error")}):this.handleTransmuxComplete(Pt)}}flush(_e){_e.transmuxing.start=self.performance.now();const{instanceNo:tt,transmuxer:rt}=this;if(this.workerContext)this.workerContext.worker.postMessage({instanceNo:tt,cmd:"flush",chunkMeta:_e});else if(rt){const nt=rt.flush(_e);isPromise(nt)?nt.then(st=>{this.handleFlushResult(st,_e)}).catch(st=>{this.transmuxerError(st,_e,"transmuxer-interface flush error")}):this.handleFlushResult(nt,_e)}}transmuxerError(_e,tt,rt){this.hls&&(this.error=_e,this.hls.trigger(Events.ERROR,{type:ErrorTypes.MEDIA_ERROR,details:ErrorDetails.FRAG_PARSING_ERROR,chunkMeta:tt,frag:this.frag||void 0,part:this.part||void 0,fatal:!1,error:_e,err:_e,reason:rt}))}handleFlushResult(_e,tt){_e.forEach(rt=>{this.handleTransmuxComplete(rt)}),this.onFlush(tt)}configureTransmuxer(_e){const{instanceNo:tt,transmuxer:rt}=this;this.workerContext?this.workerContext.worker.postMessage({instanceNo:tt,cmd:"configure",config:_e}):rt&&rt.configure(_e)}handleTransmuxComplete(_e){_e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(_e)}}const TICK_INTERVAL$3=100;class AudioStreamController extends BaseStreamController{constructor(_e,tt,rt){super(_e,tt,rt,"audio-stream-controller",PlaylistLevelType.AUDIO),this.mainAnchor=null,this.mainFragLoading=null,this.audioOnly=!1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.resetItem()}resetItem(){this.mainDetails=this.mainAnchor=this.mainFragLoading=this.bufferedTrack=this.switchingTrack=this.waitingData=this.cachedTrackLoadedData=null}registerListeners(){super.registerListeners();const{hls:_e}=this;_e.on(Events.LEVEL_LOADED,this.onLevelLoaded,this),_e.on(Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),_e.on(Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),_e.on(Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),_e.on(Events.BUFFER_RESET,this.onBufferReset,this),_e.on(Events.BUFFER_CREATED,this.onBufferCreated,this),_e.on(Events.BUFFER_FLUSHING,this.onBufferFlushing,this),_e.on(Events.BUFFER_FLUSHED,this.onBufferFlushed,this),_e.on(Events.INIT_PTS_FOUND,this.onInitPtsFound,this),_e.on(Events.FRAG_LOADING,this.onFragLoading,this),_e.on(Events.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){const{hls:_e}=this;_e&&(super.unregisterListeners(),_e.off(Events.LEVEL_LOADED,this.onLevelLoaded,this),_e.off(Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),_e.off(Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),_e.off(Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),_e.off(Events.BUFFER_RESET,this.onBufferReset,this),_e.off(Events.BUFFER_CREATED,this.onBufferCreated,this),_e.off(Events.BUFFER_FLUSHING,this.onBufferFlushing,this),_e.off(Events.BUFFER_FLUSHED,this.onBufferFlushed,this),_e.off(Events.INIT_PTS_FOUND,this.onInitPtsFound,this),_e.off(Events.FRAG_LOADING,this.onFragLoading,this),_e.off(Events.FRAG_BUFFERED,this.onFragBuffered,this))}onInitPtsFound(_e,{frag:tt,id:rt,initPTS:nt,timescale:st,trackId:it}){if(rt===PlaylistLevelType.MAIN){const at=tt.cc,ot=this.fragCurrent;if(this.initPTS[at]={baseTime:nt,timescale:st,trackId:it},this.log(`InitPTS for cc: ${at} found from main: ${nt/st} (${nt}/${st}) trackId: ${it}`),this.mainAnchor=tt,this.state===State.WAITING_INIT_PTS){const lt=this.waitingData;(!lt&&!this.loadingParts||lt&&lt.frag.cc!==at)&&this.syncWithAnchor(tt,lt==null?void 0:lt.frag)}else!this.hls.hasEnoughToStart&&ot&&ot.cc!==at?(ot.abortRequests(),this.syncWithAnchor(tt,ot)):this.state===State.IDLE&&this.tick()}}getLoadPosition(){return!this.startFragRequested&&this.nextLoadPosition>=0?this.nextLoadPosition:super.getLoadPosition()}syncWithAnchor(_e,tt){var rt;const nt=((rt=this.mainFragLoading)==null?void 0:rt.frag)||null;if(tt&&(nt==null?void 0:nt.cc)===tt.cc)return;const st=(nt||_e).cc,it=this.getLevelDetails(),at=this.getLoadPosition(),ot=findNearestWithCC(it,st,at);ot&&(this.log(`Syncing with main frag at ${ot.start} cc ${ot.cc}`),this.startFragRequested=!1,this.nextLoadPosition=ot.start,this.resetLoadingState(),this.state===State.IDLE&&this.doTickIdle())}startLoad(_e,tt){if(!this.levels){this.startPosition=_e,this.state=State.STOPPED;return}const rt=this.lastCurrentTime;this.stopLoad(),this.setInterval(TICK_INTERVAL$3),rt>0&&_e===-1?(this.log(`Override startPosition with lastCurrentTime @${rt.toFixed(3)}`),_e=rt,this.state=State.IDLE):this.state=State.WAITING_TRACK,this.nextLoadPosition=this.lastCurrentTime=_e+this.timelineOffset,this.startPosition=tt?-1:_e,this.tick()}doTick(){switch(this.state){case State.IDLE:this.doTickIdle();break;case State.WAITING_TRACK:{const{levels:tt,trackId:rt}=this,nt=tt==null?void 0:tt[rt],st=nt==null?void 0:nt.details;if(st&&!this.waitForLive(nt)){if(this.waitForCdnTuneIn(st))break;this.state=State.WAITING_INIT_PTS}break}case State.FRAG_LOADING_WAITING_RETRY:{var _e;const tt=performance.now(),rt=this.retryDate;if(!rt||tt>=rt||(_e=this.media)!=null&&_e.seeking){const{levels:nt,trackId:st}=this;this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded((nt==null?void 0:nt[st])||null),this.state=State.IDLE}break}case State.WAITING_INIT_PTS:{const tt=this.waitingData;if(tt){const{frag:rt,part:nt,cache:st,complete:it}=tt,at=this.mainAnchor;if(this.initPTS[rt.cc]!==void 0){this.waitingData=null,this.state=State.FRAG_LOADING;const ot=st.flush().buffer,lt={frag:rt,part:nt,payload:ot,networkDetails:null};this._handleFragmentLoadProgress(lt),it&&super._handleFragmentLoadComplete(lt)}else at&&at.cc!==tt.frag.cc&&this.syncWithAnchor(at,tt.frag)}else this.state=State.IDLE}}this.onTickEnd()}resetLoadingState(){const _e=this.waitingData;_e&&(this.fragmentTracker.removeFragment(_e.frag),this.waitingData=null),super.resetLoadingState()}onTickEnd(){const{media:_e}=this;_e!=null&&_e.readyState&&(this.lastCurrentTime=_e.currentTime)}doTickIdle(){var _e;const{hls:tt,levels:rt,media:nt,trackId:st}=this,it=tt.config;if(!this.buffering||!nt&&!this.primaryPrefetch&&(this.startFragRequested||!it.startFragPrefetch)||!(rt!=null&&rt[st]))return;const at=rt[st],ot=at.details;if(!ot||this.waitForLive(at)||this.waitForCdnTuneIn(ot)){this.state=State.WAITING_TRACK,this.startFragRequested=!1;return}const lt=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&lt&&(this.bufferFlushed=!1,this.afterBufferFlushed(lt,ElementaryStreamTypes.AUDIO,PlaylistLevelType.AUDIO));const ct=this.getFwdBufferInfo(lt,PlaylistLevelType.AUDIO);if(ct===null)return;if(!this.switchingTrack&&this._streamEnded(ct,ot)){tt.trigger(Events.BUFFER_EOS,{type:"audio"}),this.state=State.ENDED;return}const ut=ct.len,dt=tt.maxBufferLength,ft=ot.fragments,ht=ft[0].start,pt=this.getLoadPosition(),gt=this.flushing?pt:ct.end;if(this.switchingTrack&&nt){const vt=pt;ot.PTSKnown&&vt<ht&&(ct.end>ht||ct.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),nt.currentTime=ht+.05)}if(ut>=dt&&!this.switchingTrack&&gt<ft[ft.length-1].start)return;let mt=this.getNextFragment(gt,ot);if(mt&&this.isLoopLoading(mt,gt)&&(mt=this.getNextFragmentLoopLoading(mt,ot,ct,PlaylistLevelType.MAIN,dt)),!mt){this.bufferFlushed=!0;return}let bt=((_e=this.mainFragLoading)==null?void 0:_e.frag)||null;if(!this.audioOnly&&this.startFragRequested&&bt&&isMediaFragment(mt)&&!mt.endList&&(!ot.live||!this.loadingParts&&gt<this.hls.liveSyncPosition)&&(this.fragmentTracker.getState(bt)===FragmentState.OK&&(this.mainFragLoading=bt=null),bt&&isMediaFragment(bt))){if(mt.start>bt.end){const yt=this.fragmentTracker.getFragAtPos(gt,PlaylistLevelType.MAIN);yt&&yt.end>bt.end&&(bt=yt,this.mainFragLoading={frag:yt,targetBufferTime:null})}if(mt.start>bt.end)return}this.loadFragment(mt,at,gt)}onMediaDetaching(_e,tt){this.bufferFlushed=this.flushing=!1,super.onMediaDetaching(_e,tt)}onAudioTracksUpdated(_e,{audioTracks:tt}){this.resetTransmuxer(),this.levels=tt.map(rt=>new Level(rt))}onAudioTrackSwitching(_e,tt){const rt=!!tt.url;this.trackId=tt.id;const{fragCurrent:nt}=this;nt&&(nt.abortRequests(),this.removeUnbufferedFrags(nt.start)),this.resetLoadingState(),rt?(this.switchingTrack=tt,this.flushAudioIfNeeded(tt),this.state!==State.STOPPED&&(this.setInterval(TICK_INTERVAL$3),this.state=State.IDLE,this.tick())):(this.resetTransmuxer(),this.switchingTrack=null,this.bufferedTrack=tt,this.clearInterval())}onManifestLoading(){super.onManifestLoading(),this.bufferFlushed=this.flushing=this.audioOnly=!1,this.resetItem(),this.trackId=-1}onLevelLoaded(_e,tt){this.mainDetails=tt.details;const rt=this.cachedTrackLoadedData;rt&&(this.cachedTrackLoadedData=null,this.onAudioTrackLoaded(Events.AUDIO_TRACK_LOADED,rt))}onAudioTrackLoaded(_e,tt){var rt;const{levels:nt}=this,{details:st,id:it,groupId:at,track:ot}=tt;if(!nt){this.warn(`Audio tracks reset while loading track ${it} "${ot.name}" of "${at}"`);return}const lt=this.mainDetails;if(!lt||st.endCC>lt.endCC||lt.expired){this.cachedTrackLoadedData=tt,this.state!==State.STOPPED&&(this.state=State.WAITING_TRACK);return}this.cachedTrackLoadedData=null,this.log(`Audio track ${it} "${ot.name}" of "${at}" loaded [${st.startSN},${st.endSN}]${st.lastPartSn?`[part-${st.lastPartSn}-${st.lastPartIndex}]`:""},duration:${st.totalduration}`);const ct=nt[it];let ut=0;if(st.live||(rt=ct.details)!=null&&rt.live){if(this.checkLiveUpdate(st),st.deltaUpdateFailed)return;if(ct.details){var dt;ut=this.alignPlaylists(st,ct.details,(dt=this.levelLastLoaded)==null?void 0:dt.details)}st.alignedSliding||(alignDiscontinuities(st,lt),st.alignedSliding||alignMediaPlaylistByPDT(st,lt),ut=st.fragmentStart)}ct.details=st,this.levelLastLoaded=ct,this.startFragRequested||this.setStartPosition(lt,ut),this.hls.trigger(Events.AUDIO_TRACK_UPDATED,{details:st,id:it,groupId:tt.groupId}),this.state===State.WAITING_TRACK&&!this.waitForCdnTuneIn(st)&&(this.state=State.IDLE),this.tick()}_handleFragmentLoadProgress(_e){var tt;const rt=_e.frag,{part:nt,payload:st}=_e,{config:it,trackId:at,levels:ot}=this;if(!ot){this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${rt.sn} of level ${rt.level} will not be buffered`);return}const lt=ot[at];if(!lt){this.warn("Audio track is undefined on fragment load progress");return}const ct=lt.details;if(!ct){this.warn("Audio track details undefined on fragment load progress"),this.removeUnbufferedFrags(rt.start);return}const ut=it.defaultAudioCodec||lt.audioCodec||"mp4a.40.2";let dt=this.transmuxer;dt||(dt=this.transmuxer=new TransmuxerInterface(this.hls,PlaylistLevelType.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const ft=this.initPTS[rt.cc],ht=(tt=rt.initSegment)==null?void 0:tt.data;if(ft!==void 0){const gt=nt?nt.index:-1,mt=gt!==-1,bt=new ChunkMetadata(rt.level,rt.sn,rt.stats.chunkCount,st.byteLength,gt,mt);dt.push(st,ht,ut,"",rt,nt,ct.totalduration,!1,bt,ft)}else{this.log(`Unknown video PTS for cc ${rt.cc}, waiting for video PTS before demuxing audio frag ${rt.sn} of [${ct.startSN} ,${ct.endSN}],track ${at}`);const{cache:pt}=this.waitingData=this.waitingData||{frag:rt,part:nt,cache:new ChunkCache,complete:!1};pt.push(new Uint8Array(st)),this.state!==State.STOPPED&&(this.state=State.WAITING_INIT_PTS)}}_handleFragmentLoadComplete(_e){if(this.waitingData){this.waitingData.complete=!0;return}super._handleFragmentLoadComplete(_e)}onBufferReset(){this.mediaBuffer=null}onBufferCreated(_e,tt){this.bufferFlushed=this.flushing=!1;const rt=tt.tracks.audio;rt&&(this.mediaBuffer=rt.buffer||null)}onFragLoading(_e,tt){!this.audioOnly&&tt.frag.type===PlaylistLevelType.MAIN&&isMediaFragment(tt.frag)&&(this.mainFragLoading=tt,this.state===State.IDLE&&this.tick())}onFragBuffered(_e,tt){const{frag:rt,part:nt}=tt;if(rt.type!==PlaylistLevelType.AUDIO){!this.audioOnly&&rt.type===PlaylistLevelType.MAIN&&!rt.elementaryStreams.video&&!rt.elementaryStreams.audiovideo&&(this.audioOnly=!0,this.mainFragLoading=null);return}if(this.fragContextChanged(rt)){this.warn(`Fragment ${rt.sn}${nt?" p: "+nt.index:""} of level ${rt.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);return}if(isMediaFragment(rt)){this.fragPrevious=rt;const st=this.switchingTrack;st&&(this.bufferedTrack=st,this.switchingTrack=null,this.hls.trigger(Events.AUDIO_TRACK_SWITCHED,_objectSpread2({},st)))}this.fragBufferedComplete(rt,nt),this.media&&this.tick()}onError(_e,tt){var rt;if(tt.fatal){this.state=State.ERROR;return}switch(tt.details){case ErrorDetails.FRAG_GAP:case ErrorDetails.FRAG_PARSING_ERROR:case ErrorDetails.FRAG_DECRYPT_ERROR:case ErrorDetails.FRAG_LOAD_ERROR:case ErrorDetails.FRAG_LOAD_TIMEOUT:case ErrorDetails.KEY_LOAD_ERROR:case ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(PlaylistLevelType.AUDIO,tt);break;case ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case ErrorDetails.LEVEL_PARSING_ERROR:!tt.levelRetry&&this.state===State.WAITING_TRACK&&((rt=tt.context)==null?void 0:rt.type)===PlaylistContextType.AUDIO_TRACK&&(this.state=State.IDLE);break;case ErrorDetails.BUFFER_ADD_CODEC_ERROR:case ErrorDetails.BUFFER_APPEND_ERROR:if(tt.parent!=="audio")return;this.reduceLengthAndFlushBuffer(tt)||this.resetLoadingState();break;case ErrorDetails.BUFFER_FULL_ERROR:if(tt.parent!=="audio")return;this.reduceLengthAndFlushBuffer(tt)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case ErrorDetails.INTERNAL_EXCEPTION:this.recoverWorkerError(tt);break}}onBufferFlushing(_e,{type:tt}){tt!==ElementaryStreamTypes.VIDEO&&(this.flushing=!0)}onBufferFlushed(_e,{type:tt}){if(tt!==ElementaryStreamTypes.VIDEO){this.flushing=!1,this.bufferFlushed=!0,this.state===State.ENDED&&(this.state=State.IDLE);const rt=this.mediaBuffer||this.media;rt&&(this.afterBufferFlushed(rt,tt,PlaylistLevelType.AUDIO),this.tick())}}_handleTransmuxComplete(_e){var tt;const rt="audio",{hls:nt}=this,{remuxResult:st,chunkMeta:it}=_e,at=this.getCurrentContext(it);if(!at){this.resetWhenMissingContext(it);return}const{frag:ot,part:lt,level:ct}=at,{details:ut}=ct,{audio:dt,text:ft,id3:ht,initSegment:pt}=st;if(this.fragContextChanged(ot)||!ut){this.fragmentTracker.removeFragment(ot);return}if(this.state=State.PARSING,this.switchingTrack&&dt&&this.completeAudioSwitch(this.switchingTrack),pt!=null&&pt.tracks){const gt=ot.initSegment||ot;if(this.unhandledEncryptionError(pt,ot))return;this._bufferInitSegment(ct,pt.tracks,gt,it),nt.trigger(Events.FRAG_PARSING_INIT_SEGMENT,{frag:gt,id:rt,tracks:pt.tracks})}if(dt){const{startPTS:gt,endPTS:mt,startDTS:bt,endDTS:vt}=dt;lt&&(lt.elementaryStreams[ElementaryStreamTypes.AUDIO]={startPTS:gt,endPTS:mt,startDTS:bt,endDTS:vt}),ot.setElementaryStreamInfo(ElementaryStreamTypes.AUDIO,gt,mt,bt,vt),this.bufferFragmentData(dt,ot,lt,it)}if(ht!=null&&(tt=ht.samples)!=null&&tt.length){const gt=_extends$f({id:rt,frag:ot,details:ut},ht);nt.trigger(Events.FRAG_PARSING_METADATA,gt)}if(ft){const gt=_extends$f({id:rt,frag:ot,details:ut},ft);nt.trigger(Events.FRAG_PARSING_USERDATA,gt)}}_bufferInitSegment(_e,tt,rt,nt){if(this.state!==State.PARSING||(tt.video&&delete tt.video,tt.audiovideo&&delete tt.audiovideo,!tt.audio))return;const st=tt.audio;st.id=PlaylistLevelType.AUDIO;const it=_e.audioCodec;this.log(`Init audio buffer, container:${st.container}, codecs[level/parsed]=[${it}/${st.codec}]`),it&&it.split(",").length===1&&(st.levelCodec=it),this.hls.trigger(Events.BUFFER_CODECS,tt);const at=st.initSegment;if(at!=null&&at.byteLength){const ot={type:"audio",frag:rt,part:null,chunkMeta:nt,parent:rt.type,data:at};this.hls.trigger(Events.BUFFER_APPENDING,ot)}this.tickImmediate()}loadFragment(_e,tt,rt){const nt=this.fragmentTracker.getState(_e);if(this.switchingTrack||nt===FragmentState.NOT_LOADED||nt===FragmentState.PARTIAL){var st;if(!isMediaFragment(_e))this._loadInitSegment(_e,tt);else if((st=tt.details)!=null&&st.live&&!this.initPTS[_e.cc]){this.log(`Waiting for video PTS in continuity counter ${_e.cc} of live stream before loading audio fragment ${_e.sn} of level ${this.trackId}`),this.state=State.WAITING_INIT_PTS;const it=this.mainDetails;it&&it.fragmentStart!==tt.details.fragmentStart&&alignMediaPlaylistByPDT(tt.details,it)}else super.loadFragment(_e,tt,rt)}else this.clearTrackerIfNeeded(_e)}flushAudioIfNeeded(_e){if(this.media&&this.bufferedTrack){const{name:tt,lang:rt,assocLang:nt,characteristics:st,audioCodec:it,channels:at}=this.bufferedTrack;matchesOption({name:tt,lang:rt,assocLang:nt,characteristics:st,audioCodec:it,channels:at},_e,audioMatchPredicate)||(useAlternateAudio(_e.url,this.hls)?(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null):this.bufferedTrack=_e)}}completeAudioSwitch(_e){const{hls:tt}=this;this.flushAudioIfNeeded(_e),this.bufferedTrack=_e,this.switchingTrack=null,tt.trigger(Events.AUDIO_TRACK_SWITCHED,_objectSpread2({},_e))}}class BasePlaylistController extends Logger{constructor(_e,tt){super(tt,_e.logger),this.hls=void 0,this.canLoad=!1,this.timer=-1,this.hls=_e}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){this.timer!==-1&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(_e,tt,rt){const nt=tt==null?void 0:tt.renditionReports;if(nt){let st=-1;for(let it=0;it<nt.length;it++){const at=nt[it];let ot;try{ot=new self.URL(at.URI,tt.url).href}catch(lt){this.warn(`Could not construct new URL for Rendition Report: ${lt}`),ot=at.URI||""}if(ot===_e){st=it;break}else ot===_e.substring(0,ot.length)&&(st=it)}if(st!==-1){const it=nt[st],at=parseInt(it["LAST-MSN"])||tt.lastPartSn;let ot=parseInt(it["LAST-PART"])||tt.lastPartIndex;if(this.hls.config.lowLatencyMode){const ct=Math.min(tt.age-tt.partTarget,tt.targetduration);ot>=0&&ct>tt.partTarget&&(ot+=1)}const lt=rt&&getSkipValue(rt);return new HlsUrlParameters(at,ot>=0?ot:void 0,lt)}}}loadPlaylist(_e){this.clearTimer()}loadingPlaylist(_e,tt){this.clearTimer()}shouldLoadPlaylist(_e){return this.canLoad&&!!_e&&!!_e.url&&(!_e.details||_e.details.live)}getUrlWithDirectives(_e,tt){if(tt)try{return tt.addDirectives(_e)}catch(rt){this.warn(`Could not construct new URL with HLS Delivery Directives: ${rt}`)}return _e}playlistLoaded(_e,tt,rt){const{details:nt,stats:st}=tt,it=self.performance.now(),at=st.loading.first?Math.max(0,it-st.loading.first):0;nt.advancedDateTime=Date.now()-at;const ot=this.hls.config.timelineOffset;if(ot!==nt.appliedTimelineOffset){const ct=Math.max(ot||0,0);nt.appliedTimelineOffset=ct,nt.fragments.forEach(ut=>{ut.setStart(ut.playlistOffset+ct)})}if(nt.live||rt!=null&&rt.live){const ct="levelInfo"in tt?tt.levelInfo:tt.track;if(nt.reloaded(rt),rt&&nt.fragments.length>0){mergeDetails(rt,nt,this);const bt=nt.playlistParsingError;if(bt){this.warn(bt);const vt=this.hls;if(!vt.config.ignorePlaylistParsingErrors){var lt;const{networkDetails:yt}=tt;vt.trigger(Events.ERROR,{type:ErrorTypes.NETWORK_ERROR,details:ErrorDetails.LEVEL_PARSING_ERROR,fatal:!1,url:nt.url,error:bt,reason:bt.message,level:tt.level||void 0,parent:(lt=nt.fragments[0])==null?void 0:lt.type,networkDetails:yt,stats:st});return}nt.playlistParsingError=null}}nt.requestScheduled===-1&&(nt.requestScheduled=st.loading.start);const ut=this.hls.mainForwardBufferInfo,dt=ut?ut.end-ut.len:0,ft=(nt.edge-dt)*1e3,ht=computeReloadInterval(nt,ft);if(nt.requestScheduled+ht<it?nt.requestScheduled=it:nt.requestScheduled+=ht,this.log(`live playlist ${_e} ${nt.advanced?"REFRESHED "+nt.lastPartSn+"-"+nt.lastPartIndex:nt.updated?"UPDATED":"MISSED"}`),!this.canLoad||!nt.live)return;let pt,gt,mt;if(nt.canBlockReload&&nt.endSN&&nt.advanced){const bt=this.hls.config.lowLatencyMode,vt=nt.lastPartSn,yt=nt.endSN,xt=nt.lastPartIndex,Et=xt!==-1,wt=vt===yt;Et?wt?(gt=yt+1,mt=bt?0:xt):(gt=vt,mt=bt?xt+1:nt.maxPartIndex):gt=yt+1;const $t=nt.age,Tt=$t+nt.ageHeader;let St=Math.min(Tt-nt.partTarget,nt.targetduration*1.5);if(St>0){if(Tt>nt.targetduration*3)this.log(`Playlist last advanced ${$t.toFixed(2)}s ago. Omitting segment and part directives.`),gt=void 0,mt=void 0;else if(rt!=null&&rt.tuneInGoal&&Tt-nt.partTarget>rt.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${rt.tuneInGoal} to: ${St} with playlist age: ${nt.age}`),St=0;else{const Pt=Math.floor(St/nt.targetduration);if(gt+=Pt,mt!==void 0){const At=Math.round(St%nt.targetduration/nt.partTarget);mt+=At}this.log(`CDN Tune-in age: ${nt.ageHeader}s last advanced ${$t.toFixed(2)}s goal: ${St} skip sn ${Pt} to part ${mt}`)}nt.tuneInGoal=St}if(pt=this.getDeliveryDirectives(nt,tt.deliveryDirectives,gt,mt),bt||!wt){nt.requestScheduled=it,this.loadingPlaylist(ct,pt);return}}else(nt.canBlockReload||nt.canSkipUntil)&&(pt=this.getDeliveryDirectives(nt,tt.deliveryDirectives,gt,mt));pt&&gt!==void 0&&nt.canBlockReload&&(nt.requestScheduled=st.loading.first+Math.max(ht-at*2,ht/2)),this.scheduleLoading(ct,pt,nt)}else this.clearTimer()}scheduleLoading(_e,tt,rt){const nt=rt||_e.details;if(!nt){this.loadingPlaylist(_e,tt);return}const st=self.performance.now(),it=nt.requestScheduled;if(st>=it){this.loadingPlaylist(_e,tt);return}const at=it-st;this.log(`reload live playlist ${_e.name||_e.bitrate+"bps"} in ${Math.round(at)} ms`),this.clearTimer(),this.timer=self.setTimeout(()=>this.loadingPlaylist(_e,tt),at)}getDeliveryDirectives(_e,tt,rt,nt){let st=getSkipValue(_e);return tt!=null&&tt.skip&&_e.deltaUpdateFailed&&(rt=tt.msn,nt=tt.part,st=HlsSkip.No),new HlsUrlParameters(rt,nt,st)}checkRetry(_e){const tt=_e.details,rt=isTimeoutError(_e),nt=_e.errorAction,{action:st,retryCount:it=0,retryConfig:at}=nt||{},ot=!!nt&&!!at&&(st===NetworkErrorAction.RetryRequest||!nt.resolved&&st===NetworkErrorAction.SendAlternateToPenaltyBox);if(ot){var lt;if(it>=at.maxNumRetry)return!1;if(rt&&(lt=_e.context)!=null&&lt.deliveryDirectives)this.warn(`Retrying playlist loading ${it+1}/${at.maxNumRetry} after "${tt}" without delivery-directives`),this.loadPlaylist();else{const ct=getRetryDelay(at,it);this.clearTimer(),this.timer=self.setTimeout(()=>this.loadPlaylist(),ct),this.warn(`Retrying playlist loading ${it+1}/${at.maxNumRetry} after "${tt}" in ${ct}ms`)}_e.levelRetry=!0,nt.resolved=!0}return ot}}function subtitleOptionsIdentical(et,_e){if(et.length!==_e.length)return!1;for(let tt=0;tt<et.length;tt++)if(!mediaAttributesIdentical(et[tt].attrs,_e[tt].attrs))return!1;return!0}function mediaAttributesIdentical(et,_e,tt){const rt=et["STABLE-RENDITION-ID"];return rt&&!tt?rt===_e["STABLE-RENDITION-ID"]:!(tt||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some(nt=>et[nt]!==_e[nt])}function subtitleTrackMatchesTextTrack(et,_e){return _e.label.toLowerCase()===et.name.toLowerCase()&&(!_e.language||_e.language.toLowerCase()===(et.lang||"").toLowerCase())}class AudioTrackController extends BasePlaylistController{constructor(_e){super(_e,"audio-track-controller"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:_e}=this;_e.on(Events.MANIFEST_LOADING,this.onManifestLoading,this),_e.on(Events.MANIFEST_PARSED,this.onManifestParsed,this),_e.on(Events.LEVEL_LOADING,this.onLevelLoading,this),_e.on(Events.LEVEL_SWITCHING,this.onLevelSwitching,this),_e.on(Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),_e.on(Events.ERROR,this.onError,this)}unregisterListeners(){const{hls:_e}=this;_e.off(Events.MANIFEST_LOADING,this.onManifestLoading,this),_e.off(Events.MANIFEST_PARSED,this.onManifestParsed,this),_e.off(Events.LEVEL_LOADING,this.onLevelLoading,this),_e.off(Events.LEVEL_SWITCHING,this.onLevelSwitching,this),_e.off(Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),_e.off(Events.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(_e,tt){this.tracks=tt.audioTracks||[]}onAudioTrackLoaded(_e,tt){const{id:rt,groupId:nt,details:st}=tt,it=this.tracksInGroup[rt];if(!it||it.groupId!==nt){this.warn(`Audio track with id:${rt} and group:${nt} not found in active group ${it==null?void 0:it.groupId}`);return}const at=it.details;it.details=tt.details,this.log(`Audio track ${rt} "${it.name}" lang:${it.lang} group:${nt} loaded [${st.startSN}-${st.endSN}]`),rt===this.trackId&&this.playlistLoaded(rt,tt,at)}onLevelLoading(_e,tt){this.switchLevel(tt.level)}onLevelSwitching(_e,tt){this.switchLevel(tt.level)}switchLevel(_e){const tt=this.hls.levels[_e];if(!tt)return;const rt=tt.audioGroups||null,nt=this.groupIds;let st=this.currentTrack;if(!rt||(nt==null?void 0:nt.length)!==(rt==null?void 0:rt.length)||rt!=null&&rt.some(at=>(nt==null?void 0:nt.indexOf(at))===-1)){this.groupIds=rt,this.trackId=-1,this.currentTrack=null;const at=this.tracks.filter(dt=>!rt||rt.indexOf(dt.groupId)!==-1);if(at.length)this.selectDefaultTrack&&!at.some(dt=>dt.default)&&(this.selectDefaultTrack=!1),at.forEach((dt,ft)=>{dt.id=ft});else if(!st&&!this.tracksInGroup.length)return;this.tracksInGroup=at;const ot=this.hls.config.audioPreference;if(!st&&ot){const dt=findMatchingOption(ot,at,audioMatchPredicate);if(dt>-1)st=at[dt];else{const ft=findMatchingOption(ot,this.tracks);st=this.tracks[ft]}}let lt=this.findTrackId(st);lt===-1&&st&&(lt=this.findTrackId(null));const ct={audioTracks:at};this.log(`Updating audio tracks, ${at.length} track(s) found in group(s): ${rt==null?void 0:rt.join(",")}`),this.hls.trigger(Events.AUDIO_TRACKS_UPDATED,ct);const ut=this.trackId;if(lt!==-1&&ut===-1)this.setAudioTrack(lt);else if(at.length&&ut===-1){var it;const dt=new Error(`No audio track selected for current audio group-ID(s): ${(it=this.groupIds)==null?void 0:it.join(",")} track count: ${at.length}`);this.warn(dt.message),this.hls.trigger(Events.ERROR,{type:ErrorTypes.MEDIA_ERROR,details:ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:dt})}}}onError(_e,tt){tt.fatal||!tt.context||tt.context.type===PlaylistContextType.AUDIO_TRACK&&tt.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(tt.context.groupId)!==-1)&&this.checkRetry(tt)}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(_e){this.selectDefaultTrack=!1,this.setAudioTrack(_e)}setAudioOption(_e){const tt=this.hls;if(tt.config.audioPreference=_e,_e){const rt=this.allAudioTracks;if(this.selectDefaultTrack=!1,rt.length){const nt=this.currentTrack;if(nt&&matchesOption(_e,nt,audioMatchPredicate))return nt;const st=findMatchingOption(_e,this.tracksInGroup,audioMatchPredicate);if(st>-1){const it=this.tracksInGroup[st];return this.setAudioTrack(st),it}else if(nt){let it=tt.loadLevel;it===-1&&(it=tt.firstAutoLevel);const at=findClosestLevelWithAudioGroup(_e,tt.levels,rt,it,audioMatchPredicate);if(at===-1)return null;tt.nextLoadLevel=at}if(_e.channels||_e.audioCodec){const it=findMatchingOption(_e,rt);if(it>-1)return rt[it]}}}return null}setAudioTrack(_e){const tt=this.tracksInGroup;if(_e<0||_e>=tt.length){this.warn(`Invalid audio track id: ${_e}`);return}this.selectDefaultTrack=!1;const rt=this.currentTrack,nt=tt[_e],st=nt.details&&!nt.details.live;if(_e===this.trackId&&nt===rt&&st||(this.log(`Switching to audio-track ${_e} "${nt.name}" lang:${nt.lang} group:${nt.groupId} channels:${nt.channels}`),this.trackId=_e,this.currentTrack=nt,this.hls.trigger(Events.AUDIO_TRACK_SWITCHING,_objectSpread2({},nt)),st))return;const it=this.switchParams(nt.url,rt==null?void 0:rt.details,nt.details);this.loadPlaylist(it)}findTrackId(_e){const tt=this.tracksInGroup;for(let rt=0;rt<tt.length;rt++){const nt=tt[rt];if(!(this.selectDefaultTrack&&!nt.default)&&(!_e||matchesOption(_e,nt,audioMatchPredicate)))return rt}if(_e){const{name:rt,lang:nt,assocLang:st,characteristics:it,audioCodec:at,channels:ot}=_e;for(let lt=0;lt<tt.length;lt++){const ct=tt[lt];if(matchesOption({name:rt,lang:nt,assocLang:st,characteristics:it,audioCodec:at,channels:ot},ct,audioMatchPredicate))return lt}for(let lt=0;lt<tt.length;lt++){const ct=tt[lt];if(mediaAttributesIdentical(_e.attrs,ct.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return lt}for(let lt=0;lt<tt.length;lt++){const ct=tt[lt];if(mediaAttributesIdentical(_e.attrs,ct.attrs,["LANGUAGE"]))return lt}}return-1}loadPlaylist(_e){super.loadPlaylist();const tt=this.currentTrack;this.shouldLoadPlaylist(tt)&&useAlternateAudio(tt.url,this.hls)&&this.scheduleLoading(tt,_e)}loadingPlaylist(_e,tt){super.loadingPlaylist(_e,tt);const rt=_e.id,nt=_e.groupId,st=this.getUrlWithDirectives(_e.url,tt),it=_e.details,at=it==null?void 0:it.age;this.log(`Loading audio-track ${rt} "${_e.name}" lang:${_e.lang} group:${nt}${(tt==null?void 0:tt.msn)!==void 0?" at sn "+tt.msn+" part "+tt.part:""}${at&&it.live?" age "+at.toFixed(1)+(it.type&&" "+it.type||""):""} ${st}`),this.hls.trigger(Events.AUDIO_TRACK_LOADING,{url:st,id:rt,groupId:nt,deliveryDirectives:tt||null,track:_e})}}class BufferOperationQueue{constructor(_e){this.tracks=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.tracks=_e}destroy(){this.tracks=this.queues=null}append(_e,tt,rt){if(this.queues===null||this.tracks===null)return;const nt=this.queues[tt];nt.push(_e),nt.length===1&&!rt&&this.executeNext(tt)}appendBlocker(_e){return new Promise(tt=>{const rt={label:"async-blocker",execute:tt,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.append(rt,_e)})}prependBlocker(_e){return new Promise(tt=>{if(this.queues){const rt={label:"async-blocker-prepend",execute:tt,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.queues[_e].unshift(rt)}})}removeBlockers(){this.queues!==null&&[this.queues.video,this.queues.audio,this.queues.audiovideo].forEach(_e=>{var tt;const rt=(tt=_e[0])==null?void 0:tt.label;(rt==="async-blocker"||rt==="async-blocker-prepend")&&(_e[0].execute(),_e.splice(0,1))})}unblockAudio(_e){if(this.queues===null)return;this.queues.audio[0]===_e&&this.shiftAndExecuteNext("audio")}executeNext(_e){if(this.queues===null||this.tracks===null)return;const tt=this.queues[_e];if(tt.length){const nt=tt[0];try{nt.execute()}catch(st){var rt;if(nt.onError(st),this.queues===null||this.tracks===null)return;const it=(rt=this.tracks[_e])==null?void 0:rt.buffer;it!=null&&it.updating||this.shiftAndExecuteNext(_e)}}}shiftAndExecuteNext(_e){this.queues!==null&&(this.queues[_e].shift(),this.executeNext(_e))}current(_e){var tt;return((tt=this.queues)==null?void 0:tt[_e][0])||null}toString(){const{queues:_e,tracks:tt}=this;return _e===null||tt===null?"<destroyed>":`
${this.list("video")}
${this.list("audio")}
${this.list("audiovideo")}}`}list(_e){var tt,rt;return(tt=this.queues)!=null&&tt[_e]||(rt=this.tracks)!=null&&rt[_e]?`${_e}: (${this.listSbInfo(_e)}) ${this.listOps(_e)}`:""}listSbInfo(_e){var tt;const rt=(tt=this.tracks)==null?void 0:tt[_e],nt=rt==null?void 0:rt.buffer;return nt?`SourceBuffer${nt.updating?" updating":""}${rt.ended?" ended":""}${rt.ending?" ending":""}`:"none"}listOps(_e){var tt;return((tt=this.queues)==null?void 0:tt[_e].map(rt=>rt.label).join(", "))||""}}const VIDEO_CODEC_PROFILE_REPLACE=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/,TRACK_REMOVED_ERROR_NAME="HlsJsTrackRemovedError";class HlsJsTrackRemovedError extends Error{constructor(_e){super(_e),this.name=TRACK_REMOVED_ERROR_NAME}}class BufferController extends Logger{constructor(_e,tt){super("buffer-controller",_e.logger),this.hls=void 0,this.fragmentTracker=void 0,this.details=null,this._objectUrl=null,this.operationQueue=null,this.bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.blockedAudioAppend=null,this.lastVideoAppendEnd=0,this.appendSource=void 0,this.transferData=void 0,this.overrides=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.sourceBuffers=[[null,null],[null,null]],this._onEndStreaming=rt=>{var nt;this.hls&&((nt=this.mediaSource)==null?void 0:nt.readyState)==="open"&&this.hls.pauseBuffering()},this._onStartStreaming=rt=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=rt=>{const{media:nt,mediaSource:st}=this;rt&&this.log("Media source opened"),!(!nt||!st)&&(st.removeEventListener("sourceopen",this._onMediaSourceOpen),nt.removeEventListener("emptied",this._onMediaEmptied),this.updateDuration(),this.hls.trigger(Events.MEDIA_ATTACHED,{media:nt,mediaSource:st}),this.mediaSource!==null&&this.checkPendingTracks())},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:rt,_objectUrl:nt}=this;rt!==nt&&this.error(`Media element src was set while attaching MediaSource (${nt} > ${rt})`)},this.hls=_e,this.fragmentTracker=tt,this.appendSource=isManagedMediaSource(getMediaSource(_e.config.preferManagedMediaSource)),this.initTracks(),this.registerListeners()}hasSourceTypes(){return Object.keys(this.tracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.transferData=this.overrides=void 0,this.operationQueue&&(this.operationQueue.destroy(),this.operationQueue=null),this.hls=this.fragmentTracker=null,this._onMediaSourceOpen=this._onMediaSourceClose=null,this._onMediaSourceEnded=null,this._onStartStreaming=this._onEndStreaming=null}registerListeners(){const{hls:_e}=this;_e.on(Events.MEDIA_ATTACHING,this.onMediaAttaching,this),_e.on(Events.MEDIA_DETACHING,this.onMediaDetaching,this),_e.on(Events.MANIFEST_LOADING,this.onManifestLoading,this),_e.on(Events.MANIFEST_PARSED,this.onManifestParsed,this),_e.on(Events.BUFFER_RESET,this.onBufferReset,this),_e.on(Events.BUFFER_APPENDING,this.onBufferAppending,this),_e.on(Events.BUFFER_CODECS,this.onBufferCodecs,this),_e.on(Events.BUFFER_EOS,this.onBufferEos,this),_e.on(Events.BUFFER_FLUSHING,this.onBufferFlushing,this),_e.on(Events.LEVEL_UPDATED,this.onLevelUpdated,this),_e.on(Events.FRAG_PARSED,this.onFragParsed,this),_e.on(Events.FRAG_CHANGED,this.onFragChanged,this),_e.on(Events.ERROR,this.onError,this)}unregisterListeners(){const{hls:_e}=this;_e.off(Events.MEDIA_ATTACHING,this.onMediaAttaching,this),_e.off(Events.MEDIA_DETACHING,this.onMediaDetaching,this),_e.off(Events.MANIFEST_LOADING,this.onManifestLoading,this),_e.off(Events.MANIFEST_PARSED,this.onManifestParsed,this),_e.off(Events.BUFFER_RESET,this.onBufferReset,this),_e.off(Events.BUFFER_APPENDING,this.onBufferAppending,this),_e.off(Events.BUFFER_CODECS,this.onBufferCodecs,this),_e.off(Events.BUFFER_EOS,this.onBufferEos,this),_e.off(Events.BUFFER_FLUSHING,this.onBufferFlushing,this),_e.off(Events.LEVEL_UPDATED,this.onLevelUpdated,this),_e.off(Events.FRAG_PARSED,this.onFragParsed,this),_e.off(Events.FRAG_CHANGED,this.onFragChanged,this),_e.off(Events.ERROR,this.onError,this)}transferMedia(){const{media:_e,mediaSource:tt}=this;if(!_e)return null;const rt={};if(this.operationQueue){const st=this.isUpdating();st||this.operationQueue.removeBlockers();const it=this.isQueued();(st||it)&&this.warn(`Transfering MediaSource with${it?" operations in queue":""}${st?" updating SourceBuffer(s)":""} ${this.operationQueue}`),this.operationQueue.destroy()}const nt=this.transferData;return!this.sourceBufferCount&&nt&&nt.mediaSource===tt?_extends$f(rt,nt.tracks):this.sourceBuffers.forEach(st=>{const[it]=st;it&&(rt[it]=_extends$f({},this.tracks[it]),this.removeBuffer(it)),st[0]=st[1]=null}),{media:_e,mediaSource:tt,tracks:rt}}initTracks(){const _e={};this.sourceBuffers=[[null,null],[null,null]],this.tracks=_e,this.resetQueue(),this.resetAppendErrors(),this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.lastVideoAppendEnd=0}onManifestLoading(){this.bufferCodecEventsTotal=0,this.details=null}onManifestParsed(_e,tt){var rt;let nt=2;(tt.audio&&!tt.video||!tt.altAudio)&&(nt=1),this.bufferCodecEventsTotal=nt,this.log(`${nt} bufferCodec event(s) expected.`),(rt=this.transferData)!=null&&rt.mediaSource&&this.sourceBufferCount&&nt&&this.bufferCreated()}onMediaAttaching(_e,tt){const rt=this.media=tt.media;this.transferData=this.overrides=void 0;const nt=getMediaSource(this.appendSource);if(nt){const st=!!tt.mediaSource;(st||tt.overrides)&&(this.transferData=tt,this.overrides=tt.overrides);const it=this.mediaSource=tt.mediaSource||new nt;if(this.assignMediaSource(it),st)this._objectUrl=rt.src,this.attachTransferred();else{const at=this._objectUrl=self.URL.createObjectURL(it);if(this.appendSource)try{rt.removeAttribute("src");const ot=self.ManagedMediaSource;rt.disableRemotePlayback=rt.disableRemotePlayback||ot&&it instanceof ot,removeSourceChildren(rt),addSource(rt,at),rt.load()}catch{rt.src=at}else rt.src=at}rt.addEventListener("emptied",this._onMediaEmptied)}}assignMediaSource(_e){var tt,rt;this.log(`${((tt=this.transferData)==null?void 0:tt.mediaSource)===_e?"transferred":"created"} media source: ${(rt=_e.constructor)==null?void 0:rt.name}`),_e.addEventListener("sourceopen",this._onMediaSourceOpen),_e.addEventListener("sourceended",this._onMediaSourceEnded),_e.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(_e.addEventListener("startstreaming",this._onStartStreaming),_e.addEventListener("endstreaming",this._onEndStreaming))}attachTransferred(){const _e=this.media,tt=this.transferData;if(!tt||!_e)return;const rt=this.tracks,nt=tt.tracks,st=nt?Object.keys(nt):null,it=st?st.length:0,at=()=>{Promise.resolve().then(()=>{this.media&&this.mediaSourceOpenOrEnded&&this._onMediaSourceOpen()})};if(nt&&st&&it){if(!this.tracksReady){this.hls.config.startFragPrefetch=!0,this.log("attachTransferred: waiting for SourceBuffer track info");return}if(this.log(`attachTransferred: (bufferCodecEventsTotal ${this.bufferCodecEventsTotal})
required tracks: ${stringify(rt,(ot,lt)=>ot==="initSegment"?void 0:lt)};
transfer tracks: ${stringify(nt,(ot,lt)=>ot==="initSegment"?void 0:lt)}}`),!isCompatibleTrackChange(nt,rt)){tt.mediaSource=null,tt.tracks=void 0;const ot=_e.currentTime,lt=this.details,ct=Math.max(ot,(lt==null?void 0:lt.fragments[0].start)||0);if(ct-ot>1){this.log(`attachTransferred: waiting for playback to reach new tracks start time ${ot} -> ${ct}`);return}this.warn(`attachTransferred: resetting MediaSource for incompatible tracks ("${Object.keys(nt)}"->"${Object.keys(rt)}") start time: ${ct} currentTime: ${ot}`),this.onMediaDetaching(Events.MEDIA_DETACHING,{}),this.onMediaAttaching(Events.MEDIA_ATTACHING,tt),_e.currentTime=ct;return}this.transferData=void 0,st.forEach(ot=>{const lt=ot,ct=nt[lt];if(ct){const ut=ct.buffer;if(ut){const dt=this.fragmentTracker,ft=ct.id;if(dt.hasFragments(ft)||dt.hasParts(ft)){const gt=BufferHelper.getBuffered(ut);dt.detectEvictedFragments(lt,gt,ft,null,!0)}const ht=sourceBufferNameToIndex(lt),pt=[lt,ut];this.sourceBuffers[ht]=pt,ut.updating&&this.operationQueue&&this.operationQueue.prependBlocker(lt),this.trackSourceBuffer(lt,ct)}}}),at(),this.bufferCreated()}else this.log("attachTransferred: MediaSource w/o SourceBuffers"),at()}get mediaSourceOpenOrEnded(){var _e;const tt=(_e=this.mediaSource)==null?void 0:_e.readyState;return tt==="open"||tt==="ended"}onMediaDetaching(_e,tt){const rt=!!tt.transferMedia;this.transferData=this.overrides=void 0;const{media:nt,mediaSource:st,_objectUrl:it}=this;if(st){if(this.log(`media source ${rt?"transferring":"detaching"}`),rt)this.sourceBuffers.forEach(([at])=>{at&&this.removeBuffer(at)}),this.resetQueue();else{if(this.mediaSourceOpenOrEnded){const at=st.readyState==="open";try{const ot=st.sourceBuffers;for(let lt=ot.length;lt--;)at&&ot[lt].abort(),st.removeSourceBuffer(ot[lt]);at&&st.endOfStream()}catch(ot){this.warn(`onMediaDetaching: ${ot.message} while calling endOfStream`)}}this.sourceBufferCount&&this.onBufferReset()}st.removeEventListener("sourceopen",this._onMediaSourceOpen),st.removeEventListener("sourceended",this._onMediaSourceEnded),st.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(st.removeEventListener("startstreaming",this._onStartStreaming),st.removeEventListener("endstreaming",this._onEndStreaming)),this.mediaSource=null,this._objectUrl=null}nt&&(nt.removeEventListener("emptied",this._onMediaEmptied),rt||(it&&self.URL.revokeObjectURL(it),this.mediaSrc===it?(nt.removeAttribute("src"),this.appendSource&&removeSourceChildren(nt),nt.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.media=null),this.hls.trigger(Events.MEDIA_DETACHED,tt)}onBufferReset(){this.sourceBuffers.forEach(([_e])=>{_e&&this.resetBuffer(_e)}),this.initTracks()}resetBuffer(_e){var tt;const rt=(tt=this.tracks[_e])==null?void 0:tt.buffer;if(this.removeBuffer(_e),rt)try{var nt;(nt=this.mediaSource)!=null&&nt.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(rt)}catch(st){this.warn(`onBufferReset ${_e}`,st)}delete this.tracks[_e]}removeBuffer(_e){this.removeBufferListeners(_e),this.sourceBuffers[sourceBufferNameToIndex(_e)]=[null,null];const tt=this.tracks[_e];tt&&(tt.buffer=void 0)}resetQueue(){this.operationQueue&&this.operationQueue.destroy(),this.operationQueue=new BufferOperationQueue(this.tracks)}onBufferCodecs(_e,tt){const rt=this.tracks,nt=Object.keys(tt);this.log(`BUFFER_CODECS: "${nt}" (current SB count ${this.sourceBufferCount})`);const st="audiovideo"in tt&&(rt.audio||rt.video)||rt.audiovideo&&("audio"in tt||"video"in tt),it=!st&&this.sourceBufferCount&&this.media&&nt.some(at=>!rt[at]);if(st||it){this.warn(`Unsupported transition between "${Object.keys(rt)}" and "${nt}" SourceBuffers`);return}nt.forEach(at=>{var ot,lt;const ct=tt[at],{id:ut,codec:dt,levelCodec:ft,container:ht,metadata:pt,supplemental:gt}=ct;let mt=rt[at];const bt=(ot=this.transferData)==null||(ot=ot.tracks)==null?void 0:ot[at],vt=bt!=null&&bt.buffer?bt:mt,yt=(vt==null?void 0:vt.pendingCodec)||(vt==null?void 0:vt.codec),xt=vt==null?void 0:vt.levelCodec;mt||(mt=rt[at]={buffer:void 0,listeners:[],codec:dt,supplemental:gt,container:ht,levelCodec:ft,metadata:pt,id:ut});const Et=pickMostCompleteCodecName(yt,xt),wt=Et==null?void 0:Et.replace(VIDEO_CODEC_PROFILE_REPLACE,"$1");let $t=pickMostCompleteCodecName(dt,ft);const Tt=(lt=$t)==null?void 0:lt.replace(VIDEO_CODEC_PROFILE_REPLACE,"$1");$t&&Et&&wt!==Tt&&(at.slice(0,5)==="audio"&&($t=getCodecCompatibleName($t,this.appendSource)),this.log(`switching codec ${yt} to ${$t}`),$t!==(mt.pendingCodec||mt.codec)&&(mt.pendingCodec=$t),mt.container=ht,this.appendChangeType(at,ht,$t))}),(this.tracksReady||this.sourceBufferCount)&&(tt.tracks=this.sourceBufferTracks),!this.sourceBufferCount&&this.mediaSourceOpenOrEnded&&this.checkPendingTracks()}get sourceBufferTracks(){return Object.keys(this.tracks).reduce((_e,tt)=>{const rt=this.tracks[tt];return _e[tt]={id:rt.id,container:rt.container,codec:rt.codec,levelCodec:rt.levelCodec},_e},{})}appendChangeType(_e,tt,rt){const nt=`${tt};codecs=${rt}`,st={label:`change-type=${nt}`,execute:()=>{const it=this.tracks[_e];if(it){const at=it.buffer;at!=null&&at.changeType&&(this.log(`changing ${_e} sourceBuffer type to ${nt}`),at.changeType(nt),it.codec=rt,it.container=tt)}this.shiftAndExecuteNext(_e)},onStart:()=>{},onComplete:()=>{},onError:it=>{this.warn(`Failed to change ${_e} SourceBuffer type`,it)}};this.append(st,_e,this.isPending(this.tracks[_e]))}blockAudio(_e){var tt;const rt=_e.start,nt=rt+_e.duration*.05;if(((tt=this.fragmentTracker.getAppendedFrag(rt,PlaylistLevelType.MAIN))==null?void 0:tt.gap)===!0)return;const it={label:"block-audio",execute:()=>{var at;const ot=this.tracks.video;(this.lastVideoAppendEnd>nt||ot!=null&&ot.buffer&&BufferHelper.isBuffered(ot.buffer,nt)||((at=this.fragmentTracker.getAppendedFrag(nt,PlaylistLevelType.MAIN))==null?void 0:at.gap)===!0)&&(this.blockedAudioAppend=null,this.shiftAndExecuteNext("audio"))},onStart:()=>{},onComplete:()=>{},onError:at=>{this.warn("Error executing block-audio operation",at)}};this.blockedAudioAppend={op:it,frag:_e},this.append(it,"audio",!0)}unblockAudio(){const{blockedAudioAppend:_e,operationQueue:tt}=this;_e&&tt&&(this.blockedAudioAppend=null,tt.unblockAudio(_e.op))}onBufferAppending(_e,tt){const{tracks:rt}=this,{data:nt,type:st,parent:it,frag:at,part:ot,chunkMeta:lt,offset:ct}=tt,ut=lt.buffering[st],{sn:dt,cc:ft}=at,ht=self.performance.now();ut.start=ht;const pt=at.stats.buffering,gt=ot?ot.stats.buffering:null;pt.start===0&&(pt.start=ht),gt&&gt.start===0&&(gt.start=ht);const mt=rt.audio;let bt=!1;st==="audio"&&(mt==null?void 0:mt.container)==="audio/mpeg"&&(bt=!this.lastMpegAudioChunk||lt.id===1||this.lastMpegAudioChunk.sn!==lt.sn,this.lastMpegAudioChunk=lt);const vt=rt.video,yt=vt==null?void 0:vt.buffer;if(yt&&dt!=="initSegment"){const wt=ot||at,$t=this.blockedAudioAppend;if(st==="audio"&&it!=="main"&&!this.blockedAudioAppend&&!(vt.ending||vt.ended)){const St=wt.start+wt.duration*.05,Pt=yt.buffered,At=this.currentOp("video");!Pt.length&&!At?this.blockAudio(wt):!At&&!BufferHelper.isBuffered(yt,St)&&this.lastVideoAppendEnd<St&&this.blockAudio(wt)}else if(st==="video"){const Tt=wt.end;if($t){const St=$t.frag.start;(Tt>St||Tt<this.lastVideoAppendEnd||BufferHelper.isBuffered(yt,St))&&this.unblockAudio()}this.lastVideoAppendEnd=Tt}}const xt=(ot||at).start,Et={label:`append-${st}`,execute:()=>{var wt;ut.executeStart=self.performance.now();const $t=(wt=this.tracks[st])==null?void 0:wt.buffer;$t&&(bt?this.updateTimestampOffset($t,xt,.1,st,dt,ft):ct!==void 0&&isFiniteNumber(ct)&&this.updateTimestampOffset($t,ct,1e-6,st,dt,ft)),this.appendExecutor(nt,st)},onStart:()=>{},onComplete:()=>{const wt=self.performance.now();ut.executeEnd=ut.end=wt,pt.first===0&&(pt.first=wt),gt&&gt.first===0&&(gt.first=wt);const $t={};this.sourceBuffers.forEach(([Tt,St])=>{Tt&&($t[Tt]=BufferHelper.getBuffered(St))}),this.appendErrors[st]=0,st==="audio"||st==="video"?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(Events.BUFFER_APPENDED,{type:st,frag:at,part:ot,chunkMeta:lt,parent:at.type,timeRanges:$t})},onError:wt=>{var $t;const Tt={type:ErrorTypes.MEDIA_ERROR,parent:at.type,details:ErrorDetails.BUFFER_APPEND_ERROR,sourceBufferName:st,frag:at,part:ot,chunkMeta:lt,error:wt,err:wt,fatal:!1},St=($t=this.media)==null?void 0:$t.error;if(wt.code===DOMException.QUOTA_EXCEEDED_ERR||wt.name=="QuotaExceededError"||"quota"in wt)Tt.details=ErrorDetails.BUFFER_FULL_ERROR;else if(wt.code===DOMException.INVALID_STATE_ERR&&this.mediaSourceOpenOrEnded&&!St)Tt.errorAction=createDoNothingErrorAction(!0);else if(wt.name===TRACK_REMOVED_ERROR_NAME&&this.sourceBufferCount===0)Tt.errorAction=createDoNothingErrorAction(!0);else{const Pt=++this.appendErrors[st];this.warn(`Failed ${Pt}/${this.hls.config.appendErrorMaxRetry} times to append segment in "${st}" sourceBuffer (${St||"no media error"})`),(Pt>=this.hls.config.appendErrorMaxRetry||St)&&(Tt.fatal=!0)}this.hls.trigger(Events.ERROR,Tt)}};this.append(Et,st,this.isPending(this.tracks[st]))}getFlushOp(_e,tt,rt){return this.log(`queuing "${_e}" remove ${tt}-${rt}`),{label:"remove",execute:()=>{this.removeExecutor(_e,tt,rt)},onStart:()=>{},onComplete:()=>{this.hls.trigger(Events.BUFFER_FLUSHED,{type:_e})},onError:nt=>{this.warn(`Failed to remove ${tt}-${rt} from "${_e}" SourceBuffer`,nt)}}}onBufferFlushing(_e,tt){const{type:rt,startOffset:nt,endOffset:st}=tt;rt?this.append(this.getFlushOp(rt,nt,st),rt):this.sourceBuffers.forEach(([it])=>{it&&this.append(this.getFlushOp(it,nt,st),it)})}onFragParsed(_e,tt){const{frag:rt,part:nt}=tt,st=[],it=nt?nt.elementaryStreams:rt.elementaryStreams;it[ElementaryStreamTypes.AUDIOVIDEO]?st.push("audiovideo"):(it[ElementaryStreamTypes.AUDIO]&&st.push("audio"),it[ElementaryStreamTypes.VIDEO]&&st.push("video"));const at=()=>{const ot=self.performance.now();rt.stats.buffering.end=ot,nt&&(nt.stats.buffering.end=ot);const lt=nt?nt.stats:rt.stats;this.hls.trigger(Events.FRAG_BUFFERED,{frag:rt,part:nt,stats:lt,id:rt.type})};st.length===0&&this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${rt.type} level: ${rt.level} sn: ${rt.sn}`),this.blockBuffers(at,st).catch(ot=>{this.warn(`Fragment buffered callback ${ot}`),this.stepOperationQueue(this.sourceBufferTypes)})}onFragChanged(_e,tt){this.trimBuffers()}get bufferedToEnd(){return this.sourceBufferCount>0&&!this.sourceBuffers.some(([_e])=>{if(_e){const tt=this.tracks[_e];if(tt)return!tt.ended||tt.ending}return!1})}onBufferEos(_e,tt){var rt;this.sourceBuffers.forEach(([it])=>{if(it){const at=this.tracks[it];(!tt.type||tt.type===it)&&(at.ending=!0,at.ended||(at.ended=!0,this.log(`${it} buffer reached EOS`)))}});const nt=((rt=this.overrides)==null?void 0:rt.endOfStream)!==!1;this.sourceBufferCount>0&&!this.sourceBuffers.some(([it])=>{var at;return it&&!((at=this.tracks[it])!=null&&at.ended)})?nt?(this.log("Queueing EOS"),this.blockUntilOpen(()=>{this.tracksEnded();const{mediaSource:it}=this;if(!it||it.readyState!=="open"){it&&this.log(`Could not call mediaSource.endOfStream(). mediaSource.readyState: ${it.readyState}`);return}this.log("Calling mediaSource.endOfStream()"),it.endOfStream(),this.hls.trigger(Events.BUFFERED_TO_END,void 0)})):(this.tracksEnded(),this.hls.trigger(Events.BUFFERED_TO_END,void 0)):tt.type==="video"&&this.unblockAudio()}tracksEnded(){this.sourceBuffers.forEach(([_e])=>{if(_e!==null){const tt=this.tracks[_e];tt&&(tt.ending=!1)}})}onLevelUpdated(_e,{details:tt}){tt.fragments.length&&(this.details=tt,this.updateDuration())}updateDuration(){this.blockUntilOpen(()=>{const _e=this.getDurationAndRange();_e&&this.updateMediaSource(_e)})}onError(_e,tt){if(tt.details===ErrorDetails.BUFFER_APPEND_ERROR&&tt.frag){var rt;const nt=(rt=tt.errorAction)==null?void 0:rt.nextAutoLevel;isFiniteNumber(nt)&&nt!==tt.frag.level&&this.resetAppendErrors()}}resetAppendErrors(){this.appendErrors={audio:0,video:0,audiovideo:0}}trimBuffers(){const{hls:_e,details:tt,media:rt}=this;if(!rt||tt===null||!this.sourceBufferCount)return;const nt=_e.config,st=rt.currentTime,it=tt.levelTargetDuration,at=tt.live&&nt.liveBackBufferLength!==null?nt.liveBackBufferLength:nt.backBufferLength;if(isFiniteNumber(at)&&at>=0){const lt=Math.max(at,it),ct=Math.floor(st/it)*it-lt;this.flushBackBuffer(st,it,ct)}const ot=nt.frontBufferFlushThreshold;if(isFiniteNumber(ot)&&ot>0){const lt=Math.max(nt.maxBufferLength,ot),ct=Math.max(lt,it),ut=Math.floor(st/it)*it+ct;this.flushFrontBuffer(st,it,ut)}}flushBackBuffer(_e,tt,rt){this.sourceBuffers.forEach(([nt,st])=>{if(st){const at=BufferHelper.getBuffered(st);if(at.length>0&&rt>at.start(0)){var it;this.hls.trigger(Events.BACK_BUFFER_REACHED,{bufferEnd:rt});const ot=this.tracks[nt];if((it=this.details)!=null&&it.live)this.hls.trigger(Events.LIVE_BACK_BUFFER_REACHED,{bufferEnd:rt});else if(ot!=null&&ot.ended){this.log(`Cannot flush ${nt} back buffer while SourceBuffer is in ended state`);return}this.hls.trigger(Events.BUFFER_FLUSHING,{startOffset:0,endOffset:rt,type:nt})}}})}flushFrontBuffer(_e,tt,rt){this.sourceBuffers.forEach(([nt,st])=>{if(st){const it=BufferHelper.getBuffered(st),at=it.length;if(at<2)return;const ot=it.start(at-1),lt=it.end(at-1);if(rt>ot||_e>=ot&&_e<=lt)return;this.hls.trigger(Events.BUFFER_FLUSHING,{startOffset:ot,endOffset:1/0,type:nt})}})}getDurationAndRange(){var _e;const{details:tt,mediaSource:rt}=this;if(!tt||!this.media||(rt==null?void 0:rt.readyState)!=="open")return null;const nt=tt.edge;if(tt.live&&this.hls.config.liveDurationInfinity){if(tt.fragments.length&&rt.setLiveSeekableRange){const lt=Math.max(0,tt.fragmentStart),ct=Math.max(lt,nt);return{duration:1/0,start:lt,end:ct}}return{duration:1/0}}const st=(_e=this.overrides)==null?void 0:_e.duration;if(st)return isFiniteNumber(st)?{duration:st}:null;const it=this.media.duration,at=isFiniteNumber(rt.duration)?rt.duration:0;return nt>at&&nt>it||!isFiniteNumber(it)?{duration:nt}:null}updateMediaSource({duration:_e,start:tt,end:rt}){const nt=this.mediaSource;!this.media||!nt||nt.readyState!=="open"||(nt.duration!==_e&&(isFiniteNumber(_e)&&this.log(`Updating MediaSource duration to ${_e.toFixed(3)}`),nt.duration=_e),tt!==void 0&&rt!==void 0&&(this.log(`MediaSource duration is set to ${nt.duration}. Setting seekable range to ${tt}-${rt}.`),nt.setLiveSeekableRange(tt,rt)))}get tracksReady(){const _e=this.pendingTrackCount;return _e>0&&(_e>=this.bufferCodecEventsTotal||this.isPending(this.tracks.audiovideo))}checkPendingTracks(){const{bufferCodecEventsTotal:_e,pendingTrackCount:tt,tracks:rt}=this;if(this.log(`checkPendingTracks (pending: ${tt} codec events expected: ${_e}) ${stringify(rt)}`),this.tracksReady){var nt;const st=(nt=this.transferData)==null?void 0:nt.tracks;st&&Object.keys(st).length?this.attachTransferred():this.createSourceBuffers()}}bufferCreated(){if(this.sourceBufferCount){const _e={};this.sourceBuffers.forEach(([tt,rt])=>{if(tt){const nt=this.tracks[tt];_e[tt]={buffer:rt,container:nt.container,codec:nt.codec,supplemental:nt.supplemental,levelCodec:nt.levelCodec,id:nt.id,metadata:nt.metadata}}}),this.hls.trigger(Events.BUFFER_CREATED,{tracks:_e}),this.log(`SourceBuffers created. Running queue: ${this.operationQueue}`),this.sourceBuffers.forEach(([tt])=>{this.executeNext(tt)})}else{const _e=new Error("could not create source buffer for media codec(s)");this.hls.trigger(Events.ERROR,{type:ErrorTypes.MEDIA_ERROR,details:ErrorDetails.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:_e,reason:_e.message})}}createSourceBuffers(){const{tracks:_e,sourceBuffers:tt,mediaSource:rt}=this;if(!rt)throw new Error("createSourceBuffers called when mediaSource was null");for(const st in _e){const it=st,at=_e[it];if(this.isPending(at)){const ot=this.getTrackCodec(at,it),lt=`${at.container};codecs=${ot}`;at.codec=ot,this.log(`creating sourceBuffer(${lt})${this.currentOp(it)?" Queued":""} ${stringify(at)}`);try{const ct=rt.addSourceBuffer(lt),ut=sourceBufferNameToIndex(it),dt=[it,ct];tt[ut]=dt,at.buffer=ct}catch(ct){var nt;this.error(`error while trying to add sourceBuffer: ${ct.message}`),this.shiftAndExecuteNext(it),(nt=this.operationQueue)==null||nt.removeBlockers(),delete this.tracks[it],this.hls.trigger(Events.ERROR,{type:ErrorTypes.MEDIA_ERROR,details:ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:ct,sourceBufferName:it,mimeType:lt,parent:at.id});return}this.trackSourceBuffer(it,at)}}this.bufferCreated()}getTrackCodec(_e,tt){const rt=_e.supplemental;let nt=_e.codec;rt&&(tt==="video"||tt==="audiovideo")&&areCodecsMediaSourceSupported(rt,"video")&&(nt=replaceVideoCodec(nt,rt));const st=pickMostCompleteCodecName(nt,_e.levelCodec);return st?tt.slice(0,5)==="audio"?getCodecCompatibleName(st,this.appendSource):st:""}trackSourceBuffer(_e,tt){const rt=tt.buffer;if(!rt)return;const nt=this.getTrackCodec(tt,_e);this.tracks[_e]={buffer:rt,codec:nt,container:tt.container,levelCodec:tt.levelCodec,supplemental:tt.supplemental,metadata:tt.metadata,id:tt.id,listeners:[]},this.removeBufferListeners(_e),this.addBufferListener(_e,"updatestart",this.onSBUpdateStart),this.addBufferListener(_e,"updateend",this.onSBUpdateEnd),this.addBufferListener(_e,"error",this.onSBUpdateError),this.appendSource&&this.addBufferListener(_e,"bufferedchange",(st,it)=>{const at=it.removedRanges;at!=null&&at.length&&this.hls.trigger(Events.BUFFER_FLUSHED,{type:st})})}get mediaSrc(){var _e,tt;const rt=((_e=this.media)==null||(tt=_e.querySelector)==null?void 0:tt.call(_e,"source"))||this.media;return rt==null?void 0:rt.src}onSBUpdateStart(_e){const tt=this.currentOp(_e);tt&&tt.onStart()}onSBUpdateEnd(_e){var tt;if(((tt=this.mediaSource)==null?void 0:tt.readyState)==="closed"){this.resetBuffer(_e);return}const rt=this.currentOp(_e);rt&&(rt.onComplete(),this.shiftAndExecuteNext(_e))}onSBUpdateError(_e,tt){var rt;const nt=new Error(`${_e} SourceBuffer error. MediaSource readyState: ${(rt=this.mediaSource)==null?void 0:rt.readyState}`);this.error(`${nt}`,tt),this.hls.trigger(Events.ERROR,{type:ErrorTypes.MEDIA_ERROR,details:ErrorDetails.BUFFER_APPENDING_ERROR,sourceBufferName:_e,error:nt,fatal:!1});const st=this.currentOp(_e);st&&st.onError(nt)}updateTimestampOffset(_e,tt,rt,nt,st,it){const at=tt-_e.timestampOffset;Math.abs(at)>=rt&&(this.log(`Updating ${nt} SourceBuffer timestampOffset to ${tt} (sn: ${st} cc: ${it})`),_e.timestampOffset=tt)}removeExecutor(_e,tt,rt){const{media:nt,mediaSource:st}=this,it=this.tracks[_e],at=it==null?void 0:it.buffer;if(!nt||!st||!at){this.warn(`Attempting to remove from the ${_e} SourceBuffer, but it does not exist`),this.shiftAndExecuteNext(_e);return}const ot=isFiniteNumber(nt.duration)?nt.duration:1/0,lt=isFiniteNumber(st.duration)?st.duration:1/0,ct=Math.max(0,tt),ut=Math.min(rt,ot,lt);ut>ct&&(!it.ending||it.ended)?(it.ended=!1,this.log(`Removing [${ct},${ut}] from the ${_e} SourceBuffer`),at.remove(ct,ut)):this.shiftAndExecuteNext(_e)}appendExecutor(_e,tt){const rt=this.tracks[tt],nt=rt==null?void 0:rt.buffer;if(!nt)throw new HlsJsTrackRemovedError(`Attempting to append to the ${tt} SourceBuffer, but it does not exist`);rt.ending=!1,rt.ended=!1,nt.appendBuffer(_e)}blockUntilOpen(_e){if(this.isUpdating()||this.isQueued())this.blockBuffers(_e).catch(tt=>{this.warn(`SourceBuffer blocked callback ${tt}`),this.stepOperationQueue(this.sourceBufferTypes)});else try{_e()}catch(tt){this.warn(`Callback run without blocking ${this.operationQueue} ${tt}`)}}isUpdating(){return this.sourceBuffers.some(([_e,tt])=>_e&&tt.updating)}isQueued(){return this.sourceBuffers.some(([_e])=>_e&&!!this.currentOp(_e))}isPending(_e){return!!_e&&!_e.buffer}blockBuffers(_e,tt=this.sourceBufferTypes){if(!tt.length)return this.log("Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(_e);const{operationQueue:rt}=this,nt=tt.map(it=>this.appendBlocker(it));return tt.length>1&&!!this.blockedAudioAppend&&this.unblockAudio(),Promise.all(nt).then(it=>{rt===this.operationQueue&&(_e(),this.stepOperationQueue(this.sourceBufferTypes))})}stepOperationQueue(_e){_e.forEach(tt=>{var rt;const nt=(rt=this.tracks[tt])==null?void 0:rt.buffer;!nt||nt.updating||this.shiftAndExecuteNext(tt)})}append(_e,tt,rt){this.operationQueue&&this.operationQueue.append(_e,tt,rt)}appendBlocker(_e){if(this.operationQueue)return this.operationQueue.appendBlocker(_e)}currentOp(_e){return this.operationQueue?this.operationQueue.current(_e):null}executeNext(_e){_e&&this.operationQueue&&this.operationQueue.executeNext(_e)}shiftAndExecuteNext(_e){this.operationQueue&&this.operationQueue.shiftAndExecuteNext(_e)}get pendingTrackCount(){return Object.keys(this.tracks).reduce((_e,tt)=>_e+(this.isPending(this.tracks[tt])?1:0),0)}get sourceBufferCount(){return this.sourceBuffers.reduce((_e,[tt])=>_e+(tt?1:0),0)}get sourceBufferTypes(){return this.sourceBuffers.map(([_e])=>_e).filter(_e=>!!_e)}addBufferListener(_e,tt,rt){const nt=this.tracks[_e];if(!nt)return;const st=nt.buffer;if(!st)return;const it=rt.bind(this,_e);nt.listeners.push({event:tt,listener:it}),st.addEventListener(tt,it)}removeBufferListeners(_e){const tt=this.tracks[_e];if(!tt)return;const rt=tt.buffer;rt&&(tt.listeners.forEach(nt=>{rt.removeEventListener(nt.event,nt.listener)}),tt.listeners.length=0)}}function removeSourceChildren(et){const _e=et.querySelectorAll("source");[].slice.call(_e).forEach(tt=>{et.removeChild(tt)})}function addSource(et,_e){const tt=self.document.createElement("source");tt.type="video/mp4",tt.src=_e,et.appendChild(tt)}function sourceBufferNameToIndex(et){return et==="audio"?1:0}class CapLevelController{constructor(_e){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=_e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(_e){this.streamController=_e}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:_e}=this;_e.on(Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),_e.on(Events.MEDIA_ATTACHING,this.onMediaAttaching,this),_e.on(Events.MANIFEST_PARSED,this.onManifestParsed,this),_e.on(Events.LEVELS_UPDATED,this.onLevelsUpdated,this),_e.on(Events.BUFFER_CODECS,this.onBufferCodecs,this),_e.on(Events.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:_e}=this;_e.off(Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),_e.off(Events.MEDIA_ATTACHING,this.onMediaAttaching,this),_e.off(Events.MANIFEST_PARSED,this.onManifestParsed,this),_e.off(Events.LEVELS_UPDATED,this.onLevelsUpdated,this),_e.off(Events.BUFFER_CODECS,this.onBufferCodecs,this),_e.off(Events.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(_e,tt){const rt=this.hls.levels[tt.droppedLevel];this.isLevelAllowed(rt)&&this.restrictedLevels.push({bitrate:rt.bitrate,height:rt.height,width:rt.width})}onMediaAttaching(_e,tt){this.media=tt.media instanceof HTMLVideoElement?tt.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(_e,tt){const rt=this.hls;this.restrictedLevels=[],this.firstLevel=tt.firstLevel,rt.config.capLevelToPlayerSize&&tt.video&&this.startCapping()}onLevelsUpdated(_e,tt){this.timer&&isFiniteNumber(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(_e,tt){this.hls.config.capLevelToPlayerSize&&tt.video&&this.startCapping()}onMediaDetaching(){this.stopCapping(),this.media=null}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0){this.clientRect=null;return}const _e=this.hls.levels;if(_e.length){const tt=this.hls,rt=this.getMaxLevel(_e.length-1);rt!==this.autoLevelCapping&&tt.logger.log(`Setting autoLevelCapping to ${rt}: ${_e[rt].height}p@${_e[rt].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),tt.autoLevelCapping=rt,tt.autoLevelEnabled&&tt.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=tt.autoLevelCapping}}}getMaxLevel(_e){const tt=this.hls.levels;if(!tt.length)return-1;const rt=tt.filter((nt,st)=>this.isLevelAllowed(nt)&&st<=_e);return this.clientRect=null,CapLevelController.getMaxLevelByMediaSize(rt,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const _e=this.media,tt={width:0,height:0};if(_e){const rt=_e.getBoundingClientRect();tt.width=rt.width,tt.height=rt.height,!tt.width&&!tt.height&&(tt.width=rt.right-rt.left||_e.width||0,tt.height=rt.bottom-rt.top||_e.height||0)}return this.clientRect=tt,tt}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let _e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{_e=self.devicePixelRatio}catch{}return Math.min(_e,this.hls.config.maxDevicePixelRatio)}isLevelAllowed(_e){return!this.restrictedLevels.some(rt=>_e.bitrate===rt.bitrate&&_e.width===rt.width&&_e.height===rt.height)}static getMaxLevelByMediaSize(_e,tt,rt){if(!(_e!=null&&_e.length))return-1;const nt=(at,ot)=>ot?at.width!==ot.width||at.height!==ot.height:!0;let st=_e.length-1;const it=Math.max(tt,rt);for(let at=0;at<_e.length;at+=1){const ot=_e[at];if((ot.width>=it||ot.height>=it)&&nt(ot,_e[at+1])){st=at;break}}return st}}const CmObjectType={MANIFEST:"m",AUDIO:"a",VIDEO:"v",MUXED:"av",INIT:"i",CAPTION:"c",TIMED_TEXT:"tt",KEY:"k",OTHER:"o"},CmcdObjectType=CmObjectType,CmStreamingFormat={HLS:"h"},CmcdStreamingFormat=CmStreamingFormat;class SfItem{constructor(_e,tt){Array.isArray(_e)&&(_e=_e.map(rt=>rt instanceof SfItem?rt:new SfItem(rt))),this.value=_e,this.params=tt}}const DICT="Dict";function format(et){return Array.isArray(et)?JSON.stringify(et):et instanceof Map?"Map{}":et instanceof Set?"Set{}":typeof et=="object"?JSON.stringify(et):String(et)}function throwError(et,_e,tt,rt){return new Error(`failed to ${et} "${format(_e)}" as ${tt}`,{cause:rt})}function serializeError(et,_e,tt){return throwError("serialize",et,_e,tt)}class SfToken{constructor(_e){this.description=_e}}const BARE_ITEM="Bare Item",BOOLEAN="Boolean";function serializeBoolean(et){if(typeof et!="boolean")throw serializeError(et,BOOLEAN);return et?"?1":"?0"}function encodeBase64(et){return btoa(String.fromCharCode(...et))}const BYTES="Byte Sequence";function serializeByteSequence(et){if(ArrayBuffer.isView(et)===!1)throw serializeError(et,BYTES);return`:${encodeBase64(et)}:`}const INTEGER="Integer";function isInvalidInt(et){return et<-999999999999999||999999999999999<et}function serializeInteger(et){if(isInvalidInt(et))throw serializeError(et,INTEGER);return et.toString()}function serializeDate(et){return`@${serializeInteger(et.getTime()/1e3)}`}function roundToEven(et,_e){if(et<0)return-roundToEven(-et,_e);const tt=Math.pow(10,_e);if(Math.abs(et*tt%1-.5)<Number.EPSILON){const nt=Math.floor(et*tt);return(nt%2===0?nt:nt+1)/tt}else return Math.round(et*tt)/tt}const DECIMAL="Decimal";function serializeDecimal(et){const _e=roundToEven(et,3);if(Math.floor(Math.abs(_e)).toString().length>12)throw serializeError(et,DECIMAL);const tt=_e.toString();return tt.includes(".")?tt:`${tt}.0`}const STRING="String",STRING_REGEX=/[\x00-\x1f\x7f]+/;function serializeString(et){if(STRING_REGEX.test(et))throw serializeError(et,STRING);return`"${et.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}function symbolToStr(et){return et.description||et.toString().slice(7,-1)}const TOKEN="Token";function serializeToken(et){const _e=symbolToStr(et);if(/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(_e)===!1)throw serializeError(_e,TOKEN);return _e}function serializeBareItem(et){switch(typeof et){case"number":if(!isFiniteNumber(et))throw serializeError(et,BARE_ITEM);return Number.isInteger(et)?serializeInteger(et):serializeDecimal(et);case"string":return serializeString(et);case"symbol":return serializeToken(et);case"boolean":return serializeBoolean(et);case"object":if(et instanceof Date)return serializeDate(et);if(et instanceof Uint8Array)return serializeByteSequence(et);if(et instanceof SfToken)return serializeToken(et);default:throw serializeError(et,BARE_ITEM)}}const KEY="Key";function serializeKey(et){if(/^[a-z*][a-z0-9\-_.*]*$/.test(et)===!1)throw serializeError(et,KEY);return et}function serializeParams(et){return et==null?"":Object.entries(et).map(([_e,tt])=>tt===!0?`;${serializeKey(_e)}`:`;${serializeKey(_e)}=${serializeBareItem(tt)}`).join("")}function serializeItem(et){return et instanceof SfItem?`${serializeBareItem(et.value)}${serializeParams(et.params)}`:serializeBareItem(et)}function serializeInnerList(et){return`(${et.value.map(serializeItem).join(" ")})${serializeParams(et.params)}`}function serializeDict(et,_e={whitespace:!0}){if(typeof et!="object"||et==null)throw serializeError(et,DICT);const tt=et instanceof Map?et.entries():Object.entries(et),rt=_e!=null&&_e.whitespace?" ":"";return Array.from(tt).map(([nt,st])=>{st instanceof SfItem||(st=new SfItem(st));let it=serializeKey(nt);return st.value===!0?it+=serializeParams(st.params):(it+="=",Array.isArray(st.value)?it+=serializeInnerList(st):it+=serializeItem(st)),it}).join(`,${rt}`)}function encodeSfDict(et,_e){return serializeDict(et,_e)}const CMCD_OBJECT="CMCD-Object",CMCD_REQUEST="CMCD-Request",CMCD_SESSION="CMCD-Session",CMCD_STATUS="CMCD-Status",CMCD_HEADER_MAP={br:CMCD_OBJECT,ab:CMCD_OBJECT,d:CMCD_OBJECT,ot:CMCD_OBJECT,tb:CMCD_OBJECT,tpb:CMCD_OBJECT,lb:CMCD_OBJECT,tab:CMCD_OBJECT,lab:CMCD_OBJECT,url:CMCD_OBJECT,pb:CMCD_REQUEST,bl:CMCD_REQUEST,tbl:CMCD_REQUEST,dl:CMCD_REQUEST,ltc:CMCD_REQUEST,mtp:CMCD_REQUEST,nor:CMCD_REQUEST,nrr:CMCD_REQUEST,rc:CMCD_REQUEST,sn:CMCD_REQUEST,sta:CMCD_REQUEST,su:CMCD_REQUEST,ttfb:CMCD_REQUEST,ttfbb:CMCD_REQUEST,ttlb:CMCD_REQUEST,cmsdd:CMCD_REQUEST,cmsds:CMCD_REQUEST,smrt:CMCD_REQUEST,df:CMCD_REQUEST,cs:CMCD_REQUEST,ts:CMCD_REQUEST,cid:CMCD_SESSION,pr:CMCD_SESSION,sf:CMCD_SESSION,sid:CMCD_SESSION,st:CMCD_SESSION,v:CMCD_SESSION,msd:CMCD_SESSION,bs:CMCD_STATUS,bsd:CMCD_STATUS,cdn:CMCD_STATUS,rtp:CMCD_STATUS,bg:CMCD_STATUS,pt:CMCD_STATUS,ec:CMCD_STATUS,e:CMCD_STATUS},CmcdHeaderField={REQUEST:CMCD_REQUEST};function createHeaderMap(et){return Object.keys(et).reduce((_e,tt)=>{var rt;return(rt=et[tt])===null||rt===void 0||rt.forEach(nt=>_e[nt]=tt),_e},{})}function groupCmcdHeaders(et,_e){const tt={};if(!et)return tt;const rt=Object.keys(et),nt=_e?createHeaderMap(_e):{};return rt.reduce((st,it)=>{var at;const ot=CMCD_HEADER_MAP[it]||nt[it]||CmcdHeaderField.REQUEST,lt=(at=st[ot])!==null&&at!==void 0?at:st[ot]={};return lt[it]=et[it],st},tt)}function isTokenField(et){return["ot","sf","st","e","sta"].includes(et)}function isValid(et){return typeof et=="number"?isFiniteNumber(et):et!=null&&et!==""&&et!==!1}const CMCD_EVENT_MODE="event";function urlToRelativePath(et,_e){const tt=new URL(et),rt=new URL(_e);if(tt.origin!==rt.origin)return et;const nt=tt.pathname.split("/").slice(1),st=rt.pathname.split("/").slice(1,-1);for(;nt[0]===st[0];)nt.shift(),st.shift();for(;st.length;)st.shift(),nt.unshift("..");return nt.join("/")+tt.search+tt.hash}const toRounded=et=>Math.round(et),toUrlSafe=(et,_e)=>Array.isArray(et)?et.map(tt=>toUrlSafe(tt,_e)):et instanceof SfItem&&typeof et.value=="string"?new SfItem(toUrlSafe(et.value,_e),et.params):(_e.baseUrl&&(et=urlToRelativePath(et,_e.baseUrl)),_e.version===1?encodeURIComponent(et):et),toHundred=et=>toRounded(et/100)*100,nor=(et,_e)=>{let tt=et;return _e.version>=2&&(et instanceof SfItem&&typeof et.value=="string"?tt=new SfItem([et]):typeof et=="string"&&(tt=[et])),toUrlSafe(tt,_e)},CMCD_FORMATTER_MAP={br:toRounded,d:toRounded,bl:toHundred,dl:toHundred,mtp:toHundred,nor,rtp:toHundred,tb:toRounded},CMCD_REQUEST_MODE="request",CMCD_RESPONSE_MODE="response",CMCD_COMMON_KEYS=["ab","bg","bl","br","bs","bsd","cdn","cid","cs","df","ec","lab","lb","ltc","msd","mtp","pb","pr","pt","sf","sid","sn","st","sta","tab","tb","tbl","tpb","ts","v"],CMCD_EVENT_KEYS=["e"],CUSTOM_KEY_REGEX=/^[a-zA-Z0-9-.]+-[a-zA-Z0-9-.]+$/;function isCmcdCustomKey(et){return CUSTOM_KEY_REGEX.test(et)}function isCmcdEventKey(et){return CMCD_COMMON_KEYS.includes(et)||CMCD_EVENT_KEYS.includes(et)||isCmcdCustomKey(et)}const CMCD_REQUEST_KEYS=["d","dl","nor","ot","rtp","su"];function isCmcdRequestKey(et){return CMCD_COMMON_KEYS.includes(et)||CMCD_REQUEST_KEYS.includes(et)||isCmcdCustomKey(et)}const CMCD_RESPONSE_KEYS=["cmsdd","cmsds","rc","smrt","ttfb","ttfbb","ttlb","url"];function isCmcdResponseKey(et){return CMCD_COMMON_KEYS.includes(et)||CMCD_REQUEST_KEYS.includes(et)||CMCD_RESPONSE_KEYS.includes(et)||isCmcdCustomKey(et)}const CMCD_V1_KEYS=["bl","br","bs","cid","d","dl","mtp","nor","nrr","ot","pr","rtp","sf","sid","st","su","tb","v"];function isCmcdV1Key(et){return CMCD_V1_KEYS.includes(et)||isCmcdCustomKey(et)}const filterMap={[CMCD_RESPONSE_MODE]:isCmcdResponseKey,[CMCD_EVENT_MODE]:isCmcdEventKey,[CMCD_REQUEST_MODE]:isCmcdRequestKey};function prepareCmcdData(et,_e={}){const tt={};if(et==null||typeof et!="object")return tt;const rt=_e.version||et.v||1,nt=_e.reportingMode||CMCD_REQUEST_MODE,st=rt===1?isCmcdV1Key:filterMap[nt];let it=Object.keys(et).filter(st);const at=_e.filter;typeof at=="function"&&(it=it.filter(at));const ot=nt===CMCD_RESPONSE_MODE||nt===CMCD_EVENT_MODE;ot&&!it.includes("ts")&&it.push("ts"),rt>1&&!it.includes("v")&&it.push("v");const lt=_extends$f({},CMCD_FORMATTER_MAP,_e.formatters),ct={version:rt,reportingMode:nt,baseUrl:_e.baseUrl};return it.sort().forEach(ut=>{let dt=et[ut];const ft=lt[ut];if(typeof ft=="function"&&(dt=ft(dt,ct)),ut==="v"){if(rt===1)return;dt=rt}ut=="pr"&&dt===1||(ot&&ut==="ts"&&!isFiniteNumber(dt)&&(dt=Date.now()),isValid(dt)&&(isTokenField(ut)&&typeof dt=="string"&&(dt=new SfToken(dt)),tt[ut]=dt))}),tt}function toCmcdHeaders(et,_e={}){const tt={};if(!et)return tt;const rt=prepareCmcdData(et,_e),nt=groupCmcdHeaders(rt,_e==null?void 0:_e.customHeaderMap);return Object.entries(nt).reduce((st,[it,at])=>{const ot=encodeSfDict(at,{whitespace:!1});return ot&&(st[it]=ot),st},tt)}function appendCmcdHeaders(et,_e,tt){return _extends$f(et,toCmcdHeaders(_e,tt))}const CMCD_PARAM="CMCD";function encodeCmcd(et,_e={}){return et?encodeSfDict(prepareCmcdData(et,_e),{whitespace:!1}):""}function toCmcdUrl(et,_e={}){if(!et)return"";const tt=encodeCmcd(et,_e);return encodeURIComponent(tt)}function toCmcdQuery(et,_e={}){if(!et)return"";const tt=toCmcdUrl(et,_e);return`${CMCD_PARAM}=${tt}`}const REGEX=/CMCD=[^&#]+/;function appendCmcdQuery(et,_e,tt){const rt=toCmcdQuery(_e,tt);if(!rt)return et;if(REGEX.test(et))return et.replace(REGEX,rt);const nt=et.includes("?")?"&":"?";return`${et}${nt}${rt}`}class CMCDController{constructor(_e){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=nt=>{try{this.apply(nt,{ot:CmcdObjectType.MANIFEST,su:!this.initialized})}catch(st){this.hls.logger.warn("Could not generate manifest CMCD data.",st)}},this.applyFragmentData=nt=>{try{const{frag:st,part:it}=nt,at=this.hls.levels[st.level],ot=this.getObjectType(st),lt={d:(it||st).duration*1e3,ot};(ot===CmcdObjectType.VIDEO||ot===CmcdObjectType.AUDIO||ot==CmcdObjectType.MUXED)&&(lt.br=at.bitrate/1e3,lt.tb=this.getTopBandwidth(ot)/1e3,lt.bl=this.getBufferLength(ot));const ct=it?this.getNextPart(it):this.getNextFrag(st);ct!=null&&ct.url&&ct.url!==st.url&&(lt.nor=ct.url),this.apply(nt,lt)}catch(st){this.hls.logger.warn("Could not generate segment CMCD data.",st)}},this.hls=_e;const tt=this.config=_e.config,{cmcd:rt}=tt;rt!=null&&(tt.pLoader=this.createPlaylistLoader(),tt.fLoader=this.createFragmentLoader(),this.sid=rt.sessionId||_e.sessionId,this.cid=rt.contentId,this.useHeaders=rt.useHeaders===!0,this.includeKeys=rt.includeKeys,this.registerListeners())}registerListeners(){const _e=this.hls;_e.on(Events.MEDIA_ATTACHED,this.onMediaAttached,this),_e.on(Events.MEDIA_DETACHED,this.onMediaDetached,this),_e.on(Events.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const _e=this.hls;_e.off(Events.MEDIA_ATTACHED,this.onMediaAttached,this),_e.off(Events.MEDIA_DETACHED,this.onMediaDetached,this),_e.off(Events.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=this.media=null}onMediaAttached(_e,tt){this.media=tt.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(_e,tt){var rt,nt;this.audioBuffer=(rt=tt.tracks.audio)==null?void 0:rt.buffer,this.videoBuffer=(nt=tt.tracks.video)==null?void 0:nt.buffer}createData(){var _e;return{v:1,sf:CmcdStreamingFormat.HLS,sid:this.sid,cid:this.cid,pr:(_e=this.media)==null?void 0:_e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(_e,tt={}){_extends$f(tt,this.createData());const rt=tt.ot===CmcdObjectType.INIT||tt.ot===CmcdObjectType.VIDEO||tt.ot===CmcdObjectType.MUXED;this.starved&&rt&&(tt.bs=!0,tt.su=!0,this.starved=!1),tt.su==null&&(tt.su=this.buffering);const{includeKeys:nt}=this;nt&&(tt=Object.keys(tt).reduce((it,at)=>(nt.includes(at)&&(it[at]=tt[at]),it),{}));const st={baseUrl:_e.url};this.useHeaders?(_e.headers||(_e.headers={}),appendCmcdHeaders(_e.headers,tt,st)):_e.url=appendCmcdQuery(_e.url,tt,st)}getNextFrag(_e){var tt;const rt=(tt=this.hls.levels[_e.level])==null?void 0:tt.details;if(rt){const nt=_e.sn-rt.startSN;return rt.fragments[nt+1]}}getNextPart(_e){var tt;const{index:rt,fragment:nt}=_e,st=(tt=this.hls.levels[nt.level])==null||(tt=tt.details)==null?void 0:tt.partList;if(st){const{sn:it}=nt;for(let at=st.length-1;at>=0;at--){const ot=st[at];if(ot.index===rt&&ot.fragment.sn===it)return st[at+1]}}}getObjectType(_e){const{type:tt}=_e;if(tt==="subtitle")return CmcdObjectType.TIMED_TEXT;if(_e.sn==="initSegment")return CmcdObjectType.INIT;if(tt==="audio")return CmcdObjectType.AUDIO;if(tt==="main")return this.hls.audioTracks.length?CmcdObjectType.VIDEO:CmcdObjectType.MUXED}getTopBandwidth(_e){let tt=0,rt;const nt=this.hls;if(_e===CmcdObjectType.AUDIO)rt=nt.audioTracks;else{const st=nt.maxAutoLevel,it=st>-1?st+1:nt.levels.length;rt=nt.levels.slice(0,it)}return rt.forEach(st=>{st.bitrate>tt&&(tt=st.bitrate)}),tt>0?tt:NaN}getBufferLength(_e){const tt=this.media,rt=_e===CmcdObjectType.AUDIO?this.audioBuffer:this.videoBuffer;return!rt||!tt?NaN:BufferHelper.bufferInfo(rt,tt.currentTime,this.config.maxBufferHole).len*1e3}createPlaylistLoader(){const{pLoader:_e}=this.config,tt=this.applyPlaylistData,rt=_e||this.config.loader;return class{constructor(st){this.loader=void 0,this.loader=new rt(st)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(st,it,at){tt(st),this.loader.load(st,it,at)}}}createFragmentLoader(){const{fLoader:_e}=this.config,tt=this.applyFragmentData,rt=_e||this.config.loader;return class{constructor(st){this.loader=void 0,this.loader=new rt(st)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(st,it,at){tt(st),this.loader.load(st,it,at)}}}}const PATHWAY_PENALTY_DURATION_MS=3e5;class ContentSteeringController extends Logger{constructor(_e){super("content-steering",_e.logger),this.hls=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this._pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=_e,this.registerListeners()}registerListeners(){const _e=this.hls;_e.on(Events.MANIFEST_LOADING,this.onManifestLoading,this),_e.on(Events.MANIFEST_LOADED,this.onManifestLoaded,this),_e.on(Events.MANIFEST_PARSED,this.onManifestParsed,this),_e.on(Events.ERROR,this.onError,this)}unregisterListeners(){const _e=this.hls;_e&&(_e.off(Events.MANIFEST_LOADING,this.onManifestLoading,this),_e.off(Events.MANIFEST_LOADED,this.onManifestLoaded,this),_e.off(Events.MANIFEST_PARSED,this.onManifestParsed,this),_e.off(Events.ERROR,this.onError,this))}pathways(){return(this.levels||[]).reduce((_e,tt)=>(_e.indexOf(tt.pathwayId)===-1&&_e.push(tt.pathwayId),_e),[])}get pathwayPriority(){return this._pathwayPriority}set pathwayPriority(_e){this.updatePathwayPriority(_e)}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const _e=this.timeToLoad*1e3-(performance.now()-this.updated);if(_e>0){this.scheduleRefresh(this.uri,_e);return}}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){this.reloadTimer!==-1&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(_e){const tt=this.levels;tt&&(this.levels=tt.filter(rt=>rt!==_e))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(_e,tt){const{contentSteering:rt}=tt;rt!==null&&(this.pathwayId=rt.pathwayId,this.uri=rt.uri,this.started&&this.startLoad())}onManifestParsed(_e,tt){this.audioTracks=tt.audioTracks,this.subtitleTracks=tt.subtitleTracks}onError(_e,tt){const{errorAction:rt}=tt;if((rt==null?void 0:rt.action)===NetworkErrorAction.SendAlternateToPenaltyBox&&rt.flags===ErrorActionFlags.MoveAllAlternatesMatchingHost){const nt=this.levels;let st=this._pathwayPriority,it=this.pathwayId;if(tt.context){const{groupId:at,pathwayId:ot,type:lt}=tt.context;at&&nt?it=this.getPathwayForGroupId(at,lt,it):ot&&(it=ot)}it in this.penalizedPathways||(this.penalizedPathways[it]=performance.now()),!st&&nt&&(st=this.pathways()),st&&st.length>1&&(this.updatePathwayPriority(st),rt.resolved=this.pathwayId!==it),tt.details===ErrorDetails.BUFFER_APPEND_ERROR&&!tt.fatal?rt.resolved=!0:rt.resolved||this.warn(`Could not resolve ${tt.details} ("${tt.error.message}") with content-steering for Pathway: ${it} levels: ${nt&&nt.length} priorities: ${stringify(st)} penalized: ${stringify(this.penalizedPathways)}`)}}filterParsedLevels(_e){this.levels=_e;let tt=this.getLevelsForPathway(this.pathwayId);if(tt.length===0){const rt=_e[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${rt}"`),tt=this.getLevelsForPathway(rt),this.pathwayId=rt}return tt.length!==_e.length&&this.log(`Found ${tt.length}/${_e.length} levels in Pathway "${this.pathwayId}"`),tt}getLevelsForPathway(_e){return this.levels===null?[]:this.levels.filter(tt=>_e===tt.pathwayId)}updatePathwayPriority(_e){this._pathwayPriority=_e;let tt;const rt=this.penalizedPathways,nt=performance.now();Object.keys(rt).forEach(st=>{nt-rt[st]>PATHWAY_PENALTY_DURATION_MS&&delete rt[st]});for(let st=0;st<_e.length;st++){const it=_e[st];if(it in rt)continue;if(it===this.pathwayId)return;const at=this.hls.nextLoadLevel,ot=this.hls.levels[at];if(tt=this.getLevelsForPathway(it),tt.length>0){this.log(`Setting Pathway to "${it}"`),this.pathwayId=it,reassignFragmentLevelIndexes(tt),this.hls.trigger(Events.LEVELS_UPDATED,{levels:tt});const lt=this.hls.levels[at];ot&&lt&&this.levels&&(lt.attrs["STABLE-VARIANT-ID"]!==ot.attrs["STABLE-VARIANT-ID"]&&lt.bitrate!==ot.bitrate&&this.log(`Unstable Pathways change from bitrate ${ot.bitrate} to ${lt.bitrate}`),this.hls.nextLoadLevel=at);break}}}getPathwayForGroupId(_e,tt,rt){const nt=this.getLevelsForPathway(rt).concat(this.levels||[]);for(let st=0;st<nt.length;st++)if(tt===PlaylistContextType.AUDIO_TRACK&&nt[st].hasAudioGroup(_e)||tt===PlaylistContextType.SUBTITLE_TRACK&&nt[st].hasSubtitleGroup(_e))return nt[st].pathwayId;return rt}clonePathways(_e){const tt=this.levels;if(!tt)return;const rt={},nt={};_e.forEach(st=>{const{ID:it,"BASE-ID":at,"URI-REPLACEMENT":ot}=st;if(tt.some(ct=>ct.pathwayId===it))return;const lt=this.getLevelsForPathway(at).map(ct=>{const ut=new AttrList(ct.attrs);ut["PATHWAY-ID"]=it;const dt=ut.AUDIO&&`${ut.AUDIO}_clone_${it}`,ft=ut.SUBTITLES&&`${ut.SUBTITLES}_clone_${it}`;dt&&(rt[ut.AUDIO]=dt,ut.AUDIO=dt),ft&&(nt[ut.SUBTITLES]=ft,ut.SUBTITLES=ft);const ht=performUriReplacement(ct.uri,ut["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",ot),pt=new Level({attrs:ut,audioCodec:ct.audioCodec,bitrate:ct.bitrate,height:ct.height,name:ct.name,url:ht,videoCodec:ct.videoCodec,width:ct.width});if(ct.audioGroups)for(let gt=1;gt<ct.audioGroups.length;gt++)pt.addGroupId("audio",`${ct.audioGroups[gt]}_clone_${it}`);if(ct.subtitleGroups)for(let gt=1;gt<ct.subtitleGroups.length;gt++)pt.addGroupId("text",`${ct.subtitleGroups[gt]}_clone_${it}`);return pt});tt.push(...lt),cloneRenditionGroups(this.audioTracks,rt,ot,it),cloneRenditionGroups(this.subtitleTracks,nt,ot,it)})}loadSteeringManifest(_e){const tt=this.hls.config,rt=tt.loader;this.loader&&this.loader.destroy(),this.loader=new rt(tt);let nt;try{nt=new self.URL(_e)}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest URI: ${_e}`);return}if(nt.protocol!=="data:"){const ct=(this.hls.bandwidthEstimate||tt.abrEwmaDefaultEstimate)|0;nt.searchParams.set("_HLS_pathway",this.pathwayId),nt.searchParams.set("_HLS_throughput",""+ct)}const st={responseType:"json",url:nt.href},it=tt.steeringManifestLoadPolicy.default,at=it.errorRetry||it.timeoutRetry||{},ot={loadPolicy:it,timeout:it.maxLoadTimeMs,maxRetry:at.maxNumRetry||0,retryDelay:at.retryDelayMs||0,maxRetryDelay:at.maxRetryDelayMs||0},lt={onSuccess:(ct,ut,dt,ft)=>{this.log(`Loaded steering manifest: "${nt}"`);const ht=ct.data;if((ht==null?void 0:ht.VERSION)!==1){this.log(`Steering VERSION ${ht.VERSION} not supported!`);return}this.updated=performance.now(),this.timeToLoad=ht.TTL;const{"RELOAD-URI":pt,"PATHWAY-CLONES":gt,"PATHWAY-PRIORITY":mt}=ht;if(pt)try{this.uri=new self.URL(pt,nt).href}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest RELOAD-URI: ${pt}`);return}this.scheduleRefresh(this.uri||dt.url),gt&&this.clonePathways(gt);const bt={steeringManifest:ht,url:nt.toString()};this.hls.trigger(Events.STEERING_MANIFEST_LOADED,bt),mt&&this.updatePathwayPriority(mt)},onError:(ct,ut,dt,ft)=>{if(this.log(`Error loading steering manifest: ${ct.code} ${ct.text} (${ut.url})`),this.stopLoad(),ct.code===410){this.enabled=!1,this.log(`Steering manifest ${ut.url} no longer available`);return}let ht=this.timeToLoad*1e3;if(ct.code===429){const pt=this.loader;if(typeof(pt==null?void 0:pt.getResponseHeader)=="function"){const gt=pt.getResponseHeader("Retry-After");gt&&(ht=parseFloat(gt)*1e3)}this.log(`Steering manifest ${ut.url} rate limited`);return}this.scheduleRefresh(this.uri||ut.url,ht)},onTimeout:(ct,ut,dt)=>{this.log(`Timeout loading steering manifest (${ut.url})`),this.scheduleRefresh(this.uri||ut.url)}};this.log(`Requesting steering manifest: ${nt}`),this.loader.load(st,ot,lt)}scheduleRefresh(_e,tt=this.timeToLoad*1e3){this.clearTimeout(),this.reloadTimer=self.setTimeout(()=>{var rt;const nt=(rt=this.hls)==null?void 0:rt.media;if(nt&&!nt.ended){this.loadSteeringManifest(_e);return}this.scheduleRefresh(_e,this.timeToLoad*1e3)},tt)}}function cloneRenditionGroups(et,_e,tt,rt){et&&Object.keys(_e).forEach(nt=>{const st=et.filter(it=>it.groupId===nt).map(it=>{const at=_extends$f({},it);return at.details=void 0,at.attrs=new AttrList(at.attrs),at.url=at.attrs.URI=performUriReplacement(it.url,it.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",tt),at.groupId=at.attrs["GROUP-ID"]=_e[nt],at.attrs["PATHWAY-ID"]=rt,at});et.push(...st)})}function performUriReplacement(et,_e,tt,rt){const{HOST:nt,PARAMS:st,[tt]:it}=rt;let at;_e&&(at=it==null?void 0:it[_e],at&&(et=at));const ot=new self.URL(et);return nt&&!at&&(ot.host=nt),st&&Object.keys(st).sort().forEach(lt=>{lt&&ot.searchParams.set(lt,st[lt])}),ot.href}function addEventListener$1(et,_e,tt){removeEventListener$1(et,_e,tt),et.addEventListener(_e,tt)}function removeEventListener$1(et,_e,tt){et.removeEventListener(_e,tt)}class EMEController extends Logger{constructor(_e){super("eme",_e.logger),this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.mediaKeys=null,this.setMediaKeysQueue=EMEController.CDMCleanupPromise?[EMEController.CDMCleanupPromise]:[],this.onMediaEncrypted=tt=>{const{initDataType:rt,initData:nt}=tt,st=`"${tt.type}" event: init data type: "${rt}"`;if(this.debug(st),nt!==null){if(!this.keyFormatPromise){let it=Object.keys(this.keySystemAccessPromises);it.length||(it=getKeySystemsForConfig(this.config));const at=it.map(keySystemDomainToKeySystemFormat).filter(ot=>!!ot);this.keyFormatPromise=this.getKeyFormatPromise(at)}this.keyFormatPromise.then(it=>{const at=keySystemFormatToKeySystemDomain(it);if(rt!=="sinf"||at!==KeySystems.FAIRPLAY){this.log(`Ignoring "${tt.type}" event with init data type: "${rt}" for selected key-system ${at}`);return}let ot;try{const ft=bin2str(new Uint8Array(nt)),ht=base64Decode(JSON.parse(ft).sinf),pt=parseSinf(ht);if(!pt)throw new Error("'schm' box missing or not cbcs/cenc with schi > tenc");ot=new Uint8Array(pt.subarray(8,24))}catch(ft){this.warn(`${st} Failed to parse sinf: ${ft}`);return}const lt=Hex.hexDump(ot),{keyIdToKeySessionPromise:ct,mediaKeySessions:ut}=this;let dt=ct[lt];for(let ft=0;ft<ut.length;ft++){const ht=ut[ft],pt=ht.decryptdata;if(!pt.keyId)continue;const gt=Hex.hexDump(pt.keyId);if(lt===gt||pt.uri.replace(/-/g,"").indexOf(lt)!==-1){if(dt=ct[gt],!dt)continue;if(pt.pssh)break;delete ct[gt],pt.pssh=new Uint8Array(nt),pt.keyId=ot,dt=ct[lt]=dt.then(()=>this.generateRequestWithPreferredKeySession(ht,rt,nt,"encrypted-event-key-match")),dt.catch(mt=>this.handleError(mt));break}}dt||this.handleError(new Error(`Key ID ${lt} not encountered in playlist. Key-system sessions ${ut.length}.`))}).catch(it=>this.handleError(it))}},this.onWaitingForKey=tt=>{this.log(`"${tt.type}" event`)},this.hls=_e,this.config=_e.config,this.registerListeners()}destroy(){this.onDestroying(),this.onMediaDetached();const _e=this.config;_e.requestMediaKeySystemAccessFunc=null,_e.licenseXhrSetup=_e.licenseResponseCallback=void 0,_e.drmSystems=_e.drmSystemOptions={},this.hls=this.config=this.keyIdToKeySessionPromise=null,this.onWaitingForKey=null}registerListeners(){this.hls.on(Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(Events.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(Events.MANIFEST_LOADED,this.onManifestLoaded,this),this.hls.on(Events.DESTROYING,this.onDestroying,this)}unregisterListeners(){this.hls.off(Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(Events.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(Events.MANIFEST_LOADED,this.onManifestLoaded,this),this.hls.off(Events.DESTROYING,this.onDestroying,this)}getLicenseServerUrl(_e){const{drmSystems:tt,widevineLicenseUrl:rt}=this.config,nt=tt[_e];if(nt)return nt.licenseUrl;if(_e===KeySystems.WIDEVINE&&rt)return rt}getLicenseServerUrlOrThrow(_e){const tt=this.getLicenseServerUrl(_e);if(tt===void 0)throw new Error(`no license server URL configured for key-system "${_e}"`);return tt}getServerCertificateUrl(_e){const{drmSystems:tt}=this.config,rt=tt[_e];if(rt)return rt.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${_e}"]`)}attemptKeySystemAccess(_e){const tt=this.hls.levels,rt=(it,at,ot)=>!!it&&ot.indexOf(it)===at,nt=tt.map(it=>it.audioCodec).filter(rt),st=tt.map(it=>it.videoCodec).filter(rt);return nt.length+st.length===0&&st.push("avc1.42e01e"),new Promise((it,at)=>{const ot=lt=>{const ct=lt.shift();this.getMediaKeysPromise(ct,nt,st).then(ut=>it({keySystem:ct,mediaKeys:ut})).catch(ut=>{lt.length?ot(lt):ut instanceof EMEKeyError?at(ut):at(new EMEKeyError({type:ErrorTypes.KEY_SYSTEM_ERROR,details:ErrorDetails.KEY_SYSTEM_NO_ACCESS,error:ut,fatal:!0},ut.message))})};ot(_e)})}requestMediaKeySystemAccess(_e,tt){const{requestMediaKeySystemAccessFunc:rt}=this.config;if(typeof rt!="function"){let nt=`Configured requestMediaKeySystemAccess is not a function ${rt}`;return requestMediaKeySystemAccess===null&&self.location.protocol==="http:"&&(nt=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(nt))}return rt(_e,tt)}getMediaKeysPromise(_e,tt,rt){const nt=getSupportedMediaKeySystemConfigurations(_e,tt,rt,this.config.drmSystemOptions),st=this.keySystemAccessPromises[_e];let it=st==null?void 0:st.keySystemAccess;if(!it){this.log(`Requesting encrypted media "${_e}" key-system access with config: ${stringify(nt)}`),it=this.requestMediaKeySystemAccess(_e,nt);const at=this.keySystemAccessPromises[_e]={keySystemAccess:it};return it.catch(ot=>{this.log(`Failed to obtain access to key-system "${_e}": ${ot}`)}),it.then(ot=>{this.log(`Access for key-system "${ot.keySystem}" obtained`);const lt=this.fetchServerCertificate(_e);return this.log(`Create media-keys for "${_e}"`),at.mediaKeys=ot.createMediaKeys().then(ct=>(this.log(`Media-keys created for "${_e}"`),at.hasMediaKeys=!0,lt.then(ut=>ut?this.setMediaKeysServerCertificate(ct,_e,ut):ct))),at.mediaKeys.catch(ct=>{this.error(`Failed to create media-keys for "${_e}"}: ${ct}`)}),at.mediaKeys})}return it.then(()=>st.mediaKeys)}createMediaKeySessionContext({decryptdata:_e,keySystem:tt,mediaKeys:rt}){this.log(`Creating key-system session "${tt}" keyId: ${Hex.hexDump(_e.keyId||[])}`);const nt=rt.createSession(),st={decryptdata:_e,keySystem:tt,mediaKeys:rt,mediaKeysSession:nt,keyStatus:"status-pending"};return this.mediaKeySessions.push(st),st}renewKeySession(_e){const tt=_e.decryptdata;if(tt.pssh){const rt=this.createMediaKeySessionContext(_e),nt=this.getKeyIdString(tt),st="cenc";this.keyIdToKeySessionPromise[nt]=this.generateRequestWithPreferredKeySession(rt,st,tt.pssh.buffer,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(_e)}getKeyIdString(_e){if(!_e)throw new Error("Could not read keyId of undefined decryptdata");if(_e.keyId===null)throw new Error("keyId is null");return Hex.hexDump(_e.keyId)}updateKeySession(_e,tt){var rt;const nt=_e.mediaKeysSession;return this.log(`Updating key-session "${nt.sessionId}" for keyID ${Hex.hexDump(((rt=_e.decryptdata)==null?void 0:rt.keyId)||[])}
      } (data length: ${tt&&tt.byteLength})`),nt.update(tt)}getSelectedKeySystemFormats(){return Object.keys(this.keySystemAccessPromises).map(_e=>({keySystem:_e,hasMediaKeys:this.keySystemAccessPromises[_e].hasMediaKeys})).filter(({hasMediaKeys:_e})=>!!_e).map(({keySystem:_e})=>keySystemDomainToKeySystemFormat(_e)).filter(_e=>!!_e)}getKeySystemAccess(_e){return this.getKeySystemSelectionPromise(_e).then(({keySystem:tt,mediaKeys:rt})=>this.attemptSetMediaKeys(tt,rt))}selectKeySystem(_e){return new Promise((tt,rt)=>this.getKeySystemSelectionPromise(_e).then(({keySystem:nt})=>{const st=keySystemDomainToKeySystemFormat(nt);st?tt(st):rt(new Error(`Unable to find format for key-system "${nt}"`))}).catch(rt))}selectKeySystemFormat(_e){const tt=Object.keys(_e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${_e.sn} ${_e.type}: ${_e.level}) key formats ${tt.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(tt)),this.keyFormatPromise}getKeyFormatPromise(_e){const tt=getKeySystemsForConfig(this.config),rt=_e.map(keySystemFormatToKeySystemDomain).filter(nt=>!!nt&&tt.indexOf(nt)!==-1);return this.selectKeySystem(rt)}loadKey(_e){const tt=_e.keyInfo.decryptdata,rt=this.getKeyIdString(tt),nt=`(keyId: ${rt} format: "${tt.keyFormat}" method: ${tt.method} uri: ${tt.uri})`;this.log(`Starting session for key ${nt}`);let st=this.keyIdToKeySessionPromise[rt];return st||(st=this.getKeySystemForKeyPromise(tt).then(({keySystem:at,mediaKeys:ot})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${_e.frag.sn} ${_e.frag.type}: ${_e.frag.level} using key ${nt}`),this.attemptSetMediaKeys(at,ot).then(()=>(this.throwIfDestroyed(),this.createMediaKeySessionContext({keySystem:at,mediaKeys:ot,decryptdata:tt}))))),(this.keyIdToKeySessionPromise[rt]=st.then(at=>{const ot="cenc",lt=tt.pssh?tt.pssh.buffer:null;return this.generateRequestWithPreferredKeySession(at,ot,lt,"playlist-key")})).catch(at=>this.handleError(at))),st}throwIfDestroyed(_e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(_e){this.hls&&(this.error(_e.message),_e instanceof EMEKeyError?this.hls.trigger(Events.ERROR,_e.data):this.hls.trigger(Events.ERROR,{type:ErrorTypes.KEY_SYSTEM_ERROR,details:ErrorDetails.KEY_SYSTEM_NO_KEYS,error:_e,fatal:!0}))}getKeySystemForKeyPromise(_e){const tt=this.getKeyIdString(_e),rt=this.keyIdToKeySessionPromise[tt];if(!rt){const nt=keySystemFormatToKeySystemDomain(_e.keyFormat),st=nt?[nt]:getKeySystemsForConfig(this.config);return this.attemptKeySystemAccess(st)}return rt}getKeySystemSelectionPromise(_e){if(_e.length||(_e=getKeySystemsForConfig(this.config)),_e.length===0)throw new EMEKeyError({type:ErrorTypes.KEY_SYSTEM_ERROR,details:ErrorDetails.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${stringify({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(_e)}attemptSetMediaKeys(_e,tt){if(this.mediaKeys===tt)return Promise.resolve();const rt=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${_e}"`);const nt=Promise.all(rt).then(()=>{if(!this.media)throw this.mediaKeys=null,new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(tt)});return this.mediaKeys=tt,this.setMediaKeysQueue.push(nt),nt.then(()=>{this.log(`Media-keys set for "${_e}"`),rt.push(nt),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(st=>rt.indexOf(st)===-1)})}generateRequestWithPreferredKeySession(_e,tt,rt,nt){var st;const it=(st=this.config.drmSystems)==null||(st=st[_e.keySystem])==null?void 0:st.generateRequest;if(it)try{const ft=it.call(this.hls,tt,rt,_e);if(!ft)throw new Error("Invalid response from configured generateRequest filter");tt=ft.initDataType,rt=ft.initData?ft.initData:null,_e.decryptdata.pssh=rt?new Uint8Array(rt):null}catch(ft){var at;if(this.warn(ft.message),(at=this.hls)!=null&&at.config.debug)throw ft}if(rt===null)return this.log(`Skipping key-session request for "${nt}" (no initData)`),Promise.resolve(_e);const ot=this.getKeyIdString(_e.decryptdata);this.log(`Generating key-session request for "${nt}": ${ot} (init data type: ${tt} length: ${rt?rt.byteLength:null})`);const lt=new EventEmitter,ct=_e._onmessage=ft=>{const ht=_e.mediaKeysSession;if(!ht){lt.emit("error",new Error("invalid state"));return}const{messageType:pt,message:gt}=ft;this.log(`"${pt}" message event for session "${ht.sessionId}" message size: ${gt.byteLength}`),pt==="license-request"||pt==="license-renewal"?this.renewLicense(_e,gt).catch(mt=>{lt.eventNames().length?lt.emit("error",mt):this.handleError(mt)}):pt==="license-release"?_e.keySystem===KeySystems.FAIRPLAY&&(this.updateKeySession(_e,strToUtf8array("acknowledged")),this.removeSession(_e)):this.warn(`unhandled media key message type "${pt}"`)},ut=_e._onkeystatuseschange=ft=>{if(!_e.mediaKeysSession){lt.emit("error",new Error("invalid state"));return}this.onKeyStatusChange(_e);const pt=_e.keyStatus;lt.emit("keyStatus",pt),pt==="expired"&&(this.warn(`${_e.keySystem} expired for key ${ot}`),this.renewKeySession(_e))};addEventListener$1(_e.mediaKeysSession,"message",ct),addEventListener$1(_e.mediaKeysSession,"keystatuseschange",ut);const dt=new Promise((ft,ht)=>{lt.on("error",ht),lt.on("keyStatus",pt=>{pt.startsWith("usable")?ft():pt==="output-restricted"?ht(new EMEKeyError({type:ErrorTypes.KEY_SYSTEM_ERROR,details:ErrorDetails.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):pt==="internal-error"?ht(new EMEKeyError({type:ErrorTypes.KEY_SYSTEM_ERROR,details:ErrorDetails.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${pt}"`)):pt==="expired"?ht(new Error("key expired while generating request")):this.warn(`unhandled key status change "${pt}"`)})});return _e.mediaKeysSession.generateRequest(tt,rt).then(()=>{var ft;this.log(`Request generated for key-session "${(ft=_e.mediaKeysSession)==null?void 0:ft.sessionId}" keyId: ${ot}`)}).catch(ft=>{throw new EMEKeyError({type:ErrorTypes.KEY_SYSTEM_ERROR,details:ErrorDetails.KEY_SYSTEM_NO_SESSION,error:ft,fatal:!1},`Error generating key-session request: ${ft}`)}).then(()=>dt).catch(ft=>{throw lt.removeAllListeners(),this.removeSession(_e),ft}).then(()=>(lt.removeAllListeners(),_e))}onKeyStatusChange(_e){_e.mediaKeysSession.keyStatuses.forEach((tt,rt)=>{if(typeof rt=="string"&&typeof tt=="object"){const nt=rt;rt=tt,tt=nt}this.log(`key status change "${tt}" for keyStatuses keyId: ${Hex.hexDump("buffer"in rt?new Uint8Array(rt.buffer,rt.byteOffset,rt.byteLength):new Uint8Array(rt))} session keyId: ${Hex.hexDump(new Uint8Array(_e.decryptdata.keyId||[]))} uri: ${_e.decryptdata.uri}`),_e.keyStatus=tt})}fetchServerCertificate(_e){const tt=this.config,rt=tt.loader,nt=new rt(tt),st=this.getServerCertificateUrl(_e);return st?(this.log(`Fetching server certificate for "${_e}"`),new Promise((it,at)=>{const ot={responseType:"arraybuffer",url:st},lt=tt.certLoadPolicy.default,ct={loadPolicy:lt,timeout:lt.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},ut={onSuccess:(dt,ft,ht,pt)=>{it(dt.data)},onError:(dt,ft,ht,pt)=>{at(new EMEKeyError({type:ErrorTypes.KEY_SYSTEM_ERROR,details:ErrorDetails.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:ht,response:_objectSpread2({url:ot.url,data:void 0},dt)},`"${_e}" certificate request failed (${st}). Status: ${dt.code} (${dt.text})`))},onTimeout:(dt,ft,ht)=>{at(new EMEKeyError({type:ErrorTypes.KEY_SYSTEM_ERROR,details:ErrorDetails.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:ht,response:{url:ot.url,data:void 0}},`"${_e}" certificate request timed out (${st})`))},onAbort:(dt,ft,ht)=>{at(new Error("aborted"))}};nt.load(ot,ct,ut)})):Promise.resolve()}setMediaKeysServerCertificate(_e,tt,rt){return new Promise((nt,st)=>{_e.setServerCertificate(rt).then(it=>{this.log(`setServerCertificate ${it?"success":"not supported by CDM"} (${rt==null?void 0:rt.byteLength}) on "${tt}"`),nt(_e)}).catch(it=>{st(new EMEKeyError({type:ErrorTypes.KEY_SYSTEM_ERROR,details:ErrorDetails.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:it,fatal:!0},it.message))})})}renewLicense(_e,tt){return this.requestLicense(_e,new Uint8Array(tt)).then(rt=>this.updateKeySession(_e,new Uint8Array(rt)).catch(nt=>{throw new EMEKeyError({type:ErrorTypes.KEY_SYSTEM_ERROR,details:ErrorDetails.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:nt,fatal:!0},nt.message)}))}unpackPlayReadyKeyMessage(_e,tt){const rt=String.fromCharCode.apply(null,new Uint16Array(tt.buffer));if(!rt.includes("PlayReadyKeyMessage"))return _e.setRequestHeader("Content-Type","text/xml; charset=utf-8"),tt;const nt=new DOMParser().parseFromString(rt,"application/xml"),st=nt.querySelectorAll("HttpHeader");if(st.length>0){let ct;for(let ut=0,dt=st.length;ut<dt;ut++){var it,at;ct=st[ut];const ft=(it=ct.querySelector("name"))==null?void 0:it.textContent,ht=(at=ct.querySelector("value"))==null?void 0:at.textContent;ft&&ht&&_e.setRequestHeader(ft,ht)}}const ot=nt.querySelector("Challenge"),lt=ot==null?void 0:ot.textContent;if(!lt)throw new Error("Cannot find <Challenge> in key message");return strToUtf8array(atob(lt))}setupLicenseXHR(_e,tt,rt,nt){const st=this.config.licenseXhrSetup;return st?Promise.resolve().then(()=>{if(!rt.decryptdata)throw new Error("Key removed");return st.call(this.hls,_e,tt,rt,nt)}).catch(it=>{if(!rt.decryptdata)throw it;return _e.open("POST",tt,!0),st.call(this.hls,_e,tt,rt,nt)}).then(it=>(_e.readyState||_e.open("POST",tt,!0),{xhr:_e,licenseChallenge:it||nt})):(_e.open("POST",tt,!0),Promise.resolve({xhr:_e,licenseChallenge:nt}))}requestLicense(_e,tt){const rt=this.config.keyLoadPolicy.default;return new Promise((nt,st)=>{const it=this.getLicenseServerUrlOrThrow(_e.keySystem);this.log(`Sending license request to URL: ${it}`);const at=new XMLHttpRequest;at.responseType="arraybuffer",at.onreadystatechange=()=>{if(!this.hls||!_e.mediaKeysSession)return st(new Error("invalid state"));if(at.readyState===4)if(at.status===200){this._requestLicenseFailureCount=0;let ot=at.response;this.log(`License received ${ot instanceof ArrayBuffer?ot.byteLength:ot}`);const lt=this.config.licenseResponseCallback;if(lt)try{ot=lt.call(this.hls,at,it,_e)}catch(ct){this.error(ct)}nt(ot)}else{const ot=rt.errorRetry,lt=ot?ot.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>lt||at.status>=400&&at.status<500)st(new EMEKeyError({type:ErrorTypes.KEY_SYSTEM_ERROR,details:ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:at,response:{url:it,data:void 0,code:at.status,text:at.statusText}},`License Request XHR failed (${it}). Status: ${at.status} (${at.statusText})`));else{const ct=lt-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${ct} attempts left`),this.requestLicense(_e,tt).then(nt,st)}}},_e.licenseXhr&&_e.licenseXhr.readyState!==XMLHttpRequest.DONE&&_e.licenseXhr.abort(),_e.licenseXhr=at,this.setupLicenseXHR(at,it,_e,tt).then(({xhr:ot,licenseChallenge:lt})=>{_e.keySystem==KeySystems.PLAYREADY&&(lt=this.unpackPlayReadyKeyMessage(ot,lt)),ot.send(lt)})})}onDestroying(){this.unregisterListeners(),this._clear()}onMediaAttached(_e,tt){if(!this.config.emeEnabled)return;const rt=tt.media;this.media=rt,addEventListener$1(rt,"encrypted",this.onMediaEncrypted),addEventListener$1(rt,"waitingforkey",this.onWaitingForKey)}onMediaDetached(){const _e=this.media;_e&&(removeEventListener$1(_e,"encrypted",this.onMediaEncrypted),removeEventListener$1(_e,"waitingforkey",this.onWaitingForKey),this.media=null,this.mediaKeys=null)}_clear(){var _e;if(this._requestLicenseFailureCount=0,this.keyIdToKeySessionPromise={},!this.mediaKeys&&!this.mediaKeySessions.length)return;const tt=this.media,rt=this.mediaKeySessions.slice();this.mediaKeySessions=[],this.mediaKeys=null,LevelKey.clearKeyUriToKeyIdMap();const nt=rt.length;EMEController.CDMCleanupPromise=Promise.all(rt.map(st=>this.removeSession(st)).concat(tt==null||(_e=tt.setMediaKeys(null))==null?void 0:_e.catch(st=>{var it;this.log(`Could not clear media keys: ${st}`),(it=this.hls)==null||it.trigger(Events.ERROR,{type:ErrorTypes.OTHER_ERROR,details:ErrorDetails.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR,fatal:!1,error:new Error(`Could not clear media keys: ${st}`)})}))).catch(st=>{var it;this.log(`Could not close sessions and clear media keys: ${st}`),(it=this.hls)==null||it.trigger(Events.ERROR,{type:ErrorTypes.OTHER_ERROR,details:ErrorDetails.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close sessions and clear media keys: ${st}`)})}).then(()=>{nt&&this.log("finished closing key sessions and clearing media keys")})}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(_e,{sessionKeys:tt}){if(!(!tt||!this.config.emeEnabled)&&!this.keyFormatPromise){const rt=tt.reduce((nt,st)=>(nt.indexOf(st.keyFormat)===-1&&nt.push(st.keyFormat),nt),[]);this.log(`Selecting key-system from session-keys ${rt.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(rt)}}removeSession(_e){const{mediaKeysSession:tt,licenseXhr:rt}=_e;if(tt){this.log(`Remove licenses and keys and close session ${tt.sessionId}`),_e._onmessage&&(tt.removeEventListener("message",_e._onmessage),_e._onmessage=void 0),_e._onkeystatuseschange&&(tt.removeEventListener("keystatuseschange",_e._onkeystatuseschange),_e._onkeystatuseschange=void 0),rt&&rt.readyState!==XMLHttpRequest.DONE&&rt.abort(),_e.mediaKeysSession=_e.decryptdata=_e.licenseXhr=void 0;const nt=this.mediaKeySessions.indexOf(_e);nt>-1&&this.mediaKeySessions.splice(nt,1);const{drmSystemOptions:st}=this.config;return(isPersistentSessionType(st)?new Promise((at,ot)=>{self.setTimeout(()=>ot(new Error("MediaKeySession.remove() timeout")),8e3),tt.remove().then(at)}):Promise.resolve()).catch(at=>{var ot;this.log(`Could not remove session: ${at}`),(ot=this.hls)==null||ot.trigger(Events.ERROR,{type:ErrorTypes.OTHER_ERROR,details:ErrorDetails.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR,fatal:!1,error:new Error(`Could not remove session: ${at}`)})}).then(()=>tt.close()).catch(at=>{var ot;this.log(`Could not close session: ${at}`),(ot=this.hls)==null||ot.trigger(Events.ERROR,{type:ErrorTypes.OTHER_ERROR,details:ErrorDetails.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close session: ${at}`)})})}}}EMEController.CDMCleanupPromise=void 0;class EMEKeyError extends Error{constructor(_e,tt){super(tt),this.data=void 0,_e.error||(_e.error=new Error(tt)),this.data=_e,_e.err=_e.error}}class FPSController{constructor(_e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=_e,this.registerListeners()}setStreamController(_e){this.streamController=_e}registerListeners(){this.hls.on(Events.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.on(Events.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListeners(){this.hls.off(Events.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.off(Events.MEDIA_DETACHING,this.onMediaDetaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(_e,tt){const rt=this.hls.config;if(rt.capLevelOnFPSDrop){const nt=tt.media instanceof self.HTMLVideoElement?tt.media:null;this.media=nt,nt&&typeof nt.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),rt.fpsDroppedMonitoringPeriod)}}onMediaDetaching(){this.media=null}checkFPS(_e,tt,rt){const nt=performance.now();if(tt){if(this.lastTime){const st=nt-this.lastTime,it=rt-this.lastDroppedFrames,at=tt-this.lastDecodedFrames,ot=1e3*it/st,lt=this.hls;if(lt.trigger(Events.FPS_DROP,{currentDropped:it,currentDecoded:at,totalDroppedFrames:rt}),ot>0&&it>lt.config.fpsDroppedMonitoringThreshold*at){let ct=lt.currentLevel;lt.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+ct),ct>0&&(lt.autoLevelCapping===-1||lt.autoLevelCapping>=ct)&&(ct=ct-1,lt.trigger(Events.FPS_DROP_LEVEL_CAPPING,{level:ct,droppedLevel:lt.currentLevel}),lt.autoLevelCapping=ct,this.streamController.nextLevelSwitch())}}this.lastTime=nt,this.lastDroppedFrames=rt,this.lastDecodedFrames=tt}}checkFPSInterval(){const _e=this.media;if(_e)if(this.isVideoPlaybackQualityAvailable){const tt=_e.getVideoPlaybackQuality();this.checkFPS(_e,tt.totalVideoFrames,tt.droppedVideoFrames)}else this.checkFPS(_e,_e.webkitDecodedFrameCount,_e.webkitDroppedFrameCount)}}function sendAddTrackEvent(et,_e){let tt;try{tt=new Event("addtrack")}catch{tt=document.createEvent("Event"),tt.initEvent("addtrack",!1,!1)}tt.track=et,_e.dispatchEvent(tt)}function addCueToTrack(et,_e){const tt=et.mode;if(tt==="disabled"&&(et.mode="hidden"),et.cues&&!et.cues.getCueById(_e.id))try{if(et.addCue(_e),!et.cues.getCueById(_e.id))throw new Error(`addCue is failed for: ${_e}`)}catch(rt){logger.debug(`[texttrack-utils]: ${rt}`);try{const nt=new self.TextTrackCue(_e.startTime,_e.endTime,_e.text);nt.id=_e.id,et.addCue(nt)}catch(nt){logger.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${nt}`)}}tt==="disabled"&&(et.mode=tt)}function clearCurrentCues(et,_e){const tt=et.mode;if(tt==="disabled"&&(et.mode="hidden"),et.cues)for(let rt=et.cues.length;rt--;)_e&&et.cues[rt].removeEventListener("enter",_e),et.removeCue(et.cues[rt]);tt==="disabled"&&(et.mode=tt)}function removeCuesInRange(et,_e,tt,rt){const nt=et.mode;if(nt==="disabled"&&(et.mode="hidden"),et.cues&&et.cues.length>0){const st=getCuesInRange(et.cues,_e,tt);for(let it=0;it<st.length;it++)(!rt||rt(st[it]))&&et.removeCue(st[it])}nt==="disabled"&&(et.mode=nt)}function getFirstCueIndexFromTime(et,_e){if(_e<=et[0].startTime)return 0;const tt=et.length-1;if(_e>et[tt].endTime)return-1;let rt=0,nt=tt,st;for(;rt<=nt;)if(st=Math.floor((nt+rt)/2),_e<et[st].startTime)nt=st-1;else if(_e>et[st].startTime&&rt<tt)rt=st+1;else return st;return et[rt].startTime-_e<_e-et[nt].startTime?rt:nt}function getCuesInRange(et,_e,tt){const rt=[],nt=getFirstCueIndexFromTime(et,_e);if(nt>-1)for(let st=nt,it=et.length;st<it;st++){const at=et[st];if(at.startTime>=_e&&at.endTime<=tt)rt.push(at);else if(at.startTime>tt)return rt}return rt}function filterSubtitleTracks(et){const _e=[];for(let tt=0;tt<et.length;tt++){const rt=et[tt];(rt.kind==="subtitles"||rt.kind==="captions")&&rt.label&&_e.push(et[tt])}return _e}class SubtitleTrackController extends BasePlaylistController{constructor(_e){super(_e,"subtitle-track-controller"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let tt=null;const rt=filterSubtitleTracks(this.media.textTracks);for(let st=0;st<rt.length;st++)if(rt[st].mode==="hidden")tt=rt[st];else if(rt[st].mode==="showing"){tt=rt[st];break}const nt=this.findTrackForTextTrack(tt);this.subtitleTrack!==nt&&this.setSubtitleTrack(nt)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(_e){this._subtitleDisplay=_e,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:_e}=this;_e.on(Events.MEDIA_ATTACHED,this.onMediaAttached,this),_e.on(Events.MEDIA_DETACHING,this.onMediaDetaching,this),_e.on(Events.MANIFEST_LOADING,this.onManifestLoading,this),_e.on(Events.MANIFEST_PARSED,this.onManifestParsed,this),_e.on(Events.LEVEL_LOADING,this.onLevelLoading,this),_e.on(Events.LEVEL_SWITCHING,this.onLevelSwitching,this),_e.on(Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),_e.on(Events.ERROR,this.onError,this)}unregisterListeners(){const{hls:_e}=this;_e.off(Events.MEDIA_ATTACHED,this.onMediaAttached,this),_e.off(Events.MEDIA_DETACHING,this.onMediaDetaching,this),_e.off(Events.MANIFEST_LOADING,this.onManifestLoading,this),_e.off(Events.MANIFEST_PARSED,this.onManifestParsed,this),_e.off(Events.LEVEL_LOADING,this.onLevelLoading,this),_e.off(Events.LEVEL_SWITCHING,this.onLevelSwitching,this),_e.off(Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),_e.off(Events.ERROR,this.onError,this)}onMediaAttached(_e,tt){this.media=tt.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(_e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,_e)}onMediaDetaching(_e,tt){const rt=this.media;if(!rt)return;const nt=!!tt.transferMedia;if(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||rt.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),this.subtitleTrack=-1,this.media=null,nt)return;filterSubtitleTracks(rt.textTracks).forEach(it=>{clearCurrentCues(it)})}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(_e,tt){this.tracks=tt.subtitleTracks}onSubtitleTrackLoaded(_e,tt){const{id:rt,groupId:nt,details:st}=tt,it=this.tracksInGroup[rt];if(!it||it.groupId!==nt){this.warn(`Subtitle track with id:${rt} and group:${nt} not found in active group ${it==null?void 0:it.groupId}`);return}const at=it.details;it.details=tt.details,this.log(`Subtitle track ${rt} "${it.name}" lang:${it.lang} group:${nt} loaded [${st.startSN}-${st.endSN}]`),rt===this.trackId&&this.playlistLoaded(rt,tt,at)}onLevelLoading(_e,tt){this.switchLevel(tt.level)}onLevelSwitching(_e,tt){this.switchLevel(tt.level)}switchLevel(_e){const tt=this.hls.levels[_e];if(!tt)return;const rt=tt.subtitleGroups||null,nt=this.groupIds;let st=this.currentTrack;if(!rt||(nt==null?void 0:nt.length)!==(rt==null?void 0:rt.length)||rt!=null&&rt.some(it=>(nt==null?void 0:nt.indexOf(it))===-1)){this.groupIds=rt,this.trackId=-1,this.currentTrack=null;const it=this.tracks.filter(ct=>!rt||rt.indexOf(ct.groupId)!==-1);if(it.length)this.selectDefaultTrack&&!it.some(ct=>ct.default)&&(this.selectDefaultTrack=!1),it.forEach((ct,ut)=>{ct.id=ut});else if(!st&&!this.tracksInGroup.length)return;this.tracksInGroup=it;const at=this.hls.config.subtitlePreference;if(!st&&at){this.selectDefaultTrack=!1;const ct=findMatchingOption(at,it);if(ct>-1)st=it[ct];else{const ut=findMatchingOption(at,this.tracks);st=this.tracks[ut]}}let ot=this.findTrackId(st);ot===-1&&st&&(ot=this.findTrackId(null));const lt={subtitleTracks:it};this.log(`Updating subtitle tracks, ${it.length} track(s) found in "${rt==null?void 0:rt.join(",")}" group-id`),this.hls.trigger(Events.SUBTITLE_TRACKS_UPDATED,lt),ot!==-1&&this.trackId===-1&&this.setSubtitleTrack(ot)}}findTrackId(_e){const tt=this.tracksInGroup,rt=this.selectDefaultTrack;for(let nt=0;nt<tt.length;nt++){const st=tt[nt];if(!(rt&&!st.default||!rt&&!_e)&&(!_e||matchesOption(st,_e)))return nt}if(_e){for(let nt=0;nt<tt.length;nt++){const st=tt[nt];if(mediaAttributesIdentical(_e.attrs,st.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return nt}for(let nt=0;nt<tt.length;nt++){const st=tt[nt];if(mediaAttributesIdentical(_e.attrs,st.attrs,["LANGUAGE"]))return nt}}return-1}findTrackForTextTrack(_e){if(_e){const tt=this.tracksInGroup;for(let rt=0;rt<tt.length;rt++){const nt=tt[rt];if(subtitleTrackMatchesTextTrack(nt,_e))return rt}}return-1}onError(_e,tt){tt.fatal||!tt.context||tt.context.type===PlaylistContextType.SUBTITLE_TRACK&&tt.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(tt.context.groupId)!==-1)&&this.checkRetry(tt)}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(_e){this.selectDefaultTrack=!1,this.setSubtitleTrack(_e)}setSubtitleOption(_e){if(this.hls.config.subtitlePreference=_e,_e){if(_e.id===-1)return this.setSubtitleTrack(-1),null;const tt=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,tt.length){const rt=this.currentTrack;if(rt&&matchesOption(_e,rt))return rt;const nt=findMatchingOption(_e,this.tracksInGroup);if(nt>-1){const st=this.tracksInGroup[nt];return this.setSubtitleTrack(nt),st}else{if(rt)return null;{const st=findMatchingOption(_e,tt);if(st>-1)return tt[st]}}}}return null}loadPlaylist(_e){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentTrack)&&this.scheduleLoading(this.currentTrack,_e)}loadingPlaylist(_e,tt){super.loadingPlaylist(_e,tt);const rt=_e.id,nt=_e.groupId,st=this.getUrlWithDirectives(_e.url,tt),it=_e.details,at=it==null?void 0:it.age;this.log(`Loading subtitle ${rt} "${_e.name}" lang:${_e.lang} group:${nt}${(tt==null?void 0:tt.msn)!==void 0?" at sn "+tt.msn+" part "+tt.part:""}${at&&it.live?" age "+at.toFixed(1)+(it.type&&" "+it.type||""):""} ${st}`),this.hls.trigger(Events.SUBTITLE_TRACK_LOADING,{url:st,id:rt,groupId:nt,deliveryDirectives:tt||null,track:_e})}toggleTrackModes(){const{media:_e}=this;if(!_e)return;const tt=filterSubtitleTracks(_e.textTracks),rt=this.currentTrack;let nt;if(rt&&(nt=tt.filter(st=>subtitleTrackMatchesTextTrack(rt,st))[0],nt||this.warn(`Unable to find subtitle TextTrack with name "${rt.name}" and language "${rt.lang}"`)),[].slice.call(tt).forEach(st=>{st.mode!=="disabled"&&st!==nt&&(st.mode="disabled")}),nt){const st=this.subtitleDisplay?"showing":"hidden";nt.mode!==st&&(nt.mode=st)}}setSubtitleTrack(_e){const tt=this.tracksInGroup;if(!this.media){this.queuedDefaultTrack=_e;return}if(_e<-1||_e>=tt.length||!isFiniteNumber(_e)){this.warn(`Invalid subtitle track id: ${_e}`);return}this.selectDefaultTrack=!1;const rt=this.currentTrack,nt=tt[_e]||null;if(this.trackId=_e,this.currentTrack=nt,this.toggleTrackModes(),!nt){this.hls.trigger(Events.SUBTITLE_TRACK_SWITCH,{id:_e});return}const st=!!nt.details&&!nt.details.live;if(_e===this.trackId&&nt===rt&&st)return;this.log(`Switching to subtitle-track ${_e}`+(nt?` "${nt.name}" lang:${nt.lang} group:${nt.groupId}`:""));const{id:it,groupId:at="",name:ot,type:lt,url:ct}=nt;this.hls.trigger(Events.SUBTITLE_TRACK_SWITCH,{id:it,groupId:at,name:ot,type:lt,url:ct});const ut=this.switchParams(nt.url,rt==null?void 0:rt.details,nt.details);this.loadPlaylist(ut)}}function uuid(){try{return crypto.randomUUID()}catch{try{const _e=URL.createObjectURL(new Blob),tt=_e.toString();return URL.revokeObjectURL(_e),tt.slice(tt.lastIndexOf("/")+1)}catch{let tt=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,nt=>{const st=(tt+Math.random()*16)%16|0;return tt=Math.floor(tt/16),(nt=="x"?st:st&3|8).toString(16)})}}}function hash(et){let _e=5381,tt=et.length;for(;tt;)_e=_e*33^et.charCodeAt(--tt);return(_e>>>0).toString()}const ALIGNED_END_THRESHOLD_SECONDS=.025;let TimelineOccupancy=function(et){return et[et.Point=0]="Point",et[et.Range=1]="Range",et}({});function generateAssetIdentifier(et,_e,tt){return`${et.identifier}-${tt+1}-${hash(_e)}`}class InterstitialEvent{constructor(_e,tt){this.base=void 0,this._duration=null,this._timelineStart=null,this.appendInPlaceDisabled=void 0,this.appendInPlaceStarted=void 0,this.dateRange=void 0,this.hasPlayed=!1,this.cumulativeDuration=0,this.resumeOffset=NaN,this.playoutLimit=NaN,this.restrictions={skip:!1,jump:!1},this.snapOptions={out:!1,in:!1},this.assetList=[],this.assetListLoader=void 0,this.assetListResponse=null,this.resumeAnchor=void 0,this.error=void 0,this.resetOnResume=void 0,this.base=tt,this.dateRange=_e,this.setDateRange(_e)}setDateRange(_e){this.dateRange=_e,this.resumeOffset=_e.attr.optionalFloat("X-RESUME-OFFSET",this.resumeOffset),this.playoutLimit=_e.attr.optionalFloat("X-PLAYOUT-LIMIT",this.playoutLimit),this.restrictions=_e.attr.enumeratedStringList("X-RESTRICT",this.restrictions),this.snapOptions=_e.attr.enumeratedStringList("X-SNAP",this.snapOptions)}reset(){var _e;this.appendInPlaceStarted=!1,(_e=this.assetListLoader)==null||_e.destroy(),this.assetListLoader=void 0,this.supplementsPrimary||(this.assetListResponse=null,this.assetList=[],this._duration=null)}isAssetPastPlayoutLimit(_e){var tt;if(_e>0&&_e>=this.assetList.length)return!0;const rt=this.playoutLimit;return _e<=0||isNaN(rt)?!1:rt===0?!0:(((tt=this.assetList[_e])==null?void 0:tt.startOffset)||0)>rt}findAssetIndex(_e){return this.assetList.indexOf(_e)}get identifier(){return this.dateRange.id}get startDate(){return this.dateRange.startDate}get startTime(){const _e=this.dateRange.startTime;if(this.snapOptions.out){const tt=this.dateRange.tagAnchor;if(tt)return getSnapToFragmentTime(_e,tt)}return _e}get startOffset(){return this.cue.pre?0:this.startTime}get startIsAligned(){if(this.startTime===0||this.snapOptions.out)return!0;const _e=this.dateRange.tagAnchor;if(_e){const tt=this.dateRange.startTime,rt=getSnapToFragmentTime(tt,_e);return tt-rt<.1}return!1}get resumptionOffset(){const _e=this.resumeOffset,tt=isFiniteNumber(_e)?_e:this.duration;return this.cumulativeDuration+tt}get resumeTime(){const _e=this.startOffset+this.resumptionOffset;if(this.snapOptions.in){const tt=this.resumeAnchor;if(tt)return getSnapToFragmentTime(_e,tt)}return _e}get appendInPlace(){return this.appendInPlaceStarted?!0:this.appendInPlaceDisabled?!1:!!(!this.cue.once&&!this.cue.pre&&this.startIsAligned&&(isNaN(this.playoutLimit)&&isNaN(this.resumeOffset)||this.resumeOffset&&this.duration&&Math.abs(this.resumeOffset-this.duration)<ALIGNED_END_THRESHOLD_SECONDS))}set appendInPlace(_e){if(this.appendInPlaceStarted){this.resetOnResume=!_e;return}this.appendInPlaceDisabled=!_e}get timelineStart(){return this._timelineStart!==null?this._timelineStart:this.startTime}set timelineStart(_e){this._timelineStart=_e}get duration(){const _e=this.playoutLimit;let tt;return this._duration!==null?tt=this._duration:this.dateRange.duration?tt=this.dateRange.duration:tt=this.dateRange.plannedDuration||0,!isNaN(_e)&&_e<tt&&(tt=_e),tt}set duration(_e){this._duration=_e}get cue(){return this.dateRange.cue}get timelineOccupancy(){return this.dateRange.attr["X-TIMELINE-OCCUPIES"]==="RANGE"?TimelineOccupancy.Range:TimelineOccupancy.Point}get supplementsPrimary(){return this.dateRange.attr["X-TIMELINE-STYLE"]==="PRIMARY"}get contentMayVary(){return this.dateRange.attr["X-CONTENT-MAY-VARY"]!=="NO"}get assetUrl(){return this.dateRange.attr["X-ASSET-URI"]}get assetListUrl(){return this.dateRange.attr["X-ASSET-LIST"]}get baseUrl(){return this.base.url}get assetListLoaded(){return this.assetList.length>0||this.assetListResponse!==null}toString(){return eventToString(this)}}function getSnapToFragmentTime(et,_e){return et-_e.start<_e.duration/2&&!(Math.abs(et-(_e.start+_e.duration))<ALIGNED_END_THRESHOLD_SECONDS)?_e.start:_e.start+_e.duration}function getInterstitialUrl(et,_e,tt){const rt=new self.URL(et,tt);return rt.protocol!=="data:"&&rt.searchParams.set("_HLS_primary_id",_e),rt}function getNextAssetIndex(et,_e){for(;(tt=et.assetList[++_e])!=null&&tt.error;)var tt;return _e}function eventToString(et){return`["${et.identifier}" ${et.cue.pre?"<pre>":et.cue.post?"<post>":""}${et.timelineStart.toFixed(2)}-${et.resumeTime.toFixed(2)}]`}function eventAssetToString(et){const _e=et.timelineStart,tt=et.duration||0;return`["${et.identifier}" ${_e.toFixed(2)}-${(_e+tt).toFixed(2)}]`}class HlsAssetPlayer{constructor(_e,tt,rt,nt){this.hls=void 0,this.interstitial=void 0,this.assetItem=void 0,this.tracks=null,this.hasDetails=!1,this.mediaAttached=null,this._currentTime=void 0,this._bufferedEosTime=void 0,this.checkPlayout=()=>{this.reachedPlayout(this.currentTime)&&this.hls&&this.hls.trigger(Events.PLAYOUT_LIMIT_REACHED,{})};const st=this.hls=new _e(tt);this.interstitial=rt,this.assetItem=nt;const it=()=>{this.hasDetails=!0};st.once(Events.LEVEL_LOADED,it),st.once(Events.AUDIO_TRACK_LOADED,it),st.once(Events.SUBTITLE_TRACK_LOADED,it),st.on(Events.MEDIA_ATTACHING,(at,{media:ot})=>{this.removeMediaListeners(),this.mediaAttached=ot,this.interstitial.playoutLimit&&(ot.addEventListener("timeupdate",this.checkPlayout),this.appendInPlace&&st.on(Events.BUFFER_APPENDED,()=>{const ct=this.bufferedEnd;this.reachedPlayout(ct)&&(this._bufferedEosTime=ct,st.trigger(Events.BUFFERED_TO_END,void 0))}))})}get appendInPlace(){return this.interstitial.appendInPlace}loadSource(){const _e=this.hls;if(_e)if(_e.url)_e.levels.length&&!_e.started&&_e.startLoad(-1,!0);else{let tt=this.assetItem.uri;try{tt=getInterstitialUrl(tt,_e.config.primarySessionId||"").href}catch{}_e.loadSource(tt)}}bufferedInPlaceToEnd(_e){var tt;if(!this.appendInPlace)return!1;if((tt=this.hls)!=null&&tt.bufferedToEnd)return!0;if(!_e)return!1;const rt=Math.min(this._bufferedEosTime||1/0,this.duration),nt=this.timelineOffset,st=BufferHelper.bufferInfo(_e,nt,0);return this.getAssetTime(st.end)>=rt-.02}reachedPlayout(_e){const rt=this.interstitial.playoutLimit;return this.startOffset+_e>=rt}get destroyed(){var _e;return!((_e=this.hls)!=null&&_e.userConfig)}get assetId(){return this.assetItem.identifier}get interstitialId(){return this.assetItem.parentIdentifier}get media(){var _e;return((_e=this.hls)==null?void 0:_e.media)||null}get bufferedEnd(){const _e=this.media||this.mediaAttached;if(!_e)return this._bufferedEosTime?this._bufferedEosTime:this.currentTime;const tt=BufferHelper.bufferInfo(_e,_e.currentTime,.001);return this.getAssetTime(tt.end)}get currentTime(){const _e=this.media||this.mediaAttached;return _e?this.getAssetTime(_e.currentTime):this._currentTime||0}get duration(){const _e=this.assetItem.duration;if(!_e)return 0;const tt=this.interstitial.playoutLimit;if(tt){const rt=tt-this.startOffset;if(rt>0&&rt<_e)return rt}return _e}get remaining(){const _e=this.duration;return _e?Math.max(0,_e-this.currentTime):0}get startOffset(){return this.assetItem.startOffset}get timelineOffset(){var _e;return((_e=this.hls)==null?void 0:_e.config.timelineOffset)||0}set timelineOffset(_e){const tt=this.timelineOffset;if(_e!==tt){const rt=_e-tt;if(Math.abs(rt)>1/9e4&&this.hls){if(this.hasDetails)throw new Error("Cannot set timelineOffset after playlists are loaded");this.hls.config.timelineOffset=_e}}}getAssetTime(_e){const tt=this.timelineOffset,rt=this.duration;return Math.min(Math.max(0,_e-tt),rt)}removeMediaListeners(){const _e=this.mediaAttached;_e&&(this._currentTime=_e.currentTime,this.bufferSnapShot(),_e.removeEventListener("timeupdate",this.checkPlayout))}bufferSnapShot(){if(this.mediaAttached){var _e;(_e=this.hls)!=null&&_e.bufferedToEnd&&(this._bufferedEosTime=this.bufferedEnd)}}destroy(){this.removeMediaListeners(),this.hls&&this.hls.destroy(),this.hls=null,this.tracks=this.mediaAttached=this.checkPlayout=null}attachMedia(_e){var tt;this.loadSource(),(tt=this.hls)==null||tt.attachMedia(_e)}detachMedia(){var _e;this.removeMediaListeners(),this.mediaAttached=null,(_e=this.hls)==null||_e.detachMedia()}resumeBuffering(){var _e;(_e=this.hls)==null||_e.resumeBuffering()}pauseBuffering(){var _e;(_e=this.hls)==null||_e.pauseBuffering()}transferMedia(){var _e;return this.bufferSnapShot(),((_e=this.hls)==null?void 0:_e.transferMedia())||null}resetDetails(){const _e=this.hls;if(_e&&this.hasDetails){_e.stopLoad();const tt=rt=>delete rt.details;_e.levels.forEach(tt),_e.allAudioTracks.forEach(tt),_e.allSubtitleTracks.forEach(tt),this.hasDetails=!1}}on(_e,tt,rt){var nt;(nt=this.hls)==null||nt.on(_e,tt)}once(_e,tt,rt){var nt;(nt=this.hls)==null||nt.once(_e,tt)}off(_e,tt,rt){var nt;(nt=this.hls)==null||nt.off(_e,tt)}toString(){var _e;return`HlsAssetPlayer: ${eventAssetToString(this.assetItem)} ${(_e=this.hls)==null?void 0:_e.sessionId} ${this.appendInPlace?"append-in-place":""}`}}const ABUTTING_THRESHOLD_SECONDS=.033;class InterstitialsSchedule extends Logger{constructor(_e,tt){super("interstitials-sched",tt),this.onScheduleUpdate=void 0,this.eventMap={},this.events=null,this.items=null,this.durations={primary:0,playout:0,integrated:0},this.onScheduleUpdate=_e}destroy(){this.reset(),this.onScheduleUpdate=null}reset(){this.eventMap={},this.setDurations(0,0,0),this.events&&this.events.forEach(_e=>_e.reset()),this.events=this.items=null}resetErrorsInRange(_e,tt){return this.events?this.events.reduce((rt,nt)=>_e<=nt.startOffset&&tt>nt.startOffset?(delete nt.error,rt+1):rt,0):0}get duration(){const _e=this.items;return _e?_e[_e.length-1].end:0}get length(){return this.items?this.items.length:0}getEvent(_e){return _e&&this.eventMap[_e]||null}hasEvent(_e){return _e in this.eventMap}findItemIndex(_e,tt){if(_e.event)return this.findEventIndex(_e.event.identifier);let rt=-1;_e.nextEvent?rt=this.findEventIndex(_e.nextEvent.identifier)-1:_e.previousEvent&&(rt=this.findEventIndex(_e.previousEvent.identifier)+1);const nt=this.items;if(nt)for(nt[rt]||(tt===void 0&&(tt=_e.start),rt=this.findItemIndexAtTime(tt));rt>=0&&(st=nt[rt])!=null&&st.event;){var st;rt--}return rt}findItemIndexAtTime(_e,tt){const rt=this.items;if(rt)for(let nt=0;nt<rt.length;nt++){let st=rt[nt];if(tt&&tt!=="primary"&&(st=st[tt]),_e===st.start||_e>st.start&&_e<st.end)return nt}return-1}findJumpRestrictedIndex(_e,tt){const rt=this.items;if(rt)for(let nt=_e;nt<=tt&&rt[nt];nt++){const st=rt[nt].event;if(st!=null&&st.restrictions.jump&&!st.appendInPlace)return nt}return-1}findEventIndex(_e){const tt=this.items;if(tt)for(let nt=tt.length;nt--;){var rt;if(((rt=tt[nt].event)==null?void 0:rt.identifier)===_e)return nt}return-1}findAssetIndex(_e,tt){const rt=_e.assetList,nt=rt.length;if(nt>1)for(let st=0;st<nt;st++){const it=rt[st];if(!it.error){const at=it.timelineStart;if(tt===at||tt>at&&(tt<at+(it.duration||0)||st===nt-1))return st}}return 0}get assetIdAtEnd(){var _e;const tt=(_e=this.items)==null||(_e=_e[this.length-1])==null?void 0:_e.event;if(tt){const rt=tt.assetList,nt=rt[rt.length-1];if(nt)return nt.identifier}return null}parseInterstitialDateRanges(_e,tt){const rt=_e.main.details,{dateRanges:nt}=rt,st=this.events,it=this.parseDateRanges(nt,{url:rt.url},tt),at=Object.keys(nt),ot=st?st.filter(lt=>!at.includes(lt.identifier)):[];it.length&&it.sort((lt,ct)=>{const ut=lt.cue.pre,dt=lt.cue.post,ft=ct.cue.pre,ht=ct.cue.post;if(ut&&!ft)return-1;if(ft&&!ut||dt&&!ht)return 1;if(ht&&!dt)return-1;if(!ut&&!ft&&!dt&&!ht){const pt=lt.startTime,gt=ct.startTime;if(pt!==gt)return pt-gt}return lt.dateRange.tagOrder-ct.dateRange.tagOrder}),this.events=it,ot.forEach(lt=>{this.removeEvent(lt)}),this.updateSchedule(_e,ot)}updateSchedule(_e,tt=[],rt=!1){const nt=this.events||[];if(nt.length||tt.length||this.length<2){const st=this.items,it=this.parseSchedule(nt,_e);(rt||tt.length||(st==null?void 0:st.length)!==it.length||it.some((ot,lt)=>Math.abs(ot.playout.start-st[lt].playout.start)>.005||Math.abs(ot.playout.end-st[lt].playout.end)>.005))&&(this.items=it,this.onScheduleUpdate(tt,st))}}parseDateRanges(_e,tt,rt){const nt=[],st=Object.keys(_e);for(let it=0;it<st.length;it++){const at=st[it],ot=_e[at];if(ot.isInterstitial){let lt=this.eventMap[at];lt?lt.setDateRange(ot):(lt=new InterstitialEvent(ot,tt),this.eventMap[at]=lt,rt===!1&&(lt.appendInPlace=rt)),nt.push(lt)}}return nt}parseSchedule(_e,tt){const rt=[],nt=tt.main.details,st=nt.live?1/0:nt.edge;let it=0;if(_e=_e.filter(ot=>!ot.error&&!(ot.cue.once&&ot.hasPlayed)),_e.length){this.resolveOffsets(_e,tt);let ot=0,lt=0;if(_e.forEach((ct,ut)=>{const dt=ct.cue.pre,ft=ct.cue.post,ht=_e[ut-1]||null,pt=ct.appendInPlace,gt=ft?st:ct.startOffset,mt=ct.duration,bt=ct.timelineOccupancy===TimelineOccupancy.Range?mt:0,vt=ct.resumptionOffset,yt=(ht==null?void 0:ht.startTime)===gt,xt=gt+ct.cumulativeDuration;let Et=pt?xt+mt:gt+vt;if(dt||!ft&&gt<=0){const $t=lt;lt+=bt,ct.timelineStart=xt;const Tt=it;it+=mt,rt.push({event:ct,start:xt,end:Et,playout:{start:Tt,end:it},integrated:{start:$t,end:lt}})}else if(gt<=st){if(!yt){const St=gt-ot;if(St>ABUTTING_THRESHOLD_SECONDS){const Pt=ot,At=lt;lt+=St;const Rt=it;it+=St;const Ct={previousEvent:_e[ut-1]||null,nextEvent:ct,start:Pt,end:Pt+St,playout:{start:Rt,end:it},integrated:{start:At,end:lt}};rt.push(Ct)}else St>0&&ht&&(ht.cumulativeDuration+=St,rt[rt.length-1].end=gt)}ft&&(Et=xt),ct.timelineStart=xt;const $t=lt;lt+=bt;const Tt=it;it+=mt,rt.push({event:ct,start:xt,end:Et,playout:{start:Tt,end:it},integrated:{start:$t,end:lt}})}else return;const wt=ct.resumeTime;ft||wt>st?ot=st:ot=wt}),ot<st){var at;const ct=ot,ut=lt,dt=st-ot;lt+=dt;const ft=it;it+=dt,rt.push({previousEvent:((at=rt[rt.length-1])==null?void 0:at.event)||null,nextEvent:null,start:ot,end:ct+dt,playout:{start:ft,end:it},integrated:{start:ut,end:lt}})}this.setDurations(st,it,lt)}else rt.push({previousEvent:null,nextEvent:null,start:0,end:st,playout:{start:0,end:st},integrated:{start:0,end:st}}),this.setDurations(st,st,st);return rt}setDurations(_e,tt,rt){this.durations={primary:_e,playout:tt,integrated:rt}}resolveOffsets(_e,tt){const rt=tt.main.details,nt=rt.live?1/0:rt.edge;let st=0,it=-1;_e.forEach((at,ot)=>{const lt=at.cue.pre,ct=at.cue.post,ut=lt?0:ct?nt:at.startTime;this.updateAssetDurations(at),it===ut?at.cumulativeDuration=st:(st=0,it=ut),!ct&&at.snapOptions.in&&(at.resumeAnchor=findFragmentByPTS(null,rt.fragments,at.startOffset+at.resumptionOffset,0,0)||void 0),at.appendInPlace&&!at.appendInPlaceStarted&&(this.primaryCanResumeInPlaceAt(at,tt)||(at.appendInPlace=!1)),!at.appendInPlace&&ot+1<_e.length&&_e[ot+1].startTime-_e[ot].resumeTime<ABUTTING_THRESHOLD_SECONDS&&(_e[ot+1].appendInPlace=!1,_e[ot+1].appendInPlace&&this.warn(`Could not change append strategy for abutting event ${at}`));const ft=isFiniteNumber(at.resumeOffset)?at.resumeOffset:at.duration;st+=ft})}primaryCanResumeInPlaceAt(_e,tt){const rt=_e.resumeTime,nt=_e.startTime+_e.resumptionOffset;return Math.abs(rt-nt)>ALIGNED_END_THRESHOLD_SECONDS?(this.log(`"${_e.identifier}" resumption ${rt} not aligned with estimated timeline end ${nt}`),!1):!Object.keys(tt).some(it=>{const at=tt[it].details,ot=at.edge;if(rt>=ot)return this.log(`"${_e.identifier}" resumption ${rt} past ${it} playlist end ${ot}`),!1;const lt=findFragmentByPTS(null,at.fragments,rt);if(!lt)return this.log(`"${_e.identifier}" resumption ${rt} does not align with any fragments in ${it} playlist (${at.fragStart}-${at.fragmentEnd})`),!0;const ct=it==="audio"?.175:0;return Math.abs(lt.start-rt)<ALIGNED_END_THRESHOLD_SECONDS+ct||Math.abs(lt.end-rt)<ALIGNED_END_THRESHOLD_SECONDS+ct?!1:(this.log(`"${_e.identifier}" resumption ${rt} not aligned with ${it} fragment bounds (${lt.start}-${lt.end} sn: ${lt.sn} cc: ${lt.cc})`),!0)})}updateAssetDurations(_e){if(!_e.assetListLoaded)return;const tt=_e.timelineStart;let rt=0,nt=!1,st=!1;for(let it=0;it<_e.assetList.length;it++){const at=_e.assetList[it],ot=tt+rt;at.startOffset=rt,at.timelineStart=ot,nt||(nt=at.duration===null),st||(st=!!at.error);const lt=at.error?0:at.duration||0;rt+=lt}nt&&!st?_e.duration=Math.max(rt,_e.duration):_e.duration=rt}removeEvent(_e){_e.reset(),delete this.eventMap[_e.identifier]}}function segmentToString(et){return`[${et.event?'"'+et.event.identifier+'"':"primary"}: ${et.start.toFixed(2)}-${et.end.toFixed(2)}]`}class AssetListLoader{constructor(_e){this.hls=void 0,this.hls=_e}destroy(){this.hls=null}loadAssetList(_e,tt){const rt=_e.assetListUrl;let nt;try{nt=getInterstitialUrl(rt,this.hls.sessionId,_e.baseUrl)}catch(dt){const ft=this.assignAssetListError(_e,ErrorDetails.ASSET_LIST_LOAD_ERROR,dt,rt);this.hls.trigger(Events.ERROR,ft);return}tt&&nt.protocol!=="data:"&&nt.searchParams.set("_HLS_start_offset",""+tt);const st=this.hls.config,it=st.loader,at=new it(st),ot={responseType:"json",url:nt.href},lt=st.interstitialAssetListLoadPolicy.default,ct={loadPolicy:lt,timeout:lt.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},ut={onSuccess:(dt,ft,ht,pt)=>{const gt=dt.data,mt=gt==null?void 0:gt.ASSETS;if(!Array.isArray(mt)){const bt=this.assignAssetListError(_e,ErrorDetails.ASSET_LIST_PARSING_ERROR,new Error("Invalid interstitial asset list"),ht.url,ft,pt);this.hls.trigger(Events.ERROR,bt);return}_e.assetListResponse=gt,this.hls.trigger(Events.ASSET_LIST_LOADED,{event:_e,assetListResponse:gt,networkDetails:pt})},onError:(dt,ft,ht,pt)=>{const gt=this.assignAssetListError(_e,ErrorDetails.ASSET_LIST_LOAD_ERROR,new Error(`Error loading X-ASSET-LIST: HTTP status ${dt.code} ${dt.text} (${ft.url})`),ft.url,pt,ht);this.hls.trigger(Events.ERROR,gt)},onTimeout:(dt,ft,ht)=>{const pt=this.assignAssetListError(_e,ErrorDetails.ASSET_LIST_LOAD_TIMEOUT,new Error(`Timeout loading X-ASSET-LIST (${ft.url})`),ft.url,dt,ht);this.hls.trigger(Events.ERROR,pt)}};return at.load(ot,ct,ut),this.hls.trigger(Events.ASSET_LIST_LOADING,{event:_e}),at}assignAssetListError(_e,tt,rt,nt,st,it){return _e.error=rt,{type:ErrorTypes.NETWORK_ERROR,details:tt,fatal:!1,interstitial:_e,url:nt,error:rt,networkDetails:it,stats:st}}}function playWithCatch(et){et==null||et.play().catch(()=>{})}class InterstitialsController extends Logger{constructor(_e,tt){super("interstitials",_e.logger),this.HlsPlayerClass=void 0,this.hls=void 0,this.assetListLoader=void 0,this.mediaSelection=null,this.altSelection=null,this.media=null,this.detachedData=null,this.requiredTracks=null,this.manager=null,this.playerQueue=[],this.bufferedPos=-1,this.timelinePos=-1,this.schedule=void 0,this.playingItem=null,this.bufferingItem=null,this.waitingItem=null,this.endedItem=null,this.playingAsset=null,this.endedAsset=null,this.bufferingAsset=null,this.shouldPlay=!1,this.onPlay=()=>{this.shouldPlay=!0},this.onPause=()=>{this.shouldPlay=!1},this.onSeeking=()=>{const rt=this.currentTime;if(rt===void 0||this.playbackDisabled||!this.schedule)return;const nt=rt-this.timelinePos;if(Math.abs(nt)<1/7056e5)return;const it=nt<=-.01;this.timelinePos=rt,this.bufferedPos=rt;const at=this.playingItem;if(!at){this.checkBuffer();return}if(it&&this.schedule.resetErrorsInRange(rt,rt-nt)&&this.updateSchedule(!0),this.checkBuffer(),it&&rt<at.start||rt>=at.end){var ot;const ft=this.findItemIndex(at);let ht=this.schedule.findItemIndexAtTime(rt);if(ht===-1&&(ht=ft+(it?-1:1),this.log(`seeked ${it?"back ":""}to position not covered by schedule ${rt} (resolving from ${ft} to ${ht})`)),!this.isInterstitial(at)&&(ot=this.media)!=null&&ot.paused&&(this.shouldPlay=!1),!it&&ht>ft){const pt=this.schedule.findJumpRestrictedIndex(ft+1,ht);if(pt>ft){this.setSchedulePosition(pt);return}}this.setSchedulePosition(ht);return}const lt=this.playingAsset;if(!lt){if(this.playingLastItem&&this.isInterstitial(at)){const ft=at.event.assetList[0];ft&&(this.endedItem=this.playingItem,this.playingItem=null,this.setScheduleToAssetAtTime(rt,ft))}return}const ct=lt.timelineStart,ut=lt.duration||0;if(it&&rt<ct||rt>=ct+ut){var dt;(dt=at.event)!=null&&dt.appendInPlace&&(this.clearInterstitial(at.event,at),this.flushFrontBuffer(rt)),this.setScheduleToAssetAtTime(rt,lt)}},this.onTimeupdate=()=>{const rt=this.currentTime;if(rt===void 0||this.playbackDisabled)return;if(rt>this.timelinePos)this.timelinePos=rt,rt>this.bufferedPos&&this.checkBuffer();else return;const nt=this.playingItem;if(!nt||this.playingLastItem)return;if(rt>=nt.end){this.timelinePos=nt.end;const at=this.findItemIndex(nt);this.setSchedulePosition(at+1)}const st=this.playingAsset;if(!st)return;const it=st.timelineStart+(st.duration||0);rt>=it&&this.setScheduleToAssetAtTime(rt,st)},this.onScheduleUpdate=(rt,nt)=>{const st=this.schedule;if(!st)return;const it=this.playingItem,at=st.events||[],ot=st.items||[],lt=st.durations,ct=rt.map(pt=>pt.identifier),ut=!!(at.length||ct.length);(ut||nt)&&this.log(`INTERSTITIALS_UPDATED (${at.length}): ${at}
Schedule: ${ot.map(pt=>segmentToString(pt))} pos: ${this.timelinePos}`),ct.length&&this.log(`Removed events ${ct}`);let dt=null,ft=null;it&&(dt=this.updateItem(it,this.timelinePos),this.itemsMatch(it,dt)?this.playingItem=dt:this.waitingItem=this.endedItem=null),this.waitingItem=this.updateItem(this.waitingItem),this.endedItem=this.updateItem(this.endedItem);const ht=this.bufferingItem;if(ht&&(ft=this.updateItem(ht,this.bufferedPos),this.itemsMatch(ht,ft)?this.bufferingItem=ft:ht.event&&(this.bufferingItem=this.playingItem,this.clearInterstitial(ht.event,null))),rt.forEach(pt=>{pt.assetList.forEach(gt=>{this.clearAssetPlayer(gt.identifier,null)})}),this.playerQueue.forEach(pt=>{if(pt.interstitial.appendInPlace){const gt=pt.assetItem.timelineStart,mt=pt.timelineOffset-gt;if(mt)try{pt.timelineOffset=gt}catch(bt){Math.abs(mt)>ALIGNED_END_THRESHOLD_SECONDS&&this.warn(`${bt} ("${pt.assetId}" ${pt.timelineOffset}->${gt})`)}}}),ut||nt){if(this.hls.trigger(Events.INTERSTITIALS_UPDATED,{events:at.slice(0),schedule:ot.slice(0),durations:lt,removedIds:ct}),this.isInterstitial(it)&&ct.includes(it.event.identifier)){this.warn(`Interstitial "${it.event.identifier}" removed while playing`),this.primaryFallback(it.event);return}it&&this.trimInPlace(dt,it),ht&&this.trimInPlace(ft,ht),this.checkBuffer()}},this.hls=_e,this.HlsPlayerClass=tt,this.assetListLoader=new AssetListLoader(_e),this.schedule=new InterstitialsSchedule(this.onScheduleUpdate,_e.logger),this.registerListeners()}registerListeners(){const _e=this.hls;_e&&(_e.on(Events.MEDIA_ATTACHING,this.onMediaAttaching,this),_e.on(Events.MEDIA_ATTACHED,this.onMediaAttached,this),_e.on(Events.MEDIA_DETACHING,this.onMediaDetaching,this),_e.on(Events.MANIFEST_LOADING,this.onManifestLoading,this),_e.on(Events.LEVEL_UPDATED,this.onLevelUpdated,this),_e.on(Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),_e.on(Events.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),_e.on(Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),_e.on(Events.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),_e.on(Events.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),_e.on(Events.ASSET_LIST_LOADED,this.onAssetListLoaded,this),_e.on(Events.BUFFER_APPENDED,this.onBufferAppended,this),_e.on(Events.BUFFER_FLUSHED,this.onBufferFlushed,this),_e.on(Events.BUFFERED_TO_END,this.onBufferedToEnd,this),_e.on(Events.MEDIA_ENDED,this.onMediaEnded,this),_e.on(Events.ERROR,this.onError,this),_e.on(Events.DESTROYING,this.onDestroying,this))}unregisterListeners(){const _e=this.hls;_e&&(_e.off(Events.MEDIA_ATTACHING,this.onMediaAttaching,this),_e.off(Events.MEDIA_ATTACHED,this.onMediaAttached,this),_e.off(Events.MEDIA_DETACHING,this.onMediaDetaching,this),_e.off(Events.MANIFEST_LOADING,this.onManifestLoading,this),_e.off(Events.LEVEL_UPDATED,this.onLevelUpdated,this),_e.off(Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),_e.off(Events.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),_e.off(Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),_e.off(Events.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),_e.off(Events.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),_e.off(Events.ASSET_LIST_LOADED,this.onAssetListLoaded,this),_e.off(Events.BUFFER_CODECS,this.onBufferCodecs,this),_e.off(Events.BUFFER_APPENDED,this.onBufferAppended,this),_e.off(Events.BUFFER_FLUSHED,this.onBufferFlushed,this),_e.off(Events.BUFFERED_TO_END,this.onBufferedToEnd,this),_e.off(Events.MEDIA_ENDED,this.onMediaEnded,this),_e.off(Events.ERROR,this.onError,this),_e.off(Events.DESTROYING,this.onDestroying,this))}startLoad(){this.resumeBuffering()}stopLoad(){this.pauseBuffering()}resumeBuffering(){var _e;(_e=this.getBufferingPlayer())==null||_e.resumeBuffering()}pauseBuffering(){var _e;(_e=this.getBufferingPlayer())==null||_e.pauseBuffering()}destroy(){this.unregisterListeners(),this.stopLoad(),this.assetListLoader&&this.assetListLoader.destroy(),this.emptyPlayerQueue(),this.clearScheduleState(),this.schedule&&this.schedule.destroy(),this.media=this.detachedData=this.mediaSelection=this.requiredTracks=this.altSelection=this.schedule=this.manager=null,this.hls=this.HlsPlayerClass=this.log=null,this.assetListLoader=null,this.onPlay=this.onPause=this.onSeeking=this.onTimeupdate=null,this.onScheduleUpdate=null}onDestroying(){const _e=this.primaryMedia||this.media;_e&&this.removeMediaListeners(_e)}removeMediaListeners(_e){removeEventListener$1(_e,"play",this.onPlay),removeEventListener$1(_e,"pause",this.onPause),removeEventListener$1(_e,"seeking",this.onSeeking),removeEventListener$1(_e,"timeupdate",this.onTimeupdate)}onMediaAttaching(_e,tt){const rt=this.media=tt.media;addEventListener$1(rt,"seeking",this.onSeeking),addEventListener$1(rt,"timeupdate",this.onTimeupdate),addEventListener$1(rt,"play",this.onPlay),addEventListener$1(rt,"pause",this.onPause)}onMediaAttached(_e,tt){const rt=this.effectivePlayingItem,nt=this.detachedData;if(this.detachedData=null,rt===null)this.checkStart();else if(!nt){this.clearScheduleState();const st=this.findItemIndex(rt);this.setSchedulePosition(st)}}clearScheduleState(){this.playingItem=this.bufferingItem=this.waitingItem=this.endedItem=this.playingAsset=this.endedAsset=this.bufferingAsset=null}onMediaDetaching(_e,tt){const rt=!!tt.transferMedia,nt=this.media;if(this.media=null,!rt&&(nt&&this.removeMediaListeners(nt),this.detachedData)){const st=this.getBufferingPlayer();st&&(this.playingAsset=this.endedAsset=this.bufferingAsset=this.bufferingItem=this.waitingItem=this.detachedData=null,st.detachMedia()),this.shouldPlay=!1}}get interstitialsManager(){if(!this.hls)return null;if(this.manager)return this.manager;const _e=this,tt=()=>_e.bufferingItem||_e.waitingItem,rt=ut=>ut&&_e.getAssetPlayer(ut.identifier),nt=(ut,dt,ft,ht,pt)=>{if(ut){let gt=ut[dt].start;const mt=ut.event;if(mt){if(dt==="playout"||mt.timelineOccupancy!==TimelineOccupancy.Point){const bt=rt(ft);(bt==null?void 0:bt.interstitial)===mt&&(gt+=bt.assetItem.startOffset+bt[pt])}}else{const bt=ht==="bufferedPos"?it():_e[ht];gt+=bt-ut.start}return gt}return 0},st=(ut,dt)=>{var ft;if(ut!==0&&dt!=="primary"&&(ft=_e.schedule)!=null&&ft.length){var ht;const pt=_e.schedule.findItemIndexAtTime(ut),gt=(ht=_e.schedule.items)==null?void 0:ht[pt];if(gt){const mt=gt[dt].start-gt.start;return ut+mt}}return ut},it=()=>{const ut=_e.bufferedPos;return ut===Number.MAX_VALUE?at("primary"):Math.max(ut,0)},at=ut=>{var dt,ft;return(dt=_e.primaryDetails)!=null&&dt.live?_e.primaryDetails.edge:((ft=_e.schedule)==null?void 0:ft.durations[ut])||0},ot=(ut,dt)=>{var ft,ht;const pt=_e.effectivePlayingItem;if(pt!=null&&(ft=pt.event)!=null&&ft.restrictions.skip||!_e.schedule)return;_e.log(`seek to ${ut} "${dt}"`);const gt=_e.effectivePlayingItem,mt=_e.schedule.findItemIndexAtTime(ut,dt),bt=(ht=_e.schedule.items)==null?void 0:ht[mt],vt=_e.getBufferingPlayer(),yt=vt==null?void 0:vt.interstitial,xt=yt==null?void 0:yt.appendInPlace,Et=gt&&_e.itemsMatch(gt,bt);if(gt&&(xt||Et)){const wt=rt(_e.playingAsset),$t=(wt==null?void 0:wt.media)||_e.primaryMedia;if($t){const Tt=dt==="primary"?$t.currentTime:nt(gt,dt,_e.playingAsset,"timelinePos","currentTime"),St=ut-Tt,Pt=(xt?Tt:$t.currentTime)+St;if(Pt>=0&&(!wt||xt||Pt<=wt.duration)){$t.currentTime=Pt;return}}}if(bt){let wt=ut;if(dt!=="primary"){const Tt=bt[dt].start,St=ut-Tt;wt=bt.start+St}const $t=!_e.isInterstitial(bt);if((!_e.isInterstitial(gt)||gt.event.appendInPlace)&&($t||bt.event.appendInPlace)){const Tt=_e.media||(xt?vt==null?void 0:vt.media:null);Tt&&(Tt.currentTime=wt)}else if(gt){const Tt=_e.findItemIndex(gt);if(mt>Tt){const Pt=_e.schedule.findJumpRestrictedIndex(Tt+1,mt);if(Pt>Tt){_e.setSchedulePosition(Pt);return}}let St=0;if($t)_e.timelinePos=wt,_e.checkBuffer();else{const Pt=bt.event.assetList,At=ut-(bt[dt]||bt).start;for(let Rt=Pt.length;Rt--;){const Ct=Pt[Rt];if(Ct.duration&&At>=Ct.startOffset&&At<Ct.startOffset+Ct.duration){St=Rt;break}}}_e.setSchedulePosition(mt,St)}}},lt=()=>{const ut=_e.effectivePlayingItem;if(_e.isInterstitial(ut))return ut;const dt=tt();return _e.isInterstitial(dt)?dt:null},ct={get bufferedEnd(){const ut=tt(),dt=_e.bufferingItem;if(dt&&dt===ut){var ft;return nt(dt,"playout",_e.bufferingAsset,"bufferedPos","bufferedEnd")-dt.playout.start||((ft=_e.bufferingAsset)==null?void 0:ft.startOffset)||0}return 0},get currentTime(){const ut=lt(),dt=_e.effectivePlayingItem;return dt&&dt===ut?nt(dt,"playout",_e.effectivePlayingAsset,"timelinePos","currentTime")-dt.playout.start:0},set currentTime(ut){const dt=lt(),ft=_e.effectivePlayingItem;ft&&ft===dt&&ot(ut+ft.playout.start,"playout")},get duration(){const ut=lt();return ut?ut.playout.end-ut.playout.start:0},get assetPlayers(){var ut;const dt=(ut=lt())==null?void 0:ut.event.assetList;return dt?dt.map(ft=>_e.getAssetPlayer(ft.identifier)):[]},get playingIndex(){var ut;const dt=(ut=lt())==null?void 0:ut.event;return dt&&_e.effectivePlayingAsset?dt.findAssetIndex(_e.effectivePlayingAsset):-1},get scheduleItem(){return lt()}};return this.manager={get events(){var ut;return((ut=_e.schedule)==null||(ut=ut.events)==null?void 0:ut.slice(0))||[]},get schedule(){var ut;return((ut=_e.schedule)==null||(ut=ut.items)==null?void 0:ut.slice(0))||[]},get interstitialPlayer(){return lt()?ct:null},get playerQueue(){return _e.playerQueue.slice(0)},get bufferingAsset(){return _e.bufferingAsset},get bufferingItem(){return tt()},get bufferingIndex(){const ut=tt();return _e.findItemIndex(ut)},get playingAsset(){return _e.effectivePlayingAsset},get playingItem(){return _e.effectivePlayingItem},get playingIndex(){const ut=_e.effectivePlayingItem;return _e.findItemIndex(ut)},primary:{get bufferedEnd(){return it()},get currentTime(){const ut=_e.timelinePos;return ut>0?ut:0},set currentTime(ut){ot(ut,"primary")},get duration(){return at("primary")},get seekableStart(){var ut;return((ut=_e.primaryDetails)==null?void 0:ut.fragmentStart)||0}},integrated:{get bufferedEnd(){return nt(tt(),"integrated",_e.bufferingAsset,"bufferedPos","bufferedEnd")},get currentTime(){return nt(_e.effectivePlayingItem,"integrated",_e.effectivePlayingAsset,"timelinePos","currentTime")},set currentTime(ut){ot(ut,"integrated")},get duration(){return at("integrated")},get seekableStart(){var ut;return st(((ut=_e.primaryDetails)==null?void 0:ut.fragmentStart)||0,"integrated")}},skip:()=>{const ut=_e.effectivePlayingItem,dt=ut==null?void 0:ut.event;if(dt&&!dt.restrictions.skip){const ft=_e.findItemIndex(ut);if(dt.appendInPlace){const ht=ut.playout.start+ut.event.duration;ot(ht+.001,"playout")}else _e.advanceAfterAssetEnded(dt,ft,1/0)}}}}get effectivePlayingItem(){return this.waitingItem||this.playingItem||this.endedItem}get effectivePlayingAsset(){return this.playingAsset||this.endedAsset}get playingLastItem(){var _e;const tt=this.playingItem,rt=(_e=this.schedule)==null?void 0:_e.items;return!this.playbackStarted||!tt||!rt?!1:this.findItemIndex(tt)===rt.length-1}get playbackStarted(){return this.effectivePlayingItem!==null}get currentTime(){var _e,tt;if(this.mediaSelection===null)return;const rt=this.waitingItem||this.playingItem;if(this.isInterstitial(rt)&&!rt.event.appendInPlace)return;let nt=this.media;!nt&&(_e=this.bufferingItem)!=null&&(_e=_e.event)!=null&&_e.appendInPlace&&(nt=this.primaryMedia);const st=(tt=nt)==null?void 0:tt.currentTime;if(!(st===void 0||!isFiniteNumber(st)))return st}get primaryMedia(){var _e;return this.media||((_e=this.detachedData)==null?void 0:_e.media)||null}isInterstitial(_e){return!!(_e!=null&&_e.event)}retreiveMediaSource(_e,tt){const rt=this.getAssetPlayer(_e);rt&&this.transferMediaFromPlayer(rt,tt)}transferMediaFromPlayer(_e,tt){const rt=_e.interstitial.appendInPlace,nt=_e.media;if(rt&&nt===this.primaryMedia){if(this.bufferingAsset=null,(!tt||this.isInterstitial(tt)&&!tt.event.appendInPlace)&&tt&&nt){this.detachedData={media:nt};return}const st=_e.transferMedia();this.log(`transfer MediaSource from ${_e} ${stringify(st)}`),this.detachedData=st}else tt&&nt&&(this.shouldPlay||(this.shouldPlay=!nt.paused))}transferMediaTo(_e,tt){var rt,nt;if(_e.media===tt)return;let st=null;const it=this.hls,at=_e!==it,ot=at&&_e.interstitial.appendInPlace,lt=(rt=this.detachedData)==null?void 0:rt.mediaSource;let ct;if(it.media)ot&&(st=it.transferMedia(),this.detachedData=st),ct="Primary";else if(lt){const ht=this.getBufferingPlayer();ht?(st=ht.transferMedia(),ct=`${ht}`):ct="detached MediaSource"}else ct="detached media";if(!st){if(lt)st=this.detachedData,this.log(`using detachedData: MediaSource ${stringify(st)}`);else if(!this.detachedData||it.media===tt){const ht=this.playerQueue;ht.length>1&&ht.forEach(pt=>{if(at&&pt.interstitial.appendInPlace!==ot){const gt=pt.interstitial;this.clearInterstitial(pt.interstitial,null),gt.appendInPlace=!1,gt.appendInPlace&&this.warn(`Could not change append strategy for queued assets ${gt}`)}}),this.hls.detachMedia(),this.detachedData={media:tt}}}const ut=st&&"mediaSource"in st&&((nt=st.mediaSource)==null?void 0:nt.readyState)!=="closed",dt=ut&&st?st:tt;this.log(`${ut?"transfering MediaSource":"attaching media"} to ${at?_e:"Primary"} from ${ct} (media.currentTime: ${tt.currentTime})`);const ft=this.schedule;if(dt===st&&ft){const ht=at&&_e.assetId===ft.assetIdAtEnd;dt.overrides={duration:ft.duration,endOfStream:!at||ht,cueRemoval:!at}}_e.attachMedia(dt)}onInterstitialCueEnter(){this.onTimeupdate()}checkStart(){const _e=this.schedule,tt=_e==null?void 0:_e.events;if(!tt||this.playbackDisabled||!this.media)return;this.bufferedPos===-1&&(this.bufferedPos=0);const rt=this.timelinePos,nt=this.effectivePlayingItem;if(rt===-1){const st=this.hls.startPosition;if(this.timelinePos=st,tt.length&&tt[0].cue.pre){const it=_e.findEventIndex(tt[0].identifier);this.setSchedulePosition(it)}else if(st>=0||!this.primaryLive){const it=this.timelinePos=st>0?st:0,at=_e.findItemIndexAtTime(it);this.setSchedulePosition(at)}}else if(nt&&!this.playingItem){const st=_e.findItemIndex(nt);this.setSchedulePosition(st)}}advanceAssetBuffering(_e,tt){const rt=_e.event,nt=rt.findAssetIndex(tt),st=getNextAssetIndex(rt,nt);if(!rt.isAssetPastPlayoutLimit(st))this.bufferedToEvent(_e,st);else if(this.schedule){var it;const at=(it=this.schedule.items)==null?void 0:it[this.findItemIndex(_e)+1];at&&this.bufferedToItem(at)}}advanceAfterAssetEnded(_e,tt,rt){const nt=getNextAssetIndex(_e,rt);if(_e.isAssetPastPlayoutLimit(nt)){if(this.schedule){const st=this.schedule.items;if(st){const it=tt+1,at=st.length;if(it>=at){this.setSchedulePosition(-1);return}const ot=_e.resumeTime;this.timelinePos<ot&&(this.timelinePos=ot,_e.appendInPlace&&this.advanceInPlace(ot),this.checkBuffer(this.bufferedPos<ot)),this.setSchedulePosition(it)}}}else{if(_e.appendInPlace){const st=_e.assetList[nt];st&&this.advanceInPlace(st.timelineStart)}this.setSchedulePosition(tt,nt)}}setScheduleToAssetAtTime(_e,tt){const rt=this.schedule;if(!rt)return;const nt=tt.parentIdentifier,st=rt.getEvent(nt);if(st){const it=rt.findEventIndex(nt),at=rt.findAssetIndex(st,_e);this.advanceAfterAssetEnded(st,it,at-1)}}setSchedulePosition(_e,tt){var rt;const nt=(rt=this.schedule)==null?void 0:rt.items;if(!nt||this.playbackDisabled)return;const st=_e>=0?nt[_e]:null;this.log(`setSchedulePosition ${_e}, ${tt} (${st&&segmentToString(st)})`);const it=this.waitingItem||this.playingItem,at=this.playingLastItem;if(this.isInterstitial(it)){const ct=it.event,ut=this.playingAsset,dt=ut==null?void 0:ut.identifier,ft=dt?this.getAssetPlayer(dt):null;if(ft&&dt&&(!this.eventItemsMatch(it,st)||tt!==void 0&&dt!==ct.assetList[tt].identifier)){var ot;const ht=ct.findAssetIndex(ut);if(this.log(`INTERSTITIAL_ASSET_ENDED ${ht+1}/${ct.assetList.length} ${eventAssetToString(ut)}`),this.endedAsset=ut,this.playingAsset=null,this.hls.trigger(Events.INTERSTITIAL_ASSET_ENDED,{asset:ut,assetListIndex:ht,event:ct,schedule:nt.slice(0),scheduleIndex:_e,player:ft}),it!==this.playingItem){this.itemsMatch(it,this.playingItem)&&!this.playingAsset&&this.advanceAfterAssetEnded(ct,this.findItemIndex(this.playingItem),ht);return}this.retreiveMediaSource(dt,st),ft.media&&!((ot=this.detachedData)!=null&&ot.mediaSource)&&ft.detachMedia()}if(!this.eventItemsMatch(it,st)&&(this.endedItem=it,this.playingItem=null,this.log(`INTERSTITIAL_ENDED ${ct} ${segmentToString(it)}`),ct.hasPlayed=!0,this.hls.trigger(Events.INTERSTITIAL_ENDED,{event:ct,schedule:nt.slice(0),scheduleIndex:_e}),ct.cue.once)){var lt;this.updateSchedule();const ht=(lt=this.schedule)==null?void 0:lt.items;if(st&&ht){const pt=this.findItemIndex(st);this.advanceSchedule(pt,ht,tt,it,at)}return}}this.advanceSchedule(_e,nt,tt,it,at)}advanceSchedule(_e,tt,rt,nt,st){const it=this.schedule;if(!it)return;const at=_e>=0?tt[_e]:null,ot=this.primaryMedia,lt=this.playerQueue;if(lt.length&&lt.forEach(ct=>{const ut=ct.interstitial,dt=it.findEventIndex(ut.identifier);(dt<_e||dt>_e+1)&&this.clearInterstitial(ut,at)}),this.isInterstitial(at)){this.timelinePos=Math.min(Math.max(this.timelinePos,at.start),at.end);const ct=at.event;if(rt===void 0){rt=it.findAssetIndex(ct,this.timelinePos);const ht=getNextAssetIndex(ct,rt-1);if(ct.isAssetPastPlayoutLimit(ht)||ct.appendInPlace&&this.timelinePos===at.end){this.advanceAfterAssetEnded(ct,_e,rt);return}rt=ht}const ut=this.waitingItem;this.assetsBuffered(at,ot)||this.setBufferingItem(at);let dt=this.preloadAssets(ct,rt);if(this.eventItemsMatch(at,ut||nt)||(this.waitingItem=at,this.log(`INTERSTITIAL_STARTED ${segmentToString(at)} ${ct.appendInPlace?"append in place":""}`),this.hls.trigger(Events.INTERSTITIAL_STARTED,{event:ct,schedule:tt.slice(0),scheduleIndex:_e})),!ct.assetListLoaded){this.log(`Waiting for ASSET-LIST to complete loading ${ct}`);return}if(ct.assetListLoader&&(ct.assetListLoader.destroy(),ct.assetListLoader=void 0),!ot){this.log(`Waiting for attachMedia to start Interstitial ${ct}`);return}this.waitingItem=this.endedItem=null,this.playingItem=at;const ft=ct.assetList[rt];if(!ft){this.advanceAfterAssetEnded(ct,_e,rt||0);return}if(dt||(dt=this.getAssetPlayer(ft.identifier)),dt===null||dt.destroyed){const ht=ct.assetList.length;this.warn(`asset ${rt+1}/${ht} player destroyed ${ct}`),dt=this.createAssetPlayer(ct,ft,rt),dt.loadSource()}if(!this.eventItemsMatch(at,this.bufferingItem)&&ct.appendInPlace&&this.isAssetBuffered(ft))return;this.startAssetPlayer(dt,rt,tt,_e,ot),this.shouldPlay&&playWithCatch(dt.media)}else at!==null?(this.resumePrimary(at,_e,nt),this.shouldPlay&&playWithCatch(this.hls.media)):st&&this.isInterstitial(nt)&&(this.endedItem=null,this.playingItem=nt,nt.event.appendInPlace||this.attachPrimary(it.durations.primary,null))}get playbackDisabled(){return this.hls.config.enableInterstitialPlayback===!1}get primaryDetails(){var _e;return(_e=this.mediaSelection)==null?void 0:_e.main.details}get primaryLive(){var _e;return!!((_e=this.primaryDetails)!=null&&_e.live)}resumePrimary(_e,tt,rt){var nt,st;if(this.playingItem=_e,this.playingAsset=this.endedAsset=null,this.waitingItem=this.endedItem=null,this.bufferedToItem(_e),this.log(`resuming ${segmentToString(_e)}`),!((nt=this.detachedData)!=null&&nt.mediaSource)){let at=this.timelinePos;(at<_e.start||at>=_e.end)&&(at=this.getPrimaryResumption(_e,tt),this.timelinePos=at),this.attachPrimary(at,_e)}if(!rt)return;const it=(st=this.schedule)==null?void 0:st.items;it&&(this.log(`INTERSTITIALS_PRIMARY_RESUMED ${segmentToString(_e)}`),this.hls.trigger(Events.INTERSTITIALS_PRIMARY_RESUMED,{schedule:it.slice(0),scheduleIndex:tt}),this.checkBuffer())}getPrimaryResumption(_e,tt){const rt=_e.start;if(this.primaryLive){const nt=this.primaryDetails;if(tt===0)return this.hls.startPosition;if(nt&&(rt<nt.fragmentStart||rt>nt.edge))return this.hls.liveSyncPosition||-1}return rt}isAssetBuffered(_e){const tt=this.getAssetPlayer(_e.identifier);return tt!=null&&tt.hls?tt.hls.bufferedToEnd:BufferHelper.bufferInfo(this.primaryMedia,this.timelinePos,0).end+1>=_e.timelineStart+(_e.duration||0)}attachPrimary(_e,tt,rt){tt?this.setBufferingItem(tt):this.bufferingItem=this.playingItem,this.bufferingAsset=null;const nt=this.primaryMedia;if(!nt)return;const st=this.hls;st.media?this.checkBuffer():(this.transferMediaTo(st,nt),rt&&this.startLoadingPrimaryAt(_e,rt)),rt||(this.timelinePos=_e,this.startLoadingPrimaryAt(_e,rt))}startLoadingPrimaryAt(_e,tt){var rt;const nt=this.hls;!nt.loadingEnabled||!nt.media||Math.abs((((rt=nt.mainForwardBufferInfo)==null?void 0:rt.start)||nt.media.currentTime)-_e)>.5?nt.startLoad(_e,tt):nt.bufferingEnabled||nt.resumeBuffering()}onManifestLoading(){var _e;this.stopLoad(),(_e=this.schedule)==null||_e.reset(),this.emptyPlayerQueue(),this.clearScheduleState(),this.shouldPlay=!1,this.bufferedPos=this.timelinePos=-1,this.mediaSelection=this.altSelection=this.manager=this.requiredTracks=null,this.hls.off(Events.BUFFER_CODECS,this.onBufferCodecs,this),this.hls.on(Events.BUFFER_CODECS,this.onBufferCodecs,this)}onLevelUpdated(_e,tt){if(tt.level===-1||!this.schedule)return;const rt=this.hls.levels[tt.level],nt=_objectSpread2(_objectSpread2({},this.mediaSelection||this.altSelection),{},{main:rt});this.mediaSelection=nt,this.schedule.parseInterstitialDateRanges(nt,this.hls.config.interstitialAppendInPlace),!this.effectivePlayingItem&&this.schedule.items&&this.checkStart()}onAudioTrackUpdated(_e,tt){const rt=this.hls.audioTracks[tt.id],nt=this.mediaSelection;if(!nt){this.altSelection=_objectSpread2(_objectSpread2({},this.altSelection),{},{audio:rt});return}const st=_objectSpread2(_objectSpread2({},nt),{},{audio:rt});this.mediaSelection=st}onSubtitleTrackUpdated(_e,tt){const rt=this.hls.subtitleTracks[tt.id],nt=this.mediaSelection;if(!nt){this.altSelection=_objectSpread2(_objectSpread2({},this.altSelection),{},{subtitles:rt});return}const st=_objectSpread2(_objectSpread2({},nt),{},{subtitles:rt});this.mediaSelection=st}onAudioTrackSwitching(_e,tt){const rt=getBasicSelectionOption(tt);this.playerQueue.forEach(({hls:nt})=>nt&&(nt.setAudioOption(tt)||nt.setAudioOption(rt)))}onSubtitleTrackSwitch(_e,tt){const rt=getBasicSelectionOption(tt);this.playerQueue.forEach(({hls:nt})=>nt&&(nt.setSubtitleOption(tt)||tt.id!==-1&&nt.setSubtitleOption(rt)))}onBufferCodecs(_e,tt){const rt=tt.tracks;rt&&(this.requiredTracks=rt)}onBufferAppended(_e,tt){this.checkBuffer()}onBufferFlushed(_e,tt){const rt=this.playingItem;if(rt&&!this.itemsMatch(rt,this.bufferingItem)&&!this.isInterstitial(rt)){const nt=this.timelinePos;this.bufferedPos=nt,this.checkBuffer()}}onBufferedToEnd(_e){if(!this.schedule)return;const tt=this.schedule.events;if(this.bufferedPos<Number.MAX_VALUE&&tt){for(let nt=0;nt<tt.length;nt++){const st=tt[nt];if(st.cue.post){var rt;const it=this.schedule.findEventIndex(st.identifier),at=(rt=this.schedule.items)==null?void 0:rt[it];this.isInterstitial(at)&&this.eventItemsMatch(at,this.bufferingItem)&&this.bufferedToItem(at,0);break}}this.bufferedPos=Number.MAX_VALUE}}onMediaEnded(_e){const tt=this.playingItem;if(!this.playingLastItem&&tt){const rt=this.findItemIndex(tt);this.setSchedulePosition(rt+1)}else this.shouldPlay=!1}updateItem(_e,tt){var rt;const nt=(rt=this.schedule)==null?void 0:rt.items;if(_e&&nt){const st=this.findItemIndex(_e,tt);return nt[st]||null}return null}trimInPlace(_e,tt){if(this.isInterstitial(_e)&&_e.event.appendInPlace&&tt.end-_e.end>.25){_e.event.assetList.forEach((st,it)=>{_e.event.isAssetPastPlayoutLimit(it)&&this.clearAssetPlayer(st.identifier,null)});const rt=_e.end+.25,nt=BufferHelper.bufferInfo(this.primaryMedia,rt,0);(nt.end>rt||(nt.nextStart||0)>rt)&&(this.attachPrimary(rt,null),this.flushFrontBuffer(rt))}}itemsMatch(_e,tt){return!!tt&&(_e===tt||_e.event&&tt.event&&this.eventItemsMatch(_e,tt)||!_e.event&&!tt.event&&this.findItemIndex(_e)===this.findItemIndex(tt))}eventItemsMatch(_e,tt){var rt;return!!tt&&(_e===tt||_e.event.identifier===((rt=tt.event)==null?void 0:rt.identifier))}findItemIndex(_e,tt){return _e&&this.schedule?this.schedule.findItemIndex(_e,tt):-1}updateSchedule(_e=!1){var tt;const rt=this.mediaSelection;rt&&((tt=this.schedule)==null||tt.updateSchedule(rt,[],_e))}checkBuffer(_e){var tt;const rt=(tt=this.schedule)==null?void 0:tt.items;if(!rt)return;const nt=BufferHelper.bufferInfo(this.primaryMedia,this.timelinePos,0);_e&&(this.bufferedPos=this.timelinePos),_e||(_e=nt.len<1),this.updateBufferedPos(nt.end,rt,_e)}updateBufferedPos(_e,tt,rt){const nt=this.schedule,st=this.bufferingItem;if(this.bufferedPos>_e||!nt)return;if(tt.length===1&&this.itemsMatch(tt[0],st)){this.bufferedPos=_e;return}const it=this.playingItem,at=this.findItemIndex(it);let ot=nt.findItemIndexAtTime(_e);if(this.bufferedPos<_e){var lt;const ct=this.findItemIndex(st),ut=Math.min(ct+1,tt.length-1),dt=tt[ut];if((ot===-1&&st&&_e>=st.end||(lt=dt.event)!=null&&lt.appendInPlace&&_e+.01>=dt.start)&&(ot=ut),this.isInterstitial(st)){const ft=st.event;if(ut-at>1&&ft.appendInPlace===!1||ft.assetList.length===0&&ft.assetListLoader)return}if(this.bufferedPos=_e,ot>ct&&ot>at)this.bufferedToItem(dt);else{const ft=this.primaryDetails;this.primaryLive&&ft&&_e>ft.edge-ft.targetduration&&dt.start<ft.edge+this.hls.config.interstitialLiveLookAhead&&this.isInterstitial(dt)&&this.preloadAssets(dt.event,0)}}else rt&&it&&!this.itemsMatch(it,st)&&(ot===at?this.bufferedToItem(it):ot===at+1&&this.bufferedToItem(tt[ot]))}assetsBuffered(_e,tt){return _e.event.assetList.length===0?!1:!_e.event.assetList.some(nt=>{const st=this.getAssetPlayer(nt.identifier);return!(st!=null&&st.bufferedInPlaceToEnd(tt))})}setBufferingItem(_e){const tt=this.bufferingItem,rt=this.schedule;if(!this.itemsMatch(_e,tt)&&rt){const{items:nt,events:st}=rt;if(!nt||!st)return tt;const it=this.isInterstitial(_e),at=this.getBufferingPlayer();this.bufferingItem=_e,this.bufferedPos=Math.max(_e.start,Math.min(_e.end,this.timelinePos));const ot=at?at.remaining:tt?tt.end-this.timelinePos:0;if(this.log(`INTERSTITIALS_BUFFERED_TO_BOUNDARY ${segmentToString(_e)}`+(tt?` (${ot.toFixed(2)} remaining)`:"")),!this.playbackDisabled)if(it){const lt=rt.findAssetIndex(_e.event,this.bufferedPos);_e.event.assetList.forEach((ct,ut)=>{const dt=this.getAssetPlayer(ct.identifier);dt&&(ut===lt&&dt.loadSource(),dt.resumeBuffering())})}else this.hls.resumeBuffering(),this.playerQueue.forEach(lt=>lt.pauseBuffering());this.hls.trigger(Events.INTERSTITIALS_BUFFERED_TO_BOUNDARY,{events:st.slice(0),schedule:nt.slice(0),bufferingIndex:this.findItemIndex(_e),playingIndex:this.findItemIndex(this.playingItem)})}else this.bufferingItem!==_e&&(this.bufferingItem=_e);return tt}bufferedToItem(_e,tt=0){const rt=this.setBufferingItem(_e);if(!this.playbackDisabled){if(this.isInterstitial(_e))this.bufferedToEvent(_e,tt);else if(rt!==null){this.bufferingAsset=null;const nt=this.detachedData;nt?nt.mediaSource?this.attachPrimary(_e.start,_e,!0):this.preloadPrimary(_e):this.preloadPrimary(_e)}}}preloadPrimary(_e){const tt=this.findItemIndex(_e),rt=this.getPrimaryResumption(_e,tt);this.startLoadingPrimaryAt(rt)}bufferedToEvent(_e,tt){const rt=_e.event,nt=rt.assetList.length===0&&!rt.assetListLoader,st=rt.cue.once;if(nt||!st){const it=this.preloadAssets(rt,tt);if(it!=null&&it.interstitial.appendInPlace){const at=this.primaryMedia;at&&this.bufferAssetPlayer(it,at)}}}preloadAssets(_e,tt){const rt=_e.assetUrl,nt=_e.assetList.length,st=nt===0&&!_e.assetListLoader,it=_e.cue.once;if(st){const ot=_e.timelineStart;if(_e.appendInPlace){var at;const dt=this.playingItem;!this.isInterstitial(dt)&&(dt==null||(at=dt.nextEvent)==null?void 0:at.identifier)===_e.identifier&&this.flushFrontBuffer(ot+.25)}let lt,ct=0;if(!this.playingItem&&this.primaryLive&&(ct=this.hls.startPosition,ct===-1&&(ct=this.hls.liveSyncPosition||0)),ct&&!(_e.cue.pre||_e.cue.post)){const dt=ct-ot;dt>0&&(lt=Math.round(dt*1e3)/1e3)}if(this.log(`Load interstitial asset ${tt+1}/${rt?1:nt} ${_e}${lt?` live-start: ${ct} start-offset: ${lt}`:""}`),rt)return this.createAsset(_e,0,0,ot,_e.duration,rt);const ut=this.assetListLoader.loadAssetList(_e,lt);ut&&(_e.assetListLoader=ut)}else if(!it&&nt){for(let lt=tt;lt<nt;lt++){const ct=_e.assetList[lt],ut=this.getAssetPlayerQueueIndex(ct.identifier);(ut===-1||this.playerQueue[ut].destroyed)&&!ct.error&&this.createAssetPlayer(_e,ct,lt)}const ot=_e.assetList[tt];if(ot){const lt=this.getAssetPlayer(ot.identifier);return lt&&lt.loadSource(),lt}}return null}flushFrontBuffer(_e){const tt=this.requiredTracks;if(!tt)return;this.log(`Removing front buffer starting at ${_e}`),Object.keys(tt).forEach(nt=>{this.hls.trigger(Events.BUFFER_FLUSHING,{startOffset:_e,endOffset:1/0,type:nt})})}getAssetPlayerQueueIndex(_e){const tt=this.playerQueue;for(let rt=0;rt<tt.length;rt++)if(_e===tt[rt].assetId)return rt;return-1}getAssetPlayer(_e){const tt=this.getAssetPlayerQueueIndex(_e);return this.playerQueue[tt]||null}getBufferingPlayer(){const{playerQueue:_e,primaryMedia:tt}=this;if(tt){for(let rt=0;rt<_e.length;rt++)if(_e[rt].media===tt)return _e[rt]}return null}createAsset(_e,tt,rt,nt,st,it){const at={parentIdentifier:_e.identifier,identifier:generateAssetIdentifier(_e,it,tt),duration:st,startOffset:rt,timelineStart:nt,uri:it};return this.createAssetPlayer(_e,at,tt)}createAssetPlayer(_e,tt,rt){const nt=this.hls,st=nt.userConfig;let it=st.videoPreference;const at=nt.loadLevelObj||nt.levels[nt.currentLevel];(it||at)&&(it=_extends$f({},it),at.videoCodec&&(it.videoCodec=at.videoCodec),at.videoRange&&(it.allowedVideoRanges=[at.videoRange]));const ot=nt.audioTracks[nt.audioTrack],lt=nt.subtitleTracks[nt.subtitleTrack];let ct=0;if(this.primaryLive||_e.appendInPlace){const yt=this.timelinePos-tt.timelineStart;if(yt>1){const xt=tt.duration;xt&&yt<xt&&(ct=yt)}}const ut=tt.identifier,dt=_objectSpread2(_objectSpread2({},st),{},{maxMaxBufferLength:Math.min(180,nt.config.maxMaxBufferLength),autoStartLoad:!0,startFragPrefetch:!0,primarySessionId:nt.sessionId,assetPlayerId:ut,abrEwmaDefaultEstimate:nt.bandwidthEstimate,interstitialsController:void 0,startPosition:ct,liveDurationInfinity:!1,testBandwidth:!1,videoPreference:it,audioPreference:ot||st.audioPreference,subtitlePreference:lt||st.subtitlePreference});_e.appendInPlace&&(_e.appendInPlaceStarted=!0,tt.timelineStart&&(dt.timelineOffset=tt.timelineStart));const ft=dt.cmcd;ft!=null&&ft.sessionId&&ft.contentId&&(dt.cmcd=_extends$f({},ft,{contentId:hash(tt.uri)})),this.getAssetPlayer(ut)&&this.warn(`Duplicate date range identifier ${_e} and asset ${ut}`);const ht=new HlsAssetPlayer(this.HlsPlayerClass,dt,_e,tt);this.playerQueue.push(ht),_e.assetList[rt]=tt;let pt=!0;const gt=yt=>{if(yt.live){var xt;const $t=new Error(`Interstitials MUST be VOD assets ${_e}`),Tt={fatal:!0,type:ErrorTypes.OTHER_ERROR,details:ErrorDetails.INTERSTITIAL_ASSET_ITEM_ERROR,error:$t},St=((xt=this.schedule)==null?void 0:xt.findEventIndex(_e.identifier))||-1;this.handleAssetItemError(Tt,_e,St,rt,$t.message);return}const Et=yt.edge-yt.fragmentStart,wt=tt.duration;(pt||wt===null||Et>wt)&&(pt=!1,this.log(`Interstitial asset "${ut}" duration change ${wt} > ${Et}`),tt.duration=Et,this.updateSchedule())};ht.on(Events.LEVEL_UPDATED,(yt,{details:xt})=>gt(xt)),ht.on(Events.LEVEL_PTS_UPDATED,(yt,{details:xt})=>gt(xt)),ht.on(Events.EVENT_CUE_ENTER,()=>this.onInterstitialCueEnter());const mt=(yt,xt)=>{const Et=this.getAssetPlayer(ut);if(Et&&xt.tracks){Et.off(Events.BUFFER_CODECS,mt),Et.tracks=xt.tracks;const wt=this.primaryMedia;this.bufferingAsset===Et.assetItem&&wt&&!Et.media&&this.bufferAssetPlayer(Et,wt)}};ht.on(Events.BUFFER_CODECS,mt);const bt=()=>{var yt;const xt=this.getAssetPlayer(ut);if(this.log(`buffered to end of asset ${xt}`),!xt||!this.schedule)return;const Et=this.schedule.findEventIndex(_e.identifier),wt=(yt=this.schedule.items)==null?void 0:yt[Et];this.isInterstitial(wt)&&this.advanceAssetBuffering(wt,tt)};ht.on(Events.BUFFERED_TO_END,bt);const vt=yt=>()=>{if(!this.getAssetPlayer(ut)||!this.schedule)return;this.shouldPlay=!0;const Et=this.schedule.findEventIndex(_e.identifier);this.advanceAfterAssetEnded(_e,Et,yt)};return ht.once(Events.MEDIA_ENDED,vt(rt)),ht.once(Events.PLAYOUT_LIMIT_REACHED,vt(1/0)),ht.on(Events.ERROR,(yt,xt)=>{if(!this.schedule)return;const Et=this.getAssetPlayer(ut);if(xt.details===ErrorDetails.BUFFER_STALLED_ERROR){if(Et!=null&&Et.appendInPlace){this.handleInPlaceStall(_e);return}this.onTimeupdate(),this.checkBuffer(!0);return}this.handleAssetItemError(xt,_e,this.schedule.findEventIndex(_e.identifier),rt,`Asset player error ${xt.error} ${_e}`)}),ht.on(Events.DESTROYING,()=>{if(!this.getAssetPlayer(ut)||!this.schedule)return;const xt=new Error(`Asset player destroyed unexpectedly ${ut}`),Et={fatal:!0,type:ErrorTypes.OTHER_ERROR,details:ErrorDetails.INTERSTITIAL_ASSET_ITEM_ERROR,error:xt};this.handleAssetItemError(Et,_e,this.schedule.findEventIndex(_e.identifier),rt,xt.message)}),this.log(`INTERSTITIAL_ASSET_PLAYER_CREATED ${eventAssetToString(tt)}`),this.hls.trigger(Events.INTERSTITIAL_ASSET_PLAYER_CREATED,{asset:tt,assetListIndex:rt,event:_e,player:ht}),ht}clearInterstitial(_e,tt){_e.assetList.forEach(rt=>{this.clearAssetPlayer(rt.identifier,tt)}),_e.reset()}resetAssetPlayer(_e){const tt=this.getAssetPlayerQueueIndex(_e);if(tt!==-1){this.log(`reset asset player "${_e}" after error`);const rt=this.playerQueue[tt];this.transferMediaFromPlayer(rt,null),rt.resetDetails()}}clearAssetPlayer(_e,tt){const rt=this.getAssetPlayerQueueIndex(_e);if(rt!==-1){this.log(`clear asset player "${_e}" toSegment: ${tt&&segmentToString(tt)}`);const nt=this.playerQueue[rt];this.transferMediaFromPlayer(nt,tt),this.playerQueue.splice(rt,1),nt.destroy()}}emptyPlayerQueue(){let _e;for(;_e=this.playerQueue.pop();)_e.destroy();this.playerQueue=[]}startAssetPlayer(_e,tt,rt,nt,st){const{interstitial:it,assetItem:at,assetId:ot}=_e,lt=it.assetList.length,ct=this.playingAsset;this.endedAsset=null,this.playingAsset=at,(!ct||ct.identifier!==ot)&&(ct&&(this.clearAssetPlayer(ct.identifier,rt[nt]),delete ct.error),this.log(`INTERSTITIAL_ASSET_STARTED ${tt+1}/${lt} ${eventAssetToString(at)}`),this.hls.trigger(Events.INTERSTITIAL_ASSET_STARTED,{asset:at,assetListIndex:tt,event:it,schedule:rt.slice(0),scheduleIndex:nt,player:_e})),this.bufferAssetPlayer(_e,st)}bufferAssetPlayer(_e,tt){var rt,nt;if(!this.schedule)return;const{interstitial:st,assetItem:it}=_e,at=this.schedule.findEventIndex(st.identifier),ot=(rt=this.schedule.items)==null?void 0:rt[at];if(!ot)return;_e.loadSource(),this.setBufferingItem(ot),this.bufferingAsset=it;const lt=this.getBufferingPlayer();if(lt===_e)return;const ct=st.appendInPlace;if(ct&&(lt==null?void 0:lt.interstitial.appendInPlace)===!1)return;const ut=(lt==null?void 0:lt.tracks)||((nt=this.detachedData)==null?void 0:nt.tracks)||this.requiredTracks;if(ct&&it!==this.playingAsset){if(!_e.tracks){this.log(`Waiting for track info before buffering ${_e}`);return}if(ut&&!isCompatibleTrackChange(ut,_e.tracks)){const dt=new Error(`Asset ${eventAssetToString(it)} SourceBuffer tracks ('${Object.keys(_e.tracks)}') are not compatible with primary content tracks ('${Object.keys(ut)}')`),ft={fatal:!0,type:ErrorTypes.OTHER_ERROR,details:ErrorDetails.INTERSTITIAL_ASSET_ITEM_ERROR,error:dt},ht=st.findAssetIndex(it);this.handleAssetItemError(ft,st,at,ht,dt.message);return}}this.transferMediaTo(_e,tt)}handleInPlaceStall(_e){const tt=this.schedule,rt=this.primaryMedia;if(!tt||!rt)return;const nt=rt.currentTime,st=tt.findAssetIndex(_e,nt),it=_e.assetList[st];if(it){const at=this.getAssetPlayer(it.identifier);if(at){const ot=at.currentTime||nt-it.timelineStart,lt=at.duration-ot;if(this.warn(`Stalled at ${ot} of ${ot+lt} in ${at} ${_e} (media.currentTime: ${nt})`),ot&&(lt/rt.playbackRate<.5||at.bufferedInPlaceToEnd(rt))&&at.hls){const ct=tt.findEventIndex(_e.identifier);this.advanceAfterAssetEnded(_e,ct,st)}}}}advanceInPlace(_e){const tt=this.primaryMedia;tt&&tt.currentTime<_e&&(tt.currentTime=_e)}handleAssetItemError(_e,tt,rt,nt,st){if(_e.details===ErrorDetails.BUFFER_STALLED_ERROR)return;const it=tt.assetList[nt]||null;if(this.warn(`INTERSTITIAL_ASSET_ERROR ${it&&eventAssetToString(it)} ${_e.error}`),!this.schedule)return;const at=(it==null?void 0:it.identifier)||"",ot=this.getAssetPlayerQueueIndex(at),lt=this.playerQueue[ot]||null,ct=this.schedule.items,ut=_extends$f({},_e,{fatal:!1,errorAction:createDoNothingErrorAction(!0),asset:it,assetListIndex:nt,event:tt,schedule:ct,scheduleIndex:rt,player:lt});if(this.hls.trigger(Events.INTERSTITIAL_ASSET_ERROR,ut),!_e.fatal)return;const dt=this.playingAsset,ft=this.bufferingAsset,ht=new Error(st);if(it&&(this.clearAssetPlayer(at,null),it.error=ht),!tt.assetList.some(pt=>!pt.error))tt.error=ht;else for(let pt=nt;pt<tt.assetList.length;pt++)this.resetAssetPlayer(tt.assetList[pt].identifier);this.updateSchedule(!0),tt.error?this.primaryFallback(tt):dt&&dt.identifier===at?this.advanceAfterAssetEnded(tt,rt,nt):ft&&ft.identifier===at&&this.isInterstitial(this.bufferingItem)&&this.advanceAssetBuffering(this.bufferingItem,ft)}primaryFallback(_e){const tt=_e.timelineStart,rt=this.effectivePlayingItem;if(rt){this.log(`Fallback to primary from event "${_e.identifier}" start: ${tt} pos: ${this.timelinePos} playing: ${segmentToString(rt)} error: ${_e.error}`);let nt=this.timelinePos;nt===-1&&(nt=this.hls.startPosition);const st=this.updateItem(rt,nt);if(this.itemsMatch(rt,st)&&this.clearInterstitial(_e,null),_e.appendInPlace&&(this.attachPrimary(tt,null),this.flushFrontBuffer(tt)),!this.schedule)return;const it=this.schedule.findItemIndexAtTime(nt);this.setSchedulePosition(it)}else this.checkStart()}onAssetListLoaded(_e,tt){var rt,nt;const st=tt.event,it=st.identifier,at=tt.assetListResponse.ASSETS;if(!((rt=this.schedule)!=null&&rt.hasEvent(it)))return;const ot=st.timelineStart,lt=st.duration;let ct=0;at.forEach((pt,gt)=>{const mt=parseFloat(pt.DURATION);this.createAsset(st,gt,ct,ot+ct,mt,pt.URI),ct+=mt}),st.duration=ct,this.log(`Loaded asset-list with duration: ${ct} (was: ${lt}) ${st}`);const ut=this.waitingItem,dt=(ut==null?void 0:ut.event.identifier)===it;this.updateSchedule();const ft=(nt=this.bufferingItem)==null?void 0:nt.event;if(dt){var ht;const pt=this.schedule.findEventIndex(it),gt=(ht=this.schedule.items)==null?void 0:ht[pt];if(gt){if(!this.playingItem&&this.timelinePos>gt.end&&this.schedule.findItemIndexAtTime(this.timelinePos)!==pt){st.error=new Error(`Interstitial no longer within playback range ${this.timelinePos} ${st}`),this.updateSchedule(!0),this.primaryFallback(st);return}this.setBufferingItem(gt)}this.setSchedulePosition(pt)}else if((ft==null?void 0:ft.identifier)===it){const pt=st.assetList[0];if(pt){const gt=this.getAssetPlayer(pt.identifier);if(ft.appendInPlace){const mt=this.primaryMedia;gt&&mt&&this.bufferAssetPlayer(gt,mt)}else gt&&gt.loadSource()}}}onError(_e,tt){if(this.schedule)switch(tt.details){case ErrorDetails.ASSET_LIST_PARSING_ERROR:case ErrorDetails.ASSET_LIST_LOAD_ERROR:case ErrorDetails.ASSET_LIST_LOAD_TIMEOUT:{const rt=tt.interstitial;rt&&(this.updateSchedule(!0),this.primaryFallback(rt));break}case ErrorDetails.BUFFER_STALLED_ERROR:{const rt=this.endedItem||this.waitingItem||this.playingItem;if(this.isInterstitial(rt)&&rt.event.appendInPlace){this.handleInPlaceStall(rt.event);return}this.log(`Primary player stall @${this.timelinePos} bufferedPos: ${this.bufferedPos}`),this.onTimeupdate(),this.checkBuffer(!0);break}}}}const TICK_INTERVAL$2=500;class SubtitleStreamController extends BaseStreamController{constructor(_e,tt,rt){super(_e,tt,rt,"subtitle-stream-controller",PlaylistLevelType.SUBTITLE),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}registerListeners(){super.registerListeners();const{hls:_e}=this;_e.on(Events.LEVEL_LOADED,this.onLevelLoaded,this),_e.on(Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),_e.on(Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),_e.on(Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),_e.on(Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),_e.on(Events.BUFFER_FLUSHING,this.onBufferFlushing,this)}unregisterListeners(){super.unregisterListeners();const{hls:_e}=this;_e.off(Events.LEVEL_LOADED,this.onLevelLoaded,this),_e.off(Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),_e.off(Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),_e.off(Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),_e.off(Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),_e.off(Events.BUFFER_FLUSHING,this.onBufferFlushing,this)}startLoad(_e,tt){this.stopLoad(),this.state=State.IDLE,this.setInterval(TICK_INTERVAL$2),this.nextLoadPosition=this.lastCurrentTime=_e+this.timelineOffset,this.startPosition=tt?-1:_e,this.tick()}onManifestLoading(){super.onManifestLoading(),this.mainDetails=null}onMediaDetaching(_e,tt){this.tracksBuffered=[],super.onMediaDetaching(_e,tt)}onLevelLoaded(_e,tt){this.mainDetails=tt.details}onSubtitleFragProcessed(_e,tt){const{frag:rt,success:nt}=tt;if(this.fragContextChanged(rt)||(isMediaFragment(rt)&&(this.fragPrevious=rt),this.state=State.IDLE),!nt)return;const st=this.tracksBuffered[this.currentTrackId];if(!st)return;let it;const at=rt.start;for(let lt=0;lt<st.length;lt++)if(at>=st[lt].start&&at<=st[lt].end){it=st[lt];break}const ot=rt.start+rt.duration;it?it.end=ot:(it={start:at,end:ot},st.push(it)),this.fragmentTracker.fragBuffered(rt),this.fragBufferedComplete(rt,null),this.media&&this.tick()}onBufferFlushing(_e,tt){const{startOffset:rt,endOffset:nt}=tt;if(rt===0&&nt!==Number.POSITIVE_INFINITY){const st=nt-1;if(st<=0)return;tt.endOffsetSubtitles=Math.max(0,st),this.tracksBuffered.forEach(it=>{for(let at=0;at<it.length;){if(it[at].end<=st){it.shift();continue}else if(it[at].start<st)it[at].start=st;else break;at++}}),this.fragmentTracker.removeFragmentsInRange(rt,st,PlaylistLevelType.SUBTITLE)}}onError(_e,tt){const rt=tt.frag;(rt==null?void 0:rt.type)===PlaylistLevelType.SUBTITLE&&(tt.details===ErrorDetails.FRAG_GAP&&this.fragmentTracker.fragBuffered(rt,!0),this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==State.STOPPED&&(this.state=State.IDLE))}onSubtitleTracksUpdated(_e,{subtitleTracks:tt}){if(this.levels&&subtitleOptionsIdentical(this.levels,tt)){this.levels=tt.map(rt=>new Level(rt));return}this.tracksBuffered=[],this.levels=tt.map(rt=>{const nt=new Level(rt);return this.tracksBuffered[nt.id]=[],nt}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,PlaylistLevelType.SUBTITLE),this.fragPrevious=null,this.mediaBuffer=null}onSubtitleTrackSwitch(_e,tt){var rt;if(this.currentTrackId=tt.id,!((rt=this.levels)!=null&&rt.length)||this.currentTrackId===-1){this.clearInterval();return}const nt=this.levels[this.currentTrackId];nt!=null&&nt.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,nt&&this.state!==State.STOPPED&&this.setInterval(TICK_INTERVAL$2)}onSubtitleTrackLoaded(_e,tt){var rt;const{currentTrackId:nt,levels:st}=this,{details:it,id:at}=tt;if(!st){this.warn(`Subtitle tracks were reset while loading level ${at}`);return}const ot=st[at];if(at>=st.length||!ot)return;this.log(`Subtitle track ${at} loaded [${it.startSN},${it.endSN}]${it.lastPartSn?`[part-${it.lastPartSn}-${it.lastPartIndex}]`:""},duration:${it.totalduration}`),this.mediaBuffer=this.mediaBufferTimeRanges;let lt=0;if(it.live||(rt=ot.details)!=null&&rt.live){if(it.deltaUpdateFailed)return;const ut=this.mainDetails;if(!ut){this.startFragRequested=!1;return}const dt=ut.fragments[0];if(!ot.details)it.hasProgramDateTime&&ut.hasProgramDateTime?(alignMediaPlaylistByPDT(it,ut),lt=it.fragmentStart):dt&&(lt=dt.start,addSliding(it,lt));else{var ct;lt=this.alignPlaylists(it,ot.details,(ct=this.levelLastLoaded)==null?void 0:ct.details),lt===0&&dt&&(lt=dt.start,addSliding(it,lt))}ut&&!this.startFragRequested&&this.setStartPosition(ut,lt)}ot.details=it,this.levelLastLoaded=ot,at===nt&&(this.hls.trigger(Events.SUBTITLE_TRACK_UPDATED,{details:it,id:at,groupId:tt.groupId}),this.tick(),it.live&&!this.fragCurrent&&this.media&&this.state===State.IDLE&&(findFragmentByPTS(null,it.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),ot.details=void 0)))}_handleFragmentLoadComplete(_e){const{frag:tt,payload:rt}=_e,nt=tt.decryptdata,st=this.hls;if(!this.fragContextChanged(tt)&&rt&&rt.byteLength>0&&nt!=null&&nt.key&&nt.iv&&isFullSegmentEncryption(nt.method)){const it=performance.now();this.decrypter.decrypt(new Uint8Array(rt),nt.key.buffer,nt.iv.buffer,getAesModeFromFullSegmentMethod(nt.method)).catch(at=>{throw st.trigger(Events.ERROR,{type:ErrorTypes.MEDIA_ERROR,details:ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!1,error:at,reason:at.message,frag:tt}),at}).then(at=>{const ot=performance.now();st.trigger(Events.FRAG_DECRYPTED,{frag:tt,payload:at,stats:{tstart:it,tdecrypt:ot}})}).catch(at=>{this.warn(`${at.name}: ${at.message}`),this.state=State.IDLE})}}doTick(){if(!this.media){this.state=State.IDLE;return}if(this.state===State.IDLE){const{currentTrackId:_e,levels:tt}=this,rt=tt==null?void 0:tt[_e];if(!rt||!tt.length||!rt.details||this.waitForLive(rt))return;const{config:nt}=this,st=this.getLoadPosition(),it=BufferHelper.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],st,nt.maxBufferHole),{end:at,len:ot}=it,lt=rt.details,ct=this.hls.maxBufferLength+lt.levelTargetDuration;if(ot>ct)return;const ut=lt.fragments,dt=ut.length,ft=lt.edge;let ht=null;const pt=this.fragPrevious;if(at<ft){const bt=nt.maxFragLookUpTolerance,vt=at>ft-bt?0:bt;ht=findFragmentByPTS(pt,ut,Math.max(ut[0].start,at),vt),!ht&&pt&&pt.start<ut[0].start&&(ht=ut[0])}else ht=ut[dt-1];if(ht=this.filterReplacedPrimary(ht,rt.details),!ht)return;const gt=ht.sn-lt.startSN,mt=ut[gt-1];if(mt&&mt.cc===ht.cc&&this.fragmentTracker.getState(mt)===FragmentState.NOT_LOADED&&(ht=mt),this.fragmentTracker.getState(ht)===FragmentState.NOT_LOADED){const bt=this.mapToInitFragWhenRequired(ht);bt&&this.loadFragment(bt,rt,at)}}}loadFragment(_e,tt,rt){isMediaFragment(_e)?super.loadFragment(_e,tt,rt):this._loadInitSegment(_e,tt)}get mediaBufferTimeRanges(){return new BufferableInstance(this.tracksBuffered[this.currentTrackId]||[])}}class BufferableInstance{constructor(_e){this.buffered=void 0;const tt=(rt,nt,st)=>{if(nt=nt>>>0,nt>st-1)throw new DOMException(`Failed to execute '${rt}' on 'TimeRanges': The index provided (${nt}) is greater than the maximum bound (${st})`);return _e[nt][rt]};this.buffered={get length(){return _e.length},end(rt){return tt("end",rt,_e.length)},start(rt){return tt("start",rt,_e.length)}}}}const specialCea608CharsCodes={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},getCharForByte=et=>String.fromCharCode(specialCea608CharsCodes[et]||et),NR_ROWS=15,NR_COLS=100,rowsLowCh1={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},rowsHighCh1={17:2,18:4,21:6,22:8,23:10,19:13,20:15},rowsLowCh2={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},rowsHighCh2={25:2,26:4,29:6,30:8,31:10,27:13,28:15},backgroundColors=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class CaptionsLogger{constructor(){this.time=null,this.verboseLevel=0}log(_e,tt){if(this.verboseLevel>=_e){const rt=typeof tt=="function"?tt():tt;logger.log(`${this.time} [${_e}] ${rt}`)}}}const numArrayToHexArray=function(_e){const tt=[];for(let rt=0;rt<_e.length;rt++)tt.push(_e[rt].toString(16));return tt};class PenState{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(_e){const tt=["foreground","underline","italics","background","flash"];for(let rt=0;rt<tt.length;rt++){const nt=tt[rt];_e.hasOwnProperty(nt)&&(this[nt]=_e[nt])}}isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}equals(_e){return this.foreground===_e.foreground&&this.underline===_e.underline&&this.italics===_e.italics&&this.background===_e.background&&this.flash===_e.flash}copy(_e){this.foreground=_e.foreground,this.underline=_e.underline,this.italics=_e.italics,this.background=_e.background,this.flash=_e.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class StyledUnicodeChar{constructor(){this.uchar=" ",this.penState=new PenState}reset(){this.uchar=" ",this.penState.reset()}setChar(_e,tt){this.uchar=_e,this.penState.copy(tt)}setPenState(_e){this.penState.copy(_e)}equals(_e){return this.uchar===_e.uchar&&this.penState.equals(_e.penState)}copy(_e){this.uchar=_e.uchar,this.penState.copy(_e.penState)}isEmpty(){return this.uchar===" "&&this.penState.isDefault()}}class Row{constructor(_e){this.chars=[],this.pos=0,this.currPenState=new PenState,this.cueStartTime=null,this.logger=void 0;for(let tt=0;tt<NR_COLS;tt++)this.chars.push(new StyledUnicodeChar);this.logger=_e}equals(_e){for(let tt=0;tt<NR_COLS;tt++)if(!this.chars[tt].equals(_e.chars[tt]))return!1;return!0}copy(_e){for(let tt=0;tt<NR_COLS;tt++)this.chars[tt].copy(_e.chars[tt])}isEmpty(){let _e=!0;for(let tt=0;tt<NR_COLS;tt++)if(!this.chars[tt].isEmpty()){_e=!1;break}return _e}setCursor(_e){this.pos!==_e&&(this.pos=_e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>NR_COLS&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=NR_COLS)}moveCursor(_e){const tt=this.pos+_e;if(_e>1)for(let rt=this.pos+1;rt<tt+1;rt++)this.chars[rt].setPenState(this.currPenState);this.setCursor(tt)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(_e){_e>=144&&this.backSpace();const tt=getCharForByte(_e);if(this.pos>=NR_COLS){this.logger.log(0,()=>"Cannot insert "+_e.toString(16)+" ("+tt+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(tt,this.currPenState),this.moveCursor(1)}clearFromPos(_e){let tt;for(tt=_e;tt<NR_COLS;tt++)this.chars[tt].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const _e=[];let tt=!0;for(let rt=0;rt<NR_COLS;rt++){const nt=this.chars[rt].uchar;nt!==" "&&(tt=!1),_e.push(nt)}return tt?"":_e.join("")}setPenStyles(_e){this.currPenState.setStyles(_e),this.chars[this.pos].setPenState(this.currPenState)}}class CaptionScreen{constructor(_e){this.rows=[],this.currRow=NR_ROWS-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let tt=0;tt<NR_ROWS;tt++)this.rows.push(new Row(_e));this.logger=_e}reset(){for(let _e=0;_e<NR_ROWS;_e++)this.rows[_e].clear();this.currRow=NR_ROWS-1}equals(_e){let tt=!0;for(let rt=0;rt<NR_ROWS;rt++)if(!this.rows[rt].equals(_e.rows[rt])){tt=!1;break}return tt}copy(_e){for(let tt=0;tt<NR_ROWS;tt++)this.rows[tt].copy(_e.rows[tt])}isEmpty(){let _e=!0;for(let tt=0;tt<NR_ROWS;tt++)if(!this.rows[tt].isEmpty()){_e=!1;break}return _e}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(_e){this.rows[this.currRow].insertChar(_e)}setPen(_e){this.rows[this.currRow].setPenStyles(_e)}moveCursor(_e){this.rows[this.currRow].moveCursor(_e)}setCursor(_e){this.logger.log(2,"setCursor: "+_e),this.rows[this.currRow].setCursor(_e)}setPAC(_e){this.logger.log(2,()=>"pacData = "+stringify(_e));let tt=_e.row-1;if(this.nrRollUpRows&&tt<this.nrRollUpRows-1&&(tt=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==tt){for(let at=0;at<NR_ROWS;at++)this.rows[at].clear();const st=this.currRow+1-this.nrRollUpRows,it=this.lastOutputScreen;if(it){const at=it.rows[st].cueStartTime,ot=this.logger.time;if(at!==null&&ot!==null&&at<ot)for(let lt=0;lt<this.nrRollUpRows;lt++)this.rows[tt-this.nrRollUpRows+lt+1].copy(it.rows[st+lt])}}this.currRow=tt;const rt=this.rows[this.currRow];if(_e.indent!==null){const st=_e.indent,it=Math.max(st-1,0);rt.setCursor(_e.indent),_e.color=rt.chars[it].penState.foreground}const nt={foreground:_e.color,underline:_e.underline,italics:_e.italics,background:"black",flash:!1};this.setPen(nt)}setBkgData(_e){this.logger.log(2,()=>"bkgData = "+stringify(_e)),this.backSpace(),this.setPen(_e),this.insertChar(32)}setRollUpRows(_e){this.nrRollUpRows=_e}rollUp(){if(this.nrRollUpRows===null){this.logger.log(3,"roll_up but nrRollUpRows not set yet");return}this.logger.log(1,()=>this.getDisplayText());const _e=this.currRow+1-this.nrRollUpRows,tt=this.rows.splice(_e,1)[0];tt.clear(),this.rows.splice(this.currRow,0,tt),this.logger.log(2,"Rolling up")}getDisplayText(_e){_e=_e||!1;const tt=[];let rt="",nt=-1;for(let st=0;st<NR_ROWS;st++){const it=this.rows[st].getTextString();it&&(nt=st+1,_e?tt.push("Row "+nt+": '"+it+"'"):tt.push(it.trim()))}return tt.length>0&&(_e?rt="["+tt.join(" | ")+"]":rt=tt.join(`
`)),rt}getTextAndFormat(){return this.rows}}class Cea608Channel{constructor(_e,tt,rt){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=_e,this.outputFilter=tt,this.mode=null,this.verbose=0,this.displayedMemory=new CaptionScreen(rt),this.nonDisplayedMemory=new CaptionScreen(rt),this.lastOutputScreen=new CaptionScreen(rt),this.currRollUpRow=this.displayedMemory.rows[NR_ROWS-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=rt}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[NR_ROWS-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(_e){this.outputFilter=_e}setPAC(_e){this.writeScreen.setPAC(_e)}setBkgData(_e){this.writeScreen.setBkgData(_e)}setMode(_e){_e!==this.mode&&(this.mode=_e,this.logger.log(2,()=>"MODE="+_e),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=_e)}insertChars(_e){for(let rt=0;rt<_e.length;rt++)this.writeScreen.insertChar(_e[rt]);const tt=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>tt+": "+this.writeScreen.getDisplayText(!0)),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(_e){this.logger.log(2,"RU("+_e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(_e)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){const _e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=_e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(_e){this.logger.log(2,"TO("+_e+") - Tab Offset"),this.writeScreen.moveCursor(_e)}ccMIDROW(_e){const tt={flash:!1};if(tt.underline=_e%2===1,tt.italics=_e>=46,tt.italics)tt.foreground="white";else{const rt=Math.floor(_e/2)-16,nt=["white","green","blue","cyan","red","yellow","magenta"];tt.foreground=nt[rt]}this.logger.log(2,"MIDROW: "+stringify(tt)),this.writeScreen.setPen(tt)}outputDataUpdate(_e=!1){const tt=this.logger.time;tt!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=tt:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,tt,this.lastOutputScreen),_e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:tt),this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(_e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,_e,this.displayedMemory),this.cueStartTime=_e))}}class Cea608Parser{constructor(_e,tt,rt){this.channels=void 0,this.currentChannel=0,this.cmdHistory=createCmdHistory(),this.logger=void 0;const nt=this.logger=new CaptionsLogger;this.channels=[null,new Cea608Channel(_e,tt,nt),new Cea608Channel(_e+1,rt,nt)]}getHandler(_e){return this.channels[_e].getHandler()}setHandler(_e,tt){this.channels[_e].setHandler(tt)}addData(_e,tt){this.logger.time=_e;for(let rt=0;rt<tt.length;rt+=2){const nt=tt[rt]&127,st=tt[rt+1]&127;let it=!1,at=null;if(nt===0&&st===0)continue;this.logger.log(3,()=>"["+numArrayToHexArray([tt[rt],tt[rt+1]])+"] -> ("+numArrayToHexArray([nt,st])+")");const ot=this.cmdHistory;if(nt>=16&&nt<=31){if(hasCmdRepeated(nt,st,ot)){setLastCmd(null,null,ot),this.logger.log(3,()=>"Repeated command ("+numArrayToHexArray([nt,st])+") is dropped");continue}setLastCmd(nt,st,this.cmdHistory),it=this.parseCmd(nt,st),it||(it=this.parseMidrow(nt,st)),it||(it=this.parsePAC(nt,st)),it||(it=this.parseBackgroundAttributes(nt,st))}else setLastCmd(null,null,ot);if(!it&&(at=this.parseChars(nt,st),at)){const ct=this.currentChannel;ct&&ct>0?this.channels[ct].insertChars(at):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!it&&!at&&this.logger.log(2,()=>"Couldn't parse cleaned data "+numArrayToHexArray([nt,st])+" orig: "+numArrayToHexArray([tt[rt],tt[rt+1]]))}}parseCmd(_e,tt){const rt=(_e===20||_e===28||_e===21||_e===29)&&tt>=32&&tt<=47,nt=(_e===23||_e===31)&&tt>=33&&tt<=35;if(!(rt||nt))return!1;const st=_e===20||_e===21||_e===23?1:2,it=this.channels[st];return _e===20||_e===21||_e===28||_e===29?tt===32?it.ccRCL():tt===33?it.ccBS():tt===34?it.ccAOF():tt===35?it.ccAON():tt===36?it.ccDER():tt===37?it.ccRU(2):tt===38?it.ccRU(3):tt===39?it.ccRU(4):tt===40?it.ccFON():tt===41?it.ccRDC():tt===42?it.ccTR():tt===43?it.ccRTD():tt===44?it.ccEDM():tt===45?it.ccCR():tt===46?it.ccENM():tt===47&&it.ccEOC():it.ccTO(tt-32),this.currentChannel=st,!0}parseMidrow(_e,tt){let rt=0;if((_e===17||_e===25)&&tt>=32&&tt<=47){if(_e===17?rt=1:rt=2,rt!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const nt=this.channels[rt];return nt?(nt.ccMIDROW(tt),this.logger.log(3,()=>"MIDROW ("+numArrayToHexArray([_e,tt])+")"),!0):!1}return!1}parsePAC(_e,tt){let rt;const nt=(_e>=17&&_e<=23||_e>=25&&_e<=31)&&tt>=64&&tt<=127,st=(_e===16||_e===24)&&tt>=64&&tt<=95;if(!(nt||st))return!1;const it=_e<=23?1:2;tt>=64&&tt<=95?rt=it===1?rowsLowCh1[_e]:rowsLowCh2[_e]:rt=it===1?rowsHighCh1[_e]:rowsHighCh2[_e];const at=this.channels[it];return at?(at.setPAC(this.interpretPAC(rt,tt)),this.currentChannel=it,!0):!1}interpretPAC(_e,tt){let rt;const nt={color:null,italics:!1,indent:null,underline:!1,row:_e};return tt>95?rt=tt-96:rt=tt-64,nt.underline=(rt&1)===1,rt<=13?nt.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(rt/2)]:rt<=15?(nt.italics=!0,nt.color="white"):nt.indent=Math.floor((rt-16)/2)*4,nt}parseChars(_e,tt){let rt,nt=null,st=null;if(_e>=25?(rt=2,st=_e-8):(rt=1,st=_e),st>=17&&st<=19){let it;st===17?it=tt+80:st===18?it=tt+112:it=tt+144,this.logger.log(2,()=>"Special char '"+getCharForByte(it)+"' in channel "+rt),nt=[it]}else _e>=32&&_e<=127&&(nt=tt===0?[_e]:[_e,tt]);return nt&&this.logger.log(3,()=>"Char codes =  "+numArrayToHexArray(nt).join(",")),nt}parseBackgroundAttributes(_e,tt){const rt=(_e===16||_e===24)&&tt>=32&&tt<=47,nt=(_e===23||_e===31)&&tt>=45&&tt<=47;if(!(rt||nt))return!1;let st;const it={};_e===16||_e===24?(st=Math.floor((tt-32)/2),it.background=backgroundColors[st],tt%2===1&&(it.background=it.background+"_semi")):tt===45?it.background="transparent":(it.foreground="black",tt===47&&(it.underline=!0));const at=_e<=23?1:2;return this.channels[at].setBkgData(it),!0}reset(){for(let _e=0;_e<Object.keys(this.channels).length;_e++){const tt=this.channels[_e];tt&&tt.reset()}setLastCmd(null,null,this.cmdHistory)}cueSplitAtTime(_e){for(let tt=0;tt<this.channels.length;tt++){const rt=this.channels[tt];rt&&rt.cueSplitAtTime(_e)}}}function setLastCmd(et,_e,tt){tt.a=et,tt.b=_e}function hasCmdRepeated(et,_e,tt){return tt.a===et&&tt.b===_e}function createCmdHistory(){return{a:null,b:null}}var VTTCue=function(){if(optionalSelf!=null&&optionalSelf.VTTCue)return self.VTTCue;const et=["","lr","rl"],_e=["start","middle","end","left","right"];function tt(at,ot){if(typeof ot!="string"||!Array.isArray(at))return!1;const lt=ot.toLowerCase();return~at.indexOf(lt)?lt:!1}function rt(at){return tt(et,at)}function nt(at){return tt(_e,at)}function st(at,...ot){let lt=1;for(;lt<arguments.length;lt++){const ct=arguments[lt];for(const ut in ct)at[ut]=ct[ut]}return at}function it(at,ot,lt){const ct=this,ut={enumerable:!0};ct.hasBeenReset=!1;let dt="",ft=!1,ht=at,pt=ot,gt=lt,mt=null,bt="",vt=!0,yt="auto",xt="start",Et=50,wt="middle",$t=50,Tt="middle";Object.defineProperty(ct,"id",st({},ut,{get:function(){return dt},set:function(St){dt=""+St}})),Object.defineProperty(ct,"pauseOnExit",st({},ut,{get:function(){return ft},set:function(St){ft=!!St}})),Object.defineProperty(ct,"startTime",st({},ut,{get:function(){return ht},set:function(St){if(typeof St!="number")throw new TypeError("Start time must be set to a number.");ht=St,this.hasBeenReset=!0}})),Object.defineProperty(ct,"endTime",st({},ut,{get:function(){return pt},set:function(St){if(typeof St!="number")throw new TypeError("End time must be set to a number.");pt=St,this.hasBeenReset=!0}})),Object.defineProperty(ct,"text",st({},ut,{get:function(){return gt},set:function(St){gt=""+St,this.hasBeenReset=!0}})),Object.defineProperty(ct,"region",st({},ut,{get:function(){return mt},set:function(St){mt=St,this.hasBeenReset=!0}})),Object.defineProperty(ct,"vertical",st({},ut,{get:function(){return bt},set:function(St){const Pt=rt(St);if(Pt===!1)throw new SyntaxError("An invalid or illegal string was specified.");bt=Pt,this.hasBeenReset=!0}})),Object.defineProperty(ct,"snapToLines",st({},ut,{get:function(){return vt},set:function(St){vt=!!St,this.hasBeenReset=!0}})),Object.defineProperty(ct,"line",st({},ut,{get:function(){return yt},set:function(St){if(typeof St!="number"&&St!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");yt=St,this.hasBeenReset=!0}})),Object.defineProperty(ct,"lineAlign",st({},ut,{get:function(){return xt},set:function(St){const Pt=nt(St);if(!Pt)throw new SyntaxError("An invalid or illegal string was specified.");xt=Pt,this.hasBeenReset=!0}})),Object.defineProperty(ct,"position",st({},ut,{get:function(){return Et},set:function(St){if(St<0||St>100)throw new Error("Position must be between 0 and 100.");Et=St,this.hasBeenReset=!0}})),Object.defineProperty(ct,"positionAlign",st({},ut,{get:function(){return wt},set:function(St){const Pt=nt(St);if(!Pt)throw new SyntaxError("An invalid or illegal string was specified.");wt=Pt,this.hasBeenReset=!0}})),Object.defineProperty(ct,"size",st({},ut,{get:function(){return $t},set:function(St){if(St<0||St>100)throw new Error("Size must be between 0 and 100.");$t=St,this.hasBeenReset=!0}})),Object.defineProperty(ct,"align",st({},ut,{get:function(){return Tt},set:function(St){const Pt=nt(St);if(!Pt)throw new SyntaxError("An invalid or illegal string was specified.");Tt=Pt,this.hasBeenReset=!0}})),ct.displayState=void 0}return it.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},it}();class StringDecoder{decode(_e,tt){if(!_e)return"";if(typeof _e!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(_e))}}function parseTimeStamp(et){function _e(rt,nt,st,it){return(rt|0)*3600+(nt|0)*60+(st|0)+parseFloat(it||0)}const tt=et.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return tt?parseFloat(tt[2])>59?_e(tt[2],tt[3],0,tt[4]):_e(tt[1],tt[2],tt[3],tt[4]):null}class Settings{constructor(){this.values=Object.create(null)}set(_e,tt){!this.get(_e)&&tt!==""&&(this.values[_e]=tt)}get(_e,tt,rt){return rt?this.has(_e)?this.values[_e]:tt[rt]:this.has(_e)?this.values[_e]:tt}has(_e){return _e in this.values}alt(_e,tt,rt){for(let nt=0;nt<rt.length;++nt)if(tt===rt[nt]){this.set(_e,tt);break}}integer(_e,tt){/^-?\d+$/.test(tt)&&this.set(_e,parseInt(tt,10))}percent(_e,tt){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(tt)){const rt=parseFloat(tt);if(rt>=0&&rt<=100)return this.set(_e,rt),!0}return!1}}function parseOptions(et,_e,tt,rt){const nt=rt?et.split(rt):[et];for(const st in nt){if(typeof nt[st]!="string")continue;const it=nt[st].split(tt);if(it.length!==2)continue;const at=it[0],ot=it[1];_e(at,ot)}}const defaults=new VTTCue(0,0,""),center=defaults.align==="middle"?"middle":"center";function parseCue(et,_e,tt){const rt=et;function nt(){const at=parseTimeStamp(et);if(at===null)throw new Error("Malformed timestamp: "+rt);return et=et.replace(/^[^\sa-zA-Z-]+/,""),at}function st(at,ot){const lt=new Settings;parseOptions(at,function(dt,ft){let ht;switch(dt){case"region":for(let pt=tt.length-1;pt>=0;pt--)if(tt[pt].id===ft){lt.set(dt,tt[pt].region);break}break;case"vertical":lt.alt(dt,ft,["rl","lr"]);break;case"line":ht=ft.split(","),lt.integer(dt,ht[0]),lt.percent(dt,ht[0])&&lt.set("snapToLines",!1),lt.alt(dt,ht[0],["auto"]),ht.length===2&&lt.alt("lineAlign",ht[1],["start",center,"end"]);break;case"position":ht=ft.split(","),lt.percent(dt,ht[0]),ht.length===2&&lt.alt("positionAlign",ht[1],["start",center,"end","line-left","line-right","auto"]);break;case"size":lt.percent(dt,ft);break;case"align":lt.alt(dt,ft,["start",center,"end","left","right"]);break}},/:/,/\s/),ot.region=lt.get("region",null),ot.vertical=lt.get("vertical","");let ct=lt.get("line","auto");ct==="auto"&&defaults.line===-1&&(ct=-1),ot.line=ct,ot.lineAlign=lt.get("lineAlign","start"),ot.snapToLines=lt.get("snapToLines",!0),ot.size=lt.get("size",100),ot.align=lt.get("align",center);let ut=lt.get("position","auto");ut==="auto"&&defaults.position===50&&(ut=ot.align==="start"||ot.align==="left"?0:ot.align==="end"||ot.align==="right"?100:50),ot.position=ut}function it(){et=et.replace(/^\s+/,"")}if(it(),_e.startTime=nt(),it(),et.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+rt);et=et.slice(3),it(),_e.endTime=nt(),it(),st(et,_e)}function fixLineBreaks(et){return et.replace(/<br(?: \/)?>/gi,`
`)}class VTTParser{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new StringDecoder,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(_e){const tt=this;_e&&(tt.buffer+=tt.decoder.decode(_e,{stream:!0}));function rt(){let st=tt.buffer,it=0;for(st=fixLineBreaks(st);it<st.length&&st[it]!=="\r"&&st[it]!==`
`;)++it;const at=st.slice(0,it);return st[it]==="\r"&&++it,st[it]===`
`&&++it,tt.buffer=st.slice(it),at}function nt(st){parseOptions(st,function(it,at){},/:/)}try{let st="";if(tt.state==="INITIAL"){if(!/\r\n|\n/.test(tt.buffer))return this;st=rt();const at=st.match(/^()?WEBVTT([ \t].*)?$/);if(!(at!=null&&at[0]))throw new Error("Malformed WebVTT signature.");tt.state="HEADER"}let it=!1;for(;tt.buffer;){if(!/\r\n|\n/.test(tt.buffer))return this;switch(it?it=!1:st=rt(),tt.state){case"HEADER":/:/.test(st)?nt(st):st||(tt.state="ID");continue;case"NOTE":st||(tt.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(st)){tt.state="NOTE";break}if(!st)continue;if(tt.cue=new VTTCue(0,0,""),tt.state="CUE",st.indexOf("-->")===-1){tt.cue.id=st;continue}case"CUE":if(!tt.cue){tt.state="BADCUE";continue}try{parseCue(st,tt.cue,tt.regionList)}catch{tt.cue=null,tt.state="BADCUE";continue}tt.state="CUETEXT";continue;case"CUETEXT":{const at=st.indexOf("-->")!==-1;if(!st||at&&(it=!0)){tt.oncue&&tt.cue&&tt.oncue(tt.cue),tt.cue=null,tt.state="ID";continue}if(tt.cue===null)continue;tt.cue.text&&(tt.cue.text+=`
`),tt.cue.text+=st}continue;case"BADCUE":st||(tt.state="ID")}}}catch{tt.state==="CUETEXT"&&tt.cue&&tt.oncue&&tt.oncue(tt.cue),tt.cue=null,tt.state=tt.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this}flush(){const _e=this;try{if((_e.cue||_e.state==="HEADER")&&(_e.buffer+=`

`,_e.parse()),_e.state==="INITIAL"||_e.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(tt){_e.onparsingerror&&_e.onparsingerror(tt)}return _e.onflush&&_e.onflush(),this}}const LINEBREAKS=/\r\n|\n\r|\n|\r/g,startsWith=function(_e,tt,rt=0){return _e.slice(rt,rt+tt.length)===tt},cueString2millis=function(_e){let tt=parseInt(_e.slice(-3));const rt=parseInt(_e.slice(-6,-4)),nt=parseInt(_e.slice(-9,-7)),st=_e.length>9?parseInt(_e.substring(0,_e.indexOf(":"))):0;if(!isFiniteNumber(tt)||!isFiniteNumber(rt)||!isFiniteNumber(nt)||!isFiniteNumber(st))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${_e}`);return tt+=1e3*rt,tt+=60*1e3*nt,tt+=60*60*1e3*st,tt};function generateCueId(et,_e,tt){return hash(et.toString())+hash(_e.toString())+hash(tt)}const calculateOffset=function(_e,tt,rt){let nt=_e[tt],st=_e[nt.prevCC];if(!st||!st.new&&nt.new){_e.ccOffset=_e.presentationOffset=nt.start,nt.new=!1;return}for(;(it=st)!=null&&it.new;){var it;_e.ccOffset+=nt.start-st.start,nt.new=!1,nt=st,st=_e[nt.prevCC]}_e.presentationOffset=rt};function parseWebVTT(et,_e,tt,rt,nt,st,it){const at=new VTTParser,ot=utf8ArrayToStr(new Uint8Array(et)).trim().replace(LINEBREAKS,`
`).split(`
`),lt=[],ct=_e?toMpegTsClockFromTimescale(_e.baseTime,_e.timescale):0;let ut="00:00.000",dt=0,ft=0,ht,pt=!0;at.oncue=function(gt){const mt=tt[rt];let bt=tt.ccOffset;const vt=(dt-ct)/9e4;if(mt!=null&&mt.new&&(ft!==void 0?bt=tt.ccOffset=mt.start:calculateOffset(tt,rt,vt)),vt){if(!_e){ht=new Error("Missing initPTS for VTT MPEGTS");return}bt=vt-tt.presentationOffset}const yt=gt.endTime-gt.startTime,xt=normalizePts((gt.startTime+bt-ft)*9e4,nt*9e4)/9e4;gt.startTime=Math.max(xt,0),gt.endTime=Math.max(xt+yt,0);const Et=gt.text.trim();gt.text=decodeURIComponent(encodeURIComponent(Et)),gt.id||(gt.id=generateCueId(gt.startTime,gt.endTime,Et)),gt.endTime>0&&lt.push(gt)},at.onparsingerror=function(gt){ht=gt},at.onflush=function(){if(ht){it(ht);return}st(lt)},ot.forEach(gt=>{if(pt)if(startsWith(gt,"X-TIMESTAMP-MAP=")){pt=!1,gt.slice(16).split(",").forEach(mt=>{startsWith(mt,"LOCAL:")?ut=mt.slice(6):startsWith(mt,"MPEGTS:")&&(dt=parseInt(mt.slice(7)))});try{ft=cueString2millis(ut)/1e3}catch(mt){ht=mt}return}else gt===""&&(pt=!1);at.parse(gt+`
`)}),at.flush()}const IMSC1_CODEC="stpp.ttml.im1t",HMSF_REGEX=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,TIME_UNIT_REGEX=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,textAlignToLineAlign={left:"start",center:"center",right:"end",start:"start",end:"end"};function parseIMSC1(et,_e,tt,rt){const nt=findBox(new Uint8Array(et),["mdat"]);if(nt.length===0){rt(new Error("Could not parse IMSC1 mdat"));return}const st=nt.map(at=>utf8ArrayToStr(at)),it=toTimescaleFromScale(_e.baseTime,1,_e.timescale);try{st.forEach(at=>tt(parseTTML(at,it)))}catch(at){rt(at)}}function parseTTML(et,_e){const nt=new DOMParser().parseFromString(et,"text/xml").getElementsByTagName("tt")[0];if(!nt)throw new Error("Invalid ttml");const st={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},it=Object.keys(st).reduce((ut,dt)=>(ut[dt]=nt.getAttribute(`ttp:${dt}`)||st[dt],ut),{}),at=nt.getAttribute("xml:space")!=="preserve",ot=collectionToDictionary(getElementCollection(nt,"styling","style")),lt=collectionToDictionary(getElementCollection(nt,"layout","region")),ct=getElementCollection(nt,"body","[begin]");return[].map.call(ct,ut=>{const dt=getTextContent(ut,at);if(!dt||!ut.hasAttribute("begin"))return null;const ft=parseTtmlTime(ut.getAttribute("begin"),it),ht=parseTtmlTime(ut.getAttribute("dur"),it);let pt=parseTtmlTime(ut.getAttribute("end"),it);if(ft===null)throw timestampParsingError(ut);if(pt===null){if(ht===null)throw timestampParsingError(ut);pt=ft+ht}const gt=new VTTCue(ft-_e,pt-_e,dt);gt.id=generateCueId(gt.startTime,gt.endTime,gt.text);const mt=lt[ut.getAttribute("region")],bt=ot[ut.getAttribute("style")],vt=getTtmlStyles(mt,bt,ot),{textAlign:yt}=vt;if(yt){const xt=textAlignToLineAlign[yt];xt&&(gt.lineAlign=xt),gt.align=yt}return _extends$f(gt,vt),gt}).filter(ut=>ut!==null)}function getElementCollection(et,_e,tt){const rt=et.getElementsByTagName(_e)[0];return rt?[].slice.call(rt.querySelectorAll(tt)):[]}function collectionToDictionary(et){return et.reduce((_e,tt)=>{const rt=tt.getAttribute("xml:id");return rt&&(_e[rt]=tt),_e},{})}function getTextContent(et,_e){return[].slice.call(et.childNodes).reduce((tt,rt,nt)=>{var st;return rt.nodeName==="br"&&nt?tt+`
`:(st=rt.childNodes)!=null&&st.length?getTextContent(rt,_e):_e?tt+rt.textContent.trim().replace(/\s+/g," "):tt+rt.textContent},"")}function getTtmlStyles(et,_e,tt){const rt="http://www.w3.org/ns/ttml#styling";let nt=null;const st=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],it=et!=null&&et.hasAttribute("style")?et.getAttribute("style"):null;return it&&tt.hasOwnProperty(it)&&(nt=tt[it]),st.reduce((at,ot)=>{const lt=getAttributeNS(_e,rt,ot)||getAttributeNS(et,rt,ot)||getAttributeNS(nt,rt,ot);return lt&&(at[ot]=lt),at},{})}function getAttributeNS(et,_e,tt){return et&&et.hasAttributeNS(_e,tt)?et.getAttributeNS(_e,tt):null}function timestampParsingError(et){return new Error(`Could not parse ttml timestamp ${et}`)}function parseTtmlTime(et,_e){if(!et)return null;let tt=parseTimeStamp(et);return tt===null&&(HMSF_REGEX.test(et)?tt=parseHoursMinutesSecondsFrames(et,_e):TIME_UNIT_REGEX.test(et)&&(tt=parseTimeUnits(et,_e))),tt}function parseHoursMinutesSecondsFrames(et,_e){const tt=HMSF_REGEX.exec(et),rt=(tt[4]|0)+(tt[5]|0)/_e.subFrameRate;return(tt[1]|0)*3600+(tt[2]|0)*60+(tt[3]|0)+rt/_e.frameRate}function parseTimeUnits(et,_e){const tt=TIME_UNIT_REGEX.exec(et),rt=Number(tt[1]);switch(tt[2]){case"h":return rt*3600;case"m":return rt*60;case"ms":return rt*1e3;case"f":return rt/_e.frameRate;case"t":return rt/_e.tickRate}return rt}class OutputFilter{constructor(_e,tt){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=_e,this.trackName=tt}dispatchCue(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(_e,tt,rt){(this.startTime===null||this.startTime>_e)&&(this.startTime=_e),this.endTime=tt,this.screen=rt,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}class TimelineController{constructor(_e){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=newVTTCCs(),this.captionsProperties=void 0,this.hls=_e,this.config=_e.config,this.Cues=_e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},_e.on(Events.MEDIA_ATTACHING,this.onMediaAttaching,this),_e.on(Events.MEDIA_DETACHING,this.onMediaDetaching,this),_e.on(Events.MANIFEST_LOADING,this.onManifestLoading,this),_e.on(Events.MANIFEST_LOADED,this.onManifestLoaded,this),_e.on(Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),_e.on(Events.FRAG_LOADING,this.onFragLoading,this),_e.on(Events.FRAG_LOADED,this.onFragLoaded,this),_e.on(Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),_e.on(Events.FRAG_DECRYPTED,this.onFragDecrypted,this),_e.on(Events.INIT_PTS_FOUND,this.onInitPtsFound,this),_e.on(Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),_e.on(Events.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:_e}=this;_e.off(Events.MEDIA_ATTACHING,this.onMediaAttaching,this),_e.off(Events.MEDIA_DETACHING,this.onMediaDetaching,this),_e.off(Events.MANIFEST_LOADING,this.onManifestLoading,this),_e.off(Events.MANIFEST_LOADED,this.onManifestLoaded,this),_e.off(Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),_e.off(Events.FRAG_LOADING,this.onFragLoading,this),_e.off(Events.FRAG_LOADED,this.onFragLoaded,this),_e.off(Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),_e.off(Events.FRAG_DECRYPTED,this.onFragDecrypted,this),_e.off(Events.INIT_PTS_FOUND,this.onInitPtsFound,this),_e.off(Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),_e.off(Events.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.media=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){const _e=new OutputFilter(this,"textTrack1"),tt=new OutputFilter(this,"textTrack2"),rt=new OutputFilter(this,"textTrack3"),nt=new OutputFilter(this,"textTrack4");this.cea608Parser1=new Cea608Parser(1,_e,tt),this.cea608Parser2=new Cea608Parser(3,rt,nt)}addCues(_e,tt,rt,nt,st){let it=!1;for(let at=st.length;at--;){const ot=st[at],lt=intersection(ot[0],ot[1],tt,rt);if(lt>=0&&(ot[0]=Math.min(ot[0],tt),ot[1]=Math.max(ot[1],rt),it=!0,lt/(rt-tt)>.5))return}if(it||st.push([tt,rt]),this.config.renderTextTracksNatively){const at=this.captionsTracks[_e];this.Cues.newCue(at,tt,rt,nt)}else{const at=this.Cues.newCue(null,tt,rt,nt);this.hls.trigger(Events.CUES_PARSED,{type:"captions",cues:at,track:_e})}}onInitPtsFound(_e,{frag:tt,id:rt,initPTS:nt,timescale:st,trackId:it}){const{unparsedVttFrags:at}=this;rt===PlaylistLevelType.MAIN&&(this.initPTS[tt.cc]={baseTime:nt,timescale:st,trackId:it}),at.length&&(this.unparsedVttFrags=[],at.forEach(ot=>{this.initPTS[ot.frag.cc]?this.onFragLoaded(Events.FRAG_LOADED,ot):this.hls.trigger(Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:ot.frag,error:new Error("Subtitle discontinuity domain does not match main")})}))}getExistingTrack(_e,tt){const{media:rt}=this;if(rt)for(let nt=0;nt<rt.textTracks.length;nt++){const st=rt.textTracks[nt];if(canReuseVttTextTrack(st,{name:_e,lang:tt,characteristics:"transcribes-spoken-dialog,describes-music-and-sound"}))return st}return null}createCaptionsTrack(_e){this.config.renderTextTracksNatively?this.createNativeTrack(_e):this.createNonNativeTrack(_e)}createNativeTrack(_e){if(this.captionsTracks[_e])return;const{captionsProperties:tt,captionsTracks:rt,media:nt}=this,{label:st,languageCode:it}=tt[_e],at=this.getExistingTrack(st,it);if(at)rt[_e]=at,clearCurrentCues(rt[_e]),sendAddTrackEvent(rt[_e],nt);else{const ot=this.createTextTrack("captions",st,it);ot&&(ot[_e]=!0,rt[_e]=ot)}}createNonNativeTrack(_e){if(this.nonNativeCaptionsTracks[_e])return;const tt=this.captionsProperties[_e];if(!tt)return;const rt=tt.label,nt={_id:_e,label:rt,kind:"captions",default:tt.media?!!tt.media.default:!1,closedCaptions:tt.media};this.nonNativeCaptionsTracks[_e]=nt,this.hls.trigger(Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[nt]})}createTextTrack(_e,tt,rt){const nt=this.media;if(nt)return nt.addTextTrack(_e,tt,rt)}onMediaAttaching(_e,tt){this.media=tt.media,tt.mediaSource||this._cleanTracks()}onMediaDetaching(_e,tt){const rt=!!tt.transferMedia;if(this.media=null,rt)return;const{captionsTracks:nt}=this;Object.keys(nt).forEach(st=>{clearCurrentCues(nt[st]),delete nt[st]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=newVTTCCs(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:_e}=this;if(!_e)return;const tt=_e.textTracks;if(tt)for(let rt=0;rt<tt.length;rt++)clearCurrentCues(tt[rt])}onSubtitleTracksUpdated(_e,tt){const rt=tt.subtitleTracks||[],nt=rt.some(st=>st.textCodec===IMSC1_CODEC);if(this.config.enableWebVTT||nt&&this.config.enableIMSC1){if(subtitleOptionsIdentical(this.tracks,rt)){this.tracks=rt;return}if(this.textTracks=[],this.tracks=rt,this.config.renderTextTracksNatively){const it=this.media,at=it?filterSubtitleTracks(it.textTracks):null;if(this.tracks.forEach((ot,lt)=>{let ct;if(at){let ut=null;for(let dt=0;dt<at.length;dt++)if(at[dt]&&canReuseVttTextTrack(at[dt],ot)){ut=at[dt],at[dt]=null;break}ut&&(ct=ut)}if(ct)clearCurrentCues(ct);else{const ut=captionsOrSubtitlesFromCharacteristics(ot);ct=this.createTextTrack(ut,ot.name,ot.lang),ct&&(ct.mode="disabled")}ct&&this.textTracks.push(ct)}),at!=null&&at.length){const ot=at.filter(lt=>lt!==null).map(lt=>lt.label);ot.length&&this.hls.logger.warn(`Media element contains unused subtitle tracks: ${ot.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}}else if(this.tracks.length){const it=this.tracks.map(at=>({label:at.name,kind:at.type.toLowerCase(),default:at.default,subtitleTrack:at}));this.hls.trigger(Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:it})}}}onManifestLoaded(_e,tt){this.config.enableCEA708Captions&&tt.captions&&tt.captions.forEach(rt=>{const nt=/(?:CC|SERVICE)([1-4])/.exec(rt.instreamId);if(!nt)return;const st=`textTrack${nt[1]}`,it=this.captionsProperties[st];it&&(it.label=rt.name,rt.lang&&(it.languageCode=rt.lang),it.media=rt)})}closedCaptionsForLevel(_e){const tt=this.hls.levels[_e.level];return tt==null?void 0:tt.attrs["CLOSED-CAPTIONS"]}onFragLoading(_e,tt){if(this.enabled&&tt.frag.type===PlaylistLevelType.MAIN){var rt,nt;const{cea608Parser1:st,cea608Parser2:it,lastSn:at}=this,{cc:ot,sn:lt}=tt.frag,ct=(rt=(nt=tt.part)==null?void 0:nt.index)!=null?rt:-1;st&&it&&(lt!==at+1||lt===at&&ct!==this.lastPartIndex+1||ot!==this.lastCc)&&(st.reset(),it.reset()),this.lastCc=ot,this.lastSn=lt,this.lastPartIndex=ct}}onFragLoaded(_e,tt){const{frag:rt,payload:nt}=tt;if(rt.type===PlaylistLevelType.SUBTITLE)if(nt.byteLength){const st=rt.decryptdata,it="stats"in tt;if(st==null||!st.encrypted||it){const at=this.tracks[rt.level],ot=this.vttCCs;ot[rt.cc]||(ot[rt.cc]={start:rt.start,prevCC:this.prevCC,new:!0},this.prevCC=rt.cc),at&&at.textCodec===IMSC1_CODEC?this._parseIMSC1(rt,nt):this._parseVTTs(tt)}}else this.hls.trigger(Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:rt,error:new Error("Empty subtitle payload")})}_parseIMSC1(_e,tt){const rt=this.hls;parseIMSC1(tt,this.initPTS[_e.cc],nt=>{this._appendCues(nt,_e.level),rt.trigger(Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:_e})},nt=>{rt.logger.log(`Failed to parse IMSC1: ${nt}`),rt.trigger(Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:_e,error:nt})})}_parseVTTs(_e){var tt;const{frag:rt,payload:nt}=_e,{initPTS:st,unparsedVttFrags:it}=this,at=st.length-1;if(!st[rt.cc]&&at===-1){it.push(_e);return}const ot=this.hls,lt=(tt=rt.initSegment)!=null&&tt.data?appendUint8Array(rt.initSegment.data,new Uint8Array(nt)).buffer:nt;parseWebVTT(lt,this.initPTS[rt.cc],this.vttCCs,rt.cc,rt.start,ct=>{this._appendCues(ct,rt.level),ot.trigger(Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:rt})},ct=>{const ut=ct.message==="Missing initPTS for VTT MPEGTS";ut?it.push(_e):this._fallbackToIMSC1(rt,nt),ot.logger.log(`Failed to parse VTT cue: ${ct}`),!(ut&&at>rt.cc)&&ot.trigger(Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:rt,error:ct})})}_fallbackToIMSC1(_e,tt){const rt=this.tracks[_e.level];rt.textCodec||parseIMSC1(tt,this.initPTS[_e.cc],()=>{rt.textCodec=IMSC1_CODEC,this._parseIMSC1(_e,tt)},()=>{rt.textCodec="wvtt"})}_appendCues(_e,tt){const rt=this.hls;if(this.config.renderTextTracksNatively){const nt=this.textTracks[tt];if(!nt||nt.mode==="disabled")return;_e.forEach(st=>addCueToTrack(nt,st))}else{const nt=this.tracks[tt];if(!nt)return;const st=nt.default?"default":"subtitles"+tt;rt.trigger(Events.CUES_PARSED,{type:"subtitles",cues:_e,track:st})}}onFragDecrypted(_e,tt){const{frag:rt}=tt;rt.type===PlaylistLevelType.SUBTITLE&&this.onFragLoaded(Events.FRAG_LOADED,tt)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(_e,tt){if(!this.enabled||!this.config.enableCEA708Captions)return;const{frag:rt,samples:nt}=tt;if(!(rt.type===PlaylistLevelType.MAIN&&this.closedCaptionsForLevel(rt)==="NONE"))for(let st=0;st<nt.length;st++){const it=nt[st].bytes;if(it){this.cea608Parser1||this.initCea608Parsers();const at=this.extractCea608Data(it);this.cea608Parser1.addData(nt[st].pts,at[0]),this.cea608Parser2.addData(nt[st].pts,at[1])}}}onBufferFlushing(_e,{startOffset:tt,endOffset:rt,endOffsetSubtitles:nt,type:st}){const{media:it}=this;if(!(!it||it.currentTime<rt)){if(!st||st==="video"){const{captionsTracks:at}=this;Object.keys(at).forEach(ot=>removeCuesInRange(at[ot],tt,rt))}if(this.config.renderTextTracksNatively&&tt===0&&nt!==void 0){const{textTracks:at}=this;Object.keys(at).forEach(ot=>removeCuesInRange(at[ot],tt,nt))}}}extractCea608Data(_e){const tt=[[],[]],rt=_e[0]&31;let nt=2;for(let st=0;st<rt;st++){const it=_e[nt++],at=127&_e[nt++],ot=127&_e[nt++];if(at===0&&ot===0)continue;if((4&it)!==0){const ct=3&it;(ct===0||ct===1)&&(tt[ct].push(at),tt[ct].push(ot))}}return tt}}function captionsOrSubtitlesFromCharacteristics(et){return et.characteristics&&/transcribes-spoken-dialog/gi.test(et.characteristics)&&/describes-music-and-sound/gi.test(et.characteristics)?"captions":"subtitles"}function canReuseVttTextTrack(et,_e){return!!et&&et.kind===captionsOrSubtitlesFromCharacteristics(_e)&&subtitleTrackMatchesTextTrack(_e,et)}function intersection(et,_e,tt,rt){return Math.min(_e,rt)-Math.max(et,tt)}function newVTTCCs(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}const WHITESPACE_CHAR=/\s/,Cues={newCue(et,_e,tt,rt){const nt=[];let st,it,at,ot,lt;const ct=self.VTTCue||self.TextTrackCue;for(let dt=0;dt<rt.rows.length;dt++)if(st=rt.rows[dt],at=!0,ot=0,lt="",!st.isEmpty()){var ut;for(let pt=0;pt<st.chars.length;pt++)WHITESPACE_CHAR.test(st.chars[pt].uchar)&&at?ot++:(lt+=st.chars[pt].uchar,at=!1);st.cueStartTime=_e,_e===tt&&(tt+=1e-4),ot>=16?ot--:ot++;const ft=fixLineBreaks(lt.trim()),ht=generateCueId(_e,tt,ft);et!=null&&(ut=et.cues)!=null&&ut.getCueById(ht)||(it=new ct(_e,tt,ft),it.id=ht,it.line=dt+1,it.align="left",it.position=10+Math.min(80,Math.floor(ot*8/32)*10),nt.push(it))}return et&&nt.length&&(nt.sort((dt,ft)=>dt.line==="auto"||ft.line==="auto"?0:dt.line>8&&ft.line>8?ft.line-dt.line:dt.line-ft.line),nt.forEach(dt=>addCueToTrack(et,dt))),nt}};function fetchSupported(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}const BYTERANGE=/(\d+)-(\d+)\/(\d+)/;class FetchLoader{constructor(_e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=_e.fetchSetup||getRequest,this.controller=new self.AbortController,this.stats=new LoadStats}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var _e;this.abortInternal(),(_e=this.callbacks)!=null&&_e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(_e,tt,rt){const nt=this.stats;if(nt.loading.start)throw new Error("Loader can only be used once.");nt.loading.start=self.performance.now();const st=getRequestParameters(_e,this.controller.signal),it=_e.responseType==="arraybuffer",at=it?"byteLength":"length",{maxTimeToFirstByteMs:ot,maxLoadTimeMs:lt}=tt.loadPolicy;this.context=_e,this.config=tt,this.callbacks=rt,this.request=this.fetchSetup(_e,st),self.clearTimeout(this.requestTimeout),tt.timeout=ot&&isFiniteNumber(ot)?ot:lt,this.requestTimeout=self.setTimeout(()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(nt,_e,this.response))},tt.timeout),(isPromise(this.request)?this.request.then(self.fetch):self.fetch(this.request)).then(ut=>{var dt;this.response=this.loader=ut;const ft=Math.max(self.performance.now(),nt.loading.start);if(self.clearTimeout(this.requestTimeout),tt.timeout=lt,this.requestTimeout=self.setTimeout(()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(nt,_e,this.response))},lt-(ft-nt.loading.start)),!ut.ok){const{status:pt,statusText:gt}=ut;throw new FetchError(gt||"fetch, bad network response",pt,ut)}nt.loading.first=ft,nt.total=getContentLength(ut.headers)||nt.total;const ht=(dt=this.callbacks)==null?void 0:dt.onProgress;return ht&&isFiniteNumber(tt.highWaterMark)?this.loadProgressively(ut,nt,_e,tt.highWaterMark,ht):it?ut.arrayBuffer():_e.responseType==="json"?ut.json():ut.text()}).then(ut=>{var dt,ft;const ht=this.response;if(!ht)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),nt.loading.end=Math.max(self.performance.now(),nt.loading.first);const pt=ut[at];pt&&(nt.loaded=nt.total=pt);const gt={url:ht.url,data:ut,code:ht.status},mt=(dt=this.callbacks)==null?void 0:dt.onProgress;mt&&!isFiniteNumber(tt.highWaterMark)&&mt(nt,_e,ut,ht),(ft=this.callbacks)==null||ft.onSuccess(gt,nt,_e,ht)}).catch(ut=>{var dt;if(self.clearTimeout(this.requestTimeout),nt.aborted)return;const ft=ut&&ut.code||0,ht=ut?ut.message:null;(dt=this.callbacks)==null||dt.onError({code:ft,text:ht},_e,ut?ut.details:null,nt)})}getCacheAge(){let _e=null;if(this.response){const tt=this.response.headers.get("age");_e=tt?parseFloat(tt):null}return _e}getResponseHeader(_e){return this.response?this.response.headers.get(_e):null}loadProgressively(_e,tt,rt,nt=0,st){const it=new ChunkCache,at=_e.body.getReader(),ot=()=>at.read().then(lt=>{if(lt.done)return it.dataLength&&st(tt,rt,it.flush().buffer,_e),Promise.resolve(new ArrayBuffer(0));const ct=lt.value,ut=ct.length;return tt.loaded+=ut,ut<nt||it.dataLength?(it.push(ct),it.dataLength>=nt&&st(tt,rt,it.flush().buffer,_e)):st(tt,rt,ct.buffer,_e),ot()}).catch(()=>Promise.reject());return ot()}}function getRequestParameters(et,_e){const tt={method:"GET",mode:"cors",credentials:"same-origin",signal:_e,headers:new self.Headers(_extends$f({},et.headers))};return et.rangeEnd&&tt.headers.set("Range","bytes="+et.rangeStart+"-"+String(et.rangeEnd-1)),tt}function getByteRangeLength(et){const _e=BYTERANGE.exec(et);if(_e)return parseInt(_e[2])-parseInt(_e[1])+1}function getContentLength(et){const _e=et.get("Content-Range");if(_e){const rt=getByteRangeLength(_e);if(isFiniteNumber(rt))return rt}const tt=et.get("Content-Length");if(tt)return parseInt(tt)}function getRequest(et,_e){return new self.Request(et.url,_e)}class FetchError extends Error{constructor(_e,tt,rt){super(_e),this.code=void 0,this.details=void 0,this.code=tt,this.details=rt}}const AGE_HEADER_LINE_REGEX=/^age:\s*[\d.]+\s*$/im;class XhrLoader{constructor(_e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=_e&&_e.xhrSetup||null,this.stats=new LoadStats,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null}abortInternal(){const _e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),_e&&(_e.onreadystatechange=null,_e.onprogress=null,_e.readyState!==4&&(this.stats.aborted=!0,_e.abort()))}abort(){var _e;this.abortInternal(),(_e=this.callbacks)!=null&&_e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(_e,tt,rt){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=_e,this.config=tt,this.callbacks=rt,this.loadInternal()}loadInternal(){const{config:_e,context:tt}=this;if(!_e||!tt)return;const rt=this.loader=new self.XMLHttpRequest,nt=this.stats;nt.loading.first=0,nt.loaded=0,nt.aborted=!1;const st=this.xhrSetup;st?Promise.resolve().then(()=>{if(!(this.loader!==rt||this.stats.aborted))return st(rt,tt.url)}).catch(it=>{if(!(this.loader!==rt||this.stats.aborted))return rt.open("GET",tt.url,!0),st(rt,tt.url)}).then(()=>{this.loader!==rt||this.stats.aborted||this.openAndSendXhr(rt,tt,_e)}).catch(it=>{var at;(at=this.callbacks)==null||at.onError({code:rt.status,text:it.message},tt,rt,nt)}):this.openAndSendXhr(rt,tt,_e)}openAndSendXhr(_e,tt,rt){_e.readyState||_e.open("GET",tt.url,!0);const nt=tt.headers,{maxTimeToFirstByteMs:st,maxLoadTimeMs:it}=rt.loadPolicy;if(nt)for(const at in nt)_e.setRequestHeader(at,nt[at]);tt.rangeEnd&&_e.setRequestHeader("Range","bytes="+tt.rangeStart+"-"+(tt.rangeEnd-1)),_e.onreadystatechange=this.readystatechange.bind(this),_e.onprogress=this.loadprogress.bind(this),_e.responseType=tt.responseType,self.clearTimeout(this.requestTimeout),rt.timeout=st&&isFiniteNumber(st)?st:it,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),rt.timeout),_e.send()}readystatechange(){const{context:_e,loader:tt,stats:rt}=this;if(!_e||!tt)return;const nt=tt.readyState,st=this.config;if(!rt.aborted&&nt>=2&&(rt.loading.first===0&&(rt.loading.first=Math.max(self.performance.now(),rt.loading.start),st.timeout!==st.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),st.timeout=st.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),st.loadPolicy.maxLoadTimeMs-(rt.loading.first-rt.loading.start)))),nt===4)){self.clearTimeout(this.requestTimeout),tt.onreadystatechange=null,tt.onprogress=null;const lt=tt.status,ct=tt.responseType==="text"?tt.responseText:null;if(lt>=200&&lt<300){const ht=ct??tt.response;if(ht!=null){var it,at;rt.loading.end=Math.max(self.performance.now(),rt.loading.first);const pt=tt.responseType==="arraybuffer"?ht.byteLength:ht.length;rt.loaded=rt.total=pt,rt.bwEstimate=rt.total*8e3/(rt.loading.end-rt.loading.first);const gt=(it=this.callbacks)==null?void 0:it.onProgress;gt&&gt(rt,_e,ht,tt);const mt={url:tt.responseURL,data:ht,code:lt};(at=this.callbacks)==null||at.onSuccess(mt,rt,_e,tt);return}}const ut=st.loadPolicy.errorRetry,dt=rt.retry,ft={url:_e.url,data:void 0,code:lt};if(shouldRetry(ut,dt,!1,ft))this.retry(ut);else{var ot;logger.error(`${lt} while loading ${_e.url}`),(ot=this.callbacks)==null||ot.onError({code:lt,text:tt.statusText},_e,tt,rt)}}}loadtimeout(){if(!this.config)return;const _e=this.config.loadPolicy.timeoutRetry,tt=this.stats.retry;if(shouldRetry(_e,tt,!0))this.retry(_e);else{var rt;logger.warn(`timeout while loading ${(rt=this.context)==null?void 0:rt.url}`);const nt=this.callbacks;nt&&(this.abortInternal(),nt.onTimeout(this.stats,this.context,this.loader))}}retry(_e){const{context:tt,stats:rt}=this;this.retryDelay=getRetryDelay(_e,rt.retry),rt.retry++,logger.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${tt==null?void 0:tt.url}, retrying ${rt.retry}/${_e.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(_e){const tt=this.stats;tt.loaded=_e.loaded,_e.lengthComputable&&(tt.total=_e.total)}getCacheAge(){let _e=null;if(this.loader&&AGE_HEADER_LINE_REGEX.test(this.loader.getAllResponseHeaders())){const tt=this.loader.getResponseHeader("age");_e=tt?parseFloat(tt):null}return _e}getResponseHeader(_e){return this.loader&&new RegExp(`^${_e}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(_e):null}}const defaultLoadPolicy={maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null},hlsDefaultConfig=_objectSpread2(_objectSpread2({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,maxDevicePixelRatio:Number.POSITIVE_INFINITY,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,startOnSegmentBoundary:!1,maxBufferSize:60*1e3*1e3,maxFragLookUpTolerance:.25,maxBufferHole:.1,detectStallWithCurrentTimeMs:1250,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,nudgeOnVideoHole:!0,liveSyncMode:"edge",liveSyncDurationCount:3,liveSyncOnStallIncrease:1,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,ignorePlaylistParsingErrors:!1,loader:XhrLoader,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:AbrController,bufferController:BufferController,capLevelController:CapLevelController,errorController:ErrorController,fpsController:FPSController,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:requestMediaKeySystemAccess,requireKeySystemAccessOnStart:!1,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableEmsgKLVMetadata:!1,enableID3MetadataCues:!0,enableInterstitialPlayback:!0,interstitialAppendInPlace:!0,interstitialLiveLookAhead:10,useMediaCapabilities:!0,preserveManualLevelOnError:!1,certLoadPolicy:{default:defaultLoadPolicy},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},interstitialAssetListLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:3e4,timeoutRetry:{maxNumRetry:0,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:0,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},timelineConfig()),{},{subtitleStreamController:SubtitleStreamController,subtitleTrackController:SubtitleTrackController,timelineController:TimelineController,audioStreamController:AudioStreamController,audioTrackController:AudioTrackController,emeController:EMEController,cmcdController:CMCDController,contentSteeringController:ContentSteeringController,interstitialsController:InterstitialsController});function timelineConfig(){return{cueHandler:Cues,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function mergeConfig(et,_e,tt){if((_e.liveSyncDurationCount||_e.liveMaxLatencyDurationCount)&&(_e.liveSyncDuration||_e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(_e.liveMaxLatencyDurationCount!==void 0&&(_e.liveSyncDurationCount===void 0||_e.liveMaxLatencyDurationCount<=_e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(_e.liveMaxLatencyDuration!==void 0&&(_e.liveSyncDuration===void 0||_e.liveMaxLatencyDuration<=_e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const rt=deepCpy(et),nt=["manifest","level","frag"],st=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return nt.forEach(it=>{const at=`${it==="level"?"playlist":it}LoadPolicy`,ot=_e[at]===void 0,lt=[];st.forEach(ct=>{const ut=`${it}Loading${ct}`,dt=_e[ut];if(dt!==void 0&&ot){lt.push(ut);const ft=rt[at].default;switch(_e[at]={default:ft},ct){case"TimeOut":ft.maxLoadTimeMs=dt,ft.maxTimeToFirstByteMs=dt;break;case"MaxRetry":ft.errorRetry.maxNumRetry=dt,ft.timeoutRetry.maxNumRetry=dt;break;case"RetryDelay":ft.errorRetry.retryDelayMs=dt,ft.timeoutRetry.retryDelayMs=dt;break;case"MaxRetryTimeout":ft.errorRetry.maxRetryDelayMs=dt,ft.timeoutRetry.maxRetryDelayMs=dt;break}}}),lt.length&&tt.warn(`hls.js config: "${lt.join('", "')}" setting(s) are deprecated, use "${at}": ${stringify(_e[at])}`)}),_objectSpread2(_objectSpread2({},rt),_e)}function deepCpy(et){return et&&typeof et=="object"?Array.isArray(et)?et.map(deepCpy):Object.keys(et).reduce((_e,tt)=>(_e[tt]=deepCpy(et[tt]),_e),{}):et}function enableStreamingMode(et,_e){const tt=et.loader;tt!==FetchLoader&&tt!==XhrLoader?(_e.log("[config]: Custom loader detected, cannot enable progressive streaming"),et.progressive=!1):fetchSupported()&&(et.loader=FetchLoader,et.progressive=!0,et.enableSoftwareAES=!0,_e.log("[config]: Progressive streaming enabled, using FetchLoader"))}const MAX_START_GAP_JUMP=2,SKIP_BUFFER_HOLE_STEP_SECONDS=.1,SKIP_BUFFER_RANGE_START=.05,TICK_INTERVAL$1=100;class GapController extends TaskLoop{constructor(_e,tt){super("gap-controller",_e.logger),this.hls=void 0,this.fragmentTracker=void 0,this.media=null,this.mediaSource=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.buffered={},this.lastCurrentTime=0,this.ended=0,this.waiting=0,this.onMediaPlaying=()=>{this.ended=0,this.waiting=0},this.onMediaWaiting=()=>{var rt;(rt=this.media)!=null&&rt.seeking||(this.waiting=self.performance.now(),this.tick())},this.onMediaEnded=()=>{if(this.hls){var rt;this.ended=((rt=this.media)==null?void 0:rt.currentTime)||1,this.hls.trigger(Events.MEDIA_ENDED,{stalled:!1})}},this.hls=_e,this.fragmentTracker=tt,this.registerListeners()}registerListeners(){const{hls:_e}=this;_e&&(_e.on(Events.MEDIA_ATTACHED,this.onMediaAttached,this),_e.on(Events.MEDIA_DETACHING,this.onMediaDetaching,this),_e.on(Events.BUFFER_APPENDED,this.onBufferAppended,this))}unregisterListeners(){const{hls:_e}=this;_e&&(_e.off(Events.MEDIA_ATTACHED,this.onMediaAttached,this),_e.off(Events.MEDIA_DETACHING,this.onMediaDetaching,this),_e.off(Events.BUFFER_APPENDED,this.onBufferAppended,this))}destroy(){super.destroy(),this.unregisterListeners(),this.media=this.hls=this.fragmentTracker=null,this.mediaSource=void 0}onMediaAttached(_e,tt){this.setInterval(TICK_INTERVAL$1),this.mediaSource=tt.mediaSource;const rt=this.media=tt.media;addEventListener$1(rt,"playing",this.onMediaPlaying),addEventListener$1(rt,"waiting",this.onMediaWaiting),addEventListener$1(rt,"ended",this.onMediaEnded)}onMediaDetaching(_e,tt){this.clearInterval();const{media:rt}=this;rt&&(removeEventListener$1(rt,"playing",this.onMediaPlaying),removeEventListener$1(rt,"waiting",this.onMediaWaiting),removeEventListener$1(rt,"ended",this.onMediaEnded),this.media=null),this.mediaSource=void 0}onBufferAppended(_e,tt){this.buffered=tt.timeRanges}get hasBuffered(){return Object.keys(this.buffered).length>0}tick(){var _e;if(!((_e=this.media)!=null&&_e.readyState)||!this.hasBuffered)return;const tt=this.media.currentTime;this.poll(tt,this.lastCurrentTime),this.lastCurrentTime=tt}poll(_e,tt){var rt,nt;const st=(rt=this.hls)==null?void 0:rt.config;if(!st)return;const it=this.media;if(!it)return;const{seeking:at}=it,ot=this.seeking&&!at,lt=!this.seeking&&at,ct=it.paused&&!at||it.ended||it.playbackRate===0;if(this.seeking=at,_e!==tt){tt&&(this.ended=0),this.moved=!0,at||(this.nudgeRetry=0,st.nudgeOnVideoHole&&!ct&&_e>tt&&this.nudgeOnVideoHole(_e,tt)),this.waiting===0&&this.stallResolved(_e);return}if(lt||ot){ot&&this.stallResolved(_e);return}if(ct){this.nudgeRetry=0,this.stallResolved(_e),!this.ended&&it.ended&&this.hls&&(this.ended=_e||1,this.hls.trigger(Events.MEDIA_ENDED,{stalled:!1}));return}if(!BufferHelper.getBuffered(it).length){this.nudgeRetry=0;return}const ut=BufferHelper.bufferInfo(it,_e,0),dt=ut.nextStart||0,ft=this.fragmentTracker;if(at&&ft&&this.hls){const Et=getInFlightDependency(this.hls.inFlightFragments,_e),wt=ut.len>MAX_START_GAP_JUMP,$t=!dt||Et||dt-_e>MAX_START_GAP_JUMP&&!ft.getPartialFragment(_e);if(wt||$t)return;this.moved=!1}const ht=(nt=this.hls)==null?void 0:nt.latestLevelDetails;if(!this.moved&&this.stalled!==null&&ft){if(!(ut.len>0)&&!dt)return;const wt=Math.max(dt,ut.start||0)-_e,Tt=!!(ht!=null&&ht.live)?ht.targetduration*2:MAX_START_GAP_JUMP,St=appendedFragAtPosition(_e,ft);if(wt>0&&(wt<=Tt||St)){it.paused||this._trySkipBufferHole(St);return}}const pt=st.detectStallWithCurrentTimeMs,gt=self.performance.now(),mt=this.waiting;let bt=this.stalled;if(bt===null)if(mt>0&&gt-mt<pt)bt=this.stalled=mt;else{this.stalled=gt;return}const vt=gt-bt;if(!at&&(vt>=pt||mt)&&this.hls){var yt;if(((yt=this.mediaSource)==null?void 0:yt.readyState)==="ended"&&!(ht!=null&&ht.live)&&Math.abs(_e-((ht==null?void 0:ht.edge)||0))<1){if(this.ended)return;this.ended=_e||1,this.hls.trigger(Events.MEDIA_ENDED,{stalled:!0});return}if(this._reportStall(ut),!this.media||!this.hls)return}const xt=BufferHelper.bufferInfo(it,_e,st.maxBufferHole);this._tryFixBufferStall(xt,vt,_e)}stallResolved(_e){const tt=this.stalled;if(tt&&this.hls&&(this.stalled=null,this.stallReported)){const rt=self.performance.now()-tt;this.log(`playback not stuck anymore @${_e}, after ${Math.round(rt)}ms`),this.stallReported=!1,this.waiting=0,this.hls.trigger(Events.STALL_RESOLVED,{})}}nudgeOnVideoHole(_e,tt){var rt;const nt=this.buffered.video;if(this.hls&&this.media&&this.fragmentTracker&&(rt=this.buffered.audio)!=null&&rt.length&&nt&&nt.length>1&&_e>nt.end(0)){const st=BufferHelper.bufferedInfo(BufferHelper.timeRangesToArray(this.buffered.audio),_e,0);if(st.len>1&&tt>=st.start){const it=BufferHelper.timeRangesToArray(nt),at=BufferHelper.bufferedInfo(it,tt,0).bufferedIndex;if(at>-1&&at<it.length-1){const ot=BufferHelper.bufferedInfo(it,_e,0).bufferedIndex,lt=it[at].end,ct=it[at+1].start;if((ot===-1||ot>at)&&ct-lt<1&&_e-lt<2){const ut=new Error(`nudging playhead to flush pipeline after video hole. currentTime: ${_e} hole: ${lt} -> ${ct} buffered index: ${ot}`);this.warn(ut.message),this.media.currentTime+=1e-6;let dt=appendedFragAtPosition(_e,this.fragmentTracker);dt&&"fragment"in dt?dt=dt.fragment:dt||(dt=void 0);const ft=BufferHelper.bufferInfo(this.media,_e,0);this.hls.trigger(Events.ERROR,{type:ErrorTypes.MEDIA_ERROR,details:ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:ut,reason:ut.message,frag:dt,buffer:ft.len,bufferInfo:ft})}}}}}_tryFixBufferStall(_e,tt,rt){var nt,st;const{fragmentTracker:it,media:at}=this,ot=(nt=this.hls)==null?void 0:nt.config;if(!at||!it||!ot)return;const lt=(st=this.hls)==null?void 0:st.latestLevelDetails,ct=appendedFragAtPosition(rt,it);if((ct||lt!=null&&lt.live&&rt<lt.fragmentStart)&&(this._trySkipBufferHole(ct)||!this.media))return;const ut=_e.buffered,dt=this.adjacentTraversal(_e,rt);(ut&&ut.length>1&&_e.len>ot.maxBufferHole||_e.nextStart&&(_e.nextStart-rt<ot.maxBufferHole||dt))&&(tt>ot.highBufferWatchdogPeriod*1e3||this.waiting)&&(this.warn("Trying to nudge playhead over buffer-hole"),this._tryNudgeBuffer(_e))}adjacentTraversal(_e,tt){const rt=this.fragmentTracker,nt=_e.nextStart;if(rt&&nt){const st=rt.getFragAtPos(tt,PlaylistLevelType.MAIN),it=rt.getFragAtPos(nt,PlaylistLevelType.MAIN);if(st&&it)return it.sn-st.sn<2}return!1}_reportStall(_e){const{hls:tt,media:rt,stallReported:nt,stalled:st}=this;if(!nt&&st!==null&&rt&&tt){this.stallReported=!0;const it=new Error(`Playback stalling at @${rt.currentTime} due to low buffer (${stringify(_e)})`);this.warn(it.message),tt.trigger(Events.ERROR,{type:ErrorTypes.MEDIA_ERROR,details:ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,error:it,buffer:_e.len,bufferInfo:_e,stalled:{start:st}})}}_trySkipBufferHole(_e){var tt;const{fragmentTracker:rt,media:nt}=this,st=(tt=this.hls)==null?void 0:tt.config;if(!nt||!rt||!st)return 0;const it=nt.currentTime,at=BufferHelper.bufferInfo(nt,it,0),ot=it<at.start?at.start:at.nextStart;if(ot&&this.hls){const ct=at.len<=st.maxBufferHole,ut=at.len>0&&at.len<1&&nt.readyState<3,dt=ot-it;if(dt>0&&(ct||ut)){if(dt>st.maxBufferHole){let ht=!1;if(it===0){const pt=rt.getAppendedFrag(0,PlaylistLevelType.MAIN);pt&&ot<pt.end&&(ht=!0)}if(!ht&&_e){var lt;if(!((lt=this.hls.loadLevelObj)!=null&&lt.details)||getInFlightDependency(this.hls.inFlightFragments,ot))return 0;let gt=!1,mt=_e.end;for(;mt<ot;){const bt=appendedFragAtPosition(mt,rt);if(bt)mt+=bt.duration;else{gt=!0;break}}if(gt)return 0}}const ft=Math.max(ot+SKIP_BUFFER_RANGE_START,it+SKIP_BUFFER_HOLE_STEP_SECONDS);if(this.warn(`skipping hole, adjusting currentTime from ${it} to ${ft}`),this.moved=!0,nt.currentTime=ft,!(_e!=null&&_e.gap)){const ht=new Error(`fragment loaded with buffer holes, seeking from ${it} to ${ft}`),pt={type:ErrorTypes.MEDIA_ERROR,details:ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:ht,reason:ht.message,buffer:at.len,bufferInfo:at};_e&&("fragment"in _e?pt.part=_e:pt.frag=_e),this.hls.trigger(Events.ERROR,pt)}return ft}}return 0}_tryNudgeBuffer(_e){const{hls:tt,media:rt,nudgeRetry:nt}=this,st=tt==null?void 0:tt.config;if(!rt||!st)return 0;const it=rt.currentTime;if(this.nudgeRetry++,nt<st.nudgeMaxRetry){const at=it+(nt+1)*st.nudgeOffset,ot=new Error(`Nudging 'currentTime' from ${it} to ${at}`);this.warn(ot.message),rt.currentTime=at,tt.trigger(Events.ERROR,{type:ErrorTypes.MEDIA_ERROR,details:ErrorDetails.BUFFER_NUDGE_ON_STALL,error:ot,fatal:!1,buffer:_e.len,bufferInfo:_e})}else{const at=new Error(`Playhead still not moving while enough data buffered @${it} after ${st.nudgeMaxRetry} nudges`);this.error(at.message),tt.trigger(Events.ERROR,{type:ErrorTypes.MEDIA_ERROR,details:ErrorDetails.BUFFER_STALLED_ERROR,error:at,fatal:!0,buffer:_e.len,bufferInfo:_e})}}}function getInFlightDependency(et,_e){const tt=inFlight(et.main);if(tt&&tt.start<=_e)return tt;const rt=inFlight(et.audio);return rt&&rt.start<=_e?rt:null}function inFlight(et){if(!et)return null;switch(et.state){case State.IDLE:case State.STOPPED:case State.ENDED:case State.ERROR:return null}return et.frag}function appendedFragAtPosition(et,_e){return _e.getAppendedFrag(et,PlaylistLevelType.MAIN)||_e.getPartialFragment(et)}const MIN_CUE_DURATION=.25;function getCueClass(){if(!(typeof self>"u"))return self.VTTCue||self.TextTrackCue}function createCueWithDataFields(et,_e,tt,rt,nt){let st=new et(_e,tt,"");try{st.value=rt,nt&&(st.type=nt)}catch{st=new et(_e,tt,stringify(nt?_objectSpread2({type:nt},rt):rt))}return st}const MAX_CUE_ENDTIME=(()=>{const et=getCueClass();try{et&&new et(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();class ID3TrackController{constructor(_e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.removeCues=!0,this.assetCue=void 0,this.onEventCueEnter=()=>{this.hls&&this.hls.trigger(Events.EVENT_CUE_ENTER,{})},this.hls=_e,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=this.onEventCueEnter=null}_registerListeners(){const{hls:_e}=this;_e&&(_e.on(Events.MEDIA_ATTACHING,this.onMediaAttaching,this),_e.on(Events.MEDIA_ATTACHED,this.onMediaAttached,this),_e.on(Events.MEDIA_DETACHING,this.onMediaDetaching,this),_e.on(Events.MANIFEST_LOADING,this.onManifestLoading,this),_e.on(Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),_e.on(Events.BUFFER_FLUSHING,this.onBufferFlushing,this),_e.on(Events.LEVEL_UPDATED,this.onLevelUpdated,this),_e.on(Events.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this))}_unregisterListeners(){const{hls:_e}=this;_e&&(_e.off(Events.MEDIA_ATTACHING,this.onMediaAttaching,this),_e.off(Events.MEDIA_ATTACHED,this.onMediaAttached,this),_e.off(Events.MEDIA_DETACHING,this.onMediaDetaching,this),_e.off(Events.MANIFEST_LOADING,this.onManifestLoading,this),_e.off(Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),_e.off(Events.BUFFER_FLUSHING,this.onBufferFlushing,this),_e.off(Events.LEVEL_UPDATED,this.onLevelUpdated,this),_e.off(Events.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this))}onMediaAttaching(_e,tt){var rt;this.media=tt.media,((rt=tt.overrides)==null?void 0:rt.cueRemoval)===!1&&(this.removeCues=!1)}onMediaAttached(){var _e;const tt=(_e=this.hls)==null?void 0:_e.latestLevelDetails;tt&&this.updateDateRangeCues(tt)}onMediaDetaching(_e,tt){this.media=null,!tt.transferMedia&&(this.id3Track&&(this.removeCues&&clearCurrentCues(this.id3Track,this.onEventCueEnter),this.id3Track=null),this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(_e){const tt=this.getID3Track(_e.textTracks);return tt.mode="hidden",tt}getID3Track(_e){if(this.media){for(let tt=0;tt<_e.length;tt++){const rt=_e[tt];if(rt.kind==="metadata"&&rt.label==="id3")return sendAddTrackEvent(rt,this.media),rt}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(_e,tt){if(!this.media||!this.hls)return;const{enableEmsgMetadataCues:rt,enableID3MetadataCues:nt}=this.hls.config;if(!rt&&!nt)return;const{samples:st}=tt;this.id3Track||(this.id3Track=this.createTrack(this.media));const it=getCueClass();if(it)for(let at=0;at<st.length;at++){const ot=st[at].type;if(ot===MetadataSchema.emsg&&!rt||!nt)continue;const lt=getId3Frames(st[at].data),ct=st[at].pts;let ut=ct+st[at].duration;ut>MAX_CUE_ENDTIME&&(ut=MAX_CUE_ENDTIME),ut-ct<=0&&(ut=ct+MIN_CUE_DURATION);for(let ft=0;ft<lt.length;ft++){const ht=lt[ft];if(!isId3TimestampFrame(ht)){this.updateId3CueEnds(ct,ot);const pt=createCueWithDataFields(it,ct,ut,ht,ot);pt&&this.id3Track.addCue(pt)}}}}updateId3CueEnds(_e,tt){var rt;const nt=(rt=this.id3Track)==null?void 0:rt.cues;if(nt)for(let st=nt.length;st--;){const it=nt[st];it.type===tt&&it.startTime<_e&&it.endTime===MAX_CUE_ENDTIME&&(it.endTime=_e)}}onBufferFlushing(_e,{startOffset:tt,endOffset:rt,type:nt}){const{id3Track:st,hls:it}=this;if(!it)return;const{config:{enableEmsgMetadataCues:at,enableID3MetadataCues:ot}}=it;if(st&&(at||ot)){let lt;nt==="audio"?lt=ct=>ct.type===MetadataSchema.audioId3&&ot:nt==="video"?lt=ct=>ct.type===MetadataSchema.emsg&&at:lt=ct=>ct.type===MetadataSchema.audioId3&&ot||ct.type===MetadataSchema.emsg&&at,removeCuesInRange(st,tt,rt,lt)}}onLevelUpdated(_e,{details:tt}){this.updateDateRangeCues(tt,!0)}onLevelPtsUpdated(_e,tt){Math.abs(tt.drift)>.01&&this.updateDateRangeCues(tt.details)}updateDateRangeCues(_e,tt){if(!this.hls||!this.media)return;const{assetPlayerId:rt,timelineOffset:nt,enableDateRangeMetadataCues:st,interstitialsController:it}=this.hls.config;if(!st)return;const at=getCueClass();if(rt&&nt&&!it){const{fragmentStart:pt,fragmentEnd:gt}=_e;let mt=this.assetCue;mt?(mt.startTime=pt,mt.endTime=gt):at&&(mt=this.assetCue=createCueWithDataFields(at,pt,gt,{assetPlayerId:this.hls.config.assetPlayerId},"hlsjs.interstitial.asset"),mt&&(mt.id=rt,this.id3Track||(this.id3Track=this.createTrack(this.media)),this.id3Track.addCue(mt),mt.addEventListener("enter",this.onEventCueEnter)))}if(!_e.hasProgramDateTime)return;const{id3Track:ot}=this,{dateRanges:lt}=_e,ct=Object.keys(lt);let ut=this.dateRangeCuesAppended;if(ot&&tt){var dt;if((dt=ot.cues)!=null&&dt.length){const pt=Object.keys(ut).filter(gt=>!ct.includes(gt));for(let gt=pt.length;gt--;){var ft;const mt=pt[gt],bt=(ft=ut[mt])==null?void 0:ft.cues;delete ut[mt],bt&&Object.keys(bt).forEach(vt=>{const yt=bt[vt];if(yt){yt.removeEventListener("enter",this.onEventCueEnter);try{ot.removeCue(yt)}catch{}}})}}else ut=this.dateRangeCuesAppended={}}const ht=_e.fragments[_e.fragments.length-1];if(!(ct.length===0||!isFiniteNumber(ht==null?void 0:ht.programDateTime))){this.id3Track||(this.id3Track=this.createTrack(this.media));for(let pt=0;pt<ct.length;pt++){const gt=ct[pt],mt=lt[gt],bt=mt.startTime,vt=ut[gt],yt=(vt==null?void 0:vt.cues)||{};let xt=(vt==null?void 0:vt.durationKnown)||!1,Et=MAX_CUE_ENDTIME;const{duration:wt,endDate:$t}=mt;if($t&&wt!==null)Et=bt+wt,xt=!0;else if(mt.endOnNext&&!xt){const St=ct.reduce((Pt,At)=>{if(At!==mt.id){const Rt=lt[At];if(Rt.class===mt.class&&Rt.startDate>mt.startDate&&(!Pt||mt.startDate<Pt.startDate))return Rt}return Pt},null);St&&(Et=St.startTime,xt=!0)}const Tt=Object.keys(mt.attr);for(let St=0;St<Tt.length;St++){const Pt=Tt[St];if(!isDateRangeCueAttribute(Pt))continue;const At=yt[Pt];if(At)xt&&!(vt!=null&&vt.durationKnown)?At.endTime=Et:Math.abs(At.startTime-bt)>.01&&(At.startTime=bt,At.endTime=Et);else if(at){let Rt=mt.attr[Pt];isSCTE35Attribute(Pt)&&(Rt=hexToArrayBuffer(Rt));const Dt=createCueWithDataFields(at,bt,Et,{key:Pt,data:Rt},MetadataSchema.dateRange);Dt&&(Dt.id=gt,this.id3Track.addCue(Dt),yt[Pt]=Dt,it&&(Pt==="X-ASSET-LIST"||Pt==="X-ASSET-URL")&&Dt.addEventListener("enter",this.onEventCueEnter))}}ut[gt]={cues:yt,dateRange:mt,durationKnown:xt}}}}}class LatencyController{constructor(_e){this.hls=void 0,this.config=void 0,this.media=null,this.currentTime=0,this.stallCount=0,this._latency=null,this._targetLatencyUpdated=!1,this.onTimeupdate=()=>{const{media:tt}=this,rt=this.levelDetails;if(!tt||!rt)return;this.currentTime=tt.currentTime;const nt=this.computeLatency();if(nt===null)return;this._latency=nt;const{lowLatencyMode:st,maxLiveSyncPlaybackRate:it}=this.config;if(!st||it===1||!rt.live)return;const at=this.targetLatency;if(at===null)return;const ot=nt-at,lt=Math.min(this.maxLatency,at+rt.targetduration);if(ot<lt&&ot>.05&&this.forwardBufferLength>1){const ut=Math.min(2,Math.max(1,it)),dt=Math.round(2/(1+Math.exp(-.75*ot-this.edgeStalled))*20)/20,ft=Math.min(ut,Math.max(1,dt));this.changeMediaPlaybackRate(tt,ft)}else tt.playbackRate!==1&&tt.playbackRate!==0&&this.changeMediaPlaybackRate(tt,1)},this.hls=_e,this.config=_e.config,this.registerListeners()}get levelDetails(){var _e;return((_e=this.hls)==null?void 0:_e.latestLevelDetails)||null}get latency(){return this._latency||0}get maxLatency(){const{config:_e}=this;if(_e.liveMaxLatencyDuration!==void 0)return _e.liveMaxLatencyDuration;const tt=this.levelDetails;return tt?_e.liveMaxLatencyDurationCount*tt.targetduration:0}get targetLatency(){const _e=this.levelDetails;if(_e===null||this.hls===null)return null;const{holdBack:tt,partHoldBack:rt,targetduration:nt}=_e,{liveSyncDuration:st,liveSyncDurationCount:it,lowLatencyMode:at}=this.config,ot=this.hls.userConfig;let lt=at&&rt||tt;(this._targetLatencyUpdated||ot.liveSyncDuration||ot.liveSyncDurationCount||lt===0)&&(lt=st!==void 0?st:it*nt);const ct=nt;return lt+Math.min(this.stallCount*this.config.liveSyncOnStallIncrease,ct)}set targetLatency(_e){this.stallCount=0,this.config.liveSyncDuration=_e,this._targetLatencyUpdated=!0}get liveSyncPosition(){const _e=this.estimateLiveEdge(),tt=this.targetLatency;if(_e===null||tt===null)return null;const rt=this.levelDetails;if(rt===null)return null;const nt=rt.edge,st=_e-tt-this.edgeStalled,it=nt-rt.totalduration,at=nt-(this.config.lowLatencyMode&&rt.partTarget||rt.targetduration);return Math.min(Math.max(it,st),at)}get drift(){const _e=this.levelDetails;return _e===null?1:_e.drift}get edgeStalled(){const _e=this.levelDetails;if(_e===null)return 0;const tt=(this.config.lowLatencyMode&&_e.partTarget||_e.targetduration)*3;return Math.max(_e.age-tt,0)}get forwardBufferLength(){const{media:_e}=this,tt=this.levelDetails;if(!_e||!tt)return 0;const rt=_e.buffered.length;return(rt?_e.buffered.end(rt-1):tt.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.hls=null}registerListeners(){const{hls:_e}=this;_e&&(_e.on(Events.MEDIA_ATTACHED,this.onMediaAttached,this),_e.on(Events.MEDIA_DETACHING,this.onMediaDetaching,this),_e.on(Events.MANIFEST_LOADING,this.onManifestLoading,this),_e.on(Events.LEVEL_UPDATED,this.onLevelUpdated,this),_e.on(Events.ERROR,this.onError,this))}unregisterListeners(){const{hls:_e}=this;_e&&(_e.off(Events.MEDIA_ATTACHED,this.onMediaAttached,this),_e.off(Events.MEDIA_DETACHING,this.onMediaDetaching,this),_e.off(Events.MANIFEST_LOADING,this.onManifestLoading,this),_e.off(Events.LEVEL_UPDATED,this.onLevelUpdated,this),_e.off(Events.ERROR,this.onError,this))}onMediaAttached(_e,tt){this.media=tt.media,this.media.addEventListener("timeupdate",this.onTimeupdate)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.onTimeupdate),this.media=null)}onManifestLoading(){this._latency=null,this.stallCount=0}onLevelUpdated(_e,{details:tt}){tt.advanced&&this.onTimeupdate(),!tt.live&&this.media&&this.media.removeEventListener("timeupdate",this.onTimeupdate)}onError(_e,tt){var rt;tt.details===ErrorDetails.BUFFER_STALLED_ERROR&&(this.stallCount++,this.hls&&(rt=this.levelDetails)!=null&&rt.live&&this.hls.logger.warn("[latency-controller]: Stall detected, adjusting target latency"))}changeMediaPlaybackRate(_e,tt){var rt,nt;_e.playbackRate!==tt&&((rt=this.hls)==null||rt.logger.debug(`[latency-controller]: latency=${this.latency.toFixed(3)}, targetLatency=${(nt=this.targetLatency)==null?void 0:nt.toFixed(3)}, forwardBufferLength=${this.forwardBufferLength.toFixed(3)}: adjusting playback rate from ${_e.playbackRate} to ${tt}`),_e.playbackRate=tt)}estimateLiveEdge(){const _e=this.levelDetails;return _e===null?null:_e.edge+_e.age}computeLatency(){const _e=this.estimateLiveEdge();return _e===null?null:_e-this.currentTime}}class LevelController extends BasePlaylistController{constructor(_e,tt){super(_e,"level-controller"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=tt,this._registerListeners()}_registerListeners(){const{hls:_e}=this;_e.on(Events.MANIFEST_LOADING,this.onManifestLoading,this),_e.on(Events.MANIFEST_LOADED,this.onManifestLoaded,this),_e.on(Events.LEVEL_LOADED,this.onLevelLoaded,this),_e.on(Events.LEVELS_UPDATED,this.onLevelsUpdated,this),_e.on(Events.FRAG_BUFFERED,this.onFragBuffered,this),_e.on(Events.ERROR,this.onError,this)}_unregisterListeners(){const{hls:_e}=this;_e.off(Events.MANIFEST_LOADING,this.onManifestLoading,this),_e.off(Events.MANIFEST_LOADED,this.onManifestLoaded,this),_e.off(Events.LEVEL_LOADED,this.onLevelLoaded,this),_e.off(Events.LEVELS_UPDATED,this.onLevelsUpdated,this),_e.off(Events.FRAG_BUFFERED,this.onFragBuffered,this),_e.off(Events.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach(tt=>{tt.loadError=0,tt.fragmentError=0}),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(_e,tt){this.resetLevels()}onManifestLoaded(_e,tt){const rt=this.hls.config.preferManagedMediaSource,nt=[],st={},it={};let at=!1,ot=!1,lt=!1;tt.levels.forEach(ct=>{const ut=ct.attrs;let{audioCodec:dt,videoCodec:ft}=ct;dt&&(ct.audioCodec=dt=getCodecCompatibleName(dt,rt)||void 0),ft&&(ft=ct.videoCodec=convertAVC1ToAVCOTI(ft));const{width:ht,height:pt,unknownCodecs:gt}=ct;let mt=gt?gt.length:0;if(gt)for(let St=mt;St--;){const Pt=gt[St];this.isAudioSupported(Pt)?(ct.audioCodec=dt=dt?`${dt},${Pt}`:Pt,mt--,sampleEntryCodesISO.audio[dt.substring(0,4)]=2):this.isVideoSupported(Pt)&&(ct.videoCodec=ft=ft?`${ft},${Pt}`:Pt,mt--,sampleEntryCodesISO.video[ft.substring(0,4)]=2)}if(at||(at=!!(ht&&pt)),ot||(ot=!!ft),lt||(lt=!!dt),mt||dt&&!this.isAudioSupported(dt)||ft&&!this.isVideoSupported(ft)){this.log(`Some or all CODECS not supported "${ut.CODECS}"`);return}const{CODECS:bt,"FRAME-RATE":vt,"HDCP-LEVEL":yt,"PATHWAY-ID":xt,RESOLUTION:Et,"VIDEO-RANGE":wt}=ut,Tt=`${`${xt||"."}-`}${ct.bitrate}-${Et}-${vt}-${bt}-${wt}-${yt}`;if(st[Tt])if(st[Tt].uri!==ct.url&&!ct.attrs["PATHWAY-ID"]){const St=it[Tt]+=1;ct.attrs["PATHWAY-ID"]=new Array(St+1).join(".");const Pt=this.createLevel(ct);st[Tt]=Pt,nt.push(Pt)}else st[Tt].addGroupId("audio",ut.AUDIO),st[Tt].addGroupId("text",ut.SUBTITLES);else{const St=this.createLevel(ct);st[Tt]=St,it[Tt]=1,nt.push(St)}}),this.filterAndSortMediaOptions(nt,tt,at,ot,lt)}createLevel(_e){const tt=new Level(_e),rt=_e.supplemental;if(rt!=null&&rt.videoCodec&&!this.isVideoSupported(rt.videoCodec)){const nt=new Error(`SUPPLEMENTAL-CODECS not supported "${rt.videoCodec}"`);this.log(nt.message),tt.supportedResult=getUnsupportedResult(nt,[])}return tt}isAudioSupported(_e){return areCodecsMediaSourceSupported(_e,"audio",this.hls.config.preferManagedMediaSource)}isVideoSupported(_e){return areCodecsMediaSourceSupported(_e,"video",this.hls.config.preferManagedMediaSource)}filterAndSortMediaOptions(_e,tt,rt,nt,st){let it=[],at=[],ot=_e;if((rt||nt)&&st&&(ot=ot.filter(({videoCodec:gt,videoRange:mt,width:bt,height:vt})=>(!!gt||!!(bt&&vt))&&isVideoRange(mt))),ot.length===0){Promise.resolve().then(()=>{if(this.hls){let gt="no level with compatible codecs found in manifest",mt=gt;tt.levels.length&&(mt=`one or more CODECS in variant not supported: ${stringify(tt.levels.map(vt=>vt.attrs.CODECS).filter((vt,yt,xt)=>xt.indexOf(vt)===yt))}`,this.warn(mt),gt+=` (${mt})`);const bt=new Error(gt);this.hls.trigger(Events.ERROR,{type:ErrorTypes.MEDIA_ERROR,details:ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:tt.url,error:bt,reason:mt})}});return}tt.audioTracks&&(it=tt.audioTracks.filter(gt=>!gt.audioCodec||this.isAudioSupported(gt.audioCodec)),assignTrackIdsByGroup(it)),tt.subtitles&&(at=tt.subtitles,assignTrackIdsByGroup(at));const lt=ot.slice(0);ot.sort((gt,mt)=>{if(gt.attrs["HDCP-LEVEL"]!==mt.attrs["HDCP-LEVEL"])return(gt.attrs["HDCP-LEVEL"]||"")>(mt.attrs["HDCP-LEVEL"]||"")?1:-1;if(rt&&gt.height!==mt.height)return gt.height-mt.height;if(gt.frameRate!==mt.frameRate)return gt.frameRate-mt.frameRate;if(gt.videoRange!==mt.videoRange)return VideoRangeValues.indexOf(gt.videoRange)-VideoRangeValues.indexOf(mt.videoRange);if(gt.videoCodec!==mt.videoCodec){const bt=videoCodecPreferenceValue(gt.videoCodec),vt=videoCodecPreferenceValue(mt.videoCodec);if(bt!==vt)return vt-bt}if(gt.uri===mt.uri&&gt.codecSet!==mt.codecSet){const bt=codecsSetSelectionPreferenceValue(gt.codecSet),vt=codecsSetSelectionPreferenceValue(mt.codecSet);if(bt!==vt)return vt-bt}return gt.averageBitrate!==mt.averageBitrate?gt.averageBitrate-mt.averageBitrate:0});let ct=lt[0];if(this.steering&&(ot=this.steering.filterParsedLevels(ot),ot.length!==lt.length)){for(let gt=0;gt<lt.length;gt++)if(lt[gt].pathwayId===ot[0].pathwayId){ct=lt[gt];break}}this._levels=ot;for(let gt=0;gt<ot.length;gt++)if(ot[gt]===ct){var ut;this._firstLevel=gt;const mt=ct.bitrate,bt=this.hls.bandwidthEstimate;if(this.log(`manifest loaded, ${ot.length} level(s) found, first bitrate: ${mt}`),((ut=this.hls.userConfig)==null?void 0:ut.abrEwmaDefaultEstimate)===void 0){const vt=Math.min(mt,this.hls.config.abrEwmaDefaultEstimateMax);vt>bt&&bt===this.hls.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=vt)}break}const dt=st&&!nt,ft=this.hls.config,ht=!!(ft.audioStreamController&&ft.audioTrackController),pt={levels:ot,audioTracks:it,subtitleTracks:at,sessionData:tt.sessionData,sessionKeys:tt.sessionKeys,firstLevel:this._firstLevel,stats:tt.stats,audio:st,video:nt,altAudio:ht&&!dt&&it.some(gt=>!!gt.url)};this.hls.trigger(Events.MANIFEST_PARSED,pt)}get levels(){return this._levels.length===0?null:this._levels}get loadLevelObj(){return this.currentLevel}get level(){return this.currentLevelIndex}set level(_e){const tt=this._levels;if(tt.length===0)return;if(_e<0||_e>=tt.length){const ct=new Error("invalid level idx"),ut=_e<0;if(this.hls.trigger(Events.ERROR,{type:ErrorTypes.OTHER_ERROR,details:ErrorDetails.LEVEL_SWITCH_ERROR,level:_e,fatal:ut,error:ct,reason:ct.message}),ut)return;_e=Math.min(_e,tt.length-1)}const rt=this.currentLevelIndex,nt=this.currentLevel,st=nt?nt.attrs["PATHWAY-ID"]:void 0,it=tt[_e],at=it.attrs["PATHWAY-ID"];if(this.currentLevelIndex=_e,this.currentLevel=it,rt===_e&&nt&&st===at)return;this.log(`Switching to level ${_e} (${it.height?it.height+"p ":""}${it.videoRange?it.videoRange+" ":""}${it.codecSet?it.codecSet+" ":""}@${it.bitrate})${at?" with Pathway "+at:""} from level ${rt}${st?" with Pathway "+st:""}`);const ot={level:_e,attrs:it.attrs,details:it.details,bitrate:it.bitrate,averageBitrate:it.averageBitrate,maxBitrate:it.maxBitrate,realBitrate:it.realBitrate,width:it.width,height:it.height,codecSet:it.codecSet,audioCodec:it.audioCodec,videoCodec:it.videoCodec,audioGroups:it.audioGroups,subtitleGroups:it.subtitleGroups,loaded:it.loaded,loadError:it.loadError,fragmentError:it.fragmentError,name:it.name,id:it.id,uri:it.uri,url:it.url,urlId:0,audioGroupIds:it.audioGroupIds,textGroupIds:it.textGroupIds};this.hls.trigger(Events.LEVEL_SWITCHING,ot);const lt=it.details;if(!lt||lt.live){const ct=this.switchParams(it.uri,nt==null?void 0:nt.details,lt);this.loadPlaylist(ct)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(_e){this.manualLevelIndex=_e,this._startLevel===void 0&&(this._startLevel=_e),_e!==-1&&(this.level=_e)}get firstLevel(){return this._firstLevel}set firstLevel(_e){this._firstLevel=_e}get startLevel(){if(this._startLevel===void 0){const _e=this.hls.config.startLevel;return _e!==void 0?_e:this.hls.firstAutoLevel}return this._startLevel}set startLevel(_e){this._startLevel=_e}get pathways(){return this.steering?this.steering.pathways():[]}get pathwayPriority(){return this.steering?this.steering.pathwayPriority:null}set pathwayPriority(_e){if(this.steering){const tt=this.steering.pathways(),rt=_e.filter(nt=>tt.indexOf(nt)!==-1);if(_e.length<1){this.warn(`pathwayPriority ${_e} should contain at least one pathway from list: ${tt}`);return}this.steering.pathwayPriority=rt}}onError(_e,tt){tt.fatal||!tt.context||tt.context.type===PlaylistContextType.LEVEL&&tt.context.level===this.level&&this.checkRetry(tt)}onFragBuffered(_e,{frag:tt}){if(tt!==void 0&&tt.type===PlaylistLevelType.MAIN){const rt=tt.elementaryStreams;if(!Object.keys(rt).some(st=>!!rt[st]))return;const nt=this._levels[tt.level];nt!=null&&nt.loadError&&(this.log(`Resetting level error count of ${nt.loadError} on frag buffered`),nt.loadError=0)}}onLevelLoaded(_e,tt){var rt;const{level:nt,details:st}=tt,it=tt.levelInfo;if(!it){var at;this.warn(`Invalid level index ${nt}`),(at=tt.deliveryDirectives)!=null&&at.skip&&(st.deltaUpdateFailed=!0);return}if(it===this.currentLevel||tt.withoutMultiVariant){it.fragmentError===0&&(it.loadError=0);let ot=it.details;ot===tt.details&&ot.advanced&&(ot=void 0),this.playlistLoaded(nt,tt,ot)}else(rt=tt.deliveryDirectives)!=null&&rt.skip&&(st.deltaUpdateFailed=!0)}loadPlaylist(_e){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentLevel)&&this.scheduleLoading(this.currentLevel,_e)}loadingPlaylist(_e,tt){super.loadingPlaylist(_e,tt);const rt=this.getUrlWithDirectives(_e.uri,tt),nt=this.currentLevelIndex,st=_e.attrs["PATHWAY-ID"],it=_e.details,at=it==null?void 0:it.age;this.log(`Loading level index ${nt}${(tt==null?void 0:tt.msn)!==void 0?" at sn "+tt.msn+" part "+tt.part:""}${st?" Pathway "+st:""}${at&&it.live?" age "+at.toFixed(1)+(it.type&&" "+it.type||""):""} ${rt}`),this.hls.trigger(Events.LEVEL_LOADING,{url:rt,level:nt,levelInfo:_e,pathwayId:_e.attrs["PATHWAY-ID"],id:0,deliveryDirectives:tt||null})}get nextLoadLevel(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(_e){this.level=_e,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=_e)}removeLevel(_e){var tt;if(this._levels.length===1)return;const rt=this._levels.filter((st,it)=>it!==_e?!0:(this.steering&&this.steering.removeLevel(st),st===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,st.details&&st.details.fragments.forEach(at=>at.level=-1)),!1));reassignFragmentLevelIndexes(rt),this._levels=rt,this.currentLevelIndex>-1&&(tt=this.currentLevel)!=null&&tt.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.manualLevelIndex>-1&&(this.manualLevelIndex=this.currentLevelIndex);const nt=rt.length-1;this._firstLevel=Math.min(this._firstLevel,nt),this._startLevel&&(this._startLevel=Math.min(this._startLevel,nt)),this.hls.trigger(Events.LEVELS_UPDATED,{levels:rt})}onLevelsUpdated(_e,{levels:tt}){this._levels=tt}checkMaxAutoUpdated(){const{autoLevelCapping:_e,maxAutoLevel:tt,maxHdcpLevel:rt}=this.hls;this._maxAutoLevel!==tt&&(this._maxAutoLevel=tt,this.hls.trigger(Events.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:_e,levels:this.levels,maxAutoLevel:tt,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:rt}))}}function assignTrackIdsByGroup(et){const _e={};et.forEach(tt=>{const rt=tt.groupId||"";tt.id=_e[rt]=_e[rt]||0,_e[rt]++})}function getSourceBuffer(){return self.SourceBuffer||self.WebKitSourceBuffer}function isMSESupported(){if(!getMediaSource())return!1;const _e=getSourceBuffer();return!_e||_e.prototype&&typeof _e.prototype.appendBuffer=="function"&&typeof _e.prototype.remove=="function"}function isSupported(){if(!isMSESupported())return!1;const et=getMediaSource();return typeof(et==null?void 0:et.isTypeSupported)=="function"&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some(_e=>et.isTypeSupported(mimeTypeForCodec(_e,"video")))||["mp4a.40.2","fLaC"].some(_e=>et.isTypeSupported(mimeTypeForCodec(_e,"audio"))))}function changeTypeSupported(){var et;const _e=getSourceBuffer();return typeof(_e==null||(et=_e.prototype)==null?void 0:et.changeType)=="function"}const TICK_INTERVAL=100;class StreamController extends BaseStreamController{constructor(_e,tt,rt){super(_e,tt,rt,"stream-controller",PlaylistLevelType.MAIN),this.audioCodecSwap=!1,this.level=-1,this._forceStartLoad=!1,this._hasEnoughToStart=!1,this.altAudio=0,this.audioOnly=!1,this.fragPlaying=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this.onMediaPlaying=()=>{this.tick()},this.onMediaSeeked=()=>{const nt=this.media,st=nt?nt.currentTime:null;if(st===null||!isFiniteNumber(st)||(this.log(`Media seeked to ${st.toFixed(3)}`),!this.getBufferedFrag(st)))return;const it=this.getFwdBufferInfoAtPos(nt,st,PlaylistLevelType.MAIN,0);if(it===null||it.len===0){this.warn(`Main forward buffer length at ${st} on "seeked" event ${it?it.len:"empty"})`);return}this.tick()},this.registerListeners()}registerListeners(){super.registerListeners();const{hls:_e}=this;_e.on(Events.MANIFEST_PARSED,this.onManifestParsed,this),_e.on(Events.LEVEL_LOADING,this.onLevelLoading,this),_e.on(Events.LEVEL_LOADED,this.onLevelLoaded,this),_e.on(Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),_e.on(Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),_e.on(Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),_e.on(Events.BUFFER_CREATED,this.onBufferCreated,this),_e.on(Events.BUFFER_FLUSHED,this.onBufferFlushed,this),_e.on(Events.LEVELS_UPDATED,this.onLevelsUpdated,this),_e.on(Events.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){super.unregisterListeners();const{hls:_e}=this;_e.off(Events.MANIFEST_PARSED,this.onManifestParsed,this),_e.off(Events.LEVEL_LOADED,this.onLevelLoaded,this),_e.off(Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),_e.off(Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),_e.off(Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),_e.off(Events.BUFFER_CREATED,this.onBufferCreated,this),_e.off(Events.BUFFER_FLUSHED,this.onBufferFlushed,this),_e.off(Events.LEVELS_UPDATED,this.onLevelsUpdated,this),_e.off(Events.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this.onMediaPlaying=this.onMediaSeeked=null,this.unregisterListeners(),super.onHandlerDestroying()}startLoad(_e,tt){if(this.levels){const{lastCurrentTime:rt,hls:nt}=this;if(this.stopLoad(),this.setInterval(TICK_INTERVAL),this.level=-1,!this.startFragRequested){let st=nt.startLevel;st===-1&&(nt.config.testBandwidth&&this.levels.length>1?(st=0,this.bitrateTest=!0):st=nt.firstAutoLevel),nt.nextLoadLevel=st,this.level=nt.loadLevel,this._hasEnoughToStart=!!tt}rt>0&&_e===-1&&!tt&&(this.log(`Override startPosition with lastCurrentTime @${rt.toFixed(3)}`),_e=rt),this.state=State.IDLE,this.nextLoadPosition=this.lastCurrentTime=_e+this.timelineOffset,this.startPosition=tt?-1:_e,this.tick()}else this._forceStartLoad=!0,this.state=State.STOPPED}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case State.WAITING_LEVEL:{const{levels:tt,level:rt}=this,nt=tt==null?void 0:tt[rt],st=nt==null?void 0:nt.details;if(st&&(!st.live||this.levelLastLoaded===nt&&!this.waitForLive(nt))){if(this.waitForCdnTuneIn(st))break;this.state=State.IDLE;break}else if(this.hls.nextLoadLevel!==this.level){this.state=State.IDLE;break}break}case State.FRAG_LOADING_WAITING_RETRY:{var _e;const tt=self.performance.now(),rt=this.retryDate;if(!rt||tt>=rt||(_e=this.media)!=null&&_e.seeking){const{levels:nt,level:st}=this,it=nt==null?void 0:nt[st];this.resetStartWhenNotLoaded(it||null),this.state=State.IDLE}}break}this.state===State.IDLE&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){var _e;super.onTickEnd(),(_e=this.media)!=null&&_e.readyState&&this.media.seeking===!1&&(this.lastCurrentTime=this.media.currentTime),this.checkFragmentChanged()}doTickIdle(){const{hls:_e,levelLastLoaded:tt,levels:rt,media:nt}=this;if(tt===null||!nt&&!this.primaryPrefetch&&(this.startFragRequested||!_e.config.startFragPrefetch)||this.altAudio&&this.audioOnly)return;const st=this.buffering?_e.nextLoadLevel:_e.loadLevel;if(!(rt!=null&&rt[st]))return;const it=rt[st],at=this.getMainFwdBufferInfo();if(at===null)return;const ot=this.getLevelDetails();if(ot&&this._streamEnded(at,ot)){const pt={};this.altAudio===2&&(pt.type="video"),this.hls.trigger(Events.BUFFER_EOS,pt),this.state=State.ENDED;return}if(!this.buffering)return;_e.loadLevel!==st&&_e.manualLevel===-1&&this.log(`Adapting to level ${st} from level ${this.level}`),this.level=_e.nextLoadLevel=st;const lt=it.details;if(!lt||this.state===State.WAITING_LEVEL||this.waitForLive(it)){this.level=st,this.state=State.WAITING_LEVEL,this.startFragRequested=!1;return}const ct=at.len,ut=this.getMaxBufferLength(it.maxBitrate);if(ct>=ut)return;this.backtrackFragment&&this.backtrackFragment.start>at.end&&(this.backtrackFragment=null);const dt=this.backtrackFragment?this.backtrackFragment.start:at.end;let ft=this.getNextFragment(dt,lt);if(this.couldBacktrack&&!this.fragPrevious&&ft&&isMediaFragment(ft)&&this.fragmentTracker.getState(ft)!==FragmentState.OK){var ht;const gt=((ht=this.backtrackFragment)!=null?ht:ft).sn-lt.startSN,mt=lt.fragments[gt-1];mt&&ft.cc===mt.cc&&(ft=mt,this.fragmentTracker.removeFragment(mt))}else this.backtrackFragment&&at.len&&(this.backtrackFragment=null);if(ft&&this.isLoopLoading(ft,dt)){if(!ft.gap){const gt=this.audioOnly&&!this.altAudio?ElementaryStreamTypes.AUDIO:ElementaryStreamTypes.VIDEO,mt=(gt===ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;mt&&this.afterBufferFlushed(mt,gt,PlaylistLevelType.MAIN)}ft=this.getNextFragmentLoopLoading(ft,lt,at,PlaylistLevelType.MAIN,ut)}ft&&(ft.initSegment&&!ft.initSegment.data&&!this.bitrateTest&&(ft=ft.initSegment),this.loadFragment(ft,it,dt))}loadFragment(_e,tt,rt){const nt=this.fragmentTracker.getState(_e);nt===FragmentState.NOT_LOADED||nt===FragmentState.PARTIAL?isMediaFragment(_e)?this.bitrateTest?(this.log(`Fragment ${_e.sn} of level ${_e.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(_e,tt)):super.loadFragment(_e,tt,rt):this._loadInitSegment(_e,tt):this.clearTrackerIfNeeded(_e)}getBufferedFrag(_e){return this.fragmentTracker.getBufferedFrag(_e,PlaylistLevelType.MAIN)}followingBufferedFrag(_e){return _e?this.getBufferedFrag(_e.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:_e,media:tt}=this;if(tt!=null&&tt.readyState){let rt;const nt=this.getAppendedFrag(tt.currentTime);nt&&nt.start>1&&this.flushMainBuffer(0,nt.start-1);const st=this.getLevelDetails();if(st!=null&&st.live){const at=this.getMainFwdBufferInfo();if(!at||at.len<st.targetduration*2)return}if(!tt.paused&&_e){const at=this.hls.nextLoadLevel,ot=_e[at],lt=this.fragLastKbps;lt&&this.fragCurrent?rt=this.fragCurrent.duration*ot.maxBitrate/(1e3*lt)+1:rt=0}else rt=0;const it=this.getBufferedFrag(tt.currentTime+rt);if(it){const at=this.followingBufferedFrag(it);if(at){this.abortCurrentFrag();const ot=at.maxStartPTS?at.maxStartPTS:at.start,lt=at.duration,ct=Math.max(it.end,ot+Math.min(Math.max(lt-this.config.maxFragLookUpTolerance,lt*(this.couldBacktrack?.5:.125)),lt*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(ct,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const _e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,_e&&(_e.abortRequests(),this.fragmentTracker.removeFragment(_e)),this.state){case State.KEY_LOADING:case State.FRAG_LOADING:case State.FRAG_LOADING_WAITING_RETRY:case State.PARSING:case State.PARSED:this.state=State.IDLE;break}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(_e,tt){super.flushMainBuffer(_e,tt,this.altAudio===2?"video":null)}onMediaAttached(_e,tt){super.onMediaAttached(_e,tt);const rt=tt.media;addEventListener$1(rt,"playing",this.onMediaPlaying),addEventListener$1(rt,"seeked",this.onMediaSeeked)}onMediaDetaching(_e,tt){const{media:rt}=this;rt&&(removeEventListener$1(rt,"playing",this.onMediaPlaying),removeEventListener$1(rt,"seeked",this.onMediaSeeked)),this.videoBuffer=null,this.fragPlaying=null,super.onMediaDetaching(_e,tt),!tt.transferMedia&&(this._hasEnoughToStart=!1)}onManifestLoading(){super.onManifestLoading(),this.log("Trigger BUFFER_RESET"),this.hls.trigger(Events.BUFFER_RESET,void 0),this.couldBacktrack=!1,this.fragLastKbps=0,this.fragPlaying=this.backtrackFragment=null,this.altAudio=0,this.audioOnly=!1}onManifestParsed(_e,tt){let rt=!1,nt=!1;for(let st=0;st<tt.levels.length;st++){const it=tt.levels[st].audioCodec;it&&(rt=rt||it.indexOf("mp4a.40.2")!==-1,nt=nt||it.indexOf("mp4a.40.5")!==-1)}this.audioCodecSwitch=rt&&nt&&!changeTypeSupported(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=tt.levels,this.startFragRequested=!1}onLevelLoading(_e,tt){const{levels:rt}=this;if(!rt||this.state!==State.IDLE)return;const nt=tt.levelInfo;(!nt.details||nt.details.live&&(this.levelLastLoaded!==nt||nt.details.expired)||this.waitForCdnTuneIn(nt.details))&&(this.state=State.WAITING_LEVEL)}onLevelLoaded(_e,tt){var rt;const{levels:nt,startFragRequested:st}=this,it=tt.level,at=tt.details,ot=at.totalduration;if(!nt){this.warn(`Levels were reset while loading level ${it}`);return}this.log(`Level ${it} loaded [${at.startSN},${at.endSN}]${at.lastPartSn?`[part-${at.lastPartSn}-${at.lastPartIndex}]`:""}, cc [${at.startCC}, ${at.endCC}] duration:${ot}`);const lt=tt.levelInfo,ct=this.fragCurrent;ct&&(this.state===State.FRAG_LOADING||this.state===State.FRAG_LOADING_WAITING_RETRY)&&ct.level!==tt.level&&ct.loader&&this.abortCurrentFrag();let ut=0;if(at.live||(rt=lt.details)!=null&&rt.live){var dt;if(this.checkLiveUpdate(at),at.deltaUpdateFailed)return;ut=this.alignPlaylists(at,lt.details,(dt=this.levelLastLoaded)==null?void 0:dt.details)}if(lt.details=at,this.levelLastLoaded=lt,st||this.setStartPosition(at,ut),this.hls.trigger(Events.LEVEL_UPDATED,{details:at,level:it}),this.state===State.WAITING_LEVEL){if(this.waitForCdnTuneIn(at))return;this.state=State.IDLE}st&&at.live&&this.synchronizeToLiveEdge(at),this.tick()}synchronizeToLiveEdge(_e){const{config:tt,media:rt}=this;if(!rt)return;const nt=this.hls.liveSyncPosition,st=this.getLoadPosition(),it=_e.fragmentStart,at=_e.edge,ot=st>=it-tt.maxFragLookUpTolerance&&st<=at;if(nt!==null&&rt.duration>nt&&(st<nt||!ot)){const ct=tt.liveMaxLatencyDuration!==void 0?tt.liveMaxLatencyDuration:tt.liveMaxLatencyDurationCount*_e.targetduration;if((!ot&&rt.readyState<4||st<at-ct)&&(this._hasEnoughToStart||(this.nextLoadPosition=nt),rt.readyState))if(this.warn(`Playback: ${st.toFixed(3)} is located too far from the end of live sliding playlist: ${at}, reset currentTime to : ${nt.toFixed(3)}`),this.config.liveSyncMode==="buffered"){var lt;const ut=BufferHelper.bufferInfo(rt,nt,0);if(!((lt=ut.buffered)!=null&&lt.length)){rt.currentTime=nt;return}if(ut.start<=st){rt.currentTime=nt;return}const{nextStart:ft}=BufferHelper.bufferedInfo(ut.buffered,st,0);ft&&(rt.currentTime=ft)}else rt.currentTime=nt}}_handleFragmentLoadProgress(_e){var tt;const rt=_e.frag,{part:nt,payload:st}=_e,{levels:it}=this;if(!it){this.warn(`Levels were reset while fragment load was in progress. Fragment ${rt.sn} of level ${rt.level} will not be buffered`);return}const at=it[rt.level];if(!at){this.warn(`Level ${rt.level} not found on progress`);return}const ot=at.details;if(!ot){this.warn(`Dropping fragment ${rt.sn} of level ${rt.level} after level details were reset`),this.fragmentTracker.removeFragment(rt);return}const lt=at.videoCodec,ct=ot.PTSKnown||!ot.live,ut=(tt=rt.initSegment)==null?void 0:tt.data,dt=this._getAudioCodec(at),ft=this.transmuxer=this.transmuxer||new TransmuxerInterface(this.hls,PlaylistLevelType.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),ht=nt?nt.index:-1,pt=ht!==-1,gt=new ChunkMetadata(rt.level,rt.sn,rt.stats.chunkCount,st.byteLength,ht,pt),mt=this.initPTS[rt.cc];ft.push(st,ut,dt,lt,rt,nt,ot.totalduration,ct,gt,mt)}onAudioTrackSwitching(_e,tt){const rt=this.hls,nt=this.altAudio===2;if(useAlternateAudio(tt.url,rt))this.altAudio=1;else{if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const it=this.fragCurrent;it&&(this.log("Switching to main audio track, cancel main fragment load"),it.abortRequests(),this.fragmentTracker.removeFragment(it)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();if(nt){this.fragmentTracker.removeAllFragments(),rt.once(Events.BUFFER_FLUSHED,()=>{this.hls&&this.hls.trigger(Events.AUDIO_TRACK_SWITCHED,tt)}),rt.trigger(Events.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null});return}rt.trigger(Events.AUDIO_TRACK_SWITCHED,tt)}}onAudioTrackSwitched(_e,tt){const rt=useAlternateAudio(tt.url,this.hls);if(rt){const nt=this.videoBuffer;nt&&this.mediaBuffer!==nt&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=nt)}this.altAudio=rt?2:0,this.tick()}onBufferCreated(_e,tt){const rt=tt.tracks;let nt,st,it=!1;for(const at in rt){const ot=rt[at];if(ot.id==="main"){if(st=at,nt=ot,at==="video"){const lt=rt[at];lt&&(this.videoBuffer=lt.buffer)}}else it=!0}it&&nt?(this.log(`Alternate track found, use ${st}.buffered to schedule main fragment loading`),this.mediaBuffer=nt.buffer):this.mediaBuffer=this.media}onFragBuffered(_e,tt){const{frag:rt,part:nt}=tt,st=rt.type===PlaylistLevelType.MAIN;if(st){if(this.fragContextChanged(rt)){this.warn(`Fragment ${rt.sn}${nt?" p: "+nt.index:""} of level ${rt.level} finished buffering, but was aborted. state: ${this.state}`),this.state===State.PARSED&&(this.state=State.IDLE);return}const at=nt?nt.stats:rt.stats;this.fragLastKbps=Math.round(8*at.total/(at.buffering.end-at.loading.first)),isMediaFragment(rt)&&(this.fragPrevious=rt),this.fragBufferedComplete(rt,nt)}const it=this.media;it&&(!this._hasEnoughToStart&&BufferHelper.getBuffered(it).length&&(this._hasEnoughToStart=!0,this.seekToStartPos()),st&&this.tick())}get hasEnoughToStart(){return this._hasEnoughToStart}onError(_e,tt){var rt;if(tt.fatal){this.state=State.ERROR;return}switch(tt.details){case ErrorDetails.FRAG_GAP:case ErrorDetails.FRAG_PARSING_ERROR:case ErrorDetails.FRAG_DECRYPT_ERROR:case ErrorDetails.FRAG_LOAD_ERROR:case ErrorDetails.FRAG_LOAD_TIMEOUT:case ErrorDetails.KEY_LOAD_ERROR:case ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(PlaylistLevelType.MAIN,tt);break;case ErrorDetails.LEVEL_LOAD_ERROR:case ErrorDetails.LEVEL_LOAD_TIMEOUT:case ErrorDetails.LEVEL_PARSING_ERROR:!tt.levelRetry&&this.state===State.WAITING_LEVEL&&((rt=tt.context)==null?void 0:rt.type)===PlaylistContextType.LEVEL&&(this.state=State.IDLE);break;case ErrorDetails.BUFFER_ADD_CODEC_ERROR:case ErrorDetails.BUFFER_APPEND_ERROR:if(tt.parent!=="main")return;this.reduceLengthAndFlushBuffer(tt)&&this.resetLoadingState();break;case ErrorDetails.BUFFER_FULL_ERROR:if(tt.parent!=="main")return;this.reduceLengthAndFlushBuffer(tt)&&(!this.config.interstitialsController&&this.config.assetPlayerId?this._hasEnoughToStart=!0:this.flushMainBuffer(0,Number.POSITIVE_INFINITY));break;case ErrorDetails.INTERNAL_EXCEPTION:this.recoverWorkerError(tt);break}}onFragLoadEmergencyAborted(){this.state=State.IDLE,this._hasEnoughToStart||(this.startFragRequested=!1,this.nextLoadPosition=this.lastCurrentTime),this.tickImmediate()}onBufferFlushed(_e,{type:tt}){if(tt!==ElementaryStreamTypes.AUDIO||!this.altAudio){const rt=(tt===ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;rt&&(this.afterBufferFlushed(rt,tt,PlaylistLevelType.MAIN),this.tick())}}onLevelsUpdated(_e,tt){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level,this.level===-1&&this.resetWhenMissingContext(this.fragCurrent)),this.levels=tt.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:_e}=this;if(!_e)return;const tt=_e.currentTime;let rt=this.startPosition;if(rt>=0&&tt<rt){if(_e.seeking){this.log(`could not seek to ${rt}, already seeking at ${tt}`);return}const nt=this.timelineOffset;nt&&rt&&(rt+=nt);const st=this.getLevelDetails(),it=BufferHelper.getBuffered(_e),at=it.length?it.start(0):0,ot=at-rt,lt=Math.max(this.config.maxBufferHole,this.config.maxFragLookUpTolerance);(this.config.startOnSegmentBoundary||ot>0&&(ot<lt||this.loadingParts&&ot<2*((st==null?void 0:st.partTarget)||0)))&&(this.log(`adjusting start position by ${ot} to match buffer start`),rt+=ot,this.startPosition=rt),tt<rt&&(this.log(`seek to target start position ${rt} from current time ${tt} buffer start ${at}`),_e.currentTime=rt)}}_getAudioCodec(_e){let tt=this.config.defaultAudioCodec||_e.audioCodec;return this.audioCodecSwap&&tt&&(this.log("Swapping audio codec"),tt.indexOf("mp4a.40.5")!==-1?tt="mp4a.40.2":tt="mp4a.40.5"),tt}_loadBitrateTestFrag(_e,tt){_e.bitrateTest=!0,this._doFragLoad(_e,tt).then(rt=>{const{hls:nt}=this,st=rt==null?void 0:rt.frag;if(!st||this.fragContextChanged(st))return;tt.fragmentError=0,this.state=State.IDLE,this.startFragRequested=!1,this.bitrateTest=!1;const it=st.stats;it.parsing.start=it.parsing.end=it.buffering.start=it.buffering.end=self.performance.now(),nt.trigger(Events.FRAG_LOADED,rt),st.bitrateTest=!1})}_handleTransmuxComplete(_e){const tt=this.playlistType,{hls:rt}=this,{remuxResult:nt,chunkMeta:st}=_e,it=this.getCurrentContext(st);if(!it){this.resetWhenMissingContext(st);return}const{frag:at,part:ot,level:lt}=it,{video:ct,text:ut,id3:dt,initSegment:ft}=nt,{details:ht}=lt,pt=this.altAudio?void 0:nt.audio;if(this.fragContextChanged(at)){this.fragmentTracker.removeFragment(at);return}if(this.state=State.PARSING,ft){const gt=ft.tracks;if(gt){const yt=at.initSegment||at;if(this.unhandledEncryptionError(ft,at))return;this._bufferInitSegment(lt,gt,yt,st),rt.trigger(Events.FRAG_PARSING_INIT_SEGMENT,{frag:yt,id:tt,tracks:gt})}const mt=ft.initPTS,bt=ft.timescale,vt=this.initPTS[at.cc];if(isFiniteNumber(mt)&&(!vt||vt.baseTime!==mt||vt.timescale!==bt)){const yt=ft.trackId;this.initPTS[at.cc]={baseTime:mt,timescale:bt,trackId:yt},rt.trigger(Events.INIT_PTS_FOUND,{frag:at,id:tt,initPTS:mt,timescale:bt,trackId:yt})}}if(ct&&ht){pt&&ct.type==="audiovideo"&&this.logMuxedErr(at);const gt=ht.fragments[at.sn-1-ht.startSN],mt=at.sn===ht.startSN,bt=!gt||at.cc>gt.cc;if(nt.independent!==!1){const{startPTS:vt,endPTS:yt,startDTS:xt,endDTS:Et}=ct;if(ot)ot.elementaryStreams[ct.type]={startPTS:vt,endPTS:yt,startDTS:xt,endDTS:Et};else if(ct.firstKeyFrame&&ct.independent&&st.id===1&&!bt&&(this.couldBacktrack=!0),ct.dropped&&ct.independent){const wt=this.getMainFwdBufferInfo(),$t=(wt?wt.end:this.getLoadPosition())+this.config.maxBufferHole,Tt=ct.firstKeyFramePTS?ct.firstKeyFramePTS:vt;if(!mt&&$t<Tt-this.config.maxBufferHole&&!bt){this.backtrack(at);return}else bt&&(at.gap=!0);at.setElementaryStreamInfo(ct.type,at.start,yt,at.start,Et,!0)}else mt&&vt-(ht.appliedTimelineOffset||0)>MAX_START_GAP_JUMP&&(at.gap=!0);at.setElementaryStreamInfo(ct.type,vt,yt,xt,Et),this.backtrackFragment&&(this.backtrackFragment=at),this.bufferFragmentData(ct,at,ot,st,mt||bt)}else if(mt||bt)at.gap=!0;else{this.backtrack(at);return}}if(pt){const{startPTS:gt,endPTS:mt,startDTS:bt,endDTS:vt}=pt;ot&&(ot.elementaryStreams[ElementaryStreamTypes.AUDIO]={startPTS:gt,endPTS:mt,startDTS:bt,endDTS:vt}),at.setElementaryStreamInfo(ElementaryStreamTypes.AUDIO,gt,mt,bt,vt),this.bufferFragmentData(pt,at,ot,st)}if(ht&&dt!=null&&dt.samples.length){const gt={id:tt,frag:at,details:ht,samples:dt.samples};rt.trigger(Events.FRAG_PARSING_METADATA,gt)}if(ht&&ut){const gt={id:tt,frag:at,details:ht,samples:ut.samples};rt.trigger(Events.FRAG_PARSING_USERDATA,gt)}}logMuxedErr(_e){this.warn(`${isMediaFragment(_e)?"Media":"Init"} segment with muxed audiovideo where only video expected: ${_e.url}`)}_bufferInitSegment(_e,tt,rt,nt){if(this.state!==State.PARSING)return;this.audioOnly=!!tt.audio&&!tt.video,this.altAudio&&!this.audioOnly&&(delete tt.audio,tt.audiovideo&&this.logMuxedErr(rt));const{audio:st,video:it,audiovideo:at}=tt;if(st){const lt=_e.audioCodec;let ct=pickMostCompleteCodecName(st.codec,lt);ct==="mp4a"&&(ct="mp4a.40.5");const ut=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){ct&&(ct.indexOf("mp4a.40.5")!==-1?ct="mp4a.40.2":ct="mp4a.40.5");const dt=st.metadata;dt&&"channelCount"in dt&&(dt.channelCount||1)!==1&&ut.indexOf("firefox")===-1&&(ct="mp4a.40.5")}ct&&ct.indexOf("mp4a.40.5")!==-1&&ut.indexOf("android")!==-1&&st.container!=="audio/mpeg"&&(ct="mp4a.40.2",this.log(`Android: force audio codec to ${ct}`)),lt&&lt!==ct&&this.log(`Swapping manifest audio codec "${lt}" for "${ct}"`),st.levelCodec=ct,st.id=PlaylistLevelType.MAIN,this.log(`Init audio buffer, container:${st.container}, codecs[selected/level/parsed]=[${ct||""}/${lt||""}/${st.codec}]`),delete tt.audiovideo}if(it){it.levelCodec=_e.videoCodec,it.id=PlaylistLevelType.MAIN;const lt=it.codec;if((lt==null?void 0:lt.length)===4)switch(lt){case"hvc1":case"hev1":it.codec="hvc1.1.6.L120.90";break;case"av01":it.codec="av01.0.04M.08";break;case"avc1":it.codec="avc1.42e01e";break}this.log(`Init video buffer, container:${it.container}, codecs[level/parsed]=[${_e.videoCodec||""}/${lt}]${it.codec!==lt?" parsed-corrected="+it.codec:""}${it.supplemental?" supplemental="+it.supplemental:""}`),delete tt.audiovideo}at&&(this.log(`Init audiovideo buffer, container:${at.container}, codecs[level/parsed]=[${_e.codecs}/${at.codec}]`),delete tt.video,delete tt.audio);const ot=Object.keys(tt);if(ot.length){if(this.hls.trigger(Events.BUFFER_CODECS,tt),!this.hls)return;ot.forEach(lt=>{const ut=tt[lt].initSegment;ut!=null&&ut.byteLength&&this.hls.trigger(Events.BUFFER_APPENDING,{type:lt,data:ut,frag:rt,part:null,chunkMeta:nt,parent:rt.type})})}this.tickImmediate()}getMainFwdBufferInfo(){const _e=this.mediaBuffer&&this.altAudio===2?this.mediaBuffer:this.media;return this.getFwdBufferInfo(_e,PlaylistLevelType.MAIN)}get maxBufferLength(){const{levels:_e,level:tt}=this,rt=_e==null?void 0:_e[tt];return rt?this.getMaxBufferLength(rt.maxBitrate):this.config.maxBufferLength}backtrack(_e){this.couldBacktrack=!0,this.backtrackFragment=_e,this.resetTransmuxer(),this.flushBufferGap(_e),this.fragmentTracker.removeFragment(_e),this.fragPrevious=null,this.nextLoadPosition=_e.start,this.state=State.IDLE}checkFragmentChanged(){const _e=this.media;let tt=null;if(_e&&_e.readyState>1&&_e.seeking===!1){const rt=_e.currentTime;if(BufferHelper.isBuffered(_e,rt)?tt=this.getAppendedFrag(rt):BufferHelper.isBuffered(_e,rt+.1)&&(tt=this.getAppendedFrag(rt+.1)),tt){this.backtrackFragment=null;const nt=this.fragPlaying,st=tt.level;(!nt||tt.sn!==nt.sn||nt.level!==st)&&(this.fragPlaying=tt,this.hls.trigger(Events.FRAG_CHANGED,{frag:tt}),(!nt||nt.level!==st)&&this.hls.trigger(Events.LEVEL_SWITCHED,{level:st}))}}}get nextLevel(){const _e=this.nextBufferedFrag;return _e?_e.level:-1}get currentFrag(){var _e;if(this.fragPlaying)return this.fragPlaying;const tt=((_e=this.media)==null?void 0:_e.currentTime)||this.lastCurrentTime;return isFiniteNumber(tt)?this.getAppendedFrag(tt):null}get currentProgramDateTime(){var _e;const tt=((_e=this.media)==null?void 0:_e.currentTime)||this.lastCurrentTime;if(isFiniteNumber(tt)){const rt=this.getLevelDetails(),nt=this.currentFrag||(rt?findFragmentByPTS(null,rt.fragments,tt):null);if(nt){const st=nt.programDateTime;if(st!==null){const it=st+(tt-nt.start)*1e3;return new Date(it)}}}return null}get currentLevel(){const _e=this.currentFrag;return _e?_e.level:-1}get nextBufferedFrag(){const _e=this.currentFrag;return _e?this.followingBufferedFrag(_e):null}get forceStartLoad(){return this._forceStartLoad}}class KeyLoader{constructor(_e){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=_e}abort(_e){for(const rt in this.keyUriToKeyInfo){const nt=this.keyUriToKeyInfo[rt].loader;if(nt){var tt;if(_e&&_e!==((tt=nt.context)==null?void 0:tt.frag.type))return;nt.abort()}}}detach(){for(const _e in this.keyUriToKeyInfo){const tt=this.keyUriToKeyInfo[_e];(tt.mediaKeySessionContext||tt.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[_e]}}destroy(){this.detach();for(const _e in this.keyUriToKeyInfo){const tt=this.keyUriToKeyInfo[_e].loader;tt&&tt.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(_e,tt=ErrorDetails.KEY_LOAD_ERROR,rt,nt,st){return new LoadError({type:ErrorTypes.NETWORK_ERROR,details:tt,fatal:!1,frag:_e,response:st,error:rt,networkDetails:nt})}loadClear(_e,tt,rt){if(this.emeController&&this.config.emeEnabled&&!this.emeController.getSelectedKeySystemFormats().length){if(tt.length)for(let nt=0,st=tt.length;nt<st;nt++){const it=tt[nt];if(_e.cc<=it.cc&&(!isMediaFragment(_e)||!isMediaFragment(it)||_e.sn<it.sn)||!rt&&nt==st-1)return this.emeController.selectKeySystemFormat(it).then(at=>{if(!this.emeController)return;it.setKeyFormat(at);const ot=keySystemFormatToKeySystemDomain(at);if(ot)return this.emeController.getKeySystemAccess([ot])})}if(this.config.requireKeySystemAccessOnStart){const nt=getKeySystemsForConfig(this.config);if(nt.length)return this.emeController.getKeySystemAccess(nt)}}return null}load(_e){return!_e.decryptdata&&_e.encrypted&&this.emeController&&this.config.emeEnabled?this.emeController.selectKeySystemFormat(_e).then(tt=>this.loadInternal(_e,tt)):this.loadInternal(_e)}loadInternal(_e,tt){var rt,nt;tt&&_e.setKeyFormat(tt);const st=_e.decryptdata;if(!st){const lt=new Error(tt?`Expected frag.decryptdata to be defined after setting format ${tt}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(_e,ErrorDetails.KEY_LOAD_ERROR,lt))}const it=st.uri;if(!it)return Promise.reject(this.createKeyLoadError(_e,ErrorDetails.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${it}"`)));let at=this.keyUriToKeyInfo[it];if((rt=at)!=null&&rt.decryptdata.key)return st.key=at.decryptdata.key,Promise.resolve({frag:_e,keyInfo:at});if((nt=at)!=null&&nt.keyLoadPromise){var ot;switch((ot=at.mediaKeySessionContext)==null?void 0:ot.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return at.keyLoadPromise.then(lt=>(st.key=lt.keyInfo.decryptdata.key,{frag:_e,keyInfo:at}))}}switch(at=this.keyUriToKeyInfo[it]={decryptdata:st,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},st.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return st.keyFormat==="identity"?this.loadKeyHTTP(at,_e):this.loadKeyEME(at,_e);case"AES-128":case"AES-256":case"AES-256-CTR":return this.loadKeyHTTP(at,_e);default:return Promise.reject(this.createKeyLoadError(_e,ErrorDetails.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${st.method}"`)))}}loadKeyEME(_e,tt){const rt={frag:tt,keyInfo:_e};if(this.emeController&&this.config.emeEnabled){const nt=this.emeController.loadKey(rt);if(nt)return(_e.keyLoadPromise=nt.then(st=>(_e.mediaKeySessionContext=st,rt))).catch(st=>{throw _e.keyLoadPromise=null,st})}return Promise.resolve(rt)}loadKeyHTTP(_e,tt){const rt=this.config,nt=rt.loader,st=new nt(rt);return tt.keyLoader=_e.loader=st,_e.keyLoadPromise=new Promise((it,at)=>{const ot={keyInfo:_e,frag:tt,responseType:"arraybuffer",url:_e.decryptdata.uri},lt=rt.keyLoadPolicy.default,ct={loadPolicy:lt,timeout:lt.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},ut={onSuccess:(dt,ft,ht,pt)=>{const{frag:gt,keyInfo:mt,url:bt}=ht;if(!gt.decryptdata||mt!==this.keyUriToKeyInfo[bt])return at(this.createKeyLoadError(gt,ErrorDetails.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),pt));mt.decryptdata.key=gt.decryptdata.key=new Uint8Array(dt.data),gt.keyLoader=null,mt.loader=null,it({frag:gt,keyInfo:mt})},onError:(dt,ft,ht,pt)=>{this.resetLoader(ft),at(this.createKeyLoadError(tt,ErrorDetails.KEY_LOAD_ERROR,new Error(`HTTP Error ${dt.code} loading key ${dt.text}`),ht,_objectSpread2({url:ot.url,data:void 0},dt)))},onTimeout:(dt,ft,ht)=>{this.resetLoader(ft),at(this.createKeyLoadError(tt,ErrorDetails.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),ht))},onAbort:(dt,ft,ht)=>{this.resetLoader(ft),at(this.createKeyLoadError(tt,ErrorDetails.INTERNAL_ABORTED,new Error("key loading aborted"),ht))}};st.load(ot,ct,ut)})}resetLoader(_e){const{frag:tt,keyInfo:rt,url:nt}=_e,st=rt.loader;tt.keyLoader===st&&(tt.keyLoader=null,rt.loader=null),delete this.keyUriToKeyInfo[nt],st&&st.destroy()}}function mapContextToLevelType(et){const{type:_e}=et;switch(_e){case PlaylistContextType.AUDIO_TRACK:return PlaylistLevelType.AUDIO;case PlaylistContextType.SUBTITLE_TRACK:return PlaylistLevelType.SUBTITLE;default:return PlaylistLevelType.MAIN}}function getResponseUrl(et,_e){let tt=et.url;return(tt===void 0||tt.indexOf("data:")===0)&&(tt=_e.url),tt}class PlaylistLoader{constructor(_e){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.onManifestLoaded=this.checkAutostartLoad,this.hls=_e,this.registerListeners()}startLoad(_e){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:_e}=this;_e.on(Events.MANIFEST_LOADING,this.onManifestLoading,this),_e.on(Events.LEVEL_LOADING,this.onLevelLoading,this),_e.on(Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),_e.on(Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),_e.on(Events.LEVELS_UPDATED,this.onLevelsUpdated,this)}unregisterListeners(){const{hls:_e}=this;_e.off(Events.MANIFEST_LOADING,this.onManifestLoading,this),_e.off(Events.LEVEL_LOADING,this.onLevelLoading,this),_e.off(Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),_e.off(Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),_e.off(Events.LEVELS_UPDATED,this.onLevelsUpdated,this)}createInternalLoader(_e){const tt=this.hls.config,rt=tt.pLoader,nt=tt.loader,st=rt||nt,it=new st(tt);return this.loaders[_e.type]=it,it}getInternalLoader(_e){return this.loaders[_e.type]}resetInternalLoader(_e){this.loaders[_e]&&delete this.loaders[_e]}destroyInternalLoaders(){for(const _e in this.loaders){const tt=this.loaders[_e];tt&&tt.destroy(),this.resetInternalLoader(_e)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(_e,tt){const{url:rt}=tt;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:PlaylistContextType.MANIFEST,url:rt,deliveryDirectives:null,levelOrTrack:null})}onLevelLoading(_e,tt){const{id:rt,level:nt,pathwayId:st,url:it,deliveryDirectives:at,levelInfo:ot}=tt;this.load({id:rt,level:nt,pathwayId:st,responseType:"text",type:PlaylistContextType.LEVEL,url:it,deliveryDirectives:at,levelOrTrack:ot})}onAudioTrackLoading(_e,tt){const{id:rt,groupId:nt,url:st,deliveryDirectives:it,track:at}=tt;this.load({id:rt,groupId:nt,level:null,responseType:"text",type:PlaylistContextType.AUDIO_TRACK,url:st,deliveryDirectives:it,levelOrTrack:at})}onSubtitleTrackLoading(_e,tt){const{id:rt,groupId:nt,url:st,deliveryDirectives:it,track:at}=tt;this.load({id:rt,groupId:nt,level:null,responseType:"text",type:PlaylistContextType.SUBTITLE_TRACK,url:st,deliveryDirectives:it,levelOrTrack:at})}onLevelsUpdated(_e,tt){const rt=this.loaders[PlaylistContextType.LEVEL];if(rt){const nt=rt.context;nt&&!tt.levels.some(st=>st===nt.levelOrTrack)&&(rt.abort(),delete this.loaders[PlaylistContextType.LEVEL])}}load(_e){var tt;const rt=this.hls.config;let nt=this.getInternalLoader(_e);if(nt){const lt=this.hls.logger,ct=nt.context;if(ct&&ct.levelOrTrack===_e.levelOrTrack&&(ct.url===_e.url||ct.deliveryDirectives&&!_e.deliveryDirectives)){ct.url===_e.url?lt.log(`[playlist-loader]: ignore ${_e.url} ongoing request`):lt.log(`[playlist-loader]: ignore ${_e.url} in favor of ${ct.url}`);return}lt.log(`[playlist-loader]: aborting previous loader for type: ${_e.type}`),nt.abort()}let st;if(_e.type===PlaylistContextType.MANIFEST?st=rt.manifestLoadPolicy.default:st=_extends$f({},rt.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),nt=this.createInternalLoader(_e),isFiniteNumber((tt=_e.deliveryDirectives)==null?void 0:tt.part)){let lt;if(_e.type===PlaylistContextType.LEVEL&&_e.level!==null?lt=this.hls.levels[_e.level].details:_e.type===PlaylistContextType.AUDIO_TRACK&&_e.id!==null?lt=this.hls.audioTracks[_e.id].details:_e.type===PlaylistContextType.SUBTITLE_TRACK&&_e.id!==null&&(lt=this.hls.subtitleTracks[_e.id].details),lt){const ct=lt.partTarget,ut=lt.targetduration;if(ct&&ut){const dt=Math.max(ct*3,ut*.8)*1e3;st=_extends$f({},st,{maxTimeToFirstByteMs:Math.min(dt,st.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(dt,st.maxTimeToFirstByteMs)})}}}const it=st.errorRetry||st.timeoutRetry||{},at={loadPolicy:st,timeout:st.maxLoadTimeMs,maxRetry:it.maxNumRetry||0,retryDelay:it.retryDelayMs||0,maxRetryDelay:it.maxRetryDelayMs||0},ot={onSuccess:(lt,ct,ut,dt)=>{const ft=this.getInternalLoader(ut);this.resetInternalLoader(ut.type);const ht=lt.data;if(ht.indexOf("#EXTM3U")!==0){this.handleManifestParsingError(lt,ut,new Error("no EXTM3U delimiter"),dt||null,ct);return}ct.parsing.start=performance.now(),M3U8Parser.isMediaPlaylist(ht)||ut.type!==PlaylistContextType.MANIFEST?this.handleTrackOrLevelPlaylist(lt,ct,ut,dt||null,ft):this.handleMasterPlaylist(lt,ct,ut,dt)},onError:(lt,ct,ut,dt)=>{this.handleNetworkError(ct,ut,!1,lt,dt)},onTimeout:(lt,ct,ut)=>{this.handleNetworkError(ct,ut,!0,void 0,lt)}};nt.load(_e,at,ot)}checkAutostartLoad(){if(!this.hls)return;const{config:{autoStartLoad:_e,startPosition:tt},forceStartLoad:rt}=this.hls;(_e||rt)&&(this.hls.logger.log(`${_e?"auto":"force"} startLoad with configured startPosition ${tt}`),this.hls.startLoad(tt))}handleMasterPlaylist(_e,tt,rt,nt){const st=this.hls,it=_e.data,at=getResponseUrl(_e,rt),ot=M3U8Parser.parseMasterPlaylist(it,at);if(ot.playlistParsingError){this.handleManifestParsingError(_e,rt,ot.playlistParsingError,nt,tt);return}const{contentSteering:lt,levels:ct,sessionData:ut,sessionKeys:dt,startTimeOffset:ft,variableList:ht}=ot;this.variableList=ht;const{AUDIO:pt=[],SUBTITLES:gt,"CLOSED-CAPTIONS":mt}=M3U8Parser.parseMasterPlaylistMedia(it,at,ot);pt.length&&!pt.some(vt=>!vt.url)&&ct[0].audioCodec&&!ct[0].attrs.AUDIO&&(this.hls.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),pt.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new AttrList({}),bitrate:0,url:""})),st.trigger(Events.MANIFEST_LOADED,{levels:ct,audioTracks:pt,subtitles:gt,captions:mt,contentSteering:lt,url:at,stats:tt,networkDetails:nt,sessionData:ut,sessionKeys:dt,startTimeOffset:ft,variableList:ht})}handleTrackOrLevelPlaylist(_e,tt,rt,nt,st){const it=this.hls,{id:at,level:ot,type:lt}=rt,ct=getResponseUrl(_e,rt),ut=isFiniteNumber(ot)?ot:isFiniteNumber(at)?at:0,dt=mapContextToLevelType(rt),ft=M3U8Parser.parseLevelPlaylist(_e.data,ct,ut,dt,0,this.variableList);if(lt===PlaylistContextType.MANIFEST){const ht={attrs:new AttrList({}),bitrate:0,details:ft,name:"",url:ct};ft.requestScheduled=tt.loading.start+computeReloadInterval(ft,0),it.trigger(Events.MANIFEST_LOADED,{levels:[ht],audioTracks:[],url:ct,stats:tt,networkDetails:nt,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}tt.parsing.end=performance.now(),rt.levelDetails=ft,this.handlePlaylistLoaded(ft,_e,tt,rt,nt,st)}handleManifestParsingError(_e,tt,rt,nt,st){this.hls.trigger(Events.ERROR,{type:ErrorTypes.NETWORK_ERROR,details:ErrorDetails.MANIFEST_PARSING_ERROR,fatal:tt.type===PlaylistContextType.MANIFEST,url:_e.url,err:rt,error:rt,reason:rt.message,response:_e,context:tt,networkDetails:nt,stats:st})}handleNetworkError(_e,tt,rt=!1,nt,st){let it=`A network ${rt?"timeout":"error"+(nt?" (status "+nt.code+")":"")} occurred while loading ${_e.type}`;_e.type===PlaylistContextType.LEVEL?it+=`: ${_e.level} id: ${_e.id}`:(_e.type===PlaylistContextType.AUDIO_TRACK||_e.type===PlaylistContextType.SUBTITLE_TRACK)&&(it+=` id: ${_e.id} group-id: "${_e.groupId}"`);const at=new Error(it);this.hls.logger.warn(`[playlist-loader]: ${it}`);let ot=ErrorDetails.UNKNOWN,lt=!1;const ct=this.getInternalLoader(_e);switch(_e.type){case PlaylistContextType.MANIFEST:ot=rt?ErrorDetails.MANIFEST_LOAD_TIMEOUT:ErrorDetails.MANIFEST_LOAD_ERROR,lt=!0;break;case PlaylistContextType.LEVEL:ot=rt?ErrorDetails.LEVEL_LOAD_TIMEOUT:ErrorDetails.LEVEL_LOAD_ERROR,lt=!1;break;case PlaylistContextType.AUDIO_TRACK:ot=rt?ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:ErrorDetails.AUDIO_TRACK_LOAD_ERROR,lt=!1;break;case PlaylistContextType.SUBTITLE_TRACK:ot=rt?ErrorDetails.SUBTITLE_TRACK_LOAD_TIMEOUT:ErrorDetails.SUBTITLE_LOAD_ERROR,lt=!1;break}ct&&this.resetInternalLoader(_e.type);const ut={type:ErrorTypes.NETWORK_ERROR,details:ot,fatal:lt,url:_e.url,loader:ct,context:_e,error:at,networkDetails:tt,stats:st};if(nt){const dt=(tt==null?void 0:tt.url)||_e.url;ut.response=_objectSpread2({url:dt,data:void 0},nt)}this.hls.trigger(Events.ERROR,ut)}handlePlaylistLoaded(_e,tt,rt,nt,st,it){const at=this.hls,{type:ot,level:lt,id:ct,groupId:ut,deliveryDirectives:dt}=nt,ft=getResponseUrl(tt,nt),ht=mapContextToLevelType(nt),pt=typeof nt.level=="number"&&ht===PlaylistLevelType.MAIN?lt:void 0;if(!_e.fragments.length){const mt=_e.playlistParsingError=new Error("No Segments found in Playlist");at.trigger(Events.ERROR,{type:ErrorTypes.NETWORK_ERROR,details:ErrorDetails.LEVEL_EMPTY_ERROR,fatal:!1,url:ft,error:mt,reason:mt.message,response:tt,context:nt,level:pt,parent:ht,networkDetails:st,stats:rt});return}_e.targetduration||(_e.playlistParsingError=new Error("Missing Target Duration"));const gt=_e.playlistParsingError;if(gt){if(this.hls.logger.warn(`${gt} ${_e.url}`),!at.config.ignorePlaylistParsingErrors){at.trigger(Events.ERROR,{type:ErrorTypes.NETWORK_ERROR,details:ErrorDetails.LEVEL_PARSING_ERROR,fatal:!1,url:ft,error:gt,reason:gt.message,response:tt,context:nt,level:pt,parent:ht,networkDetails:st,stats:rt});return}_e.playlistParsingError=null}switch(_e.live&&it&&(it.getCacheAge&&(_e.ageHeader=it.getCacheAge()||0),(!it.getCacheAge||isNaN(_e.ageHeader))&&(_e.ageHeader=0)),ot){case PlaylistContextType.MANIFEST:case PlaylistContextType.LEVEL:at.trigger(Events.LEVEL_LOADED,{details:_e,levelInfo:nt.levelOrTrack||at.levels[0],level:pt||0,id:ct||0,stats:rt,networkDetails:st,deliveryDirectives:dt,withoutMultiVariant:ot===PlaylistContextType.MANIFEST});break;case PlaylistContextType.AUDIO_TRACK:at.trigger(Events.AUDIO_TRACK_LOADED,{details:_e,track:nt.levelOrTrack,id:ct||0,groupId:ut||"",stats:rt,networkDetails:st,deliveryDirectives:dt});break;case PlaylistContextType.SUBTITLE_TRACK:at.trigger(Events.SUBTITLE_TRACK_LOADED,{details:_e,track:nt.levelOrTrack,id:ct||0,groupId:ut||"",stats:rt,networkDetails:st,deliveryDirectives:dt});break}}}class Hls{static get version(){return version}static isMSESupported(){return isMSESupported()}static isSupported(){return isSupported()}static getMediaSource(){return getMediaSource()}static get Events(){return Events}static get MetadataSchema(){return MetadataSchema}static get ErrorTypes(){return ErrorTypes}static get ErrorDetails(){return ErrorDetails}static get DefaultConfig(){return Hls.defaultConfig?Hls.defaultConfig:hlsDefaultConfig}static set DefaultConfig(_e){Hls.defaultConfig=_e}constructor(_e={}){this.config=void 0,this.userConfig=void 0,this.logger=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new EventEmitter,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioStreamController=void 0,this.subtititleStreamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.interstitialsController=void 0,this.gapController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this._url=null,this._sessionId=void 0,this.triggeringException=void 0,this.started=!1;const tt=this.logger=enableLogs(_e.debug||!1,"Hls instance",_e.assetPlayerId),rt=this.config=mergeConfig(Hls.DefaultConfig,_e,tt);this.userConfig=_e,rt.progressive&&enableStreamingMode(rt,tt);const{abrController:nt,bufferController:st,capLevelController:it,errorController:at,fpsController:ot}=rt,lt=new at(this),ct=this.abrController=new nt(this),ut=new FragmentTracker(this),dt=rt.interstitialsController,ft=dt?this.interstitialsController=new dt(this,Hls):null,ht=this.bufferController=new st(this,ut),pt=this.capLevelController=new it(this),gt=new ot(this),mt=new PlaylistLoader(this),bt=rt.contentSteeringController,vt=bt?new bt(this):null,yt=this.levelController=new LevelController(this,vt),xt=new ID3TrackController(this),Et=new KeyLoader(this.config),wt=this.streamController=new StreamController(this,ut,Et),$t=this.gapController=new GapController(this,ut);pt.setStreamController(wt),gt.setStreamController(wt);const Tt=[mt,yt,wt];ft&&Tt.splice(1,0,ft),vt&&Tt.splice(1,0,vt),this.networkControllers=Tt;const St=[ct,ht,$t,pt,gt,xt,ut];this.audioTrackController=this.createController(rt.audioTrackController,Tt);const Pt=rt.audioStreamController;Pt&&Tt.push(this.audioStreamController=new Pt(this,ut,Et)),this.subtitleTrackController=this.createController(rt.subtitleTrackController,Tt);const At=rt.subtitleStreamController;At&&Tt.push(this.subtititleStreamController=new At(this,ut,Et)),this.createController(rt.timelineController,St),Et.emeController=this.emeController=this.createController(rt.emeController,St),this.cmcdController=this.createController(rt.cmcdController,St),this.latencyController=this.createController(LatencyController,St),this.coreComponents=St,Tt.push(lt);const Rt=lt.onErrorOut;typeof Rt=="function"&&this.on(Events.ERROR,Rt,lt),this.on(Events.MANIFEST_LOADED,mt.onManifestLoaded,mt)}createController(_e,tt){if(_e){const rt=new _e(this);return tt&&tt.push(rt),rt}return null}on(_e,tt,rt=this){this._emitter.on(_e,tt,rt)}once(_e,tt,rt=this){this._emitter.once(_e,tt,rt)}removeAllListeners(_e){this._emitter.removeAllListeners(_e)}off(_e,tt,rt=this,nt){this._emitter.off(_e,tt,rt,nt)}listeners(_e){return this._emitter.listeners(_e)}emit(_e,tt,rt){return this._emitter.emit(_e,tt,rt)}trigger(_e,tt){if(this.config.debug)return this.emit(_e,_e,tt);try{return this.emit(_e,_e,tt)}catch(rt){if(this.logger.error("An internal error happened while handling event "+_e+'. Error message: "'+rt.message+'". Here is a stacktrace:',rt),!this.triggeringException){this.triggeringException=!0;const nt=_e===Events.ERROR;this.trigger(Events.ERROR,{type:ErrorTypes.OTHER_ERROR,details:ErrorDetails.INTERNAL_EXCEPTION,fatal:nt,event:_e,error:rt}),this.triggeringException=!1}}return!1}listenerCount(_e){return this._emitter.listenerCount(_e)}destroy(){this.logger.log("destroy"),this.trigger(Events.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this._url=null,this.networkControllers.forEach(tt=>tt.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(tt=>tt.destroy()),this.coreComponents.length=0;const _e=this.config;_e.xhrSetup=_e.fetchSetup=void 0,this.userConfig=null}attachMedia(_e){if(!_e||"media"in _e&&!_e.media){const st=new Error(`attachMedia failed: invalid argument (${_e})`);this.trigger(Events.ERROR,{type:ErrorTypes.OTHER_ERROR,details:ErrorDetails.ATTACH_MEDIA_ERROR,fatal:!0,error:st});return}this.logger.log("attachMedia"),this._media&&(this.logger.warn("media must be detached before attaching"),this.detachMedia());const tt="media"in _e,rt=tt?_e.media:_e,nt=tt?_e:{media:rt};this._media=rt,this.trigger(Events.MEDIA_ATTACHING,nt)}detachMedia(){this.logger.log("detachMedia"),this.trigger(Events.MEDIA_DETACHING,{}),this._media=null}transferMedia(){this._media=null;const _e=this.bufferController.transferMedia();return this.trigger(Events.MEDIA_DETACHING,{transferMedia:_e}),_e}loadSource(_e){this.stopLoad();const tt=this.media,rt=this._url,nt=this._url=urlToolkitExports.buildAbsoluteURL(self.location.href,_e,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.logger.log(`loadSource:${nt}`),tt&&rt&&(rt!==nt||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(tt)),this.trigger(Events.MANIFEST_LOADING,{url:_e})}get url(){return this._url}get hasEnoughToStart(){return this.streamController.hasEnoughToStart}get startPosition(){return this.streamController.startPositionValue}startLoad(_e=-1,tt){this.logger.log(`startLoad(${_e+(tt?", <skip seek to start>":"")})`),this.started=!0,this.resumeBuffering();for(let rt=0;rt<this.networkControllers.length&&(this.networkControllers[rt].startLoad(_e,tt),!(!this.started||!this.networkControllers));rt++);}stopLoad(){this.logger.log("stopLoad"),this.started=!1;for(let _e=0;_e<this.networkControllers.length&&(this.networkControllers[_e].stopLoad(),!(this.started||!this.networkControllers));_e++);}get loadingEnabled(){return this.started}get bufferingEnabled(){return this.streamController.bufferingEnabled}resumeBuffering(){this.bufferingEnabled||(this.logger.log("resume buffering"),this.networkControllers.forEach(_e=>{_e.resumeBuffering&&_e.resumeBuffering()}))}pauseBuffering(){this.bufferingEnabled&&(this.logger.log("pause buffering"),this.networkControllers.forEach(_e=>{_e.pauseBuffering&&_e.pauseBuffering()}))}get inFlightFragments(){const _e={[PlaylistLevelType.MAIN]:this.streamController.inFlightFrag};return this.audioStreamController&&(_e[PlaylistLevelType.AUDIO]=this.audioStreamController.inFlightFrag),this.subtititleStreamController&&(_e[PlaylistLevelType.SUBTITLE]=this.subtititleStreamController.inFlightFrag),_e}swapAudioCodec(){this.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){this.logger.log("recoverMediaError");const _e=this._media,tt=_e==null?void 0:_e.currentTime;this.detachMedia(),_e&&(this.attachMedia(_e),tt&&this.startLoad(tt))}removeLevel(_e){this.levelController.removeLevel(_e)}get sessionId(){let _e=this._sessionId;return _e||(_e=this._sessionId=uuid()),_e}get levels(){const _e=this.levelController.levels;return _e||[]}get latestLevelDetails(){return this.streamController.getLevelDetails()||null}get loadLevelObj(){return this.levelController.loadLevelObj}get currentLevel(){return this.streamController.currentLevel}set currentLevel(_e){this.logger.log(`set currentLevel:${_e}`),this.levelController.manualLevel=_e,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(_e){this.logger.log(`set nextLevel:${_e}`),this.levelController.manualLevel=_e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(_e){this.logger.log(`set loadLevel:${_e}`),this.levelController.manualLevel=_e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(_e){this.levelController.nextLoadLevel=_e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(_e){this.logger.log(`set firstLevel:${_e}`),this.levelController.firstLevel=_e}get startLevel(){const _e=this.levelController.startLevel;return _e===-1&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:_e}set startLevel(_e){this.logger.log(`set startLevel:${_e}`),_e!==-1&&(_e=Math.max(_e,this.minAutoLevel)),this.levelController.startLevel=_e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(_e){const tt=!!_e;tt!==this.config.capLevelToPlayerSize&&(tt?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=tt)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:_e}=this.abrController;return _e?_e.getEstimate():NaN}set bandwidthEstimate(_e){this.abrController.resetEstimator(_e)}get abrEwmaDefaultEstimate(){const{bwEstimator:_e}=this.abrController;return _e?_e.defaultEstimate:NaN}get ttfbEstimate(){const{bwEstimator:_e}=this.abrController;return _e?_e.getEstimateTTFB():NaN}set autoLevelCapping(_e){this._autoLevelCapping!==_e&&(this.logger.log(`set autoLevelCapping:${_e}`),this._autoLevelCapping=_e,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(_e){isHdcpLevel(_e)&&this._maxHdcpLevel!==_e&&(this._maxHdcpLevel=_e,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return this.levelController.manualLevel===-1}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:_e,config:{minAutoBitrate:tt}}=this;if(!_e)return 0;const rt=_e.length;for(let nt=0;nt<rt;nt++)if(_e[nt].maxBitrate>=tt)return nt;return 0}get maxAutoLevel(){const{levels:_e,autoLevelCapping:tt,maxHdcpLevel:rt}=this;let nt;if(tt===-1&&_e!=null&&_e.length?nt=_e.length-1:nt=tt,rt)for(let st=nt;st--;){const it=_e[st].attrs["HDCP-LEVEL"];if(it&&it<=rt)return st}return nt}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(_e){this.abrController.nextAutoLevel=_e}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get maxBufferLength(){return this.streamController.maxBufferLength}setAudioOption(_e){var tt;return((tt=this.audioTrackController)==null?void 0:tt.setAudioOption(_e))||null}setSubtitleOption(_e){var tt;return((tt=this.subtitleTrackController)==null?void 0:tt.setSubtitleOption(_e))||null}get allAudioTracks(){const _e=this.audioTrackController;return _e?_e.allAudioTracks:[]}get audioTracks(){const _e=this.audioTrackController;return _e?_e.audioTracks:[]}get audioTrack(){const _e=this.audioTrackController;return _e?_e.audioTrack:-1}set audioTrack(_e){const tt=this.audioTrackController;tt&&(tt.audioTrack=_e)}get allSubtitleTracks(){const _e=this.subtitleTrackController;return _e?_e.allSubtitleTracks:[]}get subtitleTracks(){const _e=this.subtitleTrackController;return _e?_e.subtitleTracks:[]}get subtitleTrack(){const _e=this.subtitleTrackController;return _e?_e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(_e){const tt=this.subtitleTrackController;tt&&(tt.subtitleTrack=_e)}get subtitleDisplay(){const _e=this.subtitleTrackController;return _e?_e.subtitleDisplay:!1}set subtitleDisplay(_e){const tt=this.subtitleTrackController;tt&&(tt.subtitleDisplay=_e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(_e){this.config.lowLatencyMode=_e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}set targetLatency(_e){this.latencyController.targetLatency=_e}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}get pathways(){return this.levelController.pathways}get pathwayPriority(){return this.levelController.pathwayPriority}set pathwayPriority(_e){this.levelController.pathwayPriority=_e}get bufferedToEnd(){var _e;return!!((_e=this.bufferController)!=null&&_e.bufferedToEnd)}get interstitialsManager(){var _e;return((_e=this.interstitialsController)==null?void 0:_e.interstitialsManager)||null}getMediaDecodingInfo(_e,tt=this.allAudioTracks){const rt=getAudioTracksByGroup(tt);return getMediaDecodingInfoPromise(_e,rt,navigator.mediaCapabilities)}}Hls.defaultConfig=void 0;const ChangeRT=Object.freeze({PENDING:"PENDING",DONE:"DONE",CANCEL:"CANCEL"}),MyContext=reactExports.createContext(),MyContextProvider=({children})=>{let anim,host=localStorage.getItem("host")??config.host,port=localStorage.getItem("port")??config.port,fetchDataScene=[],fetchDataColl=[];const[videoWalls,setVideoWalls]=reactExports.useState([{id:1,name:"TV1",x:0,y:0,width:1440,height:900,connected:!1,monitorUniqId:101,monitorNumber:1},{id:2,name:"TV2",x:1440,y:0,width:1440,height:900,connected:!1,monitorUniqId:102,monitorNumber:2},{id:3,name:"TV3",x:2880,y:0,width:1440,height:900,connected:!1,monitorUniqId:103,monitorNumber:3},{id:4,name:"TV4",x:4320,y:0,width:1440,height:900,connected:!1,monitorUniqId:104,monitorNumber:4},{id:5,name:"TV5",x:5760,y:0,width:1440,height:900,connected:!1,monitorUniqId:105,monitorNumber:5},{id:6,name:"TV6",x:7200,y:0,width:1440,height:900,connected:!1,monitorUniqId:106,monitorNumber:6},{id:7,name:"TV7",x:8640,y:0,width:1440,height:900,connected:!1,monitorUniqId:107,monitorNumber:7},{id:8,name:"TV8",x:10080,y:0,width:1440,height:900,connected:!1,monitorUniqId:108,monitorNumber:8},{id:9,name:"TV9",x:0,y:900,width:1440,height:900,connected:!1,monitorUniqId:109,monitorNumber:9},{id:10,name:"TV10",x:1440,y:900,width:1440,height:900,connected:!1,monitorUniqId:110,monitorNumber:10},{id:11,name:"TV11",x:2880,y:900,width:1440,height:900,connected:!1,monitorUniqId:111,monitorNumber:11},{id:12,name:"TV12",x:4320,y:900,width:1440,height:900,connected:!1,monitorUniqId:112,monitorNumber:12},{id:13,name:"TV13",x:5760,y:900,width:1440,height:900,connected:!1,monitorUniqId:113,monitorNumber:13},{id:14,name:"TV14",x:7200,y:900,width:1440,height:900,connected:!1,monitorUniqId:114,monitorNumber:14},{id:15,name:"TV15",x:8640,y:900,width:1440,height:900,connected:!1,monitorUniqId:115,monitorNumber:15},{id:16,name:"TV16",x:10080,y:900,width:1440,height:900,connected:!1,monitorUniqId:116,monitorNumber:16},{id:17,name:"TV17",x:0,y:1800,width:1440,height:900,connected:!1,monitorUniqId:117,monitorNumber:17},{id:18,name:"TV18",x:1440,y:1800,width:1440,height:900,connected:!1,monitorUniqId:118,monitorNumber:18},{id:19,name:"TV19",x:2880,y:1800,width:1440,height:900,connected:!1,monitorUniqId:119,monitorNumber:19},{id:20,name:"TV20",x:4320,y:1800,width:1440,height:900,connected:!1,monitorUniqId:120,monitorNumber:20},{id:21,name:"TV21",x:5760,y:1800,width:1440,height:900,connected:!1,monitorUniqId:121,monitorNumber:21},{id:22,name:"TV22",x:7200,y:1800,width:1440,height:900,connected:!1,monitorUniqId:122,monitorNumber:22},{id:23,name:"TV23",x:8640,y:1800,width:1440,height:900,connected:!1,monitorUniqId:123,monitorNumber:23},{id:24,name:"TV24",x:10080,y:1800,width:1440,height:900,connected:!1,monitorUniqId:124,monitorNumber:24},{id:25,name:"TV25",x:0,y:2700,width:1440,height:900,connected:!1,monitorUniqId:125,monitorNumber:25},{id:26,name:"TV26",x:1440,y:2700,width:1440,height:900,connected:!1,monitorUniqId:126,monitorNumber:26},{id:27,name:"TV27",x:2880,y:2700,width:1440,height:900,connected:!1,monitorUniqId:127,monitorNumber:27},{id:28,name:"TV28",x:4320,y:2700,width:1440,height:900,connected:!1,monitorUniqId:128,monitorNumber:28},{id:29,name:"TV29",x:5760,y:2700,width:1440,height:900,connected:!1,monitorUniqId:129,monitorNumber:29},{id:30,name:"TV30",x:7200,y:2700,width:1440,height:900,connected:!1,monitorUniqId:130,monitorNumber:30},{id:31,name:"TV31",x:8640,y:2700,width:1440,height:900,connected:!1,monitorUniqId:131,monitorNumber:31},{id:32,name:"TV32",x:10080,y:2700,width:1440,height:900,connected:!1,monitorUniqId:132,monitorNumber:32}]),[monitorConnection,setMonitorConnection]=reactExports.useState([]),[initSofware,setInitSoftwaew]=reactExports.useState(!1),[socket,setSocket]=reactExports.useState(null),socketRef=reactExports.useRef(null),[activeModal,setActiveModal]=reactExports.useState(null),openModal=et=>setActiveModal(et),closeModal=()=>setActiveModal(null),[isToggleLayout,setIsToggleLayout]=reactExports.useState(localStorage.getItem("layout")==="true"),[isRightControlsVisible,setIsRightControlsVisible]=reactExports.useState(!0),[isLoading,setIsLoading]=reactExports.useState(!1),[miniLoad,setMiniLoad]=reactExports.useState(!1),[isToggleVideoWall,setIsToggleVideoWall]=reactExports.useState(!1),[loopVideos,setLoopVideos]=reactExports.useState({}),[darkMode,setDarkMode]=reactExports.useState(localStorage.getItem("darkMode")==="true"),[connecting,setConnecting]=reactExports.useState(!1),[connectionMode,setConnectionMode]=reactExports.useState((localStorage.getItem("onlineMode")==="true",!0)),[inputs,setInputs]=reactExports.useState([]),videoWallsRef=reactExports.useRef(videoWalls),connectionModeRef=reactExports.useRef(connectionMode),[selectedScene,setSelectedScene]=reactExports.useState(null),selectedSceneRef=reactExports.useRef(selectedScene),[isBottomControlsVisible,setIsBottomControlsVisible]=reactExports.useState(!0),[editingSceneId,setEditingSceneId]=reactExports.useState(null),[activeSceneId,setActiveSceneId]=reactExports.useState(null),[activeSchedule,setActiveSchedule]=reactExports.useState(null),[activeProgram,setActiveProgram]=reactExports.useState(null),[timeLine,setTimeLine]=reactExports.useState([]),[collections,setCollections]=reactExports.useState([]),[scenes,setScenes]=reactExports.useState([]),scenesRef=reactExports.useRef(scenes),[url,setUrl]=reactExports.useState(null),urlRef=reactExports.useRef(url),[selectedSource,setSelectedSource]=reactExports.useState(null),[selectedCollection,setSelectedCollection]=reactExports.useState(1),[sources,setSources]=reactExports.useState([]),sourcesRef=reactExports.useRef(sources),[pendingOperations,setPendingOperation]=reactExports.useState([]),[flagOperations,setFlagOperation]=reactExports.useState(!1),[resources,setResources]=reactExports.useState([]),[flagReset,setFlagReset]=reactExports.useState(!1),[dataDrag,setDataDrag]=reactExports.useState({}),[filteredScenes,setFilteredScenes]=reactExports.useState([]),[isChangeRealTime,setIsChangeRealTime]=reactExports.useState(!1),[dataChangeRealTime,setDataChangeRealTime]=reactExports.useState([]),[isRealTime,setIsRealTime]=reactExports.useState(!1),isRealTimeRef=reactExports.useRef(isRealTime),[isRunFitStage,setIsRunFitStage]=reactExports.useState(!1);let arrayCollisions=[],counterImages=0,counterVideos=0,allDataMonitors=videoWalls,motherLayer,isMonitorOff=!1;const handleDragOver=et=>{et.preventDefault()};async function fetchRSSDescriptions(et,{fetchFeedPageTitle:_e=!0,fetchItemPageTitles:tt=!1,itemPageTitleLimit:rt=5}={}){var it,at,ot,lt,ct;const nt=console.log;async function st(ut,dt=7e3){var ft,ht,pt,gt;try{const mt=new AbortController,bt=setTimeout(()=>mt.abort(),dt),vt=await fetch(ut,{headers:{Accept:"text/html,application/xhtml+xml,*/*"},redirect:"follow",signal:mt.signal});if(clearTimeout(bt),!vt.ok)return null;const yt=await vt.text(),xt=new DOMParser().parseFromString(yt,"text/html"),Et=((ht=(ft=xt.querySelector("title"))==null?void 0:ft.textContent)==null?void 0:ht.trim())||"",wt=((gt=(pt=xt.querySelector('meta[property="og:title"]'))==null?void 0:pt.getAttribute("content"))==null?void 0:gt.trim())||"";return Et||wt||null}catch{return null}}try{nt(` Fetching RSS from: ${et}`);const ut=await fetch(et,{headers:{Accept:"application/rss+xml, application/xml, text/xml, */*","User-Agent":"VideoWall-Controller-RSS-Fetcher/1.0"}});if(!ut.ok)throw new Error(`HTTP ${ut.status}`);const dt=await ut.text(),ft=new DOMParser().parseFromString(dt,"application/xml");if(ft.querySelector("parsererror"))throw new Error("XML parse error");const pt=!!ft.querySelector("rss, rdf\\:RDF"),gt=!!ft.querySelector("feed");if(!pt&&!gt)throw new Error("Not an RSS/Atom feed");let mt="",bt="",vt=[];pt?(mt=(((it=ft.querySelector("channel > title"))==null?void 0:it.textContent)||"").trim(),bt=(((at=ft.querySelector("channel > link"))==null?void 0:at.textContent)||"").trim(),vt=Array.from(ft.querySelectorAll("channel > item")).map(Et=>{var St,Pt,At,Rt;const wt=(((St=Et.querySelector("title"))==null?void 0:St.textContent)||"").trim(),$t=(((Pt=Et.querySelector("link"))==null?void 0:Pt.textContent)||"").trim(),Tt=(((At=Et.querySelector("content\\:encoded"))==null?void 0:At.textContent)||((Rt=Et.querySelector("description"))==null?void 0:Rt.textContent)||"").trim();return{title:wt,link:$t,description:Tt}})):(mt=(((ot=ft.querySelector("feed > title"))==null?void 0:ot.textContent)||"").trim(),bt=(((lt=ft.querySelector('feed > link[rel="alternate"]'))==null?void 0:lt.getAttribute("href"))||((ct=ft.querySelector("feed > link[href]"))==null?void 0:ct.getAttribute("href"))||"").trim(),vt=Array.from(ft.querySelectorAll("feed > entry")).map(Et=>{var St,Pt,At,Rt,Ct;const wt=(((St=Et.querySelector("title"))==null?void 0:St.textContent)||"").trim(),$t=(((Pt=Et.querySelector('link[rel="alternate"]'))==null?void 0:Pt.getAttribute("href"))||((At=Et.querySelector("link[href]"))==null?void 0:At.getAttribute("href"))||"").trim(),Tt=(((Rt=Et.querySelector("content"))==null?void 0:Rt.textContent)||((Ct=Et.querySelector("summary"))==null?void 0:Ct.textContent)||"").trim();return{title:wt,link:$t,description:Tt}}));const yt=vt.map(Et=>Et.description).filter(Boolean);let xt="";if(_e&&bt&&(xt=await st(bt)||""),tt&&vt.length){const Et=Math.min(rt,vt.length);await Promise.all(vt.slice(0,Et).map(async wt=>{wt.link&&(wt.pageTitle=await st(wt.link))}))}return{success:!0,data:yt,feed:{title:mt,link:bt,siteTitle:xt},items:vt}}catch(ut){return nt(` RSS fetch error: ${ut.message}`),{success:!1,error:ut.message}}}const handleDrop=et=>{et.preventDefault();const _e=getSelectedScene(),tt=_e==null?void 0:_e.stageData,rt=_e==null?void 0:_e.layer;if(!tt||!rt)return;et.nativeEvent&&tt.setPointersPositions(et.nativeEvent);let nt=tt.getPointerPosition();if(!nt){const ot=tt.container().getBoundingClientRect();nt={x:et.clientX-ot.left,y:et.clientY-ot.top}}const it=tt.getAbsoluteTransform().copy().invert().point(nt),at=_e.id;dataDrag.type==="IMAGE"&&dataDrag.img?addImage({...dataDrag,img:{...dataDrag.img,x:it.x,y:it.y,sceneId:at}}):dataDrag.type==="VIDEO"&&dataDrag.videoElement?addVideo({...dataDrag,videoElement:{...dataDrag.videoElement,x:it.x,y:it.y,sceneId:at}}):dataDrag.type==="IFRAME"&&dataDrag.webResource?addWeb({...dataDrag,webResource:{...dataDrag.webResource,x:it.x,y:it.y,sceneId:at}}):dataDrag.type==="INPUT"&&dataDrag.input?addInput({...dataDrag,input:{...dataDrag.input,x:it.x,y:it.y,sceneId:at}}):(dataDrag.type==="TEXT"||dataDrag.type==="RSS")&&dataDrag.textItem?addText({...dataDrag,textItem:{...dataDrag.textItem,x:it.x,y:it.y,sceneId:at}}):dataDrag.type==="STREAM"&&dataDrag.videoElement&&addVideo({...dataDrag,videoElement:{...dataDrag.videoElement,x:it.x,y:it.y,sceneId:at}})},getSelectedScene=()=>scenes.find(_e=>_e.id===selectedScene);function generateBlobURL(et,_e){return`${et}/uploads/${_e}.mp4`}function generateBlobImageURL(et,_e){return`${et}/${_e}.mp4`}function trimPrefix(et,_e){return et.startsWith(_e)?et.slice(_e.length):et}function contentGenerator(et,_e){var rt,nt,st,it;let tt;if(et==="INPUT")tt={name:_e.name??"INPUT",externalId:_e.externalId,metadata:_e.metadata};else if(et==="IMAGE"){const at=`${urlRef.current}/${((rt=_e.media)==null?void 0:rt.content)||_e.content}`,ot=new Image;ot.src=at;const lt="image"+counterImages++;tt={name:_e.name??lt,imageElement:ot,externalId:_e.externalId}}else if(et==="VIDEO"){const at=document.createElement("video");at.src=`${urlRef.current}/${((nt=_e.media)==null?void 0:nt.content)||_e.content}`;const ot="video"+counterVideos++;at.setAttribute("name",ot),at.setAttribute("id",_e.id),tt={videoElement:at,name:_e.name??ot,externalId:_e.externalId}}else if(et==="IFRAME")tt={externalId:_e.externalId};else if(et==="TEXT")tt={externalId:_e.externalId,metadata:_e.metadata};else if(et==="RSS")tt={externalId:_e.externalId,metadata:_e.metadata};else if(et==="STREAM"){const at=document.createElement("video");at.src=`${(st=_e.media)==null?void 0:st.content}`;const ot="video"+counterVideos++;at.setAttribute("name",ot),at.setAttribute("id",_e.id),tt={videoElement:at,name:_e.name??ot,externalId:_e.externalId}}return tt={...tt,id:_e.id,sceneId:_e.sceneId,type:et,content:((it=_e.media)==null?void 0:it.content)||_e.content,width:_e.width,height:_e.height,x:_e.x,y:_e.y,z:_e.z,name:_e.name??"",rotation:parseInt(_e.rotation)||0},{endObj:tt,type:et}}const removeSource=et=>{const _e=scenesRef.current.find(rt=>rt.id===selectedSceneRef.current);if(!_e){console.log(" Scene not found for removal");return}const tt=_e.layer.find(`#${et}`);tt.length>0?(tt.forEach(rt=>rt.destroy()),_e.layer.batchDraw(),console.log(" Removed from Konva:",et)):console.log(" Not found in Konva:",et),setSources(rt=>{const nt=rt.filter(st=>st.externalId!==et);return console.log(" Removed from state:",et,"Remaining:",nt.length),nt})},updateSourceRealTime=(et,_e)=>{const tt=scenesRef.current.find(st=>st.id===((_e==null?void 0:_e.sceneId)??selectedSceneRef.current));if(!tt)return;const rt=tt.layer.findOne(`#${et}`);if(!rt)return;(_e.x!==void 0||_e.y!==void 0)&&rt.position({x:_e.x!==void 0?_e.x:rt.x(),y:_e.y!==void 0?_e.y:rt.y()});const nt=rt.findOne("Image")||rt.findOne("Rect")||rt.findOne("Text");if(nt&&(_e.width!==void 0||_e.height!==void 0)&&(_e.width!==void 0&&nt.width(_e.width),_e.height!==void 0&&nt.height(_e.height),rt.scale({x:1,y:1})),_e.rotation!==void 0&&rt.rotation(_e.rotation),_e.z!==void 0){rt.remove();const it=tt.layer.getChildren().findIndex(at=>{var lt;return(((lt=sourcesRef.current.find(ct=>ct.externalId===at.id()))==null?void 0:lt.z)??0)<=_e.z});if(it===-1)tt.layer.add(rt);else{tt.layer.add(rt),rt.moveToBottom();for(let at=0;at<it;at++)rt.moveUp()}}if(_e.name!==void 0){const st=rt.findOne("Text");st&&rt.attrs.type==="TEXT"&&st.text(_e.name)}tt.layer.batchDraw(),setSources(st=>st.map(it=>it.externalId===et?{...it,..._e}:it))};reactExports.useCallback(({action:et,payload:_e,id:tt})=>{var rt;if(sourcesRef.current)if(isRealTimeRef.current){const nt=()=>scenesRef.current.find(at=>at.id===selectedSceneRef.current),st=nt();if(!st||!st.layer)return;const it=sourcesRef.current.find(at=>at.externalId==tt);switch(et){case"add":{if(st.layer.find(`#${tt}`).forEach(ut=>ut.destroy()),st.layer.batchDraw(),!it)return;const{endObj:ot,type:lt}=contentGenerator(_e.type||((rt=_e.media)==null?void 0:rt.type),_e);console.log(" Real-time ADD:",lt,tt);const ct=()=>nt();lt==="VIDEO"||lt==="STREAM"?addVideo({videoElement:ot,mode:!1,getSelectedScene:ct,setSources,sendOperation,url:urlRef.current,loopVideos}):lt==="IMAGE"?addImage({img:ot,mode:!1,getSelectedScene:ct,setSources,sendOperation,url:urlRef.current,generateBlobImageURL}):lt==="INPUT"?addInput({input:ot,mode:!1,getSelectedScene:ct,setSources,sendOperation}):lt==="IFRAME"?addWeb({webResource:ot,mode:!1,getSelectedScene:ct,setSources,sendOperation}):(lt==="TEXT"||lt==="RSS")&&addText({textItem:ot,mode:!1,getSelectedScene:ct,setSources,sendOperation});break}case"remove":console.log(" Real-time REMOVE:",tt),removeSource(tt);break;case"update":case"move":case"resize":console.log(" Real-time UPDATE:",et,tt,_e),updateSourceRealTime(tt,_e);break;case"rotate":console.log(" Real-time ROTATE:",tt,_e),updateSourceRealTime(tt,{rotation:_e.rotation});break;case"play":console.log(" Real-time PLAY:",tt),playVideo({id:tt,sources});break;case"pause":console.log(" Real-time PAUSE:",tt),pauseVideo({id:tt,sources});break;case"loop":console.log(" Real-time LOOP:",tt),toggleLoopVideo({id:tt,sources});break;case"fit":console.log(" Real-time FIT:",tt,_e),fitToMonitors({uniqId:tt,selectedMonitors:(_e==null?void 0:_e.selectedMonitors)||[],getSelectedScene:nt,allDataMonitors,sendOperation,id:tt});break;case"reset":console.log(" Real-time RESET");break;default:console.log(` Unsupported action ${et}:${tt}`,_e);break}}else console.log(" Buffering operation:",et,tt),setIsChangeRealTime(ChangeRT.PENDING),setDataChangeRealTime(nt=>[...nt,{action:et,payload:_e,id:tt}])},[]),reactExports.useEffect(()=>{if(!isRealTime)if(isChangeRealTime===ChangeRT.DONE&&dataChangeRealTime.length){const et=()=>scenesRef.current.find(tt=>tt.id===selectedSceneRef.current),_e=et();if(!_e||!_e.layer)return;for(const{action:tt,payload:rt,id:nt}of dataChangeRealTime){switch(tt){case"add":{const{endObj:st,type:it}=contentGenerator(rt.type,rt);console.log("T2");const at=()=>et();it==="VIDEO"?addVideo({videoElement:st,mode:!1,getSelectedScene:at,setSources,sendOperation,url:urlRef.current,loopVideos}):it==="IMAGE"?addImage({img:st,mode:!1,getSelectedScene:at,setSources,sendOperation,url:urlRef.current,generateBlobImageURL}):it==="INPUT"?addInput({input:st,mode:!1,getSelectedScene:at,setSources,sendOperation}):it==="IFRAME"?addWeb({webResource:st,mode:!1,getSelectedScene:at,setSources,sendOperation}):it==="TEXT"?addText({textItem:st,mode:!1,getSelectedScene:at,setSources,sendOperation}):it==="RSS"?addText({textItem:st,mode:!1,getSelectedScene:at,setSources,sendOperation}):it==="STREAM"&&addVideo({videoElement:st,mode:!1,getSelectedScene:at,setSources,sendOperation,url:urlRef.current,loopVideos});break}case"remove":removeSource(nt);break;case"update":case"move":case"resize":updateSourceRealTime(nt,rt);break;case"rotate":updateSourceRealTime(nt,rt);break;case"play":playVideo({id:nt,sources});break;case"pause":pauseVideo({id:nt,sources});break;case"loop":toggleLoopVideo({id:nt,sources});break;case"fit":fitToMonitors({uniqId:nt,selectedMonitors:(rt==null?void 0:rt.selectedMonitors)||[],getSelectedScene:et,allDataMonitors,sendOperation,id:nt});break;case"reset":console.log("Resetting all sources and the entire driver canvas");break;default:console.log(`Unsupported action ${tt}:${nt}`,rt);break}setDataChangeRealTime([]),setIsChangeRealTime(ChangeRT.CANCEL)}}else isChangeRealTime===ChangeRT.CANCEL&&setDataChangeRealTime([])},[isChangeRealTime,dataChangeRealTime,isRealTime]),reactExports.useEffect(()=>{isRealTimeRef.current=isRealTime},[isRealTime]);function generateScene(et,_e){et.forEach(tt=>{var it;let{endObj:rt,type:nt}=contentGenerator((it=tt.media)==null?void 0:it.type,tt);const st=()=>_e;nt==="IMAGE"?addImage({img:rt,mode:!1,getSelectedScene:st,setSources,sendOperation,url:urlRef.current,generateBlobImageURL}):nt==="INPUT"?addInput({input:rt,mode:!1,getSelectedScene:st,setSources,sendOperation}):nt==="VIDEO"?addVideo({videoElement:rt,mode:!1,getSelectedScene:st,setSources,sendOperation,url:urlRef.current,loopVideos}):nt=="IFRAME"?addWeb({webResource:rt,mode:!1,getSelectedScene:st,setSources,sendOperation}):nt==="TEXT"?addText({textItem:rt,mode:!1,getSelectedScene:st,setSources,sendOperation}):nt==="RSS"?addText({textItem:rt,mode:!1,getSelectedScene:st,setSources,sendOperation}):nt==="STREAM"&&addVideo({videoElement:rt,mode:!1,getSelectedScene:st,setSources,sendOperation,url:urlRef.current,loopVideos})})}function fitStageToMonitors({stage:et,monitors:_e,padding:tt=40,clampTo1:rt=!0}){if(!et||!(_e!=null&&_e.length))return;const nt=et.container().getBoundingClientRect(),st=Math.max(1,nt.width),it=Math.max(1,nt.height);(Math.round(et.width())!==Math.round(st)||Math.round(et.height())!==Math.round(it))&&et.size({width:st,height:it});let at=1/0,ot=1/0,lt=-1/0,ct=-1/0;for(const bt of _e)bt.x<at&&(at=bt.x),bt.y<ot&&(ot=bt.y),bt.x+bt.width>lt&&(lt=bt.x+bt.width),bt.y+bt.height>ct&&(ct=bt.y+bt.height);const ut=Math.max(1,lt-at),dt=Math.max(1,ct-ot),ft=Math.max(1,st-2*tt),ht=Math.max(1,it-2*tt);let pt=Math.min(ft/ut,ht/dt);rt&&(pt=Math.min(pt,1));const gt={x:(at+ut/2)*pt,y:(ot+dt/2)*pt},mt={x:st/2,y:it/2};et.scale({x:pt,y:pt}),et.position({x:mt.x-gt.x,y:mt.y-gt.y}),et.batchDraw()}const createNewStage=isLayer=>{const stage=new Konva$1.Stage({container:`containerKonva-${selectedScene}`,width:window.innerWidth,height:window.innerHeight,draggable:!0}),newLayer=new Konva$1.Layer;var scaleBy=1.04;stage.on("wheel",et=>{et.evt.preventDefault();var _e=stage.scaleX(),tt=stage.getPointerPosition(),rt={x:(tt.x-stage.x())/_e,y:(tt.y-stage.y())/_e};let nt=et.evt.deltaY>0?-1:1;et.evt.ctrlKey&&(nt=-nt);var st=nt>0?_e*scaleBy:_e/scaleBy;stage.scale({x:st,y:st});var it={x:tt.x-rt.x*st,y:tt.y-rt.y*st};stage.position(it),localStorage.setItem("wheelX",et.currentTarget.attrs.scaleX),localStorage.setItem("wheelY",et.currentTarget.attrs.scaleY),localStorage.setItem("positionX",et.currentTarget.attrs.x),localStorage.setItem("positionY",et.currentTarget.attrs.y)});let x=eval(window.innerWidth/2),y=eval(window.innerHeight/2);return localStorage.getItem("wheelX"),localStorage.getItem("wheelY"),localStorage.getItem("positionX"),localStorage.getItem("positionY"),stage.position({x,y}),stage.scale({x:.35,y:.35}),stage.add(isLayer??newLayer),motherLayer=newLayer,{stage,layer:isLayer??newLayer}},sendOperation=(et,_e)=>{var tt;connectionModeRef.current?socketRef.current?(tt=socketRef.current)==null||tt.emit(et,_e):socket==null||socket.emit(et,_e):(console.log(pendingOperations),setPendingOperation(rt=>[...rt,{action:et,payload:_e}]))},addTempMonitorToScreen=()=>{if((!connectionMode||!socketRef.current)&&(console.log("%cCONNECTION DOWN","color: red; font-weight: bold; font-size: 20px; background: yellow; padding: 5px; border: 2px solid red; border-radius: 5px;"),scenesRef.current.length<=0)){setScenes([{name:"  ",id:1,resources:[],stageData:null,layer:new Konva$1.Layer}]);const et=addMonitorsToScenes({jsonData:videoWalls,scenes:[{name:"  ",id:1,resources:[],stageData:null,layer:new Konva$1.Layer}],setScenes});setScenes(et),localStorage.setItem("sceneId",1),setSelectedScene(1)}};reactExports.useEffect(()=>{const et=window.location.hostname;host=et||localStorage.setItem("host",et),port=4e3;const _e=`http://${host}:${port}`;setUrl(_e),urlRef.current=_e},[config.host,config.port,localStorage.getItem("host"),localStorage.getItem("port")]),reactExports.useEffect(()=>{scenesRef.current=scenes},[scenes]),reactExports.useEffect(()=>{selectedSceneRef.current=selectedScene;async function et(){var rt,nt;if(!((rt=getSelectedScene())!=null&&rt.id))return;const _e=await api.getSceneById(`http://${host}:${port}`,(nt=getSelectedScene())==null?void 0:nt.id),tt=_e==null?void 0:_e.sources.slice().sort((st,it)=>{const at=Number(st.z??st.zIndex??0);return Number(it.z??it.zIndex??0)-at});tt&&tt.forEach(st=>{var at;const it=(at=getSelectedScene())==null?void 0:at.layer.findOne(`#${st.externalId}`);if(st.z>0)for(let ot=0;ot<st.z;ot++)it==null||it.moveUp();else for(let ot=0;ot>st.z;ot--)it==null||it.moveDown()})}et()},[selectedScene]),reactExports.useEffect(()=>{sourcesRef.current=sources},[sources]),reactExports.useEffect(()=>{if(!url)return;async function et(){try{if(!connectionMode){addTempMonitorToScreen();return}const rt=(await axios$1.get("../config.json")).data;rt.host&&(host=localStorage.getItem("host")??rt.host),rt.port&&(port=localStorage.getItem("port")??rt.port);const nt=lookup(`http://${host}:${port}`);socketRef.current=nt,setSocket(nt),nt.on("connect",()=>{console.log(" Socket connected"),setConnecting(!0),pendingOperations.length>0&&(pendingOperations.forEach(lt=>nt.emit(lt.action,lt.payload)),setPendingOperation([]))}),nt.on("disconnect",()=>{setConnecting(!1)}),nt.connected||addTempMonitorToScreen(),nt.on("connect",()=>{console.log(" Socket connected")}),nt.on("disconnect",()=>{setConnecting(!1)}),nt.on("init",async lt=>{if(setIsLoading(!1),console.log("%c CONNECTED INIT DATA","color: green; font-weight: bold; font-size: 20px; background: limegreen; padding: 5px; border: 2px solid green; border-radius: 5px;",lt),lt.activeProgram>=0&&setActiveProgram(lt.activeProgram),flagOperations){setFlagOperation(!1);return}if(lt.inputs){const ct=lt.inputs.map(ut=>({...ut,id:ut==null?void 0:ut.id,deviceId:ut==null?void 0:ut.content,width:ut==null?void 0:ut.width,height:ut==null?void 0:ut.height,name:ut==null?void 0:ut.name,type:ut==null?void 0:ut.type}));setInputs(ct)}if(lt.displays){const ct=lt.displays.map((gt,mt)=>({...gt,id:gt.id,name:gt.name,x:gt.x,y:gt.y,width:gt.width,height:gt.height,connected:gt.connected}));await _e(),setVideoWalls(ct);let dt=parseInt(localStorage.getItem("sceneId"))??fetchDataScene[0].id;addMonitorsToScenes({jsonData:ct,scenes:fetchDataScene,setScenes});const ht=(await api.getSceneById(`http://${host}:${port}`,dt)).sources.filter(gt=>gt.sceneId==dt).slice().sort((gt,mt)=>{const bt=Number(gt.z??gt.zIndex??0);return Number(mt.z??mt.zIndex??0)-bt});setSources(ht);const pt=fetchDataScene.find(gt=>gt.id==dt);generateScene(ht,pt),setMonitorConnection(!0),requestAnimationFrame(()=>{const gt=scenesRef.current.find(mt=>mt.id===selectedSceneRef.current);gt!=null&&gt.stageData&&fitStageToMonitors({stage:gt.stageData,monitors:ct})})}if(lt.media){const ct=lt.media.map(ut=>{let dt,ft,ht={};if(ut.type==="INPUT")return null;if(ut.type=="IMAGE"){ft=`http://${host}:${port}/${ut.content}`,dt="IMAGE";let gt=new Image;gt.src=ft;let mt="imageBase"+counterImages++;ht={imageElement:gt}}else if(ut.type=="VIDEO"){dt="VIDEO",ft=`http://${host}:${port}/${ut.content}`;const gt=document.createElement("video");gt.src=ft;const mt="videoBase"+counterVideos++;gt.setAttribute("name",mt),ht={videoElement:gt}}else if(ut.type=="IFRAME")dt="IFRAME";else if(ut.type=="TEXT")dt="TEXT";else if(ut.type=="RSS")dt="RSS";else if(ut.type=="STREAM"){dt="STREAM",ft=`${ut.content}`;const gt=document.createElement("video");gt.src=ft;const mt="videoBase"+counterVideos++;gt.setAttribute("name",mt),ht={videoElement:gt}}return{...ut,name:ut.name||"",type:dt,...ht}}).filter(ut=>ut!==null);setResources(ct)}}),nt.on("update-cameras",lt=>{setInputs(lt)}),nt.on("connect",()=>{setConnecting(!0)});const st=window.innerWidth,it=window.innerHeight,at=new Konva$1.Stage({container:"containerKonva",width:st,height:it,draggable:!0}),ot=new Konva$1.Layer;at.add(ot),anim=new Konva$1.Animation(()=>{},ot),ot.on("dragmove",function(lt){var ct=lt.target.absolutePosition();lt.target.absolutePosition(ct);var ut=lt.target,dt=lt.target.getClientRect();ot.children.forEach(function(ft){if(ft!==ut){if(haveIntersection(ft.getClientRect(),dt)){if(ft instanceof Konva$1.Group){const ht=ft.findOne(".fillShape");ht&&(ht.stroke("red"),arrayCollisions.find(gt=>gt==ht.getAttr("id"))||arrayCollisions.push(ht.getAttr("id")))}}else if(ft instanceof Konva$1.Group){const ht=ft.findOne(".fillShape");if(ht){let pt=arrayCollisions.find(gt=>gt==ht.getAttr("id"));if(pt){let gt=arrayCollisions.indexOf(pt);gt!==-1&&arrayCollisions.splice(gt,1)}ht.stroke("white")}}}})}),ot.on("dragend",lt=>{ot.find(".guid-line").forEach(ct=>ct.destroy())})}catch(tt){console.warn("Failed to fetch config.json or initialize s",tt)}}async function _e(){var tt;try{setIsLoading(!0);const rt=await api.getPrograms(url);fetchDataColl=rt,setCollections(rt??[]),setSelectedCollection((tt=fetchDataColl[0])==null?void 0:tt.id);const nt=await api.getScenes(url);fetchDataScene=(nt==null?void 0:nt.map(it=>({name:it.name,id:it.id,resources:[],stageData:null,layer:new Konva$1.Layer})))??[],fetchDataScene.length>=0?setScenes(fetchDataScene):setScenes({name:"  ",id:0,resources:[],stageData:null,layer:new Konva$1.Layer});const st=parseInt(localStorage.getItem("sceneId"));st||localStorage.setItem("sceneId",fetchDataScene[0].id),setSelectedScene(st??fetchDataScene[0].id)}catch(rt){console.log(rt)}finally{setIsLoading(!1)}}return et(),()=>{socketRef.current&&(socketRef.current.disconnect(),socketRef.current=null)}},[connectionMode,url]),reactExports.useEffect(()=>{const et=getSelectedScene();if(!et||et.stageData)return;const _e=`containerKonva-${et.id}`;if(document.getElementById(_e)){const{stage:rt,layer:nt}=createNewStage(et.layer);(scenes.length>1||scenes.length===0)&&initSofware?generateMonitorsForLayer(nt,videoWalls,setMonitorConnection):(setInitSoftwaew(!0),anim=new Konva$1.Animation(()=>{},scenes[0].newLayer)),setScenes(st=>st.map(it=>it.id===et.id?{...it,stageData:rt,layer:it.layer??nt}:it))}},[selectedScene,initSofware]),reactExports.useEffect(()=>{var tt;if(!collections.length)return;const et=collections.find(rt=>rt.id==selectedCollection);if(!et)return console.warn("No collection selected!",et,selectedCollection,collections);const _e=(tt=et==null?void 0:et.schedules)==null?void 0:tt.map(rt=>({...rt.scene,resources:[],stageData:null,layer:new Konva$1.Layer}));setFilteredScenes(_e)},[collections,selectedCollection,flagReset]),reactExports.useEffect(()=>{const et=getSelectedScene();et!=null&&et.stageData&&videoWalls!=null&&videoWalls.length&&(isRunFitStage||(setIsRunFitStage(!0),fitStageToMonitors({stage:et.stageData,monitors:videoWalls})))},[selectedScene,videoWalls,scenes]),reactExports.useEffect(()=>{const et=getSelectedScene();if(!(et!=null&&et.stageData))return;const _e=()=>{fitStageToMonitors({stage:et.stageData,monitors:videoWalls})};return window.addEventListener("resize",_e),()=>window.removeEventListener("resize",_e)},[selectedScene,videoWalls]);const[flag,setFlag]=reactExports.useState(!0);return reactExports.useEffect(()=>{if(flag==!1)return;const et=getSelectedScene();et!=null&&et.stageData&&(fitStageToMonitors({stage:et.stageData,monitors:videoWalls}),!(sourcesRef.current.length<=0)&&(setFlag(!1),sourcesRef.current.length>0&&sourcesRef.current.forEach(_e=>{var rt;const tt=(rt=getSelectedScene())==null?void 0:rt.layer.findOne(`#${_e.externalId}`);if(_e.z>0)for(let nt=0;nt<_e.z;nt++)tt==null||tt.moveUp();else for(let nt=0;nt>_e.z;nt--)tt==null||tt.moveDown()})))},[selectedSceneRef.current,sourcesRef.current,flag]),jsxRuntimeExports.jsx(MyContext.Provider,{value:{host,port,videoWalls,setVideoWalls,monitorConnection,setMonitorConnection,activeModal,setActiveModal,openModal,closeModal,isToggleLayout,setIsToggleLayout,isLoading,setIsLoading,miniLoad,setMiniLoad,isToggleVideoWall,setIsToggleVideoWall,loopVideos,setLoopVideos,darkMode,setDarkMode,connecting,setConnecting,connectionMode,setConnectionMode,inputs,setInputs,scenes,setScenes,scenesRef,videoWallsRef,connectionModeRef,selectedScene,setSelectedScene,isBottomControlsVisible,setIsBottomControlsVisible,editingSceneId,setEditingSceneId,collections,setCollections,selectedCollection,setSelectedCollection,sources,setSources,pendingOperations,setPendingOperation,flagOperations,setFlagOperation,resources,setResources,filteredScenes,arrayCollisions,counterImages,counterVideos,allDataMonitors,getSelectedScene,url,flagReset,setFlagReset,generateBlobURL,generateBlobImageURL,LayoutDropdownArrMonitor,MonitorLayoutModal,MonitorPositionEditor,updateKonvaMonitorPosition,updateMonitorPosition,isRightControlsVisible,setIsRightControlsVisible,addMonitorsToScenes,arrangeMForScenes:arrangeMForScenes$1,arrangeMonitors:arrangeMonitors$1,generateMonitorsForLayer,addVideo,pauseVideo,playVideo,toggleLoopVideo,addScene,deleteScene,handleEditSceneName,deleteSourceFromScene,fitToMonitors,addImage,addInput,addText,addWeb,editWeb,IconMenuSidebar,createNewStage,sendOperation,socket,anim,trimPrefix,generateScene,activeSceneId,setActiveSceneId,activeSchedule,setActiveSchedule,activeProgram,setActiveProgram,setFilteredScenes,timeLine,setTimeLine,motherLayer,selectedSource,setSelectedSource,handleDragOver,handleDrop,dataDrag,setDataDrag,fitStageToMonitors,selectedSceneRef,isChangeRealTime,setIsChangeRealTime,isRealTime,setIsRealTime,contentGenerator,fetchRSSDescriptions,isMonitorOff},children})},useMyContext=()=>reactExports.useContext(MyContext);var lib={},flattenNames$1={},freeGlobal$3=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$3,freeGlobal$2=_freeGlobal,freeSelf$1=typeof self=="object"&&self&&self.Object===Object&&self,root$b=freeGlobal$2||freeSelf$1||Function("return this")(),_root=root$b,root$a=_root,Symbol$8=root$a.Symbol,_Symbol=Symbol$8,Symbol$7=_Symbol,objectProto$u=Object.prototype,hasOwnProperty$o=objectProto$u.hasOwnProperty,nativeObjectToString$3=objectProto$u.toString,symToStringTag$3=Symbol$7?Symbol$7.toStringTag:void 0;function getRawTag$2(et){var _e=hasOwnProperty$o.call(et,symToStringTag$3),tt=et[symToStringTag$3];try{et[symToStringTag$3]=void 0;var rt=!0}catch{}var nt=nativeObjectToString$3.call(et);return rt&&(_e?et[symToStringTag$3]=tt:delete et[symToStringTag$3]),nt}var _getRawTag=getRawTag$2,objectProto$t=Object.prototype,nativeObjectToString$2=objectProto$t.toString;function objectToString$2(et){return nativeObjectToString$2.call(et)}var _objectToString=objectToString$2,Symbol$6=_Symbol,getRawTag$1=_getRawTag,objectToString$1=_objectToString,nullTag$1="[object Null]",undefinedTag$1="[object Undefined]",symToStringTag$2=Symbol$6?Symbol$6.toStringTag:void 0;function baseGetTag$8(et){return et==null?et===void 0?undefinedTag$1:nullTag$1:symToStringTag$2&&symToStringTag$2 in Object(et)?getRawTag$1(et):objectToString$1(et)}var _baseGetTag=baseGetTag$8,isArray$d=Array.isArray,isArray_1=isArray$d;function isObjectLike$a(et){return et!=null&&typeof et=="object"}var isObjectLike_1=isObjectLike$a,baseGetTag$7=_baseGetTag,isArray$c=isArray_1,isObjectLike$9=isObjectLike_1,stringTag$6="[object String]";function isString(et){return typeof et=="string"||!isArray$c(et)&&isObjectLike$9(et)&&baseGetTag$7(et)==stringTag$6}var isString_1=isString;function createBaseFor$2(et){return function(_e,tt,rt){for(var nt=-1,st=Object(_e),it=rt(_e),at=it.length;at--;){var ot=it[et?at:++nt];if(tt(st[ot],ot,st)===!1)break}return _e}}var _createBaseFor=createBaseFor$2,createBaseFor$1=_createBaseFor,baseFor$3=createBaseFor$1(),_baseFor=baseFor$3;function baseTimes$2(et,_e){for(var tt=-1,rt=Array(et);++tt<et;)rt[tt]=_e(tt);return rt}var _baseTimes=baseTimes$2,baseGetTag$6=_baseGetTag,isObjectLike$8=isObjectLike_1,argsTag$6="[object Arguments]";function baseIsArguments$2(et){return isObjectLike$8(et)&&baseGetTag$6(et)==argsTag$6}var _baseIsArguments=baseIsArguments$2,baseIsArguments$1=_baseIsArguments,isObjectLike$7=isObjectLike_1,objectProto$s=Object.prototype,hasOwnProperty$n=objectProto$s.hasOwnProperty,propertyIsEnumerable$3=objectProto$s.propertyIsEnumerable,isArguments$4=baseIsArguments$1(function(){return arguments}())?baseIsArguments$1:function(et){return isObjectLike$7(et)&&hasOwnProperty$n.call(et,"callee")&&!propertyIsEnumerable$3.call(et,"callee")},isArguments_1=isArguments$4,isBuffer$5={exports:{}};function stubFalse$1(){return!1}var stubFalse_1=stubFalse$1;isBuffer$5.exports;(function(et,_e){var tt=_root,rt=stubFalse_1,nt=_e&&!_e.nodeType&&_e,st=nt&&!0&&et&&!et.nodeType&&et,it=st&&st.exports===nt,at=it?tt.Buffer:void 0,ot=at?at.isBuffer:void 0,lt=ot||rt;et.exports=lt})(isBuffer$5,isBuffer$5.exports);var isBufferExports=isBuffer$5.exports,MAX_SAFE_INTEGER$3=9007199254740991,reIsUint$1=/^(?:0|[1-9]\d*)$/;function isIndex$3(et,_e){var tt=typeof et;return _e=_e??MAX_SAFE_INTEGER$3,!!_e&&(tt=="number"||tt!="symbol"&&reIsUint$1.test(et))&&et>-1&&et%1==0&&et<_e}var _isIndex=isIndex$3,MAX_SAFE_INTEGER$2=9007199254740991;function isLength$4(et){return typeof et=="number"&&et>-1&&et%1==0&&et<=MAX_SAFE_INTEGER$2}var isLength_1=isLength$4,baseGetTag$5=_baseGetTag,isLength$3=isLength_1,isObjectLike$6=isObjectLike_1,argsTag$5="[object Arguments]",arrayTag$4="[object Array]",boolTag$5="[object Boolean]",dateTag$5="[object Date]",errorTag$4="[object Error]",funcTag$4="[object Function]",mapTag$8="[object Map]",numberTag$5="[object Number]",objectTag$8="[object Object]",regexpTag$5="[object RegExp]",setTag$8="[object Set]",stringTag$5="[object String]",weakMapTag$4="[object WeakMap]",arrayBufferTag$5="[object ArrayBuffer]",dataViewTag$7="[object DataView]",float32Tag$3="[object Float32Array]",float64Tag$3="[object Float64Array]",int8Tag$3="[object Int8Array]",int16Tag$3="[object Int16Array]",int32Tag$3="[object Int32Array]",uint8Tag$3="[object Uint8Array]",uint8ClampedTag$3="[object Uint8ClampedArray]",uint16Tag$3="[object Uint16Array]",uint32Tag$3="[object Uint32Array]",typedArrayTags$1={};typedArrayTags$1[float32Tag$3]=typedArrayTags$1[float64Tag$3]=typedArrayTags$1[int8Tag$3]=typedArrayTags$1[int16Tag$3]=typedArrayTags$1[int32Tag$3]=typedArrayTags$1[uint8Tag$3]=typedArrayTags$1[uint8ClampedTag$3]=typedArrayTags$1[uint16Tag$3]=typedArrayTags$1[uint32Tag$3]=!0;typedArrayTags$1[argsTag$5]=typedArrayTags$1[arrayTag$4]=typedArrayTags$1[arrayBufferTag$5]=typedArrayTags$1[boolTag$5]=typedArrayTags$1[dataViewTag$7]=typedArrayTags$1[dateTag$5]=typedArrayTags$1[errorTag$4]=typedArrayTags$1[funcTag$4]=typedArrayTags$1[mapTag$8]=typedArrayTags$1[numberTag$5]=typedArrayTags$1[objectTag$8]=typedArrayTags$1[regexpTag$5]=typedArrayTags$1[setTag$8]=typedArrayTags$1[stringTag$5]=typedArrayTags$1[weakMapTag$4]=!1;function baseIsTypedArray$2(et){return isObjectLike$6(et)&&isLength$3(et.length)&&!!typedArrayTags$1[baseGetTag$5(et)]}var _baseIsTypedArray=baseIsTypedArray$2;function baseUnary$4(et){return function(_e){return et(_e)}}var _baseUnary=baseUnary$4,_nodeUtil={exports:{}};_nodeUtil.exports;(function(et,_e){var tt=_freeGlobal,rt=_e&&!_e.nodeType&&_e,nt=rt&&!0&&et&&!et.nodeType&&et,st=nt&&nt.exports===rt,it=st&&tt.process,at=function(){try{var ot=nt&&nt.require&&nt.require("util").types;return ot||it&&it.binding&&it.binding("util")}catch{}}();et.exports=at})(_nodeUtil,_nodeUtil.exports);var _nodeUtilExports=_nodeUtil.exports,baseIsTypedArray$1=_baseIsTypedArray,baseUnary$3=_baseUnary,nodeUtil$4=_nodeUtilExports,nodeIsTypedArray$1=nodeUtil$4&&nodeUtil$4.isTypedArray,isTypedArray$4=nodeIsTypedArray$1?baseUnary$3(nodeIsTypedArray$1):baseIsTypedArray$1,isTypedArray_1=isTypedArray$4,baseTimes$1=_baseTimes,isArguments$3=isArguments_1,isArray$b=isArray_1,isBuffer$4=isBufferExports,isIndex$2=_isIndex,isTypedArray$3=isTypedArray_1,objectProto$r=Object.prototype,hasOwnProperty$m=objectProto$r.hasOwnProperty;function arrayLikeKeys$3(et,_e){var tt=isArray$b(et),rt=!tt&&isArguments$3(et),nt=!tt&&!rt&&isBuffer$4(et),st=!tt&&!rt&&!nt&&isTypedArray$3(et),it=tt||rt||nt||st,at=it?baseTimes$1(et.length,String):[],ot=at.length;for(var lt in et)(_e||hasOwnProperty$m.call(et,lt))&&!(it&&(lt=="length"||nt&&(lt=="offset"||lt=="parent")||st&&(lt=="buffer"||lt=="byteLength"||lt=="byteOffset")||isIndex$2(lt,ot)))&&at.push(lt);return at}var _arrayLikeKeys=arrayLikeKeys$3,objectProto$q=Object.prototype;function isPrototype$4(et){var _e=et&&et.constructor,tt=typeof _e=="function"&&_e.prototype||objectProto$q;return et===tt}var _isPrototype=isPrototype$4;function overArg$3(et,_e){return function(tt){return et(_e(tt))}}var _overArg=overArg$3,overArg$2=_overArg,nativeKeys$3=overArg$2(Object.keys,Object),_nativeKeys=nativeKeys$3,isPrototype$3=_isPrototype,nativeKeys$2=_nativeKeys,objectProto$p=Object.prototype,hasOwnProperty$l=objectProto$p.hasOwnProperty;function baseKeys$2(et){if(!isPrototype$3(et))return nativeKeys$2(et);var _e=[];for(var tt in Object(et))hasOwnProperty$l.call(et,tt)&&tt!="constructor"&&_e.push(tt);return _e}var _baseKeys=baseKeys$2;function isObject$7(et){var _e=typeof et;return et!=null&&(_e=="object"||_e=="function")}var isObject_1=isObject$7,baseGetTag$4=_baseGetTag,isObject$6=isObject_1,asyncTag$1="[object AsyncFunction]",funcTag$3="[object Function]",genTag$2="[object GeneratorFunction]",proxyTag$1="[object Proxy]";function isFunction$4(et){if(!isObject$6(et))return!1;var _e=baseGetTag$4(et);return _e==funcTag$3||_e==genTag$2||_e==asyncTag$1||_e==proxyTag$1}var isFunction_1=isFunction$4,isFunction$3=isFunction_1,isLength$2=isLength_1;function isArrayLike$5(et){return et!=null&&isLength$2(et.length)&&!isFunction$3(et)}var isArrayLike_1=isArrayLike$5,arrayLikeKeys$2=_arrayLikeKeys,baseKeys$1=_baseKeys,isArrayLike$4=isArrayLike_1;function keys$6(et){return isArrayLike$4(et)?arrayLikeKeys$2(et):baseKeys$1(et)}var keys_1=keys$6,baseFor$2=_baseFor,keys$5=keys_1;function baseForOwn$3(et,_e){return et&&baseFor$2(et,_e,keys$5)}var _baseForOwn=baseForOwn$3;function identity$3(et){return et}var identity_1=identity$3,identity$2=identity_1;function castFunction$2(et){return typeof et=="function"?et:identity$2}var _castFunction=castFunction$2,baseForOwn$2=_baseForOwn,castFunction$1=_castFunction;function forOwn(et,_e){return et&&baseForOwn$2(et,castFunction$1(_e))}var forOwn_1=forOwn,overArg$1=_overArg,getPrototype$5=overArg$1(Object.getPrototypeOf,Object),_getPrototype=getPrototype$5,baseGetTag$3=_baseGetTag,getPrototype$4=_getPrototype,isObjectLike$5=isObjectLike_1,objectTag$7="[object Object]",funcProto$5=Function.prototype,objectProto$o=Object.prototype,funcToString$5=funcProto$5.toString,hasOwnProperty$k=objectProto$o.hasOwnProperty,objectCtorString$1=funcToString$5.call(Object);function isPlainObject$1(et){if(!isObjectLike$5(et)||baseGetTag$3(et)!=objectTag$7)return!1;var _e=getPrototype$4(et);if(_e===null)return!0;var tt=hasOwnProperty$k.call(_e,"constructor")&&_e.constructor;return typeof tt=="function"&&tt instanceof tt&&funcToString$5.call(tt)==objectCtorString$1}var isPlainObject_1=isPlainObject$1;function arrayMap$3(et,_e){for(var tt=-1,rt=et==null?0:et.length,nt=Array(rt);++tt<rt;)nt[tt]=_e(et[tt],tt,et);return nt}var _arrayMap=arrayMap$3;function listCacheClear$2(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$2;function eq$4(et,_e){return et===_e||et!==et&&_e!==_e}var eq_1=eq$4,eq$3=eq_1;function assocIndexOf$5(et,_e){for(var tt=et.length;tt--;)if(eq$3(et[tt][0],_e))return tt;return-1}var _assocIndexOf=assocIndexOf$5,assocIndexOf$4=_assocIndexOf,arrayProto$1=Array.prototype,splice$1=arrayProto$1.splice;function listCacheDelete$2(et){var _e=this.__data__,tt=assocIndexOf$4(_e,et);if(tt<0)return!1;var rt=_e.length-1;return tt==rt?_e.pop():splice$1.call(_e,tt,1),--this.size,!0}var _listCacheDelete=listCacheDelete$2,assocIndexOf$3=_assocIndexOf;function listCacheGet$2(et){var _e=this.__data__,tt=assocIndexOf$3(_e,et);return tt<0?void 0:_e[tt][1]}var _listCacheGet=listCacheGet$2,assocIndexOf$2=_assocIndexOf;function listCacheHas$2(et){return assocIndexOf$2(this.__data__,et)>-1}var _listCacheHas=listCacheHas$2,assocIndexOf$1=_assocIndexOf;function listCacheSet$2(et,_e){var tt=this.__data__,rt=assocIndexOf$1(tt,et);return rt<0?(++this.size,tt.push([et,_e])):tt[rt][1]=_e,this}var _listCacheSet=listCacheSet$2,listCacheClear$1=_listCacheClear,listCacheDelete$1=_listCacheDelete,listCacheGet$1=_listCacheGet,listCacheHas$1=_listCacheHas,listCacheSet$1=_listCacheSet;function ListCache$5(et){var _e=-1,tt=et==null?0:et.length;for(this.clear();++_e<tt;){var rt=et[_e];this.set(rt[0],rt[1])}}ListCache$5.prototype.clear=listCacheClear$1;ListCache$5.prototype.delete=listCacheDelete$1;ListCache$5.prototype.get=listCacheGet$1;ListCache$5.prototype.has=listCacheHas$1;ListCache$5.prototype.set=listCacheSet$1;var _ListCache=ListCache$5,ListCache$4=_ListCache;function stackClear$2(){this.__data__=new ListCache$4,this.size=0}var _stackClear=stackClear$2;function stackDelete$2(et){var _e=this.__data__,tt=_e.delete(et);return this.size=_e.size,tt}var _stackDelete=stackDelete$2;function stackGet$2(et){return this.__data__.get(et)}var _stackGet=stackGet$2;function stackHas$2(et){return this.__data__.has(et)}var _stackHas=stackHas$2,root$9=_root,coreJsData$3=root$9["__core-js_shared__"],_coreJsData=coreJsData$3,coreJsData$2=_coreJsData,maskSrcKey$1=function(){var et=/[^.]+$/.exec(coreJsData$2&&coreJsData$2.keys&&coreJsData$2.keys.IE_PROTO||"");return et?"Symbol(src)_1."+et:""}();function isMasked$2(et){return!!maskSrcKey$1&&maskSrcKey$1 in et}var _isMasked=isMasked$2,funcProto$4=Function.prototype,funcToString$4=funcProto$4.toString;function toSource$3(et){if(et!=null){try{return funcToString$4.call(et)}catch{}try{return et+""}catch{}}return""}var _toSource=toSource$3,isFunction$2=isFunction_1,isMasked$1=_isMasked,isObject$5=isObject_1,toSource$2=_toSource,reRegExpChar$1=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor$1=/^\[object .+?Constructor\]$/,funcProto$3=Function.prototype,objectProto$n=Object.prototype,funcToString$3=funcProto$3.toString,hasOwnProperty$j=objectProto$n.hasOwnProperty,reIsNative$1=RegExp("^"+funcToString$3.call(hasOwnProperty$j).replace(reRegExpChar$1,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$2(et){if(!isObject$5(et)||isMasked$1(et))return!1;var _e=isFunction$2(et)?reIsNative$1:reIsHostCtor$1;return _e.test(toSource$2(et))}var _baseIsNative=baseIsNative$2;function getValue$2(et,_e){return et==null?void 0:et[_e]}var _getValue=getValue$2,baseIsNative$1=_baseIsNative,getValue$1=_getValue;function getNative$8(et,_e){var tt=getValue$1(et,_e);return baseIsNative$1(tt)?tt:void 0}var _getNative=getNative$8,getNative$7=_getNative,root$8=_root,Map$6=getNative$7(root$8,"Map"),_Map=Map$6,getNative$6=_getNative,nativeCreate$6=getNative$6(Object,"create"),_nativeCreate=nativeCreate$6,nativeCreate$5=_nativeCreate;function hashClear$2(){this.__data__=nativeCreate$5?nativeCreate$5(null):{},this.size=0}var _hashClear=hashClear$2;function hashDelete$2(et){var _e=this.has(et)&&delete this.__data__[et];return this.size-=_e?1:0,_e}var _hashDelete=hashDelete$2,nativeCreate$4=_nativeCreate,HASH_UNDEFINED$5="__lodash_hash_undefined__",objectProto$m=Object.prototype,hasOwnProperty$i=objectProto$m.hasOwnProperty;function hashGet$2(et){var _e=this.__data__;if(nativeCreate$4){var tt=_e[et];return tt===HASH_UNDEFINED$5?void 0:tt}return hasOwnProperty$i.call(_e,et)?_e[et]:void 0}var _hashGet=hashGet$2,nativeCreate$3=_nativeCreate,objectProto$l=Object.prototype,hasOwnProperty$h=objectProto$l.hasOwnProperty;function hashHas$2(et){var _e=this.__data__;return nativeCreate$3?_e[et]!==void 0:hasOwnProperty$h.call(_e,et)}var _hashHas=hashHas$2,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$4="__lodash_hash_undefined__";function hashSet$2(et,_e){var tt=this.__data__;return this.size+=this.has(et)?0:1,tt[et]=nativeCreate$2&&_e===void 0?HASH_UNDEFINED$4:_e,this}var _hashSet=hashSet$2,hashClear$1=_hashClear,hashDelete$1=_hashDelete,hashGet$1=_hashGet,hashHas$1=_hashHas,hashSet$1=_hashSet;function Hash$2(et){var _e=-1,tt=et==null?0:et.length;for(this.clear();++_e<tt;){var rt=et[_e];this.set(rt[0],rt[1])}}Hash$2.prototype.clear=hashClear$1;Hash$2.prototype.delete=hashDelete$1;Hash$2.prototype.get=hashGet$1;Hash$2.prototype.has=hashHas$1;Hash$2.prototype.set=hashSet$1;var _Hash=Hash$2,Hash$1=_Hash,ListCache$3=_ListCache,Map$5=_Map;function mapCacheClear$2(){this.size=0,this.__data__={hash:new Hash$1,map:new(Map$5||ListCache$3),string:new Hash$1}}var _mapCacheClear=mapCacheClear$2;function isKeyable$2(et){var _e=typeof et;return _e=="string"||_e=="number"||_e=="symbol"||_e=="boolean"?et!=="__proto__":et===null}var _isKeyable=isKeyable$2,isKeyable$1=_isKeyable;function getMapData$5(et,_e){var tt=et.__data__;return isKeyable$1(_e)?tt[typeof _e=="string"?"string":"hash"]:tt.map}var _getMapData=getMapData$5,getMapData$4=_getMapData;function mapCacheDelete$2(et){var _e=getMapData$4(this,et).delete(et);return this.size-=_e?1:0,_e}var _mapCacheDelete=mapCacheDelete$2,getMapData$3=_getMapData;function mapCacheGet$2(et){return getMapData$3(this,et).get(et)}var _mapCacheGet=mapCacheGet$2,getMapData$2=_getMapData;function mapCacheHas$2(et){return getMapData$2(this,et).has(et)}var _mapCacheHas=mapCacheHas$2,getMapData$1=_getMapData;function mapCacheSet$2(et,_e){var tt=getMapData$1(this,et),rt=tt.size;return tt.set(et,_e),this.size+=tt.size==rt?0:1,this}var _mapCacheSet=mapCacheSet$2,mapCacheClear$1=_mapCacheClear,mapCacheDelete$1=_mapCacheDelete,mapCacheGet$1=_mapCacheGet,mapCacheHas$1=_mapCacheHas,mapCacheSet$1=_mapCacheSet;function MapCache$4(et){var _e=-1,tt=et==null?0:et.length;for(this.clear();++_e<tt;){var rt=et[_e];this.set(rt[0],rt[1])}}MapCache$4.prototype.clear=mapCacheClear$1;MapCache$4.prototype.delete=mapCacheDelete$1;MapCache$4.prototype.get=mapCacheGet$1;MapCache$4.prototype.has=mapCacheHas$1;MapCache$4.prototype.set=mapCacheSet$1;var _MapCache=MapCache$4,ListCache$2=_ListCache,Map$4=_Map,MapCache$3=_MapCache,LARGE_ARRAY_SIZE$1=200;function stackSet$2(et,_e){var tt=this.__data__;if(tt instanceof ListCache$2){var rt=tt.__data__;if(!Map$4||rt.length<LARGE_ARRAY_SIZE$1-1)return rt.push([et,_e]),this.size=++tt.size,this;tt=this.__data__=new MapCache$3(rt)}return tt.set(et,_e),this.size=tt.size,this}var _stackSet=stackSet$2,ListCache$1=_ListCache,stackClear$1=_stackClear,stackDelete$1=_stackDelete,stackGet$1=_stackGet,stackHas$1=_stackHas,stackSet$1=_stackSet;function Stack$4(et){var _e=this.__data__=new ListCache$1(et);this.size=_e.size}Stack$4.prototype.clear=stackClear$1;Stack$4.prototype.delete=stackDelete$1;Stack$4.prototype.get=stackGet$1;Stack$4.prototype.has=stackHas$1;Stack$4.prototype.set=stackSet$1;var _Stack=Stack$4,HASH_UNDEFINED$3="__lodash_hash_undefined__";function setCacheAdd$2(et){return this.__data__.set(et,HASH_UNDEFINED$3),this}var _setCacheAdd=setCacheAdd$2;function setCacheHas$2(et){return this.__data__.has(et)}var _setCacheHas=setCacheHas$2,MapCache$2=_MapCache,setCacheAdd$1=_setCacheAdd,setCacheHas$1=_setCacheHas;function SetCache$2(et){var _e=-1,tt=et==null?0:et.length;for(this.__data__=new MapCache$2;++_e<tt;)this.add(et[_e])}SetCache$2.prototype.add=SetCache$2.prototype.push=setCacheAdd$1;SetCache$2.prototype.has=setCacheHas$1;var _SetCache=SetCache$2;function arraySome$2(et,_e){for(var tt=-1,rt=et==null?0:et.length;++tt<rt;)if(_e(et[tt],tt,et))return!0;return!1}var _arraySome=arraySome$2;function cacheHas$2(et,_e){return et.has(_e)}var _cacheHas=cacheHas$2,SetCache$1=_SetCache,arraySome$1=_arraySome,cacheHas$1=_cacheHas,COMPARE_PARTIAL_FLAG$b=1,COMPARE_UNORDERED_FLAG$7=2;function equalArrays$3(et,_e,tt,rt,nt,st){var it=tt&COMPARE_PARTIAL_FLAG$b,at=et.length,ot=_e.length;if(at!=ot&&!(it&&ot>at))return!1;var lt=st.get(et),ct=st.get(_e);if(lt&&ct)return lt==_e&&ct==et;var ut=-1,dt=!0,ft=tt&COMPARE_UNORDERED_FLAG$7?new SetCache$1:void 0;for(st.set(et,_e),st.set(_e,et);++ut<at;){var ht=et[ut],pt=_e[ut];if(rt)var gt=it?rt(pt,ht,ut,_e,et,st):rt(ht,pt,ut,et,_e,st);if(gt!==void 0){if(gt)continue;dt=!1;break}if(ft){if(!arraySome$1(_e,function(mt,bt){if(!cacheHas$1(ft,bt)&&(ht===mt||nt(ht,mt,tt,rt,st)))return ft.push(bt)})){dt=!1;break}}else if(!(ht===pt||nt(ht,pt,tt,rt,st))){dt=!1;break}}return st.delete(et),st.delete(_e),dt}var _equalArrays=equalArrays$3,root$7=_root,Uint8Array$5=root$7.Uint8Array,_Uint8Array=Uint8Array$5;function mapToArray$2(et){var _e=-1,tt=Array(et.size);return et.forEach(function(rt,nt){tt[++_e]=[nt,rt]}),tt}var _mapToArray=mapToArray$2;function setToArray$2(et){var _e=-1,tt=Array(et.size);return et.forEach(function(rt){tt[++_e]=rt}),tt}var _setToArray=setToArray$2,Symbol$5=_Symbol,Uint8Array$4=_Uint8Array,eq$2=eq_1,equalArrays$2=_equalArrays,mapToArray$1=_mapToArray,setToArray$1=_setToArray,COMPARE_PARTIAL_FLAG$a=1,COMPARE_UNORDERED_FLAG$6=2,boolTag$4="[object Boolean]",dateTag$4="[object Date]",errorTag$3="[object Error]",mapTag$7="[object Map]",numberTag$4="[object Number]",regexpTag$4="[object RegExp]",setTag$7="[object Set]",stringTag$4="[object String]",symbolTag$5="[object Symbol]",arrayBufferTag$4="[object ArrayBuffer]",dataViewTag$6="[object DataView]",symbolProto$4=Symbol$5?Symbol$5.prototype:void 0,symbolValueOf$2=symbolProto$4?symbolProto$4.valueOf:void 0;function equalByTag$2(et,_e,tt,rt,nt,st,it){switch(tt){case dataViewTag$6:if(et.byteLength!=_e.byteLength||et.byteOffset!=_e.byteOffset)return!1;et=et.buffer,_e=_e.buffer;case arrayBufferTag$4:return!(et.byteLength!=_e.byteLength||!st(new Uint8Array$4(et),new Uint8Array$4(_e)));case boolTag$4:case dateTag$4:case numberTag$4:return eq$2(+et,+_e);case errorTag$3:return et.name==_e.name&&et.message==_e.message;case regexpTag$4:case stringTag$4:return et==_e+"";case mapTag$7:var at=mapToArray$1;case setTag$7:var ot=rt&COMPARE_PARTIAL_FLAG$a;if(at||(at=setToArray$1),et.size!=_e.size&&!ot)return!1;var lt=it.get(et);if(lt)return lt==_e;rt|=COMPARE_UNORDERED_FLAG$6,it.set(et,_e);var ct=equalArrays$2(at(et),at(_e),rt,nt,st,it);return it.delete(et),ct;case symbolTag$5:if(symbolValueOf$2)return symbolValueOf$2.call(et)==symbolValueOf$2.call(_e)}return!1}var _equalByTag=equalByTag$2;function arrayPush$3(et,_e){for(var tt=-1,rt=_e.length,nt=et.length;++tt<rt;)et[nt+tt]=_e[tt];return et}var _arrayPush=arrayPush$3,arrayPush$2=_arrayPush,isArray$a=isArray_1;function baseGetAllKeys$3(et,_e,tt){var rt=_e(et);return isArray$a(et)?rt:arrayPush$2(rt,tt(et))}var _baseGetAllKeys=baseGetAllKeys$3;function arrayFilter$2(et,_e){for(var tt=-1,rt=et==null?0:et.length,nt=0,st=[];++tt<rt;){var it=et[tt];_e(it,tt,et)&&(st[nt++]=it)}return st}var _arrayFilter=arrayFilter$2;function stubArray$3(){return[]}var stubArray_1=stubArray$3,arrayFilter$1=_arrayFilter,stubArray$2=stubArray_1,objectProto$k=Object.prototype,propertyIsEnumerable$2=objectProto$k.propertyIsEnumerable,nativeGetSymbols$2=Object.getOwnPropertySymbols,getSymbols$5=nativeGetSymbols$2?function(et){return et==null?[]:(et=Object(et),arrayFilter$1(nativeGetSymbols$2(et),function(_e){return propertyIsEnumerable$2.call(et,_e)}))}:stubArray$2,_getSymbols=getSymbols$5,baseGetAllKeys$2=_baseGetAllKeys,getSymbols$4=_getSymbols,keys$4=keys_1;function getAllKeys$3(et){return baseGetAllKeys$2(et,keys$4,getSymbols$4)}var _getAllKeys=getAllKeys$3,getAllKeys$2=_getAllKeys,COMPARE_PARTIAL_FLAG$9=1,objectProto$j=Object.prototype,hasOwnProperty$g=objectProto$j.hasOwnProperty;function equalObjects$2(et,_e,tt,rt,nt,st){var it=tt&COMPARE_PARTIAL_FLAG$9,at=getAllKeys$2(et),ot=at.length,lt=getAllKeys$2(_e),ct=lt.length;if(ot!=ct&&!it)return!1;for(var ut=ot;ut--;){var dt=at[ut];if(!(it?dt in _e:hasOwnProperty$g.call(_e,dt)))return!1}var ft=st.get(et),ht=st.get(_e);if(ft&&ht)return ft==_e&&ht==et;var pt=!0;st.set(et,_e),st.set(_e,et);for(var gt=it;++ut<ot;){dt=at[ut];var mt=et[dt],bt=_e[dt];if(rt)var vt=it?rt(bt,mt,dt,_e,et,st):rt(mt,bt,dt,et,_e,st);if(!(vt===void 0?mt===bt||nt(mt,bt,tt,rt,st):vt)){pt=!1;break}gt||(gt=dt=="constructor")}if(pt&&!gt){var yt=et.constructor,xt=_e.constructor;yt!=xt&&"constructor"in et&&"constructor"in _e&&!(typeof yt=="function"&&yt instanceof yt&&typeof xt=="function"&&xt instanceof xt)&&(pt=!1)}return st.delete(et),st.delete(_e),pt}var _equalObjects=equalObjects$2,getNative$5=_getNative,root$6=_root,DataView$4=getNative$5(root$6,"DataView"),_DataView=DataView$4,getNative$4=_getNative,root$5=_root,Promise$4=getNative$4(root$5,"Promise"),_Promise=Promise$4,getNative$3=_getNative,root$4=_root,Set$4=getNative$3(root$4,"Set"),_Set=Set$4,getNative$2=_getNative,root$3=_root,WeakMap$4=getNative$2(root$3,"WeakMap"),_WeakMap=WeakMap$4,DataView$3=_DataView,Map$3=_Map,Promise$3=_Promise,Set$3=_Set,WeakMap$3=_WeakMap,baseGetTag$2=_baseGetTag,toSource$1=_toSource,mapTag$6="[object Map]",objectTag$6="[object Object]",promiseTag$1="[object Promise]",setTag$6="[object Set]",weakMapTag$3="[object WeakMap]",dataViewTag$5="[object DataView]",dataViewCtorString$1=toSource$1(DataView$3),mapCtorString$1=toSource$1(Map$3),promiseCtorString$1=toSource$1(Promise$3),setCtorString$1=toSource$1(Set$3),weakMapCtorString$1=toSource$1(WeakMap$3),getTag$6=baseGetTag$2;(DataView$3&&getTag$6(new DataView$3(new ArrayBuffer(1)))!=dataViewTag$5||Map$3&&getTag$6(new Map$3)!=mapTag$6||Promise$3&&getTag$6(Promise$3.resolve())!=promiseTag$1||Set$3&&getTag$6(new Set$3)!=setTag$6||WeakMap$3&&getTag$6(new WeakMap$3)!=weakMapTag$3)&&(getTag$6=function(et){var _e=baseGetTag$2(et),tt=_e==objectTag$6?et.constructor:void 0,rt=tt?toSource$1(tt):"";if(rt)switch(rt){case dataViewCtorString$1:return dataViewTag$5;case mapCtorString$1:return mapTag$6;case promiseCtorString$1:return promiseTag$1;case setCtorString$1:return setTag$6;case weakMapCtorString$1:return weakMapTag$3}return _e});var _getTag=getTag$6,Stack$3=_Stack,equalArrays$1=_equalArrays,equalByTag$1=_equalByTag,equalObjects$1=_equalObjects,getTag$5=_getTag,isArray$9=isArray_1,isBuffer$3=isBufferExports,isTypedArray$2=isTypedArray_1,COMPARE_PARTIAL_FLAG$8=1,argsTag$4="[object Arguments]",arrayTag$3="[object Array]",objectTag$5="[object Object]",objectProto$i=Object.prototype,hasOwnProperty$f=objectProto$i.hasOwnProperty;function baseIsEqualDeep$2(et,_e,tt,rt,nt,st){var it=isArray$9(et),at=isArray$9(_e),ot=it?arrayTag$3:getTag$5(et),lt=at?arrayTag$3:getTag$5(_e);ot=ot==argsTag$4?objectTag$5:ot,lt=lt==argsTag$4?objectTag$5:lt;var ct=ot==objectTag$5,ut=lt==objectTag$5,dt=ot==lt;if(dt&&isBuffer$3(et)){if(!isBuffer$3(_e))return!1;it=!0,ct=!1}if(dt&&!ct)return st||(st=new Stack$3),it||isTypedArray$2(et)?equalArrays$1(et,_e,tt,rt,nt,st):equalByTag$1(et,_e,ot,tt,rt,nt,st);if(!(tt&COMPARE_PARTIAL_FLAG$8)){var ft=ct&&hasOwnProperty$f.call(et,"__wrapped__"),ht=ut&&hasOwnProperty$f.call(_e,"__wrapped__");if(ft||ht){var pt=ft?et.value():et,gt=ht?_e.value():_e;return st||(st=new Stack$3),nt(pt,gt,tt,rt,st)}}return dt?(st||(st=new Stack$3),equalObjects$1(et,_e,tt,rt,nt,st)):!1}var _baseIsEqualDeep=baseIsEqualDeep$2,baseIsEqualDeep$1=_baseIsEqualDeep,isObjectLike$4=isObjectLike_1;function baseIsEqual$3(et,_e,tt,rt,nt){return et===_e?!0:et==null||_e==null||!isObjectLike$4(et)&&!isObjectLike$4(_e)?et!==et&&_e!==_e:baseIsEqualDeep$1(et,_e,tt,rt,baseIsEqual$3,nt)}var _baseIsEqual=baseIsEqual$3,Stack$2=_Stack,baseIsEqual$2=_baseIsEqual,COMPARE_PARTIAL_FLAG$7=1,COMPARE_UNORDERED_FLAG$5=2;function baseIsMatch$2(et,_e,tt,rt){var nt=tt.length,st=nt,it=!rt;if(et==null)return!st;for(et=Object(et);nt--;){var at=tt[nt];if(it&&at[2]?at[1]!==et[at[0]]:!(at[0]in et))return!1}for(;++nt<st;){at=tt[nt];var ot=at[0],lt=et[ot],ct=at[1];if(it&&at[2]){if(lt===void 0&&!(ot in et))return!1}else{var ut=new Stack$2;if(rt)var dt=rt(lt,ct,ot,et,_e,ut);if(!(dt===void 0?baseIsEqual$2(ct,lt,COMPARE_PARTIAL_FLAG$7|COMPARE_UNORDERED_FLAG$5,rt,ut):dt))return!1}}return!0}var _baseIsMatch=baseIsMatch$2,isObject$4=isObject_1;function isStrictComparable$3(et){return et===et&&!isObject$4(et)}var _isStrictComparable=isStrictComparable$3,isStrictComparable$2=_isStrictComparable,keys$3=keys_1;function getMatchData$2(et){for(var _e=keys$3(et),tt=_e.length;tt--;){var rt=_e[tt],nt=et[rt];_e[tt]=[rt,nt,isStrictComparable$2(nt)]}return _e}var _getMatchData=getMatchData$2;function matchesStrictComparable$3(et,_e){return function(tt){return tt==null?!1:tt[et]===_e&&(_e!==void 0||et in Object(tt))}}var _matchesStrictComparable=matchesStrictComparable$3,baseIsMatch$1=_baseIsMatch,getMatchData$1=_getMatchData,matchesStrictComparable$2=_matchesStrictComparable;function baseMatches$2(et){var _e=getMatchData$1(et);return _e.length==1&&_e[0][2]?matchesStrictComparable$2(_e[0][0],_e[0][1]):function(tt){return tt===et||baseIsMatch$1(tt,et,_e)}}var _baseMatches=baseMatches$2,baseGetTag$1=_baseGetTag,isObjectLike$3=isObjectLike_1,symbolTag$4="[object Symbol]";function isSymbol$4(et){return typeof et=="symbol"||isObjectLike$3(et)&&baseGetTag$1(et)==symbolTag$4}var isSymbol_1=isSymbol$4,isArray$8=isArray_1,isSymbol$3=isSymbol_1,reIsDeepProp$1=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp$1=/^\w*$/;function isKey$4(et,_e){if(isArray$8(et))return!1;var tt=typeof et;return tt=="number"||tt=="symbol"||tt=="boolean"||et==null||isSymbol$3(et)?!0:reIsPlainProp$1.test(et)||!reIsDeepProp$1.test(et)||_e!=null&&et in Object(_e)}var _isKey=isKey$4,MapCache$1=_MapCache,FUNC_ERROR_TEXT$3="Expected a function";function memoize$2(et,_e){if(typeof et!="function"||_e!=null&&typeof _e!="function")throw new TypeError(FUNC_ERROR_TEXT$3);var tt=function(){var rt=arguments,nt=_e?_e.apply(this,rt):rt[0],st=tt.cache;if(st.has(nt))return st.get(nt);var it=et.apply(this,rt);return tt.cache=st.set(nt,it)||st,it};return tt.cache=new(memoize$2.Cache||MapCache$1),tt}memoize$2.Cache=MapCache$1;var memoize_1=memoize$2,memoize$1=memoize_1,MAX_MEMOIZE_SIZE$1=500;function memoizeCapped$2(et){var _e=memoize$1(et,function(rt){return tt.size===MAX_MEMOIZE_SIZE$1&&tt.clear(),rt}),tt=_e.cache;return _e}var _memoizeCapped=memoizeCapped$2,memoizeCapped$1=_memoizeCapped,rePropName$1=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar$1=/\\(\\)?/g,stringToPath$3=memoizeCapped$1(function(et){var _e=[];return et.charCodeAt(0)===46&&_e.push(""),et.replace(rePropName$1,function(tt,rt,nt,st){_e.push(nt?st.replace(reEscapeChar$1,"$1"):rt||tt)}),_e}),_stringToPath=stringToPath$3,Symbol$4=_Symbol,arrayMap$2=_arrayMap,isArray$7=isArray_1,isSymbol$2=isSymbol_1,INFINITY$3=1/0,symbolProto$3=Symbol$4?Symbol$4.prototype:void 0,symbolToString$1=symbolProto$3?symbolProto$3.toString:void 0;function baseToString$2(et){if(typeof et=="string")return et;if(isArray$7(et))return arrayMap$2(et,baseToString$2)+"";if(isSymbol$2(et))return symbolToString$1?symbolToString$1.call(et):"";var _e=et+"";return _e=="0"&&1/et==-INFINITY$3?"-0":_e}var _baseToString=baseToString$2,baseToString$1=_baseToString;function toString$2(et){return et==null?"":baseToString$1(et)}var toString_1=toString$2,isArray$6=isArray_1,isKey$3=_isKey,stringToPath$2=_stringToPath,toString$1=toString_1;function castPath$3(et,_e){return isArray$6(et)?et:isKey$3(et,_e)?[et]:stringToPath$2(toString$1(et))}var _castPath=castPath$3,isSymbol$1=isSymbol_1,INFINITY$2=1/0;function toKey$5(et){if(typeof et=="string"||isSymbol$1(et))return et;var _e=et+"";return _e=="0"&&1/et==-INFINITY$2?"-0":_e}var _toKey=toKey$5,castPath$2=_castPath,toKey$4=_toKey;function baseGet$3(et,_e){_e=castPath$2(_e,et);for(var tt=0,rt=_e.length;et!=null&&tt<rt;)et=et[toKey$4(_e[tt++])];return tt&&tt==rt?et:void 0}var _baseGet=baseGet$3,baseGet$2=_baseGet;function get$3(et,_e,tt){var rt=et==null?void 0:baseGet$2(et,_e);return rt===void 0?tt:rt}var get_1=get$3;function baseHasIn$2(et,_e){return et!=null&&_e in Object(et)}var _baseHasIn=baseHasIn$2,castPath$1=_castPath,isArguments$2=isArguments_1,isArray$5=isArray_1,isIndex$1=_isIndex,isLength$1=isLength_1,toKey$3=_toKey;function hasPath$2(et,_e,tt){_e=castPath$1(_e,et);for(var rt=-1,nt=_e.length,st=!1;++rt<nt;){var it=toKey$3(_e[rt]);if(!(st=et!=null&&tt(et,it)))break;et=et[it]}return st||++rt!=nt?st:(nt=et==null?0:et.length,!!nt&&isLength$1(nt)&&isIndex$1(it,nt)&&(isArray$5(et)||isArguments$2(et)))}var _hasPath=hasPath$2,baseHasIn$1=_baseHasIn,hasPath$1=_hasPath;function hasIn$2(et,_e){return et!=null&&hasPath$1(et,_e,baseHasIn$1)}var hasIn_1=hasIn$2,baseIsEqual$1=_baseIsEqual,get$2=get_1,hasIn$1=hasIn_1,isKey$2=_isKey,isStrictComparable$1=_isStrictComparable,matchesStrictComparable$1=_matchesStrictComparable,toKey$2=_toKey,COMPARE_PARTIAL_FLAG$6=1,COMPARE_UNORDERED_FLAG$4=2;function baseMatchesProperty$2(et,_e){return isKey$2(et)&&isStrictComparable$1(_e)?matchesStrictComparable$1(toKey$2(et),_e):function(tt){var rt=get$2(tt,et);return rt===void 0&&rt===_e?hasIn$1(tt,et):baseIsEqual$1(_e,rt,COMPARE_PARTIAL_FLAG$6|COMPARE_UNORDERED_FLAG$4)}}var _baseMatchesProperty=baseMatchesProperty$2;function baseProperty$2(et){return function(_e){return _e==null?void 0:_e[et]}}var _baseProperty=baseProperty$2,baseGet$1=_baseGet;function basePropertyDeep$2(et){return function(_e){return baseGet$1(_e,et)}}var _basePropertyDeep=basePropertyDeep$2,baseProperty$1=_baseProperty,basePropertyDeep$1=_basePropertyDeep,isKey$1=_isKey,toKey$1=_toKey;function property$2(et){return isKey$1(et)?baseProperty$1(toKey$1(et)):basePropertyDeep$1(et)}var property_1=property$2,baseMatches$1=_baseMatches,baseMatchesProperty$1=_baseMatchesProperty,identity$1=identity_1,isArray$4=isArray_1,property$1=property_1;function baseIteratee$2(et){return typeof et=="function"?et:et==null?identity$1:typeof et=="object"?isArray$4(et)?baseMatchesProperty$1(et[0],et[1]):baseMatches$1(et):property$1(et)}var _baseIteratee=baseIteratee$2,isArrayLike$3=isArrayLike_1;function createBaseEach$2(et,_e){return function(tt,rt){if(tt==null)return tt;if(!isArrayLike$3(tt))return et(tt,rt);for(var nt=tt.length,st=_e?nt:-1,it=Object(tt);(_e?st--:++st<nt)&&rt(it[st],st,it)!==!1;);return tt}}var _createBaseEach=createBaseEach$2,baseForOwn$1=_baseForOwn,createBaseEach$1=_createBaseEach,baseEach$3=createBaseEach$1(baseForOwn$1),_baseEach=baseEach$3,baseEach$2=_baseEach,isArrayLike$2=isArrayLike_1;function baseMap$2(et,_e){var tt=-1,rt=isArrayLike$2(et)?Array(et.length):[];return baseEach$2(et,function(nt,st,it){rt[++tt]=_e(nt,st,it)}),rt}var _baseMap=baseMap$2,arrayMap$1=_arrayMap,baseIteratee$1=_baseIteratee,baseMap$1=_baseMap,isArray$3=isArray_1;function map$1(et,_e){var tt=isArray$3(et)?arrayMap$1:baseMap$1;return tt(et,baseIteratee$1(_e))}var map_1=map$1;Object.defineProperty(flattenNames$1,"__esModule",{value:!0});flattenNames$1.flattenNames=void 0;var _isString2=isString_1,_isString3=_interopRequireDefault$7(_isString2),_forOwn2$2=forOwn_1,_forOwn3$2=_interopRequireDefault$7(_forOwn2$2),_isPlainObject2=isPlainObject_1,_isPlainObject3=_interopRequireDefault$7(_isPlainObject2),_map2=map_1,_map3=_interopRequireDefault$7(_map2);function _interopRequireDefault$7(et){return et&&et.__esModule?et:{default:et}}var flattenNames=flattenNames$1.flattenNames=function et(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],tt=[];return(0,_map3.default)(_e,function(rt){Array.isArray(rt)?et(rt).map(function(nt){return tt.push(nt)}):(0,_isPlainObject3.default)(rt)?(0,_forOwn3$2.default)(rt,function(nt,st){nt===!0&&tt.push(st),tt.push(st+"-"+nt)}):(0,_isString3.default)(rt)&&tt.push(rt)}),tt};flattenNames$1.default=flattenNames;var mergeClasses$1={};function arrayEach$2(et,_e){for(var tt=-1,rt=et==null?0:et.length;++tt<rt&&_e(et[tt],tt,et)!==!1;);return et}var _arrayEach=arrayEach$2,getNative$1=_getNative,defineProperty$3=function(){try{var et=getNative$1(Object,"defineProperty");return et({},"",{}),et}catch{}}(),_defineProperty$1=defineProperty$3,defineProperty$2=_defineProperty$1;function baseAssignValue$3(et,_e,tt){_e=="__proto__"&&defineProperty$2?defineProperty$2(et,_e,{configurable:!0,enumerable:!0,value:tt,writable:!0}):et[_e]=tt}var _baseAssignValue=baseAssignValue$3,baseAssignValue$2=_baseAssignValue,eq$1=eq_1,objectProto$h=Object.prototype,hasOwnProperty$e=objectProto$h.hasOwnProperty;function assignValue$3(et,_e,tt){var rt=et[_e];(!(hasOwnProperty$e.call(et,_e)&&eq$1(rt,tt))||tt===void 0&&!(_e in et))&&baseAssignValue$2(et,_e,tt)}var _assignValue=assignValue$3,assignValue$2=_assignValue,baseAssignValue$1=_baseAssignValue;function copyObject$5(et,_e,tt,rt){var nt=!tt;tt||(tt={});for(var st=-1,it=_e.length;++st<it;){var at=_e[st],ot=rt?rt(tt[at],et[at],at,tt,et):void 0;ot===void 0&&(ot=et[at]),nt?baseAssignValue$1(tt,at,ot):assignValue$2(tt,at,ot)}return tt}var _copyObject=copyObject$5,copyObject$4=_copyObject,keys$2=keys_1;function baseAssign$1(et,_e){return et&&copyObject$4(_e,keys$2(_e),et)}var _baseAssign=baseAssign$1;function nativeKeysIn$2(et){var _e=[];if(et!=null)for(var tt in Object(et))_e.push(tt);return _e}var _nativeKeysIn=nativeKeysIn$2,isObject$3=isObject_1,isPrototype$2=_isPrototype,nativeKeysIn$1=_nativeKeysIn,objectProto$g=Object.prototype,hasOwnProperty$d=objectProto$g.hasOwnProperty;function baseKeysIn$2(et){if(!isObject$3(et))return nativeKeysIn$1(et);var _e=isPrototype$2(et),tt=[];for(var rt in et)rt=="constructor"&&(_e||!hasOwnProperty$d.call(et,rt))||tt.push(rt);return tt}var _baseKeysIn=baseKeysIn$2,arrayLikeKeys$1=_arrayLikeKeys,baseKeysIn$1=_baseKeysIn,isArrayLike$1=isArrayLike_1;function keysIn$4(et){return isArrayLike$1(et)?arrayLikeKeys$1(et,!0):baseKeysIn$1(et)}var keysIn_1=keysIn$4,copyObject$3=_copyObject,keysIn$3=keysIn_1;function baseAssignIn$1(et,_e){return et&&copyObject$3(_e,keysIn$3(_e),et)}var _baseAssignIn=baseAssignIn$1,_cloneBuffer={exports:{}};_cloneBuffer.exports;(function(et,_e){var tt=_root,rt=_e&&!_e.nodeType&&_e,nt=rt&&!0&&et&&!et.nodeType&&et,st=nt&&nt.exports===rt,it=st?tt.Buffer:void 0,at=it?it.allocUnsafe:void 0;function ot(lt,ct){if(ct)return lt.slice();var ut=lt.length,dt=at?at(ut):new lt.constructor(ut);return lt.copy(dt),dt}et.exports=ot})(_cloneBuffer,_cloneBuffer.exports);var _cloneBufferExports=_cloneBuffer.exports;function copyArray$2(et,_e){var tt=-1,rt=et.length;for(_e||(_e=Array(rt));++tt<rt;)_e[tt]=et[tt];return _e}var _copyArray=copyArray$2,copyObject$2=_copyObject,getSymbols$3=_getSymbols;function copySymbols$1(et,_e){return copyObject$2(et,getSymbols$3(et),_e)}var _copySymbols=copySymbols$1,arrayPush$1=_arrayPush,getPrototype$3=_getPrototype,getSymbols$2=_getSymbols,stubArray$1=stubArray_1,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbolsIn$2=nativeGetSymbols$1?function(et){for(var _e=[];et;)arrayPush$1(_e,getSymbols$2(et)),et=getPrototype$3(et);return _e}:stubArray$1,_getSymbolsIn=getSymbolsIn$2,copyObject$1=_copyObject,getSymbolsIn$1=_getSymbolsIn;function copySymbolsIn$1(et,_e){return copyObject$1(et,getSymbolsIn$1(et),_e)}var _copySymbolsIn=copySymbolsIn$1,baseGetAllKeys$1=_baseGetAllKeys,getSymbolsIn=_getSymbolsIn,keysIn$2=keysIn_1;function getAllKeysIn$1(et){return baseGetAllKeys$1(et,keysIn$2,getSymbolsIn)}var _getAllKeysIn=getAllKeysIn$1,objectProto$f=Object.prototype,hasOwnProperty$c=objectProto$f.hasOwnProperty;function initCloneArray$1(et){var _e=et.length,tt=new et.constructor(_e);return _e&&typeof et[0]=="string"&&hasOwnProperty$c.call(et,"index")&&(tt.index=et.index,tt.input=et.input),tt}var _initCloneArray=initCloneArray$1,Uint8Array$3=_Uint8Array;function cloneArrayBuffer$4(et){var _e=new et.constructor(et.byteLength);return new Uint8Array$3(_e).set(new Uint8Array$3(et)),_e}var _cloneArrayBuffer=cloneArrayBuffer$4,cloneArrayBuffer$3=_cloneArrayBuffer;function cloneDataView$1(et,_e){var tt=_e?cloneArrayBuffer$3(et.buffer):et.buffer;return new et.constructor(tt,et.byteOffset,et.byteLength)}var _cloneDataView=cloneDataView$1,reFlags=/\w*$/;function cloneRegExp$1(et){var _e=new et.constructor(et.source,reFlags.exec(et));return _e.lastIndex=et.lastIndex,_e}var _cloneRegExp=cloneRegExp$1,Symbol$3=_Symbol,symbolProto$2=Symbol$3?Symbol$3.prototype:void 0,symbolValueOf$1=symbolProto$2?symbolProto$2.valueOf:void 0;function cloneSymbol$1(et){return symbolValueOf$1?Object(symbolValueOf$1.call(et)):{}}var _cloneSymbol=cloneSymbol$1,cloneArrayBuffer$2=_cloneArrayBuffer;function cloneTypedArray$2(et,_e){var tt=_e?cloneArrayBuffer$2(et.buffer):et.buffer;return new et.constructor(tt,et.byteOffset,et.length)}var _cloneTypedArray=cloneTypedArray$2,cloneArrayBuffer$1=_cloneArrayBuffer,cloneDataView=_cloneDataView,cloneRegExp=_cloneRegExp,cloneSymbol=_cloneSymbol,cloneTypedArray$1=_cloneTypedArray,boolTag$3="[object Boolean]",dateTag$3="[object Date]",mapTag$5="[object Map]",numberTag$3="[object Number]",regexpTag$3="[object RegExp]",setTag$5="[object Set]",stringTag$3="[object String]",symbolTag$3="[object Symbol]",arrayBufferTag$3="[object ArrayBuffer]",dataViewTag$4="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]";function initCloneByTag$1(et,_e,tt){var rt=et.constructor;switch(_e){case arrayBufferTag$3:return cloneArrayBuffer$1(et);case boolTag$3:case dateTag$3:return new rt(+et);case dataViewTag$4:return cloneDataView(et,tt);case float32Tag$2:case float64Tag$2:case int8Tag$2:case int16Tag$2:case int32Tag$2:case uint8Tag$2:case uint8ClampedTag$2:case uint16Tag$2:case uint32Tag$2:return cloneTypedArray$1(et,tt);case mapTag$5:return new rt;case numberTag$3:case stringTag$3:return new rt(et);case regexpTag$3:return cloneRegExp(et);case setTag$5:return new rt;case symbolTag$3:return cloneSymbol(et)}}var _initCloneByTag=initCloneByTag$1,isObject$2=isObject_1,objectCreate$1=Object.create,baseCreate$3=function(){function et(){}return function(_e){if(!isObject$2(_e))return{};if(objectCreate$1)return objectCreate$1(_e);et.prototype=_e;var tt=new et;return et.prototype=void 0,tt}}(),_baseCreate=baseCreate$3,baseCreate$2=_baseCreate,getPrototype$2=_getPrototype,isPrototype$1=_isPrototype;function initCloneObject$2(et){return typeof et.constructor=="function"&&!isPrototype$1(et)?baseCreate$2(getPrototype$2(et)):{}}var _initCloneObject=initCloneObject$2,getTag$4=_getTag,isObjectLike$2=isObjectLike_1,mapTag$4="[object Map]";function baseIsMap$1(et){return isObjectLike$2(et)&&getTag$4(et)==mapTag$4}var _baseIsMap=baseIsMap$1,baseIsMap=_baseIsMap,baseUnary$2=_baseUnary,nodeUtil$3=_nodeUtilExports,nodeIsMap=nodeUtil$3&&nodeUtil$3.isMap,isMap$1=nodeIsMap?baseUnary$2(nodeIsMap):baseIsMap,isMap_1=isMap$1,getTag$3=_getTag,isObjectLike$1=isObjectLike_1,setTag$4="[object Set]";function baseIsSet$1(et){return isObjectLike$1(et)&&getTag$3(et)==setTag$4}var _baseIsSet=baseIsSet$1,baseIsSet=_baseIsSet,baseUnary$1=_baseUnary,nodeUtil$2=_nodeUtilExports,nodeIsSet=nodeUtil$2&&nodeUtil$2.isSet,isSet$1=nodeIsSet?baseUnary$1(nodeIsSet):baseIsSet,isSet_1=isSet$1,Stack$1=_Stack,arrayEach$1=_arrayEach,assignValue$1=_assignValue,baseAssign=_baseAssign,baseAssignIn=_baseAssignIn,cloneBuffer$1=_cloneBufferExports,copyArray$1=_copyArray,copySymbols=_copySymbols,copySymbolsIn=_copySymbolsIn,getAllKeys$1=_getAllKeys,getAllKeysIn=_getAllKeysIn,getTag$2=_getTag,initCloneArray=_initCloneArray,initCloneByTag=_initCloneByTag,initCloneObject$1=_initCloneObject,isArray$2=isArray_1,isBuffer$2=isBufferExports,isMap=isMap_1,isObject$1=isObject_1,isSet=isSet_1,keys$1=keys_1,keysIn$1=keysIn_1,CLONE_DEEP_FLAG$1=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG$1=4,argsTag$3="[object Arguments]",arrayTag$2="[object Array]",boolTag$2="[object Boolean]",dateTag$2="[object Date]",errorTag$2="[object Error]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",mapTag$3="[object Map]",numberTag$2="[object Number]",objectTag$4="[object Object]",regexpTag$2="[object RegExp]",setTag$3="[object Set]",stringTag$2="[object String]",symbolTag$2="[object Symbol]",weakMapTag$2="[object WeakMap]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$3="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]",cloneableTags={};cloneableTags[argsTag$3]=cloneableTags[arrayTag$2]=cloneableTags[arrayBufferTag$2]=cloneableTags[dataViewTag$3]=cloneableTags[boolTag$2]=cloneableTags[dateTag$2]=cloneableTags[float32Tag$1]=cloneableTags[float64Tag$1]=cloneableTags[int8Tag$1]=cloneableTags[int16Tag$1]=cloneableTags[int32Tag$1]=cloneableTags[mapTag$3]=cloneableTags[numberTag$2]=cloneableTags[objectTag$4]=cloneableTags[regexpTag$2]=cloneableTags[setTag$3]=cloneableTags[stringTag$2]=cloneableTags[symbolTag$2]=cloneableTags[uint8Tag$1]=cloneableTags[uint8ClampedTag$1]=cloneableTags[uint16Tag$1]=cloneableTags[uint32Tag$1]=!0;cloneableTags[errorTag$2]=cloneableTags[funcTag$2]=cloneableTags[weakMapTag$2]=!1;function baseClone$1(et,_e,tt,rt,nt,st){var it,at=_e&CLONE_DEEP_FLAG$1,ot=_e&CLONE_FLAT_FLAG,lt=_e&CLONE_SYMBOLS_FLAG$1;if(tt&&(it=nt?tt(et,rt,nt,st):tt(et)),it!==void 0)return it;if(!isObject$1(et))return et;var ct=isArray$2(et);if(ct){if(it=initCloneArray(et),!at)return copyArray$1(et,it)}else{var ut=getTag$2(et),dt=ut==funcTag$2||ut==genTag$1;if(isBuffer$2(et))return cloneBuffer$1(et,at);if(ut==objectTag$4||ut==argsTag$3||dt&&!nt){if(it=ot||dt?{}:initCloneObject$1(et),!at)return ot?copySymbolsIn(et,baseAssignIn(it,et)):copySymbols(et,baseAssign(it,et))}else{if(!cloneableTags[ut])return nt?et:{};it=initCloneByTag(et,ut,at)}}st||(st=new Stack$1);var ft=st.get(et);if(ft)return ft;st.set(et,it),isSet(et)?et.forEach(function(gt){it.add(baseClone$1(gt,_e,tt,gt,et,st))}):isMap(et)&&et.forEach(function(gt,mt){it.set(mt,baseClone$1(gt,_e,tt,mt,et,st))});var ht=lt?ot?getAllKeysIn:getAllKeys$1:ot?keysIn$1:keys$1,pt=ct?void 0:ht(et);return arrayEach$1(pt||et,function(gt,mt){pt&&(mt=gt,gt=et[mt]),assignValue$1(it,mt,baseClone$1(gt,_e,tt,mt,et,st))}),it}var _baseClone=baseClone$1,baseClone=_baseClone,CLONE_DEEP_FLAG=1,CLONE_SYMBOLS_FLAG=4;function cloneDeep(et){return baseClone(et,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}var cloneDeep_1=cloneDeep;Object.defineProperty(mergeClasses$1,"__esModule",{value:!0});mergeClasses$1.mergeClasses=void 0;var _forOwn2$1=forOwn_1,_forOwn3$1=_interopRequireDefault$6(_forOwn2$1),_cloneDeep2=cloneDeep_1,_cloneDeep3=_interopRequireDefault$6(_cloneDeep2),_extends$e=Object.assign||function(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(et[rt]=tt[rt])}return et};function _interopRequireDefault$6(et){return et&&et.__esModule?et:{default:et}}var mergeClasses=mergeClasses$1.mergeClasses=function et(_e){var tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],rt=_e.default&&(0,_cloneDeep3.default)(_e.default)||{};return tt.map(function(nt){var st=_e[nt];return st&&(0,_forOwn3$1.default)(st,function(it,at){rt[at]||(rt[at]={}),rt[at]=_extends$e({},rt[at],st[at])}),nt}),rt};mergeClasses$1.default=mergeClasses;var autoprefix$1={};Object.defineProperty(autoprefix$1,"__esModule",{value:!0});autoprefix$1.autoprefix=void 0;var _forOwn2=forOwn_1,_forOwn3=_interopRequireDefault$5(_forOwn2),_extends$d=Object.assign||function(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(et[rt]=tt[rt])}return et};function _interopRequireDefault$5(et){return et&&et.__esModule?et:{default:et}}var transforms={borderRadius:function et(_e){return{msBorderRadius:_e,MozBorderRadius:_e,OBorderRadius:_e,WebkitBorderRadius:_e,borderRadius:_e}},boxShadow:function et(_e){return{msBoxShadow:_e,MozBoxShadow:_e,OBoxShadow:_e,WebkitBoxShadow:_e,boxShadow:_e}},userSelect:function et(_e){return{WebkitTouchCallout:_e,KhtmlUserSelect:_e,MozUserSelect:_e,msUserSelect:_e,WebkitUserSelect:_e,userSelect:_e}},flex:function et(_e){return{WebkitBoxFlex:_e,MozBoxFlex:_e,WebkitFlex:_e,msFlex:_e,flex:_e}},flexBasis:function et(_e){return{WebkitFlexBasis:_e,flexBasis:_e}},justifyContent:function et(_e){return{WebkitJustifyContent:_e,justifyContent:_e}},transition:function et(_e){return{msTransition:_e,MozTransition:_e,OTransition:_e,WebkitTransition:_e,transition:_e}},transform:function et(_e){return{msTransform:_e,MozTransform:_e,OTransform:_e,WebkitTransform:_e,transform:_e}},absolute:function et(_e){var tt=_e&&_e.split(" ");return{position:"absolute",top:tt&&tt[0],right:tt&&tt[1],bottom:tt&&tt[2],left:tt&&tt[3]}},extend:function et(_e,tt){var rt=tt[_e];return rt||{extend:_e}}},autoprefix=autoprefix$1.autoprefix=function et(_e){var tt={};return(0,_forOwn3.default)(_e,function(rt,nt){var st={};(0,_forOwn3.default)(rt,function(it,at){var ot=transforms[at];ot?st=_extends$d({},st,ot(it)):st[at]=it}),tt[nt]=st}),tt};autoprefix$1.default=autoprefix;var hover$1={};Object.defineProperty(hover$1,"__esModule",{value:!0});hover$1.hover=void 0;var _extends$c=Object.assign||function(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(et[rt]=tt[rt])}return et},_react$3=reactExports,_react2$3=_interopRequireDefault$4(_react$3);function _interopRequireDefault$4(et){return et&&et.__esModule?et:{default:et}}function _classCallCheck$9(et,_e){if(!(et instanceof _e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn$9(et,_e){if(!et)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e&&(typeof _e=="object"||typeof _e=="function")?_e:et}function _inherits$9(et,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _e);et.prototype=Object.create(_e&&_e.prototype,{constructor:{value:et,enumerable:!1,writable:!0,configurable:!0}}),_e&&(Object.setPrototypeOf?Object.setPrototypeOf(et,_e):et.__proto__=_e)}var hover=hover$1.hover=function et(_e){var tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(rt){_inherits$9(nt,rt);function nt(){var st,it,at,ot;_classCallCheck$9(this,nt);for(var lt=arguments.length,ct=Array(lt),ut=0;ut<lt;ut++)ct[ut]=arguments[ut];return ot=(it=(at=_possibleConstructorReturn$9(this,(st=nt.__proto__||Object.getPrototypeOf(nt)).call.apply(st,[this].concat(ct))),at),at.state={hover:!1},at.handleMouseOver=function(){return at.setState({hover:!0})},at.handleMouseOut=function(){return at.setState({hover:!1})},at.render=function(){return _react2$3.default.createElement(tt,{onMouseOver:at.handleMouseOver,onMouseOut:at.handleMouseOut},_react2$3.default.createElement(_e,_extends$c({},at.props,at.state)))},it),_possibleConstructorReturn$9(at,ot)}return nt}(_react2$3.default.Component)};hover$1.default=hover;var active$1={};Object.defineProperty(active$1,"__esModule",{value:!0});active$1.active=void 0;var _extends$b=Object.assign||function(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(et[rt]=tt[rt])}return et},_react$2=reactExports,_react2$2=_interopRequireDefault$3(_react$2);function _interopRequireDefault$3(et){return et&&et.__esModule?et:{default:et}}function _classCallCheck$8(et,_e){if(!(et instanceof _e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn$8(et,_e){if(!et)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e&&(typeof _e=="object"||typeof _e=="function")?_e:et}function _inherits$8(et,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _e);et.prototype=Object.create(_e&&_e.prototype,{constructor:{value:et,enumerable:!1,writable:!0,configurable:!0}}),_e&&(Object.setPrototypeOf?Object.setPrototypeOf(et,_e):et.__proto__=_e)}var active=active$1.active=function et(_e){var tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(rt){_inherits$8(nt,rt);function nt(){var st,it,at,ot;_classCallCheck$8(this,nt);for(var lt=arguments.length,ct=Array(lt),ut=0;ut<lt;ut++)ct[ut]=arguments[ut];return ot=(it=(at=_possibleConstructorReturn$8(this,(st=nt.__proto__||Object.getPrototypeOf(nt)).call.apply(st,[this].concat(ct))),at),at.state={active:!1},at.handleMouseDown=function(){return at.setState({active:!0})},at.handleMouseUp=function(){return at.setState({active:!1})},at.render=function(){return _react2$2.default.createElement(tt,{onMouseDown:at.handleMouseDown,onMouseUp:at.handleMouseUp},_react2$2.default.createElement(_e,_extends$b({},at.props,at.state)))},it),_possibleConstructorReturn$8(at,ot)}return nt}(_react2$2.default.Component)};active$1.default=active;var loop={};Object.defineProperty(loop,"__esModule",{value:!0});var loopable=function et(_e,tt){var rt={},nt=function(it){var at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;rt[it]=at};return _e===0&&nt("first-child"),_e===tt-1&&nt("last-child"),(_e===0||_e%2===0)&&nt("even"),Math.abs(_e%2)===1&&nt("odd"),nt("nth-child",_e),rt};loop.default=loopable;Object.defineProperty(lib,"__esModule",{value:!0});lib.ReactCSS=lib.loop=lib.handleActive=handleHover=lib.handleHover=lib.hover=void 0;var _flattenNames=flattenNames$1,_flattenNames2=_interopRequireDefault$2(_flattenNames),_mergeClasses=mergeClasses$1,_mergeClasses2=_interopRequireDefault$2(_mergeClasses),_autoprefix=autoprefix$1,_autoprefix2=_interopRequireDefault$2(_autoprefix),_hover2=hover$1,_hover3=_interopRequireDefault$2(_hover2),_active=active$1,_active2=_interopRequireDefault$2(_active),_loop2=loop,_loop3=_interopRequireDefault$2(_loop2);function _interopRequireDefault$2(et){return et&&et.__esModule?et:{default:et}}lib.hover=_hover3.default;var handleHover=lib.handleHover=_hover3.default;lib.handleActive=_active2.default;lib.loop=_loop3.default;var ReactCSS=lib.ReactCSS=function et(_e){for(var tt=arguments.length,rt=Array(tt>1?tt-1:0),nt=1;nt<tt;nt++)rt[nt-1]=arguments[nt];var st=(0,_flattenNames2.default)(rt),it=(0,_mergeClasses2.default)(_e,st);return(0,_autoprefix2.default)(it)},_default$2=lib.default=ReactCSS,calculateChange$2=function et(_e,tt,rt,nt,st){var it=st.clientWidth,at=st.clientHeight,ot=typeof _e.pageX=="number"?_e.pageX:_e.touches[0].pageX,lt=typeof _e.pageY=="number"?_e.pageY:_e.touches[0].pageY,ct=ot-(st.getBoundingClientRect().left+window.pageXOffset),ut=lt-(st.getBoundingClientRect().top+window.pageYOffset);if(rt==="vertical"){var dt=void 0;if(ut<0?dt=0:ut>at?dt=1:dt=Math.round(ut*100/at)/100,tt.a!==dt)return{h:tt.h,s:tt.s,l:tt.l,a:dt,source:"rgb"}}else{var ft=void 0;if(ct<0?ft=0:ct>it?ft=1:ft=Math.round(ct*100/it)/100,nt!==ft)return{h:tt.h,s:tt.s,l:tt.l,a:ft,source:"rgb"}}return null},checkboardCache={},render=function et(_e,tt,rt,nt){if(typeof document>"u"&&!nt)return null;var st=nt?new nt:document.createElement("canvas");st.width=rt*2,st.height=rt*2;var it=st.getContext("2d");return it?(it.fillStyle=_e,it.fillRect(0,0,st.width,st.height),it.fillStyle=tt,it.fillRect(0,0,rt,rt),it.translate(rt,rt),it.fillRect(0,0,rt,rt),st.toDataURL()):null},get$1=function et(_e,tt,rt,nt){var st=_e+"-"+tt+"-"+rt+(nt?"-server":"");if(checkboardCache[st])return checkboardCache[st];var it=render(_e,tt,rt,nt);return checkboardCache[st]=it,it},_extends$a=Object.assign||function(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(et[rt]=tt[rt])}return et},Checkboard=function et(_e){var tt=_e.white,rt=_e.grey,nt=_e.size,st=_e.renderers,it=_e.borderRadius,at=_e.boxShadow,ot=_e.children,lt=_default$2({default:{grid:{borderRadius:it,boxShadow:at,absolute:"0px 0px 0px 0px",background:"url("+get$1(tt,rt,nt,st.canvas)+") center left"}}});return reactExports.isValidElement(ot)?React.cloneElement(ot,_extends$a({},ot.props,{style:_extends$a({},ot.props.style,lt.grid)})):React.createElement("div",{style:lt.grid})};Checkboard.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var _extends$9=Object.assign||function(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(et[rt]=tt[rt])}return et},_createClass$7=function(){function et(_e,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(_e,nt.key,nt)}}return function(_e,tt,rt){return tt&&et(_e.prototype,tt),rt&&et(_e,rt),_e}}();function _classCallCheck$7(et,_e){if(!(et instanceof _e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn$7(et,_e){if(!et)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e&&(typeof _e=="object"||typeof _e=="function")?_e:et}function _inherits$7(et,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _e);et.prototype=Object.create(_e&&_e.prototype,{constructor:{value:et,enumerable:!1,writable:!0,configurable:!0}}),_e&&(Object.setPrototypeOf?Object.setPrototypeOf(et,_e):et.__proto__=_e)}var Alpha=function(et){_inherits$7(_e,et);function _e(){var tt,rt,nt,st;_classCallCheck$7(this,_e);for(var it=arguments.length,at=Array(it),ot=0;ot<it;ot++)at[ot]=arguments[ot];return st=(rt=(nt=_possibleConstructorReturn$7(this,(tt=_e.__proto__||Object.getPrototypeOf(_e)).call.apply(tt,[this].concat(at))),nt),nt.handleChange=function(lt){var ct=calculateChange$2(lt,nt.props.hsl,nt.props.direction,nt.props.a,nt.container);ct&&typeof nt.props.onChange=="function"&&nt.props.onChange(ct,lt)},nt.handleMouseDown=function(lt){nt.handleChange(lt),window.addEventListener("mousemove",nt.handleChange),window.addEventListener("mouseup",nt.handleMouseUp)},nt.handleMouseUp=function(){nt.unbindEventListeners()},nt.unbindEventListeners=function(){window.removeEventListener("mousemove",nt.handleChange),window.removeEventListener("mouseup",nt.handleMouseUp)},rt),_possibleConstructorReturn$7(nt,st)}return _createClass$7(_e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var rt=this,nt=this.props.rgb,st=_default$2({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+nt.r+","+nt.g+","+nt.b+`, 0) 0%,
           rgba(`+nt.r+","+nt.g+","+nt.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:nt.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+nt.r+","+nt.g+","+nt.b+`, 0) 0%,
           rgba(`+nt.r+","+nt.g+","+nt.b+", 1) 100%)"},pointer:{left:0,top:nt.a*100+"%"}},overwrite:_extends$9({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return React.createElement("div",{style:st.alpha},React.createElement("div",{style:st.checkboard},React.createElement(Checkboard,{renderers:this.props.renderers})),React.createElement("div",{style:st.gradient}),React.createElement("div",{style:st.container,ref:function(at){return rt.container=at},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},React.createElement("div",{style:st.pointer},this.props.pointer?React.createElement(this.props.pointer,this.props):React.createElement("div",{style:st.slider}))))}}]),_e}(reactExports.PureComponent||reactExports.Component),_createClass$6=function(){function et(_e,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(_e,nt.key,nt)}}return function(_e,tt,rt){return tt&&et(_e.prototype,tt),rt&&et(_e,rt),_e}}();function _defineProperty(et,_e,tt){return _e in et?Object.defineProperty(et,_e,{value:tt,enumerable:!0,configurable:!0,writable:!0}):et[_e]=tt,et}function _classCallCheck$6(et,_e){if(!(et instanceof _e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn$6(et,_e){if(!et)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e&&(typeof _e=="object"||typeof _e=="function")?_e:et}function _inherits$6(et,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _e);et.prototype=Object.create(_e&&_e.prototype,{constructor:{value:et,enumerable:!1,writable:!0,configurable:!0}}),_e&&(Object.setPrototypeOf?Object.setPrototypeOf(et,_e):et.__proto__=_e)}var DEFAULT_ARROW_OFFSET=1,UP_KEY_CODE=38,DOWN_KEY_CODE=40,VALID_KEY_CODES=[UP_KEY_CODE,DOWN_KEY_CODE],isValidKeyCode=function et(_e){return VALID_KEY_CODES.indexOf(_e)>-1},getNumberValue=function et(_e){return Number(String(_e).replace(/%/g,""))},idCounter=1,EditableInput=function(et){_inherits$6(_e,et);function _e(tt){_classCallCheck$6(this,_e);var rt=_possibleConstructorReturn$6(this,(_e.__proto__||Object.getPrototypeOf(_e)).call(this));return rt.handleBlur=function(){rt.state.blurValue&&rt.setState({value:rt.state.blurValue,blurValue:null})},rt.handleChange=function(nt){rt.setUpdatedValue(nt.target.value,nt)},rt.handleKeyDown=function(nt){var st=getNumberValue(nt.target.value);if(!isNaN(st)&&isValidKeyCode(nt.keyCode)){var it=rt.getArrowOffset(),at=nt.keyCode===UP_KEY_CODE?st+it:st-it;rt.setUpdatedValue(at,nt)}},rt.handleDrag=function(nt){if(rt.props.dragLabel){var st=Math.round(rt.props.value+nt.movementX);st>=0&&st<=rt.props.dragMax&&rt.props.onChange&&rt.props.onChange(rt.getValueObjectWithLabel(st),nt)}},rt.handleMouseDown=function(nt){rt.props.dragLabel&&(nt.preventDefault(),rt.handleDrag(nt),window.addEventListener("mousemove",rt.handleDrag),window.addEventListener("mouseup",rt.handleMouseUp))},rt.handleMouseUp=function(){rt.unbindEventListeners()},rt.unbindEventListeners=function(){window.removeEventListener("mousemove",rt.handleDrag),window.removeEventListener("mouseup",rt.handleMouseUp)},rt.state={value:String(tt.value).toUpperCase(),blurValue:String(tt.value).toUpperCase()},rt.inputId="rc-editable-input-"+idCounter++,rt}return _createClass$6(_e,[{key:"componentDidUpdate",value:function(rt,nt){this.props.value!==this.state.value&&(rt.value!==this.props.value||nt.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(rt){return _defineProperty({},this.props.label,rt)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||DEFAULT_ARROW_OFFSET}},{key:"setUpdatedValue",value:function(rt,nt){var st=this.props.label?this.getValueObjectWithLabel(rt):rt;this.props.onChange&&this.props.onChange(st,nt),this.setState({value:rt})}},{key:"render",value:function(){var rt=this,nt=_default$2({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return React.createElement("div",{style:nt.wrap},React.createElement("input",{id:this.inputId,style:nt.input,ref:function(it){return rt.input=it},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?React.createElement("label",{htmlFor:this.inputId,style:nt.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),_e}(reactExports.PureComponent||reactExports.Component),calculateChange$1=function et(_e,tt,rt,nt){var st=nt.clientWidth,it=nt.clientHeight,at=typeof _e.pageX=="number"?_e.pageX:_e.touches[0].pageX,ot=typeof _e.pageY=="number"?_e.pageY:_e.touches[0].pageY,lt=at-(nt.getBoundingClientRect().left+window.pageXOffset),ct=ot-(nt.getBoundingClientRect().top+window.pageYOffset);if(tt==="vertical"){var ut=void 0;if(ct<0)ut=359;else if(ct>it)ut=0;else{var dt=-(ct*100/it)+100;ut=360*dt/100}if(rt.h!==ut)return{h:ut,s:rt.s,l:rt.l,a:rt.a,source:"hsl"}}else{var ft=void 0;if(lt<0)ft=0;else if(lt>st)ft=359;else{var ht=lt*100/st;ft=360*ht/100}if(rt.h!==ft)return{h:ft,s:rt.s,l:rt.l,a:rt.a,source:"hsl"}}return null},_createClass$5=function(){function et(_e,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(_e,nt.key,nt)}}return function(_e,tt,rt){return tt&&et(_e.prototype,tt),rt&&et(_e,rt),_e}}();function _classCallCheck$5(et,_e){if(!(et instanceof _e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn$5(et,_e){if(!et)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e&&(typeof _e=="object"||typeof _e=="function")?_e:et}function _inherits$5(et,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _e);et.prototype=Object.create(_e&&_e.prototype,{constructor:{value:et,enumerable:!1,writable:!0,configurable:!0}}),_e&&(Object.setPrototypeOf?Object.setPrototypeOf(et,_e):et.__proto__=_e)}var Hue=function(et){_inherits$5(_e,et);function _e(){var tt,rt,nt,st;_classCallCheck$5(this,_e);for(var it=arguments.length,at=Array(it),ot=0;ot<it;ot++)at[ot]=arguments[ot];return st=(rt=(nt=_possibleConstructorReturn$5(this,(tt=_e.__proto__||Object.getPrototypeOf(_e)).call.apply(tt,[this].concat(at))),nt),nt.handleChange=function(lt){var ct=calculateChange$1(lt,nt.props.direction,nt.props.hsl,nt.container);ct&&typeof nt.props.onChange=="function"&&nt.props.onChange(ct,lt)},nt.handleMouseDown=function(lt){nt.handleChange(lt),window.addEventListener("mousemove",nt.handleChange),window.addEventListener("mouseup",nt.handleMouseUp)},nt.handleMouseUp=function(){nt.unbindEventListeners()},rt),_possibleConstructorReturn$5(nt,st)}return _createClass$5(_e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var rt=this,nt=this.props.direction,st=nt===void 0?"horizontal":nt,it=_default$2({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:st==="vertical"});return React.createElement("div",{style:it.hue},React.createElement("div",{className:"hue-"+st,style:it.container,ref:function(ot){return rt.container=ot},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},React.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),React.createElement("div",{style:it.pointer},this.props.pointer?React.createElement(this.props.pointer,this.props):React.createElement("div",{style:it.slider}))))}}]),_e}(reactExports.PureComponent||reactExports.Component),propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function et(rt,nt,st,it,at,ot){if(ot!==ReactPropTypesSecret){var lt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw lt.name="Invariant Violation",lt}}et.isRequired=et;function _e(){return et}var tt={array:et,bigint:et,bool:et,func:et,number:et,object:et,string:et,symbol:et,any:et,arrayOf:_e,element:et,elementType:et,instanceOf:_e,node:et,objectOf:_e,oneOf:_e,oneOfType:_e,shape:_e,exact:_e,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return tt.PropTypes=tt,tt};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs$1(propTypesExports);function listCacheClear(){this.__data__=[],this.size=0}function eq(et,_e){return et===_e||et!==et&&_e!==_e}function assocIndexOf(et,_e){for(var tt=et.length;tt--;)if(eq(et[tt][0],_e))return tt;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(et){var _e=this.__data__,tt=assocIndexOf(_e,et);if(tt<0)return!1;var rt=_e.length-1;return tt==rt?_e.pop():splice.call(_e,tt,1),--this.size,!0}function listCacheGet(et){var _e=this.__data__,tt=assocIndexOf(_e,et);return tt<0?void 0:_e[tt][1]}function listCacheHas(et){return assocIndexOf(this.__data__,et)>-1}function listCacheSet(et,_e){var tt=this.__data__,rt=assocIndexOf(tt,et);return rt<0?(++this.size,tt.push([et,_e])):tt[rt][1]=_e,this}function ListCache(et){var _e=-1,tt=et==null?0:et.length;for(this.clear();++_e<tt;){var rt=et[_e];this.set(rt[0],rt[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(et){var _e=this.__data__,tt=_e.delete(et);return this.size=_e.size,tt}function stackGet(et){return this.__data__.get(et)}function stackHas(et){return this.__data__.has(et)}var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;const freeGlobal$1=freeGlobal;var freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$1=freeGlobal$1||freeSelf||Function("return this")();const root$2=root$1;var Symbol$1=root$2.Symbol;const Symbol$2=Symbol$1;var objectProto$e=Object.prototype,hasOwnProperty$b=objectProto$e.hasOwnProperty,nativeObjectToString$1=objectProto$e.toString,symToStringTag$1=Symbol$2?Symbol$2.toStringTag:void 0;function getRawTag(et){var _e=hasOwnProperty$b.call(et,symToStringTag$1),tt=et[symToStringTag$1];try{et[symToStringTag$1]=void 0;var rt=!0}catch{}var nt=nativeObjectToString$1.call(et);return rt&&(_e?et[symToStringTag$1]=tt:delete et[symToStringTag$1]),nt}var objectProto$d=Object.prototype,nativeObjectToString=objectProto$d.toString;function objectToString(et){return nativeObjectToString.call(et)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$2?Symbol$2.toStringTag:void 0;function baseGetTag(et){return et==null?et===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(et)?getRawTag(et):objectToString(et)}function isObject(et){var _e=typeof et;return et!=null&&(_e=="object"||_e=="function")}var asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$1(et){if(!isObject(et))return!1;var _e=baseGetTag(et);return _e==funcTag$1||_e==genTag||_e==asyncTag||_e==proxyTag}var coreJsData=root$2["__core-js_shared__"];const coreJsData$1=coreJsData;var maskSrcKey=function(){var et=/[^.]+$/.exec(coreJsData$1&&coreJsData$1.keys&&coreJsData$1.keys.IE_PROTO||"");return et?"Symbol(src)_1."+et:""}();function isMasked(et){return!!maskSrcKey&&maskSrcKey in et}var funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource(et){if(et!=null){try{return funcToString$2.call(et)}catch{}try{return et+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$c=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$a=objectProto$c.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$a).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(et){if(!isObject(et)||isMasked(et))return!1;var _e=isFunction$1(et)?reIsNative:reIsHostCtor;return _e.test(toSource(et))}function getValue(et,_e){return et==null?void 0:et[_e]}function getNative(et,_e){var tt=getValue(et,_e);return baseIsNative(tt)?tt:void 0}var Map$1=getNative(root$2,"Map");const Map$2=Map$1;var nativeCreate=getNative(Object,"create");const nativeCreate$1=nativeCreate;function hashClear(){this.__data__=nativeCreate$1?nativeCreate$1(null):{},this.size=0}function hashDelete(et){var _e=this.has(et)&&delete this.__data__[et];return this.size-=_e?1:0,_e}var HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$b=Object.prototype,hasOwnProperty$9=objectProto$b.hasOwnProperty;function hashGet(et){var _e=this.__data__;if(nativeCreate$1){var tt=_e[et];return tt===HASH_UNDEFINED$2?void 0:tt}return hasOwnProperty$9.call(_e,et)?_e[et]:void 0}var objectProto$a=Object.prototype,hasOwnProperty$8=objectProto$a.hasOwnProperty;function hashHas(et){var _e=this.__data__;return nativeCreate$1?_e[et]!==void 0:hasOwnProperty$8.call(_e,et)}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(et,_e){var tt=this.__data__;return this.size+=this.has(et)?0:1,tt[et]=nativeCreate$1&&_e===void 0?HASH_UNDEFINED$1:_e,this}function Hash(et){var _e=-1,tt=et==null?0:et.length;for(this.clear();++_e<tt;){var rt=et[_e];this.set(rt[0],rt[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$2||ListCache),string:new Hash}}function isKeyable(et){var _e=typeof et;return _e=="string"||_e=="number"||_e=="symbol"||_e=="boolean"?et!=="__proto__":et===null}function getMapData(et,_e){var tt=et.__data__;return isKeyable(_e)?tt[typeof _e=="string"?"string":"hash"]:tt.map}function mapCacheDelete(et){var _e=getMapData(this,et).delete(et);return this.size-=_e?1:0,_e}function mapCacheGet(et){return getMapData(this,et).get(et)}function mapCacheHas(et){return getMapData(this,et).has(et)}function mapCacheSet(et,_e){var tt=getMapData(this,et),rt=tt.size;return tt.set(et,_e),this.size+=tt.size==rt?0:1,this}function MapCache(et){var _e=-1,tt=et==null?0:et.length;for(this.clear();++_e<tt;){var rt=et[_e];this.set(rt[0],rt[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;var LARGE_ARRAY_SIZE=200;function stackSet(et,_e){var tt=this.__data__;if(tt instanceof ListCache){var rt=tt.__data__;if(!Map$2||rt.length<LARGE_ARRAY_SIZE-1)return rt.push([et,_e]),this.size=++tt.size,this;tt=this.__data__=new MapCache(rt)}return tt.set(et,_e),this.size=tt.size,this}function Stack(et){var _e=this.__data__=new ListCache(et);this.size=_e.size}Stack.prototype.clear=stackClear;Stack.prototype.delete=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;var defineProperty=function(){try{var et=getNative(Object,"defineProperty");return et({},"",{}),et}catch{}}();const defineProperty$1=defineProperty;function baseAssignValue(et,_e,tt){_e=="__proto__"&&defineProperty$1?defineProperty$1(et,_e,{configurable:!0,enumerable:!0,value:tt,writable:!0}):et[_e]=tt}function assignMergeValue(et,_e,tt){(tt!==void 0&&!eq(et[_e],tt)||tt===void 0&&!(_e in et))&&baseAssignValue(et,_e,tt)}function createBaseFor(et){return function(_e,tt,rt){for(var nt=-1,st=Object(_e),it=rt(_e),at=it.length;at--;){var ot=it[et?at:++nt];if(tt(st[ot],ot,st)===!1)break}return _e}}var baseFor=createBaseFor();const baseFor$1=baseFor;var freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$2=moduleExports$2?root$2.Buffer:void 0,allocUnsafe=Buffer$2?Buffer$2.allocUnsafe:void 0;function cloneBuffer(et,_e){if(_e)return et.slice();var tt=et.length,rt=allocUnsafe?allocUnsafe(tt):new et.constructor(tt);return et.copy(rt),rt}var Uint8Array$1=root$2.Uint8Array;const Uint8Array$2=Uint8Array$1;function cloneArrayBuffer(et){var _e=new et.constructor(et.byteLength);return new Uint8Array$2(_e).set(new Uint8Array$2(et)),_e}function cloneTypedArray(et,_e){var tt=_e?cloneArrayBuffer(et.buffer):et.buffer;return new et.constructor(tt,et.byteOffset,et.length)}function copyArray(et,_e){var tt=-1,rt=et.length;for(_e||(_e=Array(rt));++tt<rt;)_e[tt]=et[tt];return _e}var objectCreate=Object.create,baseCreate=function(){function et(){}return function(_e){if(!isObject(_e))return{};if(objectCreate)return objectCreate(_e);et.prototype=_e;var tt=new et;return et.prototype=void 0,tt}}();const baseCreate$1=baseCreate;function overArg(et,_e){return function(tt){return et(_e(tt))}}var getPrototype=overArg(Object.getPrototypeOf,Object);const getPrototype$1=getPrototype;var objectProto$9=Object.prototype;function isPrototype(et){var _e=et&&et.constructor,tt=typeof _e=="function"&&_e.prototype||objectProto$9;return et===tt}function initCloneObject(et){return typeof et.constructor=="function"&&!isPrototype(et)?baseCreate$1(getPrototype$1(et)):{}}function isObjectLike(et){return et!=null&&typeof et=="object"}var argsTag$2="[object Arguments]";function baseIsArguments(et){return isObjectLike(et)&&baseGetTag(et)==argsTag$2}var objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty,propertyIsEnumerable$1=objectProto$8.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(et){return isObjectLike(et)&&hasOwnProperty$7.call(et,"callee")&&!propertyIsEnumerable$1.call(et,"callee")};const isArguments$1=isArguments;var isArray=Array.isArray;const isArray$1=isArray;var MAX_SAFE_INTEGER$1=9007199254740991;function isLength(et){return typeof et=="number"&&et>-1&&et%1==0&&et<=MAX_SAFE_INTEGER$1}function isArrayLike(et){return et!=null&&isLength(et.length)&&!isFunction$1(et)}function isArrayLikeObject(et){return isObjectLike(et)&&isArrayLike(et)}function stubFalse(){return!1}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,Buffer$1=moduleExports$1?root$2.Buffer:void 0,nativeIsBuffer=Buffer$1?Buffer$1.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse;const isBuffer$1=isBuffer;var objectTag$3="[object Object]",funcProto=Function.prototype,objectProto$7=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$6=objectProto$7.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject(et){if(!isObjectLike(et)||baseGetTag(et)!=objectTag$3)return!1;var _e=getPrototype$1(et);if(_e===null)return!0;var tt=hasOwnProperty$6.call(_e,"constructor")&&_e.constructor;return typeof tt=="function"&&tt instanceof tt&&funcToString.call(tt)==objectCtorString}var argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",funcTag="[object Function]",mapTag$2="[object Map]",numberTag$1="[object Number]",objectTag$2="[object Object]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag$1]=typedArrayTags[boolTag$1]=typedArrayTags[dataViewTag$2]=typedArrayTags[dateTag$1]=typedArrayTags[errorTag$1]=typedArrayTags[funcTag]=typedArrayTags[mapTag$2]=typedArrayTags[numberTag$1]=typedArrayTags[objectTag$2]=typedArrayTags[regexpTag$1]=typedArrayTags[setTag$2]=typedArrayTags[stringTag$1]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray(et){return isObjectLike(et)&&isLength(et.length)&&!!typedArrayTags[baseGetTag(et)]}function baseUnary(et){return function(_e){return et(_e)}}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal$1.process,nodeUtil=function(){try{var et=freeModule&&freeModule.require&&freeModule.require("util").types;return et||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}();const nodeUtil$1=nodeUtil;var nodeIsTypedArray=nodeUtil$1&&nodeUtil$1.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;const isTypedArray$1=isTypedArray;function safeGet(et,_e){if(!(_e==="constructor"&&typeof et[_e]=="function")&&_e!="__proto__")return et[_e]}var objectProto$6=Object.prototype,hasOwnProperty$5=objectProto$6.hasOwnProperty;function assignValue(et,_e,tt){var rt=et[_e];(!(hasOwnProperty$5.call(et,_e)&&eq(rt,tt))||tt===void 0&&!(_e in et))&&baseAssignValue(et,_e,tt)}function copyObject(et,_e,tt,rt){var nt=!tt;tt||(tt={});for(var st=-1,it=_e.length;++st<it;){var at=_e[st],ot=rt?rt(tt[at],et[at],at,tt,et):void 0;ot===void 0&&(ot=et[at]),nt?baseAssignValue(tt,at,ot):assignValue(tt,at,ot)}return tt}function baseTimes(et,_e){for(var tt=-1,rt=Array(et);++tt<et;)rt[tt]=_e(tt);return rt}var MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(et,_e){var tt=typeof et;return _e=_e??MAX_SAFE_INTEGER,!!_e&&(tt=="number"||tt!="symbol"&&reIsUint.test(et))&&et>-1&&et%1==0&&et<_e}var objectProto$5=Object.prototype,hasOwnProperty$4=objectProto$5.hasOwnProperty;function arrayLikeKeys(et,_e){var tt=isArray$1(et),rt=!tt&&isArguments$1(et),nt=!tt&&!rt&&isBuffer$1(et),st=!tt&&!rt&&!nt&&isTypedArray$1(et),it=tt||rt||nt||st,at=it?baseTimes(et.length,String):[],ot=at.length;for(var lt in et)(_e||hasOwnProperty$4.call(et,lt))&&!(it&&(lt=="length"||nt&&(lt=="offset"||lt=="parent")||st&&(lt=="buffer"||lt=="byteLength"||lt=="byteOffset")||isIndex(lt,ot)))&&at.push(lt);return at}function nativeKeysIn(et){var _e=[];if(et!=null)for(var tt in Object(et))_e.push(tt);return _e}var objectProto$4=Object.prototype,hasOwnProperty$3=objectProto$4.hasOwnProperty;function baseKeysIn(et){if(!isObject(et))return nativeKeysIn(et);var _e=isPrototype(et),tt=[];for(var rt in et)rt=="constructor"&&(_e||!hasOwnProperty$3.call(et,rt))||tt.push(rt);return tt}function keysIn(et){return isArrayLike(et)?arrayLikeKeys(et,!0):baseKeysIn(et)}function toPlainObject(et){return copyObject(et,keysIn(et))}function baseMergeDeep(et,_e,tt,rt,nt,st,it){var at=safeGet(et,tt),ot=safeGet(_e,tt),lt=it.get(ot);if(lt){assignMergeValue(et,tt,lt);return}var ct=st?st(at,ot,tt+"",et,_e,it):void 0,ut=ct===void 0;if(ut){var dt=isArray$1(ot),ft=!dt&&isBuffer$1(ot),ht=!dt&&!ft&&isTypedArray$1(ot);ct=ot,dt||ft||ht?isArray$1(at)?ct=at:isArrayLikeObject(at)?ct=copyArray(at):ft?(ut=!1,ct=cloneBuffer(ot,!0)):ht?(ut=!1,ct=cloneTypedArray(ot,!0)):ct=[]:isPlainObject(ot)||isArguments$1(ot)?(ct=at,isArguments$1(at)?ct=toPlainObject(at):(!isObject(at)||isFunction$1(at))&&(ct=initCloneObject(ot))):ut=!1}ut&&(it.set(ot,ct),nt(ct,ot,rt,st,it),it.delete(ot)),assignMergeValue(et,tt,ct)}function baseMerge(et,_e,tt,rt,nt){et!==_e&&baseFor$1(_e,function(st,it){if(nt||(nt=new Stack),isObject(st))baseMergeDeep(et,_e,it,tt,baseMerge,rt,nt);else{var at=rt?rt(safeGet(et,it),st,it+"",et,_e,nt):void 0;at===void 0&&(at=st),assignMergeValue(et,it,at)}},keysIn)}function identity(et){return et}function apply(et,_e,tt){switch(tt.length){case 0:return et.call(_e);case 1:return et.call(_e,tt[0]);case 2:return et.call(_e,tt[0],tt[1]);case 3:return et.call(_e,tt[0],tt[1],tt[2])}return et.apply(_e,tt)}var nativeMax$1=Math.max;function overRest(et,_e,tt){return _e=nativeMax$1(_e===void 0?et.length-1:_e,0),function(){for(var rt=arguments,nt=-1,st=nativeMax$1(rt.length-_e,0),it=Array(st);++nt<st;)it[nt]=rt[_e+nt];nt=-1;for(var at=Array(_e+1);++nt<_e;)at[nt]=rt[nt];return at[_e]=tt(it),apply(et,this,at)}}function constant(et){return function(){return et}}var baseSetToString=defineProperty$1?function(et,_e){return defineProperty$1(et,"toString",{configurable:!0,enumerable:!1,value:constant(_e),writable:!0})}:identity;const baseSetToString$1=baseSetToString;var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(et){var _e=0,tt=0;return function(){var rt=nativeNow(),nt=HOT_SPAN-(rt-tt);if(tt=rt,nt>0){if(++_e>=HOT_COUNT)return arguments[0]}else _e=0;return et.apply(void 0,arguments)}}var setToString=shortOut(baseSetToString$1);const setToString$1=setToString;function baseRest(et,_e){return setToString$1(overRest(et,_e,identity),et+"")}function isIterateeCall(et,_e,tt){if(!isObject(tt))return!1;var rt=typeof _e;return(rt=="number"?isArrayLike(tt)&&isIndex(_e,tt.length):rt=="string"&&_e in tt)?eq(tt[_e],et):!1}function createAssigner(et){return baseRest(function(_e,tt){var rt=-1,nt=tt.length,st=nt>1?tt[nt-1]:void 0,it=nt>2?tt[2]:void 0;for(st=et.length>3&&typeof st=="function"?(nt--,st):void 0,it&&isIterateeCall(tt[0],tt[1],it)&&(st=nt<3?void 0:st,nt=1),_e=Object(_e);++rt<nt;){var at=tt[rt];at&&et(_e,at,rt,st)}return _e})}var merge=createAssigner(function(et,_e,tt){baseMerge(et,_e,tt)});const merge$1=merge;var Raised=function et(_e){var tt=_e.zDepth,rt=_e.radius,nt=_e.background,st=_e.children,it=_e.styles,at=it===void 0?{}:it,ot=_default$2(merge$1({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+tt+"px "+tt*4+"px rgba(0,0,0,.24)",borderRadius:rt,background:nt}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},at),{"zDepth-1":tt===1});return React.createElement("div",{style:ot.wrap},React.createElement("div",{style:ot.bg}),React.createElement("div",{style:ot.content},st))};Raised.propTypes={background:PropTypes.string,zDepth:PropTypes.oneOf([0,1,2,3,4,5]),radius:PropTypes.number,styles:PropTypes.object};Raised.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var now=function(){return root$2.Date.now()};const now$1=now;var reWhitespace=/\s/;function trimmedEndIndex(et){for(var _e=et.length;_e--&&reWhitespace.test(et.charAt(_e)););return _e}var reTrimStart=/^\s+/;function baseTrim(et){return et&&et.slice(0,trimmedEndIndex(et)+1).replace(reTrimStart,"")}var symbolTag$1="[object Symbol]";function isSymbol(et){return typeof et=="symbol"||isObjectLike(et)&&baseGetTag(et)==symbolTag$1}var NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(et){if(typeof et=="number")return et;if(isSymbol(et))return NAN;if(isObject(et)){var _e=typeof et.valueOf=="function"?et.valueOf():et;et=isObject(_e)?_e+"":_e}if(typeof et!="string")return et===0?et:+et;et=baseTrim(et);var tt=reIsBinary.test(et);return tt||reIsOctal.test(et)?freeParseInt(et.slice(2),tt?2:8):reIsBadHex.test(et)?NAN:+et}var FUNC_ERROR_TEXT$2="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce(et,_e,tt){var rt,nt,st,it,at,ot,lt=0,ct=!1,ut=!1,dt=!0;if(typeof et!="function")throw new TypeError(FUNC_ERROR_TEXT$2);_e=toNumber(_e)||0,isObject(tt)&&(ct=!!tt.leading,ut="maxWait"in tt,st=ut?nativeMax(toNumber(tt.maxWait)||0,_e):st,dt="trailing"in tt?!!tt.trailing:dt);function ft(Et){var wt=rt,$t=nt;return rt=nt=void 0,lt=Et,it=et.apply($t,wt),it}function ht(Et){return lt=Et,at=setTimeout(mt,_e),ct?ft(Et):it}function pt(Et){var wt=Et-ot,$t=Et-lt,Tt=_e-wt;return ut?nativeMin(Tt,st-$t):Tt}function gt(Et){var wt=Et-ot,$t=Et-lt;return ot===void 0||wt>=_e||wt<0||ut&&$t>=st}function mt(){var Et=now$1();if(gt(Et))return bt(Et);at=setTimeout(mt,pt(Et))}function bt(Et){return at=void 0,dt&&rt?ft(Et):(rt=nt=void 0,it)}function vt(){at!==void 0&&clearTimeout(at),lt=0,rt=ot=nt=at=void 0}function yt(){return at===void 0?it:bt(now$1())}function xt(){var Et=now$1(),wt=gt(Et);if(rt=arguments,nt=this,ot=Et,wt){if(at===void 0)return ht(ot);if(ut)return clearTimeout(at),at=setTimeout(mt,_e),ft(ot)}return at===void 0&&(at=setTimeout(mt,_e)),it}return xt.cancel=vt,xt.flush=yt,xt}var FUNC_ERROR_TEXT$1="Expected a function";function throttle(et,_e,tt){var rt=!0,nt=!0;if(typeof et!="function")throw new TypeError(FUNC_ERROR_TEXT$1);return isObject(tt)&&(rt="leading"in tt?!!tt.leading:rt,nt="trailing"in tt?!!tt.trailing:nt),debounce(et,_e,{leading:rt,maxWait:_e,trailing:nt})}var calculateChange=function et(_e,tt,rt){var nt=rt.getBoundingClientRect(),st=nt.width,it=nt.height,at=typeof _e.pageX=="number"?_e.pageX:_e.touches[0].pageX,ot=typeof _e.pageY=="number"?_e.pageY:_e.touches[0].pageY,lt=at-(rt.getBoundingClientRect().left+window.pageXOffset),ct=ot-(rt.getBoundingClientRect().top+window.pageYOffset);lt<0?lt=0:lt>st&&(lt=st),ct<0?ct=0:ct>it&&(ct=it);var ut=lt/st,dt=1-ct/it;return{h:tt.h,s:ut,v:dt,a:tt.a,source:"hsv"}},_createClass$4=function(){function et(_e,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(_e,nt.key,nt)}}return function(_e,tt,rt){return tt&&et(_e.prototype,tt),rt&&et(_e,rt),_e}}();function _classCallCheck$4(et,_e){if(!(et instanceof _e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn$4(et,_e){if(!et)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e&&(typeof _e=="object"||typeof _e=="function")?_e:et}function _inherits$4(et,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _e);et.prototype=Object.create(_e&&_e.prototype,{constructor:{value:et,enumerable:!1,writable:!0,configurable:!0}}),_e&&(Object.setPrototypeOf?Object.setPrototypeOf(et,_e):et.__proto__=_e)}var Saturation=function(et){_inherits$4(_e,et);function _e(tt){_classCallCheck$4(this,_e);var rt=_possibleConstructorReturn$4(this,(_e.__proto__||Object.getPrototypeOf(_e)).call(this,tt));return rt.handleChange=function(nt){typeof rt.props.onChange=="function"&&rt.throttle(rt.props.onChange,calculateChange(nt,rt.props.hsl,rt.container),nt)},rt.handleMouseDown=function(nt){rt.handleChange(nt);var st=rt.getContainerRenderWindow();st.addEventListener("mousemove",rt.handleChange),st.addEventListener("mouseup",rt.handleMouseUp)},rt.handleMouseUp=function(){rt.unbindEventListeners()},rt.throttle=throttle(function(nt,st,it){nt(st,it)},50),rt}return _createClass$4(_e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var rt=this.container,nt=window;!nt.document.contains(rt)&&nt.parent!==nt;)nt=nt.parent;return nt}},{key:"unbindEventListeners",value:function(){var rt=this.getContainerRenderWindow();rt.removeEventListener("mousemove",this.handleChange),rt.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var rt=this,nt=this.props.style||{},st=nt.color,it=nt.white,at=nt.black,ot=nt.pointer,lt=nt.circle,ct=_default$2({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:st,white:it,black:at,pointer:ot,circle:lt}},{custom:!!this.props.style});return React.createElement("div",{style:ct.color,ref:function(dt){return rt.container=dt},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},React.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),React.createElement("div",{style:ct.white,className:"saturation-white"},React.createElement("div",{style:ct.black,className:"saturation-black"}),React.createElement("div",{style:ct.pointer},this.props.pointer?React.createElement(this.props.pointer,this.props):React.createElement("div",{style:ct.circle}))))}}]),_e}(reactExports.PureComponent||reactExports.Component);function arrayEach(et,_e){for(var tt=-1,rt=et==null?0:et.length;++tt<rt&&_e(et[tt],tt,et)!==!1;);return et}var nativeKeys=overArg(Object.keys,Object);const nativeKeys$1=nativeKeys;var objectProto$3=Object.prototype,hasOwnProperty$2=objectProto$3.hasOwnProperty;function baseKeys(et){if(!isPrototype(et))return nativeKeys$1(et);var _e=[];for(var tt in Object(et))hasOwnProperty$2.call(et,tt)&&tt!="constructor"&&_e.push(tt);return _e}function keys(et){return isArrayLike(et)?arrayLikeKeys(et):baseKeys(et)}function baseForOwn(et,_e){return et&&baseFor$1(et,_e,keys)}function createBaseEach(et,_e){return function(tt,rt){if(tt==null)return tt;if(!isArrayLike(tt))return et(tt,rt);for(var nt=tt.length,st=_e?nt:-1,it=Object(tt);(_e?st--:++st<nt)&&rt(it[st],st,it)!==!1;);return tt}}var baseEach=createBaseEach(baseForOwn);const baseEach$1=baseEach;function castFunction(et){return typeof et=="function"?et:identity}function forEach(et,_e){var tt=isArray$1(et)?arrayEach:baseEach$1;return tt(et,castFunction(_e))}function _typeof(et){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof(et)}var trimLeft=/^\s+/,trimRight=/\s+$/;function tinycolor(et,_e){if(et=et||"",_e=_e||{},et instanceof tinycolor)return et;if(!(this instanceof tinycolor))return new tinycolor(et,_e);var tt=inputToRGB(et);this._originalInput=et,this._r=tt.r,this._g=tt.g,this._b=tt.b,this._a=tt.a,this._roundA=Math.round(100*this._a)/100,this._format=_e.format||tt.format,this._gradientType=_e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=tt.ok}tinycolor.prototype={isDark:function et(){return this.getBrightness()<128},isLight:function et(){return!this.isDark()},isValid:function et(){return this._ok},getOriginalInput:function et(){return this._originalInput},getFormat:function et(){return this._format},getAlpha:function et(){return this._a},getBrightness:function et(){var _e=this.toRgb();return(_e.r*299+_e.g*587+_e.b*114)/1e3},getLuminance:function et(){var _e=this.toRgb(),tt,rt,nt,st,it,at;return tt=_e.r/255,rt=_e.g/255,nt=_e.b/255,tt<=.03928?st=tt/12.92:st=Math.pow((tt+.055)/1.055,2.4),rt<=.03928?it=rt/12.92:it=Math.pow((rt+.055)/1.055,2.4),nt<=.03928?at=nt/12.92:at=Math.pow((nt+.055)/1.055,2.4),.2126*st+.7152*it+.0722*at},setAlpha:function et(_e){return this._a=boundAlpha(_e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function et(){var _e=rgbToHsv(this._r,this._g,this._b);return{h:_e.h*360,s:_e.s,v:_e.v,a:this._a}},toHsvString:function et(){var _e=rgbToHsv(this._r,this._g,this._b),tt=Math.round(_e.h*360),rt=Math.round(_e.s*100),nt=Math.round(_e.v*100);return this._a==1?"hsv("+tt+", "+rt+"%, "+nt+"%)":"hsva("+tt+", "+rt+"%, "+nt+"%, "+this._roundA+")"},toHsl:function et(){var _e=rgbToHsl(this._r,this._g,this._b);return{h:_e.h*360,s:_e.s,l:_e.l,a:this._a}},toHslString:function et(){var _e=rgbToHsl(this._r,this._g,this._b),tt=Math.round(_e.h*360),rt=Math.round(_e.s*100),nt=Math.round(_e.l*100);return this._a==1?"hsl("+tt+", "+rt+"%, "+nt+"%)":"hsla("+tt+", "+rt+"%, "+nt+"%, "+this._roundA+")"},toHex:function et(_e){return rgbToHex(this._r,this._g,this._b,_e)},toHexString:function et(_e){return"#"+this.toHex(_e)},toHex8:function et(_e){return rgbaToHex(this._r,this._g,this._b,this._a,_e)},toHex8String:function et(_e){return"#"+this.toHex8(_e)},toRgb:function et(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function et(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function et(){return{r:Math.round(bound01(this._r,255)*100)+"%",g:Math.round(bound01(this._g,255)*100)+"%",b:Math.round(bound01(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function et(){return this._a==1?"rgb("+Math.round(bound01(this._r,255)*100)+"%, "+Math.round(bound01(this._g,255)*100)+"%, "+Math.round(bound01(this._b,255)*100)+"%)":"rgba("+Math.round(bound01(this._r,255)*100)+"%, "+Math.round(bound01(this._g,255)*100)+"%, "+Math.round(bound01(this._b,255)*100)+"%, "+this._roundA+")"},toName:function et(){return this._a===0?"transparent":this._a<1?!1:hexNames[rgbToHex(this._r,this._g,this._b,!0)]||!1},toFilter:function et(_e){var tt="#"+rgbaToArgbHex(this._r,this._g,this._b,this._a),rt=tt,nt=this._gradientType?"GradientType = 1, ":"";if(_e){var st=tinycolor(_e);rt="#"+rgbaToArgbHex(st._r,st._g,st._b,st._a)}return"progid:DXImageTransform.Microsoft.gradient("+nt+"startColorstr="+tt+",endColorstr="+rt+")"},toString:function et(_e){var tt=!!_e;_e=_e||this._format;var rt=!1,nt=this._a<1&&this._a>=0,st=!tt&&nt&&(_e==="hex"||_e==="hex6"||_e==="hex3"||_e==="hex4"||_e==="hex8"||_e==="name");return st?_e==="name"&&this._a===0?this.toName():this.toRgbString():(_e==="rgb"&&(rt=this.toRgbString()),_e==="prgb"&&(rt=this.toPercentageRgbString()),(_e==="hex"||_e==="hex6")&&(rt=this.toHexString()),_e==="hex3"&&(rt=this.toHexString(!0)),_e==="hex4"&&(rt=this.toHex8String(!0)),_e==="hex8"&&(rt=this.toHex8String()),_e==="name"&&(rt=this.toName()),_e==="hsl"&&(rt=this.toHslString()),_e==="hsv"&&(rt=this.toHsvString()),rt||this.toHexString())},clone:function et(){return tinycolor(this.toString())},_applyModification:function et(_e,tt){var rt=_e.apply(null,[this].concat([].slice.call(tt)));return this._r=rt._r,this._g=rt._g,this._b=rt._b,this.setAlpha(rt._a),this},lighten:function et(){return this._applyModification(_lighten,arguments)},brighten:function et(){return this._applyModification(_brighten,arguments)},darken:function et(){return this._applyModification(_darken,arguments)},desaturate:function et(){return this._applyModification(_desaturate,arguments)},saturate:function et(){return this._applyModification(_saturate,arguments)},greyscale:function et(){return this._applyModification(_greyscale,arguments)},spin:function et(){return this._applyModification(_spin,arguments)},_applyCombination:function et(_e,tt){return _e.apply(null,[this].concat([].slice.call(tt)))},analogous:function et(){return this._applyCombination(_analogous,arguments)},complement:function et(){return this._applyCombination(_complement,arguments)},monochromatic:function et(){return this._applyCombination(_monochromatic,arguments)},splitcomplement:function et(){return this._applyCombination(_splitcomplement,arguments)},triad:function et(){return this._applyCombination(polyad,[3])},tetrad:function et(){return this._applyCombination(polyad,[4])}};tinycolor.fromRatio=function(et,_e){if(_typeof(et)=="object"){var tt={};for(var rt in et)et.hasOwnProperty(rt)&&(rt==="a"?tt[rt]=et[rt]:tt[rt]=convertToPercentage(et[rt]));et=tt}return tinycolor(et,_e)};function inputToRGB(et){var _e={r:0,g:0,b:0},tt=1,rt=null,nt=null,st=null,it=!1,at=!1;return typeof et=="string"&&(et=stringInputToObject(et)),_typeof(et)=="object"&&(isValidCSSUnit(et.r)&&isValidCSSUnit(et.g)&&isValidCSSUnit(et.b)?(_e=rgbToRgb(et.r,et.g,et.b),it=!0,at=String(et.r).substr(-1)==="%"?"prgb":"rgb"):isValidCSSUnit(et.h)&&isValidCSSUnit(et.s)&&isValidCSSUnit(et.v)?(rt=convertToPercentage(et.s),nt=convertToPercentage(et.v),_e=hsvToRgb(et.h,rt,nt),it=!0,at="hsv"):isValidCSSUnit(et.h)&&isValidCSSUnit(et.s)&&isValidCSSUnit(et.l)&&(rt=convertToPercentage(et.s),st=convertToPercentage(et.l),_e=hslToRgb(et.h,rt,st),it=!0,at="hsl"),et.hasOwnProperty("a")&&(tt=et.a)),tt=boundAlpha(tt),{ok:it,format:et.format||at,r:Math.min(255,Math.max(_e.r,0)),g:Math.min(255,Math.max(_e.g,0)),b:Math.min(255,Math.max(_e.b,0)),a:tt}}function rgbToRgb(et,_e,tt){return{r:bound01(et,255)*255,g:bound01(_e,255)*255,b:bound01(tt,255)*255}}function rgbToHsl(et,_e,tt){et=bound01(et,255),_e=bound01(_e,255),tt=bound01(tt,255);var rt=Math.max(et,_e,tt),nt=Math.min(et,_e,tt),st,it,at=(rt+nt)/2;if(rt==nt)st=it=0;else{var ot=rt-nt;switch(it=at>.5?ot/(2-rt-nt):ot/(rt+nt),rt){case et:st=(_e-tt)/ot+(_e<tt?6:0);break;case _e:st=(tt-et)/ot+2;break;case tt:st=(et-_e)/ot+4;break}st/=6}return{h:st,s:it,l:at}}function hslToRgb(et,_e,tt){var rt,nt,st;et=bound01(et,360),_e=bound01(_e,100),tt=bound01(tt,100);function it(lt,ct,ut){return ut<0&&(ut+=1),ut>1&&(ut-=1),ut<1/6?lt+(ct-lt)*6*ut:ut<1/2?ct:ut<2/3?lt+(ct-lt)*(2/3-ut)*6:lt}if(_e===0)rt=nt=st=tt;else{var at=tt<.5?tt*(1+_e):tt+_e-tt*_e,ot=2*tt-at;rt=it(ot,at,et+1/3),nt=it(ot,at,et),st=it(ot,at,et-1/3)}return{r:rt*255,g:nt*255,b:st*255}}function rgbToHsv(et,_e,tt){et=bound01(et,255),_e=bound01(_e,255),tt=bound01(tt,255);var rt=Math.max(et,_e,tt),nt=Math.min(et,_e,tt),st,it,at=rt,ot=rt-nt;if(it=rt===0?0:ot/rt,rt==nt)st=0;else{switch(rt){case et:st=(_e-tt)/ot+(_e<tt?6:0);break;case _e:st=(tt-et)/ot+2;break;case tt:st=(et-_e)/ot+4;break}st/=6}return{h:st,s:it,v:at}}function hsvToRgb(et,_e,tt){et=bound01(et,360)*6,_e=bound01(_e,100),tt=bound01(tt,100);var rt=Math.floor(et),nt=et-rt,st=tt*(1-_e),it=tt*(1-nt*_e),at=tt*(1-(1-nt)*_e),ot=rt%6,lt=[tt,it,st,st,at,tt][ot],ct=[at,tt,tt,it,st,st][ot],ut=[st,st,at,tt,tt,it][ot];return{r:lt*255,g:ct*255,b:ut*255}}function rgbToHex(et,_e,tt,rt){var nt=[pad2(Math.round(et).toString(16)),pad2(Math.round(_e).toString(16)),pad2(Math.round(tt).toString(16))];return rt&&nt[0].charAt(0)==nt[0].charAt(1)&&nt[1].charAt(0)==nt[1].charAt(1)&&nt[2].charAt(0)==nt[2].charAt(1)?nt[0].charAt(0)+nt[1].charAt(0)+nt[2].charAt(0):nt.join("")}function rgbaToHex(et,_e,tt,rt,nt){var st=[pad2(Math.round(et).toString(16)),pad2(Math.round(_e).toString(16)),pad2(Math.round(tt).toString(16)),pad2(convertDecimalToHex(rt))];return nt&&st[0].charAt(0)==st[0].charAt(1)&&st[1].charAt(0)==st[1].charAt(1)&&st[2].charAt(0)==st[2].charAt(1)&&st[3].charAt(0)==st[3].charAt(1)?st[0].charAt(0)+st[1].charAt(0)+st[2].charAt(0)+st[3].charAt(0):st.join("")}function rgbaToArgbHex(et,_e,tt,rt){var nt=[pad2(convertDecimalToHex(rt)),pad2(Math.round(et).toString(16)),pad2(Math.round(_e).toString(16)),pad2(Math.round(tt).toString(16))];return nt.join("")}tinycolor.equals=function(et,_e){return!et||!_e?!1:tinycolor(et).toRgbString()==tinycolor(_e).toRgbString()};tinycolor.random=function(){return tinycolor.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function _desaturate(et,_e){_e=_e===0?0:_e||10;var tt=tinycolor(et).toHsl();return tt.s-=_e/100,tt.s=clamp01(tt.s),tinycolor(tt)}function _saturate(et,_e){_e=_e===0?0:_e||10;var tt=tinycolor(et).toHsl();return tt.s+=_e/100,tt.s=clamp01(tt.s),tinycolor(tt)}function _greyscale(et){return tinycolor(et).desaturate(100)}function _lighten(et,_e){_e=_e===0?0:_e||10;var tt=tinycolor(et).toHsl();return tt.l+=_e/100,tt.l=clamp01(tt.l),tinycolor(tt)}function _brighten(et,_e){_e=_e===0?0:_e||10;var tt=tinycolor(et).toRgb();return tt.r=Math.max(0,Math.min(255,tt.r-Math.round(255*-(_e/100)))),tt.g=Math.max(0,Math.min(255,tt.g-Math.round(255*-(_e/100)))),tt.b=Math.max(0,Math.min(255,tt.b-Math.round(255*-(_e/100)))),tinycolor(tt)}function _darken(et,_e){_e=_e===0?0:_e||10;var tt=tinycolor(et).toHsl();return tt.l-=_e/100,tt.l=clamp01(tt.l),tinycolor(tt)}function _spin(et,_e){var tt=tinycolor(et).toHsl(),rt=(tt.h+_e)%360;return tt.h=rt<0?360+rt:rt,tinycolor(tt)}function _complement(et){var _e=tinycolor(et).toHsl();return _e.h=(_e.h+180)%360,tinycolor(_e)}function polyad(et,_e){if(isNaN(_e)||_e<=0)throw new Error("Argument to polyad must be a positive number");for(var tt=tinycolor(et).toHsl(),rt=[tinycolor(et)],nt=360/_e,st=1;st<_e;st++)rt.push(tinycolor({h:(tt.h+st*nt)%360,s:tt.s,l:tt.l}));return rt}function _splitcomplement(et){var _e=tinycolor(et).toHsl(),tt=_e.h;return[tinycolor(et),tinycolor({h:(tt+72)%360,s:_e.s,l:_e.l}),tinycolor({h:(tt+216)%360,s:_e.s,l:_e.l})]}function _analogous(et,_e,tt){_e=_e||6,tt=tt||30;var rt=tinycolor(et).toHsl(),nt=360/tt,st=[tinycolor(et)];for(rt.h=(rt.h-(nt*_e>>1)+720)%360;--_e;)rt.h=(rt.h+nt)%360,st.push(tinycolor(rt));return st}function _monochromatic(et,_e){_e=_e||6;for(var tt=tinycolor(et).toHsv(),rt=tt.h,nt=tt.s,st=tt.v,it=[],at=1/_e;_e--;)it.push(tinycolor({h:rt,s:nt,v:st})),st=(st+at)%1;return it}tinycolor.mix=function(et,_e,tt){tt=tt===0?0:tt||50;var rt=tinycolor(et).toRgb(),nt=tinycolor(_e).toRgb(),st=tt/100,it={r:(nt.r-rt.r)*st+rt.r,g:(nt.g-rt.g)*st+rt.g,b:(nt.b-rt.b)*st+rt.b,a:(nt.a-rt.a)*st+rt.a};return tinycolor(it)};tinycolor.readability=function(et,_e){var tt=tinycolor(et),rt=tinycolor(_e);return(Math.max(tt.getLuminance(),rt.getLuminance())+.05)/(Math.min(tt.getLuminance(),rt.getLuminance())+.05)};tinycolor.isReadable=function(et,_e,tt){var rt=tinycolor.readability(et,_e),nt,st;switch(st=!1,nt=validateWCAG2Parms(tt),nt.level+nt.size){case"AAsmall":case"AAAlarge":st=rt>=4.5;break;case"AAlarge":st=rt>=3;break;case"AAAsmall":st=rt>=7;break}return st};tinycolor.mostReadable=function(et,_e,tt){var rt=null,nt=0,st,it,at,ot;tt=tt||{},it=tt.includeFallbackColors,at=tt.level,ot=tt.size;for(var lt=0;lt<_e.length;lt++)st=tinycolor.readability(et,_e[lt]),st>nt&&(nt=st,rt=tinycolor(_e[lt]));return tinycolor.isReadable(et,rt,{level:at,size:ot})||!it?rt:(tt.includeFallbackColors=!1,tinycolor.mostReadable(et,["#fff","#000"],tt))};var names=tinycolor.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},hexNames=tinycolor.hexNames=flip(names);function flip(et){var _e={};for(var tt in et)et.hasOwnProperty(tt)&&(_e[et[tt]]=tt);return _e}function boundAlpha(et){return et=parseFloat(et),(isNaN(et)||et<0||et>1)&&(et=1),et}function bound01(et,_e){isOnePointZero(et)&&(et="100%");var tt=isPercentage(et);return et=Math.min(_e,Math.max(0,parseFloat(et))),tt&&(et=parseInt(et*_e,10)/100),Math.abs(et-_e)<1e-6?1:et%_e/parseFloat(_e)}function clamp01(et){return Math.min(1,Math.max(0,et))}function parseIntFromHex(et){return parseInt(et,16)}function isOnePointZero(et){return typeof et=="string"&&et.indexOf(".")!=-1&&parseFloat(et)===1}function isPercentage(et){return typeof et=="string"&&et.indexOf("%")!=-1}function pad2(et){return et.length==1?"0"+et:""+et}function convertToPercentage(et){return et<=1&&(et=et*100+"%"),et}function convertDecimalToHex(et){return Math.round(parseFloat(et)*255).toString(16)}function convertHexToDecimal(et){return parseIntFromHex(et)/255}var matchers=function(){var et="[-\\+]?\\d+%?",_e="[-\\+]?\\d*\\.\\d+%?",tt="(?:"+_e+")|(?:"+et+")",rt="[\\s|\\(]+("+tt+")[,|\\s]+("+tt+")[,|\\s]+("+tt+")\\s*\\)?",nt="[\\s|\\(]+("+tt+")[,|\\s]+("+tt+")[,|\\s]+("+tt+")[,|\\s]+("+tt+")\\s*\\)?";return{CSS_UNIT:new RegExp(tt),rgb:new RegExp("rgb"+rt),rgba:new RegExp("rgba"+nt),hsl:new RegExp("hsl"+rt),hsla:new RegExp("hsla"+nt),hsv:new RegExp("hsv"+rt),hsva:new RegExp("hsva"+nt),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function isValidCSSUnit(et){return!!matchers.CSS_UNIT.exec(et)}function stringInputToObject(et){et=et.replace(trimLeft,"").replace(trimRight,"").toLowerCase();var _e=!1;if(names[et])et=names[et],_e=!0;else if(et=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var tt;return(tt=matchers.rgb.exec(et))?{r:tt[1],g:tt[2],b:tt[3]}:(tt=matchers.rgba.exec(et))?{r:tt[1],g:tt[2],b:tt[3],a:tt[4]}:(tt=matchers.hsl.exec(et))?{h:tt[1],s:tt[2],l:tt[3]}:(tt=matchers.hsla.exec(et))?{h:tt[1],s:tt[2],l:tt[3],a:tt[4]}:(tt=matchers.hsv.exec(et))?{h:tt[1],s:tt[2],v:tt[3]}:(tt=matchers.hsva.exec(et))?{h:tt[1],s:tt[2],v:tt[3],a:tt[4]}:(tt=matchers.hex8.exec(et))?{r:parseIntFromHex(tt[1]),g:parseIntFromHex(tt[2]),b:parseIntFromHex(tt[3]),a:convertHexToDecimal(tt[4]),format:_e?"name":"hex8"}:(tt=matchers.hex6.exec(et))?{r:parseIntFromHex(tt[1]),g:parseIntFromHex(tt[2]),b:parseIntFromHex(tt[3]),format:_e?"name":"hex"}:(tt=matchers.hex4.exec(et))?{r:parseIntFromHex(tt[1]+""+tt[1]),g:parseIntFromHex(tt[2]+""+tt[2]),b:parseIntFromHex(tt[3]+""+tt[3]),a:convertHexToDecimal(tt[4]+""+tt[4]),format:_e?"name":"hex8"}:(tt=matchers.hex3.exec(et))?{r:parseIntFromHex(tt[1]+""+tt[1]),g:parseIntFromHex(tt[2]+""+tt[2]),b:parseIntFromHex(tt[3]+""+tt[3]),format:_e?"name":"hex"}:!1}function validateWCAG2Parms(et){var _e,tt;return et=et||{level:"AA",size:"small"},_e=(et.level||"AA").toUpperCase(),tt=(et.size||"small").toLowerCase(),_e!=="AA"&&_e!=="AAA"&&(_e="AA"),tt!=="small"&&tt!=="large"&&(tt="small"),{level:_e,size:tt}}var simpleCheckForValidColor=function et(_e){var tt=["r","g","b","a","h","s","l","v"],rt=0,nt=0;return forEach(tt,function(st){if(_e[st]&&(rt+=1,isNaN(_e[st])||(nt+=1),st==="s"||st==="l")){var it=/^\d+%$/;it.test(_e[st])&&(nt+=1)}}),rt===nt?_e:!1},toState=function et(_e,tt){var rt=_e.hex?tinycolor(_e.hex):tinycolor(_e),nt=rt.toHsl(),st=rt.toHsv(),it=rt.toRgb(),at=rt.toHex();nt.s===0&&(nt.h=tt||0,st.h=tt||0);var ot=at==="000000"&&it.a===0;return{hsl:nt,hex:ot?"transparent":"#"+at,rgb:it,hsv:st,oldHue:_e.h||tt||nt.h,source:_e.source}},isValidHex=function et(_e){if(_e==="transparent")return!0;var tt=String(_e).charAt(0)==="#"?1:0;return _e.length!==4+tt&&_e.length<7+tt&&tinycolor(_e).isValid()},getContrastingColor=function et(_e){if(!_e)return"#fff";var tt=toState(_e);if(tt.hex==="transparent")return"rgba(0,0,0,0.4)";var rt=(tt.rgb.r*299+tt.rgb.g*587+tt.rgb.b*114)/1e3;return rt>=128?"#000":"#fff"},isvalidColorString=function et(_e,tt){var rt=_e.replace("","");return tinycolor(tt+" ("+rt+")")._ok},_extends$8=Object.assign||function(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(et[rt]=tt[rt])}return et},_createClass$3=function(){function et(_e,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(_e,nt.key,nt)}}return function(_e,tt,rt){return tt&&et(_e.prototype,tt),rt&&et(_e,rt),_e}}();function _classCallCheck$3(et,_e){if(!(et instanceof _e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn$3(et,_e){if(!et)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e&&(typeof _e=="object"||typeof _e=="function")?_e:et}function _inherits$3(et,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _e);et.prototype=Object.create(_e&&_e.prototype,{constructor:{value:et,enumerable:!1,writable:!0,configurable:!0}}),_e&&(Object.setPrototypeOf?Object.setPrototypeOf(et,_e):et.__proto__=_e)}var ColorWrap=function et(_e){var tt=function(rt){_inherits$3(nt,rt);function nt(st){_classCallCheck$3(this,nt);var it=_possibleConstructorReturn$3(this,(nt.__proto__||Object.getPrototypeOf(nt)).call(this));return it.handleChange=function(at,ot){var lt=simpleCheckForValidColor(at);if(lt){var ct=toState(at,at.h||it.state.oldHue);it.setState(ct),it.props.onChangeComplete&&it.debounce(it.props.onChangeComplete,ct,ot),it.props.onChange&&it.props.onChange(ct,ot)}},it.handleSwatchHover=function(at,ot){var lt=simpleCheckForValidColor(at);if(lt){var ct=toState(at,at.h||it.state.oldHue);it.props.onSwatchHover&&it.props.onSwatchHover(ct,ot)}},it.state=_extends$8({},toState(st.color,0)),it.debounce=debounce(function(at,ot,lt){at(ot,lt)},100),it}return _createClass$3(nt,[{key:"render",value:function(){var it={};return this.props.onSwatchHover&&(it.onSwatchHover=this.handleSwatchHover),React.createElement(_e,_extends$8({},this.props,this.state,{onChange:this.handleChange},it))}}],[{key:"getDerivedStateFromProps",value:function(it,at){return _extends$8({},toState(it.color,at.oldHue))}}]),nt}(reactExports.PureComponent||reactExports.Component);return tt.propTypes=_extends$8({},_e.propTypes),tt.defaultProps=_extends$8({},_e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),tt},_extends$7=Object.assign||function(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(et[rt]=tt[rt])}return et},_createClass$2=function(){function et(_e,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(_e,nt.key,nt)}}return function(_e,tt,rt){return tt&&et(_e.prototype,tt),rt&&et(_e,rt),_e}}();function _classCallCheck$2(et,_e){if(!(et instanceof _e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn$2(et,_e){if(!et)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e&&(typeof _e=="object"||typeof _e=="function")?_e:et}function _inherits$2(et,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _e);et.prototype=Object.create(_e&&_e.prototype,{constructor:{value:et,enumerable:!1,writable:!0,configurable:!0}}),_e&&(Object.setPrototypeOf?Object.setPrototypeOf(et,_e):et.__proto__=_e)}var handleFocus=function et(_e){var tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(rt){_inherits$2(nt,rt);function nt(){var st,it,at,ot;_classCallCheck$2(this,nt);for(var lt=arguments.length,ct=Array(lt),ut=0;ut<lt;ut++)ct[ut]=arguments[ut];return ot=(it=(at=_possibleConstructorReturn$2(this,(st=nt.__proto__||Object.getPrototypeOf(nt)).call.apply(st,[this].concat(ct))),at),at.state={focus:!1},at.handleFocus=function(){return at.setState({focus:!0})},at.handleBlur=function(){return at.setState({focus:!1})},it),_possibleConstructorReturn$2(at,ot)}return _createClass$2(nt,[{key:"render",value:function(){return React.createElement(tt,{onFocus:this.handleFocus,onBlur:this.handleBlur},React.createElement(_e,_extends$7({},this.props,this.state)))}}]),nt}(React.Component)},_extends$6=Object.assign||function(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(et[rt]=tt[rt])}return et},ENTER=13,Swatch=function et(_e){var tt=_e.color,rt=_e.style,nt=_e.onClick,st=nt===void 0?function(){}:nt,it=_e.onHover,at=_e.title,ot=at===void 0?tt:at,lt=_e.children,ct=_e.focus,ut=_e.focusStyle,dt=ut===void 0?{}:ut,ft=tt==="transparent",ht=_default$2({default:{swatch:_extends$6({background:tt,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},rt,ct?dt:{})}}),pt=function(yt){return st(tt,yt)},gt=function(yt){return yt.keyCode===ENTER&&st(tt,yt)},mt=function(yt){return it(tt,yt)},bt={};return it&&(bt.onMouseOver=mt),React.createElement("div",_extends$6({style:ht.swatch,onClick:pt,title:ot,tabIndex:0,onKeyDown:gt},bt),lt,ft&&React.createElement(Checkboard,{borderRadius:ht.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const Swatch$1=handleFocus(Swatch);var AlphaPointer=function et(_e){var tt=_e.direction,rt=_default$2({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:tt==="vertical"});return React.createElement("div",{style:rt.picker})},_extends$5=Object.assign||function(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(et[rt]=tt[rt])}return et},AlphaPicker=function et(_e){var tt=_e.rgb,rt=_e.hsl,nt=_e.width,st=_e.height,it=_e.onChange,at=_e.direction,ot=_e.style,lt=_e.renderers,ct=_e.pointer,ut=_e.className,dt=ut===void 0?"":ut,ft=_default$2({default:{picker:{position:"relative",width:nt,height:st},alpha:{radius:"2px",style:ot}}});return React.createElement("div",{style:ft.picker,className:"alpha-picker "+dt},React.createElement(Alpha,_extends$5({},ft.alpha,{rgb:tt,hsl:rt,pointer:ct,renderers:lt,onChange:it,direction:at})))};AlphaPicker.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:AlphaPointer};ColorWrap(AlphaPicker);function arrayMap(et,_e){for(var tt=-1,rt=et==null?0:et.length,nt=Array(rt);++tt<rt;)nt[tt]=_e(et[tt],tt,et);return nt}var HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd(et){return this.__data__.set(et,HASH_UNDEFINED),this}function setCacheHas(et){return this.__data__.has(et)}function SetCache(et){var _e=-1,tt=et==null?0:et.length;for(this.__data__=new MapCache;++_e<tt;)this.add(et[_e])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function arraySome(et,_e){for(var tt=-1,rt=et==null?0:et.length;++tt<rt;)if(_e(et[tt],tt,et))return!0;return!1}function cacheHas(et,_e){return et.has(_e)}var COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays(et,_e,tt,rt,nt,st){var it=tt&COMPARE_PARTIAL_FLAG$5,at=et.length,ot=_e.length;if(at!=ot&&!(it&&ot>at))return!1;var lt=st.get(et),ct=st.get(_e);if(lt&&ct)return lt==_e&&ct==et;var ut=-1,dt=!0,ft=tt&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for(st.set(et,_e),st.set(_e,et);++ut<at;){var ht=et[ut],pt=_e[ut];if(rt)var gt=it?rt(pt,ht,ut,_e,et,st):rt(ht,pt,ut,et,_e,st);if(gt!==void 0){if(gt)continue;dt=!1;break}if(ft){if(!arraySome(_e,function(mt,bt){if(!cacheHas(ft,bt)&&(ht===mt||nt(ht,mt,tt,rt,st)))return ft.push(bt)})){dt=!1;break}}else if(!(ht===pt||nt(ht,pt,tt,rt,st))){dt=!1;break}}return st.delete(et),st.delete(_e),dt}function mapToArray(et){var _e=-1,tt=Array(et.size);return et.forEach(function(rt,nt){tt[++_e]=[nt,rt]}),tt}function setToArray(et){var _e=-1,tt=Array(et.size);return et.forEach(function(rt){tt[++_e]=rt}),tt}var COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag$1="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag$1="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag$1="[object DataView]",symbolProto$1=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf=symbolProto$1?symbolProto$1.valueOf:void 0;function equalByTag(et,_e,tt,rt,nt,st,it){switch(tt){case dataViewTag$1:if(et.byteLength!=_e.byteLength||et.byteOffset!=_e.byteOffset)return!1;et=et.buffer,_e=_e.buffer;case arrayBufferTag:return!(et.byteLength!=_e.byteLength||!st(new Uint8Array$2(et),new Uint8Array$2(_e)));case boolTag:case dateTag:case numberTag:return eq(+et,+_e);case errorTag:return et.name==_e.name&&et.message==_e.message;case regexpTag:case stringTag:return et==_e+"";case mapTag$1:var at=mapToArray;case setTag$1:var ot=rt&COMPARE_PARTIAL_FLAG$4;if(at||(at=setToArray),et.size!=_e.size&&!ot)return!1;var lt=it.get(et);if(lt)return lt==_e;rt|=COMPARE_UNORDERED_FLAG$2,it.set(et,_e);var ct=equalArrays(at(et),at(_e),rt,nt,st,it);return it.delete(et),ct;case symbolTag:if(symbolValueOf)return symbolValueOf.call(et)==symbolValueOf.call(_e)}return!1}function arrayPush(et,_e){for(var tt=-1,rt=_e.length,nt=et.length;++tt<rt;)et[nt+tt]=_e[tt];return et}function baseGetAllKeys(et,_e,tt){var rt=_e(et);return isArray$1(et)?rt:arrayPush(rt,tt(et))}function arrayFilter(et,_e){for(var tt=-1,rt=et==null?0:et.length,nt=0,st=[];++tt<rt;){var it=et[tt];_e(it,tt,et)&&(st[nt++]=it)}return st}function stubArray(){return[]}var objectProto$2=Object.prototype,propertyIsEnumerable=objectProto$2.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(et){return et==null?[]:(et=Object(et),arrayFilter(nativeGetSymbols(et),function(_e){return propertyIsEnumerable.call(et,_e)}))}:stubArray;const getSymbols$1=getSymbols;function getAllKeys(et){return baseGetAllKeys(et,keys,getSymbols$1)}var COMPARE_PARTIAL_FLAG$3=1,objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function equalObjects(et,_e,tt,rt,nt,st){var it=tt&COMPARE_PARTIAL_FLAG$3,at=getAllKeys(et),ot=at.length,lt=getAllKeys(_e),ct=lt.length;if(ot!=ct&&!it)return!1;for(var ut=ot;ut--;){var dt=at[ut];if(!(it?dt in _e:hasOwnProperty$1.call(_e,dt)))return!1}var ft=st.get(et),ht=st.get(_e);if(ft&&ht)return ft==_e&&ht==et;var pt=!0;st.set(et,_e),st.set(_e,et);for(var gt=it;++ut<ot;){dt=at[ut];var mt=et[dt],bt=_e[dt];if(rt)var vt=it?rt(bt,mt,dt,_e,et,st):rt(mt,bt,dt,et,_e,st);if(!(vt===void 0?mt===bt||nt(mt,bt,tt,rt,st):vt)){pt=!1;break}gt||(gt=dt=="constructor")}if(pt&&!gt){var yt=et.constructor,xt=_e.constructor;yt!=xt&&"constructor"in et&&"constructor"in _e&&!(typeof yt=="function"&&yt instanceof yt&&typeof xt=="function"&&xt instanceof xt)&&(pt=!1)}return st.delete(et),st.delete(_e),pt}var DataView$1=getNative(root$2,"DataView");const DataView$2=DataView$1;var Promise$1=getNative(root$2,"Promise");const Promise$2=Promise$1;var Set$1=getNative(root$2,"Set");const Set$2=Set$1;var WeakMap$1=getNative(root$2,"WeakMap");const WeakMap$2=WeakMap$1;var mapTag="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView$2),mapCtorString=toSource(Map$2),promiseCtorString=toSource(Promise$2),setCtorString=toSource(Set$2),weakMapCtorString=toSource(WeakMap$2),getTag=baseGetTag;(DataView$2&&getTag(new DataView$2(new ArrayBuffer(1)))!=dataViewTag||Map$2&&getTag(new Map$2)!=mapTag||Promise$2&&getTag(Promise$2.resolve())!=promiseTag||Set$2&&getTag(new Set$2)!=setTag||WeakMap$2&&getTag(new WeakMap$2)!=weakMapTag)&&(getTag=function(et){var _e=baseGetTag(et),tt=_e==objectTag$1?et.constructor:void 0,rt=tt?toSource(tt):"";if(rt)switch(rt){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return _e});const getTag$1=getTag;var COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function baseIsEqualDeep(et,_e,tt,rt,nt,st){var it=isArray$1(et),at=isArray$1(_e),ot=it?arrayTag:getTag$1(et),lt=at?arrayTag:getTag$1(_e);ot=ot==argsTag?objectTag:ot,lt=lt==argsTag?objectTag:lt;var ct=ot==objectTag,ut=lt==objectTag,dt=ot==lt;if(dt&&isBuffer$1(et)){if(!isBuffer$1(_e))return!1;it=!0,ct=!1}if(dt&&!ct)return st||(st=new Stack),it||isTypedArray$1(et)?equalArrays(et,_e,tt,rt,nt,st):equalByTag(et,_e,ot,tt,rt,nt,st);if(!(tt&COMPARE_PARTIAL_FLAG$2)){var ft=ct&&hasOwnProperty.call(et,"__wrapped__"),ht=ut&&hasOwnProperty.call(_e,"__wrapped__");if(ft||ht){var pt=ft?et.value():et,gt=ht?_e.value():_e;return st||(st=new Stack),nt(pt,gt,tt,rt,st)}}return dt?(st||(st=new Stack),equalObjects(et,_e,tt,rt,nt,st)):!1}function baseIsEqual(et,_e,tt,rt,nt){return et===_e?!0:et==null||_e==null||!isObjectLike(et)&&!isObjectLike(_e)?et!==et&&_e!==_e:baseIsEqualDeep(et,_e,tt,rt,baseIsEqual,nt)}var COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch(et,_e,tt,rt){var nt=tt.length,st=nt,it=!rt;if(et==null)return!st;for(et=Object(et);nt--;){var at=tt[nt];if(it&&at[2]?at[1]!==et[at[0]]:!(at[0]in et))return!1}for(;++nt<st;){at=tt[nt];var ot=at[0],lt=et[ot],ct=at[1];if(it&&at[2]){if(lt===void 0&&!(ot in et))return!1}else{var ut=new Stack;if(rt)var dt=rt(lt,ct,ot,et,_e,ut);if(!(dt===void 0?baseIsEqual(ct,lt,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,rt,ut):dt))return!1}}return!0}function isStrictComparable(et){return et===et&&!isObject(et)}function getMatchData(et){for(var _e=keys(et),tt=_e.length;tt--;){var rt=_e[tt],nt=et[rt];_e[tt]=[rt,nt,isStrictComparable(nt)]}return _e}function matchesStrictComparable(et,_e){return function(tt){return tt==null?!1:tt[et]===_e&&(_e!==void 0||et in Object(tt))}}function baseMatches(et){var _e=getMatchData(et);return _e.length==1&&_e[0][2]?matchesStrictComparable(_e[0][0],_e[0][1]):function(tt){return tt===et||baseIsMatch(tt,et,_e)}}var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(et,_e){if(isArray$1(et))return!1;var tt=typeof et;return tt=="number"||tt=="symbol"||tt=="boolean"||et==null||isSymbol(et)?!0:reIsPlainProp.test(et)||!reIsDeepProp.test(et)||_e!=null&&et in Object(_e)}var FUNC_ERROR_TEXT="Expected a function";function memoize(et,_e){if(typeof et!="function"||_e!=null&&typeof _e!="function")throw new TypeError(FUNC_ERROR_TEXT);var tt=function(){var rt=arguments,nt=_e?_e.apply(this,rt):rt[0],st=tt.cache;if(st.has(nt))return st.get(nt);var it=et.apply(this,rt);return tt.cache=st.set(nt,it)||st,it};return tt.cache=new(memoize.Cache||MapCache),tt}memoize.Cache=MapCache;var MAX_MEMOIZE_SIZE=500;function memoizeCapped(et){var _e=memoize(et,function(rt){return tt.size===MAX_MEMOIZE_SIZE&&tt.clear(),rt}),tt=_e.cache;return _e}var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(et){var _e=[];return et.charCodeAt(0)===46&&_e.push(""),et.replace(rePropName,function(tt,rt,nt,st){_e.push(nt?st.replace(reEscapeChar,"$1"):rt||tt)}),_e});const stringToPath$1=stringToPath;var INFINITY$1=1/0,symbolProto=Symbol$2?Symbol$2.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function baseToString(et){if(typeof et=="string")return et;if(isArray$1(et))return arrayMap(et,baseToString)+"";if(isSymbol(et))return symbolToString?symbolToString.call(et):"";var _e=et+"";return _e=="0"&&1/et==-INFINITY$1?"-0":_e}function toString(et){return et==null?"":baseToString(et)}function castPath(et,_e){return isArray$1(et)?et:isKey(et,_e)?[et]:stringToPath$1(toString(et))}var INFINITY=1/0;function toKey(et){if(typeof et=="string"||isSymbol(et))return et;var _e=et+"";return _e=="0"&&1/et==-INFINITY?"-0":_e}function baseGet(et,_e){_e=castPath(_e,et);for(var tt=0,rt=_e.length;et!=null&&tt<rt;)et=et[toKey(_e[tt++])];return tt&&tt==rt?et:void 0}function get(et,_e,tt){var rt=et==null?void 0:baseGet(et,_e);return rt===void 0?tt:rt}function baseHasIn(et,_e){return et!=null&&_e in Object(et)}function hasPath(et,_e,tt){_e=castPath(_e,et);for(var rt=-1,nt=_e.length,st=!1;++rt<nt;){var it=toKey(_e[rt]);if(!(st=et!=null&&tt(et,it)))break;et=et[it]}return st||++rt!=nt?st:(nt=et==null?0:et.length,!!nt&&isLength(nt)&&isIndex(it,nt)&&(isArray$1(et)||isArguments$1(et)))}function hasIn(et,_e){return et!=null&&hasPath(et,_e,baseHasIn)}var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty(et,_e){return isKey(et)&&isStrictComparable(_e)?matchesStrictComparable(toKey(et),_e):function(tt){var rt=get(tt,et);return rt===void 0&&rt===_e?hasIn(tt,et):baseIsEqual(_e,rt,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseProperty(et){return function(_e){return _e==null?void 0:_e[et]}}function basePropertyDeep(et){return function(_e){return baseGet(_e,et)}}function property(et){return isKey(et)?baseProperty(toKey(et)):basePropertyDeep(et)}function baseIteratee(et){return typeof et=="function"?et:et==null?identity:typeof et=="object"?isArray$1(et)?baseMatchesProperty(et[0],et[1]):baseMatches(et):property(et)}function baseMap(et,_e){var tt=-1,rt=isArrayLike(et)?Array(et.length):[];return baseEach$1(et,function(nt,st,it){rt[++tt]=_e(nt,st,it)}),rt}function map(et,_e){var tt=isArray$1(et)?arrayMap:baseMap;return tt(et,baseIteratee(_e))}var BlockSwatches=function et(_e){var tt=_e.colors,rt=_e.onClick,nt=_e.onSwatchHover,st=_default$2({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return React.createElement("div",{style:st.swatches},map(tt,function(it){return React.createElement(Swatch$1,{key:it,color:it,style:st.swatch,onClick:rt,onHover:nt,focusStyle:{boxShadow:"0 0 4px "+it}})}),React.createElement("div",{style:st.clear}))},Block=function et(_e){var tt=_e.onChange,rt=_e.onSwatchHover,nt=_e.hex,st=_e.colors,it=_e.width,at=_e.triangle,ot=_e.styles,lt=ot===void 0?{}:ot,ct=_e.className,ut=ct===void 0?"":ct,dt=nt==="transparent",ft=function(gt,mt){isValidHex(gt)&&tt({hex:gt,source:"hex"},mt)},ht=_default$2(merge$1({default:{card:{width:it,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:nt,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:getContrastingColor(nt),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+nt+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},lt),{"hide-triangle":at==="hide"});return React.createElement("div",{style:ht.card,className:"block-picker "+ut},React.createElement("div",{style:ht.triangle}),React.createElement("div",{style:ht.head},dt&&React.createElement(Checkboard,{borderRadius:"6px 6px 0 0"}),React.createElement("div",{style:ht.label},nt)),React.createElement("div",{style:ht.body},React.createElement(BlockSwatches,{colors:st,onClick:ft,onSwatchHover:rt}),React.createElement(EditableInput,{style:{input:ht.input},value:nt,onChange:ft})))};Block.propTypes={width:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),colors:PropTypes.arrayOf(PropTypes.string),triangle:PropTypes.oneOf(["top","hide"]),styles:PropTypes.object};Block.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};ColorWrap(Block);var red={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},pink={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},purple={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},deepPurple={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},indigo={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},blue={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},lightBlue={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},cyan={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},teal={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},green={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},lightGreen={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},lime={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},yellow={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},amber={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},orange={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},deepOrange={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},brown={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},blueGrey={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},CircleSwatch=function et(_e){var tt=_e.color,rt=_e.onClick,nt=_e.onSwatchHover,st=_e.hover,it=_e.active,at=_e.circleSize,ot=_e.circleSpacing,lt=_default$2({default:{swatch:{width:at,height:at,marginRight:ot,marginBottom:ot,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(at/2+1)+"px "+tt,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+tt}}},{hover:st,active:it});return React.createElement("div",{style:lt.swatch},React.createElement(Swatch$1,{style:lt.Swatch,color:tt,onClick:rt,onHover:nt,focusStyle:{boxShadow:lt.Swatch.boxShadow+", 0 0 5px "+tt}}))};CircleSwatch.defaultProps={circleSize:28,circleSpacing:14};const CircleSwatch$1=handleHover(CircleSwatch);var Circle=function et(_e){var tt=_e.width,rt=_e.onChange,nt=_e.onSwatchHover,st=_e.colors,it=_e.hex,at=_e.circleSize,ot=_e.styles,lt=ot===void 0?{}:ot,ct=_e.circleSpacing,ut=_e.className,dt=ut===void 0?"":ut,ft=_default$2(merge$1({default:{card:{width:tt,display:"flex",flexWrap:"wrap",marginRight:-ct,marginBottom:-ct}}},lt)),ht=function(gt,mt){return rt({hex:gt,source:"hex"},mt)};return React.createElement("div",{style:ft.card,className:"circle-picker "+dt},map(st,function(pt){return React.createElement(CircleSwatch$1,{key:pt,color:pt,onClick:ht,onSwatchHover:nt,active:it===pt.toLowerCase(),circleSize:at,circleSpacing:ct})}))};Circle.propTypes={width:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),circleSize:PropTypes.number,circleSpacing:PropTypes.number,styles:PropTypes.object};Circle.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[red[500],pink[500],purple[500],deepPurple[500],indigo[500],blue[500],lightBlue[500],cyan[500],teal[500],green[500],lightGreen[500],lime[500],yellow[500],amber[500],orange[500],deepOrange[500],brown[500],blueGrey[500]],styles:{}};ColorWrap(Circle);function isUndefined(et){return et===void 0}var UnfoldMoreHorizontalIcon={};Object.defineProperty(UnfoldMoreHorizontalIcon,"__esModule",{value:!0});var _extends$4=Object.assign||function(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(et[rt]=tt[rt])}return et},_react$1=reactExports,_react2$1=_interopRequireDefault$1(_react$1);function _interopRequireDefault$1(et){return et&&et.__esModule?et:{default:et}}function _objectWithoutProperties$1(et,_e){var tt={};for(var rt in et)_e.indexOf(rt)>=0||Object.prototype.hasOwnProperty.call(et,rt)&&(tt[rt]=et[rt]);return tt}var DEFAULT_SIZE$1=24,_default$1=UnfoldMoreHorizontalIcon.default=function(et){var _e=et.fill,tt=_e===void 0?"currentColor":_e,rt=et.width,nt=rt===void 0?DEFAULT_SIZE$1:rt,st=et.height,it=st===void 0?DEFAULT_SIZE$1:st,at=et.style,ot=at===void 0?{}:at,lt=_objectWithoutProperties$1(et,["fill","width","height","style"]);return _react2$1.default.createElement("svg",_extends$4({viewBox:"0 0 "+DEFAULT_SIZE$1+" "+DEFAULT_SIZE$1,style:_extends$4({fill:tt,width:nt,height:it},ot)},lt),_react2$1.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},_createClass$1=function(){function et(_e,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(_e,nt.key,nt)}}return function(_e,tt,rt){return tt&&et(_e.prototype,tt),rt&&et(_e,rt),_e}}();function _classCallCheck$1(et,_e){if(!(et instanceof _e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn$1(et,_e){if(!et)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e&&(typeof _e=="object"||typeof _e=="function")?_e:et}function _inherits$1(et,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _e);et.prototype=Object.create(_e&&_e.prototype,{constructor:{value:et,enumerable:!1,writable:!0,configurable:!0}}),_e&&(Object.setPrototypeOf?Object.setPrototypeOf(et,_e):et.__proto__=_e)}var ChromeFields=function(et){_inherits$1(_e,et);function _e(tt){_classCallCheck$1(this,_e);var rt=_possibleConstructorReturn$1(this,(_e.__proto__||Object.getPrototypeOf(_e)).call(this));return rt.toggleViews=function(){rt.state.view==="hex"?rt.setState({view:"rgb"}):rt.state.view==="rgb"?rt.setState({view:"hsl"}):rt.state.view==="hsl"&&(rt.props.hsl.a===1?rt.setState({view:"hex"}):rt.setState({view:"rgb"}))},rt.handleChange=function(nt,st){nt.hex?isValidHex(nt.hex)&&rt.props.onChange({hex:nt.hex,source:"hex"},st):nt.r||nt.g||nt.b?rt.props.onChange({r:nt.r||rt.props.rgb.r,g:nt.g||rt.props.rgb.g,b:nt.b||rt.props.rgb.b,source:"rgb"},st):nt.a?(nt.a<0?nt.a=0:nt.a>1&&(nt.a=1),rt.props.onChange({h:rt.props.hsl.h,s:rt.props.hsl.s,l:rt.props.hsl.l,a:Math.round(nt.a*100)/100,source:"rgb"},st)):(nt.h||nt.s||nt.l)&&(typeof nt.s=="string"&&nt.s.includes("%")&&(nt.s=nt.s.replace("%","")),typeof nt.l=="string"&&nt.l.includes("%")&&(nt.l=nt.l.replace("%","")),nt.s==1?nt.s=.01:nt.l==1&&(nt.l=.01),rt.props.onChange({h:nt.h||rt.props.hsl.h,s:Number(isUndefined(nt.s)?rt.props.hsl.s:nt.s),l:Number(isUndefined(nt.l)?rt.props.hsl.l:nt.l),source:"hsl"},st))},rt.showHighlight=function(nt){nt.currentTarget.style.background="#eee"},rt.hideHighlight=function(nt){nt.currentTarget.style.background="transparent"},tt.hsl.a!==1&&tt.view==="hex"?rt.state={view:"rgb"}:rt.state={view:tt.view},rt}return _createClass$1(_e,[{key:"render",value:function(){var rt=this,nt=_default$2({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),st=void 0;return this.state.view==="hex"?st=React.createElement("div",{style:nt.fields,className:"flexbox-fix"},React.createElement("div",{style:nt.field},React.createElement(EditableInput,{style:{input:nt.input,label:nt.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?st=React.createElement("div",{style:nt.fields,className:"flexbox-fix"},React.createElement("div",{style:nt.field},React.createElement(EditableInput,{style:{input:nt.input,label:nt.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),React.createElement("div",{style:nt.field},React.createElement(EditableInput,{style:{input:nt.input,label:nt.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),React.createElement("div",{style:nt.field},React.createElement(EditableInput,{style:{input:nt.input,label:nt.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),React.createElement("div",{style:nt.alpha},React.createElement(EditableInput,{style:{input:nt.input,label:nt.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(st=React.createElement("div",{style:nt.fields,className:"flexbox-fix"},React.createElement("div",{style:nt.field},React.createElement(EditableInput,{style:{input:nt.input,label:nt.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),React.createElement("div",{style:nt.field},React.createElement(EditableInput,{style:{input:nt.input,label:nt.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),React.createElement("div",{style:nt.field},React.createElement(EditableInput,{style:{input:nt.input,label:nt.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),React.createElement("div",{style:nt.alpha},React.createElement(EditableInput,{style:{input:nt.input,label:nt.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),React.createElement("div",{style:nt.wrap,className:"flexbox-fix"},st,React.createElement("div",{style:nt.toggle},React.createElement("div",{style:nt.icon,onClick:this.toggleViews,ref:function(at){return rt.icon=at}},React.createElement(_default$1,{style:nt.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(rt,nt){return rt.hsl.a!==1&&nt.view==="hex"?{view:"rgb"}:null}}]),_e}(React.Component);ChromeFields.defaultProps={view:"hex"};var ChromePointer=function et(){var _e=_default$2({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return React.createElement("div",{style:_e.picker})},ChromePointerCircle=function et(){var _e=_default$2({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return React.createElement("div",{style:_e.picker})},Chrome=function et(_e){var tt=_e.width,rt=_e.onChange,nt=_e.disableAlpha,st=_e.rgb,it=_e.hsl,at=_e.hsv,ot=_e.hex,lt=_e.renderers,ct=_e.styles,ut=ct===void 0?{}:ct,dt=_e.className,ft=dt===void 0?"":dt,ht=_e.defaultView,pt=_default$2(merge$1({default:{picker:{width:tt,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+st.r+", "+st.g+", "+st.b+", "+st.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},ut),{disableAlpha:nt});return React.createElement("div",{style:pt.picker,className:"chrome-picker "+ft},React.createElement("div",{style:pt.saturation},React.createElement(Saturation,{style:pt.Saturation,hsl:it,hsv:at,pointer:ChromePointerCircle,onChange:rt})),React.createElement("div",{style:pt.body},React.createElement("div",{style:pt.controls,className:"flexbox-fix"},React.createElement("div",{style:pt.color},React.createElement("div",{style:pt.swatch},React.createElement("div",{style:pt.active}),React.createElement(Checkboard,{renderers:lt}))),React.createElement("div",{style:pt.toggles},React.createElement("div",{style:pt.hue},React.createElement(Hue,{style:pt.Hue,hsl:it,pointer:ChromePointer,onChange:rt})),React.createElement("div",{style:pt.alpha},React.createElement(Alpha,{style:pt.Alpha,rgb:st,hsl:it,pointer:ChromePointer,renderers:lt,onChange:rt})))),React.createElement(ChromeFields,{rgb:st,hsl:it,hex:ot,view:ht,onChange:rt,disableAlpha:nt})))};Chrome.propTypes={width:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),disableAlpha:PropTypes.bool,styles:PropTypes.object,defaultView:PropTypes.oneOf(["hex","rgb","hsl"])};Chrome.defaultProps={width:225,disableAlpha:!1,styles:{}};ColorWrap(Chrome);var CompactColor=function et(_e){var tt=_e.color,rt=_e.onClick,nt=rt===void 0?function(){}:rt,st=_e.onSwatchHover,it=_e.active,at=_default$2({default:{color:{background:tt,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:getContrastingColor(tt),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:it,"color-#FFFFFF":tt==="#FFFFFF",transparent:tt==="transparent"});return React.createElement(Swatch$1,{style:at.color,color:tt,onClick:nt,onHover:st,focusStyle:{boxShadow:"0 0 4px "+tt}},React.createElement("div",{style:at.dot}))},CompactFields=function et(_e){var tt=_e.hex,rt=_e.rgb,nt=_e.onChange,st=_default$2({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:tt},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),it=function(ot,lt){ot.r||ot.g||ot.b?nt({r:ot.r||rt.r,g:ot.g||rt.g,b:ot.b||rt.b,source:"rgb"},lt):nt({hex:ot.hex,source:"hex"},lt)};return React.createElement("div",{style:st.fields,className:"flexbox-fix"},React.createElement("div",{style:st.active}),React.createElement(EditableInput,{style:{wrap:st.HEXwrap,input:st.HEXinput,label:st.HEXlabel},label:"hex",value:tt,onChange:it}),React.createElement(EditableInput,{style:{wrap:st.RGBwrap,input:st.RGBinput,label:st.RGBlabel},label:"r",value:rt.r,onChange:it}),React.createElement(EditableInput,{style:{wrap:st.RGBwrap,input:st.RGBinput,label:st.RGBlabel},label:"g",value:rt.g,onChange:it}),React.createElement(EditableInput,{style:{wrap:st.RGBwrap,input:st.RGBinput,label:st.RGBlabel},label:"b",value:rt.b,onChange:it}))},Compact=function et(_e){var tt=_e.onChange,rt=_e.onSwatchHover,nt=_e.colors,st=_e.hex,it=_e.rgb,at=_e.styles,ot=at===void 0?{}:at,lt=_e.className,ct=lt===void 0?"":lt,ut=_default$2(merge$1({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},ot)),dt=function(ht,pt){ht.hex?isValidHex(ht.hex)&&tt({hex:ht.hex,source:"hex"},pt):tt(ht,pt)};return React.createElement(Raised,{style:ut.Compact,styles:ot},React.createElement("div",{style:ut.compact,className:"compact-picker "+ct},React.createElement("div",null,map(nt,function(ft){return React.createElement(CompactColor,{key:ft,color:ft,active:ft.toLowerCase()===st,onClick:dt,onSwatchHover:rt})}),React.createElement("div",{style:ut.clear})),React.createElement(CompactFields,{hex:st,rgb:it,onChange:dt})))};Compact.propTypes={colors:PropTypes.arrayOf(PropTypes.string),styles:PropTypes.object};Compact.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};ColorWrap(Compact);var GithubSwatch=function et(_e){var tt=_e.hover,rt=_e.color,nt=_e.onClick,st=_e.onSwatchHover,it={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},at=_default$2({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:it}},{hover:tt});return React.createElement("div",{style:at.swatch},React.createElement(Swatch$1,{color:rt,onClick:nt,onHover:st,focusStyle:it}))};const GithubSwatch$1=handleHover(GithubSwatch);var Github=function et(_e){var tt=_e.width,rt=_e.colors,nt=_e.onChange,st=_e.onSwatchHover,it=_e.triangle,at=_e.styles,ot=at===void 0?{}:at,lt=_e.className,ct=lt===void 0?"":lt,ut=_default$2(merge$1({default:{card:{width:tt,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},ot),{"hide-triangle":it==="hide","top-left-triangle":it==="top-left","top-right-triangle":it==="top-right","bottom-left-triangle":it==="bottom-left","bottom-right-triangle":it==="bottom-right"}),dt=function(ht,pt){return nt({hex:ht,source:"hex"},pt)};return React.createElement("div",{style:ut.card,className:"github-picker "+ct},React.createElement("div",{style:ut.triangleShadow}),React.createElement("div",{style:ut.triangle}),map(rt,function(ft){return React.createElement(GithubSwatch$1,{color:ft,key:ft,onClick:dt,onSwatchHover:st})}))};Github.propTypes={width:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),colors:PropTypes.arrayOf(PropTypes.string),triangle:PropTypes.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:PropTypes.object};Github.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};ColorWrap(Github);var SliderPointer$1=function et(_e){var tt=_e.direction,rt=_default$2({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:tt==="vertical"});return React.createElement("div",{style:rt.picker})},_extends$3=Object.assign||function(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(et[rt]=tt[rt])}return et},HuePicker=function et(_e){var tt=_e.width,rt=_e.height,nt=_e.onChange,st=_e.hsl,it=_e.direction,at=_e.pointer,ot=_e.styles,lt=ot===void 0?{}:ot,ct=_e.className,ut=ct===void 0?"":ct,dt=_default$2(merge$1({default:{picker:{position:"relative",width:tt,height:rt},hue:{radius:"2px"}}},lt)),ft=function(pt){return nt({a:1,h:pt.h,l:.5,s:1})};return React.createElement("div",{style:dt.picker,className:"hue-picker "+ut},React.createElement(Hue,_extends$3({},dt.hue,{hsl:st,pointer:at,onChange:ft,direction:it})))};HuePicker.propTypes={styles:PropTypes.object};HuePicker.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:SliderPointer$1,styles:{}};ColorWrap(HuePicker);var Material=function et(_e){var tt=_e.onChange,rt=_e.hex,nt=_e.rgb,st=_e.styles,it=st===void 0?{}:st,at=_e.className,ot=at===void 0?"":at,lt=_default$2(merge$1({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+rt,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},it)),ct=function(dt,ft){dt.hex?isValidHex(dt.hex)&&tt({hex:dt.hex,source:"hex"},ft):(dt.r||dt.g||dt.b)&&tt({r:dt.r||nt.r,g:dt.g||nt.g,b:dt.b||nt.b,source:"rgb"},ft)};return React.createElement(Raised,{styles:it},React.createElement("div",{style:lt.material,className:"material-picker "+ot},React.createElement(EditableInput,{style:{wrap:lt.HEXwrap,input:lt.HEXinput,label:lt.HEXlabel},label:"hex",value:rt,onChange:ct}),React.createElement("div",{style:lt.split,className:"flexbox-fix"},React.createElement("div",{style:lt.third},React.createElement(EditableInput,{style:{wrap:lt.RGBwrap,input:lt.RGBinput,label:lt.RGBlabel},label:"r",value:nt.r,onChange:ct})),React.createElement("div",{style:lt.third},React.createElement(EditableInput,{style:{wrap:lt.RGBwrap,input:lt.RGBinput,label:lt.RGBlabel},label:"g",value:nt.g,onChange:ct})),React.createElement("div",{style:lt.third},React.createElement(EditableInput,{style:{wrap:lt.RGBwrap,input:lt.RGBinput,label:lt.RGBlabel},label:"b",value:nt.b,onChange:ct})))))};ColorWrap(Material);var PhotoshopPicker=function et(_e){var tt=_e.onChange,rt=_e.rgb,nt=_e.hsv,st=_e.hex,it=_default$2({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),at=function(lt,ct){lt["#"]?isValidHex(lt["#"])&&tt({hex:lt["#"],source:"hex"},ct):lt.r||lt.g||lt.b?tt({r:lt.r||rt.r,g:lt.g||rt.g,b:lt.b||rt.b,source:"rgb"},ct):(lt.h||lt.s||lt.v)&&tt({h:lt.h||nt.h,s:lt.s||nt.s,v:lt.v||nt.v,source:"hsv"},ct)};return React.createElement("div",{style:it.fields},React.createElement(EditableInput,{style:{wrap:it.RGBwrap,input:it.RGBinput,label:it.RGBlabel},label:"h",value:Math.round(nt.h),onChange:at}),React.createElement(EditableInput,{style:{wrap:it.RGBwrap,input:it.RGBinput,label:it.RGBlabel},label:"s",value:Math.round(nt.s*100),onChange:at}),React.createElement(EditableInput,{style:{wrap:it.RGBwrap,input:it.RGBinput,label:it.RGBlabel},label:"v",value:Math.round(nt.v*100),onChange:at}),React.createElement("div",{style:it.divider}),React.createElement(EditableInput,{style:{wrap:it.RGBwrap,input:it.RGBinput,label:it.RGBlabel},label:"r",value:rt.r,onChange:at}),React.createElement(EditableInput,{style:{wrap:it.RGBwrap,input:it.RGBinput,label:it.RGBlabel},label:"g",value:rt.g,onChange:at}),React.createElement(EditableInput,{style:{wrap:it.RGBwrap,input:it.RGBinput,label:it.RGBlabel},label:"b",value:rt.b,onChange:at}),React.createElement("div",{style:it.divider}),React.createElement(EditableInput,{style:{wrap:it.HEXwrap,input:it.HEXinput,label:it.HEXlabel},label:"#",value:st.replace("#",""),onChange:at}),React.createElement("div",{style:it.fieldSymbols},React.createElement("div",{style:it.symbol},""),React.createElement("div",{style:it.symbol},"%"),React.createElement("div",{style:it.symbol},"%")))},PhotoshopPointerCircle$1=function et(_e){var tt=_e.hsl,rt=_default$2({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":tt.l>.5});return React.createElement("div",{style:rt.picker})},PhotoshopPointerCircle=function et(){var _e=_default$2({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return React.createElement("div",{style:_e.pointer},React.createElement("div",{style:_e.left},React.createElement("div",{style:_e.leftInside})),React.createElement("div",{style:_e.right},React.createElement("div",{style:_e.rightInside})))},PhotoshopButton=function et(_e){var tt=_e.onClick,rt=_e.label,nt=_e.children,st=_e.active,it=_default$2({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:st});return React.createElement("div",{style:it.button,onClick:tt},rt||nt)},PhotoshopPreviews=function et(_e){var tt=_e.rgb,rt=_e.currentColor,nt=_default$2({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+tt.r+","+tt.g+", "+tt.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:rt,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return React.createElement("div",null,React.createElement("div",{style:nt.label},"new"),React.createElement("div",{style:nt.swatches},React.createElement("div",{style:nt.new}),React.createElement("div",{style:nt.current})),React.createElement("div",{style:nt.label},"current"))},_createClass=function(){function et(_e,tt){for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(_e,nt.key,nt)}}return function(_e,tt,rt){return tt&&et(_e.prototype,tt),rt&&et(_e,rt),_e}}();function _classCallCheck(et,_e){if(!(et instanceof _e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(et,_e){if(!et)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e&&(typeof _e=="object"||typeof _e=="function")?_e:et}function _inherits(et,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _e);et.prototype=Object.create(_e&&_e.prototype,{constructor:{value:et,enumerable:!1,writable:!0,configurable:!0}}),_e&&(Object.setPrototypeOf?Object.setPrototypeOf(et,_e):et.__proto__=_e)}var Photoshop=function(et){_inherits(_e,et);function _e(tt){_classCallCheck(this,_e);var rt=_possibleConstructorReturn(this,(_e.__proto__||Object.getPrototypeOf(_e)).call(this));return rt.state={currentColor:tt.hex},rt}return _createClass(_e,[{key:"render",value:function(){var rt=this.props,nt=rt.styles,st=nt===void 0?{}:nt,it=rt.className,at=it===void 0?"":it,ot=_default$2(merge$1({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},st));return React.createElement("div",{style:ot.picker,className:"photoshop-picker "+at},React.createElement("div",{style:ot.head},this.props.header),React.createElement("div",{style:ot.body,className:"flexbox-fix"},React.createElement("div",{style:ot.saturation},React.createElement(Saturation,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:PhotoshopPointerCircle$1,onChange:this.props.onChange})),React.createElement("div",{style:ot.hue},React.createElement(Hue,{direction:"vertical",hsl:this.props.hsl,pointer:PhotoshopPointerCircle,onChange:this.props.onChange})),React.createElement("div",{style:ot.controls},React.createElement("div",{style:ot.top,className:"flexbox-fix"},React.createElement("div",{style:ot.previews},React.createElement(PhotoshopPreviews,{rgb:this.props.rgb,currentColor:this.state.currentColor})),React.createElement("div",{style:ot.actions},React.createElement(PhotoshopButton,{label:"OK",onClick:this.props.onAccept,active:!0}),React.createElement(PhotoshopButton,{label:"Cancel",onClick:this.props.onCancel}),React.createElement(PhotoshopPicker,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),_e}(React.Component);Photoshop.propTypes={header:PropTypes.string,styles:PropTypes.object};Photoshop.defaultProps={header:"Color Picker",styles:{}};ColorWrap(Photoshop);var SketchFields=function et(_e){var tt=_e.onChange,rt=_e.rgb,nt=_e.hsl,st=_e.hex,it=_e.disableAlpha,at=_default$2({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:it}),ot=function(ct,ut){ct.hex?isValidHex(ct.hex)&&tt({hex:ct.hex,source:"hex"},ut):ct.r||ct.g||ct.b?tt({r:ct.r||rt.r,g:ct.g||rt.g,b:ct.b||rt.b,a:rt.a,source:"rgb"},ut):ct.a&&(ct.a<0?ct.a=0:ct.a>100&&(ct.a=100),ct.a/=100,tt({h:nt.h,s:nt.s,l:nt.l,a:ct.a,source:"rgb"},ut))};return React.createElement("div",{style:at.fields,className:"flexbox-fix"},React.createElement("div",{style:at.double},React.createElement(EditableInput,{style:{input:at.input,label:at.label},label:"hex",value:st.replace("#",""),onChange:ot})),React.createElement("div",{style:at.single},React.createElement(EditableInput,{style:{input:at.input,label:at.label},label:"r",value:rt.r,onChange:ot,dragLabel:"true",dragMax:"255"})),React.createElement("div",{style:at.single},React.createElement(EditableInput,{style:{input:at.input,label:at.label},label:"g",value:rt.g,onChange:ot,dragLabel:"true",dragMax:"255"})),React.createElement("div",{style:at.single},React.createElement(EditableInput,{style:{input:at.input,label:at.label},label:"b",value:rt.b,onChange:ot,dragLabel:"true",dragMax:"255"})),React.createElement("div",{style:at.alpha},React.createElement(EditableInput,{style:{input:at.input,label:at.label},label:"a",value:Math.round(rt.a*100),onChange:ot,dragLabel:"true",dragMax:"100"})))},_extends$2=Object.assign||function(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(et[rt]=tt[rt])}return et},SketchPresetColors=function et(_e){var tt=_e.colors,rt=_e.onClick,nt=rt===void 0?function(){}:rt,st=_e.onSwatchHover,it=_default$2({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!tt||!tt.length}),at=function(lt,ct){nt({hex:lt,source:"hex"},ct)};return React.createElement("div",{style:it.colors,className:"flexbox-fix"},tt.map(function(ot){var lt=typeof ot=="string"?{color:ot}:ot,ct=""+lt.color+(lt.title||"");return React.createElement("div",{key:ct,style:it.swatchWrap},React.createElement(Swatch$1,_extends$2({},lt,{style:it.swatch,onClick:at,onHover:st,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+lt.color}})))}))};SketchPresetColors.propTypes={colors:PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string,PropTypes.shape({color:PropTypes.string,title:PropTypes.string})])).isRequired};var _extends$1=Object.assign||function(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(et[rt]=tt[rt])}return et},Sketch=function et(_e){var tt=_e.width,rt=_e.rgb,nt=_e.hex,st=_e.hsv,it=_e.hsl,at=_e.onChange,ot=_e.onSwatchHover,lt=_e.disableAlpha,ct=_e.presetColors,ut=_e.renderers,dt=_e.styles,ft=dt===void 0?{}:dt,ht=_e.className,pt=ht===void 0?"":ht,gt=_default$2(merge$1({default:_extends$1({picker:{width:tt,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+rt.r+","+rt.g+","+rt.b+","+rt.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},ft),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},ft),{disableAlpha:lt});return React.createElement("div",{style:gt.picker,className:"sketch-picker "+pt},React.createElement("div",{style:gt.saturation},React.createElement(Saturation,{style:gt.Saturation,hsl:it,hsv:st,onChange:at})),React.createElement("div",{style:gt.controls,className:"flexbox-fix"},React.createElement("div",{style:gt.sliders},React.createElement("div",{style:gt.hue},React.createElement(Hue,{style:gt.Hue,hsl:it,onChange:at})),React.createElement("div",{style:gt.alpha},React.createElement(Alpha,{style:gt.Alpha,rgb:rt,hsl:it,renderers:ut,onChange:at}))),React.createElement("div",{style:gt.color},React.createElement(Checkboard,null),React.createElement("div",{style:gt.activeColor}))),React.createElement(SketchFields,{rgb:rt,hsl:it,hex:nt,onChange:at,disableAlpha:lt}),React.createElement(SketchPresetColors,{colors:ct,onClick:at,onSwatchHover:ot}))};Sketch.propTypes={disableAlpha:PropTypes.bool,width:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),styles:PropTypes.object};Sketch.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};const SketchPicker=ColorWrap(Sketch);var SliderSwatch=function et(_e){var tt=_e.hsl,rt=_e.offset,nt=_e.onClick,st=nt===void 0?function(){}:nt,it=_e.active,at=_e.first,ot=_e.last,lt=_default$2({default:{swatch:{height:"12px",background:"hsl("+tt.h+", 50%, "+rt*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:it,first:at,last:ot}),ct=function(dt){return st({h:tt.h,s:.5,l:rt,source:"hsl"},dt)};return React.createElement("div",{style:lt.swatch,onClick:ct})},SliderSwatches=function et(_e){var tt=_e.onClick,rt=_e.hsl,nt=_default$2({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),st=.1;return React.createElement("div",{style:nt.swatches},React.createElement("div",{style:nt.swatch},React.createElement(SliderSwatch,{hsl:rt,offset:".80",active:Math.abs(rt.l-.8)<st&&Math.abs(rt.s-.5)<st,onClick:tt,first:!0})),React.createElement("div",{style:nt.swatch},React.createElement(SliderSwatch,{hsl:rt,offset:".65",active:Math.abs(rt.l-.65)<st&&Math.abs(rt.s-.5)<st,onClick:tt})),React.createElement("div",{style:nt.swatch},React.createElement(SliderSwatch,{hsl:rt,offset:".50",active:Math.abs(rt.l-.5)<st&&Math.abs(rt.s-.5)<st,onClick:tt})),React.createElement("div",{style:nt.swatch},React.createElement(SliderSwatch,{hsl:rt,offset:".35",active:Math.abs(rt.l-.35)<st&&Math.abs(rt.s-.5)<st,onClick:tt})),React.createElement("div",{style:nt.swatch},React.createElement(SliderSwatch,{hsl:rt,offset:".20",active:Math.abs(rt.l-.2)<st&&Math.abs(rt.s-.5)<st,onClick:tt,last:!0})),React.createElement("div",{style:nt.clear}))},SliderPointer=function et(){var _e=_default$2({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return React.createElement("div",{style:_e.picker})},Slider=function et(_e){var tt=_e.hsl,rt=_e.onChange,nt=_e.pointer,st=_e.styles,it=st===void 0?{}:st,at=_e.className,ot=at===void 0?"":at,lt=_default$2(merge$1({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},it));return React.createElement("div",{style:lt.wrap||{},className:"slider-picker "+ot},React.createElement("div",{style:lt.hue},React.createElement(Hue,{style:lt.Hue,hsl:tt,pointer:nt,onChange:rt})),React.createElement("div",{style:lt.swatches},React.createElement(SliderSwatches,{hsl:tt,onClick:rt})))};Slider.propTypes={styles:PropTypes.object};Slider.defaultProps={pointer:SliderPointer,styles:{}};ColorWrap(Slider);var CheckIcon={};Object.defineProperty(CheckIcon,"__esModule",{value:!0});var _extends=Object.assign||function(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(et[rt]=tt[rt])}return et},_react=reactExports,_react2=_interopRequireDefault(_react);function _interopRequireDefault(et){return et&&et.__esModule?et:{default:et}}function _objectWithoutProperties(et,_e){var tt={};for(var rt in et)_e.indexOf(rt)>=0||Object.prototype.hasOwnProperty.call(et,rt)&&(tt[rt]=et[rt]);return tt}var DEFAULT_SIZE=24,_default=CheckIcon.default=function(et){var _e=et.fill,tt=_e===void 0?"currentColor":_e,rt=et.width,nt=rt===void 0?DEFAULT_SIZE:rt,st=et.height,it=st===void 0?DEFAULT_SIZE:st,at=et.style,ot=at===void 0?{}:at,lt=_objectWithoutProperties(et,["fill","width","height","style"]);return _react2.default.createElement("svg",_extends({viewBox:"0 0 "+DEFAULT_SIZE+" "+DEFAULT_SIZE,style:_extends({fill:tt,width:nt,height:it},ot)},lt),_react2.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},SwatchesColor=function et(_e){var tt=_e.color,rt=_e.onClick,nt=rt===void 0?function(){}:rt,st=_e.onSwatchHover,it=_e.first,at=_e.last,ot=_e.active,lt=_default$2({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:tt,marginBottom:"1px"},check:{color:getContrastingColor(tt),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:it,last:at,active:ot,"color-#FFFFFF":tt==="#FFFFFF",transparent:tt==="transparent"});return React.createElement(Swatch$1,{color:tt,style:lt.color,onClick:nt,onHover:st,focusStyle:{boxShadow:"0 0 4px "+tt}},React.createElement("div",{style:lt.check},React.createElement(_default,null)))},SwatchesGroup=function et(_e){var tt=_e.onClick,rt=_e.onSwatchHover,nt=_e.group,st=_e.active,it=_default$2({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return React.createElement("div",{style:it.group},map(nt,function(at,ot){return React.createElement(SwatchesColor,{key:at,color:at,active:at.toLowerCase()===st,first:ot===0,last:ot===nt.length-1,onClick:tt,onSwatchHover:rt})}))},Swatches=function et(_e){var tt=_e.width,rt=_e.height,nt=_e.onChange,st=_e.onSwatchHover,it=_e.colors,at=_e.hex,ot=_e.styles,lt=ot===void 0?{}:ot,ct=_e.className,ut=ct===void 0?"":ct,dt=_default$2(merge$1({default:{picker:{width:tt,height:rt},overflow:{height:rt,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},lt)),ft=function(pt,gt){return nt({hex:pt,source:"hex"},gt)};return React.createElement("div",{style:dt.picker,className:"swatches-picker "+ut},React.createElement(Raised,null,React.createElement("div",{style:dt.overflow},React.createElement("div",{style:dt.body},map(it,function(ht){return React.createElement(SwatchesGroup,{key:ht.toString(),group:ht,active:at,onClick:ft,onSwatchHover:st})}),React.createElement("div",{style:dt.clear})))))};Swatches.propTypes={width:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),height:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),colors:PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.string)),styles:PropTypes.object};Swatches.defaultProps={width:320,height:240,colors:[[red[900],red[700],red[500],red[300],red[100]],[pink[900],pink[700],pink[500],pink[300],pink[100]],[purple[900],purple[700],purple[500],purple[300],purple[100]],[deepPurple[900],deepPurple[700],deepPurple[500],deepPurple[300],deepPurple[100]],[indigo[900],indigo[700],indigo[500],indigo[300],indigo[100]],[blue[900],blue[700],blue[500],blue[300],blue[100]],[lightBlue[900],lightBlue[700],lightBlue[500],lightBlue[300],lightBlue[100]],[cyan[900],cyan[700],cyan[500],cyan[300],cyan[100]],[teal[900],teal[700],teal[500],teal[300],teal[100]],["#194D33",green[700],green[500],green[300],green[100]],[lightGreen[900],lightGreen[700],lightGreen[500],lightGreen[300],lightGreen[100]],[lime[900],lime[700],lime[500],lime[300],lime[100]],[yellow[900],yellow[700],yellow[500],yellow[300],yellow[100]],[amber[900],amber[700],amber[500],amber[300],amber[100]],[orange[900],orange[700],orange[500],orange[300],orange[100]],[deepOrange[900],deepOrange[700],deepOrange[500],deepOrange[300],deepOrange[100]],[brown[900],brown[700],brown[500],brown[300],brown[100]],[blueGrey[900],blueGrey[700],blueGrey[500],blueGrey[300],blueGrey[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};ColorWrap(Swatches);var Twitter=function et(_e){var tt=_e.onChange,rt=_e.onSwatchHover,nt=_e.hex,st=_e.colors,it=_e.width,at=_e.triangle,ot=_e.styles,lt=ot===void 0?{}:ot,ct=_e.className,ut=ct===void 0?"":ct,dt=_default$2(merge$1({default:{card:{width:it,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},lt),{"hide-triangle":at==="hide","top-left-triangle":at==="top-left","top-right-triangle":at==="top-right"}),ft=function(pt,gt){isValidHex(pt)&&tt({hex:pt,source:"hex"},gt)};return React.createElement("div",{style:dt.card,className:"twitter-picker "+ut},React.createElement("div",{style:dt.triangleShadow}),React.createElement("div",{style:dt.triangle}),React.createElement("div",{style:dt.body},map(st,function(ht,pt){return React.createElement(Swatch$1,{key:pt,color:ht,hex:ht,style:dt.swatch,onClick:ft,onHover:rt,focusStyle:{boxShadow:"0 0 4px "+ht}})}),React.createElement("div",{style:dt.hash},"#"),React.createElement(EditableInput,{label:null,style:{input:dt.input},value:nt.replace("#",""),onChange:ft}),React.createElement("div",{style:dt.clear})))};Twitter.propTypes={width:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),triangle:PropTypes.oneOf(["hide","top-left","top-right"]),colors:PropTypes.arrayOf(PropTypes.string),styles:PropTypes.object};Twitter.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};ColorWrap(Twitter);var GooglePointerCircle=function et(_e){var tt=_default$2({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(_e.hsl.h)+", "+Math.round(_e.hsl.s*100)+"%, "+Math.round(_e.hsl.l*100)+"%)"}}});return React.createElement("div",{style:tt.picker})};GooglePointerCircle.propTypes={hsl:PropTypes.shape({h:PropTypes.number,s:PropTypes.number,l:PropTypes.number,a:PropTypes.number})};GooglePointerCircle.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var GooglePointer=function et(_e){var tt=_default$2({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(_e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return React.createElement("div",{style:tt.picker})};GooglePointer.propTypes={hsl:PropTypes.shape({h:PropTypes.number,s:PropTypes.number,l:PropTypes.number,a:PropTypes.number})};GooglePointer.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var GoogleFields=function et(_e){var tt=_e.onChange,rt=_e.rgb,nt=_e.hsl,st=_e.hex,it=_e.hsv,at=function(ft,ht){if(ft.hex)isValidHex(ft.hex)&&tt({hex:ft.hex,source:"hex"},ht);else if(ft.rgb){var pt=ft.rgb.split(",");isvalidColorString(ft.rgb,"rgb")&&tt({r:pt[0],g:pt[1],b:pt[2],a:1,source:"rgb"},ht)}else if(ft.hsv){var gt=ft.hsv.split(",");isvalidColorString(ft.hsv,"hsv")&&(gt[2]=gt[2].replace("%",""),gt[1]=gt[1].replace("%",""),gt[0]=gt[0].replace("",""),gt[1]==1?gt[1]=.01:gt[2]==1&&(gt[2]=.01),tt({h:Number(gt[0]),s:Number(gt[1]),v:Number(gt[2]),source:"hsv"},ht))}else if(ft.hsl){var mt=ft.hsl.split(",");isvalidColorString(ft.hsl,"hsl")&&(mt[2]=mt[2].replace("%",""),mt[1]=mt[1].replace("%",""),mt[0]=mt[0].replace("",""),ut[1]==1?ut[1]=.01:ut[2]==1&&(ut[2]=.01),tt({h:Number(mt[0]),s:Number(mt[1]),v:Number(mt[2]),source:"hsl"},ht))}},ot=_default$2({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),lt=rt.r+", "+rt.g+", "+rt.b,ct=Math.round(nt.h)+", "+Math.round(nt.s*100)+"%, "+Math.round(nt.l*100)+"%",ut=Math.round(it.h)+", "+Math.round(it.s*100)+"%, "+Math.round(it.v*100)+"%";return React.createElement("div",{style:ot.wrap,className:"flexbox-fix"},React.createElement("div",{style:ot.fields},React.createElement("div",{style:ot.double},React.createElement(EditableInput,{style:{input:ot.input,label:ot.label},label:"hex",value:st,onChange:at})),React.createElement("div",{style:ot.column},React.createElement("div",{style:ot.single},React.createElement(EditableInput,{style:{input:ot.input2,label:ot.label2},label:"rgb",value:lt,onChange:at})),React.createElement("div",{style:ot.single},React.createElement(EditableInput,{style:{input:ot.input2,label:ot.label2},label:"hsv",value:ut,onChange:at})),React.createElement("div",{style:ot.single},React.createElement(EditableInput,{style:{input:ot.input2,label:ot.label2},label:"hsl",value:ct,onChange:at})))))},Google=function et(_e){var tt=_e.width,rt=_e.onChange,nt=_e.rgb,st=_e.hsl,it=_e.hsv,at=_e.hex,ot=_e.header,lt=_e.styles,ct=lt===void 0?{}:lt,ut=_e.className,dt=ut===void 0?"":ut,ft=_default$2(merge$1({default:{picker:{width:tt,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+nt.r+", "+nt.g+", "+nt.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},ct));return React.createElement("div",{style:ft.picker,className:"google-picker "+dt},React.createElement("div",{style:ft.head},ot),React.createElement("div",{style:ft.swatch}),React.createElement("div",{style:ft.saturation},React.createElement(Saturation,{hsl:st,hsv:it,pointer:GooglePointerCircle,onChange:rt})),React.createElement("div",{style:ft.body},React.createElement("div",{style:ft.controls,className:"flexbox-fix"},React.createElement("div",{style:ft.hue},React.createElement(Hue,{style:ft.Hue,hsl:st,radius:"4px",pointer:GooglePointer,onChange:rt}))),React.createElement(GoogleFields,{rgb:nt,hsl:st,hex:at,hsv:it,onChange:rt})))};Google.propTypes={width:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),styles:PropTypes.object,header:PropTypes.string};Google.defaultProps={width:652,styles:{},header:"Color picker"};ColorWrap(Google);function createContext2(et={}){const{strict:_e=!0,errorMessage:tt="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:rt}=et,nt=reactExports.createContext(void 0);nt.displayName=rt;function st(){var it;const at=reactExports.useContext(nt);if(!at&&_e){const ot=new Error(tt);throw ot.name="ContextError",(it=Error.captureStackTrace)==null||it.call(Error,ot,st),ot}return at}return[nt.Provider,st,nt]}function useDOMRef(et){const _e=reactExports.useRef(null);return reactExports.useImperativeHandle(et,()=>_e.current),_e}function isFunction(et){return typeof et=="function"}var dataAttr=et=>et?"true":void 0;function toVal(et){var _e,tt,rt="";if(typeof et=="string"||typeof et=="number")rt+=et;else if(typeof et=="object")if(Array.isArray(et))for(_e=0;_e<et.length;_e++)et[_e]&&(tt=toVal(et[_e]))&&(rt&&(rt+=" "),rt+=tt);else for(_e in et)et[_e]&&(rt&&(rt+=" "),rt+=_e);return rt}function clsx(...et){for(var _e=0,tt,rt,nt="";_e<et.length;)(tt=et[_e++])&&(rt=toVal(tt))&&(nt&&(nt+=" "),nt+=rt);return nt}var warningStack={};function warn(et,_e,...tt){const nt=`[Next UI]${_e?` [${_e}]`:" "}: ${et}`;typeof console>"u"||warningStack[nt]||(warningStack[nt]=!0)}var __create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__commonJS=(et,_e)=>function(){return _e||(0,et[__getOwnPropNames(et)[0]])((_e={exports:{}}).exports,_e),_e.exports},__copyProps=(et,_e,tt,rt)=>{if(_e&&typeof _e=="object"||typeof _e=="function")for(let nt of __getOwnPropNames(_e))!__hasOwnProp.call(et,nt)&&nt!==tt&&__defProp(et,nt,{get:()=>_e[nt],enumerable:!(rt=__getOwnPropDesc(_e,nt))||rt.enumerable});return et},__toESM=(et,_e,tt)=>(tt=et!=null?__create(__getProtoOf(et)):{},__copyProps(_e||!et||!et.__esModule?__defProp(tt,"default",{value:et,enumerable:!0}):tt,et)),require_react_production_min=__commonJS({"../../../node_modules/.pnpm/react@18.2.0/node_modules/react/cjs/react.production.min.js"(et){var _e=Symbol.for("react.element"),tt=Symbol.for("react.portal"),rt=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),st=Symbol.for("react.profiler"),it=Symbol.for("react.provider"),at=Symbol.for("react.context"),ot=Symbol.for("react.forward_ref"),lt=Symbol.for("react.suspense"),ct=Symbol.for("react.memo"),ut=Symbol.for("react.lazy"),dt=Symbol.iterator;function ft(_t){return _t===null||typeof _t!="object"?null:(_t=dt&&_t[dt]||_t["@@iterator"],typeof _t=="function"?_t:null)}var ht={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pt=Object.assign,gt={};function mt(_t,It,Wt){this.props=_t,this.context=It,this.refs=gt,this.updater=Wt||ht}mt.prototype.isReactComponent={},mt.prototype.setState=function(_t,It){if(typeof _t!="object"&&typeof _t!="function"&&_t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_t,It,"setState")},mt.prototype.forceUpdate=function(_t){this.updater.enqueueForceUpdate(this,_t,"forceUpdate")};function bt(){}bt.prototype=mt.prototype;function vt(_t,It,Wt){this.props=_t,this.context=It,this.refs=gt,this.updater=Wt||ht}var yt=vt.prototype=new bt;yt.constructor=vt,pt(yt,mt.prototype),yt.isPureReactComponent=!0;var xt=Array.isArray,Et=Object.prototype.hasOwnProperty,wt={current:null},$t={key:!0,ref:!0,__self:!0,__source:!0};function Tt(_t,It,Wt){var Kt,Bt={},Qt=null,Nt=null;if(It!=null)for(Kt in It.ref!==void 0&&(Nt=It.ref),It.key!==void 0&&(Qt=""+It.key),It)Et.call(It,Kt)&&!$t.hasOwnProperty(Kt)&&(Bt[Kt]=It[Kt]);var Xt=arguments.length-2;if(Xt===1)Bt.children=Wt;else if(1<Xt){for(var Zt=Array(Xt),Yt=0;Yt<Xt;Yt++)Zt[Yt]=arguments[Yt+2];Bt.children=Zt}if(_t&&_t.defaultProps)for(Kt in Xt=_t.defaultProps,Xt)Bt[Kt]===void 0&&(Bt[Kt]=Xt[Kt]);return{$$typeof:_e,type:_t,key:Qt,ref:Nt,props:Bt,_owner:wt.current}}function St(_t,It){return{$$typeof:_e,type:_t.type,key:It,ref:_t.ref,props:_t.props,_owner:_t._owner}}function Pt(_t){return typeof _t=="object"&&_t!==null&&_t.$$typeof===_e}function At(_t){var It={"=":"=0",":":"=2"};return"$"+_t.replace(/[=:]/g,function(Wt){return It[Wt]})}var Rt=/\/+/g;function Ct(_t,It){return typeof _t=="object"&&_t!==null&&_t.key!=null?At(""+_t.key):It.toString(36)}function Dt(_t,It,Wt,Kt,Bt){var Qt=typeof _t;(Qt==="undefined"||Qt==="boolean")&&(_t=null);var Nt=!1;if(_t===null)Nt=!0;else switch(Qt){case"string":case"number":Nt=!0;break;case"object":switch(_t.$$typeof){case _e:case tt:Nt=!0}}if(Nt)return Nt=_t,Bt=Bt(Nt),_t=Kt===""?"."+Ct(Nt,0):Kt,xt(Bt)?(Wt="",_t!=null&&(Wt=_t.replace(Rt,"$&/")+"/"),Dt(Bt,It,Wt,"",function(Yt){return Yt})):Bt!=null&&(Pt(Bt)&&(Bt=St(Bt,Wt+(!Bt.key||Nt&&Nt.key===Bt.key?"":(""+Bt.key).replace(Rt,"$&/")+"/")+_t)),It.push(Bt)),1;if(Nt=0,Kt=Kt===""?".":Kt+":",xt(_t))for(var Xt=0;Xt<_t.length;Xt++){Qt=_t[Xt];var Zt=Kt+Ct(Qt,Xt);Nt+=Dt(Qt,It,Wt,Zt,Bt)}else if(Zt=ft(_t),typeof Zt=="function")for(_t=Zt.call(_t),Xt=0;!(Qt=_t.next()).done;)Qt=Qt.value,Zt=Kt+Ct(Qt,Xt++),Nt+=Dt(Qt,It,Wt,Zt,Bt);else if(Qt==="object")throw It=String(_t),Error("Objects are not valid as a React child (found: "+(It==="[object Object]"?"object with keys {"+Object.keys(_t).join(", ")+"}":It)+"). If you meant to render a collection of children, use an array instead.");return Nt}function Ft(_t,It,Wt){if(_t==null)return _t;var Kt=[],Bt=0;return Dt(_t,Kt,"","",function(Qt){return It.call(Wt,Qt,Bt++)}),Kt}function Mt(_t){if(_t._status===-1){var It=_t._result;It=It(),It.then(function(Wt){(_t._status===0||_t._status===-1)&&(_t._status=1,_t._result=Wt)},function(Wt){(_t._status===0||_t._status===-1)&&(_t._status=2,_t._result=Wt)}),_t._status===-1&&(_t._status=0,_t._result=It)}if(_t._status===1)return _t._result.default;throw _t._result}var Ot={current:null},jt={transition:null},Ut={ReactCurrentDispatcher:Ot,ReactCurrentBatchConfig:jt,ReactCurrentOwner:wt};et.Children={map:Ft,forEach:function(_t,It,Wt){Ft(_t,function(){It.apply(this,arguments)},Wt)},count:function(_t){var It=0;return Ft(_t,function(){It++}),It},toArray:function(_t){return Ft(_t,function(It){return It})||[]},only:function(_t){if(!Pt(_t))throw Error("React.Children.only expected to receive a single React element child.");return _t}},et.Component=mt,et.Fragment=rt,et.Profiler=st,et.PureComponent=vt,et.StrictMode=nt,et.Suspense=lt,et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ut,et.cloneElement=function(_t,It,Wt){if(_t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_t+".");var Kt=pt({},_t.props),Bt=_t.key,Qt=_t.ref,Nt=_t._owner;if(It!=null){if(It.ref!==void 0&&(Qt=It.ref,Nt=wt.current),It.key!==void 0&&(Bt=""+It.key),_t.type&&_t.type.defaultProps)var Xt=_t.type.defaultProps;for(Zt in It)Et.call(It,Zt)&&!$t.hasOwnProperty(Zt)&&(Kt[Zt]=It[Zt]===void 0&&Xt!==void 0?Xt[Zt]:It[Zt])}var Zt=arguments.length-2;if(Zt===1)Kt.children=Wt;else if(1<Zt){Xt=Array(Zt);for(var Yt=0;Yt<Zt;Yt++)Xt[Yt]=arguments[Yt+2];Kt.children=Xt}return{$$typeof:_e,type:_t.type,key:Bt,ref:Qt,props:Kt,_owner:Nt}},et.createContext=function(_t){return _t={$$typeof:at,_currentValue:_t,_currentValue2:_t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_t.Provider={$$typeof:it,_context:_t},_t.Consumer=_t},et.createElement=Tt,et.createFactory=function(_t){var It=Tt.bind(null,_t);return It.type=_t,It},et.createRef=function(){return{current:null}},et.forwardRef=function(_t){return{$$typeof:ot,render:_t}},et.isValidElement=Pt,et.lazy=function(_t){return{$$typeof:ut,_payload:{_status:-1,_result:_t},_init:Mt}},et.memo=function(_t,It){return{$$typeof:ct,type:_t,compare:It===void 0?null:It}},et.startTransition=function(_t){var It=jt.transition;jt.transition={};try{_t()}finally{jt.transition=It}},et.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},et.useCallback=function(_t,It){return Ot.current.useCallback(_t,It)},et.useContext=function(_t){return Ot.current.useContext(_t)},et.useDebugValue=function(){},et.useDeferredValue=function(_t){return Ot.current.useDeferredValue(_t)},et.useEffect=function(_t,It){return Ot.current.useEffect(_t,It)},et.useId=function(){return Ot.current.useId()},et.useImperativeHandle=function(_t,It,Wt){return Ot.current.useImperativeHandle(_t,It,Wt)},et.useInsertionEffect=function(_t,It){return Ot.current.useInsertionEffect(_t,It)},et.useLayoutEffect=function(_t,It){return Ot.current.useLayoutEffect(_t,It)},et.useMemo=function(_t,It){return Ot.current.useMemo(_t,It)},et.useReducer=function(_t,It,Wt){return Ot.current.useReducer(_t,It,Wt)},et.useRef=function(_t){return Ot.current.useRef(_t)},et.useState=function(_t){return Ot.current.useState(_t)},et.useSyncExternalStore=function(_t,It,Wt){return Ot.current.useSyncExternalStore(_t,It,Wt)},et.useTransition=function(){return Ot.current.useTransition()},et.version="18.2.0"}}),require_react=__commonJS({"../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"(et,_e){_e.exports=require_react_production_min()}}),import_react=__toESM(require_react());function callAllHandlers(...et){return function(tt){et.some(rt=>(rt==null||rt(tt),tt==null?void 0:tt.defaultPrevented))}}function getUniqueID(et){return`${et}-${Math.floor(Math.random()*1e6)}`}function objectToDeps(et){if(!et||typeof et!="object")return"";try{return JSON.stringify(et)}catch{return""}}var isReact19=()=>import_react.default.version.split(".")[0]==="19",getInertValue=et=>isReact19()?et:et?"":void 0;/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *//**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function clamp(et,_e,tt){return Math.min(Math.max(et,_e),tt)}function clampPercentage(et,_e=100){return Math.min(Math.max(et,0),_e)}function assignRef(et,_e){if(et!=null){if(isFunction(et)){et(_e);return}try{et.current=_e}catch{throw new Error(`Cannot assign value '${_e}' to ref '${et}'`)}}}function mergeRefs(...et){return _e=>{et.forEach(tt=>assignRef(tt,_e))}}var DOMPropNames=new Set(["id","type","style","title","role","tabIndex","htmlFor","width","height","abbr","accept","acceptCharset","accessKey","action","allowFullScreen","allowTransparency","alt","async","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","challenge","charset","checked","cite","class","className","cols","colSpan","command","content","contentEditable","contextMenu","controls","coords","crossOrigin","data","dateTime","default","defer","dir","disabled","download","draggable","dropzone","encType","enterKeyHint","for","form","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","headers","hidden","high","href","hrefLang","httpEquiv","icon","inputMode","isMap","itemId","itemProp","itemRef","itemScope","itemType","kind","label","lang","list","loop","manifest","max","maxLength","media","mediaGroup","method","min","minLength","multiple","muted","name","noValidate","open","optimum","pattern","ping","placeholder","poster","preload","radioGroup","referrerPolicy","readOnly","rel","required","rows","rowSpan","sandbox","scope","scoped","scrolling","seamless","selected","shape","size","sizes","slot","sortable","span","spellCheck","src","srcDoc","srcSet","start","step","target","translate","typeMustMatch","useMap","value","wmode","wrap"]),DOMEventNames=new Set(["onCopy","onCut","onPaste","onLoad","onError","onWheel","onScroll","onCompositionEnd","onCompositionStart","onCompositionUpdate","onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onSubmit","onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onPointerDown","onPointerEnter","onPointerLeave","onPointerUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onAnimationStart","onAnimationEnd","onAnimationIteration","onTransitionEnd"]),propRe=/^(data-.*)$/,ariaRe=/^(aria-.*)$/,funcRe=/^(on[A-Z].*)$/;function filterDOMProps(et,_e={}){let{labelable:tt=!0,enabled:rt=!0,propNames:nt,omitPropNames:st,omitEventNames:it,omitDataProps:at,omitEventProps:ot}=_e,lt={};if(!rt)return et;for(const ct in et)st!=null&&st.has(ct)||it!=null&&it.has(ct)&&funcRe.test(ct)||funcRe.test(ct)&&!DOMEventNames.has(ct)||at&&propRe.test(ct)||ot&&funcRe.test(ct)||(Object.prototype.hasOwnProperty.call(et,ct)&&(DOMPropNames.has(ct)||tt&&ariaRe.test(ct)||nt!=null&&nt.has(ct)||propRe.test(ct))||funcRe.test(ct))&&(lt[ct]=et[ct]);return lt}var[ProviderContext,useProviderContext]=createContext2({name:"ProviderContext",strict:!1});function forwardRef(et){return reactExports.forwardRef(et)}var mapPropsVariants=(et,_e,tt=!0)=>{if(!_e)return[et,{}];const rt=_e.reduce((nt,st)=>st in et?{...nt,[st]:et[st]}:nt,{});return tt?[Object.keys(et).filter(st=>!_e.includes(st)).reduce((st,it)=>({...st,[it]:et[it]}),{}),rt]:[et,rt]},COMMON_UNITS=["small","medium","large"],twMergeConfig={theme:{opacity:["disabled"],spacing:["divider"],borderWidth:COMMON_UNITS,borderRadius:COMMON_UNITS},classGroups:{shadow:[{shadow:COMMON_UNITS}],"font-size":[{text:["tiny",...COMMON_UNITS]}],"bg-image":["bg-stripe-gradient-default","bg-stripe-gradient-primary","bg-stripe-gradient-secondary","bg-stripe-gradient-success","bg-stripe-gradient-warning","bg-stripe-gradient-danger"]}},tv=(et,_e)=>{var tt,rt,nt;return ie(et,{..._e,twMerge:(tt=_e==null?void 0:_e.twMerge)!=null?tt:!0,twMergeConfig:{..._e==null?void 0:_e.twMergeConfig,theme:{...(rt=_e==null?void 0:_e.twMergeConfig)==null?void 0:rt.theme,...twMergeConfig.theme},classGroups:{...(nt=_e==null?void 0:_e.twMergeConfig)==null?void 0:nt.classGroups,...twMergeConfig.classGroups}}})},dataFocusVisibleClasses=["outline-none","data-[focus-visible=true]:z-10","data-[focus-visible=true]:outline-2","data-[focus-visible=true]:outline-focus","data-[focus-visible=true]:outline-offset-2"],solid={default:"bg-default text-default-foreground",primary:"bg-primary text-primary-foreground",secondary:"bg-secondary text-secondary-foreground",success:"bg-success text-success-foreground",warning:"bg-warning text-warning-foreground",danger:"bg-danger text-danger-foreground",foreground:"bg-foreground text-background"},shadow={default:"shadow-lg shadow-default/50 bg-default text-default-foreground",primary:"shadow-lg shadow-primary/40 bg-primary text-primary-foreground",secondary:"shadow-lg shadow-secondary/40 bg-secondary text-secondary-foreground",success:"shadow-lg shadow-success/40 bg-success text-success-foreground",warning:"shadow-lg shadow-warning/40 bg-warning text-warning-foreground",danger:"shadow-lg shadow-danger/40 bg-danger text-danger-foreground",foreground:"shadow-lg shadow-foreground/40 bg-foreground text-background"},bordered={default:"bg-transparent border-default text-foreground",primary:"bg-transparent border-primary text-primary",secondary:"bg-transparent border-secondary text-secondary",success:"bg-transparent border-success text-success",warning:"bg-transparent border-warning text-warning",danger:"bg-transparent border-danger text-danger",foreground:"bg-transparent border-foreground text-foreground"},flat={default:"bg-default/40 text-default-700",primary:"bg-primary/20 text-primary-600",secondary:"bg-secondary/20 text-secondary-600",success:"bg-success/20 text-success-700 dark:text-success",warning:"bg-warning/20 text-warning-700 dark:text-warning",danger:"bg-danger/20 text-danger-600 dark:text-danger-500",foreground:"bg-foreground/10 text-foreground"},faded={default:"border-default bg-default-100 text-default-foreground",primary:"border-default bg-default-100 text-primary",secondary:"border-default bg-default-100 text-secondary",success:"border-default bg-default-100 text-success",warning:"border-default bg-default-100 text-warning",danger:"border-default bg-default-100 text-danger",foreground:"border-default bg-default-100 text-foreground"},light={default:"bg-transparent text-default-foreground",primary:"bg-transparent text-primary",secondary:"bg-transparent text-secondary",success:"bg-transparent text-success",warning:"bg-transparent text-warning",danger:"bg-transparent text-danger",foreground:"bg-transparent text-foreground"},ghost={default:"border-default text-default-foreground",primary:"border-primary text-primary",secondary:"border-secondary text-secondary",success:"border-success text-success",warning:"border-warning text-warning",danger:"border-danger text-danger",foreground:"border-foreground text-foreground hover:!bg-foreground"},colorVariants={solid,shadow,bordered,flat,faded,light,ghost},tabs=tv({slots:{base:"inline-flex",tabList:["flex","p-1","h-fit","gap-2","items-center","flex-nowrap","overflow-x-scroll","scrollbar-hide","bg-default-100"],tab:["z-0","w-full","px-3","py-1","flex","group","relative","justify-center","items-center","outline-none","cursor-pointer","transition-opacity","tap-highlight-transparent","data-[disabled=true]:cursor-not-allowed","data-[disabled=true]:opacity-30","data-[hover-unselected=true]:opacity-disabled",...dataFocusVisibleClasses],tabContent:["relative","z-10","text-inherit","whitespace-nowrap","transition-colors","text-default-500","group-data-[selected=true]:text-foreground"],cursor:["absolute","z-0","bg-white"],panel:["py-3","px-1","outline-none","data-[inert=true]:hidden",...dataFocusVisibleClasses],wrapper:[]},variants:{variant:{solid:{cursor:"inset-0"},light:{tabList:"bg-transparent dark:bg-transparent",cursor:"inset-0"},underlined:{tabList:"bg-transparent dark:bg-transparent",cursor:"h-[2px] w-[80%] bottom-0 shadow-[0_1px_0px_0_rgba(0,0,0,0.05)]"},bordered:{tabList:"bg-transparent dark:bg-transparent border-medium border-default-200 shadow-sm",cursor:"inset-0"}},color:{default:{},primary:{},secondary:{},success:{},warning:{},danger:{}},size:{sm:{tabList:"rounded-medium",tab:"h-7 text-tiny rounded-small",cursor:"rounded-small"},md:{tabList:"rounded-medium",tab:"h-8 text-small rounded-small",cursor:"rounded-small"},lg:{tabList:"rounded-large",tab:"h-9 text-medium rounded-medium",cursor:"rounded-medium"}},radius:{none:{tabList:"rounded-none",tab:"rounded-none",cursor:"rounded-none"},sm:{tabList:"rounded-medium",tab:"rounded-small",cursor:"rounded-small"},md:{tabList:"rounded-medium",tab:"rounded-small",cursor:"rounded-small"},lg:{tabList:"rounded-large",tab:"rounded-medium",cursor:"rounded-medium"},full:{tabList:"rounded-full",tab:"rounded-full",cursor:"rounded-full"}},fullWidth:{true:{base:"w-full",tabList:"w-full"}},isDisabled:{true:{tabList:"opacity-disabled pointer-events-none"}},disableAnimation:{true:{tab:"transition-none",tabContent:"transition-none"}},placement:{top:{},start:{tabList:"flex-col",panel:"py-0 px-3",wrapper:"flex"},end:{tabList:"flex-col",panel:"py-0 px-3",wrapper:"flex flex-row-reverse"},bottom:{wrapper:"flex flex-col-reverse"}}},defaultVariants:{color:"default",variant:"solid",size:"md",fullWidth:!1,isDisabled:!1},compoundVariants:[{variant:["solid","bordered","light"],color:"default",class:{cursor:["bg-background","dark:bg-default","shadow-small"],tabContent:"group-data-[selected=true]:text-default-foreground"}},{variant:["solid","bordered","light"],color:"primary",class:{cursor:colorVariants.solid.primary,tabContent:"group-data-[selected=true]:text-primary-foreground"}},{variant:["solid","bordered","light"],color:"secondary",class:{cursor:colorVariants.solid.secondary,tabContent:"group-data-[selected=true]:text-secondary-foreground"}},{variant:["solid","bordered","light"],color:"success",class:{cursor:colorVariants.solid.success,tabContent:"group-data-[selected=true]:text-success-foreground"}},{variant:["solid","bordered","light"],color:"warning",class:{cursor:colorVariants.solid.warning,tabContent:"group-data-[selected=true]:text-warning-foreground"}},{variant:["solid","bordered","light"],color:"danger",class:{cursor:colorVariants.solid.danger,tabContent:"group-data-[selected=true]:text-danger-foreground"}},{variant:"underlined",color:"default",class:{cursor:"bg-foreground",tabContent:"group-data-[selected=true]:text-foreground"}},{variant:"underlined",color:"primary",class:{cursor:"bg-primary",tabContent:"group-data-[selected=true]:text-primary"}},{variant:"underlined",color:"secondary",class:{cursor:"bg-secondary",tabContent:"group-data-[selected=true]:text-secondary"}},{variant:"underlined",color:"success",class:{cursor:"bg-success",tabContent:"group-data-[selected=true]:text-success"}},{variant:"underlined",color:"warning",class:{cursor:"bg-warning",tabContent:"group-data-[selected=true]:text-warning"}},{variant:"underlined",color:"danger",class:{cursor:"bg-danger",tabContent:"group-data-[selected=true]:text-danger"}},{disableAnimation:!0,variant:"underlined",class:{tab:["after:content-['']","after:absolute","after:bottom-0","after:h-[2px]","after:w-[80%]","after:opacity-0","after:shadow-[0_1px_0px_0_rgba(0,0,0,0.05)]","data-[selected=true]:after:opacity-100"]}},{disableAnimation:!0,color:"default",variant:["solid","bordered","light"],class:{tab:"data-[selected=true]:bg-default data-[selected=true]:text-default-foreground"}},{disableAnimation:!0,color:"primary",variant:["solid","bordered","light"],class:{tab:"data-[selected=true]:bg-primary data-[selected=true]:text-primary-foreground"}},{disableAnimation:!0,color:"secondary",variant:["solid","bordered","light"],class:{tab:"data-[selected=true]:bg-secondary data-[selected=true]:text-secondary-foreground"}},{disableAnimation:!0,color:"success",variant:["solid","bordered","light"],class:{tab:"data-[selected=true]:bg-success data-[selected=true]:text-success-foreground"}},{disableAnimation:!0,color:"warning",variant:["solid","bordered","light"],class:{tab:"data-[selected=true]:bg-warning data-[selected=true]:text-warning-foreground"}},{disableAnimation:!0,color:"danger",variant:["solid","bordered","light"],class:{tab:"data-[selected=true]:bg-danger data-[selected=true]:text-danger-foreground"}},{disableAnimation:!0,color:"default",variant:"underlined",class:{tab:"data-[selected=true]:after:bg-foreground"}},{disableAnimation:!0,color:"primary",variant:"underlined",class:{tab:"data-[selected=true]:after:bg-primary"}},{disableAnimation:!0,color:"secondary",variant:"underlined",class:{tab:"data-[selected=true]:after:bg-secondary"}},{disableAnimation:!0,color:"success",variant:"underlined",class:{tab:"data-[selected=true]:after:bg-success"}},{disableAnimation:!0,color:"warning",variant:"underlined",class:{tab:"data-[selected=true]:after:bg-warning"}},{disableAnimation:!0,color:"danger",variant:"underlined",class:{tab:"data-[selected=true]:after:bg-danger"}}],compoundSlots:[{variant:"underlined",slots:["tab","tabList","cursor"],class:["rounded-none"]}]});tv({slots:{base:"flex flex-col gap-2 w-full",label:"",labelWrapper:"flex justify-between",value:"",track:"z-0 relative bg-default-300/50 overflow-hidden",indicator:"h-full"},variants:{color:{default:{indicator:"bg-default-400"},primary:{indicator:"bg-primary"},secondary:{indicator:"bg-secondary"},success:{indicator:"bg-success"},warning:{indicator:"bg-warning"},danger:{indicator:"bg-danger"}},size:{sm:{label:"text-small",value:"text-small",track:"h-1"},md:{label:"text-medium",value:"text-medium",track:"h-3"},lg:{label:"text-large",value:"text-large",track:"h-5"}},radius:{none:{track:"rounded-none",indicator:"rounded-none"},sm:{track:"rounded-small",indicator:"rounded-small"},md:{track:"rounded-medium",indicator:"rounded-medium"},lg:{track:"rounded-large",indicator:"rounded-large"},full:{track:"rounded-full",indicator:"rounded-full"}},isStriped:{true:{indicator:"bg-stripe-gradient-default bg-stripe-size"}},isIndeterminate:{true:{indicator:["absolute","w-full","origin-left","animate-indeterminate-bar"]}},isDisabled:{true:{base:"opacity-disabled cursor-not-allowed"}},disableAnimation:{true:{},false:{indicator:"transition-transform !duration-500"}}},defaultVariants:{color:"primary",size:"md",radius:"full",isStriped:!1,isIndeterminate:!1,isDisabled:!1},compoundVariants:[{disableAnimation:!0,isIndeterminate:!1,class:{indicator:"!transition-none motion-reduce:transition-none"}},{color:"primary",isStriped:!0,class:{indicator:"bg-stripe-gradient-primary bg-stripe-size"}},{color:"secondary",isStriped:!0,class:{indicator:"bg-stripe-gradient-secondary bg-stripe-size"}},{color:"success",isStriped:!0,class:{indicator:"bg-stripe-gradient-success bg-stripe-size"}},{color:"warning",isStriped:!0,class:{indicator:"bg-stripe-gradient-warning bg-stripe-size"}},{color:"danger",isStriped:!0,class:{indicator:"bg-stripe-gradient-danger bg-stripe-size"}}]},{twMerge:!0});var circularProgress=tv({slots:{base:"flex flex-col justify-center gap-1 max-w-fit items-center",label:"",svgWrapper:"relative block",svg:"z-0 relative overflow-hidden",track:"h-full stroke-default-300/50",indicator:"h-full stroke-current",value:"absolute font-normal inset-0 flex items-center justify-center"},variants:{color:{default:{svg:"text-default-400"},primary:{svg:"text-primary"},secondary:{svg:"text-secondary"},success:{svg:"text-success"},warning:{svg:"text-warning"},danger:{svg:"text-danger"}},size:{sm:{svg:"w-8 h-8",label:"text-small",value:"text-[0.5rem]"},md:{svg:"w-10 h-10",label:"text-small",value:"text-[0.55rem]"},lg:{svg:"w-12 h-12",label:"text-medium",value:"text-[0.6rem]"}},isIndeterminate:{true:{svg:"animate-spinner-ease-spin"}},isDisabled:{true:{base:"opacity-disabled cursor-not-allowed"}},disableAnimation:{true:{},false:{indicator:"transition-all !duration-500"}}},defaultVariants:{color:"primary",size:"md",isDisabled:!1},compoundVariants:[{disableAnimation:!0,isIndeterminate:!1,class:{svg:"!transition-none motion-reduce:transition-none"}}]}),divider=tv({base:"shrink-0 bg-divider border-none",variants:{orientation:{horizontal:"w-full h-divider",vertical:"h-full w-divider"}},defaultVariants:{orientation:"horizontal"}}),card=tv({slots:{base:["flex","flex-col","relative","overflow-hidden","h-auto","outline-none","text-foreground","box-border","bg-content1",...dataFocusVisibleClasses],header:["flex","p-3","z-10","w-full","justify-start","items-center","shrink-0","overflow-inherit","color-inherit","subpixel-antialiased"],body:["relative","flex","flex-1","w-full","p-3","flex-auto","flex-col","place-content-inherit","align-items-inherit","h-auto","break-words","text-left","overflow-y-auto","subpixel-antialiased"],footer:["p-3","h-auto","flex","w-full","items-center","overflow-hidden","color-inherit","subpixel-antialiased"]},variants:{shadow:{none:{base:"shadow-none"},sm:{base:"shadow-small"},md:{base:"shadow-medium"},lg:{base:"shadow-large"}},radius:{none:{base:"rounded-none",header:"rounded-none",footer:"rounded-none"},sm:{base:"rounded-small",header:"rounded-t-small",footer:"rounded-b-small"},md:{base:"rounded-medium",header:"rounded-t-medium",footer:"rounded-b-medium"},lg:{base:"rounded-large",header:"rounded-t-large",footer:"rounded-b-large"}},fullWidth:{true:{base:"w-full"}},isHoverable:{true:{base:"data-[hover=true]:bg-content2 dark:data-[hover=true]:bg-content2"}},isPressable:{true:{base:"cursor-pointer"}},isBlurred:{true:{base:["bg-background/80","dark:bg-background/20","backdrop-blur-md","backdrop-saturate-150"]}},isFooterBlurred:{true:{footer:["bg-background/10","backdrop-blur","backdrop-saturate-150"]}},isDisabled:{true:{base:"opacity-disabled cursor-not-allowed"}},disableAnimation:{true:"",false:{base:"transition-transform-background motion-reduce:transition-none"}}},compoundVariants:[{isPressable:!0,class:"data-[pressed=true]:scale-[0.97] tap-highlight-transparent"}],defaultVariants:{radius:"lg",shadow:"md",fullWidth:!1,isHoverable:!1,isPressable:!1,isDisabled:!1,isFooterBlurred:!1}}),accordion=tv({base:"px-2",variants:{variant:{light:"",shadow:"px-4 shadow-medium rounded-medium bg-content1",bordered:"px-4 border-medium border-divider rounded-medium",splitted:"flex flex-col gap-2"},fullWidth:{true:"w-full"}},defaultVariants:{variant:"light",fullWidth:!0}}),accordionItem=tv({slots:{base:"",heading:"",trigger:["flex py-4 w-full h-full gap-3 outline-none items-center tap-highlight-transparent",...dataFocusVisibleClasses],startContent:"flex-shrink-0",indicator:"text-default-400",titleWrapper:"flex-1 flex flex-col text-start",title:"text-foreground text-medium",subtitle:"text-small text-foreground-500 font-normal",content:"py-2"},variants:{variant:{splitted:{base:"px-4 bg-content1 shadow-medium rounded-medium"}},isCompact:{true:{trigger:"py-2",title:"text-medium",subtitle:"text-small",indicator:"text-medium",content:"py-1"}},isDisabled:{true:{base:"opacity-disabled pointer-events-none"}},hideIndicator:{true:{indicator:"hidden"}},disableAnimation:{true:{content:"hidden data-[open=true]:block"},false:{indicator:"transition-transform",trigger:"transition-opacity"}},disableIndicatorAnimation:{true:{indicator:"transition-none"},false:{indicator:"rotate-0 data-[open=true]:-rotate-90 rtl:-rotate-180 rtl:data-[open=true]:-rotate-90"}}},defaultVariants:{size:"md",radius:"lg",isDisabled:!1,hideIndicator:!1,disableIndicatorAnimation:!1}});function useReactAriaAccordionItem(et,_e,tt){let{item:rt,isDisabled:nt}=et,st=rt.key,it=_e.selectionManager,at=reactExports.useId(),ot=reactExports.useId(),lt=_e.disabledKeys.has(rt.key)||nt;reactExports.useEffect(()=>{st===_e.focusedKey&&document.activeElement!==tt.current&&tt.current&&$6a99195332edec8b$export$80f3e147d781571c(tt.current)},[tt,st,_e.focusedKey]);let ct=reactExports.useCallback(pt=>{it.canSelectItem(st)&&(it.select(st,pt),_e.toggleKey(st))},[st,it]);const ut=reactExports.useCallback(pt=>{it.selectionBehavior==="replace"&&it.extendSelection(pt),it.setFocusedKey(pt)},[it]),dt=reactExports.useCallback(pt=>{const mt={ArrowDown:()=>{const bt=_e.collection.getKeyAfter(st);if(bt&&_e.disabledKeys.has(bt)){const vt=_e.collection.getKeyAfter(bt);vt&&ut(vt)}else bt&&ut(bt)},ArrowUp:()=>{const bt=_e.collection.getKeyBefore(st);if(bt&&_e.disabledKeys.has(bt)){const vt=_e.collection.getKeyBefore(bt);vt&&ut(vt)}else bt&&ut(bt)},Home:()=>{const bt=_e.collection.getFirstKey();bt&&ut(bt)},End:()=>{const bt=_e.collection.getLastKey();bt&&ut(bt)}}[pt.key];mt&&(pt.preventDefault(),it.canSelectItem(st)&&mt(pt))},[st,it]);let{buttonProps:ft}=$701a24aa0da5b062$export$ea18c227d4417cc3({id:at,elementType:"button",isDisabled:lt,onKeyDown:dt,onPress:ct},tt),ht=_e.selectionManager.isSelected(rt.key);return{buttonProps:{...ft,"aria-expanded":ht,"aria-controls":ht?ot:void 0},regionProps:{id:ot,role:"region","aria-labelledby":at}}}function useReactAriaAccordion(et,_e,tt){let{listProps:rt}=$982254629710d113$export$b95089534ab7c1fd({...et,..._e,allowsTabNavigation:!0,disallowSelectAll:!0,ref:tt});return delete rt.onKeyDownCapture,{accordionProps:{...rt,tabIndex:void 0}}}function useAccordionItem(et){var _e,tt;const rt=useProviderContext(),{ref:nt,as:st,item:it,onFocusChange:at}=et,{state:ot,className:lt,indicator:ct,children:ut,title:dt,subtitle:ft,startContent:ht,motionProps:pt,focusedKey:gt,variant:mt,isCompact:bt=!1,classNames:vt={},isDisabled:yt=!1,hideIndicator:xt=!1,disableAnimation:Et=(_e=rt==null?void 0:rt.disableAnimation)!=null?_e:!1,keepContentMounted:wt=!1,disableIndicatorAnimation:$t=!1,HeadingComponent:Tt=st||"h2",onPress:St,onPressStart:Pt,onPressEnd:At,onPressChange:Rt,onPressUp:Ct,onClick:Dt,...Ft}=et,Mt=st||"div",Ot=typeof Mt=="string",jt=useDOMRef(nt),Ut=ot.disabledKeys.has(it.key)||yt,_t=ot.selectionManager.isSelected(it.key),{buttonProps:It,regionProps:Wt}=useReactAriaAccordionItem({item:it,isDisabled:Ut},{...ot,focusedKey:gt},jt),{onFocus:Kt,onBlur:Bt,...Qt}=It,{isFocused:Nt,isFocusVisible:Xt,focusProps:Zt}=$f7dceffc5ad7768b$export$4e328f61c538687f({autoFocus:(tt=it.props)==null?void 0:tt.autoFocus}),{isHovered:Yt,hoverProps:rr}=$6179b936705e76d3$export$ae780daf29e6d456({isDisabled:Ut}),{pressProps:ar,isPressed:sr}=$f6c31cce2adf654f$export$45712eceda6fad21({ref:jt,isDisabled:Ut,onPress:St,onPressStart:Pt,onPressEnd:At,onPressChange:Rt,onPressUp:Ct}),kt=reactExports.useCallback(()=>{at==null||at(!0,it.key)},[]),er=reactExports.useCallback(()=>{at==null||at(!1,it.key)},[]),Gt=reactExports.useMemo(()=>({...vt}),[objectToDeps(vt)]),zt=reactExports.useMemo(()=>accordionItem({isCompact:bt,isDisabled:Ut,hideIndicator:xt,disableAnimation:Et,disableIndicatorAnimation:$t,variant:mt}),[bt,Ut,xt,Et,$t,mt]),Vt=clsx(Gt==null?void 0:Gt.base,lt),Ht=reactExports.useCallback((qt={})=>({"data-open":dataAttr(_t),"data-disabled":dataAttr(Ut),className:zt.base({class:Vt}),...$3ef42575df84b30b$export$9d1611c77c2fe928(filterDOMProps(Ft,{enabled:Ot}),qt)}),[Vt,Ot,Ft,zt,it.props,_t,Ut]),lr=(qt={})=>{var tr,ir;return{ref:jt,"data-open":dataAttr(_t),"data-focus":dataAttr(Nt),"data-focus-visible":dataAttr(Xt),"data-disabled":dataAttr(Ut),"data-hover":dataAttr(Yt),"data-pressed":dataAttr(sr),className:zt.trigger({class:Gt==null?void 0:Gt.trigger}),onFocus:callAllHandlers(kt,Kt,Zt.onFocus,Ft.onFocus,(tr=it.props)==null?void 0:tr.onFocus),onBlur:callAllHandlers(er,Bt,Zt.onBlur,Ft.onBlur,(ir=it.props)==null?void 0:ir.onBlur),...$3ef42575df84b30b$export$9d1611c77c2fe928(Qt,rr,ar,qt,{onClick:$ff5963eb1fccf552$export$e08e3b67e392101e(ar.onClick,Dt)})}},dr=reactExports.useCallback((qt={})=>({"data-open":dataAttr(_t),"data-disabled":dataAttr(Ut),className:zt.content({class:Gt==null?void 0:Gt.content}),...$3ef42575df84b30b$export$9d1611c77c2fe928(Wt,qt)}),[zt,Gt,Wt,_t,Ut,Gt==null?void 0:Gt.content]),Jt=reactExports.useCallback((qt={})=>({"aria-hidden":dataAttr(!0),"data-open":dataAttr(_t),"data-disabled":dataAttr(Ut),className:zt.indicator({class:Gt==null?void 0:Gt.indicator}),...qt}),[zt,Gt==null?void 0:Gt.indicator,_t,Ut,Gt==null?void 0:Gt.indicator]),nr=reactExports.useCallback((qt={})=>({"data-open":dataAttr(_t),"data-disabled":dataAttr(Ut),className:zt.heading({class:Gt==null?void 0:Gt.heading}),...qt}),[zt,Gt==null?void 0:Gt.heading,_t,Ut,Gt==null?void 0:Gt.heading]),fr=reactExports.useCallback((qt={})=>({"data-open":dataAttr(_t),"data-disabled":dataAttr(Ut),className:zt.title({class:Gt==null?void 0:Gt.title}),...qt}),[zt,Gt==null?void 0:Gt.title,_t,Ut,Gt==null?void 0:Gt.title]),Lt=reactExports.useCallback((qt={})=>({"data-open":dataAttr(_t),"data-disabled":dataAttr(Ut),className:zt.subtitle({class:Gt==null?void 0:Gt.subtitle}),...qt}),[zt,Gt,_t,Ut,Gt==null?void 0:Gt.subtitle]);return{Component:Mt,HeadingComponent:Tt,item:it,slots:zt,classNames:Gt,domRef:jt,indicator:ct,children:ut,title:dt,subtitle:ft,startContent:ht,isOpen:_t,isDisabled:Ut,hideIndicator:xt,keepContentMounted:wt,disableAnimation:Et,motionProps:pt,getBaseProps:Ht,getHeadingProps:nr,getButtonProps:lr,getContentProps:dr,getIndicatorProps:Jt,getTitleProps:fr,getSubtitleProps:Lt}}var ChevronIcon=et=>jsxRuntimeExports.jsx("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",role:"presentation",viewBox:"0 0 24 24",width:"1em",...et,children:jsxRuntimeExports.jsx("path",{d:"M15.5 19l-7-7 7-7",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})}),TRANSITION_EASINGS={ease:[.36,.66,.4,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1],spring:[.155,1.105,.295,1.12],springOut:[.57,-.15,.62,.07],softSpring:[.16,1.11,.3,1.02]},TRANSITION_VARIANTS={scaleSpring:{enter:{transform:"scale(1)",opacity:1,transition:{type:"spring",bounce:0,duration:.2}},exit:{transform:"scale(0.85)",opacity:0,transition:{type:"easeOut",duration:.15}}},scaleSpringOpacity:{initial:{opacity:0,transform:"scale(0.8)"},enter:{opacity:1,transform:"scale(1)",transition:{type:"spring",bounce:0,duration:.3}},exit:{opacity:0,transform:"scale(0.96)",transition:{type:"easeOut",bounce:0,duration:.15}}},scale:{enter:{scale:1},exit:{scale:.95}},scaleFadeIn:{enter:{transform:"scale(1)",opacity:1,transition:{duration:.25,ease:TRANSITION_EASINGS.easeIn}},exit:{transform:"scale(0.95)",opacity:0,transition:{duration:.2,ease:TRANSITION_EASINGS.easeOut}}},scaleInOut:{enter:{transform:"scale(1)",opacity:1,transition:{duration:.4,ease:TRANSITION_EASINGS.ease}},exit:{transform:"scale(1.03)",opacity:0,transition:{duration:.3,ease:TRANSITION_EASINGS.ease}}},fade:{enter:{opacity:1,transition:{duration:.4,ease:TRANSITION_EASINGS.ease}},exit:{opacity:0,transition:{duration:.3,ease:TRANSITION_EASINGS.ease}}},collapse:{enter:{opacity:1,height:"auto",transition:{height:{type:"spring",bounce:0,duration:.3},opacity:{easings:"ease",duration:.4}}},exit:{opacity:0,height:0,transition:{easings:"ease",duration:.3}}}},domAnimation$1=()=>__vitePreload(()=>import("./index-ScF5Bd3n.js"),__vite__mapDeps([])).then(et=>et.default),AccordionItem=forwardRef((et,_e)=>{const{Component:tt,HeadingComponent:rt,classNames:nt,slots:st,indicator:it,children:at,title:ot,subtitle:lt,startContent:ct,isOpen:ut,isDisabled:dt,hideIndicator:ft,keepContentMounted:ht,disableAnimation:pt,motionProps:gt,getBaseProps:mt,getHeadingProps:bt,getButtonProps:vt,getTitleProps:yt,getSubtitleProps:xt,getContentProps:Et,getIndicatorProps:wt}=useAccordionItem({...et,ref:_e}),$t=useWillChange(),St=reactExports.useMemo(()=>typeof it=="function"?it({indicator:jsxRuntimeExports.jsx(ChevronIcon,{}),isOpen:ut,isDisabled:dt}):it||null,[it,ut,dt])||jsxRuntimeExports.jsx(ChevronIcon,{}),Pt=reactExports.useMemo(()=>{if(pt)return jsxRuntimeExports.jsx("div",{...Et(),children:at});const At={exit:{...TRANSITION_VARIANTS.collapse.exit,overflowY:"hidden"},enter:{...TRANSITION_VARIANTS.collapse.enter,overflowY:"unset"}};return ht?jsxRuntimeExports.jsx(LazyMotion,{features:domAnimation$1,children:jsxRuntimeExports.jsx(m$1.section,{animate:ut?"enter":"exit",exit:"exit",initial:"exit",style:{willChange:$t},variants:At,onKeyDown:Rt=>{Rt.stopPropagation()},...gt,children:jsxRuntimeExports.jsx("div",{...Et(),children:at})},"accordion-content")}):jsxRuntimeExports.jsx(AnimatePresence,{initial:!1,children:ut&&jsxRuntimeExports.jsx(LazyMotion,{features:domAnimation$1,children:jsxRuntimeExports.jsx(m$1.section,{animate:"enter",exit:"exit",initial:"exit",style:{willChange:$t},variants:At,onKeyDown:Rt=>{Rt.stopPropagation()},...gt,children:jsxRuntimeExports.jsx("div",{...Et(),children:at})},"accordion-content")})})},[ut,pt,ht,at,gt]);return jsxRuntimeExports.jsxs(tt,{...mt(),children:[jsxRuntimeExports.jsx(rt,{...bt(),children:jsxRuntimeExports.jsxs("button",{...vt(),children:[ct&&jsxRuntimeExports.jsx("div",{className:st.startContent({class:nt==null?void 0:nt.startContent}),children:ct}),jsxRuntimeExports.jsxs("div",{className:st.titleWrapper({class:nt==null?void 0:nt.titleWrapper}),children:[ot&&jsxRuntimeExports.jsx("span",{...yt(),children:ot}),lt&&jsxRuntimeExports.jsx("span",{...xt(),children:lt})]}),!ft&&St&&jsxRuntimeExports.jsx("span",{...wt(),children:St})]})}),Pt]})});AccordionItem.displayName="HeroUI.AccordionItem";var accordion_item_default=AccordionItem;function useAccordion(et){var _e;const tt=useProviderContext(),{ref:rt,as:nt,className:st,items:it,variant:at,motionProps:ot,expandedKeys:lt,disabledKeys:ct,selectedKeys:ut,children:dt,defaultExpandedKeys:ft,selectionMode:ht="single",selectionBehavior:pt="toggle",keepContentMounted:gt=!1,disallowEmptySelection:mt,defaultSelectedKeys:bt,onExpandedChange:vt,onSelectionChange:yt,dividerProps:xt={},isCompact:Et=!1,isDisabled:wt=!1,showDivider:$t=!0,hideIndicator:Tt=!1,disableAnimation:St=(_e=tt==null?void 0:tt.disableAnimation)!=null?_e:!1,disableIndicatorAnimation:Pt=!1,itemClasses:At,...Rt}=et,[Ct,Dt]=reactExports.useState(null),Ft=nt||"div",Mt=typeof Ft=="string",Ot=useDOMRef(rt),jt=reactExports.useMemo(()=>accordion({variant:at,className:st}),[at,st]),_t={children:reactExports.useMemo(()=>{let Zt=[];return React.Children.map(dt,Yt=>{var rr;if(React.isValidElement(Yt)&&typeof((rr=Yt.props)==null?void 0:rr.children)!="string"){const ar=React.cloneElement(Yt,{hasChildItems:!1});Zt.push(ar)}else Zt.push(Yt)}),Zt},[dt]),items:it},It={expandedKeys:lt,defaultExpandedKeys:ft,onExpandedChange:vt},Wt={disabledKeys:ct,selectedKeys:ut,selectionMode:ht,selectionBehavior:pt,disallowEmptySelection:mt,defaultSelectedKeys:bt??ft,onSelectionChange:yt,..._t,...It},Kt=$875d6693e12af071$export$728d6ba534403756(Wt);Kt.selectionManager.setFocusedKey=Zt=>{Dt(Zt)};const{accordionProps:Bt}=useReactAriaAccordion({..._t,...It},Kt,Ot),Qt=reactExports.useMemo(()=>({state:Kt,focusedKey:Ct,motionProps:ot,isCompact:Et,isDisabled:wt,hideIndicator:Tt,disableAnimation:St,keepContentMounted:gt,disableIndicatorAnimation:Pt}),[Ct,Et,wt,Tt,ut,St,gt,Kt==null?void 0:Kt.expandedKeys.values,Pt,Kt.expandedKeys.size,Kt.disabledKeys.size,ot]),Nt=reactExports.useCallback((Zt={})=>({ref:Ot,className:jt,"data-orientation":"vertical",...$3ef42575df84b30b$export$9d1611c77c2fe928(Bt,filterDOMProps(Rt,{enabled:Mt}),Zt)}),[]),Xt=reactExports.useCallback((Zt,Yt)=>{Zt&&Dt(Yt)},[]);return{Component:Ft,values:Qt,state:Kt,focusedKey:Ct,getBaseProps:Nt,isSplitted:at==="splitted",classNames:jt,showDivider:$t,dividerProps:xt,disableAnimation:St,handleFocusChanged:Xt,itemClasses:At}}function useSeparator(et){let _e=filterDOMProps(et,{enabled:typeof et.elementType=="string"}),tt;return et.orientation==="vertical"&&(tt="vertical"),et.elementType!=="hr"?{separatorProps:{..._e,role:"separator","aria-orientation":tt}}:{separatorProps:_e}}function useDivider(et){const{as:_e,className:tt,orientation:rt,...nt}=et;let st=_e||"hr";st==="hr"&&rt==="vertical"&&(st="div");const{separatorProps:it}=useSeparator({elementType:typeof st=="string"?st:"hr",orientation:rt}),at=reactExports.useMemo(()=>divider({orientation:rt,className:tt}),[rt,tt]),ot=reactExports.useCallback((lt={})=>({className:at,role:"separator","data-orientation":rt,...it,...nt,...lt}),[at,rt,it,nt]);return{Component:st,getDividerProps:ot}}var Divider=forwardRef((et,_e)=>{const{Component:tt,getDividerProps:rt}=useDivider({...et});return jsxRuntimeExports.jsx(tt,{ref:_e,...rt()})});Divider.displayName="HeroUI.Divider";var divider_default=Divider,AccordionGroup=forwardRef((et,_e)=>{const{Component:tt,values:rt,state:nt,isSplitted:st,showDivider:it,getBaseProps:at,disableAnimation:ot,handleFocusChanged:lt,itemClasses:ct,dividerProps:ut}=useAccordion({...et,ref:_e}),dt=reactExports.useCallback((ht,pt)=>lt(ht,pt),[lt]),ft=reactExports.useMemo(()=>[...nt.collection].map((ht,pt)=>{const gt={...ct,...ht.props.classNames||{}};return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(accordion_item_default,{item:ht,variant:et.variant,onFocusChange:dt,...rt,...ht.props,classNames:gt}),!ht.props.hidden&&!st&&it&&pt<nt.collection.size-1&&jsxRuntimeExports.jsx(divider_default,{...ut})]},ht.key)}),[rt,ct,dt,st,it,nt.collection]);return jsxRuntimeExports.jsx(tt,{...at(),children:ot?ft:jsxRuntimeExports.jsx(LayoutGroup,{children:ft})})});AccordionGroup.displayName="HeroUI.Accordion";var accordion_default=AccordionGroup,AccordionItemBase=$c1d7fb2ec91bae71$export$6d08773d2e66f8f2,accordion_item_base_default=AccordionItemBase;function useAriaButton(et,_e){let{elementType:tt="button",isDisabled:rt,onPress:nt,onPressStart:st,onPressEnd:it,onPressChange:at,preventFocusOnPress:ot,allowFocusWhenDisabled:lt,onClick:ct,href:ut,target:dt,rel:ft,type:ht="button",allowTextSelectionOnPress:pt}=et,gt;tt==="button"?gt={type:ht,disabled:rt}:gt={role:"button",tabIndex:rt?void 0:0,href:tt==="a"&&!rt?ut:void 0,target:tt==="a"?dt:void 0,type:tt==="input"?ht:void 0,disabled:tt==="input"?rt:void 0,"aria-disabled":!rt||tt==="input"?void 0:rt,rel:tt==="a"?ft:void 0};let mt=$c87311424ea30a05$export$fedb369cb70207f1()||$c87311424ea30a05$export$a11b0059900ceec8();ct&&typeof ct=="function"&&warn("onClick is deprecated, please use onPress instead. See: https://github.com/heroui-inc/heroui/issues/4292","useButton");const bt=wt=>{mt&&(ct==null||ct(wt)),nt==null||nt(wt)};let{pressProps:vt,isPressed:yt}=$f6c31cce2adf654f$export$45712eceda6fad21({onPressStart:st,onPressEnd:it,onPressChange:at,onPress:bt,isDisabled:rt,preventFocusOnPress:ot,allowTextSelectionOnPress:pt,ref:_e}),{focusableProps:xt}=$e6afbd83fe6ebbd2$export$4c014de7c8940b4c(et,_e);lt&&(xt.tabIndex=rt?-1:xt.tabIndex);let Et=$3ef42575df84b30b$export$9d1611c77c2fe928(xt,vt,$65484d02dcb7eb3e$export$457c3d6518dd4c6f(et,{labelable:!0}));return{isPressed:yt,buttonProps:$3ef42575df84b30b$export$9d1611c77c2fe928(gt,Et,{"aria-haspopup":et["aria-haspopup"],"aria-expanded":et["aria-expanded"],"aria-controls":et["aria-controls"],"aria-pressed":et["aria-pressed"],onClick:wt=>{ht==="button"&&mt||ct==null||ct(wt)}})}}var domAnimation=()=>__vitePreload(()=>import("./index-ScF5Bd3n.js"),__vite__mapDeps([])).then(et=>et.default),Ripple=et=>{const{ripples:_e=[],motionProps:tt,color:rt="currentColor",style:nt,onClear:st}=et;return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:_e.map(it=>{const at=clamp(.01*it.size,.2,it.size>100?.75:.5);return jsxRuntimeExports.jsx(LazyMotion,{features:domAnimation,children:jsxRuntimeExports.jsx(AnimatePresence,{mode:"popLayout",children:jsxRuntimeExports.jsx(m$1.span,{animate:{transform:"scale(2)",opacity:0},className:"heroui-ripple",exit:{opacity:0},initial:{transform:"scale(0)",opacity:.35},style:{position:"absolute",backgroundColor:rt,borderRadius:"100%",transformOrigin:"center",pointerEvents:"none",overflow:"hidden",inset:0,zIndex:0,top:it.y,left:it.x,width:`${it.size}px`,height:`${it.size}px`,...nt},transition:{duration:at},onAnimationComplete:()=>{st(it.key)},...tt})})},it.key)})})};Ripple.displayName="HeroUI.Ripple";var ripple_default=Ripple;function useRipple(et={}){const[_e,tt]=reactExports.useState([]),rt=reactExports.useCallback(st=>{const it=st.target,at=Math.max(it.clientWidth,it.clientHeight);tt(ot=>[...ot,{key:getUniqueID(ot.length.toString()),size:at,x:st.x-at/2,y:st.y-at/2}])},[]),nt=reactExports.useCallback(st=>{tt(it=>it.filter(at=>at.key!==st))},[]);return{ripples:_e,onClear:nt,onPress:rt,...et}}var[CardProvider,useCardContext]=createContext2({name:"CardContext",strict:!0,errorMessage:"useCardContext: `context` is undefined. Seems you forgot to wrap component within <Card />"}),CardBody=forwardRef((et,_e)=>{var tt;const{as:rt,className:nt,children:st,...it}=et,at=rt||"div",ot=useDOMRef(_e),{slots:lt,classNames:ct}=useCardContext(),ut=clsx(ct==null?void 0:ct.body,nt);return jsxRuntimeExports.jsx(at,{ref:ot,className:(tt=lt.body)==null?void 0:tt.call(lt,{class:ut}),...it,children:st})});CardBody.displayName="HeroUI.CardBody";var card_body_default=CardBody;function useCard(et){var _e,tt,rt,nt;const st=useProviderContext(),[it,at]=mapPropsVariants(et,card.variantKeys),{ref:ot,as:lt,children:ct,onClick:ut,onPress:dt,autoFocus:ft,className:ht,classNames:pt,allowTextSelectionOnPress:gt=!0,...mt}=it,bt=useDOMRef(ot),vt=lt||(et.isPressable?"button":"div"),yt=typeof vt=="string",xt=(tt=(_e=et.disableAnimation)!=null?_e:st==null?void 0:st.disableAnimation)!=null?tt:!1,Et=(nt=(rt=et.disableRipple)!=null?rt:st==null?void 0:st.disableRipple)!=null?nt:!1,wt=clsx(pt==null?void 0:pt.base,ht),{onClear:$t,onPress:Tt,ripples:St}=useRipple(),Pt=reactExports.useCallback(Wt=>{Et||xt||bt.current&&Tt(Wt)},[Et,xt,bt,Tt]),{buttonProps:At,isPressed:Rt}=useAriaButton({onPress:$ff5963eb1fccf552$export$e08e3b67e392101e(dt,Pt),elementType:lt,isDisabled:!et.isPressable,onClick:ut,allowTextSelectionOnPress:gt,...mt},bt),{hoverProps:Ct,isHovered:Dt}=$6179b936705e76d3$export$ae780daf29e6d456({isDisabled:!et.isHoverable,...mt}),{isFocusVisible:Ft,isFocused:Mt,focusProps:Ot}=$f7dceffc5ad7768b$export$4e328f61c538687f({autoFocus:ft}),jt=reactExports.useMemo(()=>card({...at,disableAnimation:xt}),[objectToDeps(at),xt]),Ut=reactExports.useMemo(()=>({slots:jt,classNames:pt,disableAnimation:xt,isDisabled:et.isDisabled,isFooterBlurred:et.isFooterBlurred,fullWidth:et.fullWidth}),[jt,pt,et.isDisabled,et.isFooterBlurred,xt,et.fullWidth]),_t=reactExports.useCallback((Wt={})=>({ref:bt,className:jt.base({class:wt}),tabIndex:et.isPressable?0:-1,"data-hover":dataAttr(Dt),"data-pressed":dataAttr(Rt),"data-focus":dataAttr(Mt),"data-focus-visible":dataAttr(Ft),"data-disabled":dataAttr(et.isDisabled),...$3ef42575df84b30b$export$9d1611c77c2fe928(et.isPressable?{...At,...Ot,role:"button"}:{},et.isHoverable?Ct:{},filterDOMProps(mt,{enabled:yt}),filterDOMProps(Wt))}),[bt,jt,wt,yt,et.isPressable,et.isHoverable,et.isDisabled,Dt,Rt,Ft,At,Ot,Ct,mt]),It=reactExports.useCallback(()=>({ripples:St,onClear:$t}),[St,$t]);return{context:Ut,domRef:bt,Component:vt,classNames:pt,children:ct,isHovered:Dt,isPressed:Rt,disableAnimation:xt,isPressable:et.isPressable,isHoverable:et.isHoverable,disableRipple:Et,handlePress:Pt,isFocusVisible:Ft,getCardProps:_t,getRippleProps:It}}var Card=forwardRef((et,_e)=>{const{children:tt,context:rt,Component:nt,isPressable:st,disableAnimation:it,disableRipple:at,getCardProps:ot,getRippleProps:lt}=useCard({...et,ref:_e});return jsxRuntimeExports.jsxs(nt,{...ot(),children:[jsxRuntimeExports.jsx(CardProvider,{value:rt,children:tt}),st&&!it&&!at&&jsxRuntimeExports.jsx(ripple_default,{...lt()})]})});Card.displayName="HeroUI.Card";var card_default=Card;function useIsMounted(et={}){const{rerender:_e=!1,delay:tt=0}=et,rt=reactExports.useRef(!1),[nt,st]=reactExports.useState(!1);return reactExports.useEffect(()=>{rt.current=!0;let it=null;return _e&&(tt>0?it=setTimeout(()=>{st(!0)},tt):st(!0)),()=>{rt.current=!1,_e&&st(!1),it&&clearTimeout(it)}},[_e]),[reactExports.useCallback(()=>rt.current,[]),nt]}function useCircularProgress(et){var _e,tt,rt;const nt=useProviderContext(),[st,it]=mapPropsVariants(et,circularProgress.variantKeys),{ref:at,as:ot,id:lt,className:ct,classNames:ut,label:dt,valueLabel:ft,value:ht=void 0,minValue:pt=0,maxValue:gt=100,strokeWidth:mt,showValueLabel:bt=!1,formatOptions:vt={style:"percent"},...yt}=st,xt=ot||"div",Et=useDOMRef(at),wt=clsx(ut==null?void 0:ut.base,ct),[,$t]=useIsMounted({rerender:!0,delay:100}),Tt=((_e=et.isIndeterminate)!=null?_e:!0)&&ht===void 0,St=(rt=(tt=et.disableAnimation)!=null?tt:nt==null?void 0:nt.disableAnimation)!=null?rt:!1,{progressBarProps:Pt,labelProps:At}=$204d9ebcedfb8806$export$ed5abd763a836edc({id:lt,label:dt,value:ht,minValue:pt,maxValue:gt,valueLabel:ft,formatOptions:vt,isIndeterminate:Tt,"aria-labelledby":et["aria-labelledby"],"aria-label":et["aria-label"]}),Rt=reactExports.useMemo(()=>circularProgress({...it,disableAnimation:St,isIndeterminate:Tt}),[objectToDeps(it),St,Tt]),Ct=St?!0:$t,Dt=16,Ft=mt||(et.size==="sm"?2:3),Mt=16-Ft,Ot=2*Mt*Math.PI,jt=reactExports.useMemo(()=>Ct?Tt?.25:ht?clampPercentage((ht-pt)/(gt-pt),1):0:0,[Ct,ht,pt,gt,Tt]),Ut=Ot-jt*Ot,_t=reactExports.useCallback((Qt={})=>({ref:Et,"data-indeterminate":dataAttr(Tt),"data-disabled":dataAttr(et.isDisabled),className:Rt.base({class:wt}),...$3ef42575df84b30b$export$9d1611c77c2fe928(Pt,yt,Qt)}),[Et,Rt,Tt,et.isDisabled,wt,Pt,yt]),It=reactExports.useCallback((Qt={})=>({className:Rt.label({class:ut==null?void 0:ut.label}),...$3ef42575df84b30b$export$9d1611c77c2fe928(At,Qt)}),[Rt,ut,At]),Wt=reactExports.useCallback((Qt={})=>({viewBox:"0 0 32 32",fill:"none",strokeWidth:Ft,className:Rt.svg({class:ut==null?void 0:ut.svg}),...Qt}),[Ft,Rt,ut]),Kt=reactExports.useCallback((Qt={})=>({cx:Dt,cy:Dt,r:Mt,role:"presentation",strokeDasharray:`${Ot} ${Ot}`,strokeDashoffset:Ut,transform:"rotate(-90 16 16)",strokeLinecap:"round",className:Rt.indicator({class:ut==null?void 0:ut.indicator}),...Qt}),[Rt,ut,Ut,Ot,Mt]),Bt=reactExports.useCallback((Qt={})=>({cx:Dt,cy:Dt,r:Mt,role:"presentation",strokeDasharray:`${Ot} ${Ot}`,strokeDashoffset:0,transform:"rotate(-90 16 16)",strokeLinecap:"round",className:Rt.track({class:ut==null?void 0:ut.track}),...Qt}),[Rt,ut,Ot,Mt]);return{Component:xt,domRef:Et,slots:Rt,classNames:ut,label:dt,showValueLabel:bt,getProgressBarProps:_t,getLabelProps:It,getSvgProps:Wt,getIndicatorProps:Kt,getTrackProps:Bt}}var CircularProgress=forwardRef((et,_e)=>{const{Component:tt,slots:rt,classNames:nt,label:st,showValueLabel:it,getProgressBarProps:at,getLabelProps:ot,getSvgProps:lt,getIndicatorProps:ct,getTrackProps:ut}=useCircularProgress({ref:_e,...et}),dt=at();return jsxRuntimeExports.jsxs(tt,{...dt,children:[jsxRuntimeExports.jsxs("div",{className:rt.svgWrapper({class:nt==null?void 0:nt.svgWrapper}),children:[jsxRuntimeExports.jsxs("svg",{...lt(),children:[jsxRuntimeExports.jsx("circle",{...ut()}),jsxRuntimeExports.jsx("circle",{...ct()})]}),it&&jsxRuntimeExports.jsx("span",{className:rt.value({class:nt==null?void 0:nt.value}),children:dt["aria-valuetext"]})]}),st&&jsxRuntimeExports.jsx("span",{...ot(),children:st})]})});CircularProgress.displayName="HeroUI.CircularProgress";var circular_progress_default=CircularProgress,TabPanel=forwardRef((et,_e)=>{var tt,rt;const{as:nt,tabKey:st,destroyInactiveTabPanel:it,state:at,className:ot,slots:lt,classNames:ct,...ut}=et,dt=nt||"div",ft=useDOMRef(_e),{tabPanelProps:ht}=$34bce698202e07cb$export$fae0121b5afe572d({...et,id:String(st)},at,ft),{focusProps:pt,isFocused:gt,isFocusVisible:mt}=$f7dceffc5ad7768b$export$4e328f61c538687f(),bt=at.selectedItem,vt=at.collection.getItem(st).props.children,yt=clsx(ct==null?void 0:ct.panel,ot,(tt=bt==null?void 0:bt.props)==null?void 0:tt.className),xt=st===(bt==null?void 0:bt.key);return!vt||!xt&&it?null:jsxRuntimeExports.jsx(dt,{ref:ft,"data-focus":gt,"data-focus-visible":mt,"data-inert":xt?void 0:"true",inert:getInertValue(!xt),...xt&&$3ef42575df84b30b$export$9d1611c77c2fe928(ht,pt,ut),className:(rt=lt.panel)==null?void 0:rt.call(lt,{class:yt}),"data-slot":"panel",children:vt})});TabPanel.displayName="HeroUI.TabPanel";var tab_panel_default=TabPanel,Tab=forwardRef((et,_e)=>{var tt;const{className:rt,as:nt,item:st,state:it,classNames:at,isDisabled:ot,listRef:lt,slots:ct,motionProps:ut,disableAnimation:dt,disableCursorAnimation:ft,shouldSelectOnPressUp:ht,onClick:pt,tabRef:gt,...mt}=et,{key:bt}=st,vt=useDOMRef(_e),yt=nt||(et.href?"a":"button"),xt=typeof yt=="string",{tabProps:Et,isSelected:wt,isDisabled:$t,isPressed:Tt}=$0175d55c2a017ebc$export$fdf4756d5b8ef90a({key:bt,isDisabled:ot,shouldSelectOnPressUp:ht},it,vt);et.children==null&&delete Et["aria-controls"];const St=ot||$t,{focusProps:Pt,isFocused:At,isFocusVisible:Rt}=$f7dceffc5ad7768b$export$4e328f61c538687f(),{hoverProps:Ct,isHovered:Dt}=$6179b936705e76d3$export$ae780daf29e6d456({isDisabled:St}),Ft=clsx(at==null?void 0:at.tab,rt),[,Mt]=useIsMounted({rerender:!0}),Ot=()=>{$ff5963eb1fccf552$export$e08e3b67e392101e(pt,Et.onClick),!(!(vt!=null&&vt.current)||!(lt!=null&&lt.current))&&t$2(vt.current,{scrollMode:"if-needed",behavior:"smooth",block:"end",inline:"end",boundary:lt==null?void 0:lt.current})};return jsxRuntimeExports.jsxs(yt,{ref:mergeRefs(vt,gt),"data-disabled":dataAttr($t),"data-focus":dataAttr(At),"data-focus-visible":dataAttr(Rt),"data-hover":dataAttr(Dt),"data-hover-unselected":dataAttr((Dt||Tt)&&!wt),"data-pressed":dataAttr(Tt),"data-selected":dataAttr(wt),"data-slot":"tab",...$3ef42575df84b30b$export$9d1611c77c2fe928(Et,St?{}:{...Pt,...Ct},filterDOMProps(mt,{enabled:xt,omitPropNames:new Set(["title"])}),{onClick:Ot}),className:(tt=ct.tab)==null?void 0:tt.call(ct,{class:Ft}),title:mt==null?void 0:mt.titleValue,type:yt==="button"?"button":void 0,children:[wt&&!dt&&!ft&&Mt?jsxRuntimeExports.jsx(LazyMotion,{features:domMax,children:jsxRuntimeExports.jsx(m$1.span,{className:ct.cursor({class:at==null?void 0:at.cursor}),"data-slot":"cursor",layoutDependency:!1,layoutId:"cursor",transition:{type:"spring",bounce:.15,duration:.5},...ut})}):null,jsxRuntimeExports.jsx("div",{className:ct.tabContent({class:at==null?void 0:at.tabContent}),"data-slot":"tabContent",children:st.rendered})]})});Tab.displayName="HeroUI.Tab";var tab_default=Tab;function useTabs(et){var _e,tt,rt;const nt=useProviderContext(),[st,it]=mapPropsVariants(et,tabs.variantKeys),{ref:at,as:ot,className:lt,classNames:ct,children:ut,disableCursorAnimation:dt,motionProps:ft,isVertical:ht=!1,shouldSelectOnPressUp:pt=!0,destroyInactiveTabPanel:gt=!0,...mt}=st,bt=ot||"div",vt=typeof bt=="string",yt=useDOMRef(at),xt=(tt=(_e=et==null?void 0:et.disableAnimation)!=null?_e:nt==null?void 0:nt.disableAnimation)!=null?tt:!1,Et=$76f919a04c5a7d14$export$4ba071daf4e486({children:ut,...mt}),{tabListProps:wt}=$58d314389b21fa3f$export$773e389e644c5874(mt,Et,yt),$t=reactExports.useMemo(()=>tabs({...it,className:lt,disableAnimation:xt,...ht?{placement:"start"}:{}}),[objectToDeps(it),lt,xt,ht]),Tt=clsx(ct==null?void 0:ct.base,lt),St=reactExports.useMemo(()=>({state:Et,slots:$t,classNames:ct,motionProps:ft,disableAnimation:xt,listRef:yt,shouldSelectOnPressUp:pt,disableCursorAnimation:dt,isDisabled:et==null?void 0:et.isDisabled}),[Et,$t,yt,ft,xt,dt,pt,et==null?void 0:et.isDisabled,ct]),Pt=reactExports.useCallback(Dt=>({"data-slot":"base",className:$t.base({class:clsx(Tt,Dt==null?void 0:Dt.className)}),...$3ef42575df84b30b$export$9d1611c77c2fe928(filterDOMProps(mt,{enabled:vt}),Dt)}),[Tt,mt,$t]),At=(rt=it.placement)!=null?rt:ht?"start":"top",Rt=reactExports.useCallback(Dt=>({"data-slot":"tabWrapper",className:$t.wrapper({class:clsx(ct==null?void 0:ct.wrapper,Dt==null?void 0:Dt.className)}),"data-placement":At,"data-vertical":ht||At==="start"||At==="end"?"vertical":"horizontal"}),[ct,$t,At,ht]),Ct=reactExports.useCallback(Dt=>({ref:yt,"data-slot":"tabList",className:$t.tabList({class:clsx(ct==null?void 0:ct.tabList,Dt==null?void 0:Dt.className)}),...$3ef42575df84b30b$export$9d1611c77c2fe928(wt,Dt)}),[yt,wt,ct,$t]);return{Component:bt,domRef:yt,state:Et,values:St,destroyInactiveTabPanel:gt,getBaseProps:Pt,getTabListProps:Ct,getWrapperProps:Rt}}var Tabs=forwardRef(function et(_e,tt){const{Component:rt,values:nt,state:st,destroyInactiveTabPanel:it,getBaseProps:at,getTabListProps:ot,getWrapperProps:lt}=useTabs({..._e,ref:tt}),ct=reactExports.useId(),ut=!_e.disableAnimation&&!_e.disableCursorAnimation,dt={state:st,listRef:nt.listRef,slots:nt.slots,classNames:nt.classNames,isDisabled:nt.isDisabled,motionProps:nt.motionProps,disableAnimation:nt.disableAnimation,shouldSelectOnPressUp:nt.shouldSelectOnPressUp,disableCursorAnimation:nt.disableCursorAnimation},ft=[...st.collection].map(pt=>jsxRuntimeExports.jsx(tab_default,{item:pt,...dt,...pt.props},pt.key)),ht=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{...at(),children:jsxRuntimeExports.jsx(rt,{...ot(),children:ut?jsxRuntimeExports.jsx(LayoutGroup,{id:ct,children:ft}):ft})}),[...st.collection].map(pt=>jsxRuntimeExports.jsx(tab_panel_default,{classNames:nt.classNames,destroyInactiveTabPanel:it,slots:nt.slots,state:nt.state,tabKey:pt.key},pt.key))]});return"placement"in _e||"isVertical"in _e?jsxRuntimeExports.jsx("div",{...lt(),children:ht}):ht}),tabs_default=Tabs,TabItemBase=$c1d7fb2ec91bae71$export$6d08773d2e66f8f2,tab_item_base_default=TabItemBase;const ResourcesSidebar=()=>{const[et,_e]=reactExports.useState(null),[tt,rt]=reactExports.useState(""),[nt,st]=reactExports.useState(!1),[it,at]=reactExports.useState("#000000");reactExports.useState(null);const{videoWalls:ot,darkMode:lt,inputs:ct,resources:ut,addVideo:dt,addImage:ft,addInput:ht,getSelectedScene:pt,setSources:gt,sendOperation:mt,url:bt,host:vt,loopVideos:yt,generateBlobImageURL:xt,setResources:Et,setMiniLoad:wt,addWeb:$t,collections:Tt,setCollections:St,sources:Pt,trimPrefix:At,dataDrag:Rt,setDataDrag:Ct}=useMyContext(),Dt=`http://${vt}:4001`,Ft={IMAGE:{label:"",icon:FaImage,badge:"success"},VIDEO:{label:"",icon:FaVideo,badge:"primary"},IFRAME:{label:" ",icon:FaGlobe,badge:"warning"},TEXT:{label:"",icon:FaFont,badge:"secondary"},STREAM:{label:"",icon:FaStream,badge:"danger"},RSS:{label:"",icon:FaRss,badge:"default"}},Mt=Yt=>{Swal$1.fire({title:" ",input:"text",inputValue:Yt.name||"",inputPlaceholder:" ",showCancelButton:!0,confirmButtonText:"",cancelButtonText:"",confirmButtonColor:"green",cancelButtonColor:"gray",inputValidator:rr=>!rr||!rr.trim()?"   ":rr.trim().length>128?"  ":null}).then(async({isConfirmed:rr,value:ar})=>{if(rr){const sr=ar.trim();sr&&sr!==Yt.name&&await Qt(Yt.id,sr)}})},Ot=reactExports.useMemo(()=>{const Yt={IMAGE:[],VIDEO:[],IFRAME:[],TEXT:[],STREAM:[],RSS:[]};for(const rr of ut||[])Yt[rr.type]&&Yt[rr.type].push(rr);return Yt},[ut]),jt=Yt=>{var rr;if(Yt.type==="IMAGE")return ft({img:Yt,getSelectedScene:pt,setSources:gt,sendOperation:mt,url:bt,generateBlobImageURL:xt});if(Yt.type==="VIDEO"||Yt.type==="STREAM")if(Yt.type==="STREAM"){const ar=document.createElement("video");ar.autoplay=!0,ar.muted=!0,ar.playsInline=!0,ar.crossOrigin="anonymous";const sr=(rr=Yt.content)==null?void 0:rr.trim(),kt=/\.m3u8(\?|$)/i.test(sr),er=/\.mpd(\?|$)/i.test(sr);if(/^rtsp:\/\//i.test(sr)){Swal$1.fire({icon:"error",title:"RTSP    ",text:"  RTSP   HLS/DASH/WebRTC   (  FFmpeg  Nginx-rtmp)."});return}if(kt)if(ar.canPlayType("application/vnd.apple.mpegurl"))ar.src=sr;else if(Hls.isSupported()){const Vt=new Hls({lowLatencyMode:!0});Vt.loadSource(sr),Vt.attachMedia(ar),ar._hls=Vt}else{Swal$1.fire({icon:"error",title:"HLS  "});return}else ar.src=sr;ar.width=800,ar.height=450;const zt={...Yt,videoElement:ar,type:"STREAM",name:Yt.name||sr};return dt({videoElement:zt,getSelectedScene:pt,setSources:gt,sendOperation:mt,url:bt,loopVideos:yt})}else return dt({videoElement:Yt,getSelectedScene:pt,setSources:gt,sendOperation:mt,url:bt,loopVideos:yt});if(Yt.type==="IFRAME")return $t({webResource:Yt,getSelectedScene:pt,setSources:gt,sendOperation:mt,url:bt});if(Yt.type==="TEXT")return addText({textItem:Yt,getSelectedScene:pt,setSources:gt,sendOperation:mt,url:bt});if(Yt.type==="RSS")return addText({textItem:Yt,getSelectedScene:pt,setSources:gt,sendOperation:mt,url:bt})},Ut=async(Yt,rr)=>{const ar=new FormData;ar.append("file",Yt),ar.append("videoName",rr),wt(!0);try{return(await axios$1.post(`${bt}/upload`,ar,rr,{headers:{"Content-Type":"multipart/form-data"}})).data}catch{}finally{wt(!1)}},_t=Yt=>{if(Yt==="VIDEO"||Yt==="IMAGE"){const rr=document.createElement("input");rr.type="file",rr.accept=Yt==="VIDEO"?"video/*":"image/*",rr.onchange=ar=>Kt(ar,Yt),rr.click()}else Yt==="TEXT"?Swal$1.fire({title:"    :",input:"text",showCancelButton:!0,confirmButtonColor:"green",cancelButtonColor:"gray"}).then(async rr=>{if(rr.isConfirmed&&rr.value){const ar=v4(),sr=rr.value,kt=await api.createMedia(bt,{type:"TEXT",content:sr,width:0,height:100,name:sr,externalId:ar,metadata:{bgColor:"transparent",style:{dir:"rtl",fontFamily:"Vazirmatn, IRANSans, Arial",fontSize:40,color:"gray"},marquee:{speed:90,enabled:!1,scrollDirection:"rtl"}}});let er={type:"TEXT",id:kt==null?void 0:kt.id,mediaId:kt==null?void 0:kt.id,externalId:kt==null?void 0:kt.externalId,name:sr,content:sr,color:"gray",width:0,height:100,x:0,y:0,z:1,rotation:0,metadata:{bgColor:"transparent",style:{dir:"rtl",fontFamily:"Vazirmatn, IRANSans, Arial",fontSize:40,color:"gray"},marquee:{speed:90,enabled:!1,scrollDirection:"rtl"}}};Et(Gt=>[er,...Gt])}}):Yt==="RSS"?Swal$1.fire({title:" RSS   :",input:"text",showCancelButton:!0,inputPlaceholder:"https://example.com/rss",confirmButtonColor:"green",cancelButtonColor:"gray",preConfirm:async rr=>{if(!rr)return Swal$1.showValidationMessage("    "),!1;try{const ar=new URL(rr);if(!/^https?:$/i.test(ar.protocol))return Swal$1.showValidationMessage("   http://  https://  "),!1;const sr=await fetch(rr,{headers:{Accept:"application/rss+xml, application/xml, text/xml, */*"}});if(!sr.ok)return Swal$1.showValidationMessage(`    (HTTP ${sr.status})`),!1;const kt=await sr.text(),er=new DOMParser().parseFromString(kt,"application/xml"),Gt=er.querySelector("parsererror"),zt=er.querySelector("rss, rdf\\:RDF"),Vt=er.querySelector("feed");return Gt||!zt&&!Vt?(Swal$1.showValidationMessage("  RSS/Atom  "),!1):rr}catch{return Swal$1.showValidationMessage("    "),!1}}}).then(async rr=>{if(rr.isConfirmed&&rr.value){const ar=v4(),sr=rr.value,kt=await api.createMedia(bt,{type:"RSS",content:sr,width:0,height:100,name:sr,externalId:ar,metadata:{rssContent:[],bgColor:"transparent",style:{dir:"rtl",fontFamily:"Vazirmatn, IRANSans, Arial",fontSize:40,color:lt?"white":"black"},marquee:{speed:90,enabled:!1,scrollDirection:"rtl"}}});let er={type:"RSS",id:kt==null?void 0:kt.id,mediaId:kt==null?void 0:kt.id,externalId:kt==null?void 0:kt.externalId,name:sr,content:sr,color:"gray",width:0,height:100,x:0,y:0,rotation:0,metadata:{rssContent:kt.metadata.rssContent,bgColor:"transparent",style:{dir:"rtl",fontFamily:"Vazirmatn, IRANSans, Arial",fontSize:40,color:"gray"},marquee:{speed:90,enabled:!1,scrollDirection:"rtl"}}};Et(Gt=>[er,...Gt])}}):Yt==="IFRAME"?Swal$1.fire({title:"Enter the URL:",input:"text",inputPlaceholder:"https://example.com",showCancelButton:!0,confirmButtonColor:"green",cancelButtonColor:"gray",inputValidator:rr=>{if(!rr)return"    ";try{const ar=new URL(rr);if(!/^https?:$/i.test(ar.protocol))return"   http://  https://  ";if(!ar.hostname.includes("."))return"    "}catch{return"    "}}}).then(async rr=>{if(rr.isConfirmed&&rr.value){const ar=v4(),sr=rr.value,kt=await api.createMedia(bt,{type:"IFRAME",content:sr,width:1920,height:1080,name:sr,externalId:ar});let er={type:"IFRAME",id:kt.id,mediaId:kt.id,externalId:kt.externalId,name:sr,content:sr,width:1920,height:1080,x:0,y:0,z:1,rotation:0};Et(Gt=>[er,...Gt])}}):Yt==="STREAM"&&Swal$1.fire({title:"    :",input:"text",inputPlaceholder:"  http://  https://  ",showCancelButton:!0,confirmButtonColor:"green",cancelButtonColor:"gray",inputValidator:rr=>{if(!rr)return"    ";if(/^rtsp:\/\//i.test(rr))return" RTSP  .  HTTP  HTTPS  .";try{const ar=new URL(rr);return/^https?:$/i.test(ar.protocol)?ar.hostname.includes(".")?(console.log("TEST ERROR"),null):"    ":"   http://  https://  "}catch{return"    "}}}).then(async rr=>{if(rr.isConfirmed&&rr.value){const ar=v4(),sr=rr.value,kt=await api.createMedia(bt,{type:"STREAM",content:sr,width:640,height:360,name:sr,externalId:ar}),er={type:"STREAM",id:kt==null?void 0:kt.id,mediaId:kt==null?void 0:kt.id,externalId:kt==null?void 0:kt.externalId,name:sr,content:kt.content,color:lt?"white":"black",width:640,height:360,x:0,y:0,z:1,rotation:0};Et(Gt=>[er,...Gt])}})},It=async Yt=>{var ar,sr;if((await Swal$1.fire({title:"  ",icon:"warning",showCancelButton:!0,cancelButtonText:"",confirmButtonColor:"limegreen",cancelButtonColor:"#d33",confirmButtonText:""})).isConfirmed)try{wt(!0);const kt=await api.getSources(bt),er=kt.some(Ht=>{var lr;return((lr=Ht.media)==null?void 0:lr.id)==Yt});if(console.log("isResourceUsed::: ",er),!er){await Wt(Yt),Et(Ht=>Ht.filter(lr=>lr.id!==Yt));return}if(!(await Swal$1.fire({title:"        ",text:".            ",showDenyButton:!0,showCancelButton:!1,icon:"warning",confirmButtonText:"",denyButtonText:"",confirmButtonColor:"green",denyButtonColor:"gray"})).isConfirmed)return;const zt=kt.filter(Ht=>{var lr;return((lr=Ht.media)==null?void 0:lr.id)==Yt});console.log("sourcesToRemove::: ",zt);for(const Ht of zt){const lr=(ar=pt())==null?void 0:ar.layer.findOne(`#${Ht.externalId}`);lr&&lr.destroy(),mt("source",{action:"remove",id:Ht.externalId,payload:{}})}(sr=pt())==null||sr.layer.draw(),gt(Ht=>Ht.filter(lr=>{var dr;return((dr=lr.media)==null?void 0:dr.id)!=Yt})),St(Ht=>Ht.map(lr=>({...lr,schedules:lr.schedules.filter(dr=>!zt.some(nr=>nr.externalId===dr.externalId))})));const Vt=ut.find(Ht=>Ht.id===Yt);if((Vt==null?void 0:Vt.type)==="STREAM")try{const Ht=Vt.externalId||Vt.id;await axios$1.get(`${Dt}/stream/stop/${Ht}`)}catch(Ht){console.warn("Failed to stop stream on media server",Ht)}await Wt(Yt),Et(Ht=>Ht.filter(lr=>lr.id!==Yt))}catch(kt){console.error("Error deleting resource:",kt)}finally{wt(!1)}},Wt=async Yt=>{try{await api.deleteMedia(bt,Yt)}catch(rr){throw console.error("Error deleting media:",rr),rr}},Kt=async(Yt,rr)=>{const ar=Yt.target.files[0];if(ar){const sr=ar.type.split("/")[0];if(sr==="image"&&rr==="IMAGE"){const kt=URL.createObjectURL(ar);let er=new Image;er.src=kt;const Gt=v4(),zt=ar.name.split(".").slice(0,-1).join(".");er.addEventListener("load",async()=>{const Vt=await Ut(ar,Gt);let Ht={type:"IMAGE",id:Vt.id,externalId:Vt.externalId,name:zt,imageElement:er,content:Vt.content,width:er.width,height:er.height,x:0,y:0,z:1,rotation:0};Et(lr=>[Ht,...lr])})}else if(sr==="video"&&rr==="VIDEO"){const kt=document.createElement("video");kt.src=URL.createObjectURL(ar);const er=v4(),Gt=ar.name.split(".").slice(0,-1).join(".");kt.setAttribute("name",Gt);const zt=await Ut(ar,er);kt.setAttribute("id",zt.id);const Vt=kt.videoWidth,Ht=kt.videoHeight;let lr={type:"VIDEO",id:zt.id,externalId:zt.externalId,name:Gt,videoElement:kt,content:zt.content,width:Vt,height:Ht,x:0,y:0,z:1,rotation:0};Et(dr=>[lr,...dr])}}},Bt=Yt=>{rt(Yt.target.value)},Qt=async(Yt,rr)=>{await api.updateMedia(bt,Yt,{name:rr}),Et(ar=>ar.map(sr=>sr.id===Yt?{...sr,name:rr}:sr))},Nt=Yt=>{Qt(Yt,tt),_e(null),rt("")},Xt=Yt=>{var rr;if(Yt.type=="IMAGE")Ct({type:"IMAGE",img:Yt,getSelectedScene:pt,setSources:gt,sendOperation:mt,url:bt,generateBlobImageURL:xt});else if(Yt.type=="VIDEO")Ct({type:"VIDEO",videoElement:Yt,getSelectedScene:pt,setSources:gt,sendOperation:mt,url:bt,loopVideos:yt});else if(Yt.type=="IFRAME")Ct({type:"IFRAME",webResource:Yt,getSelectedScene:pt,setSources:gt,sendOperation:mt,url:bt});else if(Yt.type=="TEXT")Ct({type:"TEXT",textItem:Yt,getSelectedScene:pt,setSources:gt,sendOperation:mt,url:bt});else if(Yt.type=="RSS")Ct({type:"RSS",textItem:Yt,getSelectedScene:pt,setSources:gt,sendOperation:mt,url:bt});else if(Yt.type=="INPUT")Ct({type:"INPUT",input:Yt,getSelectedScene:pt,setSources:gt,sendOperation:mt});else if(Yt.type=="STREAM"){const ar=document.createElement("video");ar.autoplay=!0,ar.muted=!0,ar.playsInline=!0,ar.crossOrigin="anonymous";const sr=(rr=Yt.content)==null?void 0:rr.trim(),kt=/\.m3u8(\?|$)/i.test(sr),er=/\.mpd(\?|$)/i.test(sr);if(/^rtsp:\/\//i.test(sr)){Swal$1.fire({icon:"error",title:"RTSP    ",text:"  RTSP   HLS/DASH/WebRTC   (  FFmpeg  Nginx-rtmp)."});return}if(kt)if(ar.canPlayType("application/vnd.apple.mpegurl"))ar.src=sr;else if(Hls.isSupported()){const Vt=new Hls({lowLatencyMode:!0});Vt.loadSource(sr),Vt.attachMedia(ar),ar._hls=Vt}else{Swal$1.fire({icon:"error",title:"HLS  "});return}else ar.src=sr;ar.width=800,ar.height=450;const zt={...Yt,videoElement:ar,type:"STREAM",name:Yt.name||sr};Ct({type:"STREAM",videoElement:zt,getSelectedScene:pt,setSources:gt,sendOperation:mt,url:bt,loopVideos:yt})}},Zt=()=>{_e(null),rt("")};return jsxRuntimeExports.jsxs("div",{dir:"rtl",className:"p-2 rounded-lg h-full overflow-auto  flex flex-col",style:{color:lt?"#ffffff":"#000000"},children:[nt&&jsxRuntimeExports.jsxs("div",{className:"absolute left-0 right-0 top-0 bottom-0 m-auto z-[100] w-fit h-fit",children:[jsxRuntimeExports.jsx(SketchPicker,{color:it,onChange:handleColorChange}),jsxRuntimeExports.jsx(button_default,{className:"w-full my-2",onPress:()=>{st(!1)},color:"primary",variant:"solid",children:" "})]}),jsxRuntimeExports.jsxs("div",{className:"sticky flex z-[50] ",children:[jsxRuntimeExports.jsx("div",{className:"w-full",children:jsxRuntimeExports.jsxs(tabs_default,{classNames:{base:"sticky top-[-10px] z-[50] px-3 py-[2px] bg-inherit"},"aria-label":"Options",defaultSelectedKey:"items",className:`${lt?"dark":"light"}`,children:[jsxRuntimeExports.jsx(tab_item_base_default,{title:`: ${ct.length}`,children:jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-hide ",children:jsxRuntimeExports.jsx("ul",{className:"flex flex-col gap-2",children:ct==null?void 0:ct.map(Yt=>jsxRuntimeExports.jsxs("li",{draggable:!0,onDragStart:rr=>Xt(Yt),className:`text-sm flex flex-wrap items-center justify-between ${lt?"bg-orange-600":"bg-orange-600 "} p-2 rounded-md shadow-sm flex-wrap`,children:[jsxRuntimeExports.jsx("div",{className:"flex items-center w-[50%]",children:et===Yt.id?jsxRuntimeExports.jsx("input",{type:"text",value:tt,onChange:Bt,onBlur:()=>Nt(Yt.id),className:" text-black p-1 rounded-sm",autoFocus:!0}):jsxRuntimeExports.jsx("span",{className:" text-white mr-2 truncate",children:Yt.name})}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-1 w-[50%] justify-end",children:jsxRuntimeExports.jsx(tooltip_default,{content:"  ",children:jsxRuntimeExports.jsx(button_default,{className:`${lt?"text-white":"text-black"} min-w-fit h-fit p-1`,size:"sm",variant:"light",color:"default",onPress:()=>ht({input:Yt,getSelectedScene:pt,setSources:gt,sendOperation:mt}),children:jsxRuntimeExports.jsx(MdAddBox,{})})})})]},Yt.id))})})},"inputs"),jsxRuntimeExports.jsx(tab_item_base_default,{title:`: ${ut.filter(Yt=>Yt.type=="IMAGE"||Yt.type=="VIDEO").length}`,children:jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-3 px-1 pb-2",children:["IMAGE","VIDEO"].map(Yt=>{const rr=Ft[Yt].icon,ar=Ot[Yt];return jsxRuntimeExports.jsxs(card_default,{shadow:"sm",className:`${lt?"bg-gray-800 border border-white/10":"bg-white"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between px-3 py-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(rr,{className:`${lt?"text-white/90":"text-black/80"}`}),jsxRuntimeExports.jsx("span",{className:`text-sm font-medium ${lt?"text-white":"text-black"}`,children:Ft[Yt].label}),jsxRuntimeExports.jsx(chip_default,{size:"sm",variant:"flat",children:ar.length})]}),jsxRuntimeExports.jsxs(button_default,{size:"sm",variant:"flat",className:"min-w-fit",onPress:()=>_t(Yt),children:[" ",Ft[Yt].label]})]}),jsxRuntimeExports.jsx(card_body_default,{className:"pt-0",children:ar.length===0?jsxRuntimeExports.jsx("div",{className:`text-xs px-3 pb-3 ${lt?"text-white/60":"text-black/60"}`,children:"  ."}):jsxRuntimeExports.jsx("ul",{className:"grid grid-cols-2 gap-2 max-h-64 overflow-auto pr-1",children:ar.map(sr=>{var Ht,lr,dr;let er=(sr.type==="IMAGE"?(Ht=sr.imageElement)==null?void 0:Ht.src:sr.type==="VIDEO"?(lr=sr.videoElement)==null?void 0:lr.src:null)||sr.content||"";er&&bt&&/^\/(?!\/)/.test(er)&&(er=`${bt.replace(/\/+$/,"")}/${er.replace(/^\/+/,"")}`);const Gt=/\.m3u8(\?|$)/i.test(er),zt=96,Vt=Jt=>{try{Jt.dataTransfer.setData("application/json",JSON.stringify({id:sr.id,type:sr.type})),Jt.dataTransfer.setData("text/plain",sr.id),Jt.dataTransfer.effectAllowed="copy"}catch{}const nr=document.createElement("div");nr.style.width="1px",nr.style.height="1px",nr.style.opacity="0",document.body.appendChild(nr);try{Jt.dataTransfer.setDragImage(nr,0,0)}catch{}setTimeout(()=>document.body.removeChild(nr),0),Xt(sr)};return jsxRuntimeExports.jsxs("li",{draggable:!0,onDragStart:Vt,onDoubleClick:()=>Mt(sr),className:"group relative m-auto rounded-lg overflow-hidden select-none cursor-grab active:cursor-grabbing",style:{width:"90%",height:zt},title:sr.name,children:[sr.type==="IMAGE"&&er?jsxRuntimeExports.jsx("img",{src:er,alt:sr.name||"image",className:"absolute inset-0 w-full h-full object-cover pointer-events-none",draggable:!1}):sr.type==="VIDEO"&&er&&!Gt?jsxRuntimeExports.jsx("video",{src:er,muted:!0,playsInline:!0,preload:"metadata",className:"absolute inset-0 w-full h-full object-cover pointer-events-none",onMouseEnter:Jt=>{try{Jt.currentTarget.play()}catch{}},onMouseLeave:Jt=>{Jt.currentTarget.pause(),Jt.currentTarget.currentTime=0},draggable:!1}):jsxRuntimeExports.jsx("div",{className:`absolute inset-0 grid place-items-center ${lt?"bg-gray-800":"bg-gray-200"} pointer-events-none`,children:jsxRuntimeExports.jsx("span",{className:"text-2xl",children:sr.type==="VIDEO"||sr.type==="STREAM"?"":sr.type==="IMAGE"?"":""})}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 left-0 right-0 px-1 py-0.5 pointer-events-none",style:{background:"linear-gradient(180deg, rgba(0,0,0,0.55), rgba(0,0,0,0))"},children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-white/90",children:[((dr=Ft[sr.type])==null?void 0:dr.icon)&&React.createElement(Ft[sr.type].icon,{className:"text-[12px]"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:sr.type})]})}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 right-0 px-1.5 py-1 pointer-events-none",style:{background:"linear-gradient(0deg, rgba(0,0,0,0.55), rgba(0,0,0,0))"},children:jsxRuntimeExports.jsx("span",{className:"block text-[11px] text-white truncate",children:sr.name})}),jsxRuntimeExports.jsxs("div",{className:"absolute top-1 right-1 hidden gap-1 group-hover:flex",children:[jsxRuntimeExports.jsx("button",{className:`rounded-md p-1 text-xs ${lt?"bg-black/50 text-white":"bg-white/70 text-black"}`,onClick:Jt=>{Jt.preventDefault(),Jt.stopPropagation(),jt(sr)},onMouseDown:Jt=>Jt.stopPropagation(),title:"  ",children:jsxRuntimeExports.jsx(MdAddBox,{size:16})}),jsxRuntimeExports.jsx("button",{className:`rounded-md p-1 text-xs ${lt?"bg-black/50 text-white":"bg-white/70 text-black"}`,onClick:Jt=>{Jt.preventDefault(),Jt.stopPropagation(),It(sr.id)},onMouseDown:Jt=>Jt.stopPropagation(),title:"",children:jsxRuntimeExports.jsx(FaTrashAlt,{size:14})}),jsxRuntimeExports.jsx("button",{className:`rounded-md p-1 text-xs ${lt?"bg-black/50 text-white":"bg-white/70 text-black"}`,onClick:Jt=>{Jt.preventDefault(),Jt.stopPropagation(),Mt(sr)},onMouseDown:Jt=>Jt.stopPropagation(),title:"",children:jsxRuntimeExports.jsx(FaEdit,{size:14})})]}),jsxRuntimeExports.jsx("div",{className:`absolute inset-0 pointer-events-none ring-1 ${lt?"ring-white/10":"ring-black/10"} rounded-lg`})]},sr.id)})})})]},Yt)})})},"resources"),jsxRuntimeExports.jsx(tab_item_base_default,{title:`: ${ut.filter(Yt=>Yt.type!="IMAGE"&&Yt.type!="VIDEO").length}`,children:jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-3 px-1 pb-2",children:["IFRAME","TEXT","STREAM","RSS"].map(Yt=>{const rr=Ft[Yt].icon,ar=Ot[Yt];return jsxRuntimeExports.jsxs(card_default,{shadow:"sm",className:`${lt?"bg-gray-800 border border-white/10":"bg-white"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between px-3 py-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(rr,{className:`${lt?"text-white/90":"text-black/80"}`}),jsxRuntimeExports.jsx("span",{className:`text-sm font-medium ${lt?"text-white":"text-black"}`,children:Ft[Yt].label}),jsxRuntimeExports.jsx(chip_default,{size:"sm",variant:"flat",children:ar.length})]}),jsxRuntimeExports.jsxs(button_default,{size:"sm",variant:"flat",className:"min-w-fit",onPress:()=>_t(Yt),children:[" ",Ft[Yt].label]})]}),jsxRuntimeExports.jsx(card_body_default,{className:"pt-0",children:ar.length===0?jsxRuntimeExports.jsx("div",{className:`text-xs px-3 pb-3 ${lt?"text-white/60":"text-black/60"}`,children:"  ."}):jsxRuntimeExports.jsx("ul",{className:"flex flex-col gap-2 max-h-64 overflow-auto pr-1",children:ar.map(sr=>{var kt;return jsxRuntimeExports.jsxs("li",{draggable:et!==sr.id,onDragStart:er=>{Xt(sr)},className:`flex items-center justify-between p-1 rounded-md cursor-grab active:cursor-grabbing select-none ${lt?"bg-gray-700 text-white":"bg-gray-100 text-black"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 w-[70%]",children:[jsxRuntimeExports.jsx(chip_default,{size:"sm",className:"text-[10px] p-0",variant:"solid",color:((kt=Ft[sr.type])==null?void 0:kt.badge)||"default",children:sr.type}),et===sr.id?jsxRuntimeExports.jsx("input",{value:tt,onChange:Bt,onBlur:()=>Nt(sr.id),onKeyDown:er=>{er.key==="Enter"&&Nt(sr.id),er.key==="Escape"&&Zt()},className:"px-2 py-1 rounded bg-white text-black w-[180px]",autoFocus:!0,onMouseDown:er=>er.stopPropagation(),onPointerDown:er=>er.stopPropagation()}):jsxRuntimeExports.jsx("span",{className:"truncate max-w-[180px] text-sm",onDoubleClick:()=>{_e(sr.id),rt(sr.name)},title:"     ",children:sr.name})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(button_default,{size:"sm",variant:"light",className:`${lt?"text-white":"text-black"} min-w-fit h-fit p-1`,draggable:!1,onPointerDown:er=>er.stopPropagation(),onPress:()=>jt(sr),children:jsxRuntimeExports.jsx(MdAddBox,{})}),jsxRuntimeExports.jsx(button_default,{size:"sm",variant:"light",className:`${lt?"text-white":"text-black"} min-w-fit h-fit p-1`,draggable:!1,onPointerDown:er=>er.stopPropagation(),onPress:()=>It(sr.id),children:jsxRuntimeExports.jsx(FaTrashAlt,{})})]})]},sr.id)})})})]},Yt)})})},"items")]})}),jsxRuntimeExports.jsx("div",{className:"w-fit h-fit absolute left-0 top-[5px]",children:jsxRuntimeExports.jsxs(dropdown_default,{dir:"rtl",className:"vazir",children:[jsxRuntimeExports.jsx(dropdown_trigger_default,{children:jsxRuntimeExports.jsx(button_default,{className:`${lt?"text-white":"text-black"} min-w-fit h-fit p-1 text-xl`,size:"lg",variant:"light",color:"default",children:jsxRuntimeExports.jsx(MdAddBox,{})})}),jsxRuntimeExports.jsxs(dropdown_menu_default,{"aria-label":"Static Actions",children:[jsxRuntimeExports.jsx(menu_item_base_default,{onPress:()=>_t("VIDEO"),children:" "},"video"),jsxRuntimeExports.jsx(menu_item_base_default,{onPress:()=>_t("IMAGE"),children:" "},"image"),jsxRuntimeExports.jsx(menu_item_base_default,{onPress:()=>_t("IFRAME"),children:"  "},"web"),jsxRuntimeExports.jsx(menu_item_base_default,{onPress:()=>_t("TEXT"),children:" "},"text"),jsxRuntimeExports.jsx(menu_item_base_default,{onPress:()=>_t("RSS"),children:" "},"rss")]})]})})]})]})},ScenesSidebar=()=>{const{darkMode:et,scenes:_e,selectedScene:tt,setSelectedScene:rt,editingSceneId:nt,setEditingSceneId:st,filteredScenes:it,addScene:at,setIsLoading:ot,setScenes:lt,deleteScene:ct,handleEditSceneName:ut,setCollections:dt,selectedCollection:ft,url:ht,setSources:pt,sources:gt,collections:mt,generateScene:bt,videoWalls:vt,createNewStage:yt}=useMyContext(),xt=_e.filter($t=>it==null?void 0:it.some(Tt=>Tt.id===$t.id)),Et=_e.filter($t=>!(it!=null&&it.some(Tt=>Tt.id===$t.id))),wt=async $t=>{if(tt==$t.id)return;localStorage.setItem("sceneId",$t.id),rt($t.id);const Tt=_e.find(Rt=>Rt.id===$t.id).layer;let St=_e.find(Rt=>Rt.id===$t.id);const Pt=await api.getSceneById(ht,$t.id);pt(Pt.sources);let At=!0;Tt&&(Tt.getChildren().forEach(Rt=>{typeof Rt.getAttr("catFix")>"u"&&(At=!1)}),Tt.draw()),Pt.sources&&Pt.sources.length>0&&Tt&&At&&bt(Pt.sources,St)};return jsxRuntimeExports.jsxs("div",{dir:"rtl",className:"p-2 rounded-lg h-full overflow-auto",style:{color:et?"#ffffff":"#000000"},children:[jsxRuntimeExports.jsx("div",{className:"sticky top-[-10px] z-[50] px-3 py-[2px] bg-inherit",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-3",children:[jsxRuntimeExports.jsx("h2",{className:"text-md font-semibold",children:""}),jsxRuntimeExports.jsx(button_default,{className:`${et?"text-white":"text-black"} min-w-fit h-fit p-1 text-xl`,size:"lg",variant:"light",color:"default",onPress:()=>at({collections:mt,setIsLoading:ot,scenes:_e,setScenes:lt,setSelectedScene:rt,setCollections:dt,selectedCollection:ft,url:ht,videoWalls:vt,createNewStage:yt}),children:jsxRuntimeExports.jsx(MdAddBox,{})})]})}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-hide",children:jsxRuntimeExports.jsxs("ul",{className:"flex flex-col gap-2",children:[xt==null?void 0:xt.map($t=>jsxRuntimeExports.jsx("li",{className:"flex items-center justify-between",children:nt===$t.id?jsxRuntimeExports.jsx("input",{type:"text",defaultValue:$t.name,onBlur:Tt=>ut({id:$t.id,newName:Tt.target.value,setScenes:lt,setIsLoading:ot,url:ht,setEditingSceneId:st}),className:"p-2 rounded-md bg-gray-700 text-white w-full",autoFocus:!0}):jsxRuntimeExports.jsxs("div",{className:`p-2 cursor-pointer flex justify-between rounded-md transition-colors duration-200 w-full ${tt===$t.id?"bg-blue-500 text-white":et?"bg-green-800 hover:bg-gray-700":"bg-green-400 hover:bg-gray-500"}`,onDoubleClick:()=>st($t.id),onClick:()=>wt($t),children:[jsxRuntimeExports.jsxs("span",{className:"flex-grow font-semibold",children:[$t.name,jsxRuntimeExports.jsx(chip_default,{size:"sm",color:"secondary",className:"mr-2",classNames:{content:"text-[10px]"},variant:"solid",children:mt.find(Tt=>Tt.id==ft).name}),it!=null&&it.find(Tt=>Tt.id==$t.id)?" () ":""]}),jsxRuntimeExports.jsx("div",{className:"flex gap-1",children:jsxRuntimeExports.jsx(tooltip_default,{content:" ",children:jsxRuntimeExports.jsx(button_default,{className:"min-w-fit h-fit p-1",size:"sm",variant:"flat",color:"default",onPress:()=>ct({id:$t.id,setIsLoading:ot,scenes:_e,sources:gt,setScenes:lt,setSources:pt,selectedScene:tt,setSelectedScene:rt,url:ht,collections:mt,setCollections:dt}),disabled:_e.length===1,children:jsxRuntimeExports.jsx(FaTrashAlt,{size:14})})})})]})},$t.id)),Et==null?void 0:Et.map($t=>jsxRuntimeExports.jsx("li",{className:"flex items-center justify-between",children:nt===$t.id?jsxRuntimeExports.jsx("input",{type:"text",defaultValue:$t.name,onBlur:Tt=>ut({id:$t.id,newName:Tt.target.value,setScenes:lt,setIsLoading:ot,url:ht,setEditingSceneId:st}),className:"p-2 rounded-md bg-gray-700 text-white w-full",autoFocus:!0}):jsxRuntimeExports.jsxs("div",{className:`p-2 cursor-pointer flex justify-between rounded-md transition-colors duration-200 w-full ${tt===$t.id?"bg-blue-500 text-white":et?"bg-gray-600 hover:bg-gray-600":"bg-gray-200 hover:bg-gray-400"}`,onDoubleClick:()=>st($t.id),onClick:()=>wt($t),children:[jsxRuntimeExports.jsxs("span",{className:"flex-grow",children:[$t.name,mt.find(Tt=>{Tt.schedules.map(St=>jsxRuntimeExports.jsx(chip_default,{size:"sm",color:"default",className:"mx-2",classNames:{content:"text-[10px]"},variant:"solid",children:St.name}))}),it!=null&&it.find(Tt=>Tt.id==$t.id)?" () ":""]}),jsxRuntimeExports.jsx("div",{className:"flex gap-1",children:jsxRuntimeExports.jsx(tooltip_default,{content:" ",children:jsxRuntimeExports.jsx(button_default,{className:"min-w-fit h-fit p-1",size:"sm",variant:"flat",color:"default",onPress:()=>ct({id:$t.id,setIsLoading:ot,scenes:_e,sources:gt,setScenes:lt,setSources:pt,selectedScene:tt,setSelectedScene:rt,url:ht,collections:mt,setCollections:dt}),disabled:_e.length===1,children:jsxRuntimeExports.jsx(FaTrashAlt,{size:14})})})})]})},$t.id))]})})]})};function SwitchCustom({setDarkMode:et,darkMode:_e}){return jsxRuntimeExports.jsx(button_default,{size:"sm",className:"min-w-fit px-2 shadow-md cursor-pointer",variant:"solid",color:_e?"default":"primary",onPress:()=>{localStorage.setItem("darkMode",!_e),et(!_e)},children:_e?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(BsMoon,{size:16}),"  "]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(BsSun,{size:16}),"  "]})})}function TbFocusCentered(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M4 8v-2a2 2 0 0 1 2 -2h2"},child:[]},{tag:"path",attr:{d:"M4 16v2a2 2 0 0 0 2 2h2"},child:[]},{tag:"path",attr:{d:"M16 4h2a2 2 0 0 1 2 2v2"},child:[]},{tag:"path",attr:{d:"M16 20h2a2 2 0 0 0 2 -2v-2"},child:[]}]})(et)}function TbMaximize(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 8v-2a2 2 0 0 1 2 -2h2"},child:[]},{tag:"path",attr:{d:"M4 16v2a2 2 0 0 0 2 2h2"},child:[]},{tag:"path",attr:{d:"M16 4h2a2 2 0 0 1 2 2v2"},child:[]},{tag:"path",attr:{d:"M16 20h2a2 2 0 0 0 2 -2v-2"},child:[]}]})(et)}function TbRefresh(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4"},child:[]},{tag:"path",attr:{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"},child:[]}]})(et)}function TbTrash(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 7l16 0"},child:[]},{tag:"path",attr:{d:"M10 11l0 6"},child:[]},{tag:"path",attr:{d:"M14 11l0 6"},child:[]},{tag:"path",attr:{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"},child:[]},{tag:"path",attr:{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"},child:[]}]})(et)}function TbZoomIn(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"},child:[]},{tag:"path",attr:{d:"M7 10l6 0"},child:[]},{tag:"path",attr:{d:"M10 7l0 6"},child:[]},{tag:"path",attr:{d:"M21 21l-6 -6"},child:[]}]})(et)}function TbZoomOut(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"},child:[]},{tag:"path",attr:{d:"M7 10l6 0"},child:[]},{tag:"path",attr:{d:"M21 21l-6 -6"},child:[]}]})(et)}function TbZoomReset(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 21l-6 -6"},child:[]},{tag:"path",attr:{d:"M3.268 12.043a7.017 7.017 0 0 0 6.634 4.957a7.012 7.012 0 0 0 7.043 -6.131a7 7 0 0 0 -5.314 -7.672a7.021 7.021 0 0 0 -8.241 4.403"},child:[]},{tag:"path",attr:{d:"M3 4v4h4"},child:[]}]})(et)}function ModalVideoWall({darkMode:et,videoWall:_e}){const{isOpen:tt,onOpen:rt,onOpenChange:nt}=useDisclosure();return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(tooltip_default,{content:" ",children:jsxRuntimeExports.jsxs(button_default,{className:" min-w-[35px] h-[33px] rounded-lg p-1",size:"sm",variant:"solid",color:"default",onPress:rt,children:[jsxRuntimeExports.jsx(BsGrid3X3,{size:20}),""]})}),jsxRuntimeExports.jsx(modal_default,{scrollBehavior:"outside",className:"z-[100]",dir:"rtl",isOpen:tt,onOpenChange:nt,children:jsxRuntimeExports.jsx(modal_content_default,{children:st=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(modal_header_default,{className:"flex flex-col gap-1 text-lg font-bold",children:_e.length>0?" ":"   "}),jsxRuntimeExports.jsx(modal_body_default,{children:jsxRuntimeExports.jsx("div",{dir:"rtl",className:"w-full h-full flex flex-col gap-4 overflow-auto",children:_e.map(it=>jsxRuntimeExports.jsxs(card_default$1,{className:"dark:bg-gray-800 dark:text-gray-200 bg-gray-50 text-gray-800 shadow-md",isHoverable:!0,isPressable:!0,variant:"bordered",dir:"rtl",children:[jsxRuntimeExports.jsx(card_header_default,{children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between w-full",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[it.connected===!0?jsxRuntimeExports.jsx("div",{className:"blob"}):jsxRuntimeExports.jsx("div",{className:"blobred"}),jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold",children:[" :",it.name||it.id||0]})]})})}),jsxRuntimeExports.jsx(divider_default$1,{}),jsxRuntimeExports.jsx(card_body_default$1,{children:jsxRuntimeExports.jsxs("div",{dir:"rtl",className:"flex flex-col gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("strong",{children:":"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-1",children:[jsxRuntimeExports.jsx(chip_default,{size:"sm",color:"secondary",children:`: ${it.width}`}),"*",jsxRuntimeExports.jsx(chip_default,{size:"sm",color:"secondary",children:`: ${it.height}`})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("strong",{children:":"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-1",children:[jsxRuntimeExports.jsx(chip_default,{size:"sm",color:"primary",children:`X: ${it.x}`}),jsxRuntimeExports.jsx(chip_default,{size:"sm",color:"primary",children:`Y: ${it.y}`})]})]})]})})]},`${it.id}${Math.random()}`))})}),jsxRuntimeExports.jsx(modal_footer_default,{children:jsxRuntimeExports.jsx(button_default,{fullWidth:!0,color:"danger",variant:"light",onPress:st,children:""})})]})})})]})}function PiTimerBold(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M128,44a96,96,0,1,0,96,96A96.11,96.11,0,0,0,128,44Zm0,168a72,72,0,1,1,72-72A72.08,72.08,0,0,1,128,212ZM164.49,99.51a12,12,0,0,1,0,17l-28,28a12,12,0,0,1-17-17l28-28A12,12,0,0,1,164.49,99.51ZM92,16A12,12,0,0,1,104,4h48a12,12,0,0,1,0,24H104A12,12,0,0,1,92,16Z"},child:[]}]})(et)}const ModalInfo=({darkMode:et})=>{const{isOpen:_e,onOpen:tt,onOpenChange:rt}=useDisclosure();return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(tooltip_default,{content:" ",children:jsxRuntimeExports.jsxs(button_default,{className:" min-w-[35px] h-[33px] rounded-lg  p-1",size:"sm",variant:"solid",color:"default",onPress:tt,children:[jsxRuntimeExports.jsx(BsInfoCircle,{size:17})," "]})}),jsxRuntimeExports.jsx(modal_default,{dir:"rtl",scrollBehavior:"outside",isOpen:_e,onOpenChange:rt,children:jsxRuntimeExports.jsx(modal_content_default,{children:nt=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(modal_header_default,{children:"   "}),jsxRuntimeExports.jsx(modal_body_default,{children:jsxRuntimeExports.jsxs("div",{className:"text-justify leading-6",children:[jsxRuntimeExports.jsx("p",{className:"text-lg font-bold",children:"    (MRK)"}),jsxRuntimeExports.jsx("p",{className:"mt-2",children:"                .                   ."}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-lg font-bold",children:"   "}),jsxRuntimeExports.jsx("p",{className:"mt-2",children:"    (Video Wall Controller)                        .     :"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc pl-6 mt-2",children:[jsxRuntimeExports.jsx("li",{children:"    "}),jsxRuntimeExports.jsx("li",{children:"   "}),jsxRuntimeExports.jsx("li",{children:"     "})]}),jsxRuntimeExports.jsx("p",{className:"mt-4",children:"          :"}),jsxRuntimeExports.jsx("a",{href:"https://mrk.co.ir/videowall/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 underline",children:"www.mrk.co.ir"})]})}),jsxRuntimeExports.jsx(modal_footer_default,{children:jsxRuntimeExports.jsx(button_default,{color:"danger",fullWidth:!0,variant:"light",onPress:nt,children:""})})]})})})]})};function commonjsRequire(et){throw new Error('Could not dynamically require "'+et+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var jszip_min={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(et,_e){(function(tt){et.exports=tt()})(function(){return function tt(rt,nt,st){function it(lt,ct){if(!nt[lt]){if(!rt[lt]){var ut=typeof commonjsRequire=="function"&&commonjsRequire;if(!ct&&ut)return ut(lt,!0);if(at)return at(lt,!0);var dt=new Error("Cannot find module '"+lt+"'");throw dt.code="MODULE_NOT_FOUND",dt}var ft=nt[lt]={exports:{}};rt[lt][0].call(ft.exports,function(ht){var pt=rt[lt][1][ht];return it(pt||ht)},ft,ft.exports,tt,rt,nt,st)}return nt[lt].exports}for(var at=typeof commonjsRequire=="function"&&commonjsRequire,ot=0;ot<st.length;ot++)it(st[ot]);return it}({1:[function(tt,rt,nt){var st=tt("./utils"),it=tt("./support"),at="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";nt.encode=function(ot){for(var lt,ct,ut,dt,ft,ht,pt,gt=[],mt=0,bt=ot.length,vt=bt,yt=st.getTypeOf(ot)!=="string";mt<ot.length;)vt=bt-mt,ut=yt?(lt=ot[mt++],ct=mt<bt?ot[mt++]:0,mt<bt?ot[mt++]:0):(lt=ot.charCodeAt(mt++),ct=mt<bt?ot.charCodeAt(mt++):0,mt<bt?ot.charCodeAt(mt++):0),dt=lt>>2,ft=(3&lt)<<4|ct>>4,ht=1<vt?(15&ct)<<2|ut>>6:64,pt=2<vt?63&ut:64,gt.push(at.charAt(dt)+at.charAt(ft)+at.charAt(ht)+at.charAt(pt));return gt.join("")},nt.decode=function(ot){var lt,ct,ut,dt,ft,ht,pt=0,gt=0,mt="data:";if(ot.substr(0,mt.length)===mt)throw new Error("Invalid base64 input, it looks like a data url.");var bt,vt=3*(ot=ot.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(ot.charAt(ot.length-1)===at.charAt(64)&&vt--,ot.charAt(ot.length-2)===at.charAt(64)&&vt--,vt%1!=0)throw new Error("Invalid base64 input, bad content length.");for(bt=it.uint8array?new Uint8Array(0|vt):new Array(0|vt);pt<ot.length;)lt=at.indexOf(ot.charAt(pt++))<<2|(dt=at.indexOf(ot.charAt(pt++)))>>4,ct=(15&dt)<<4|(ft=at.indexOf(ot.charAt(pt++)))>>2,ut=(3&ft)<<6|(ht=at.indexOf(ot.charAt(pt++))),bt[gt++]=lt,ft!==64&&(bt[gt++]=ct),ht!==64&&(bt[gt++]=ut);return bt}},{"./support":30,"./utils":32}],2:[function(tt,rt,nt){var st=tt("./external"),it=tt("./stream/DataWorker"),at=tt("./stream/Crc32Probe"),ot=tt("./stream/DataLengthProbe");function lt(ct,ut,dt,ft,ht){this.compressedSize=ct,this.uncompressedSize=ut,this.crc32=dt,this.compression=ft,this.compressedContent=ht}lt.prototype={getContentWorker:function(){var ct=new it(st.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new ot("data_length")),ut=this;return ct.on("end",function(){if(this.streamInfo.data_length!==ut.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),ct},getCompressedWorker:function(){return new it(st.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},lt.createWorkerFrom=function(ct,ut,dt){return ct.pipe(new at).pipe(new ot("uncompressedSize")).pipe(ut.compressWorker(dt)).pipe(new ot("compressedSize")).withStreamInfo("compression",ut)},rt.exports=lt},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(tt,rt,nt){var st=tt("./stream/GenericWorker");nt.STORE={magic:"\0\0",compressWorker:function(){return new st("STORE compression")},uncompressWorker:function(){return new st("STORE decompression")}},nt.DEFLATE=tt("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(tt,rt,nt){var st=tt("./utils"),it=function(){for(var at,ot=[],lt=0;lt<256;lt++){at=lt;for(var ct=0;ct<8;ct++)at=1&at?3988292384^at>>>1:at>>>1;ot[lt]=at}return ot}();rt.exports=function(at,ot){return at!==void 0&&at.length?st.getTypeOf(at)!=="string"?function(lt,ct,ut,dt){var ft=it,ht=dt+ut;lt^=-1;for(var pt=dt;pt<ht;pt++)lt=lt>>>8^ft[255&(lt^ct[pt])];return-1^lt}(0|ot,at,at.length,0):function(lt,ct,ut,dt){var ft=it,ht=dt+ut;lt^=-1;for(var pt=dt;pt<ht;pt++)lt=lt>>>8^ft[255&(lt^ct.charCodeAt(pt))];return-1^lt}(0|ot,at,at.length,0):0}},{"./utils":32}],5:[function(tt,rt,nt){nt.base64=!1,nt.binary=!1,nt.dir=!1,nt.createFolders=!0,nt.date=null,nt.compression=null,nt.compressionOptions=null,nt.comment=null,nt.unixPermissions=null,nt.dosPermissions=null},{}],6:[function(tt,rt,nt){var st=null;st=typeof Promise<"u"?Promise:tt("lie"),rt.exports={Promise:st}},{lie:37}],7:[function(tt,rt,nt){var st=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",it=tt("pako"),at=tt("./utils"),ot=tt("./stream/GenericWorker"),lt=st?"uint8array":"array";function ct(ut,dt){ot.call(this,"FlateWorker/"+ut),this._pako=null,this._pakoAction=ut,this._pakoOptions=dt,this.meta={}}nt.magic="\b\0",at.inherits(ct,ot),ct.prototype.processChunk=function(ut){this.meta=ut.meta,this._pako===null&&this._createPako(),this._pako.push(at.transformTo(lt,ut.data),!1)},ct.prototype.flush=function(){ot.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},ct.prototype.cleanUp=function(){ot.prototype.cleanUp.call(this),this._pako=null},ct.prototype._createPako=function(){this._pako=new it[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var ut=this;this._pako.onData=function(dt){ut.push({data:dt,meta:ut.meta})}},nt.compressWorker=function(ut){return new ct("Deflate",ut)},nt.uncompressWorker=function(){return new ct("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(tt,rt,nt){function st(ft,ht){var pt,gt="";for(pt=0;pt<ht;pt++)gt+=String.fromCharCode(255&ft),ft>>>=8;return gt}function it(ft,ht,pt,gt,mt,bt){var vt,yt,xt=ft.file,Et=ft.compression,wt=bt!==lt.utf8encode,$t=at.transformTo("string",bt(xt.name)),Tt=at.transformTo("string",lt.utf8encode(xt.name)),St=xt.comment,Pt=at.transformTo("string",bt(St)),At=at.transformTo("string",lt.utf8encode(St)),Rt=Tt.length!==xt.name.length,Ct=At.length!==St.length,Dt="",Ft="",Mt="",Ot=xt.dir,jt=xt.date,Ut={crc32:0,compressedSize:0,uncompressedSize:0};ht&&!pt||(Ut.crc32=ft.crc32,Ut.compressedSize=ft.compressedSize,Ut.uncompressedSize=ft.uncompressedSize);var _t=0;ht&&(_t|=8),wt||!Rt&&!Ct||(_t|=2048);var It=0,Wt=0;Ot&&(It|=16),mt==="UNIX"?(Wt=798,It|=function(Bt,Qt){var Nt=Bt;return Bt||(Nt=Qt?16893:33204),(65535&Nt)<<16}(xt.unixPermissions,Ot)):(Wt=20,It|=function(Bt){return 63&(Bt||0)}(xt.dosPermissions)),vt=jt.getUTCHours(),vt<<=6,vt|=jt.getUTCMinutes(),vt<<=5,vt|=jt.getUTCSeconds()/2,yt=jt.getUTCFullYear()-1980,yt<<=4,yt|=jt.getUTCMonth()+1,yt<<=5,yt|=jt.getUTCDate(),Rt&&(Ft=st(1,1)+st(ct($t),4)+Tt,Dt+="up"+st(Ft.length,2)+Ft),Ct&&(Mt=st(1,1)+st(ct(Pt),4)+At,Dt+="uc"+st(Mt.length,2)+Mt);var Kt="";return Kt+=`
\0`,Kt+=st(_t,2),Kt+=Et.magic,Kt+=st(vt,2),Kt+=st(yt,2),Kt+=st(Ut.crc32,4),Kt+=st(Ut.compressedSize,4),Kt+=st(Ut.uncompressedSize,4),Kt+=st($t.length,2),Kt+=st(Dt.length,2),{fileRecord:ut.LOCAL_FILE_HEADER+Kt+$t+Dt,dirRecord:ut.CENTRAL_FILE_HEADER+st(Wt,2)+Kt+st(Pt.length,2)+"\0\0\0\0"+st(It,4)+st(gt,4)+$t+Dt+Pt}}var at=tt("../utils"),ot=tt("../stream/GenericWorker"),lt=tt("../utf8"),ct=tt("../crc32"),ut=tt("../signature");function dt(ft,ht,pt,gt){ot.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=ht,this.zipPlatform=pt,this.encodeFileName=gt,this.streamFiles=ft,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}at.inherits(dt,ot),dt.prototype.push=function(ft){var ht=ft.meta.percent||0,pt=this.entriesCount,gt=this._sources.length;this.accumulate?this.contentBuffer.push(ft):(this.bytesWritten+=ft.data.length,ot.prototype.push.call(this,{data:ft.data,meta:{currentFile:this.currentFile,percent:pt?(ht+100*(pt-gt-1))/pt:100}}))},dt.prototype.openedSource=function(ft){this.currentSourceOffset=this.bytesWritten,this.currentFile=ft.file.name;var ht=this.streamFiles&&!ft.file.dir;if(ht){var pt=it(ft,ht,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:pt.fileRecord,meta:{percent:0}})}else this.accumulate=!0},dt.prototype.closedSource=function(ft){this.accumulate=!1;var ht=this.streamFiles&&!ft.file.dir,pt=it(ft,ht,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(pt.dirRecord),ht)this.push({data:function(gt){return ut.DATA_DESCRIPTOR+st(gt.crc32,4)+st(gt.compressedSize,4)+st(gt.uncompressedSize,4)}(ft),meta:{percent:100}});else for(this.push({data:pt.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},dt.prototype.flush=function(){for(var ft=this.bytesWritten,ht=0;ht<this.dirRecords.length;ht++)this.push({data:this.dirRecords[ht],meta:{percent:100}});var pt=this.bytesWritten-ft,gt=function(mt,bt,vt,yt,xt){var Et=at.transformTo("string",xt(yt));return ut.CENTRAL_DIRECTORY_END+"\0\0\0\0"+st(mt,2)+st(mt,2)+st(bt,4)+st(vt,4)+st(Et.length,2)+Et}(this.dirRecords.length,pt,ft,this.zipComment,this.encodeFileName);this.push({data:gt,meta:{percent:100}})},dt.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},dt.prototype.registerPrevious=function(ft){this._sources.push(ft);var ht=this;return ft.on("data",function(pt){ht.processChunk(pt)}),ft.on("end",function(){ht.closedSource(ht.previous.streamInfo),ht._sources.length?ht.prepareNextSource():ht.end()}),ft.on("error",function(pt){ht.error(pt)}),this},dt.prototype.resume=function(){return!!ot.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},dt.prototype.error=function(ft){var ht=this._sources;if(!ot.prototype.error.call(this,ft))return!1;for(var pt=0;pt<ht.length;pt++)try{ht[pt].error(ft)}catch{}return!0},dt.prototype.lock=function(){ot.prototype.lock.call(this);for(var ft=this._sources,ht=0;ht<ft.length;ht++)ft[ht].lock()},rt.exports=dt},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(tt,rt,nt){var st=tt("../compressions"),it=tt("./ZipFileWorker");nt.generateWorker=function(at,ot,lt){var ct=new it(ot.streamFiles,lt,ot.platform,ot.encodeFileName),ut=0;try{at.forEach(function(dt,ft){ut++;var ht=function(bt,vt){var yt=bt||vt,xt=st[yt];if(!xt)throw new Error(yt+" is not a valid compression method !");return xt}(ft.options.compression,ot.compression),pt=ft.options.compressionOptions||ot.compressionOptions||{},gt=ft.dir,mt=ft.date;ft._compressWorker(ht,pt).withStreamInfo("file",{name:dt,dir:gt,date:mt,comment:ft.comment||"",unixPermissions:ft.unixPermissions,dosPermissions:ft.dosPermissions}).pipe(ct)}),ct.entriesCount=ut}catch(dt){ct.error(dt)}return ct}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(tt,rt,nt){function st(){if(!(this instanceof st))return new st;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var it=new st;for(var at in this)typeof this[at]!="function"&&(it[at]=this[at]);return it}}(st.prototype=tt("./object")).loadAsync=tt("./load"),st.support=tt("./support"),st.defaults=tt("./defaults"),st.version="3.10.1",st.loadAsync=function(it,at){return new st().loadAsync(it,at)},st.external=tt("./external"),rt.exports=st},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(tt,rt,nt){var st=tt("./utils"),it=tt("./external"),at=tt("./utf8"),ot=tt("./zipEntries"),lt=tt("./stream/Crc32Probe"),ct=tt("./nodejsUtils");function ut(dt){return new it.Promise(function(ft,ht){var pt=dt.decompressed.getContentWorker().pipe(new lt);pt.on("error",function(gt){ht(gt)}).on("end",function(){pt.streamInfo.crc32!==dt.decompressed.crc32?ht(new Error("Corrupted zip : CRC32 mismatch")):ft()}).resume()})}rt.exports=function(dt,ft){var ht=this;return ft=st.extend(ft||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:at.utf8decode}),ct.isNode&&ct.isStream(dt)?it.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):st.prepareContent("the loaded zip file",dt,!0,ft.optimizedBinaryString,ft.base64).then(function(pt){var gt=new ot(ft);return gt.load(pt),gt}).then(function(pt){var gt=[it.Promise.resolve(pt)],mt=pt.files;if(ft.checkCRC32)for(var bt=0;bt<mt.length;bt++)gt.push(ut(mt[bt]));return it.Promise.all(gt)}).then(function(pt){for(var gt=pt.shift(),mt=gt.files,bt=0;bt<mt.length;bt++){var vt=mt[bt],yt=vt.fileNameStr,xt=st.resolve(vt.fileNameStr);ht.file(xt,vt.decompressed,{binary:!0,optimizedBinaryString:!0,date:vt.date,dir:vt.dir,comment:vt.fileCommentStr.length?vt.fileCommentStr:null,unixPermissions:vt.unixPermissions,dosPermissions:vt.dosPermissions,createFolders:ft.createFolders}),vt.dir||(ht.file(xt).unsafeOriginalName=yt)}return gt.zipComment.length&&(ht.comment=gt.zipComment),ht})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(tt,rt,nt){var st=tt("../utils"),it=tt("../stream/GenericWorker");function at(ot,lt){it.call(this,"Nodejs stream input adapter for "+ot),this._upstreamEnded=!1,this._bindStream(lt)}st.inherits(at,it),at.prototype._bindStream=function(ot){var lt=this;(this._stream=ot).pause(),ot.on("data",function(ct){lt.push({data:ct,meta:{percent:0}})}).on("error",function(ct){lt.isPaused?this.generatedError=ct:lt.error(ct)}).on("end",function(){lt.isPaused?lt._upstreamEnded=!0:lt.end()})},at.prototype.pause=function(){return!!it.prototype.pause.call(this)&&(this._stream.pause(),!0)},at.prototype.resume=function(){return!!it.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},rt.exports=at},{"../stream/GenericWorker":28,"../utils":32}],13:[function(tt,rt,nt){var st=tt("readable-stream").Readable;function it(at,ot,lt){st.call(this,ot),this._helper=at;var ct=this;at.on("data",function(ut,dt){ct.push(ut)||ct._helper.pause(),lt&&lt(dt)}).on("error",function(ut){ct.emit("error",ut)}).on("end",function(){ct.push(null)})}tt("../utils").inherits(it,st),it.prototype._read=function(){this._helper.resume()},rt.exports=it},{"../utils":32,"readable-stream":16}],14:[function(tt,rt,nt){rt.exports={isNode:typeof Buffer<"u",newBufferFrom:function(st,it){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(st,it);if(typeof st=="number")throw new Error('The "data" argument must not be a number');return new Buffer(st,it)},allocBuffer:function(st){if(Buffer.alloc)return Buffer.alloc(st);var it=new Buffer(st);return it.fill(0),it},isBuffer:function(st){return Buffer.isBuffer(st)},isStream:function(st){return st&&typeof st.on=="function"&&typeof st.pause=="function"&&typeof st.resume=="function"}}},{}],15:[function(tt,rt,nt){function st(xt,Et,wt){var $t,Tt=at.getTypeOf(Et),St=at.extend(wt||{},ct);St.date=St.date||new Date,St.compression!==null&&(St.compression=St.compression.toUpperCase()),typeof St.unixPermissions=="string"&&(St.unixPermissions=parseInt(St.unixPermissions,8)),St.unixPermissions&&16384&St.unixPermissions&&(St.dir=!0),St.dosPermissions&&16&St.dosPermissions&&(St.dir=!0),St.dir&&(xt=mt(xt)),St.createFolders&&($t=gt(xt))&&bt.call(this,$t,!0);var Pt=Tt==="string"&&St.binary===!1&&St.base64===!1;wt&&wt.binary!==void 0||(St.binary=!Pt),(Et instanceof ut&&Et.uncompressedSize===0||St.dir||!Et||Et.length===0)&&(St.base64=!1,St.binary=!0,Et="",St.compression="STORE",Tt="string");var At=null;At=Et instanceof ut||Et instanceof ot?Et:ht.isNode&&ht.isStream(Et)?new pt(xt,Et):at.prepareContent(xt,Et,St.binary,St.optimizedBinaryString,St.base64);var Rt=new dt(xt,At,St);this.files[xt]=Rt}var it=tt("./utf8"),at=tt("./utils"),ot=tt("./stream/GenericWorker"),lt=tt("./stream/StreamHelper"),ct=tt("./defaults"),ut=tt("./compressedObject"),dt=tt("./zipObject"),ft=tt("./generate"),ht=tt("./nodejsUtils"),pt=tt("./nodejs/NodejsStreamInputAdapter"),gt=function(xt){xt.slice(-1)==="/"&&(xt=xt.substring(0,xt.length-1));var Et=xt.lastIndexOf("/");return 0<Et?xt.substring(0,Et):""},mt=function(xt){return xt.slice(-1)!=="/"&&(xt+="/"),xt},bt=function(xt,Et){return Et=Et!==void 0?Et:ct.createFolders,xt=mt(xt),this.files[xt]||st.call(this,xt,null,{dir:!0,createFolders:Et}),this.files[xt]};function vt(xt){return Object.prototype.toString.call(xt)==="[object RegExp]"}var yt={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(xt){var Et,wt,$t;for(Et in this.files)$t=this.files[Et],(wt=Et.slice(this.root.length,Et.length))&&Et.slice(0,this.root.length)===this.root&&xt(wt,$t)},filter:function(xt){var Et=[];return this.forEach(function(wt,$t){xt(wt,$t)&&Et.push($t)}),Et},file:function(xt,Et,wt){if(arguments.length!==1)return xt=this.root+xt,st.call(this,xt,Et,wt),this;if(vt(xt)){var $t=xt;return this.filter(function(St,Pt){return!Pt.dir&&$t.test(St)})}var Tt=this.files[this.root+xt];return Tt&&!Tt.dir?Tt:null},folder:function(xt){if(!xt)return this;if(vt(xt))return this.filter(function(Tt,St){return St.dir&&xt.test(Tt)});var Et=this.root+xt,wt=bt.call(this,Et),$t=this.clone();return $t.root=wt.name,$t},remove:function(xt){xt=this.root+xt;var Et=this.files[xt];if(Et||(xt.slice(-1)!=="/"&&(xt+="/"),Et=this.files[xt]),Et&&!Et.dir)delete this.files[xt];else for(var wt=this.filter(function(Tt,St){return St.name.slice(0,xt.length)===xt}),$t=0;$t<wt.length;$t++)delete this.files[wt[$t].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(xt){var Et,wt={};try{if((wt=at.extend(xt||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:it.utf8encode})).type=wt.type.toLowerCase(),wt.compression=wt.compression.toUpperCase(),wt.type==="binarystring"&&(wt.type="string"),!wt.type)throw new Error("No output type specified.");at.checkSupport(wt.type),wt.platform!=="darwin"&&wt.platform!=="freebsd"&&wt.platform!=="linux"&&wt.platform!=="sunos"||(wt.platform="UNIX"),wt.platform==="win32"&&(wt.platform="DOS");var $t=wt.comment||this.comment||"";Et=ft.generateWorker(this,wt,$t)}catch(Tt){(Et=new ot("error")).error(Tt)}return new lt(Et,wt.type||"string",wt.mimeType)},generateAsync:function(xt,Et){return this.generateInternalStream(xt).accumulate(Et)},generateNodeStream:function(xt,Et){return(xt=xt||{}).type||(xt.type="nodebuffer"),this.generateInternalStream(xt).toNodejsStream(Et)}};rt.exports=yt},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(tt,rt,nt){rt.exports=tt("stream")},{stream:void 0}],17:[function(tt,rt,nt){var st=tt("./DataReader");function it(at){st.call(this,at);for(var ot=0;ot<this.data.length;ot++)at[ot]=255&at[ot]}tt("../utils").inherits(it,st),it.prototype.byteAt=function(at){return this.data[this.zero+at]},it.prototype.lastIndexOfSignature=function(at){for(var ot=at.charCodeAt(0),lt=at.charCodeAt(1),ct=at.charCodeAt(2),ut=at.charCodeAt(3),dt=this.length-4;0<=dt;--dt)if(this.data[dt]===ot&&this.data[dt+1]===lt&&this.data[dt+2]===ct&&this.data[dt+3]===ut)return dt-this.zero;return-1},it.prototype.readAndCheckSignature=function(at){var ot=at.charCodeAt(0),lt=at.charCodeAt(1),ct=at.charCodeAt(2),ut=at.charCodeAt(3),dt=this.readData(4);return ot===dt[0]&&lt===dt[1]&&ct===dt[2]&&ut===dt[3]},it.prototype.readData=function(at){if(this.checkOffset(at),at===0)return[];var ot=this.data.slice(this.zero+this.index,this.zero+this.index+at);return this.index+=at,ot},rt.exports=it},{"../utils":32,"./DataReader":18}],18:[function(tt,rt,nt){var st=tt("../utils");function it(at){this.data=at,this.length=at.length,this.index=0,this.zero=0}it.prototype={checkOffset:function(at){this.checkIndex(this.index+at)},checkIndex:function(at){if(this.length<this.zero+at||at<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+at+"). Corrupted zip ?")},setIndex:function(at){this.checkIndex(at),this.index=at},skip:function(at){this.setIndex(this.index+at)},byteAt:function(){},readInt:function(at){var ot,lt=0;for(this.checkOffset(at),ot=this.index+at-1;ot>=this.index;ot--)lt=(lt<<8)+this.byteAt(ot);return this.index+=at,lt},readString:function(at){return st.transformTo("string",this.readData(at))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var at=this.readInt(4);return new Date(Date.UTC(1980+(at>>25&127),(at>>21&15)-1,at>>16&31,at>>11&31,at>>5&63,(31&at)<<1))}},rt.exports=it},{"../utils":32}],19:[function(tt,rt,nt){var st=tt("./Uint8ArrayReader");function it(at){st.call(this,at)}tt("../utils").inherits(it,st),it.prototype.readData=function(at){this.checkOffset(at);var ot=this.data.slice(this.zero+this.index,this.zero+this.index+at);return this.index+=at,ot},rt.exports=it},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(tt,rt,nt){var st=tt("./DataReader");function it(at){st.call(this,at)}tt("../utils").inherits(it,st),it.prototype.byteAt=function(at){return this.data.charCodeAt(this.zero+at)},it.prototype.lastIndexOfSignature=function(at){return this.data.lastIndexOf(at)-this.zero},it.prototype.readAndCheckSignature=function(at){return at===this.readData(4)},it.prototype.readData=function(at){this.checkOffset(at);var ot=this.data.slice(this.zero+this.index,this.zero+this.index+at);return this.index+=at,ot},rt.exports=it},{"../utils":32,"./DataReader":18}],21:[function(tt,rt,nt){var st=tt("./ArrayReader");function it(at){st.call(this,at)}tt("../utils").inherits(it,st),it.prototype.readData=function(at){if(this.checkOffset(at),at===0)return new Uint8Array(0);var ot=this.data.subarray(this.zero+this.index,this.zero+this.index+at);return this.index+=at,ot},rt.exports=it},{"../utils":32,"./ArrayReader":17}],22:[function(tt,rt,nt){var st=tt("../utils"),it=tt("../support"),at=tt("./ArrayReader"),ot=tt("./StringReader"),lt=tt("./NodeBufferReader"),ct=tt("./Uint8ArrayReader");rt.exports=function(ut){var dt=st.getTypeOf(ut);return st.checkSupport(dt),dt!=="string"||it.uint8array?dt==="nodebuffer"?new lt(ut):it.uint8array?new ct(st.transformTo("uint8array",ut)):new at(st.transformTo("array",ut)):new ot(ut)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(tt,rt,nt){nt.LOCAL_FILE_HEADER="PK",nt.CENTRAL_FILE_HEADER="PK",nt.CENTRAL_DIRECTORY_END="PK",nt.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",nt.ZIP64_CENTRAL_DIRECTORY_END="PK",nt.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(tt,rt,nt){var st=tt("./GenericWorker"),it=tt("../utils");function at(ot){st.call(this,"ConvertWorker to "+ot),this.destType=ot}it.inherits(at,st),at.prototype.processChunk=function(ot){this.push({data:it.transformTo(this.destType,ot.data),meta:ot.meta})},rt.exports=at},{"../utils":32,"./GenericWorker":28}],25:[function(tt,rt,nt){var st=tt("./GenericWorker"),it=tt("../crc32");function at(){st.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}tt("../utils").inherits(at,st),at.prototype.processChunk=function(ot){this.streamInfo.crc32=it(ot.data,this.streamInfo.crc32||0),this.push(ot)},rt.exports=at},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(tt,rt,nt){var st=tt("../utils"),it=tt("./GenericWorker");function at(ot){it.call(this,"DataLengthProbe for "+ot),this.propName=ot,this.withStreamInfo(ot,0)}st.inherits(at,it),at.prototype.processChunk=function(ot){if(ot){var lt=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=lt+ot.data.length}it.prototype.processChunk.call(this,ot)},rt.exports=at},{"../utils":32,"./GenericWorker":28}],27:[function(tt,rt,nt){var st=tt("../utils"),it=tt("./GenericWorker");function at(ot){it.call(this,"DataWorker");var lt=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,ot.then(function(ct){lt.dataIsReady=!0,lt.data=ct,lt.max=ct&&ct.length||0,lt.type=st.getTypeOf(ct),lt.isPaused||lt._tickAndRepeat()},function(ct){lt.error(ct)})}st.inherits(at,it),at.prototype.cleanUp=function(){it.prototype.cleanUp.call(this),this.data=null},at.prototype.resume=function(){return!!it.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,st.delay(this._tickAndRepeat,[],this)),!0)},at.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(st.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},at.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var ot=null,lt=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":ot=this.data.substring(this.index,lt);break;case"uint8array":ot=this.data.subarray(this.index,lt);break;case"array":case"nodebuffer":ot=this.data.slice(this.index,lt)}return this.index=lt,this.push({data:ot,meta:{percent:this.max?this.index/this.max*100:0}})},rt.exports=at},{"../utils":32,"./GenericWorker":28}],28:[function(tt,rt,nt){function st(it){this.name=it||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}st.prototype={push:function(it){this.emit("data",it)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(it){this.emit("error",it)}return!0},error:function(it){return!this.isFinished&&(this.isPaused?this.generatedError=it:(this.isFinished=!0,this.emit("error",it),this.previous&&this.previous.error(it),this.cleanUp()),!0)},on:function(it,at){return this._listeners[it].push(at),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(it,at){if(this._listeners[it])for(var ot=0;ot<this._listeners[it].length;ot++)this._listeners[it][ot].call(this,at)},pipe:function(it){return it.registerPrevious(this)},registerPrevious:function(it){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=it.streamInfo,this.mergeStreamInfo(),this.previous=it;var at=this;return it.on("data",function(ot){at.processChunk(ot)}),it.on("end",function(){at.end()}),it.on("error",function(ot){at.error(ot)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var it=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),it=!0),this.previous&&this.previous.resume(),!it},flush:function(){},processChunk:function(it){this.push(it)},withStreamInfo:function(it,at){return this.extraStreamInfo[it]=at,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var it in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,it)&&(this.streamInfo[it]=this.extraStreamInfo[it])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var it="Worker "+this.name;return this.previous?this.previous+" -> "+it:it}},rt.exports=st},{}],29:[function(tt,rt,nt){var st=tt("../utils"),it=tt("./ConvertWorker"),at=tt("./GenericWorker"),ot=tt("../base64"),lt=tt("../support"),ct=tt("../external"),ut=null;if(lt.nodestream)try{ut=tt("../nodejs/NodejsStreamOutputAdapter")}catch{}function dt(ht,pt){return new ct.Promise(function(gt,mt){var bt=[],vt=ht._internalType,yt=ht._outputType,xt=ht._mimeType;ht.on("data",function(Et,wt){bt.push(Et),pt&&pt(wt)}).on("error",function(Et){bt=[],mt(Et)}).on("end",function(){try{var Et=function(wt,$t,Tt){switch(wt){case"blob":return st.newBlob(st.transformTo("arraybuffer",$t),Tt);case"base64":return ot.encode($t);default:return st.transformTo(wt,$t)}}(yt,function(wt,$t){var Tt,St=0,Pt=null,At=0;for(Tt=0;Tt<$t.length;Tt++)At+=$t[Tt].length;switch(wt){case"string":return $t.join("");case"array":return Array.prototype.concat.apply([],$t);case"uint8array":for(Pt=new Uint8Array(At),Tt=0;Tt<$t.length;Tt++)Pt.set($t[Tt],St),St+=$t[Tt].length;return Pt;case"nodebuffer":return Buffer.concat($t);default:throw new Error("concat : unsupported type '"+wt+"'")}}(vt,bt),xt);gt(Et)}catch(wt){mt(wt)}bt=[]}).resume()})}function ft(ht,pt,gt){var mt=pt;switch(pt){case"blob":case"arraybuffer":mt="uint8array";break;case"base64":mt="string"}try{this._internalType=mt,this._outputType=pt,this._mimeType=gt,st.checkSupport(mt),this._worker=ht.pipe(new it(mt)),ht.lock()}catch(bt){this._worker=new at("error"),this._worker.error(bt)}}ft.prototype={accumulate:function(ht){return dt(this,ht)},on:function(ht,pt){var gt=this;return ht==="data"?this._worker.on(ht,function(mt){pt.call(gt,mt.data,mt.meta)}):this._worker.on(ht,function(){st.delay(pt,arguments,gt)}),this},resume:function(){return st.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(ht){if(st.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new ut(this,{objectMode:this._outputType!=="nodebuffer"},ht)}},rt.exports=ft},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(tt,rt,nt){if(nt.base64=!0,nt.array=!0,nt.string=!0,nt.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",nt.nodebuffer=typeof Buffer<"u",nt.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")nt.blob=!1;else{var st=new ArrayBuffer(0);try{nt.blob=new Blob([st],{type:"application/zip"}).size===0}catch{try{var it=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);it.append(st),nt.blob=it.getBlob("application/zip").size===0}catch{nt.blob=!1}}}try{nt.nodestream=!!tt("readable-stream").Readable}catch{nt.nodestream=!1}},{"readable-stream":16}],31:[function(tt,rt,nt){for(var st=tt("./utils"),it=tt("./support"),at=tt("./nodejsUtils"),ot=tt("./stream/GenericWorker"),lt=new Array(256),ct=0;ct<256;ct++)lt[ct]=252<=ct?6:248<=ct?5:240<=ct?4:224<=ct?3:192<=ct?2:1;lt[254]=lt[254]=1;function ut(){ot.call(this,"utf-8 decode"),this.leftOver=null}function dt(){ot.call(this,"utf-8 encode")}nt.utf8encode=function(ft){return it.nodebuffer?at.newBufferFrom(ft,"utf-8"):function(ht){var pt,gt,mt,bt,vt,yt=ht.length,xt=0;for(bt=0;bt<yt;bt++)(64512&(gt=ht.charCodeAt(bt)))==55296&&bt+1<yt&&(64512&(mt=ht.charCodeAt(bt+1)))==56320&&(gt=65536+(gt-55296<<10)+(mt-56320),bt++),xt+=gt<128?1:gt<2048?2:gt<65536?3:4;for(pt=it.uint8array?new Uint8Array(xt):new Array(xt),bt=vt=0;vt<xt;bt++)(64512&(gt=ht.charCodeAt(bt)))==55296&&bt+1<yt&&(64512&(mt=ht.charCodeAt(bt+1)))==56320&&(gt=65536+(gt-55296<<10)+(mt-56320),bt++),gt<128?pt[vt++]=gt:(gt<2048?pt[vt++]=192|gt>>>6:(gt<65536?pt[vt++]=224|gt>>>12:(pt[vt++]=240|gt>>>18,pt[vt++]=128|gt>>>12&63),pt[vt++]=128|gt>>>6&63),pt[vt++]=128|63&gt);return pt}(ft)},nt.utf8decode=function(ft){return it.nodebuffer?st.transformTo("nodebuffer",ft).toString("utf-8"):function(ht){var pt,gt,mt,bt,vt=ht.length,yt=new Array(2*vt);for(pt=gt=0;pt<vt;)if((mt=ht[pt++])<128)yt[gt++]=mt;else if(4<(bt=lt[mt]))yt[gt++]=65533,pt+=bt-1;else{for(mt&=bt===2?31:bt===3?15:7;1<bt&&pt<vt;)mt=mt<<6|63&ht[pt++],bt--;1<bt?yt[gt++]=65533:mt<65536?yt[gt++]=mt:(mt-=65536,yt[gt++]=55296|mt>>10&1023,yt[gt++]=56320|1023&mt)}return yt.length!==gt&&(yt.subarray?yt=yt.subarray(0,gt):yt.length=gt),st.applyFromCharCode(yt)}(ft=st.transformTo(it.uint8array?"uint8array":"array",ft))},st.inherits(ut,ot),ut.prototype.processChunk=function(ft){var ht=st.transformTo(it.uint8array?"uint8array":"array",ft.data);if(this.leftOver&&this.leftOver.length){if(it.uint8array){var pt=ht;(ht=new Uint8Array(pt.length+this.leftOver.length)).set(this.leftOver,0),ht.set(pt,this.leftOver.length)}else ht=this.leftOver.concat(ht);this.leftOver=null}var gt=function(bt,vt){var yt;for((vt=vt||bt.length)>bt.length&&(vt=bt.length),yt=vt-1;0<=yt&&(192&bt[yt])==128;)yt--;return yt<0||yt===0?vt:yt+lt[bt[yt]]>vt?yt:vt}(ht),mt=ht;gt!==ht.length&&(it.uint8array?(mt=ht.subarray(0,gt),this.leftOver=ht.subarray(gt,ht.length)):(mt=ht.slice(0,gt),this.leftOver=ht.slice(gt,ht.length))),this.push({data:nt.utf8decode(mt),meta:ft.meta})},ut.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:nt.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},nt.Utf8DecodeWorker=ut,st.inherits(dt,ot),dt.prototype.processChunk=function(ft){this.push({data:nt.utf8encode(ft.data),meta:ft.meta})},nt.Utf8EncodeWorker=dt},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(tt,rt,nt){var st=tt("./support"),it=tt("./base64"),at=tt("./nodejsUtils"),ot=tt("./external");function lt(pt){return pt}function ct(pt,gt){for(var mt=0;mt<pt.length;++mt)gt[mt]=255&pt.charCodeAt(mt);return gt}tt("setimmediate"),nt.newBlob=function(pt,gt){nt.checkSupport("blob");try{return new Blob([pt],{type:gt})}catch{try{var mt=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return mt.append(pt),mt.getBlob(gt)}catch{throw new Error("Bug : can't construct the Blob.")}}};var ut={stringifyByChunk:function(pt,gt,mt){var bt=[],vt=0,yt=pt.length;if(yt<=mt)return String.fromCharCode.apply(null,pt);for(;vt<yt;)gt==="array"||gt==="nodebuffer"?bt.push(String.fromCharCode.apply(null,pt.slice(vt,Math.min(vt+mt,yt)))):bt.push(String.fromCharCode.apply(null,pt.subarray(vt,Math.min(vt+mt,yt)))),vt+=mt;return bt.join("")},stringifyByChar:function(pt){for(var gt="",mt=0;mt<pt.length;mt++)gt+=String.fromCharCode(pt[mt]);return gt},applyCanBeUsed:{uint8array:function(){try{return st.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return st.nodebuffer&&String.fromCharCode.apply(null,at.allocBuffer(1)).length===1}catch{return!1}}()}};function dt(pt){var gt=65536,mt=nt.getTypeOf(pt),bt=!0;if(mt==="uint8array"?bt=ut.applyCanBeUsed.uint8array:mt==="nodebuffer"&&(bt=ut.applyCanBeUsed.nodebuffer),bt)for(;1<gt;)try{return ut.stringifyByChunk(pt,mt,gt)}catch{gt=Math.floor(gt/2)}return ut.stringifyByChar(pt)}function ft(pt,gt){for(var mt=0;mt<pt.length;mt++)gt[mt]=pt[mt];return gt}nt.applyFromCharCode=dt;var ht={};ht.string={string:lt,array:function(pt){return ct(pt,new Array(pt.length))},arraybuffer:function(pt){return ht.string.uint8array(pt).buffer},uint8array:function(pt){return ct(pt,new Uint8Array(pt.length))},nodebuffer:function(pt){return ct(pt,at.allocBuffer(pt.length))}},ht.array={string:dt,array:lt,arraybuffer:function(pt){return new Uint8Array(pt).buffer},uint8array:function(pt){return new Uint8Array(pt)},nodebuffer:function(pt){return at.newBufferFrom(pt)}},ht.arraybuffer={string:function(pt){return dt(new Uint8Array(pt))},array:function(pt){return ft(new Uint8Array(pt),new Array(pt.byteLength))},arraybuffer:lt,uint8array:function(pt){return new Uint8Array(pt)},nodebuffer:function(pt){return at.newBufferFrom(new Uint8Array(pt))}},ht.uint8array={string:dt,array:function(pt){return ft(pt,new Array(pt.length))},arraybuffer:function(pt){return pt.buffer},uint8array:lt,nodebuffer:function(pt){return at.newBufferFrom(pt)}},ht.nodebuffer={string:dt,array:function(pt){return ft(pt,new Array(pt.length))},arraybuffer:function(pt){return ht.nodebuffer.uint8array(pt).buffer},uint8array:function(pt){return ft(pt,new Uint8Array(pt.length))},nodebuffer:lt},nt.transformTo=function(pt,gt){if(gt=gt||"",!pt)return gt;nt.checkSupport(pt);var mt=nt.getTypeOf(gt);return ht[mt][pt](gt)},nt.resolve=function(pt){for(var gt=pt.split("/"),mt=[],bt=0;bt<gt.length;bt++){var vt=gt[bt];vt==="."||vt===""&&bt!==0&&bt!==gt.length-1||(vt===".."?mt.pop():mt.push(vt))}return mt.join("/")},nt.getTypeOf=function(pt){return typeof pt=="string"?"string":Object.prototype.toString.call(pt)==="[object Array]"?"array":st.nodebuffer&&at.isBuffer(pt)?"nodebuffer":st.uint8array&&pt instanceof Uint8Array?"uint8array":st.arraybuffer&&pt instanceof ArrayBuffer?"arraybuffer":void 0},nt.checkSupport=function(pt){if(!st[pt.toLowerCase()])throw new Error(pt+" is not supported by this platform")},nt.MAX_VALUE_16BITS=65535,nt.MAX_VALUE_32BITS=-1,nt.pretty=function(pt){var gt,mt,bt="";for(mt=0;mt<(pt||"").length;mt++)bt+="\\x"+((gt=pt.charCodeAt(mt))<16?"0":"")+gt.toString(16).toUpperCase();return bt},nt.delay=function(pt,gt,mt){setImmediate(function(){pt.apply(mt||null,gt||[])})},nt.inherits=function(pt,gt){function mt(){}mt.prototype=gt.prototype,pt.prototype=new mt},nt.extend=function(){var pt,gt,mt={};for(pt=0;pt<arguments.length;pt++)for(gt in arguments[pt])Object.prototype.hasOwnProperty.call(arguments[pt],gt)&&mt[gt]===void 0&&(mt[gt]=arguments[pt][gt]);return mt},nt.prepareContent=function(pt,gt,mt,bt,vt){return ot.Promise.resolve(gt).then(function(yt){return st.blob&&(yt instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(yt))!==-1)&&typeof FileReader<"u"?new ot.Promise(function(xt,Et){var wt=new FileReader;wt.onload=function($t){xt($t.target.result)},wt.onerror=function($t){Et($t.target.error)},wt.readAsArrayBuffer(yt)}):yt}).then(function(yt){var xt=nt.getTypeOf(yt);return xt?(xt==="arraybuffer"?yt=nt.transformTo("uint8array",yt):xt==="string"&&(vt?yt=it.decode(yt):mt&&bt!==!0&&(yt=function(Et){return ct(Et,st.uint8array?new Uint8Array(Et.length):new Array(Et.length))}(yt))),yt):ot.Promise.reject(new Error("Can't read the data of '"+pt+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(tt,rt,nt){var st=tt("./reader/readerFor"),it=tt("./utils"),at=tt("./signature"),ot=tt("./zipEntry"),lt=tt("./support");function ct(ut){this.files=[],this.loadOptions=ut}ct.prototype={checkSignature:function(ut){if(!this.reader.readAndCheckSignature(ut)){this.reader.index-=4;var dt=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+it.pretty(dt)+", expected "+it.pretty(ut)+")")}},isSignature:function(ut,dt){var ft=this.reader.index;this.reader.setIndex(ut);var ht=this.reader.readString(4)===dt;return this.reader.setIndex(ft),ht},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var ut=this.reader.readData(this.zipCommentLength),dt=lt.uint8array?"uint8array":"array",ft=it.transformTo(dt,ut);this.zipComment=this.loadOptions.decodeFileName(ft)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var ut,dt,ft,ht=this.zip64EndOfCentralSize-44;0<ht;)ut=this.reader.readInt(2),dt=this.reader.readInt(4),ft=this.reader.readData(dt),this.zip64ExtensibleData[ut]={id:ut,length:dt,value:ft}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var ut,dt;for(ut=0;ut<this.files.length;ut++)dt=this.files[ut],this.reader.setIndex(dt.localHeaderOffset),this.checkSignature(at.LOCAL_FILE_HEADER),dt.readLocalPart(this.reader),dt.handleUTF8(),dt.processAttributes()},readCentralDir:function(){var ut;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(at.CENTRAL_FILE_HEADER);)(ut=new ot({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(ut);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var ut=this.reader.lastIndexOfSignature(at.CENTRAL_DIRECTORY_END);if(ut<0)throw this.isSignature(0,at.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(ut);var dt=ut;if(this.checkSignature(at.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===it.MAX_VALUE_16BITS||this.diskWithCentralDirStart===it.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===it.MAX_VALUE_16BITS||this.centralDirRecords===it.MAX_VALUE_16BITS||this.centralDirSize===it.MAX_VALUE_32BITS||this.centralDirOffset===it.MAX_VALUE_32BITS){if(this.zip64=!0,(ut=this.reader.lastIndexOfSignature(at.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(ut),this.checkSignature(at.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,at.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(at.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(at.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var ft=this.centralDirOffset+this.centralDirSize;this.zip64&&(ft+=20,ft+=12+this.zip64EndOfCentralSize);var ht=dt-ft;if(0<ht)this.isSignature(dt,at.CENTRAL_FILE_HEADER)||(this.reader.zero=ht);else if(ht<0)throw new Error("Corrupted zip: missing "+Math.abs(ht)+" bytes.")},prepareReader:function(ut){this.reader=st(ut)},load:function(ut){this.prepareReader(ut),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},rt.exports=ct},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(tt,rt,nt){var st=tt("./reader/readerFor"),it=tt("./utils"),at=tt("./compressedObject"),ot=tt("./crc32"),lt=tt("./utf8"),ct=tt("./compressions"),ut=tt("./support");function dt(ft,ht){this.options=ft,this.loadOptions=ht}dt.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(ft){var ht,pt;if(ft.skip(22),this.fileNameLength=ft.readInt(2),pt=ft.readInt(2),this.fileName=ft.readData(this.fileNameLength),ft.skip(pt),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((ht=function(gt){for(var mt in ct)if(Object.prototype.hasOwnProperty.call(ct,mt)&&ct[mt].magic===gt)return ct[mt];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+it.pretty(this.compressionMethod)+" unknown (inner file : "+it.transformTo("string",this.fileName)+")");this.decompressed=new at(this.compressedSize,this.uncompressedSize,this.crc32,ht,ft.readData(this.compressedSize))},readCentralPart:function(ft){this.versionMadeBy=ft.readInt(2),ft.skip(2),this.bitFlag=ft.readInt(2),this.compressionMethod=ft.readString(2),this.date=ft.readDate(),this.crc32=ft.readInt(4),this.compressedSize=ft.readInt(4),this.uncompressedSize=ft.readInt(4);var ht=ft.readInt(2);if(this.extraFieldsLength=ft.readInt(2),this.fileCommentLength=ft.readInt(2),this.diskNumberStart=ft.readInt(2),this.internalFileAttributes=ft.readInt(2),this.externalFileAttributes=ft.readInt(4),this.localHeaderOffset=ft.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");ft.skip(ht),this.readExtraFields(ft),this.parseZIP64ExtraField(ft),this.fileComment=ft.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var ft=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),ft==0&&(this.dosPermissions=63&this.externalFileAttributes),ft==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var ft=st(this.extraFields[1].value);this.uncompressedSize===it.MAX_VALUE_32BITS&&(this.uncompressedSize=ft.readInt(8)),this.compressedSize===it.MAX_VALUE_32BITS&&(this.compressedSize=ft.readInt(8)),this.localHeaderOffset===it.MAX_VALUE_32BITS&&(this.localHeaderOffset=ft.readInt(8)),this.diskNumberStart===it.MAX_VALUE_32BITS&&(this.diskNumberStart=ft.readInt(4))}},readExtraFields:function(ft){var ht,pt,gt,mt=ft.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});ft.index+4<mt;)ht=ft.readInt(2),pt=ft.readInt(2),gt=ft.readData(pt),this.extraFields[ht]={id:ht,length:pt,value:gt};ft.setIndex(mt)},handleUTF8:function(){var ft=ut.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=lt.utf8decode(this.fileName),this.fileCommentStr=lt.utf8decode(this.fileComment);else{var ht=this.findExtraFieldUnicodePath();if(ht!==null)this.fileNameStr=ht;else{var pt=it.transformTo(ft,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(pt)}var gt=this.findExtraFieldUnicodeComment();if(gt!==null)this.fileCommentStr=gt;else{var mt=it.transformTo(ft,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(mt)}}},findExtraFieldUnicodePath:function(){var ft=this.extraFields[28789];if(ft){var ht=st(ft.value);return ht.readInt(1)!==1||ot(this.fileName)!==ht.readInt(4)?null:lt.utf8decode(ht.readData(ft.length-5))}return null},findExtraFieldUnicodeComment:function(){var ft=this.extraFields[25461];if(ft){var ht=st(ft.value);return ht.readInt(1)!==1||ot(this.fileComment)!==ht.readInt(4)?null:lt.utf8decode(ht.readData(ft.length-5))}return null}},rt.exports=dt},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(tt,rt,nt){function st(ht,pt,gt){this.name=ht,this.dir=gt.dir,this.date=gt.date,this.comment=gt.comment,this.unixPermissions=gt.unixPermissions,this.dosPermissions=gt.dosPermissions,this._data=pt,this._dataBinary=gt.binary,this.options={compression:gt.compression,compressionOptions:gt.compressionOptions}}var it=tt("./stream/StreamHelper"),at=tt("./stream/DataWorker"),ot=tt("./utf8"),lt=tt("./compressedObject"),ct=tt("./stream/GenericWorker");st.prototype={internalStream:function(ht){var pt=null,gt="string";try{if(!ht)throw new Error("No output type specified.");var mt=(gt=ht.toLowerCase())==="string"||gt==="text";gt!=="binarystring"&&gt!=="text"||(gt="string"),pt=this._decompressWorker();var bt=!this._dataBinary;bt&&!mt&&(pt=pt.pipe(new ot.Utf8EncodeWorker)),!bt&&mt&&(pt=pt.pipe(new ot.Utf8DecodeWorker))}catch(vt){(pt=new ct("error")).error(vt)}return new it(pt,gt,"")},async:function(ht,pt){return this.internalStream(ht).accumulate(pt)},nodeStream:function(ht,pt){return this.internalStream(ht||"nodebuffer").toNodejsStream(pt)},_compressWorker:function(ht,pt){if(this._data instanceof lt&&this._data.compression.magic===ht.magic)return this._data.getCompressedWorker();var gt=this._decompressWorker();return this._dataBinary||(gt=gt.pipe(new ot.Utf8EncodeWorker)),lt.createWorkerFrom(gt,ht,pt)},_decompressWorker:function(){return this._data instanceof lt?this._data.getContentWorker():this._data instanceof ct?this._data:new at(this._data)}};for(var ut=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],dt=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},ft=0;ft<ut.length;ft++)st.prototype[ut[ft]]=dt;rt.exports=st},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(tt,rt,nt){(function(st){var it,at,ot=st.MutationObserver||st.WebKitMutationObserver;if(ot){var lt=0,ct=new ot(ht),ut=st.document.createTextNode("");ct.observe(ut,{characterData:!0}),it=function(){ut.data=lt=++lt%2}}else if(st.setImmediate||st.MessageChannel===void 0)it="document"in st&&"onreadystatechange"in st.document.createElement("script")?function(){var pt=st.document.createElement("script");pt.onreadystatechange=function(){ht(),pt.onreadystatechange=null,pt.parentNode.removeChild(pt),pt=null},st.document.documentElement.appendChild(pt)}:function(){setTimeout(ht,0)};else{var dt=new st.MessageChannel;dt.port1.onmessage=ht,it=function(){dt.port2.postMessage(0)}}var ft=[];function ht(){var pt,gt;at=!0;for(var mt=ft.length;mt;){for(gt=ft,ft=[],pt=-1;++pt<mt;)gt[pt]();mt=ft.length}at=!1}rt.exports=function(pt){ft.push(pt)!==1||at||it()}}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(tt,rt,nt){var st=tt("immediate");function it(){}var at={},ot=["REJECTED"],lt=["FULFILLED"],ct=["PENDING"];function ut(mt){if(typeof mt!="function")throw new TypeError("resolver must be a function");this.state=ct,this.queue=[],this.outcome=void 0,mt!==it&&pt(this,mt)}function dt(mt,bt,vt){this.promise=mt,typeof bt=="function"&&(this.onFulfilled=bt,this.callFulfilled=this.otherCallFulfilled),typeof vt=="function"&&(this.onRejected=vt,this.callRejected=this.otherCallRejected)}function ft(mt,bt,vt){st(function(){var yt;try{yt=bt(vt)}catch(xt){return at.reject(mt,xt)}yt===mt?at.reject(mt,new TypeError("Cannot resolve promise with itself")):at.resolve(mt,yt)})}function ht(mt){var bt=mt&&mt.then;if(mt&&(typeof mt=="object"||typeof mt=="function")&&typeof bt=="function")return function(){bt.apply(mt,arguments)}}function pt(mt,bt){var vt=!1;function yt(wt){vt||(vt=!0,at.reject(mt,wt))}function xt(wt){vt||(vt=!0,at.resolve(mt,wt))}var Et=gt(function(){bt(xt,yt)});Et.status==="error"&&yt(Et.value)}function gt(mt,bt){var vt={};try{vt.value=mt(bt),vt.status="success"}catch(yt){vt.status="error",vt.value=yt}return vt}(rt.exports=ut).prototype.finally=function(mt){if(typeof mt!="function")return this;var bt=this.constructor;return this.then(function(vt){return bt.resolve(mt()).then(function(){return vt})},function(vt){return bt.resolve(mt()).then(function(){throw vt})})},ut.prototype.catch=function(mt){return this.then(null,mt)},ut.prototype.then=function(mt,bt){if(typeof mt!="function"&&this.state===lt||typeof bt!="function"&&this.state===ot)return this;var vt=new this.constructor(it);return this.state!==ct?ft(vt,this.state===lt?mt:bt,this.outcome):this.queue.push(new dt(vt,mt,bt)),vt},dt.prototype.callFulfilled=function(mt){at.resolve(this.promise,mt)},dt.prototype.otherCallFulfilled=function(mt){ft(this.promise,this.onFulfilled,mt)},dt.prototype.callRejected=function(mt){at.reject(this.promise,mt)},dt.prototype.otherCallRejected=function(mt){ft(this.promise,this.onRejected,mt)},at.resolve=function(mt,bt){var vt=gt(ht,bt);if(vt.status==="error")return at.reject(mt,vt.value);var yt=vt.value;if(yt)pt(mt,yt);else{mt.state=lt,mt.outcome=bt;for(var xt=-1,Et=mt.queue.length;++xt<Et;)mt.queue[xt].callFulfilled(bt)}return mt},at.reject=function(mt,bt){mt.state=ot,mt.outcome=bt;for(var vt=-1,yt=mt.queue.length;++vt<yt;)mt.queue[vt].callRejected(bt);return mt},ut.resolve=function(mt){return mt instanceof this?mt:at.resolve(new this(it),mt)},ut.reject=function(mt){var bt=new this(it);return at.reject(bt,mt)},ut.all=function(mt){var bt=this;if(Object.prototype.toString.call(mt)!=="[object Array]")return this.reject(new TypeError("must be an array"));var vt=mt.length,yt=!1;if(!vt)return this.resolve([]);for(var xt=new Array(vt),Et=0,wt=-1,$t=new this(it);++wt<vt;)Tt(mt[wt],wt);return $t;function Tt(St,Pt){bt.resolve(St).then(function(At){xt[Pt]=At,++Et!==vt||yt||(yt=!0,at.resolve($t,xt))},function(At){yt||(yt=!0,at.reject($t,At))})}},ut.race=function(mt){var bt=this;if(Object.prototype.toString.call(mt)!=="[object Array]")return this.reject(new TypeError("must be an array"));var vt=mt.length,yt=!1;if(!vt)return this.resolve([]);for(var xt=-1,Et=new this(it);++xt<vt;)wt=mt[xt],bt.resolve(wt).then(function($t){yt||(yt=!0,at.resolve(Et,$t))},function($t){yt||(yt=!0,at.reject(Et,$t))});var wt;return Et}},{immediate:36}],38:[function(tt,rt,nt){var st={};(0,tt("./lib/utils/common").assign)(st,tt("./lib/deflate"),tt("./lib/inflate"),tt("./lib/zlib/constants")),rt.exports=st},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(tt,rt,nt){var st=tt("./zlib/deflate"),it=tt("./utils/common"),at=tt("./utils/strings"),ot=tt("./zlib/messages"),lt=tt("./zlib/zstream"),ct=Object.prototype.toString,ut=0,dt=-1,ft=0,ht=8;function pt(mt){if(!(this instanceof pt))return new pt(mt);this.options=it.assign({level:dt,method:ht,chunkSize:16384,windowBits:15,memLevel:8,strategy:ft,to:""},mt||{});var bt=this.options;bt.raw&&0<bt.windowBits?bt.windowBits=-bt.windowBits:bt.gzip&&0<bt.windowBits&&bt.windowBits<16&&(bt.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new lt,this.strm.avail_out=0;var vt=st.deflateInit2(this.strm,bt.level,bt.method,bt.windowBits,bt.memLevel,bt.strategy);if(vt!==ut)throw new Error(ot[vt]);if(bt.header&&st.deflateSetHeader(this.strm,bt.header),bt.dictionary){var yt;if(yt=typeof bt.dictionary=="string"?at.string2buf(bt.dictionary):ct.call(bt.dictionary)==="[object ArrayBuffer]"?new Uint8Array(bt.dictionary):bt.dictionary,(vt=st.deflateSetDictionary(this.strm,yt))!==ut)throw new Error(ot[vt]);this._dict_set=!0}}function gt(mt,bt){var vt=new pt(bt);if(vt.push(mt,!0),vt.err)throw vt.msg||ot[vt.err];return vt.result}pt.prototype.push=function(mt,bt){var vt,yt,xt=this.strm,Et=this.options.chunkSize;if(this.ended)return!1;yt=bt===~~bt?bt:bt===!0?4:0,typeof mt=="string"?xt.input=at.string2buf(mt):ct.call(mt)==="[object ArrayBuffer]"?xt.input=new Uint8Array(mt):xt.input=mt,xt.next_in=0,xt.avail_in=xt.input.length;do{if(xt.avail_out===0&&(xt.output=new it.Buf8(Et),xt.next_out=0,xt.avail_out=Et),(vt=st.deflate(xt,yt))!==1&&vt!==ut)return this.onEnd(vt),!(this.ended=!0);xt.avail_out!==0&&(xt.avail_in!==0||yt!==4&&yt!==2)||(this.options.to==="string"?this.onData(at.buf2binstring(it.shrinkBuf(xt.output,xt.next_out))):this.onData(it.shrinkBuf(xt.output,xt.next_out)))}while((0<xt.avail_in||xt.avail_out===0)&&vt!==1);return yt===4?(vt=st.deflateEnd(this.strm),this.onEnd(vt),this.ended=!0,vt===ut):yt!==2||(this.onEnd(ut),!(xt.avail_out=0))},pt.prototype.onData=function(mt){this.chunks.push(mt)},pt.prototype.onEnd=function(mt){mt===ut&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=it.flattenChunks(this.chunks)),this.chunks=[],this.err=mt,this.msg=this.strm.msg},nt.Deflate=pt,nt.deflate=gt,nt.deflateRaw=function(mt,bt){return(bt=bt||{}).raw=!0,gt(mt,bt)},nt.gzip=function(mt,bt){return(bt=bt||{}).gzip=!0,gt(mt,bt)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(tt,rt,nt){var st=tt("./zlib/inflate"),it=tt("./utils/common"),at=tt("./utils/strings"),ot=tt("./zlib/constants"),lt=tt("./zlib/messages"),ct=tt("./zlib/zstream"),ut=tt("./zlib/gzheader"),dt=Object.prototype.toString;function ft(pt){if(!(this instanceof ft))return new ft(pt);this.options=it.assign({chunkSize:16384,windowBits:0,to:""},pt||{});var gt=this.options;gt.raw&&0<=gt.windowBits&&gt.windowBits<16&&(gt.windowBits=-gt.windowBits,gt.windowBits===0&&(gt.windowBits=-15)),!(0<=gt.windowBits&&gt.windowBits<16)||pt&&pt.windowBits||(gt.windowBits+=32),15<gt.windowBits&&gt.windowBits<48&&!(15&gt.windowBits)&&(gt.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ct,this.strm.avail_out=0;var mt=st.inflateInit2(this.strm,gt.windowBits);if(mt!==ot.Z_OK)throw new Error(lt[mt]);this.header=new ut,st.inflateGetHeader(this.strm,this.header)}function ht(pt,gt){var mt=new ft(gt);if(mt.push(pt,!0),mt.err)throw mt.msg||lt[mt.err];return mt.result}ft.prototype.push=function(pt,gt){var mt,bt,vt,yt,xt,Et,wt=this.strm,$t=this.options.chunkSize,Tt=this.options.dictionary,St=!1;if(this.ended)return!1;bt=gt===~~gt?gt:gt===!0?ot.Z_FINISH:ot.Z_NO_FLUSH,typeof pt=="string"?wt.input=at.binstring2buf(pt):dt.call(pt)==="[object ArrayBuffer]"?wt.input=new Uint8Array(pt):wt.input=pt,wt.next_in=0,wt.avail_in=wt.input.length;do{if(wt.avail_out===0&&(wt.output=new it.Buf8($t),wt.next_out=0,wt.avail_out=$t),(mt=st.inflate(wt,ot.Z_NO_FLUSH))===ot.Z_NEED_DICT&&Tt&&(Et=typeof Tt=="string"?at.string2buf(Tt):dt.call(Tt)==="[object ArrayBuffer]"?new Uint8Array(Tt):Tt,mt=st.inflateSetDictionary(this.strm,Et)),mt===ot.Z_BUF_ERROR&&St===!0&&(mt=ot.Z_OK,St=!1),mt!==ot.Z_STREAM_END&&mt!==ot.Z_OK)return this.onEnd(mt),!(this.ended=!0);wt.next_out&&(wt.avail_out!==0&&mt!==ot.Z_STREAM_END&&(wt.avail_in!==0||bt!==ot.Z_FINISH&&bt!==ot.Z_SYNC_FLUSH)||(this.options.to==="string"?(vt=at.utf8border(wt.output,wt.next_out),yt=wt.next_out-vt,xt=at.buf2string(wt.output,vt),wt.next_out=yt,wt.avail_out=$t-yt,yt&&it.arraySet(wt.output,wt.output,vt,yt,0),this.onData(xt)):this.onData(it.shrinkBuf(wt.output,wt.next_out)))),wt.avail_in===0&&wt.avail_out===0&&(St=!0)}while((0<wt.avail_in||wt.avail_out===0)&&mt!==ot.Z_STREAM_END);return mt===ot.Z_STREAM_END&&(bt=ot.Z_FINISH),bt===ot.Z_FINISH?(mt=st.inflateEnd(this.strm),this.onEnd(mt),this.ended=!0,mt===ot.Z_OK):bt!==ot.Z_SYNC_FLUSH||(this.onEnd(ot.Z_OK),!(wt.avail_out=0))},ft.prototype.onData=function(pt){this.chunks.push(pt)},ft.prototype.onEnd=function(pt){pt===ot.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=it.flattenChunks(this.chunks)),this.chunks=[],this.err=pt,this.msg=this.strm.msg},nt.Inflate=ft,nt.inflate=ht,nt.inflateRaw=function(pt,gt){return(gt=gt||{}).raw=!0,ht(pt,gt)},nt.ungzip=ht},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(tt,rt,nt){var st=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";nt.assign=function(ot){for(var lt=Array.prototype.slice.call(arguments,1);lt.length;){var ct=lt.shift();if(ct){if(typeof ct!="object")throw new TypeError(ct+"must be non-object");for(var ut in ct)ct.hasOwnProperty(ut)&&(ot[ut]=ct[ut])}}return ot},nt.shrinkBuf=function(ot,lt){return ot.length===lt?ot:ot.subarray?ot.subarray(0,lt):(ot.length=lt,ot)};var it={arraySet:function(ot,lt,ct,ut,dt){if(lt.subarray&&ot.subarray)ot.set(lt.subarray(ct,ct+ut),dt);else for(var ft=0;ft<ut;ft++)ot[dt+ft]=lt[ct+ft]},flattenChunks:function(ot){var lt,ct,ut,dt,ft,ht;for(lt=ut=0,ct=ot.length;lt<ct;lt++)ut+=ot[lt].length;for(ht=new Uint8Array(ut),lt=dt=0,ct=ot.length;lt<ct;lt++)ft=ot[lt],ht.set(ft,dt),dt+=ft.length;return ht}},at={arraySet:function(ot,lt,ct,ut,dt){for(var ft=0;ft<ut;ft++)ot[dt+ft]=lt[ct+ft]},flattenChunks:function(ot){return[].concat.apply([],ot)}};nt.setTyped=function(ot){ot?(nt.Buf8=Uint8Array,nt.Buf16=Uint16Array,nt.Buf32=Int32Array,nt.assign(nt,it)):(nt.Buf8=Array,nt.Buf16=Array,nt.Buf32=Array,nt.assign(nt,at))},nt.setTyped(st)},{}],42:[function(tt,rt,nt){var st=tt("./common"),it=!0,at=!0;try{String.fromCharCode.apply(null,[0])}catch{it=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{at=!1}for(var ot=new st.Buf8(256),lt=0;lt<256;lt++)ot[lt]=252<=lt?6:248<=lt?5:240<=lt?4:224<=lt?3:192<=lt?2:1;function ct(ut,dt){if(dt<65537&&(ut.subarray&&at||!ut.subarray&&it))return String.fromCharCode.apply(null,st.shrinkBuf(ut,dt));for(var ft="",ht=0;ht<dt;ht++)ft+=String.fromCharCode(ut[ht]);return ft}ot[254]=ot[254]=1,nt.string2buf=function(ut){var dt,ft,ht,pt,gt,mt=ut.length,bt=0;for(pt=0;pt<mt;pt++)(64512&(ft=ut.charCodeAt(pt)))==55296&&pt+1<mt&&(64512&(ht=ut.charCodeAt(pt+1)))==56320&&(ft=65536+(ft-55296<<10)+(ht-56320),pt++),bt+=ft<128?1:ft<2048?2:ft<65536?3:4;for(dt=new st.Buf8(bt),pt=gt=0;gt<bt;pt++)(64512&(ft=ut.charCodeAt(pt)))==55296&&pt+1<mt&&(64512&(ht=ut.charCodeAt(pt+1)))==56320&&(ft=65536+(ft-55296<<10)+(ht-56320),pt++),ft<128?dt[gt++]=ft:(ft<2048?dt[gt++]=192|ft>>>6:(ft<65536?dt[gt++]=224|ft>>>12:(dt[gt++]=240|ft>>>18,dt[gt++]=128|ft>>>12&63),dt[gt++]=128|ft>>>6&63),dt[gt++]=128|63&ft);return dt},nt.buf2binstring=function(ut){return ct(ut,ut.length)},nt.binstring2buf=function(ut){for(var dt=new st.Buf8(ut.length),ft=0,ht=dt.length;ft<ht;ft++)dt[ft]=ut.charCodeAt(ft);return dt},nt.buf2string=function(ut,dt){var ft,ht,pt,gt,mt=dt||ut.length,bt=new Array(2*mt);for(ft=ht=0;ft<mt;)if((pt=ut[ft++])<128)bt[ht++]=pt;else if(4<(gt=ot[pt]))bt[ht++]=65533,ft+=gt-1;else{for(pt&=gt===2?31:gt===3?15:7;1<gt&&ft<mt;)pt=pt<<6|63&ut[ft++],gt--;1<gt?bt[ht++]=65533:pt<65536?bt[ht++]=pt:(pt-=65536,bt[ht++]=55296|pt>>10&1023,bt[ht++]=56320|1023&pt)}return ct(bt,ht)},nt.utf8border=function(ut,dt){var ft;for((dt=dt||ut.length)>ut.length&&(dt=ut.length),ft=dt-1;0<=ft&&(192&ut[ft])==128;)ft--;return ft<0||ft===0?dt:ft+ot[ut[ft]]>dt?ft:dt}},{"./common":41}],43:[function(tt,rt,nt){rt.exports=function(st,it,at,ot){for(var lt=65535&st|0,ct=st>>>16&65535|0,ut=0;at!==0;){for(at-=ut=2e3<at?2e3:at;ct=ct+(lt=lt+it[ot++]|0)|0,--ut;);lt%=65521,ct%=65521}return lt|ct<<16|0}},{}],44:[function(tt,rt,nt){rt.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(tt,rt,nt){var st=function(){for(var it,at=[],ot=0;ot<256;ot++){it=ot;for(var lt=0;lt<8;lt++)it=1&it?3988292384^it>>>1:it>>>1;at[ot]=it}return at}();rt.exports=function(it,at,ot,lt){var ct=st,ut=lt+ot;it^=-1;for(var dt=lt;dt<ut;dt++)it=it>>>8^ct[255&(it^at[dt])];return-1^it}},{}],46:[function(tt,rt,nt){var st,it=tt("../utils/common"),at=tt("./trees"),ot=tt("./adler32"),lt=tt("./crc32"),ct=tt("./messages"),ut=0,dt=4,ft=0,ht=-2,pt=-1,gt=4,mt=2,bt=8,vt=9,yt=286,xt=30,Et=19,wt=2*yt+1,$t=15,Tt=3,St=258,Pt=St+Tt+1,At=42,Rt=113,Ct=1,Dt=2,Ft=3,Mt=4;function Ot(kt,er){return kt.msg=ct[er],er}function jt(kt){return(kt<<1)-(4<kt?9:0)}function Ut(kt){for(var er=kt.length;0<=--er;)kt[er]=0}function _t(kt){var er=kt.state,Gt=er.pending;Gt>kt.avail_out&&(Gt=kt.avail_out),Gt!==0&&(it.arraySet(kt.output,er.pending_buf,er.pending_out,Gt,kt.next_out),kt.next_out+=Gt,er.pending_out+=Gt,kt.total_out+=Gt,kt.avail_out-=Gt,er.pending-=Gt,er.pending===0&&(er.pending_out=0))}function It(kt,er){at._tr_flush_block(kt,0<=kt.block_start?kt.block_start:-1,kt.strstart-kt.block_start,er),kt.block_start=kt.strstart,_t(kt.strm)}function Wt(kt,er){kt.pending_buf[kt.pending++]=er}function Kt(kt,er){kt.pending_buf[kt.pending++]=er>>>8&255,kt.pending_buf[kt.pending++]=255&er}function Bt(kt,er){var Gt,zt,Vt=kt.max_chain_length,Ht=kt.strstart,lr=kt.prev_length,dr=kt.nice_match,Jt=kt.strstart>kt.w_size-Pt?kt.strstart-(kt.w_size-Pt):0,nr=kt.window,fr=kt.w_mask,Lt=kt.prev,qt=kt.strstart+St,tr=nr[Ht+lr-1],ir=nr[Ht+lr];kt.prev_length>=kt.good_match&&(Vt>>=2),dr>kt.lookahead&&(dr=kt.lookahead);do if(nr[(Gt=er)+lr]===ir&&nr[Gt+lr-1]===tr&&nr[Gt]===nr[Ht]&&nr[++Gt]===nr[Ht+1]){Ht+=2,Gt++;do;while(nr[++Ht]===nr[++Gt]&&nr[++Ht]===nr[++Gt]&&nr[++Ht]===nr[++Gt]&&nr[++Ht]===nr[++Gt]&&nr[++Ht]===nr[++Gt]&&nr[++Ht]===nr[++Gt]&&nr[++Ht]===nr[++Gt]&&nr[++Ht]===nr[++Gt]&&Ht<qt);if(zt=St-(qt-Ht),Ht=qt-St,lr<zt){if(kt.match_start=er,dr<=(lr=zt))break;tr=nr[Ht+lr-1],ir=nr[Ht+lr]}}while((er=Lt[er&fr])>Jt&&--Vt!=0);return lr<=kt.lookahead?lr:kt.lookahead}function Qt(kt){var er,Gt,zt,Vt,Ht,lr,dr,Jt,nr,fr,Lt=kt.w_size;do{if(Vt=kt.window_size-kt.lookahead-kt.strstart,kt.strstart>=Lt+(Lt-Pt)){for(it.arraySet(kt.window,kt.window,Lt,Lt,0),kt.match_start-=Lt,kt.strstart-=Lt,kt.block_start-=Lt,er=Gt=kt.hash_size;zt=kt.head[--er],kt.head[er]=Lt<=zt?zt-Lt:0,--Gt;);for(er=Gt=Lt;zt=kt.prev[--er],kt.prev[er]=Lt<=zt?zt-Lt:0,--Gt;);Vt+=Lt}if(kt.strm.avail_in===0)break;if(lr=kt.strm,dr=kt.window,Jt=kt.strstart+kt.lookahead,nr=Vt,fr=void 0,fr=lr.avail_in,nr<fr&&(fr=nr),Gt=fr===0?0:(lr.avail_in-=fr,it.arraySet(dr,lr.input,lr.next_in,fr,Jt),lr.state.wrap===1?lr.adler=ot(lr.adler,dr,fr,Jt):lr.state.wrap===2&&(lr.adler=lt(lr.adler,dr,fr,Jt)),lr.next_in+=fr,lr.total_in+=fr,fr),kt.lookahead+=Gt,kt.lookahead+kt.insert>=Tt)for(Ht=kt.strstart-kt.insert,kt.ins_h=kt.window[Ht],kt.ins_h=(kt.ins_h<<kt.hash_shift^kt.window[Ht+1])&kt.hash_mask;kt.insert&&(kt.ins_h=(kt.ins_h<<kt.hash_shift^kt.window[Ht+Tt-1])&kt.hash_mask,kt.prev[Ht&kt.w_mask]=kt.head[kt.ins_h],kt.head[kt.ins_h]=Ht,Ht++,kt.insert--,!(kt.lookahead+kt.insert<Tt)););}while(kt.lookahead<Pt&&kt.strm.avail_in!==0)}function Nt(kt,er){for(var Gt,zt;;){if(kt.lookahead<Pt){if(Qt(kt),kt.lookahead<Pt&&er===ut)return Ct;if(kt.lookahead===0)break}if(Gt=0,kt.lookahead>=Tt&&(kt.ins_h=(kt.ins_h<<kt.hash_shift^kt.window[kt.strstart+Tt-1])&kt.hash_mask,Gt=kt.prev[kt.strstart&kt.w_mask]=kt.head[kt.ins_h],kt.head[kt.ins_h]=kt.strstart),Gt!==0&&kt.strstart-Gt<=kt.w_size-Pt&&(kt.match_length=Bt(kt,Gt)),kt.match_length>=Tt)if(zt=at._tr_tally(kt,kt.strstart-kt.match_start,kt.match_length-Tt),kt.lookahead-=kt.match_length,kt.match_length<=kt.max_lazy_match&&kt.lookahead>=Tt){for(kt.match_length--;kt.strstart++,kt.ins_h=(kt.ins_h<<kt.hash_shift^kt.window[kt.strstart+Tt-1])&kt.hash_mask,Gt=kt.prev[kt.strstart&kt.w_mask]=kt.head[kt.ins_h],kt.head[kt.ins_h]=kt.strstart,--kt.match_length!=0;);kt.strstart++}else kt.strstart+=kt.match_length,kt.match_length=0,kt.ins_h=kt.window[kt.strstart],kt.ins_h=(kt.ins_h<<kt.hash_shift^kt.window[kt.strstart+1])&kt.hash_mask;else zt=at._tr_tally(kt,0,kt.window[kt.strstart]),kt.lookahead--,kt.strstart++;if(zt&&(It(kt,!1),kt.strm.avail_out===0))return Ct}return kt.insert=kt.strstart<Tt-1?kt.strstart:Tt-1,er===dt?(It(kt,!0),kt.strm.avail_out===0?Ft:Mt):kt.last_lit&&(It(kt,!1),kt.strm.avail_out===0)?Ct:Dt}function Xt(kt,er){for(var Gt,zt,Vt;;){if(kt.lookahead<Pt){if(Qt(kt),kt.lookahead<Pt&&er===ut)return Ct;if(kt.lookahead===0)break}if(Gt=0,kt.lookahead>=Tt&&(kt.ins_h=(kt.ins_h<<kt.hash_shift^kt.window[kt.strstart+Tt-1])&kt.hash_mask,Gt=kt.prev[kt.strstart&kt.w_mask]=kt.head[kt.ins_h],kt.head[kt.ins_h]=kt.strstart),kt.prev_length=kt.match_length,kt.prev_match=kt.match_start,kt.match_length=Tt-1,Gt!==0&&kt.prev_length<kt.max_lazy_match&&kt.strstart-Gt<=kt.w_size-Pt&&(kt.match_length=Bt(kt,Gt),kt.match_length<=5&&(kt.strategy===1||kt.match_length===Tt&&4096<kt.strstart-kt.match_start)&&(kt.match_length=Tt-1)),kt.prev_length>=Tt&&kt.match_length<=kt.prev_length){for(Vt=kt.strstart+kt.lookahead-Tt,zt=at._tr_tally(kt,kt.strstart-1-kt.prev_match,kt.prev_length-Tt),kt.lookahead-=kt.prev_length-1,kt.prev_length-=2;++kt.strstart<=Vt&&(kt.ins_h=(kt.ins_h<<kt.hash_shift^kt.window[kt.strstart+Tt-1])&kt.hash_mask,Gt=kt.prev[kt.strstart&kt.w_mask]=kt.head[kt.ins_h],kt.head[kt.ins_h]=kt.strstart),--kt.prev_length!=0;);if(kt.match_available=0,kt.match_length=Tt-1,kt.strstart++,zt&&(It(kt,!1),kt.strm.avail_out===0))return Ct}else if(kt.match_available){if((zt=at._tr_tally(kt,0,kt.window[kt.strstart-1]))&&It(kt,!1),kt.strstart++,kt.lookahead--,kt.strm.avail_out===0)return Ct}else kt.match_available=1,kt.strstart++,kt.lookahead--}return kt.match_available&&(zt=at._tr_tally(kt,0,kt.window[kt.strstart-1]),kt.match_available=0),kt.insert=kt.strstart<Tt-1?kt.strstart:Tt-1,er===dt?(It(kt,!0),kt.strm.avail_out===0?Ft:Mt):kt.last_lit&&(It(kt,!1),kt.strm.avail_out===0)?Ct:Dt}function Zt(kt,er,Gt,zt,Vt){this.good_length=kt,this.max_lazy=er,this.nice_length=Gt,this.max_chain=zt,this.func=Vt}function Yt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=bt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new it.Buf16(2*wt),this.dyn_dtree=new it.Buf16(2*(2*xt+1)),this.bl_tree=new it.Buf16(2*(2*Et+1)),Ut(this.dyn_ltree),Ut(this.dyn_dtree),Ut(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new it.Buf16($t+1),this.heap=new it.Buf16(2*yt+1),Ut(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new it.Buf16(2*yt+1),Ut(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function rr(kt){var er;return kt&&kt.state?(kt.total_in=kt.total_out=0,kt.data_type=mt,(er=kt.state).pending=0,er.pending_out=0,er.wrap<0&&(er.wrap=-er.wrap),er.status=er.wrap?At:Rt,kt.adler=er.wrap===2?0:1,er.last_flush=ut,at._tr_init(er),ft):Ot(kt,ht)}function ar(kt){var er=rr(kt);return er===ft&&function(Gt){Gt.window_size=2*Gt.w_size,Ut(Gt.head),Gt.max_lazy_match=st[Gt.level].max_lazy,Gt.good_match=st[Gt.level].good_length,Gt.nice_match=st[Gt.level].nice_length,Gt.max_chain_length=st[Gt.level].max_chain,Gt.strstart=0,Gt.block_start=0,Gt.lookahead=0,Gt.insert=0,Gt.match_length=Gt.prev_length=Tt-1,Gt.match_available=0,Gt.ins_h=0}(kt.state),er}function sr(kt,er,Gt,zt,Vt,Ht){if(!kt)return ht;var lr=1;if(er===pt&&(er=6),zt<0?(lr=0,zt=-zt):15<zt&&(lr=2,zt-=16),Vt<1||vt<Vt||Gt!==bt||zt<8||15<zt||er<0||9<er||Ht<0||gt<Ht)return Ot(kt,ht);zt===8&&(zt=9);var dr=new Yt;return(kt.state=dr).strm=kt,dr.wrap=lr,dr.gzhead=null,dr.w_bits=zt,dr.w_size=1<<dr.w_bits,dr.w_mask=dr.w_size-1,dr.hash_bits=Vt+7,dr.hash_size=1<<dr.hash_bits,dr.hash_mask=dr.hash_size-1,dr.hash_shift=~~((dr.hash_bits+Tt-1)/Tt),dr.window=new it.Buf8(2*dr.w_size),dr.head=new it.Buf16(dr.hash_size),dr.prev=new it.Buf16(dr.w_size),dr.lit_bufsize=1<<Vt+6,dr.pending_buf_size=4*dr.lit_bufsize,dr.pending_buf=new it.Buf8(dr.pending_buf_size),dr.d_buf=1*dr.lit_bufsize,dr.l_buf=3*dr.lit_bufsize,dr.level=er,dr.strategy=Ht,dr.method=Gt,ar(kt)}st=[new Zt(0,0,0,0,function(kt,er){var Gt=65535;for(Gt>kt.pending_buf_size-5&&(Gt=kt.pending_buf_size-5);;){if(kt.lookahead<=1){if(Qt(kt),kt.lookahead===0&&er===ut)return Ct;if(kt.lookahead===0)break}kt.strstart+=kt.lookahead,kt.lookahead=0;var zt=kt.block_start+Gt;if((kt.strstart===0||kt.strstart>=zt)&&(kt.lookahead=kt.strstart-zt,kt.strstart=zt,It(kt,!1),kt.strm.avail_out===0)||kt.strstart-kt.block_start>=kt.w_size-Pt&&(It(kt,!1),kt.strm.avail_out===0))return Ct}return kt.insert=0,er===dt?(It(kt,!0),kt.strm.avail_out===0?Ft:Mt):(kt.strstart>kt.block_start&&(It(kt,!1),kt.strm.avail_out),Ct)}),new Zt(4,4,8,4,Nt),new Zt(4,5,16,8,Nt),new Zt(4,6,32,32,Nt),new Zt(4,4,16,16,Xt),new Zt(8,16,32,32,Xt),new Zt(8,16,128,128,Xt),new Zt(8,32,128,256,Xt),new Zt(32,128,258,1024,Xt),new Zt(32,258,258,4096,Xt)],nt.deflateInit=function(kt,er){return sr(kt,er,bt,15,8,0)},nt.deflateInit2=sr,nt.deflateReset=ar,nt.deflateResetKeep=rr,nt.deflateSetHeader=function(kt,er){return kt&&kt.state?kt.state.wrap!==2?ht:(kt.state.gzhead=er,ft):ht},nt.deflate=function(kt,er){var Gt,zt,Vt,Ht;if(!kt||!kt.state||5<er||er<0)return kt?Ot(kt,ht):ht;if(zt=kt.state,!kt.output||!kt.input&&kt.avail_in!==0||zt.status===666&&er!==dt)return Ot(kt,kt.avail_out===0?-5:ht);if(zt.strm=kt,Gt=zt.last_flush,zt.last_flush=er,zt.status===At)if(zt.wrap===2)kt.adler=0,Wt(zt,31),Wt(zt,139),Wt(zt,8),zt.gzhead?(Wt(zt,(zt.gzhead.text?1:0)+(zt.gzhead.hcrc?2:0)+(zt.gzhead.extra?4:0)+(zt.gzhead.name?8:0)+(zt.gzhead.comment?16:0)),Wt(zt,255&zt.gzhead.time),Wt(zt,zt.gzhead.time>>8&255),Wt(zt,zt.gzhead.time>>16&255),Wt(zt,zt.gzhead.time>>24&255),Wt(zt,zt.level===9?2:2<=zt.strategy||zt.level<2?4:0),Wt(zt,255&zt.gzhead.os),zt.gzhead.extra&&zt.gzhead.extra.length&&(Wt(zt,255&zt.gzhead.extra.length),Wt(zt,zt.gzhead.extra.length>>8&255)),zt.gzhead.hcrc&&(kt.adler=lt(kt.adler,zt.pending_buf,zt.pending,0)),zt.gzindex=0,zt.status=69):(Wt(zt,0),Wt(zt,0),Wt(zt,0),Wt(zt,0),Wt(zt,0),Wt(zt,zt.level===9?2:2<=zt.strategy||zt.level<2?4:0),Wt(zt,3),zt.status=Rt);else{var lr=bt+(zt.w_bits-8<<4)<<8;lr|=(2<=zt.strategy||zt.level<2?0:zt.level<6?1:zt.level===6?2:3)<<6,zt.strstart!==0&&(lr|=32),lr+=31-lr%31,zt.status=Rt,Kt(zt,lr),zt.strstart!==0&&(Kt(zt,kt.adler>>>16),Kt(zt,65535&kt.adler)),kt.adler=1}if(zt.status===69)if(zt.gzhead.extra){for(Vt=zt.pending;zt.gzindex<(65535&zt.gzhead.extra.length)&&(zt.pending!==zt.pending_buf_size||(zt.gzhead.hcrc&&zt.pending>Vt&&(kt.adler=lt(kt.adler,zt.pending_buf,zt.pending-Vt,Vt)),_t(kt),Vt=zt.pending,zt.pending!==zt.pending_buf_size));)Wt(zt,255&zt.gzhead.extra[zt.gzindex]),zt.gzindex++;zt.gzhead.hcrc&&zt.pending>Vt&&(kt.adler=lt(kt.adler,zt.pending_buf,zt.pending-Vt,Vt)),zt.gzindex===zt.gzhead.extra.length&&(zt.gzindex=0,zt.status=73)}else zt.status=73;if(zt.status===73)if(zt.gzhead.name){Vt=zt.pending;do{if(zt.pending===zt.pending_buf_size&&(zt.gzhead.hcrc&&zt.pending>Vt&&(kt.adler=lt(kt.adler,zt.pending_buf,zt.pending-Vt,Vt)),_t(kt),Vt=zt.pending,zt.pending===zt.pending_buf_size)){Ht=1;break}Ht=zt.gzindex<zt.gzhead.name.length?255&zt.gzhead.name.charCodeAt(zt.gzindex++):0,Wt(zt,Ht)}while(Ht!==0);zt.gzhead.hcrc&&zt.pending>Vt&&(kt.adler=lt(kt.adler,zt.pending_buf,zt.pending-Vt,Vt)),Ht===0&&(zt.gzindex=0,zt.status=91)}else zt.status=91;if(zt.status===91)if(zt.gzhead.comment){Vt=zt.pending;do{if(zt.pending===zt.pending_buf_size&&(zt.gzhead.hcrc&&zt.pending>Vt&&(kt.adler=lt(kt.adler,zt.pending_buf,zt.pending-Vt,Vt)),_t(kt),Vt=zt.pending,zt.pending===zt.pending_buf_size)){Ht=1;break}Ht=zt.gzindex<zt.gzhead.comment.length?255&zt.gzhead.comment.charCodeAt(zt.gzindex++):0,Wt(zt,Ht)}while(Ht!==0);zt.gzhead.hcrc&&zt.pending>Vt&&(kt.adler=lt(kt.adler,zt.pending_buf,zt.pending-Vt,Vt)),Ht===0&&(zt.status=103)}else zt.status=103;if(zt.status===103&&(zt.gzhead.hcrc?(zt.pending+2>zt.pending_buf_size&&_t(kt),zt.pending+2<=zt.pending_buf_size&&(Wt(zt,255&kt.adler),Wt(zt,kt.adler>>8&255),kt.adler=0,zt.status=Rt)):zt.status=Rt),zt.pending!==0){if(_t(kt),kt.avail_out===0)return zt.last_flush=-1,ft}else if(kt.avail_in===0&&jt(er)<=jt(Gt)&&er!==dt)return Ot(kt,-5);if(zt.status===666&&kt.avail_in!==0)return Ot(kt,-5);if(kt.avail_in!==0||zt.lookahead!==0||er!==ut&&zt.status!==666){var dr=zt.strategy===2?function(Jt,nr){for(var fr;;){if(Jt.lookahead===0&&(Qt(Jt),Jt.lookahead===0)){if(nr===ut)return Ct;break}if(Jt.match_length=0,fr=at._tr_tally(Jt,0,Jt.window[Jt.strstart]),Jt.lookahead--,Jt.strstart++,fr&&(It(Jt,!1),Jt.strm.avail_out===0))return Ct}return Jt.insert=0,nr===dt?(It(Jt,!0),Jt.strm.avail_out===0?Ft:Mt):Jt.last_lit&&(It(Jt,!1),Jt.strm.avail_out===0)?Ct:Dt}(zt,er):zt.strategy===3?function(Jt,nr){for(var fr,Lt,qt,tr,ir=Jt.window;;){if(Jt.lookahead<=St){if(Qt(Jt),Jt.lookahead<=St&&nr===ut)return Ct;if(Jt.lookahead===0)break}if(Jt.match_length=0,Jt.lookahead>=Tt&&0<Jt.strstart&&(Lt=ir[qt=Jt.strstart-1])===ir[++qt]&&Lt===ir[++qt]&&Lt===ir[++qt]){tr=Jt.strstart+St;do;while(Lt===ir[++qt]&&Lt===ir[++qt]&&Lt===ir[++qt]&&Lt===ir[++qt]&&Lt===ir[++qt]&&Lt===ir[++qt]&&Lt===ir[++qt]&&Lt===ir[++qt]&&qt<tr);Jt.match_length=St-(tr-qt),Jt.match_length>Jt.lookahead&&(Jt.match_length=Jt.lookahead)}if(Jt.match_length>=Tt?(fr=at._tr_tally(Jt,1,Jt.match_length-Tt),Jt.lookahead-=Jt.match_length,Jt.strstart+=Jt.match_length,Jt.match_length=0):(fr=at._tr_tally(Jt,0,Jt.window[Jt.strstart]),Jt.lookahead--,Jt.strstart++),fr&&(It(Jt,!1),Jt.strm.avail_out===0))return Ct}return Jt.insert=0,nr===dt?(It(Jt,!0),Jt.strm.avail_out===0?Ft:Mt):Jt.last_lit&&(It(Jt,!1),Jt.strm.avail_out===0)?Ct:Dt}(zt,er):st[zt.level].func(zt,er);if(dr!==Ft&&dr!==Mt||(zt.status=666),dr===Ct||dr===Ft)return kt.avail_out===0&&(zt.last_flush=-1),ft;if(dr===Dt&&(er===1?at._tr_align(zt):er!==5&&(at._tr_stored_block(zt,0,0,!1),er===3&&(Ut(zt.head),zt.lookahead===0&&(zt.strstart=0,zt.block_start=0,zt.insert=0))),_t(kt),kt.avail_out===0))return zt.last_flush=-1,ft}return er!==dt?ft:zt.wrap<=0?1:(zt.wrap===2?(Wt(zt,255&kt.adler),Wt(zt,kt.adler>>8&255),Wt(zt,kt.adler>>16&255),Wt(zt,kt.adler>>24&255),Wt(zt,255&kt.total_in),Wt(zt,kt.total_in>>8&255),Wt(zt,kt.total_in>>16&255),Wt(zt,kt.total_in>>24&255)):(Kt(zt,kt.adler>>>16),Kt(zt,65535&kt.adler)),_t(kt),0<zt.wrap&&(zt.wrap=-zt.wrap),zt.pending!==0?ft:1)},nt.deflateEnd=function(kt){var er;return kt&&kt.state?(er=kt.state.status)!==At&&er!==69&&er!==73&&er!==91&&er!==103&&er!==Rt&&er!==666?Ot(kt,ht):(kt.state=null,er===Rt?Ot(kt,-3):ft):ht},nt.deflateSetDictionary=function(kt,er){var Gt,zt,Vt,Ht,lr,dr,Jt,nr,fr=er.length;if(!kt||!kt.state||(Ht=(Gt=kt.state).wrap)===2||Ht===1&&Gt.status!==At||Gt.lookahead)return ht;for(Ht===1&&(kt.adler=ot(kt.adler,er,fr,0)),Gt.wrap=0,fr>=Gt.w_size&&(Ht===0&&(Ut(Gt.head),Gt.strstart=0,Gt.block_start=0,Gt.insert=0),nr=new it.Buf8(Gt.w_size),it.arraySet(nr,er,fr-Gt.w_size,Gt.w_size,0),er=nr,fr=Gt.w_size),lr=kt.avail_in,dr=kt.next_in,Jt=kt.input,kt.avail_in=fr,kt.next_in=0,kt.input=er,Qt(Gt);Gt.lookahead>=Tt;){for(zt=Gt.strstart,Vt=Gt.lookahead-(Tt-1);Gt.ins_h=(Gt.ins_h<<Gt.hash_shift^Gt.window[zt+Tt-1])&Gt.hash_mask,Gt.prev[zt&Gt.w_mask]=Gt.head[Gt.ins_h],Gt.head[Gt.ins_h]=zt,zt++,--Vt;);Gt.strstart=zt,Gt.lookahead=Tt-1,Qt(Gt)}return Gt.strstart+=Gt.lookahead,Gt.block_start=Gt.strstart,Gt.insert=Gt.lookahead,Gt.lookahead=0,Gt.match_length=Gt.prev_length=Tt-1,Gt.match_available=0,kt.next_in=dr,kt.input=Jt,kt.avail_in=lr,Gt.wrap=Ht,ft},nt.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(tt,rt,nt){rt.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(tt,rt,nt){rt.exports=function(st,it){var at,ot,lt,ct,ut,dt,ft,ht,pt,gt,mt,bt,vt,yt,xt,Et,wt,$t,Tt,St,Pt,At,Rt,Ct,Dt;at=st.state,ot=st.next_in,Ct=st.input,lt=ot+(st.avail_in-5),ct=st.next_out,Dt=st.output,ut=ct-(it-st.avail_out),dt=ct+(st.avail_out-257),ft=at.dmax,ht=at.wsize,pt=at.whave,gt=at.wnext,mt=at.window,bt=at.hold,vt=at.bits,yt=at.lencode,xt=at.distcode,Et=(1<<at.lenbits)-1,wt=(1<<at.distbits)-1;e:do{vt<15&&(bt+=Ct[ot++]<<vt,vt+=8,bt+=Ct[ot++]<<vt,vt+=8),$t=yt[bt&Et];t:for(;;){if(bt>>>=Tt=$t>>>24,vt-=Tt,(Tt=$t>>>16&255)===0)Dt[ct++]=65535&$t;else{if(!(16&Tt)){if(!(64&Tt)){$t=yt[(65535&$t)+(bt&(1<<Tt)-1)];continue t}if(32&Tt){at.mode=12;break e}st.msg="invalid literal/length code",at.mode=30;break e}St=65535&$t,(Tt&=15)&&(vt<Tt&&(bt+=Ct[ot++]<<vt,vt+=8),St+=bt&(1<<Tt)-1,bt>>>=Tt,vt-=Tt),vt<15&&(bt+=Ct[ot++]<<vt,vt+=8,bt+=Ct[ot++]<<vt,vt+=8),$t=xt[bt&wt];r:for(;;){if(bt>>>=Tt=$t>>>24,vt-=Tt,!(16&(Tt=$t>>>16&255))){if(!(64&Tt)){$t=xt[(65535&$t)+(bt&(1<<Tt)-1)];continue r}st.msg="invalid distance code",at.mode=30;break e}if(Pt=65535&$t,vt<(Tt&=15)&&(bt+=Ct[ot++]<<vt,(vt+=8)<Tt&&(bt+=Ct[ot++]<<vt,vt+=8)),ft<(Pt+=bt&(1<<Tt)-1)){st.msg="invalid distance too far back",at.mode=30;break e}if(bt>>>=Tt,vt-=Tt,(Tt=ct-ut)<Pt){if(pt<(Tt=Pt-Tt)&&at.sane){st.msg="invalid distance too far back",at.mode=30;break e}if(Rt=mt,(At=0)===gt){if(At+=ht-Tt,Tt<St){for(St-=Tt;Dt[ct++]=mt[At++],--Tt;);At=ct-Pt,Rt=Dt}}else if(gt<Tt){if(At+=ht+gt-Tt,(Tt-=gt)<St){for(St-=Tt;Dt[ct++]=mt[At++],--Tt;);if(At=0,gt<St){for(St-=Tt=gt;Dt[ct++]=mt[At++],--Tt;);At=ct-Pt,Rt=Dt}}}else if(At+=gt-Tt,Tt<St){for(St-=Tt;Dt[ct++]=mt[At++],--Tt;);At=ct-Pt,Rt=Dt}for(;2<St;)Dt[ct++]=Rt[At++],Dt[ct++]=Rt[At++],Dt[ct++]=Rt[At++],St-=3;St&&(Dt[ct++]=Rt[At++],1<St&&(Dt[ct++]=Rt[At++]))}else{for(At=ct-Pt;Dt[ct++]=Dt[At++],Dt[ct++]=Dt[At++],Dt[ct++]=Dt[At++],2<(St-=3););St&&(Dt[ct++]=Dt[At++],1<St&&(Dt[ct++]=Dt[At++]))}break}}break}}while(ot<lt&&ct<dt);ot-=St=vt>>3,bt&=(1<<(vt-=St<<3))-1,st.next_in=ot,st.next_out=ct,st.avail_in=ot<lt?lt-ot+5:5-(ot-lt),st.avail_out=ct<dt?dt-ct+257:257-(ct-dt),at.hold=bt,at.bits=vt}},{}],49:[function(tt,rt,nt){var st=tt("../utils/common"),it=tt("./adler32"),at=tt("./crc32"),ot=tt("./inffast"),lt=tt("./inftrees"),ct=1,ut=2,dt=0,ft=-2,ht=1,pt=852,gt=592;function mt(At){return(At>>>24&255)+(At>>>8&65280)+((65280&At)<<8)+((255&At)<<24)}function bt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new st.Buf16(320),this.work=new st.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function vt(At){var Rt;return At&&At.state?(Rt=At.state,At.total_in=At.total_out=Rt.total=0,At.msg="",Rt.wrap&&(At.adler=1&Rt.wrap),Rt.mode=ht,Rt.last=0,Rt.havedict=0,Rt.dmax=32768,Rt.head=null,Rt.hold=0,Rt.bits=0,Rt.lencode=Rt.lendyn=new st.Buf32(pt),Rt.distcode=Rt.distdyn=new st.Buf32(gt),Rt.sane=1,Rt.back=-1,dt):ft}function yt(At){var Rt;return At&&At.state?((Rt=At.state).wsize=0,Rt.whave=0,Rt.wnext=0,vt(At)):ft}function xt(At,Rt){var Ct,Dt;return At&&At.state?(Dt=At.state,Rt<0?(Ct=0,Rt=-Rt):(Ct=1+(Rt>>4),Rt<48&&(Rt&=15)),Rt&&(Rt<8||15<Rt)?ft:(Dt.window!==null&&Dt.wbits!==Rt&&(Dt.window=null),Dt.wrap=Ct,Dt.wbits=Rt,yt(At))):ft}function Et(At,Rt){var Ct,Dt;return At?(Dt=new bt,(At.state=Dt).window=null,(Ct=xt(At,Rt))!==dt&&(At.state=null),Ct):ft}var wt,$t,Tt=!0;function St(At){if(Tt){var Rt;for(wt=new st.Buf32(512),$t=new st.Buf32(32),Rt=0;Rt<144;)At.lens[Rt++]=8;for(;Rt<256;)At.lens[Rt++]=9;for(;Rt<280;)At.lens[Rt++]=7;for(;Rt<288;)At.lens[Rt++]=8;for(lt(ct,At.lens,0,288,wt,0,At.work,{bits:9}),Rt=0;Rt<32;)At.lens[Rt++]=5;lt(ut,At.lens,0,32,$t,0,At.work,{bits:5}),Tt=!1}At.lencode=wt,At.lenbits=9,At.distcode=$t,At.distbits=5}function Pt(At,Rt,Ct,Dt){var Ft,Mt=At.state;return Mt.window===null&&(Mt.wsize=1<<Mt.wbits,Mt.wnext=0,Mt.whave=0,Mt.window=new st.Buf8(Mt.wsize)),Dt>=Mt.wsize?(st.arraySet(Mt.window,Rt,Ct-Mt.wsize,Mt.wsize,0),Mt.wnext=0,Mt.whave=Mt.wsize):(Dt<(Ft=Mt.wsize-Mt.wnext)&&(Ft=Dt),st.arraySet(Mt.window,Rt,Ct-Dt,Ft,Mt.wnext),(Dt-=Ft)?(st.arraySet(Mt.window,Rt,Ct-Dt,Dt,0),Mt.wnext=Dt,Mt.whave=Mt.wsize):(Mt.wnext+=Ft,Mt.wnext===Mt.wsize&&(Mt.wnext=0),Mt.whave<Mt.wsize&&(Mt.whave+=Ft))),0}nt.inflateReset=yt,nt.inflateReset2=xt,nt.inflateResetKeep=vt,nt.inflateInit=function(At){return Et(At,15)},nt.inflateInit2=Et,nt.inflate=function(At,Rt){var Ct,Dt,Ft,Mt,Ot,jt,Ut,_t,It,Wt,Kt,Bt,Qt,Nt,Xt,Zt,Yt,rr,ar,sr,kt,er,Gt,zt,Vt=0,Ht=new st.Buf8(4),lr=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!At||!At.state||!At.output||!At.input&&At.avail_in!==0)return ft;(Ct=At.state).mode===12&&(Ct.mode=13),Ot=At.next_out,Ft=At.output,Ut=At.avail_out,Mt=At.next_in,Dt=At.input,jt=At.avail_in,_t=Ct.hold,It=Ct.bits,Wt=jt,Kt=Ut,er=dt;e:for(;;)switch(Ct.mode){case ht:if(Ct.wrap===0){Ct.mode=13;break}for(;It<16;){if(jt===0)break e;jt--,_t+=Dt[Mt++]<<It,It+=8}if(2&Ct.wrap&&_t===35615){Ht[Ct.check=0]=255&_t,Ht[1]=_t>>>8&255,Ct.check=at(Ct.check,Ht,2,0),It=_t=0,Ct.mode=2;break}if(Ct.flags=0,Ct.head&&(Ct.head.done=!1),!(1&Ct.wrap)||(((255&_t)<<8)+(_t>>8))%31){At.msg="incorrect header check",Ct.mode=30;break}if((15&_t)!=8){At.msg="unknown compression method",Ct.mode=30;break}if(It-=4,kt=8+(15&(_t>>>=4)),Ct.wbits===0)Ct.wbits=kt;else if(kt>Ct.wbits){At.msg="invalid window size",Ct.mode=30;break}Ct.dmax=1<<kt,At.adler=Ct.check=1,Ct.mode=512&_t?10:12,It=_t=0;break;case 2:for(;It<16;){if(jt===0)break e;jt--,_t+=Dt[Mt++]<<It,It+=8}if(Ct.flags=_t,(255&Ct.flags)!=8){At.msg="unknown compression method",Ct.mode=30;break}if(57344&Ct.flags){At.msg="unknown header flags set",Ct.mode=30;break}Ct.head&&(Ct.head.text=_t>>8&1),512&Ct.flags&&(Ht[0]=255&_t,Ht[1]=_t>>>8&255,Ct.check=at(Ct.check,Ht,2,0)),It=_t=0,Ct.mode=3;case 3:for(;It<32;){if(jt===0)break e;jt--,_t+=Dt[Mt++]<<It,It+=8}Ct.head&&(Ct.head.time=_t),512&Ct.flags&&(Ht[0]=255&_t,Ht[1]=_t>>>8&255,Ht[2]=_t>>>16&255,Ht[3]=_t>>>24&255,Ct.check=at(Ct.check,Ht,4,0)),It=_t=0,Ct.mode=4;case 4:for(;It<16;){if(jt===0)break e;jt--,_t+=Dt[Mt++]<<It,It+=8}Ct.head&&(Ct.head.xflags=255&_t,Ct.head.os=_t>>8),512&Ct.flags&&(Ht[0]=255&_t,Ht[1]=_t>>>8&255,Ct.check=at(Ct.check,Ht,2,0)),It=_t=0,Ct.mode=5;case 5:if(1024&Ct.flags){for(;It<16;){if(jt===0)break e;jt--,_t+=Dt[Mt++]<<It,It+=8}Ct.length=_t,Ct.head&&(Ct.head.extra_len=_t),512&Ct.flags&&(Ht[0]=255&_t,Ht[1]=_t>>>8&255,Ct.check=at(Ct.check,Ht,2,0)),It=_t=0}else Ct.head&&(Ct.head.extra=null);Ct.mode=6;case 6:if(1024&Ct.flags&&(jt<(Bt=Ct.length)&&(Bt=jt),Bt&&(Ct.head&&(kt=Ct.head.extra_len-Ct.length,Ct.head.extra||(Ct.head.extra=new Array(Ct.head.extra_len)),st.arraySet(Ct.head.extra,Dt,Mt,Bt,kt)),512&Ct.flags&&(Ct.check=at(Ct.check,Dt,Bt,Mt)),jt-=Bt,Mt+=Bt,Ct.length-=Bt),Ct.length))break e;Ct.length=0,Ct.mode=7;case 7:if(2048&Ct.flags){if(jt===0)break e;for(Bt=0;kt=Dt[Mt+Bt++],Ct.head&&kt&&Ct.length<65536&&(Ct.head.name+=String.fromCharCode(kt)),kt&&Bt<jt;);if(512&Ct.flags&&(Ct.check=at(Ct.check,Dt,Bt,Mt)),jt-=Bt,Mt+=Bt,kt)break e}else Ct.head&&(Ct.head.name=null);Ct.length=0,Ct.mode=8;case 8:if(4096&Ct.flags){if(jt===0)break e;for(Bt=0;kt=Dt[Mt+Bt++],Ct.head&&kt&&Ct.length<65536&&(Ct.head.comment+=String.fromCharCode(kt)),kt&&Bt<jt;);if(512&Ct.flags&&(Ct.check=at(Ct.check,Dt,Bt,Mt)),jt-=Bt,Mt+=Bt,kt)break e}else Ct.head&&(Ct.head.comment=null);Ct.mode=9;case 9:if(512&Ct.flags){for(;It<16;){if(jt===0)break e;jt--,_t+=Dt[Mt++]<<It,It+=8}if(_t!==(65535&Ct.check)){At.msg="header crc mismatch",Ct.mode=30;break}It=_t=0}Ct.head&&(Ct.head.hcrc=Ct.flags>>9&1,Ct.head.done=!0),At.adler=Ct.check=0,Ct.mode=12;break;case 10:for(;It<32;){if(jt===0)break e;jt--,_t+=Dt[Mt++]<<It,It+=8}At.adler=Ct.check=mt(_t),It=_t=0,Ct.mode=11;case 11:if(Ct.havedict===0)return At.next_out=Ot,At.avail_out=Ut,At.next_in=Mt,At.avail_in=jt,Ct.hold=_t,Ct.bits=It,2;At.adler=Ct.check=1,Ct.mode=12;case 12:if(Rt===5||Rt===6)break e;case 13:if(Ct.last){_t>>>=7&It,It-=7&It,Ct.mode=27;break}for(;It<3;){if(jt===0)break e;jt--,_t+=Dt[Mt++]<<It,It+=8}switch(Ct.last=1&_t,It-=1,3&(_t>>>=1)){case 0:Ct.mode=14;break;case 1:if(St(Ct),Ct.mode=20,Rt!==6)break;_t>>>=2,It-=2;break e;case 2:Ct.mode=17;break;case 3:At.msg="invalid block type",Ct.mode=30}_t>>>=2,It-=2;break;case 14:for(_t>>>=7&It,It-=7&It;It<32;){if(jt===0)break e;jt--,_t+=Dt[Mt++]<<It,It+=8}if((65535&_t)!=(_t>>>16^65535)){At.msg="invalid stored block lengths",Ct.mode=30;break}if(Ct.length=65535&_t,It=_t=0,Ct.mode=15,Rt===6)break e;case 15:Ct.mode=16;case 16:if(Bt=Ct.length){if(jt<Bt&&(Bt=jt),Ut<Bt&&(Bt=Ut),Bt===0)break e;st.arraySet(Ft,Dt,Mt,Bt,Ot),jt-=Bt,Mt+=Bt,Ut-=Bt,Ot+=Bt,Ct.length-=Bt;break}Ct.mode=12;break;case 17:for(;It<14;){if(jt===0)break e;jt--,_t+=Dt[Mt++]<<It,It+=8}if(Ct.nlen=257+(31&_t),_t>>>=5,It-=5,Ct.ndist=1+(31&_t),_t>>>=5,It-=5,Ct.ncode=4+(15&_t),_t>>>=4,It-=4,286<Ct.nlen||30<Ct.ndist){At.msg="too many length or distance symbols",Ct.mode=30;break}Ct.have=0,Ct.mode=18;case 18:for(;Ct.have<Ct.ncode;){for(;It<3;){if(jt===0)break e;jt--,_t+=Dt[Mt++]<<It,It+=8}Ct.lens[lr[Ct.have++]]=7&_t,_t>>>=3,It-=3}for(;Ct.have<19;)Ct.lens[lr[Ct.have++]]=0;if(Ct.lencode=Ct.lendyn,Ct.lenbits=7,Gt={bits:Ct.lenbits},er=lt(0,Ct.lens,0,19,Ct.lencode,0,Ct.work,Gt),Ct.lenbits=Gt.bits,er){At.msg="invalid code lengths set",Ct.mode=30;break}Ct.have=0,Ct.mode=19;case 19:for(;Ct.have<Ct.nlen+Ct.ndist;){for(;Zt=(Vt=Ct.lencode[_t&(1<<Ct.lenbits)-1])>>>16&255,Yt=65535&Vt,!((Xt=Vt>>>24)<=It);){if(jt===0)break e;jt--,_t+=Dt[Mt++]<<It,It+=8}if(Yt<16)_t>>>=Xt,It-=Xt,Ct.lens[Ct.have++]=Yt;else{if(Yt===16){for(zt=Xt+2;It<zt;){if(jt===0)break e;jt--,_t+=Dt[Mt++]<<It,It+=8}if(_t>>>=Xt,It-=Xt,Ct.have===0){At.msg="invalid bit length repeat",Ct.mode=30;break}kt=Ct.lens[Ct.have-1],Bt=3+(3&_t),_t>>>=2,It-=2}else if(Yt===17){for(zt=Xt+3;It<zt;){if(jt===0)break e;jt--,_t+=Dt[Mt++]<<It,It+=8}It-=Xt,kt=0,Bt=3+(7&(_t>>>=Xt)),_t>>>=3,It-=3}else{for(zt=Xt+7;It<zt;){if(jt===0)break e;jt--,_t+=Dt[Mt++]<<It,It+=8}It-=Xt,kt=0,Bt=11+(127&(_t>>>=Xt)),_t>>>=7,It-=7}if(Ct.have+Bt>Ct.nlen+Ct.ndist){At.msg="invalid bit length repeat",Ct.mode=30;break}for(;Bt--;)Ct.lens[Ct.have++]=kt}}if(Ct.mode===30)break;if(Ct.lens[256]===0){At.msg="invalid code -- missing end-of-block",Ct.mode=30;break}if(Ct.lenbits=9,Gt={bits:Ct.lenbits},er=lt(ct,Ct.lens,0,Ct.nlen,Ct.lencode,0,Ct.work,Gt),Ct.lenbits=Gt.bits,er){At.msg="invalid literal/lengths set",Ct.mode=30;break}if(Ct.distbits=6,Ct.distcode=Ct.distdyn,Gt={bits:Ct.distbits},er=lt(ut,Ct.lens,Ct.nlen,Ct.ndist,Ct.distcode,0,Ct.work,Gt),Ct.distbits=Gt.bits,er){At.msg="invalid distances set",Ct.mode=30;break}if(Ct.mode=20,Rt===6)break e;case 20:Ct.mode=21;case 21:if(6<=jt&&258<=Ut){At.next_out=Ot,At.avail_out=Ut,At.next_in=Mt,At.avail_in=jt,Ct.hold=_t,Ct.bits=It,ot(At,Kt),Ot=At.next_out,Ft=At.output,Ut=At.avail_out,Mt=At.next_in,Dt=At.input,jt=At.avail_in,_t=Ct.hold,It=Ct.bits,Ct.mode===12&&(Ct.back=-1);break}for(Ct.back=0;Zt=(Vt=Ct.lencode[_t&(1<<Ct.lenbits)-1])>>>16&255,Yt=65535&Vt,!((Xt=Vt>>>24)<=It);){if(jt===0)break e;jt--,_t+=Dt[Mt++]<<It,It+=8}if(Zt&&!(240&Zt)){for(rr=Xt,ar=Zt,sr=Yt;Zt=(Vt=Ct.lencode[sr+((_t&(1<<rr+ar)-1)>>rr)])>>>16&255,Yt=65535&Vt,!(rr+(Xt=Vt>>>24)<=It);){if(jt===0)break e;jt--,_t+=Dt[Mt++]<<It,It+=8}_t>>>=rr,It-=rr,Ct.back+=rr}if(_t>>>=Xt,It-=Xt,Ct.back+=Xt,Ct.length=Yt,Zt===0){Ct.mode=26;break}if(32&Zt){Ct.back=-1,Ct.mode=12;break}if(64&Zt){At.msg="invalid literal/length code",Ct.mode=30;break}Ct.extra=15&Zt,Ct.mode=22;case 22:if(Ct.extra){for(zt=Ct.extra;It<zt;){if(jt===0)break e;jt--,_t+=Dt[Mt++]<<It,It+=8}Ct.length+=_t&(1<<Ct.extra)-1,_t>>>=Ct.extra,It-=Ct.extra,Ct.back+=Ct.extra}Ct.was=Ct.length,Ct.mode=23;case 23:for(;Zt=(Vt=Ct.distcode[_t&(1<<Ct.distbits)-1])>>>16&255,Yt=65535&Vt,!((Xt=Vt>>>24)<=It);){if(jt===0)break e;jt--,_t+=Dt[Mt++]<<It,It+=8}if(!(240&Zt)){for(rr=Xt,ar=Zt,sr=Yt;Zt=(Vt=Ct.distcode[sr+((_t&(1<<rr+ar)-1)>>rr)])>>>16&255,Yt=65535&Vt,!(rr+(Xt=Vt>>>24)<=It);){if(jt===0)break e;jt--,_t+=Dt[Mt++]<<It,It+=8}_t>>>=rr,It-=rr,Ct.back+=rr}if(_t>>>=Xt,It-=Xt,Ct.back+=Xt,64&Zt){At.msg="invalid distance code",Ct.mode=30;break}Ct.offset=Yt,Ct.extra=15&Zt,Ct.mode=24;case 24:if(Ct.extra){for(zt=Ct.extra;It<zt;){if(jt===0)break e;jt--,_t+=Dt[Mt++]<<It,It+=8}Ct.offset+=_t&(1<<Ct.extra)-1,_t>>>=Ct.extra,It-=Ct.extra,Ct.back+=Ct.extra}if(Ct.offset>Ct.dmax){At.msg="invalid distance too far back",Ct.mode=30;break}Ct.mode=25;case 25:if(Ut===0)break e;if(Bt=Kt-Ut,Ct.offset>Bt){if((Bt=Ct.offset-Bt)>Ct.whave&&Ct.sane){At.msg="invalid distance too far back",Ct.mode=30;break}Qt=Bt>Ct.wnext?(Bt-=Ct.wnext,Ct.wsize-Bt):Ct.wnext-Bt,Bt>Ct.length&&(Bt=Ct.length),Nt=Ct.window}else Nt=Ft,Qt=Ot-Ct.offset,Bt=Ct.length;for(Ut<Bt&&(Bt=Ut),Ut-=Bt,Ct.length-=Bt;Ft[Ot++]=Nt[Qt++],--Bt;);Ct.length===0&&(Ct.mode=21);break;case 26:if(Ut===0)break e;Ft[Ot++]=Ct.length,Ut--,Ct.mode=21;break;case 27:if(Ct.wrap){for(;It<32;){if(jt===0)break e;jt--,_t|=Dt[Mt++]<<It,It+=8}if(Kt-=Ut,At.total_out+=Kt,Ct.total+=Kt,Kt&&(At.adler=Ct.check=Ct.flags?at(Ct.check,Ft,Kt,Ot-Kt):it(Ct.check,Ft,Kt,Ot-Kt)),Kt=Ut,(Ct.flags?_t:mt(_t))!==Ct.check){At.msg="incorrect data check",Ct.mode=30;break}It=_t=0}Ct.mode=28;case 28:if(Ct.wrap&&Ct.flags){for(;It<32;){if(jt===0)break e;jt--,_t+=Dt[Mt++]<<It,It+=8}if(_t!==(4294967295&Ct.total)){At.msg="incorrect length check",Ct.mode=30;break}It=_t=0}Ct.mode=29;case 29:er=1;break e;case 30:er=-3;break e;case 31:return-4;case 32:default:return ft}return At.next_out=Ot,At.avail_out=Ut,At.next_in=Mt,At.avail_in=jt,Ct.hold=_t,Ct.bits=It,(Ct.wsize||Kt!==At.avail_out&&Ct.mode<30&&(Ct.mode<27||Rt!==4))&&Pt(At,At.output,At.next_out,Kt-At.avail_out)?(Ct.mode=31,-4):(Wt-=At.avail_in,Kt-=At.avail_out,At.total_in+=Wt,At.total_out+=Kt,Ct.total+=Kt,Ct.wrap&&Kt&&(At.adler=Ct.check=Ct.flags?at(Ct.check,Ft,Kt,At.next_out-Kt):it(Ct.check,Ft,Kt,At.next_out-Kt)),At.data_type=Ct.bits+(Ct.last?64:0)+(Ct.mode===12?128:0)+(Ct.mode===20||Ct.mode===15?256:0),(Wt==0&&Kt===0||Rt===4)&&er===dt&&(er=-5),er)},nt.inflateEnd=function(At){if(!At||!At.state)return ft;var Rt=At.state;return Rt.window&&(Rt.window=null),At.state=null,dt},nt.inflateGetHeader=function(At,Rt){var Ct;return At&&At.state&&2&(Ct=At.state).wrap?((Ct.head=Rt).done=!1,dt):ft},nt.inflateSetDictionary=function(At,Rt){var Ct,Dt=Rt.length;return At&&At.state?(Ct=At.state).wrap!==0&&Ct.mode!==11?ft:Ct.mode===11&&it(1,Rt,Dt,0)!==Ct.check?-3:Pt(At,Rt,Dt,Dt)?(Ct.mode=31,-4):(Ct.havedict=1,dt):ft},nt.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(tt,rt,nt){var st=tt("../utils/common"),it=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],at=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],ot=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],lt=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];rt.exports=function(ct,ut,dt,ft,ht,pt,gt,mt){var bt,vt,yt,xt,Et,wt,$t,Tt,St,Pt=mt.bits,At=0,Rt=0,Ct=0,Dt=0,Ft=0,Mt=0,Ot=0,jt=0,Ut=0,_t=0,It=null,Wt=0,Kt=new st.Buf16(16),Bt=new st.Buf16(16),Qt=null,Nt=0;for(At=0;At<=15;At++)Kt[At]=0;for(Rt=0;Rt<ft;Rt++)Kt[ut[dt+Rt]]++;for(Ft=Pt,Dt=15;1<=Dt&&Kt[Dt]===0;Dt--);if(Dt<Ft&&(Ft=Dt),Dt===0)return ht[pt++]=20971520,ht[pt++]=20971520,mt.bits=1,0;for(Ct=1;Ct<Dt&&Kt[Ct]===0;Ct++);for(Ft<Ct&&(Ft=Ct),At=jt=1;At<=15;At++)if(jt<<=1,(jt-=Kt[At])<0)return-1;if(0<jt&&(ct===0||Dt!==1))return-1;for(Bt[1]=0,At=1;At<15;At++)Bt[At+1]=Bt[At]+Kt[At];for(Rt=0;Rt<ft;Rt++)ut[dt+Rt]!==0&&(gt[Bt[ut[dt+Rt]]++]=Rt);if(wt=ct===0?(It=Qt=gt,19):ct===1?(It=it,Wt-=257,Qt=at,Nt-=257,256):(It=ot,Qt=lt,-1),At=Ct,Et=pt,Ot=Rt=_t=0,yt=-1,xt=(Ut=1<<(Mt=Ft))-1,ct===1&&852<Ut||ct===2&&592<Ut)return 1;for(;;){for($t=At-Ot,St=gt[Rt]<wt?(Tt=0,gt[Rt]):gt[Rt]>wt?(Tt=Qt[Nt+gt[Rt]],It[Wt+gt[Rt]]):(Tt=96,0),bt=1<<At-Ot,Ct=vt=1<<Mt;ht[Et+(_t>>Ot)+(vt-=bt)]=$t<<24|Tt<<16|St|0,vt!==0;);for(bt=1<<At-1;_t&bt;)bt>>=1;if(bt!==0?(_t&=bt-1,_t+=bt):_t=0,Rt++,--Kt[At]==0){if(At===Dt)break;At=ut[dt+gt[Rt]]}if(Ft<At&&(_t&xt)!==yt){for(Ot===0&&(Ot=Ft),Et+=Ct,jt=1<<(Mt=At-Ot);Mt+Ot<Dt&&!((jt-=Kt[Mt+Ot])<=0);)Mt++,jt<<=1;if(Ut+=1<<Mt,ct===1&&852<Ut||ct===2&&592<Ut)return 1;ht[yt=_t&xt]=Ft<<24|Mt<<16|Et-pt|0}}return _t!==0&&(ht[Et+_t]=At-Ot<<24|64<<16|0),mt.bits=Ft,0}},{"../utils/common":41}],51:[function(tt,rt,nt){rt.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(tt,rt,nt){var st=tt("../utils/common"),it=0,at=1;function ot(Vt){for(var Ht=Vt.length;0<=--Ht;)Vt[Ht]=0}var lt=0,ct=29,ut=256,dt=ut+1+ct,ft=30,ht=19,pt=2*dt+1,gt=15,mt=16,bt=7,vt=256,yt=16,xt=17,Et=18,wt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],$t=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Tt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],St=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Pt=new Array(2*(dt+2));ot(Pt);var At=new Array(2*ft);ot(At);var Rt=new Array(512);ot(Rt);var Ct=new Array(256);ot(Ct);var Dt=new Array(ct);ot(Dt);var Ft,Mt,Ot,jt=new Array(ft);function Ut(Vt,Ht,lr,dr,Jt){this.static_tree=Vt,this.extra_bits=Ht,this.extra_base=lr,this.elems=dr,this.max_length=Jt,this.has_stree=Vt&&Vt.length}function _t(Vt,Ht){this.dyn_tree=Vt,this.max_code=0,this.stat_desc=Ht}function It(Vt){return Vt<256?Rt[Vt]:Rt[256+(Vt>>>7)]}function Wt(Vt,Ht){Vt.pending_buf[Vt.pending++]=255&Ht,Vt.pending_buf[Vt.pending++]=Ht>>>8&255}function Kt(Vt,Ht,lr){Vt.bi_valid>mt-lr?(Vt.bi_buf|=Ht<<Vt.bi_valid&65535,Wt(Vt,Vt.bi_buf),Vt.bi_buf=Ht>>mt-Vt.bi_valid,Vt.bi_valid+=lr-mt):(Vt.bi_buf|=Ht<<Vt.bi_valid&65535,Vt.bi_valid+=lr)}function Bt(Vt,Ht,lr){Kt(Vt,lr[2*Ht],lr[2*Ht+1])}function Qt(Vt,Ht){for(var lr=0;lr|=1&Vt,Vt>>>=1,lr<<=1,0<--Ht;);return lr>>>1}function Nt(Vt,Ht,lr){var dr,Jt,nr=new Array(gt+1),fr=0;for(dr=1;dr<=gt;dr++)nr[dr]=fr=fr+lr[dr-1]<<1;for(Jt=0;Jt<=Ht;Jt++){var Lt=Vt[2*Jt+1];Lt!==0&&(Vt[2*Jt]=Qt(nr[Lt]++,Lt))}}function Xt(Vt){var Ht;for(Ht=0;Ht<dt;Ht++)Vt.dyn_ltree[2*Ht]=0;for(Ht=0;Ht<ft;Ht++)Vt.dyn_dtree[2*Ht]=0;for(Ht=0;Ht<ht;Ht++)Vt.bl_tree[2*Ht]=0;Vt.dyn_ltree[2*vt]=1,Vt.opt_len=Vt.static_len=0,Vt.last_lit=Vt.matches=0}function Zt(Vt){8<Vt.bi_valid?Wt(Vt,Vt.bi_buf):0<Vt.bi_valid&&(Vt.pending_buf[Vt.pending++]=Vt.bi_buf),Vt.bi_buf=0,Vt.bi_valid=0}function Yt(Vt,Ht,lr,dr){var Jt=2*Ht,nr=2*lr;return Vt[Jt]<Vt[nr]||Vt[Jt]===Vt[nr]&&dr[Ht]<=dr[lr]}function rr(Vt,Ht,lr){for(var dr=Vt.heap[lr],Jt=lr<<1;Jt<=Vt.heap_len&&(Jt<Vt.heap_len&&Yt(Ht,Vt.heap[Jt+1],Vt.heap[Jt],Vt.depth)&&Jt++,!Yt(Ht,dr,Vt.heap[Jt],Vt.depth));)Vt.heap[lr]=Vt.heap[Jt],lr=Jt,Jt<<=1;Vt.heap[lr]=dr}function ar(Vt,Ht,lr){var dr,Jt,nr,fr,Lt=0;if(Vt.last_lit!==0)for(;dr=Vt.pending_buf[Vt.d_buf+2*Lt]<<8|Vt.pending_buf[Vt.d_buf+2*Lt+1],Jt=Vt.pending_buf[Vt.l_buf+Lt],Lt++,dr===0?Bt(Vt,Jt,Ht):(Bt(Vt,(nr=Ct[Jt])+ut+1,Ht),(fr=wt[nr])!==0&&Kt(Vt,Jt-=Dt[nr],fr),Bt(Vt,nr=It(--dr),lr),(fr=$t[nr])!==0&&Kt(Vt,dr-=jt[nr],fr)),Lt<Vt.last_lit;);Bt(Vt,vt,Ht)}function sr(Vt,Ht){var lr,dr,Jt,nr=Ht.dyn_tree,fr=Ht.stat_desc.static_tree,Lt=Ht.stat_desc.has_stree,qt=Ht.stat_desc.elems,tr=-1;for(Vt.heap_len=0,Vt.heap_max=pt,lr=0;lr<qt;lr++)nr[2*lr]!==0?(Vt.heap[++Vt.heap_len]=tr=lr,Vt.depth[lr]=0):nr[2*lr+1]=0;for(;Vt.heap_len<2;)nr[2*(Jt=Vt.heap[++Vt.heap_len]=tr<2?++tr:0)]=1,Vt.depth[Jt]=0,Vt.opt_len--,Lt&&(Vt.static_len-=fr[2*Jt+1]);for(Ht.max_code=tr,lr=Vt.heap_len>>1;1<=lr;lr--)rr(Vt,nr,lr);for(Jt=qt;lr=Vt.heap[1],Vt.heap[1]=Vt.heap[Vt.heap_len--],rr(Vt,nr,1),dr=Vt.heap[1],Vt.heap[--Vt.heap_max]=lr,Vt.heap[--Vt.heap_max]=dr,nr[2*Jt]=nr[2*lr]+nr[2*dr],Vt.depth[Jt]=(Vt.depth[lr]>=Vt.depth[dr]?Vt.depth[lr]:Vt.depth[dr])+1,nr[2*lr+1]=nr[2*dr+1]=Jt,Vt.heap[1]=Jt++,rr(Vt,nr,1),2<=Vt.heap_len;);Vt.heap[--Vt.heap_max]=Vt.heap[1],function(ir,or){var ur,hr,vr,pr,br,xr,Tr=or.dyn_tree,Er=or.max_code,kr=or.stat_desc.static_tree,Mr=or.stat_desc.has_stree,jr=or.stat_desc.extra_bits,Ir=or.stat_desc.extra_base,Fr=or.stat_desc.max_length,Hr=0;for(pr=0;pr<=gt;pr++)ir.bl_count[pr]=0;for(Tr[2*ir.heap[ir.heap_max]+1]=0,ur=ir.heap_max+1;ur<pt;ur++)Fr<(pr=Tr[2*Tr[2*(hr=ir.heap[ur])+1]+1]+1)&&(pr=Fr,Hr++),Tr[2*hr+1]=pr,Er<hr||(ir.bl_count[pr]++,br=0,Ir<=hr&&(br=jr[hr-Ir]),xr=Tr[2*hr],ir.opt_len+=xr*(pr+br),Mr&&(ir.static_len+=xr*(kr[2*hr+1]+br)));if(Hr!==0){do{for(pr=Fr-1;ir.bl_count[pr]===0;)pr--;ir.bl_count[pr]--,ir.bl_count[pr+1]+=2,ir.bl_count[Fr]--,Hr-=2}while(0<Hr);for(pr=Fr;pr!==0;pr--)for(hr=ir.bl_count[pr];hr!==0;)Er<(vr=ir.heap[--ur])||(Tr[2*vr+1]!==pr&&(ir.opt_len+=(pr-Tr[2*vr+1])*Tr[2*vr],Tr[2*vr+1]=pr),hr--)}}(Vt,Ht),Nt(nr,tr,Vt.bl_count)}function kt(Vt,Ht,lr){var dr,Jt,nr=-1,fr=Ht[1],Lt=0,qt=7,tr=4;for(fr===0&&(qt=138,tr=3),Ht[2*(lr+1)+1]=65535,dr=0;dr<=lr;dr++)Jt=fr,fr=Ht[2*(dr+1)+1],++Lt<qt&&Jt===fr||(Lt<tr?Vt.bl_tree[2*Jt]+=Lt:Jt!==0?(Jt!==nr&&Vt.bl_tree[2*Jt]++,Vt.bl_tree[2*yt]++):Lt<=10?Vt.bl_tree[2*xt]++:Vt.bl_tree[2*Et]++,nr=Jt,tr=(Lt=0)===fr?(qt=138,3):Jt===fr?(qt=6,3):(qt=7,4))}function er(Vt,Ht,lr){var dr,Jt,nr=-1,fr=Ht[1],Lt=0,qt=7,tr=4;for(fr===0&&(qt=138,tr=3),dr=0;dr<=lr;dr++)if(Jt=fr,fr=Ht[2*(dr+1)+1],!(++Lt<qt&&Jt===fr)){if(Lt<tr)for(;Bt(Vt,Jt,Vt.bl_tree),--Lt!=0;);else Jt!==0?(Jt!==nr&&(Bt(Vt,Jt,Vt.bl_tree),Lt--),Bt(Vt,yt,Vt.bl_tree),Kt(Vt,Lt-3,2)):Lt<=10?(Bt(Vt,xt,Vt.bl_tree),Kt(Vt,Lt-3,3)):(Bt(Vt,Et,Vt.bl_tree),Kt(Vt,Lt-11,7));nr=Jt,tr=(Lt=0)===fr?(qt=138,3):Jt===fr?(qt=6,3):(qt=7,4)}}ot(jt);var Gt=!1;function zt(Vt,Ht,lr,dr){Kt(Vt,(lt<<1)+(dr?1:0),3),function(Jt,nr,fr,Lt){Zt(Jt),Lt&&(Wt(Jt,fr),Wt(Jt,~fr)),st.arraySet(Jt.pending_buf,Jt.window,nr,fr,Jt.pending),Jt.pending+=fr}(Vt,Ht,lr,!0)}nt._tr_init=function(Vt){Gt||(function(){var Ht,lr,dr,Jt,nr,fr=new Array(gt+1);for(Jt=dr=0;Jt<ct-1;Jt++)for(Dt[Jt]=dr,Ht=0;Ht<1<<wt[Jt];Ht++)Ct[dr++]=Jt;for(Ct[dr-1]=Jt,Jt=nr=0;Jt<16;Jt++)for(jt[Jt]=nr,Ht=0;Ht<1<<$t[Jt];Ht++)Rt[nr++]=Jt;for(nr>>=7;Jt<ft;Jt++)for(jt[Jt]=nr<<7,Ht=0;Ht<1<<$t[Jt]-7;Ht++)Rt[256+nr++]=Jt;for(lr=0;lr<=gt;lr++)fr[lr]=0;for(Ht=0;Ht<=143;)Pt[2*Ht+1]=8,Ht++,fr[8]++;for(;Ht<=255;)Pt[2*Ht+1]=9,Ht++,fr[9]++;for(;Ht<=279;)Pt[2*Ht+1]=7,Ht++,fr[7]++;for(;Ht<=287;)Pt[2*Ht+1]=8,Ht++,fr[8]++;for(Nt(Pt,dt+1,fr),Ht=0;Ht<ft;Ht++)At[2*Ht+1]=5,At[2*Ht]=Qt(Ht,5);Ft=new Ut(Pt,wt,ut+1,dt,gt),Mt=new Ut(At,$t,0,ft,gt),Ot=new Ut(new Array(0),Tt,0,ht,bt)}(),Gt=!0),Vt.l_desc=new _t(Vt.dyn_ltree,Ft),Vt.d_desc=new _t(Vt.dyn_dtree,Mt),Vt.bl_desc=new _t(Vt.bl_tree,Ot),Vt.bi_buf=0,Vt.bi_valid=0,Xt(Vt)},nt._tr_stored_block=zt,nt._tr_flush_block=function(Vt,Ht,lr,dr){var Jt,nr,fr=0;0<Vt.level?(Vt.strm.data_type===2&&(Vt.strm.data_type=function(Lt){var qt,tr=4093624447;for(qt=0;qt<=31;qt++,tr>>>=1)if(1&tr&&Lt.dyn_ltree[2*qt]!==0)return it;if(Lt.dyn_ltree[18]!==0||Lt.dyn_ltree[20]!==0||Lt.dyn_ltree[26]!==0)return at;for(qt=32;qt<ut;qt++)if(Lt.dyn_ltree[2*qt]!==0)return at;return it}(Vt)),sr(Vt,Vt.l_desc),sr(Vt,Vt.d_desc),fr=function(Lt){var qt;for(kt(Lt,Lt.dyn_ltree,Lt.l_desc.max_code),kt(Lt,Lt.dyn_dtree,Lt.d_desc.max_code),sr(Lt,Lt.bl_desc),qt=ht-1;3<=qt&&Lt.bl_tree[2*St[qt]+1]===0;qt--);return Lt.opt_len+=3*(qt+1)+5+5+4,qt}(Vt),Jt=Vt.opt_len+3+7>>>3,(nr=Vt.static_len+3+7>>>3)<=Jt&&(Jt=nr)):Jt=nr=lr+5,lr+4<=Jt&&Ht!==-1?zt(Vt,Ht,lr,dr):Vt.strategy===4||nr===Jt?(Kt(Vt,2+(dr?1:0),3),ar(Vt,Pt,At)):(Kt(Vt,4+(dr?1:0),3),function(Lt,qt,tr,ir){var or;for(Kt(Lt,qt-257,5),Kt(Lt,tr-1,5),Kt(Lt,ir-4,4),or=0;or<ir;or++)Kt(Lt,Lt.bl_tree[2*St[or]+1],3);er(Lt,Lt.dyn_ltree,qt-1),er(Lt,Lt.dyn_dtree,tr-1)}(Vt,Vt.l_desc.max_code+1,Vt.d_desc.max_code+1,fr+1),ar(Vt,Vt.dyn_ltree,Vt.dyn_dtree)),Xt(Vt),dr&&Zt(Vt)},nt._tr_tally=function(Vt,Ht,lr){return Vt.pending_buf[Vt.d_buf+2*Vt.last_lit]=Ht>>>8&255,Vt.pending_buf[Vt.d_buf+2*Vt.last_lit+1]=255&Ht,Vt.pending_buf[Vt.l_buf+Vt.last_lit]=255&lr,Vt.last_lit++,Ht===0?Vt.dyn_ltree[2*lr]++:(Vt.matches++,Ht--,Vt.dyn_ltree[2*(Ct[lr]+ut+1)]++,Vt.dyn_dtree[2*It(Ht)]++),Vt.last_lit===Vt.lit_bufsize-1},nt._tr_align=function(Vt){Kt(Vt,2,3),Bt(Vt,vt,Pt),function(Ht){Ht.bi_valid===16?(Wt(Ht,Ht.bi_buf),Ht.bi_buf=0,Ht.bi_valid=0):8<=Ht.bi_valid&&(Ht.pending_buf[Ht.pending++]=255&Ht.bi_buf,Ht.bi_buf>>=8,Ht.bi_valid-=8)}(Vt)}},{"../utils/common":41}],53:[function(tt,rt,nt){rt.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(tt,rt,nt){(function(st){(function(it,at){if(!it.setImmediate){var ot,lt,ct,ut,dt=1,ft={},ht=!1,pt=it.document,gt=Object.getPrototypeOf&&Object.getPrototypeOf(it);gt=gt&&gt.setTimeout?gt:it,ot={}.toString.call(it.process)==="[object process]"?function(yt){process.nextTick(function(){bt(yt)})}:function(){if(it.postMessage&&!it.importScripts){var yt=!0,xt=it.onmessage;return it.onmessage=function(){yt=!1},it.postMessage("","*"),it.onmessage=xt,yt}}()?(ut="setImmediate$"+Math.random()+"$",it.addEventListener?it.addEventListener("message",vt,!1):it.attachEvent("onmessage",vt),function(yt){it.postMessage(ut+yt,"*")}):it.MessageChannel?((ct=new MessageChannel).port1.onmessage=function(yt){bt(yt.data)},function(yt){ct.port2.postMessage(yt)}):pt&&"onreadystatechange"in pt.createElement("script")?(lt=pt.documentElement,function(yt){var xt=pt.createElement("script");xt.onreadystatechange=function(){bt(yt),xt.onreadystatechange=null,lt.removeChild(xt),xt=null},lt.appendChild(xt)}):function(yt){setTimeout(bt,0,yt)},gt.setImmediate=function(yt){typeof yt!="function"&&(yt=new Function(""+yt));for(var xt=new Array(arguments.length-1),Et=0;Et<xt.length;Et++)xt[Et]=arguments[Et+1];var wt={callback:yt,args:xt};return ft[dt]=wt,ot(dt),dt++},gt.clearImmediate=mt}function mt(yt){delete ft[yt]}function bt(yt){if(ht)setTimeout(bt,0,yt);else{var xt=ft[yt];if(xt){ht=!0;try{(function(Et){var wt=Et.callback,$t=Et.args;switch($t.length){case 0:wt();break;case 1:wt($t[0]);break;case 2:wt($t[0],$t[1]);break;case 3:wt($t[0],$t[1],$t[2]);break;default:wt.apply(at,$t)}})(xt)}finally{mt(yt),ht=!1}}}}function vt(yt){yt.source===it&&typeof yt.data=="string"&&yt.data.indexOf(ut)===0&&bt(+yt.data.slice(ut.length))}})(typeof self>"u"?st===void 0?this:st:self)}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(jszip_min);function AiOutlinePoweroff(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M705.6 124.9a8 8 0 0 0-11.6 7.2v64.2c0 5.5 2.9 10.6 7.5 13.6a352.2 352.2 0 0 1 62.2 49.8c32.7 32.8 58.4 70.9 76.3 113.3a355 355 0 0 1 27.9 138.7c0 48.1-9.4 94.8-27.9 138.7a355.92 355.92 0 0 1-76.3 113.3 353.06 353.06 0 0 1-113.2 76.4c-43.8 18.6-90.5 28-138.5 28s-94.7-9.4-138.5-28a353.06 353.06 0 0 1-113.2-76.4A355.92 355.92 0 0 1 184 650.4a355 355 0 0 1-27.9-138.7c0-48.1 9.4-94.8 27.9-138.7 17.9-42.4 43.6-80.5 76.3-113.3 19-19 39.8-35.6 62.2-49.8 4.7-2.9 7.5-8.1 7.5-13.6V132c0-6-6.3-9.8-11.6-7.2C178.5 195.2 82 339.3 80 506.3 77.2 745.1 272.5 943.5 511.2 944c239 .5 432.8-193.3 432.8-432.4 0-169.2-97-315.7-238.4-386.7zM480 560h64c4.4 0 8-3.6 8-8V88c0-4.4-3.6-8-8-8h-64c-4.4 0-8 3.6-8 8v464c0 4.4 3.6 8 8 8z"},child:[]}]})(et)}function FiEdit(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(et)}function FiSave(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(et)}function FiShield(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(et)}function FiTrash2(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(et)}function FiUserPlus(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(et)}const wait=(et=300)=>new Promise(_e=>setTimeout(_e,et)),API_ROOT$1=`http://${localStorage.getItem("host")}:4000/api`,userAccessToken=localStorage.getItem("accessToken");async function apiFetchUsers(){return await wait(200),(await axios$1.get(`${API_ROOT$1}/users`,{headers:{Authorization:`Bearer ${userAccessToken}`}})).data.data}async function apiFetchRoles(){return await wait(160),[{id:101,name:" ",slug:"admin",description:" ",isSystem:!0,priority:100},{id:102,name:"",slug:"operator",description:" ",isSystem:!1,priority:10}]}async function apiDeleteUser(et){var _e,tt;try{return{ok:!0,data:(await axios$1.delete(`${API_ROOT$1}/users/${et}`,{headers:{Authorization:`Bearer ${userAccessToken}`}})).data,message:"    "}}catch(rt){return console.error("Error deleting user:",rt),{ok:!1,error:((tt=(_e=rt.response)==null?void 0:_e.data)==null?void 0:tt.message)||rt.message||"   "}}}async function apiChangePassword(et){var _e,tt;try{return{ok:!0,data:(await axios$1.post(`${API_ROOT$1}/auth/change-password`,et,{headers:{Authorization:`Bearer ${userAccessToken}`}})).data,message:"     "}}catch(rt){return console.error("Error changing password:",rt),{ok:!1,error:((tt=(_e=rt.response)==null?void 0:_e.data)==null?void 0:tt.message)||rt.message||"    "}}}async function apiResetPassword(et){var _e,tt;try{return{ok:!0,data:(await axios$1.post(`${API_ROOT$1}/auth/reset-password`,et,{headers:{Authorization:`Bearer ${userAccessToken}`}})).data,message:"     "}}catch(rt){return console.error("Error resetting password:",rt),{ok:!1,error:((tt=(_e=rt.response)==null?void 0:_e.data)==null?void 0:tt.message)||rt.message||"    "}}}async function apiFetchPermissions(){return await wait(120),[{id:1,name:" ",slug:"scenes.create",resource:"scenes",action:"create",scope:"ALL"},{id:2,name:" ",slug:"users.delete",resource:"users",action:"delete",scope:"ALL"},{id:3,name:" ",slug:"content.update",resource:"content",action:"update",scope:"OWN"}]}async function apiFetchMenuConfig(){return await wait(90),[{id:1,name:"",path:"/dashboard",requiredPermissions:["*"]},{id:2,name:" ",path:"/media",requiredPermissions:["media.read"]},{id:3,name:"",path:"/scenes",requiredPermissions:["scenes.create","scenes.read"]}]}async function apiFetchHierarchy(){return await wait(100),{regionInheritance:!0,nodes:[{id:"IR",name:"",parent:null},{id:"THR",name:"",parent:"IR"},{id:"THR-1",name:" -  ",parent:"THR"}]}}async function apiSaveUser(et){try{et.id?await axios$1.put(`${API_ROOT$1}/users/${et.id}`,{username:et.username,email:et.email,firstName:et.firstName,lastName:et.lastName,isActive:et.isActive,isSuperAdmin:et.isSuperAdmin},{headers:{Authorization:`Bearer ${userAccessToken}`}}):await axios$1.post(`${API_ROOT$1}/auth/signup`,et,{headers:{Authorization:`Bearer ${userAccessToken}`}})}catch(_e){return _e}finally{}return{ok:!0,data:{...et,id:et.id||Math.floor(Math.random()*9e4)+1e3}}}function SecuritySettingsModal({darkMode:et}){const{isOpen:_e,onOpen:tt,onOpenChange:rt}=useDisclosure(),[nt,st]=reactExports.useState("users"),[it,at]=reactExports.useState(!1),[ot,lt]=reactExports.useState(!0),[ct,ut]=reactExports.useState([]),[dt,ft]=reactExports.useState([]),[ht,pt]=reactExports.useState([]),[gt,mt]=reactExports.useState([]),[bt,vt]=reactExports.useState({regionInheritance:!0,nodes:[]}),[yt,xt]=reactExports.useState(""),[Et,wt]=reactExports.useState(!1),[$t,Tt]=reactExports.useState(null);reactExports.useState(null);const[St,Pt]=reactExports.useState({}),[At,Rt]=reactExports.useState({}),[Ct,Dt]=reactExports.useState(""),[Ft,Mt]=reactExports.useState([]),[Ot,jt]=reactExports.useState(!1);reactExports.useEffect(()=>{(async()=>{var nr;if(nt=="monitor"){lt(!0);try{const Lt=await(await fetch(`${API_ROOT$1}/displayServer/getAllPossibleLayouts`,{headers:{Authorization:`Bearer ${userAccessToken}`}})).json();if(Lt.success&&((nr=Lt.data)!=null&&nr.availableLayouts)){const qt=Lt.data.availableLayouts.sort((tr,ir)=>tr.rows*tr.columns-ir.rows*ir.columns);Mt(qt)}}catch(fr){console.error("   :",fr)}finally{lt(!1)}}})()},[nt]);const Ut=async()=>{if(!Ct)return alert("    ");jt(!0);try{const[Jt,nr]=Ct.split("x").map(Number);(await(await fetch(`${API_ROOT$1}/displayServer/setLayout`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${userAccessToken}`},body:JSON.stringify({rows:nr})})).json()).success?(alert("     "),location.reload()):alert("    ")}catch(Jt){console.error("submit error:",Jt),alert("    ")}finally{jt(!1)}},_t=async()=>{try{wt(!0);const Jt=await axios$1.post(`${API_ROOT$1}/displayServer/getDisplayIndexes`,{Authorization:`Bearer ${userAccessToken}`})}catch(Jt){console.error("submit error:",Jt),alert("  ")}finally{wt(!1)}},It=reactExports.useMemo(()=>`${et?"dark bg-gray-900 text-gray-100":"bg-white text-gray-800"} ${et?"border border-gray-700":"border border-gray-200"} rounded-lg`,[et]);reactExports.useEffect(()=>{if(!_e)return;let Jt=!0;return(async()=>{lt(!0);const[nr,fr,Lt,qt,tr]=await Promise.all([apiFetchUsers(),apiFetchRoles(),apiFetchPermissions(),apiFetchMenuConfig(),apiFetchHierarchy()]);if(!Jt)return;ut(nr),ft(fr),pt(Lt),mt(qt),vt(tr||{regionInheritance:!0,nodes:[]});const ir={},or={};fr.forEach(ur=>{ir[ur.id]={},Lt.forEach(hr=>ir[ur.id][hr.slug]=!1),or[ur.id]={},qt.forEach(hr=>or[ur.id][hr.id]=!1)}),Pt(ir),Rt(or),lt(!1)})(),()=>{Jt=!1}},[_e]);const Wt=Jt=>dt.find(nr=>nr.id===Jt),Kt=Jt=>((Jt==null?void 0:Jt.roles)||[]).map(Wt).filter(Boolean),Bt=()=>{Tt({id:null,email:"",username:"",firstName:"",lastName:"",password:"",isActive:!0,isSuperAdmin:!1,roles:[],exceptions:{deny:[]}}),st("users")},Qt=Jt=>{Tt({...Jt,exceptions:Jt.exceptions||{deny:[]}})},Nt=async Jt=>{var nr,fr,Lt,qt,tr,ir,or,ur;if(!Jt.email)return alert("   .");try{const hr=await apiSaveUser(Jt);if(hr.ok)ut(vr=>vr.find(br=>br.id===hr.data.id)?vr.map(br=>br.id===hr.data.id?hr.data:br):[hr.data,...vr]),Tt(null),alert("     "),location.reload();else{const vr=(fr=(nr=hr==null?void 0:hr.response)==null?void 0:nr.data)==null?void 0:fr.errors,pr=((qt=(Lt=hr==null?void 0:hr.response)==null?void 0:Lt.data)==null?void 0:qt.message)||"   ";if(vr&&typeof vr=="object"){const br=Object.entries(vr).map(([xr,Tr])=>` ${xr}: ${Tr}`).join(`
`);alert(` ${pr}

${br}`)}else alert(` ${pr}`)}}catch(hr){console.error("saveUser error:",hr);const vr=(ir=(tr=hr==null?void 0:hr.response)==null?void 0:tr.data)==null?void 0:ir.errors,pr=((ur=(or=hr==null?void 0:hr.response)==null?void 0:or.data)==null?void 0:ur.message)||(hr==null?void 0:hr.message)||"   .";if(vr&&typeof vr=="object"){const br=Object.entries(vr).map(([xr,Tr])=>` ${xr}: ${Tr}`).join(`
`);alert(` ${pr}

${br}`)}else alert(` ${pr}`)}},Xt=async Jt=>{try{const nr=await fetch(`${API_ROOT$1}/users`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${userAccessToken}`}}),fr=await fetch(`${API_ROOT$1}/users/${Jt.id}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${userAccessToken}`}});if(!nr.ok)throw new Error(`    (${nr.status})`);const Lt=await nr.json(),qt=await fr.json();console.log("data2::: ",qt);const tr=Lt.data.filter(ir=>ir.isSuperAdmin===!0);return console.log("superAdmins::: ",tr),tr.length===1?{checkJustOneSuperAdminExist:!0,user:qt.data}:(console.warn("  superadmin   :",tr.length),{checkJustOneSuperAdminExist:!1,user:qt.data})}catch(nr){return console.error("    superadmin:",nr),!1}},Zt=async Jt=>{if(!confirm("          ."))return;const nr=await apiDeleteUser(Jt);nr.ok?(ut(fr=>fr.filter(Lt=>Lt.id!==Jt)),alert("     ")):alert(` ${nr.error}`)},Yt=async(Jt,nr)=>{var Lt,qt,tr,ir;if(!Jt)return;let fr;ut(or=>(fr=or,or.map(ur=>ur.id===Jt?{...ur,isActive:nr}:ur)));try{const or=await axios$1.put(`${API_ROOT$1}/users/${Jt}`,{isActive:nr},{headers:{Authorization:`Bearer ${userAccessToken}`}});if(!((Lt=or==null?void 0:or.data)!=null&&Lt.success)){const ur=((qt=or==null?void 0:or.data)==null?void 0:qt.message)||"   ";ut(fr),alert(ur)}}catch(or){console.error("toggleUserActive error:",or),ut(fr);const ur=((ir=(tr=or==null?void 0:or.response)==null?void 0:tr.data)==null?void 0:ir.message)||(or==null?void 0:or.message)||"    ";alert(` ${ur}`)}},rr=ct.filter(Jt=>{const nr=yt.trim().toLowerCase();return nr?String(Jt.id).includes(nr)||(Jt.email||"").toLowerCase().includes(nr)||(Jt.username||"").toLowerCase().includes(nr)||`${Jt.firstName||""} ${Jt.lastName||""}`.toLowerCase().includes(nr):!0}),[ar,sr]=reactExports.useState(!1),[kt,er]=reactExports.useState(null),[Gt,zt]=reactExports.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[Vt,Ht]=reactExports.useState(!1),lr=Jt=>{const fr=/[A-Z]/.test(Jt),Lt=/[a-z]/.test(Jt),qt=/\d/.test(Jt),tr=/[!@#$%^&*(),.?":{}|<>]/.test(Jt);return Jt.length<8?"      ":fr?Lt?qt?tr?null:"      (!@#$%^&*  ...) ":"     ":"       ":"       "},dr=async()=>{if(kt){if(!Gt.newPassword||!Gt.confirmPassword)return alert("         ")}else if(!Gt.currentPassword||!Gt.newPassword||!Gt.confirmPassword)return alert("       ");if(Gt.newPassword!==Gt.confirmPassword)return alert("       ");const Jt=lr(Gt.newPassword);if(Jt)return alert(` ${Jt}`);Ht(!0);try{let nr;kt?nr=await apiResetPassword({email:kt.email,newPassword:Gt.newPassword,confirmPassword:Gt.confirmPassword}):nr=await apiChangePassword({currentPassword:Gt.currentPassword,newPassword:Gt.newPassword,confirmPassword:Gt.confirmPassword}),nr.ok?(alert(` ${nr.message}`),sr(!1),zt({currentPassword:"",newPassword:"",confirmPassword:""}),er(null)):alert(` ${nr.error}`)}catch{alert("    ")}finally{Ht(!1)}};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(modal_default,{dir:"rtl",isOpen:ar,onOpenChange:Jt=>{Jt?sr(!0):(sr(!1),er(null),zt({currentPassword:"",newPassword:"",confirmPassword:""}))},size:"md",children:jsxRuntimeExports.jsx(modal_content_default,{children:Jt=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(modal_header_default,{className:"flex flex-col gap-1",children:kt?`    ${kt.email}`:"  "}),jsxRuntimeExports.jsx(modal_body_default,{children:jsxRuntimeExports.jsx("div",{className:"grid gap-4",children:kt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-warning-600 bg-warning-50 p-2 rounded",children:["      :"," ",jsxRuntimeExports.jsx("strong",{children:kt.email})]}),jsxRuntimeExports.jsx(input_default,{label:"  ",type:"password",value:Gt.newPassword,onChange:nr=>zt(fr=>({...fr,newPassword:nr.target.value})),placeholder:"     "}),jsxRuntimeExports.jsx(input_default,{label:"   ",type:"password",value:Gt.confirmPassword,onChange:nr=>zt(fr=>({...fr,confirmPassword:nr.target.value})),placeholder:"      "})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(input_default,{label:"  ",type:"password",value:Gt.currentPassword,onChange:nr=>zt(fr=>({...fr,currentPassword:nr.target.value})),placeholder:"      "}),jsxRuntimeExports.jsx(input_default,{label:"  ",type:"password",value:Gt.newPassword,onChange:nr=>zt(fr=>({...fr,newPassword:nr.target.value})),placeholder:"     "}),jsxRuntimeExports.jsx(input_default,{label:"   ",type:"password",value:Gt.confirmPassword,onChange:nr=>zt(fr=>({...fr,confirmPassword:nr.target.value})),placeholder:"      "})]})})}),jsxRuntimeExports.jsxs(modal_footer_default,{children:[jsxRuntimeExports.jsx(button_default,{color:"danger",variant:"light",onPress:Jt,disabled:Vt,children:""}),jsxRuntimeExports.jsx(button_default,{color:"primary",onPress:dr,disabled:Vt,startContent:Vt?jsxRuntimeExports.jsx(spinner_default,{size:"sm"}):jsxRuntimeExports.jsx(FiSave,{}),children:Vt?"  ...":kt?" ":"  "})]})]})})}),jsxRuntimeExports.jsx(tooltip_default,{content:"   ",children:jsxRuntimeExports.jsxs(button_default,{className:`${et?"dark":"light"} min-w-[35px] h-[33px] rounded-lg p-1`,size:"sm",variant:"solid",color:"default",onPress:tt,"aria-label":"security-settings",children:[jsxRuntimeExports.jsx(FiShield,{size:18})," "]})}),jsxRuntimeExports.jsx(modal_default,{dir:"rtl",scrollBehavior:"outside",isOpen:_e,onOpenChange:rt,size:"7xl",children:jsxRuntimeExports.jsx(modal_content_default,{className:"min-w-[70%]",children:Jt=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(modal_header_default,{className:"flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-lg font-bold",children:"    "}),jsxRuntimeExports.jsx("div",{className:"text-sm opacity-70",children:"      "})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsx(button_default,{size:"sm",color:"primary",startContent:jsxRuntimeExports.jsx(FiUserPlus,{}),onPress:Bt,children:" "})})]}),jsxRuntimeExports.jsx(modal_body_default,{children:ot?jsxRuntimeExports.jsx("div",{className:"w-full h-56 flex items-center justify-center",children:jsxRuntimeExports.jsx(spinner_default,{})}):jsxRuntimeExports.jsxs(tabs_default$1,{fullWidth:!0,selectedKey:nt,onSelectionChange:st,"aria-label":"security tabs",className:"mb-2",children:[jsxRuntimeExports.jsx(tab_item_base_default$1,{title:"",children:jsxRuntimeExports.jsxs("div",{className:"grid gap-4",children:[jsxRuntimeExports.jsxs(card_default$1,{className:It,children:[jsxRuntimeExports.jsxs(card_header_default,{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"font-semibold",children:" "}),jsxRuntimeExports.jsx(badge_default,{color:"default",children:ct.length})]}),jsxRuntimeExports.jsx(input_default,{placeholder:"  ...",value:yt,onChange:nr=>xt(nr.target.value),clearable:!0,size:"sm"})]}),jsxRuntimeExports.jsx(divider_default$1,{}),jsxRuntimeExports.jsx(card_body_default$1,{children:jsxRuntimeExports.jsxs(table_default,{"aria-label":"users table",shadow:"none",children:[jsxRuntimeExports.jsxs(table_header_default,{children:[jsxRuntimeExports.jsx(table_column_default,{children:""}),jsxRuntimeExports.jsx(table_column_default,{children:""}),jsxRuntimeExports.jsx(table_column_default,{children:""}),jsxRuntimeExports.jsx(table_column_default,{children:""}),jsxRuntimeExports.jsx(table_column_default,{children:""})]}),jsxRuntimeExports.jsx(table_body_default,{emptyContent:"  ",children:rr.map(nr=>jsxRuntimeExports.jsxs(table_row_default,{children:[jsxRuntimeExports.jsx(table_cell_default,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(avatar_default,{text:nr.firstName?nr.firstName[0]:(nr.email||"")[0],size:"sm"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-semibold",children:nr.firstName||nr.username||nr.email}),jsxRuntimeExports.jsxs("div",{className:"text-xs opacity-60",children:["@",nr.username||""]})]})]})}),jsxRuntimeExports.jsx(table_cell_default,{children:jsxRuntimeExports.jsx("div",{className:"text-sm",children:nr.email})}),jsxRuntimeExports.jsx(table_cell_default,{children:jsxRuntimeExports.jsx("div",{className:"flex gap-2 flex-wrap",children:Kt(nr).length===0?jsxRuntimeExports.jsx("div",{className:"text-xs opacity-60",children:nr.isSuperAdmin?"":""}):Kt(nr).map(fr=>jsxRuntimeExports.jsx(chip_default,{size:"sm",variant:"flat",children:fr.name},fr.id))})}),jsxRuntimeExports.jsx(table_cell_default,{children:jsxRuntimeExports.jsx("div",{className:"flex items-center gap-3",children:nr.isSuperAdmin?jsxRuntimeExports.jsx(badge_default,{color:"success",children:"Super"}):nr.isActive?jsxRuntimeExports.jsx(badge_default,{color:"primary",children:""}):jsxRuntimeExports.jsx(badge_default,{color:"neutral",children:""})})}),jsxRuntimeExports.jsx(table_cell_default,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(button_default,{size:"sm",variant:"light",onPress:()=>Qt(nr),startContent:jsxRuntimeExports.jsx(FiEdit,{}),children:""}),jsxRuntimeExports.jsx(button_default,{size:"sm",variant:"light",color:"warning",onPress:()=>{er(nr),sr(!0)},startContent:jsxRuntimeExports.jsx(FiShield,{}),children:" "}),!nr.isSuperAdmin&&jsxRuntimeExports.jsx(button_default,{size:"sm",variant:"light",color:"danger",onPress:()=>Zt(nr.id),startContent:jsxRuntimeExports.jsx(FiTrash2,{}),children:""}),!nr.isSuperAdmin&&jsxRuntimeExports.jsx(button_default,{size:"sm",color:nr.isActive?"danger":"success",variant:"light",startContent:jsxRuntimeExports.jsx(RiForbid2Fill,{}),onPress:()=>{let fr=!nr.isActive;Yt(nr.id,fr)},children:nr.isActive?"":""})]})})]},nr.id))})]})})]}),$t&&jsxRuntimeExports.jsxs(card_default$1,{className:It,children:[jsxRuntimeExports.jsx(card_header_default,{className:"font-semibold",children:$t.id?" ":" "}),jsxRuntimeExports.jsx(divider_default$1,{}),jsxRuntimeExports.jsxs(card_body_default$1,{className:"grid md:grid-cols-2 gap-3",children:[jsxRuntimeExports.jsx(input_default,{label:"",value:$t.email,onChange:nr=>Tt(fr=>({...fr,email:nr.target.value}))}),jsxRuntimeExports.jsx(input_default,{label:" ",value:$t.username,onChange:nr=>Tt(fr=>({...fr,username:nr.target.value}))}),jsxRuntimeExports.jsx(input_default,{label:"",value:$t.firstName,onChange:nr=>Tt(fr=>({...fr,firstName:nr.target.value}))}),jsxRuntimeExports.jsx(input_default,{label:" ",value:$t.lastName,onChange:nr=>Tt(fr=>({...fr,lastName:nr.target.value}))}),jsxRuntimeExports.jsx(input_default,{label:"",type:"password",value:$t.password,onChange:nr=>Tt(fr=>({...fr,password:nr.target.value}))}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2 flex items-center gap-3",children:[jsxRuntimeExports.jsx(checkbox_default,{isSelected:$t.isActive,onChange:()=>Tt(nr=>({...nr,isActive:!nr.isActive})),children:""}),jsxRuntimeExports.jsx(checkbox_default,{isSelected:$t.isSuperAdmin,onChange:()=>Tt(nr=>({...nr,isSuperAdmin:!nr.isSuperAdmin})),children:"Super Admin"})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2 flex gap-2",children:[jsxRuntimeExports.jsx(button_default,{color:"primary",onPress:async nr=>{const{checkJustOneSuperAdminExist:fr,user:Lt}=await Xt($t);if(at(fr),$t.id&&Lt.isSuperAdmin)if(fr&&$t.isSuperAdmin&&fr&&$t.isActive){Nt($t);return}else if(fr&&!$t.isSuperAdmin||fr&&!$t.isActive){alert("          ");return}else Nt($t);else{console.log("first"),Nt($t);return}},startContent:jsxRuntimeExports.jsx(FiSave,{}),children:""}),jsxRuntimeExports.jsx(button_default,{variant:"light",color:"danger",onPress:()=>Tt(null),children:""})]})]})]})]})},"users"),jsxRuntimeExports.jsx(tab_item_base_default$1,{title:" ",children:jsxRuntimeExports.jsxs(card_default$1,{className:"p-3",children:[jsxRuntimeExports.jsx(card_header_default,{className:"font-semibold",children:" "}),jsxRuntimeExports.jsx(divider_default$1,{}),jsxRuntimeExports.jsx(card_body_default$1,{children:ot?jsxRuntimeExports.jsx("div",{className:"text-center text-gray-500",children:"   ..."}):jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-600",children:" "}),jsxRuntimeExports.jsxs("select",{className:"border rounded-md px-3 py-2 w-full",value:Ct,onChange:nr=>Dt(nr.target.value),children:[jsxRuntimeExports.jsx("option",{value:"",children:"   "}),Ft.map((nr,fr)=>jsxRuntimeExports.jsx("option",{value:`${nr.columns}x${nr.rows}`,children:`${nr.columns}  ${nr.rows}`},fr))]})]}),!Et&&jsxRuntimeExports.jsx(button_default,{onPress:Ut,disabled:Ot||!Ct,className:"bg-blue-600 hover:bg-blue-700 text-white rounded-md px-4 py-2",children:Ot?"  ...":" "}),jsxRuntimeExports.jsxs(button_default,{onPress:_t,disabled:Ot||!Ct,className:"bg-blue-600 hover:bg-blue-700 text-white rounded-md px-4 py-2",children:["  ",Et?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:"(  )"}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})]})]})})]})},"monitor")]})}),jsxRuntimeExports.jsx(modal_footer_default,{children:jsxRuntimeExports.jsxs("div",{className:"w-full flex justify-between items-center",children:[jsxRuntimeExports.jsx("div",{className:"text-xs opacity-60",children:"1.0v"}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:jsxRuntimeExports.jsx(button_default,{color:"danger",variant:"light",onPress:Jt,children:""})})]})})]})})})]})}const HeaderBar=({toggleLayout:et})=>{let{videoWalls:_e,setVideoWalls:tt,isToggleLayout:rt,isToggleVideoWall:nt,setIsToggleVideoWall:st,darkMode:it,setDarkMode:at,connecting:ot,connectionMode:lt,setConnectionMode:ct,inputs:ut,setInputs:dt,scenes:ft,setScenes:ht,selectedScene:pt,collections:gt,sources:mt,setSources:bt,counterImages:vt,addMonitorsToScenes:yt,addVideo:xt,addImage:Et,addInput:wt,getSelectedScene:$t,sendOperation:Tt,url:St,loopVideos:Pt,generateBlobImageURL:At,trimPrefix:Rt,socket:Ct,fitStageToMonitors:Dt,monitorConnection:Ft}=useMyContext();const[Mt,Ot]=reactExports.useState(!1),jt=()=>{document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen().catch(Wt=>{console.error("Fullscreen error:",Wt)})},Ut=localStorage.getItem("accessToken"),[_t,It]=reactExports.useState(!1);return reactExports.useEffect(()=>{const Wt=`http://${localStorage.getItem("host")}:4000/api/users/${localStorage.getItem("userId")}`;async function Kt(){const Bt=await axios$1.get(Wt,{headers:{Authorization:`Bearer ${Ut}`}});It(Bt.data.data.isSuperAdmin)}Kt()},[]),jsxRuntimeExports.jsxs("div",{id:"setting",className:`${rt?"w-[100%]":"w-[59%]"} ${it?"text-white bg-gray-800":"text-black bg-gray-100"} flex items-center justify-center mx-auto gap-3 z-[10] mb-2 p-2 rounded-xl`,children:[jsxRuntimeExports.jsxs(button_default,{size:"sm",color:"danger",variant:"flat",className:"flex items-center gap-1 rounded-lg",onPress:()=>{Swal$1.fire({title:"  ",showDenyButton:!0,confirmButtonText:"",denyButtonText:"",confirmButtonColor:"green",denyButtonColor:"gray"}).then(Wt=>{Wt.isConfirmed&&(localStorage.setItem("isLoggedIn","false"),localStorage.setItem("accessToken",""),localStorage.setItem("refreshToken",""),localStorage.setItem("userId",""),location.reload())})},children:[jsxRuntimeExports.jsx(MdLogout,{size:18})," ",jsxRuntimeExports.jsx("span",{children:""})]}),jsxRuntimeExports.jsxs(button_default,{size:"sm",color:"default",variant:"solid",className:"flex items-center gap-1 rounded-lg",onPress:()=>{location.reload()},children:[jsxRuntimeExports.jsx(TbRefresh,{size:18})," ",jsxRuntimeExports.jsx("span",{children:" "})]}),jsxRuntimeExports.jsx(SwitchCustom,{setDarkMode:at,darkMode:it}),jsxRuntimeExports.jsx(ModalInfo,{darkMode:it}),jsxRuntimeExports.jsxs(dropdown_default,{children:[jsxRuntimeExports.jsx(dropdown_trigger_default,{children:jsxRuntimeExports.jsxs(button_default,{size:"sm",color:"default",variant:"solid",className:"flex items-center gap-1 rounded-lg",children:[jsxRuntimeExports.jsx(AiOutlinePoweroff,{size:18})," ",jsxRuntimeExports.jsx("span",{children:""})]})}),jsxRuntimeExports.jsxs(dropdown_menu_default,{dir:"rtl",onAction:Wt=>{Wt==="reset"?Swal$1.fire({title:"  ",showDenyButton:!0,confirmButtonText:"",denyButtonText:""}).then(Kt=>{Kt.isConfirmed&&Ct.emit("shell","shutdown.exe /r /f /t 0")}):Wt==="off"&&Swal$1.fire({title:"  ",showDenyButton:!0,confirmButtonText:"",denyButtonText:""}).then(Kt=>{Kt.isConfirmed&&Ct.emit("shell","shutdown.exe /s /f /t 0")})},children:[jsxRuntimeExports.jsx(menu_item_base_default,{children:" "},"reset"),jsxRuntimeExports.jsx(menu_item_base_default,{children:" "},"off")]})]}),jsxRuntimeExports.jsxs(button_default,{size:"sm",color:"default",variant:"solid",className:`flex items-center gap-1 rounded-lg ${rt?"bg-blue-500":""}`,onPress:et,children:[jsxRuntimeExports.jsx(BsEyeSlash,{size:18})," ",jsxRuntimeExports.jsx("span",{children:""})]}),jsxRuntimeExports.jsx(ModalVideoWall,{darkMode:it,videoWall:_e}),jsxRuntimeExports.jsxs(button_default,{size:"sm",color:lt?"success":"warning",variant:"solid",className:"flex items-center gap-1 rounded-lg",onPress:()=>{Swal$1.fire({title:lt?"   ":"   ",showDenyButton:!0,confirmButtonText:"",confirmButtonColor:"green",denyButtonColor:"red",denyButtonText:""}).then(Wt=>{Wt.isConfirmed&&(localStorage.setItem("onlineMode",!lt),ct(!lt))})},children:[jsxRuntimeExports.jsx(FaPlug,{size:18})," ",jsxRuntimeExports.jsx("span",{children:lt?" ":" "})]}),jsxRuntimeExports.jsxs(button_default,{size:"sm",color:"default",variant:"solid",className:"flex items-center gap-1 rounded-lg",onPress:()=>{jt();const Wt=$t();Wt!=null&&Wt.stageData&&(_e!=null&&_e.length)&&Dt({stage:Wt.stageData,monitors:_e})},children:[jsxRuntimeExports.jsx(FaExpand,{size:18})," ",jsxRuntimeExports.jsx("span",{children:" "})]}),_t&&jsxRuntimeExports.jsx(SecuritySettingsModal,{isOpen:Mt,onClose:()=>Ot(!1)})]})};var build={},browser_min={exports:{}};(function(et,_e){(function(tt,rt){et.exports=rt(reactDomExports,reactExports)})(commonjsGlobal,function(tt,rt){function nt(gt){return gt&&typeof gt=="object"&&"default"in gt?gt:{default:gt}}var st=nt(rt);function it(gt,mt){var bt=Object.keys(gt);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(gt);mt&&(vt=vt.filter(function(yt){return Object.getOwnPropertyDescriptor(gt,yt).enumerable})),bt.push.apply(bt,vt)}return bt}function at(gt){for(var mt=1;mt<arguments.length;mt++){var bt=arguments[mt]!=null?arguments[mt]:{};mt%2?it(Object(bt),!0).forEach(function(vt){ot(gt,vt,bt[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(gt,Object.getOwnPropertyDescriptors(bt)):it(Object(bt)).forEach(function(vt){Object.defineProperty(gt,vt,Object.getOwnPropertyDescriptor(bt,vt))})}return gt}function ot(gt,mt,bt){return mt in gt?Object.defineProperty(gt,mt,{value:bt,enumerable:!0,configurable:!0,writable:!0}):gt[mt]=bt,gt}function lt(gt,mt){return function(bt){if(Array.isArray(bt))return bt}(gt)||function(bt,vt){var yt=bt==null?null:typeof Symbol<"u"&&bt[Symbol.iterator]||bt["@@iterator"];if(yt!=null){var xt,Et,wt=[],$t=!0,Tt=!1;try{for(yt=yt.call(bt);!($t=(xt=yt.next()).done)&&(wt.push(xt.value),!vt||wt.length!==vt);$t=!0);}catch(St){Tt=!0,Et=St}finally{try{$t||yt.return==null||yt.return()}finally{if(Tt)throw Et}}return wt}}(gt,mt)||function(bt,vt){if(bt){if(typeof bt=="string")return ct(bt,vt);var yt=Object.prototype.toString.call(bt).slice(8,-1);if(yt==="Object"&&bt.constructor&&(yt=bt.constructor.name),yt==="Map"||yt==="Set")return Array.from(bt);if(yt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(yt))return ct(bt,vt)}}(gt,mt)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ct(gt,mt){(mt==null||mt>gt.length)&&(mt=gt.length);for(var bt=0,vt=new Array(mt);bt<mt;bt++)vt[bt]=gt[bt];return vt}function ut(gt,mt){var bt=gt.element,vt=gt.popper,yt=gt.position,xt=yt===void 0?"bottom-center":yt,Et=gt.containerStyle,wt=gt.containerClassName,$t=wt===void 0?"":wt,Tt=gt.arrow,St=gt.arrowStyle,Pt=St===void 0?{}:St,At=gt.arrowClassName,Rt=At===void 0?"":At,Ct=gt.fixMainPosition,Dt=gt.fixRelativePosition,Ft=gt.offsetY,Mt=gt.offsetX,Ot=gt.animations,jt=gt.zIndex,Ut=jt===void 0?0:jt,_t=gt.popperShadow,It=gt.onChange,Wt=gt.active,Kt=Wt===void 0||Wt,Bt=gt.portal,Qt=gt.portalTarget,Nt=typeof window<"u",Xt=Nt&&Qt instanceof HTMLElement,Zt=Tt===!0,Yt=vt&&Kt===!0,rr=rt.useRef(),ar=rt.useRef(),sr=rt.useRef(),kt=rt.useRef(),er=rt.useMemo(function(){return{position:xt,fixMainPosition:Ct,fixRelativePosition:Dt,offsetY:Ft,offsetX:Mt,defaultArrow:Zt,animations:Ot,zIndex:Ut,onChange:It}},[xt,Ct,Dt,Ft,Mt,Zt,Ot,It,Ut]),Gt=rt.useCallback(function(){sr.current&&(sr.current.style.transition=""),ar.current&&(ar.current.parentNode.style.transition="")},[]),zt={element:at({display:"inline-block",height:"max-content"},Et),arrow:at({visibility:"hidden",left:"0",top:"0",position:"absolute"},Pt),popper:{position:"absolute",left:"0",top:"0",willChange:"transform",visibility:"hidden",zIndex:Ut}};Nt&&!kt.current&&(kt.current=document.createElement("div"),kt.current.data={portal:Bt,isValidPortalTarget:Xt}),rt.useEffect(function(){if(Bt&&!Xt){var Ht=kt.current;return document.body.appendChild(Ht),function(){document.body.contains(Ht)&&document.body.removeChild(Ht)}}},[Bt,Xt]),rt.useEffect(function(){if(!Yt)return Gt(),ar.current.parentNode.style.visibility="hidden",void(sr.current&&(sr.current.style.visibility="hidden"));function Ht(lr){lr&&lr.type!=="resize"&&!lr.target.contains(rr.current)||(lr&&Gt(),dt(rr,ar,sr,er,lr))}return Ht(),document.addEventListener("scroll",Ht,!0),window.addEventListener("resize",Ht),function(){document.removeEventListener("scroll",Ht,!0),window.removeEventListener("resize",Ht)}},[Yt,er,Gt]),rt.useEffect(function(){var Ht={portal:Bt,isValidPortalTarget:Xt},lr=kt.current.data;JSON.stringify(Ht)!==JSON.stringify(lr)&&(kt.current.data=Ht,rr.current.refreshPosition())},[Bt,Xt]);var Vt=st.default.createElement(st.default.Fragment,null,function(){if(!Tt||!Yt)return null;var Ht=st.default.createElement("div",{ref:sr,style:zt.arrow}),lr=rt.isValidElement(Tt)?{children:Tt}:{className:"ep-arrow ".concat(_t?"ep-shadow":""," ").concat(Rt)};return rt.cloneElement(Ht,lr)}(),st.default.createElement("div",{className:_t?"ep-popper-shadow":"",style:zt.popper},st.default.createElement("div",{ref:ar},vt)));return st.default.createElement("div",{ref:function(Ht){if(Ht&&(Ht.removeTransition=Gt,Ht.refreshPosition=function(){return setTimeout(function(){return dt(rr,ar,sr,er,{})},10)}),rr.current=Ht,mt instanceof Function)return mt(Ht);mt&&(mt.current=Ht)},className:$t,style:zt.element},bt,Bt&&Nt?tt.createPortal(Vt,Xt?Qt:kt.current):Vt)}function dt(gt,mt,bt,vt,yt){var xt=vt.position,Et=vt.fixMainPosition,wt=vt.fixRelativePosition,$t=vt.offsetY,Tt=$t===void 0?0:$t,St=vt.offsetX,Pt=St===void 0?0:St,At=vt.defaultArrow,Rt=vt.animations,Ct=Rt===void 0?[]:Rt,Dt=vt.zIndex,Ft=vt.onChange;if(gt.current&&mt.current){var Mt,Ot,jt,Ut,_t=(Ot=window.pageXOffset!==void 0,jt=(document.compatMode||"")==="CSS1Compat",{scrollLeft:Ot?window.pageXOffset:jt?document.documentElement.scrollLeft:document.body.scrollLeft,scrollTop:Ot?window.pageYOffset:jt?document.documentElement.scrollTop:document.body.scrollTop}),It=_t.scrollLeft,Wt=_t.scrollTop,Kt=ft(gt.current,It,Wt),Bt=Kt.top,Qt=Kt.left,Nt=Kt.height,Xt=Kt.width,Zt=Kt.right,Yt=Kt.bottom,rr=ft(mt.current,It,Wt),ar=rr.top,sr=rr.left,kt=rr.height,er=rr.width,Gt=document.documentElement,zt=Gt.clientHeight,Vt=Gt.clientWidth,Ht=mt.current.parentNode,lr=function($r){if(!$r)return[0,0];var Rr=lt(($r.style.transform.match(/translate\((.*?)px,\s(.*?)px\)/)||[]).map(function(Kr){return Number(Kr)}),3),Dr=Rr[1],Br=Dr===void 0?0:Dr,Vr=Rr[2];return[Br,Vr===void 0?0:Vr]}(Ht),dr=lt(lr,2),Jt=dr[0],nr=dr[1],fr=function($r){var Rr=lt($r.split("-"),2),Dr=Rr[0],Br=Dr===void 0?"bottom":Dr,Vr=Rr[1],Kr=Vr===void 0?"center":Vr;Br==="auto"&&(Br="bottom"),Kr==="auto"&&(Kr="center");var cn=Br==="top"||Br==="bottom",an=Br==="left"||Br==="right";return an&&(Kr==="start"&&(Kr="top"),Kr==="end"&&(Kr="bottom")),cn&&(Kr==="start"&&(Kr="left"),Kr==="end"&&(Kr="right")),[Br,Kr,cn,an]}(xt),Lt=lt(fr,4),qt=Lt[0],tr=Lt[1],ir=Lt[2],or=Lt[3],ur=qt,hr=function($r,Rr){return"translate(".concat($r,"px, ").concat(Rr,"px)")},vr=Xt-er,pr=Nt-kt,br=tr==="left"?0:tr==="right"?vr:vr/2,xr=vr-br,Tr=tr==="top"?0:tr==="bottom"?pr:pr/2,Er=pr-Tr,kr=Qt-sr+Jt,Mr=Bt-ar+nr,jr=0,Ir=0,Fr=ht(gt.current),Hr=[],Nr=bt.current,cr=ft(Nr,It,Wt)||{},mr=cr.height,Sr=mr===void 0?0:mr,Lr=cr.width,_r=Lr===void 0?0:Lr,Cr=kr,wr=Mr,Ar={top:"bottom",bottom:"top",left:"right",right:"left"};for(ir&&(kr+=br,Mr+=qt==="top"?-kt:Nt,At&&(Sr=11,_r=20)),or&&(kr+=qt==="left"?-er:Xt,Mr+=Tr,At&&(Sr=20,_r=11));Fr;)Hr.push(Fr),Ur(ft(Fr,It,Wt)),Fr=ht(Fr.parentNode);Ur({top:Wt,bottom:Wt+zt,left:It,right:It+Vt,height:zt,width:Vt}),ir&&(Mr+=ur==="bottom"?Tt:-Tt),or&&(kr+=ur==="right"?Pt:-Pt),kr-=jr,Mr-=Ir,Mt=Ar[ur],Nr&&(ir&&((Ut=Xt<er)?Cr+=Xt/2:Cr=kr+er/2,Cr-=_r/2,ur==="bottom"&&(wr=Mr,Mr+=Sr),ur==="top"&&(wr=(Mr-=Sr)+kt),jr<0&&jr-br<0&&(Ut?Cr+=(br-jr)/2:Xt-br+jr<er&&(Cr+=(Xt-br+jr-er)/2)),jr>0&&jr+xr>0&&(Ut?Cr-=(jr+xr)/2:Xt-jr-xr<er&&(Cr-=(Xt-jr-xr-er)/2))),or&&((Ut=Nt<kt)?wr+=Nt/2:wr=Mr+kt/2,wr-=Sr/2,ur==="left"&&(Cr=(kr-=_r)+er),ur==="right"&&(Cr=kr,kr+=_r),Ir<0&&Ir-Tr<0&&(Ut?wr+=(Tr-Ir)/2:Nt-Tr+Ir<kt&&(wr+=(Nt-Tr+Ir-kt)/2)),Ir>0&&Ir+Er>0&&(Ut?wr-=(Ir+Er)/2:Nt-Ir-Er<kt&&(wr-=(Nt-Ir-Er-kt)/2))),Nr.setAttribute("direction",Mt),Nr.style.height=Sr+"px",Nr.style.width=_r+"px",Nr.style.transform=hr(Cr,wr),Nr.style.visibility="visible",Nr.style.zIndex=Dt+1),Ht.style.transform=hr(kr,Mr);var Or={popper:{top:Mr,bottom:Mr+kt,left:kr,right:kr+er,height:kt,width:er},element:{top:Bt,bottom:Yt,left:Qt,right:Zt,height:Nt,width:Xt},arrow:{top:wr,bottom:wr+Sr,left:Cr,right:Cr+_r,height:Sr,width:_r,direction:Mt},position:ur+"-"+(jr!==0?"auto":tr),scroll:{scrollLeft:It,scrollTop:Wt},scrollableParents:Hr,event:yt};yt||Ct.forEach(function($r){$r({popper:Ht,arrow:Nr,data:at(at({},Or),{},{getTransform:hr,mirror:Ar})})}),Ht.style.visibility="visible",typeof Ft=="function"&&Ft(Or)}function Ur($r){var Rr=$r.top,Dr=$r.bottom,Br=$r.left,Vr=$r.right,Kr=$r.height,cn=$r.width;if(ir){var an=Math.round(Bt-Rr+Nt/2),wn=Math.round(Kr/2);Et||(Bt-(kt+Tt+Sr)<Rr&&an<=wn&&ur==="top"?(Mr+=kt+Nt,ur="bottom"):Yt+kt+Tt+Sr>Kr+Rr&&an>=wn&&ur==="bottom"&&(Mr-=kt+Nt,ur="top")),wt||(Qt+br<Br&&(jr=pt(Zt-_r>Br?Qt+br-Br:-Xt+br+_r,jr)),Zt-xr>Vr&&(jr=pt(Qt+_r<Vr?Zt-xr-Vr:Xt-xr-_r,jr)))}if(or){var gr=Math.round(Qt-Br+Xt/2),zr=Math.round(cn/2);Et||(Qt-(er+Pt+_r)<Br&&gr<zr&&ur==="left"?(kr+=Xt+er,ur="right"):Zt+er+Pt+_r>Vr&&gr>zr&&ur==="right"&&(kr-=Xt+er,ur="left")),wt||(Bt+Tr<Rr&&(Ir=pt(Yt-Sr>Rr?Bt+Tr-Rr:-Nt+Tr+Sr,Ir)),Yt-Er>Dr&&(Ir=pt(Bt+Sr<Dr?Yt-Er-Dr:Nt-Er-Sr,Ir)))}}}function ft(gt,mt,bt){if(gt){var vt=gt.getBoundingClientRect(),yt=vt.top,xt=vt.left,Et=vt.width,wt=vt.height,$t=yt+bt,Tt=xt+mt;return{top:$t,bottom:$t+wt,left:Tt,right:Tt+Et,width:Et,height:wt}}}function ht(gt){if(gt&&gt.tagName!=="HTML"){var mt=window.getComputedStyle(gt),bt=function(vt){return["auto","scroll"].includes(vt)};return gt.clientHeight<gt.scrollHeight&&bt(mt.overflowX)||gt.clientWidth<gt.scrollWidth&&bt(mt.overflowY)?gt:ht(gt.parentNode)}}function pt(gt,mt){return Math.round(Math.abs(gt))>Math.round(Math.abs(mt))?gt:mt}return rt.forwardRef(ut)})})(browser_min);var browser_minExports=browser_min.exports;function t$1(et){return t$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},t$1(et)}function e$3(et){return function(_e){if(Array.isArray(_e))return c$1(_e)}(et)||n$1(et)||h(et)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function n$1(et){if(typeof Symbol<"u"&&et[Symbol.iterator]!=null||et["@@iterator"]!=null)return Array.from(et)}function r$1(et,_e){var tt=typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(!tt){if(Array.isArray(et)||(tt=h(et))||_e&&et&&typeof et.length=="number"){tt&&(et=tt);var rt=0,nt=function(){};return{s:nt,n:function(){return rt>=et.length?{done:!0}:{done:!1,value:et[rt++]}},e:function(ot){throw ot},f:nt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var st,it=!0,at=!1;return{s:function(){tt=tt.call(et)},n:function(){var ot=tt.next();return it=ot.done,ot},e:function(ot){at=!0,st=ot},f:function(){try{it||tt.return==null||tt.return()}finally{if(at)throw st}}}}function i$1(et,_e){var tt=Object.keys(et);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(et);_e&&(rt=rt.filter(function(nt){return Object.getOwnPropertyDescriptor(et,nt).enumerable})),tt.push.apply(tt,rt)}return tt}function a$1(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e]!=null?arguments[_e]:{};_e%2?i$1(Object(tt),!0).forEach(function(rt){s$1(et,rt,tt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(tt)):i$1(Object(tt)).forEach(function(rt){Object.defineProperty(et,rt,Object.getOwnPropertyDescriptor(tt,rt))})}return et}function s$1(et,_e,tt){return(_e=y(_e))in et?Object.defineProperty(et,_e,{value:tt,enumerable:!0,configurable:!0,writable:!0}):et[_e]=tt,et}function u$1(et,_e){return l$1(et)||function(tt,rt){var nt=tt==null?null:typeof Symbol<"u"&&tt[Symbol.iterator]||tt["@@iterator"];if(nt!=null){var st,it,at,ot,lt=[],ct=!0,ut=!1;try{if(at=(nt=nt.call(tt)).next,rt===0){if(Object(nt)!==nt)return;ct=!1}else for(;!(ct=(st=at.call(nt)).done)&&(lt.push(st.value),lt.length!==rt);ct=!0);}catch(dt){ut=!0,it=dt}finally{try{if(!ct&&nt.return!=null&&(ot=nt.return(),Object(ot)!==ot))return}finally{if(ut)throw it}}return lt}}(et,_e)||h(et,_e)||o$1()}function o$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h(et,_e){if(et){if(typeof et=="string")return c$1(et,_e);var tt=Object.prototype.toString.call(et).slice(8,-1);return tt==="Object"&&et.constructor&&(tt=et.constructor.name),tt==="Map"||tt==="Set"?Array.from(et):tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tt)?c$1(et,_e):void 0}}function c$1(et,_e){(_e==null||_e>et.length)&&(_e=et.length);for(var tt=0,rt=new Array(_e);tt<_e;tt++)rt[tt]=et[tt];return rt}function l$1(et){if(Array.isArray(et))return et}function f(et,_e){for(var tt=0;tt<_e.length;tt++){var rt=_e[tt];rt.enumerable=rt.enumerable||!1,rt.configurable=!0,"value"in rt&&(rt.writable=!0),Object.defineProperty(et,y(rt.key),rt)}}function y(et){var _e=function(tt,rt){if(t$1(tt)!=="object"||tt===null)return tt;var nt=tt[Symbol.toPrimitive];if(nt!==void 0){var st=nt.call(tt,rt||"default");if(t$1(st)!=="object")return st;throw new TypeError("@@toPrimitive must return a primitive value.")}return(rt==="string"?String:Number)(tt)}(et,"string");return t$1(_e)==="symbol"?_e:String(_e)}function d$1(et,_e,tt){(function(rt,nt){if(nt.has(rt))throw new TypeError("Cannot initialize the same private elements twice on an object")})(et,_e),_e.set(et,tt)}function m(et,_e){return function(tt,rt){return rt.get?rt.get.call(tt):rt.value}(et,g(et,_e,"get"))}function v(et,_e,tt){return function(rt,nt,st){if(nt.set)nt.set.call(rt,st);else{if(!nt.writable)throw new TypeError("attempted to set read only private field");nt.value=st}}(et,g(et,_e,"set"),tt),tt}function g(et,_e,tt){if(!_e.has(et))throw new TypeError("attempted to "+tt+" private field on non-instance");return _e.get(et)}function p$1(et){return et&&et.__esModule&&Object.prototype.hasOwnProperty.call(et,"default")?et.default:et}function k(et){return et&&et.__esModule&&Object.prototype.hasOwnProperty.call(et,"default")?et.default:et}var b={name:"gregorian_en",months:[["January","Jan"],["February","Feb"],["March","Mar"],["April","Apr"],["May","May"],["June","Jun"],["July","Jul"],["August","Aug"],["September","Sep"],["October","Oct"],["November","Nov"],["December","Dec"]],weekDays:[["Saturday","Sat"],["Sunday","Sun"],["Monday","Mon"],["Tuesday","Tue"],["Wednesday","Wed"],["Thursday","Thu"],["Friday","Fri"]],digits:["0","1","2","3","4","5","6","7","8","9"],meridiems:[["AM","am"],["PM","pm"]]},w={name:"gregorian",startYear:1,yearLength:365,epoch:1721424,century:20,weekStartDayIndex:1,getMonthLengths:function(et){return[31,et?29:28,31,30,31,30,31,31,30,31,30,31]},isLeap:function(et){return et%4==0&&et%100!=0||et%400==0},getLeaps:function(et){if(et!==0){for(var _e=et>0?1:-1,tt=[];et>0?_e<=et:et<=_e;)this.isLeap(_e)&&tt.push(_e),et>0?_e++:_e--;return tt}},getDayOfYear:function(et){for(var _e=et.year,tt=et.month,rt=et.day,nt=this.getMonthLengths(this.isLeap(_e)),st=0;st<tt.index;st++)rt+=nt[st];return rt},getAllDays:function(et){var _e=et.year;return this.yearLength*(_e-1)+this.leapsLength(_e)+this.getDayOfYear(et)},leapsLength:function(et){return((et-1)/4|0)+(-(et-1)/100|0)+((et-1)/400|0)},guessYear:function(et,_e){return~~(et/365.24)+(_e>0?1:-1)}};function D(et){return et&&et.constructor===Object}function M(et){if(!isNaN(et))return parseInt(et)}function O(et){return Array.isArray(et)}function S(et,_e,tt){return et===void 0||et<_e||et>tt}var Y=new WeakMap,L=new WeakMap,W=new WeakMap,j=new WeakMap,x=new WeakMap,N=new WeakMap,A=new WeakMap,I=new WeakMap,P=new WeakMap,T=new WeakMap,F=new WeakMap,E=new WeakMap,H=new WeakMap,V=new WeakMap,J=new WeakMap,_=new WeakMap,C=new WeakMap,U=new WeakMap,R=new WeakMap,z=function(){function et(rt){var nt=this;(function(ot,lt){if(!(ot instanceof lt))throw new TypeError("Cannot call a class as a function")})(this,et),d$1(this,Y,{writable:!0,value:void 0}),d$1(this,L,{writable:!0,value:void 0}),d$1(this,W,{writable:!0,value:void 0}),d$1(this,j,{writable:!0,value:void 0}),d$1(this,x,{writable:!0,value:void 0}),d$1(this,N,{writable:!0,value:void 0}),d$1(this,A,{writable:!0,value:void 0}),d$1(this,I,{writable:!0,value:void 0}),d$1(this,P,{writable:!0,value:b}),d$1(this,T,{writable:!0,value:w}),d$1(this,F,{writable:!0,value:!1}),d$1(this,E,{writable:!0,value:{}}),d$1(this,H,{writable:!0,value:/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d\.\d\d\dZ$/}),d$1(this,V,{writable:!0,value:[]}),d$1(this,J,{writable:!0,value:!0}),d$1(this,_,{writable:!0,value:function(ot,lt){switch(ot){case"YYYY":return["year",lt];case"YY":return["year","".concat(m(nt,T).century).concat(lt)];case"MMMM":case"MMM":return["month",nt.months.findIndex(function(ut){var dt=ut.name,ft=ut.shortName;return new RegExp(lt,"i").test(dt+ft)})+1];case"MM":case"M":return["month",lt];case"DD":case"D":return["day",lt];case"HH":case"H":return["hour",lt];case"hh":case"h":var ct=M(lt);return["hour",ct>12?ct-12:ct];case"mm":case"m":return["minute",lt];case"ss":case"s":return["second",lt];case"SSS":case"SS":case"S":return["millisecond",lt];default:return[]}}}),d$1(this,C,{writable:!0,value:function(){return m(nt,Y)===0&&m(nt,T).startYear!==0}}),d$1(this,U,{writable:!0,value:function(){if(m(nt,J)&&nt.isValid){var ot=Math.floor,lt=function(pt,gt){return[(vt=pt,(vt<0?-1:1)*Math.abs(ot(pt/gt))),(mt=pt,bt=gt,(mt<0&&ot(mt%bt)!==-0?bt:0)+ot(pt%gt))];var mt,bt,vt},ct=function(){if(m(nt,L)<0||m(nt,L)>11){var pt=m(nt,L)<0?-1:1,gt=u$1(lt(m(nt,L),12),2),mt=gt[0],bt=gt[1];v(nt,Y,m(nt,Y)+mt),v(nt,L,bt),m(nt,C).call(nt)&&v(nt,Y,pt)}};for(v(nt,J,!1),[["millisecond","second",1e3],["second","minute",60],["minute","hour",60],["hour","day",24]].forEach(function(pt){var gt=u$1(pt,3),mt=gt[0],bt=gt[1],vt=gt[2];if(function(wt,$t){return wt>=$t||wt<0}(nt[mt],vt)){var yt=u$1(lt(nt[mt],vt),2),xt=yt[0],Et=yt[1];nt[bt]+=xt,nt[mt]=Et}}),v(nt,J,!0),ct();m(nt,W)<-m(nt,T).yearLength||m(nt,W)>m(nt,T).yearLength;){if(m(nt,L)>0){for(var ut=m(nt,T).getMonthLengths(nt.isLeap),dt=0;dt<m(nt,L);dt++)v(nt,W,m(nt,W)+ut[dt]);v(nt,L,0)}var ft=nt.isLeap?nt.calendar.yearLength+1:nt.calendar.yearLength;v(nt,W,m(nt,W)+ft*(m(nt,W)<0?1:-1)),v(nt,Y,m(nt,Y)+(m(nt,W)<0?-1:1))}for(;;){var ht;for(ct();m(nt,W)<1;)v(nt,L,m(nt,L)-1),ct(),v(nt,W,nt.month.length+m(nt,W));if(m(nt,W)<=nt.month.length||isNaN(m(nt,W)))break;v(nt,W,m(nt,W)-nt.month.length),v(nt,L,(ht=m(nt,L),ht++,ht))}m(nt,j)||v(nt,j,0),m(nt,x)||v(nt,x,0),m(nt,N)||v(nt,N,0),m(nt,A)||v(nt,A,0)}}}),d$1(this,R,{writable:!0,value:function(){return(m(nt,E).weekDays||m(nt,P).weekDays).map(function(ot,lt){var ct=u$1(ot,2),ut=ct[0],dt=ct[1],ft=lt-nt.weekStartDayIndex;return ft<0&&(ft+=7),{name:ut,shortName:dt,index:ft,number:ft+1,toString:function(){return this.number.toString()},valueOf:function(){return this.number}}})}});var st=D(rt)?a$1({},rt):rt,it=!0;if(st&&typeof st!="boolean"||(st={date:new Date}),D(st)||(st={date:st}),Object.keys(st).length!==0){for(var at in D(st.calendar)&&v(this,T,st.calendar),D(st.locale)&&v(this,P,st.locale),isNaN(st.year)&&isNaN(st.month)&&isNaN(st.day)&&!st.date&&(st.date=new Date),st.date&&(typeof st.date=="string"&&st.format&&v(this,I,st.format),this.setDate(st.date),st.calendar&&this.convert(st.calendar),it=!1),delete st.calendar,delete st.locale,delete st.date,st)this.set(at,st[at]);m(this,C).call(this)&&v(this,Y,-1),it&&m(this,U).call(this)}}var _e,tt;return _e=et,tt=[{key:"parse",value:function(rt){if(!rt)return this;var nt,st,it=m(this,I),at=m(this,P).digits,ot=r$1(at);try{for(ot.s();!(nt=ot.n()).done;){var lt=nt.value;rt=rt.replace(new RegExp(lt,"g"),at.indexOf(lt))}}catch(Pt){ot.e(Pt)}finally{ot.f()}if(it)for(var ct=it.split(/[^\w\u0600-\u06FF]/),ut=rt.split(/[^\w\u0600-\u06FF]/),dt=0;dt<ct.length;dt++)this.set.apply(this,e$3(m(this,_).call(this,ct[dt],ut[dt])));else{var ft=rt.match(/(-?\d{2,4})?\W?([A-z]{3,9}|\d{1,2})?\W?(\d{1,2})?\W?(\d{1,2})?\W?(\d{1,2})?\W?(\d{1,2})?\W?(\d{1,3})?\W?(am|pm)?/),ht=(l$1(st=ft)||n$1(st)||h(st)||o$1()).slice(1),pt=ht[1];pt&&(pt=/\d+/.test(pt)?M(pt)-1:this.months.findIndex(function(Pt){return new RegExp(pt,"i").test(Pt.name)})),ht[1]=pt;var gt=u$1(ht.map(M),7),mt=gt[0],bt=gt[1],vt=gt[2],yt=gt[3],xt=gt[4],Et=gt[5],wt=gt[6];v(this,Y,mt),v(this,L,bt),v(this,W,vt),v(this,j,yt),v(this,x,xt),v(this,N,Et),v(this,A,wt)}var $t=u$1(m(this,P).meridiems[1],2),Tt=$t[0],St=$t[1];return m(this,j)<12&&(rt.includes(Tt)||rt.includes(St))&&v(this,j,m(this,j)+12),m(this,U).call(this),this}},{key:"convert",value:function(){var rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w,nt=arguments.length>1?arguments[1]:void 0;if(D(nt)&&v(this,P,nt),!D(rt)||rt.name===m(this,T).name)return this;var st=this.toJulianDay()-rt.epoch,it=new et({calendar:rt,year:rt.guessYear(st,m(this,Y)),month:1,day:1});return it.day+=st-it.toDays(),v(this,Y,it.year),v(this,L,it.month.index),v(this,W,it.day),v(this,T,rt),this}},{key:"format",value:function(rt,nt){if(!this.isValid||rt&&typeof rt!="string")return"";rt||(rt=m(this,I)||"YYYY/MM/DD"),O(nt)||(nt=[]),nt=(nt=nt.concat(m(this,V))).filter(function(dt){return typeof dt=="string"||(console.warn("type of all items in the ignore list must be string, found",t$1(dt)),!1)}).map(function(dt){return dt.replace(/[*/+\-()[\]{}\s$^]/g,function(ft){return"\\"+ft})});var st,it=new RegExp("".concat(nt.join("|")).concat(nt.length>0?"|":"","YYYY|YY|MMMM|MMM|MM|M|WW|W|DDDD|DDD|DD|D|dddd|ddd|dd|d|HH|H|hh|h|mm|m|ss|s|SSS|SS|S|A|a|."),"g"),at="",ot=r$1(rt.match(it)||[]);try{for(ot.s();!(st=ot.n()).done;){var lt=st.value,ct=this.getValue(lt);at+=nt.includes(lt)?lt:ct===0?ct:ct||lt}}catch(dt){ot.e(dt)}finally{ot.f()}var ut=this.digits;return at.replace(/[0-9]/g,function(dt){return ut[dt]})}},{key:"getProperty",value:function(rt){return this.getValue(rt)}},{key:"getValue",value:function(rt){var nt=function(st){return st<10?"0"+st:st};switch(rt){case"YYYY":return this.year;case"YY":return this.year.toString().substring(2,4);case"MMMM":return this.month.name;case"MMM":return this.month.shortName;case"MM":return nt(this.month.number);case"M":return this.month.number;case"WW":return nt(this.weekOfYear);case"W":return this.weekOfYear;case"DDDD":case"DDD":return this.dayOfYear;case"DD":return nt(this.day);case"D":return this.day;case"HH":return nt(this.hour);case"H":return this.hour;case"dddd":return this.weekDay.name;case"ddd":return this.weekDay.shortName;case"dd":return nt(this.weekDay.number);case"d":return this.weekDay.number;case"hh":return nt(this.hour>12?this.hour-12:this.hour||12);case"h":return this.hour>12?this.hour-12:this.hour||12;case"mm":return nt(this.minute);case"m":return this.minute;case"ss":return nt(this.second);case"s":return this.second;case"SSS":return m(this,A)<10?"00".concat(m(this,A)):m(this,A)<100?"0".concat(m(this,A)):m(this,A);case"SS":return m(this,A)<10?"00":m(this,A)<100?("0"+m(this,A)).substring(2,0):m(this,A).toString().substring(0,2);case"S":return m(this,A)<10||m(this,A)<100?"0":m(this,A).toString().substring(0,1);case"a":return this.hour>=12?m(this,P).meridiems[1][1]:m(this,P).meridiems[0][1];case"A":return this.hour>=12?m(this,P).meridiems[1][0]:m(this,P).meridiems[0][0];default:return""}}},{key:"setYear",value:function(rt){return this.year=rt,this}},{key:"setMonths",value:function(rt){return this.months=rt,this}},{key:"setMonth",value:function(rt){return this.month=rt,this}},{key:"setWeekDays",value:function(rt){return this.weekDays=rt,this}},{key:"setDigits",value:function(rt){return this.digits=rt,this}},{key:"setDay",value:function(rt){return this.day=rt,this}},{key:"setHour",value:function(rt){return this.hour=rt,this}},{key:"setMinute",value:function(rt){return this.minute=rt,this}},{key:"setSecond",value:function(rt){return this.second=rt,this}},{key:"setMillisecond",value:function(rt){return this.millisecond=rt,this}},{key:"setFormat",value:function(rt){return v(this,I,rt),this}},{key:"setLocale",value:function(rt){return this.locale=rt,this}},{key:"setCalendar",value:function(rt){return this.calendar=rt,this}},{key:"setDate",value:function(rt){if(typeof rt=="string"){if(!m(this,H).test(rt))return this.parse(rt);rt=new Date(rt)}return typeof rt=="number"&&(rt=new Date(rt)),rt instanceof Date&&(v(this,T,w),v(this,Y,rt.getFullYear()),v(this,L,rt.getMonth()),v(this,W,rt.getDate()),v(this,j,rt.getHours()),v(this,x,rt.getMinutes()),v(this,N,rt.getSeconds()),v(this,A,rt.getMilliseconds()),v(this,F,!1)),rt instanceof et&&(v(this,Y,rt.year),v(this,L,rt.month.index),v(this,W,rt.day),v(this,j,rt.hour),v(this,x,rt.minute),v(this,N,rt.second),v(this,A,rt.millisecond),v(this,P,rt.locale),v(this,I,rt._format),v(this,T,rt.calendar),v(this,F,rt.isUTC),v(this,V,rt.ignoreList),v(this,E,rt.custom)),this}},{key:"setIgnoreList",value:function(rt){return this.ignoreList=rt,this}},{key:"set",value:function(rt,nt){if(rt==null)return this;if(D(rt)){var st=a$1({},rt);for(var it in st.date&&(this.setDate(st.date),delete st.date),st.calendar&&(this.convert(st.calendar),delete st.calendar),st.locale&&(this.setLocale(st.locale),delete st.locale),v(this,J,!1),st)this.set(it,st[it]);return v(this,J,!0),m(this,U).call(this),this}rt==="format"&&(rt="_format");try{this[rt]=nt}catch{}return this}},{key:"add",value:function(rt,nt){if(!(rt=M(rt))||!nt)return this;switch(nt){case"years":case"y":nt="year";break;case"months":case"M":nt="month";break;case"days":case"d":nt="day";break;case"hours":case"h":nt="hour";break;case"minutes":case"m":nt="minute";break;case"seconds":case"s":nt="second";break;case"milliseconds":case"ms":nt="millisecond"}return this[nt]+=rt,this}},{key:"subtract",value:function(rt,nt){return this.add(-rt,nt)}},{key:"toFirstOfYear",value:function(){return this.month=1,this.day=1,this}},{key:"toLastOfYear",value:function(){return this.day>=29&&(this.day=29),this.month=12,this.toLastOfMonth(),this}},{key:"toFirstOfMonth",value:function(){return v(this,W,1),this}},{key:"toLastOfMonth",value:function(){return v(this,W,0),v(this,L,m(this,L)+1),m(this,U).call(this),this}},{key:"toFirstOfWeek",value:function(){return this.day-=this.weekDay.index,this}},{key:"toLastOfWeek",value:function(){return this.day+=6-this.weekDay.index,this}},{key:"toFirstWeekOfYear",value:function(){return this.toFirstOfYear(),this.weekDay.index===0?this:this.toLastOfWeek().setDay(this.day+1)}},{key:"toLastWeekOfYear",value:function(){return this.toLastOfYear().toFirstOfWeek()}},{key:"toString",value:function(){return this.format()}},{key:"toDate",value:function(){var rt=new et(this);return m(this,T).name!=="gregorian"&&rt.convert(w),new Date(rt.year,rt.month.index,rt.day,rt.hour,rt.minute,rt.second,rt.millisecond)}},{key:"toUTC",value:function(){return m(this,F)||(this.minute+=this.toDate().getTimezoneOffset(),v(this,F,!0)),this}},{key:"toUnix",value:function(){return this.unix}},{key:"toJulianDay",value:function(){return this.toDays()+m(this,T).epoch}},{key:"toObject",value:function(){return{year:m(this,Y),month:this.month,day:m(this,W),weekDay:this.weekDay,hour:m(this,j),minute:m(this,x),second:m(this,N),millisecond:m(this,A),weekOfYear:this.weekOfYear,dayOfYear:this.dayOfYear,daysLeft:this.daysLeft,calendar:m(this,T),locale:m(this,P),format:m(this,I)||"YYYY/MM/DD",ignoreList:m(this,V)}}},{key:"toJSON",value:function(){return this.valueOf()}},{key:"valueOf",value:function(){return this.toDate().valueOf()}},{key:"toDays",value:function(){if(this.isValid)return m(this,T).getAllDays(this)}},{key:"dayOfBeginning",get:function(){return this.toDays()}},{key:"dayOfYear",get:function(){if(this.isValid)return m(this,T).getDayOfYear(this)}},{key:"weekOfYear",get:function(){if(this.isValid)return 1+~~(this.dayOfYear/7)}},{key:"daysLeft",get:function(){if(this.isValid){var rt=m(this,T).yearLength;return(this.isLeap?rt+1:rt)-this.dayOfYear}}},{key:"year",get:function(){return m(this,Y)},set:function(rt){v(this,Y,M(rt)),m(this,U).call(this)}},{key:"month",get:function(){return this.months[m(this,L)]||{}},set:function(rt){var nt;rt=(nt=M(rt.valueOf())-1)!==null&&nt!==void 0?nt:void 0,v(this,L,rt),S(rt,0,11)&&m(this,U).call(this)}},{key:"monthIndex",get:function(){return m(this,L)}},{key:"day",get:function(){return m(this,W)},set:function(rt){rt=M(rt),v(this,W,rt),S(rt,1,28)&&m(this,U).call(this)}},{key:"weekDay",get:function(){if(!this.isValid)return{};var rt=(this.toJulianDay()+3)%7;return m(this,R).call(this)[rt]}},{key:"hour",get:function(){return m(this,j)},set:function(rt){rt=M(rt),v(this,j,rt),S(rt,0,23)&&m(this,U).call(this)}},{key:"minute",get:function(){return m(this,x)},set:function(rt){rt=M(rt),v(this,x,rt),S(rt,0,59)&&m(this,U).call(this)}},{key:"second",get:function(){return m(this,N)},set:function(rt){rt=M(rt),v(this,N,rt),S(rt,0,59)&&m(this,U).call(this)}},{key:"millisecond",get:function(){return m(this,A)},set:function(rt){rt=M(rt),v(this,A,rt),S(rt,0,999)&&m(this,U).call(this)}},{key:"months",get:function(){var rt=m(this,T).getMonthLengths(this.isLeap),nt=(m(this,E).months||m(this,P).months).map(function(st,it){var at=u$1(st,2);return{name:at[0],shortName:at[1],length:rt[it],index:it,number:it+1,toString:function(){return this.number.toString()},valueOf:function(){return this.number}}});return nt},set:function(rt){if(!rt)return delete m(this,E).months;O(rt)&&rt.length===12&&rt.every(function(nt){return O(nt)&&nt.length===2&&nt.every(function(st){return typeof st=="string"})})&&(m(this,E).months=rt)}},{key:"weekDays",get:function(){return m(this,R).call(this).sort(function(rt,nt){return rt.index-nt.index})},set:function(rt){if(!rt)return delete m(this,E).weekDays;O(rt)&&rt.length===7&&rt.every(function(nt){return O(nt)&&nt.length===2&&nt.every(function(st){return typeof st=="string"})})&&(m(this,E).weekDays=rt)}},{key:"leaps",get:function(){return m(this,T).getLeaps(m(this,Y))}},{key:"calendar",get:function(){return m(this,T)},set:function(rt){this.convert(rt)}},{key:"locale",get:function(){return m(this,P)},set:function(){var rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b;D(rt)&&v(this,P,rt)}},{key:"custom",get:function(){return m(this,E)}},{key:"meridiems",get:function(){return m(this,P).meridiems}},{key:"digits",get:function(){return m(this,E).digits||m(this,P).digits},set:function(rt){if(!rt)return delete m(this,E).digits;O(rt)&&rt.length===10&&(m(this,E).digits=rt)}},{key:"_format",get:function(){return m(this,I)},set:function(rt){typeof rt=="string"&&v(this,I,rt)}},{key:"isLeap",get:function(){return m(this,T).isLeap(m(this,Y))}},{key:"isValid",get:function(){return!isNaN(m(this,Y))&&!isNaN(m(this,L))&&!isNaN(m(this,W))}},{key:"isUTC",get:function(){return m(this,F)}},{key:"unix",get:function(){return(this.valueOf()-this.millisecond)/1e3}},{key:"ignoreList",get:function(){return m(this,V)},set:function(rt){O(rt)&&v(this,V,rt)}},{key:"weekStartDayIndex",get:function(){return m(this,T).weekStartDayIndex},set:function(rt){(rt=M(rt))!==void 0&&(m(this,T).weekStartDayIndex=Math.abs(rt)%7)}},{key:"date",set:function(rt){this.setDate(rt)}}],tt&&f(_e.prototype,tt),Object.defineProperty(_e,"prototype",{writable:!1}),et}(),$=p$1(k(z));const index_module=Object.freeze(Object.defineProperty({__proto__:null,default:$},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(index_module);(function(et){Object.defineProperty(et,"__esModule",{value:!0});var _e=reactExports,tt=browser_minExports,rt=require$$1;function nt(Lt){return Lt&&typeof Lt=="object"&&"default"in Lt?Lt:{default:Lt}}var st=nt(_e),it=nt(tt),at=nt(rt);function ot(Lt,qt){var tr=Object.keys(Lt);if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(Lt);qt&&(ir=ir.filter(function(or){return Object.getOwnPropertyDescriptor(Lt,or).enumerable})),tr.push.apply(tr,ir)}return tr}function lt(Lt){for(var qt=1;qt<arguments.length;qt++){var tr=arguments[qt]!=null?arguments[qt]:{};qt%2?ot(Object(tr),!0).forEach(function(ir){ct(Lt,ir,tr[ir])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Lt,Object.getOwnPropertyDescriptors(tr)):ot(Object(tr)).forEach(function(ir){Object.defineProperty(Lt,ir,Object.getOwnPropertyDescriptor(tr,ir))})}return Lt}function ct(Lt,qt,tr){return(qt=function(ir){var or=function(ur,hr){if(typeof ur!="object"||ur===null)return ur;var vr=ur[Symbol.toPrimitive];if(vr!==void 0){var pr=vr.call(ur,hr||"default");if(typeof pr!="object")return pr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hr==="string"?String:Number)(ur)}(ir,"string");return typeof or=="symbol"?or:String(or)}(qt))in Lt?Object.defineProperty(Lt,qt,{value:tr,enumerable:!0,configurable:!0,writable:!0}):Lt[qt]=tr,Lt}function ut(){return ut=Object.assign?Object.assign.bind():function(Lt){for(var qt=1;qt<arguments.length;qt++){var tr=arguments[qt];for(var ir in tr)Object.prototype.hasOwnProperty.call(tr,ir)&&(Lt[ir]=tr[ir])}return Lt},ut.apply(this,arguments)}function dt(Lt,qt){if(Lt==null)return{};var tr,ir,or=function(hr,vr){if(hr==null)return{};var pr,br,xr={},Tr=Object.keys(hr);for(br=0;br<Tr.length;br++)pr=Tr[br],vr.indexOf(pr)>=0||(xr[pr]=hr[pr]);return xr}(Lt,qt);if(Object.getOwnPropertySymbols){var ur=Object.getOwnPropertySymbols(Lt);for(ir=0;ir<ur.length;ir++)tr=ur[ir],qt.indexOf(tr)>=0||Object.prototype.propertyIsEnumerable.call(Lt,tr)&&(or[tr]=Lt[tr])}return or}function ft(Lt,qt){return function(tr){if(Array.isArray(tr))return tr}(Lt)||function(tr,ir){var or=tr==null?null:typeof Symbol<"u"&&tr[Symbol.iterator]||tr["@@iterator"];if(or!=null){var ur,hr,vr,pr,br=[],xr=!0,Tr=!1;try{if(vr=(or=or.call(tr)).next,ir===0){if(Object(or)!==or)return;xr=!1}else for(;!(xr=(ur=vr.call(or)).done)&&(br.push(ur.value),br.length!==ir);xr=!0);}catch(Er){Tr=!0,hr=Er}finally{try{if(!xr&&or.return!=null&&(pr=or.return(),Object(pr)!==pr))return}finally{if(Tr)throw hr}}return br}}(Lt,qt)||pt(Lt,qt)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ht(Lt){return function(qt){if(Array.isArray(qt))return gt(qt)}(Lt)||function(qt){if(typeof Symbol<"u"&&qt[Symbol.iterator]!=null||qt["@@iterator"]!=null)return Array.from(qt)}(Lt)||pt(Lt)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function pt(Lt,qt){if(Lt){if(typeof Lt=="string")return gt(Lt,qt);var tr=Object.prototype.toString.call(Lt).slice(8,-1);return tr==="Object"&&Lt.constructor&&(tr=Lt.constructor.name),tr==="Map"||tr==="Set"?Array.from(Lt):tr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tr)?gt(Lt,qt):void 0}}function gt(Lt,qt){(qt==null||qt>Lt.length)&&(qt=Lt.length);for(var tr=0,ir=new Array(qt);tr<qt;tr++)ir[tr]=Lt[tr];return ir}function mt(Lt,qt){var tr=typeof Symbol<"u"&&Lt[Symbol.iterator]||Lt["@@iterator"];if(!tr){if(Array.isArray(Lt)||(tr=pt(Lt))||qt&&Lt&&typeof Lt.length=="number"){tr&&(Lt=tr);var ir=0,or=function(){};return{s:or,n:function(){return ir>=Lt.length?{done:!0}:{done:!1,value:Lt[ir++]}},e:function(pr){throw pr},f:or}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ur,hr=!0,vr=!1;return{s:function(){tr=tr.call(Lt)},n:function(){var pr=tr.next();return hr=pr.done,pr},e:function(pr){vr=!0,ur=pr},f:function(){try{hr||tr.return==null||tr.return()}finally{if(vr)throw ur}}}}function bt(Lt){return Array.isArray(Lt)}function vt(Lt){var qt=Lt.state.date,tr=qt.calendar,ir=qt.locale,or=Lt.customWeekDays,ur=Lt.weekStartDayIndex,hr=Lt.displayWeekNumbers,vr=Lt.weekNumber,pr=_e.useMemo(function(){var br=or;return bt(br)&&br.length>=7?(br.length=7,br=br.map(function(xr){return bt(xr)&xr.length>1?xr=xr[1]:bt(xr)&&(xr=xr[0]),xr})):br=new at.default({year:1,calendar:tr,locale:ir}).weekDays.map(function(xr){return xr.shortName}),br},[tr,ir,or]);return pr=ht(pr).slice(ur).concat(ht(pr).splice(0,ur)),st.default.createElement("div",{className:"rmdp-week"},hr&&st.default.createElement("div",{className:"rmdp-week-day"},vr),pr.map(function(br,xr){return st.default.createElement("div",{key:xr,className:"rmdp-week-day"},br)}))}function yt(Lt,qt){var tr=arguments.length>2&&arguments[2]!==void 0&&arguments[2],ir=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(!Lt||!qt)return!1;if(Lt.year===qt.year){if(ir)return!0;if(Lt.monthIndex===qt.monthIndex)return!!tr||Lt.day===qt.day}}function xt(Lt){var qt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"YYYY/MM/DD";return Lt.format(qt)}function Et(Lt,qt,tr){var ir=tr.multiple,or=tr.range,ur=tr.selectedDate,hr=tr.onlyMonthPicker,vr=tr.onlyYearPicker,pr=tr.format,br=tr.focused,xr=tr.weekPicker;Lt.setFormat(pr);var Tr=new at.default(Lt);return ur=ir&&or?function(){var Er=!0;bt(ur)||(ur=[[ur]]);var kr=ur.find(function(Fr){return Fr.length===1}),Mr=hr?"YYYY/MM":"YYYY/MM/DD",jr=ur;if(kr){var Ir=kr[0];jr=jr.filter(function(Fr){if(Fr.length===1)return!0;var Hr=ft(Fr,2),Nr=Hr[0],cr=Hr[1],mr=ft([Ir,Tr].sort(function(Or,Ur){return Or-Ur}),2),Sr=[Nr,cr,mr[0],mr[1]].map(function(Or){return xt(Or,Mr)}),Lr=ft(Sr,4),_r=Lr[0],Cr=Lr[1],wr=Lr[2],Ar=Lr[3];return!(wr<=_r&&Ar>=Cr||wr>=_r&&Ar>=Cr&&wr<=Cr||wr<=_r&&Ar<=Cr&&Ar>=_r)})}else jr=jr.filter(function(Fr){if(!bt(Fr))return!0;if(Fr.length===0)return!1;var Hr=ft(Fr,2),Nr=[Hr[0],Hr[1],Tr].map(function(_r){return xt(_r,Mr)}),cr=ft(Nr,3),mr=cr[0],Sr=cr[1],Lr=cr[2];return!(Lr>=mr&&Lr<=Sr)});return jr=jr.map(function(Fr){var Hr;return bt(Fr)?Fr.length===1?(Er=!1,Hr=Fr.concat(Tr)):Hr=Fr:(Er=!1,Hr=[Fr,Tr]),Hr.sort(function(Nr,cr){return Nr-cr})}),Er&&(jr=[].concat(ht(jr),[[Tr]])),jr}():ir?function(){var Er=ur.filter(function(kr){return!yt(Lt,kr,hr,vr)});return Er.length===ur.length?Er.push(Tr):Tr=Er.find(function(kr){return yt(kr,br)}),qt&&Er.sort(function(kr,Mr){return kr-Mr}),Er}():or?function(){if(xr)return[new at.default(Tr).toFirstOfWeek(),new at.default(Tr).toLastOfWeek()];if(ur.length===2||ur.length===0)return[Tr];if(ur.length===1)return[ur[0],Tr].sort(function(Er,kr){return Er-kr})}():Tr,[ur,Tr]}function wt(Lt,qt,tr,ir){var or=[],ur=tr?"YYYY/MM":"YYYY/MM/DD",hr=xt(Lt,ur);function vr(pr){var br=pr[0],xr=pr[1];if(pr.length===1)yt(Lt,br,tr)&&or.push("rmdp-range");else if(pr.length===2){var Tr=[br,xr].map(function(jr){return xt(jr,ur)}),Er=ft(Tr,2),kr=Er[0],Mr=Er[1];hr>=kr&&hr<=Mr&&or.push("rmdp-range"),hr===kr&&or.push("start"),hr===Mr&&or.push("end")}}return ir?(bt(qt)?qt:[[qt]]).forEach(vr):vr(qt),or.join(" ")}function $t(Lt,qt,tr,ir){var or=arguments.length>5?arguments[5]:void 0,ur=[];if(ir&&tr){var hr,vr=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:"day")==="day"?"YYYY/MM/DD":"YYYY/MM",pr=tr.format(vr),br=Lt.format(vr);if(or||(qt==null?void 0:qt.length)!==1){if(or&&bt(qt)){var xr,Tr=mt(qt);try{for(Tr.s();!(xr=Tr.n()).done;){var Er=xr.value;if(bt(Er)&&Er.length===1){hr=Er[0].format(vr);break}}}catch(kr){Tr.e(kr)}finally{Tr.f()}}}else hr=qt[0].format(vr);(br>hr&&br<=pr||br<hr&&br>=pr)&&(ur.push("rmdp-range-hover"),br===pr&&ur.push(pr>hr?"end":"start"),bt(qt)&&qt.flat().some(function(kr){return kr.format(vr)===br})&&ur.push("force"))}return ur}function Tt(Lt,qt,tr){if(Lt){var ir=St(Lt);return tr?Array.from(ir.querySelectorAll(qt)):ir.querySelector(qt)}}function St(Lt){return Lt.closest(".rmdp-calendar")}var Pt=["selected","today","day:not(.rmdp-day-hidden):not(.rmdp-disabled)"];function At(Lt,qt,tr){var ir=tr.type,or=ir===void 0?"day":ir,ur=tr.format;Lt.preventDefault();var hr=Lt.currentTarget,vr=Lt.key,pr=Lt.code,br=or==="day"?7:3,xr=St(hr),Tr=xr&&xr.classList.contains("rmdp-rtl"),Er={ArrowRight:Tr?-1:1,ArrowLeft:Tr?1:-1,ArrowUp:-br,ArrowDown:br};if(pr==="Space"||vr===" ")hr.click();else if(Object.keys(Er).includes(vr)){var kr=function(){if(or==="month")return Rt(xr,[Pt[2]]);var Fr=Tt(hr,Mr<0?".rmdp-left":".rmdp-right");Fr&&(Fr.click(),Rt(xr))},Mr=Er[vr],jr=new at.default(qt.date).add(Mr,or);(function(Fr){if(!Fr)return kr();var Hr=Fr.getAttribute("class");Hr.includes("hidden")||Hr.includes("disabled")?At(Lt,lt(lt({},qt),{},{date:jr}),{type:or,format:ur}):Fr.focus()})(Tt(hr,'[aria-label*="'.concat(qt.year?"year ".concat(qt.year+Mr):jr.format(ur),'"]')))}else{var Ir=Tt(hr,".rmdp-arrow-container");Ir&&Ir.focus()}}function Rt(Lt){var qt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Pt,tr=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],ir="[data-active='true']";Lt.querySelectorAll("".concat(ir," [tabindex='0']")).forEach(function(or){return or.setAttribute("tabindex","-1")}),setTimeout(function(){var or,ur=mt(qt);try{for(ur.s();!(or=ur.n()).done;){var hr=or.value,vr=Lt.querySelector("".concat(ir," .rmdp-").concat(hr));if(vr){vr.setAttribute("tabindex","0"),tr&&vr.focus();break}}}catch(pr){ur.e(pr)}finally{ur.f()}},10)}var Ct="dddd MMMM DD of YYYY";function Dt(Lt){var qt=Lt.state,tr=Lt.onChange,ir=Lt.showOtherDays,or=ir!==void 0&&ir,ur=Lt.mapDays,hr=Lt.onlyShowInRangeDates,vr=Lt.customWeekDays,pr=Lt.sort,br=Lt.numberOfMonths,xr=Lt.isRTL,Tr=Lt.weekStartDayIndex,Er=Lt.handleFocusedDate,kr=Lt.hideWeekDays,Mr=Lt.fullYear,jr=ft(Lt.monthAndYears,1)[0],Ir=Lt.displayWeekNumbers,Fr=Lt.weekNumber,Hr=Fr===void 0?"":Fr,Nr=Lt.rangeHover,cr=Lt.highlightToday,mr=_e.useRef({}),Sr=_e.useRef(),Lr=qt.today,_r=qt.minDate,Cr=qt.maxDate,wr=qt.range,Ar=qt.multiple,Or=qt.date,Ur=qt.selectedDate,$r=qt.onlyMonthPicker,Rr=qt.onlyYearPicker,Dr=qt.mustShowMonthPicker,Br=qt.mustShowYearPicker,Vr=!$r&&!Rr,Kr=ft(_e.useState(),2),cn=Kr[0],an=Kr[1];mr.current.date=Or;var wn=_e.useMemo(function(){return Vr?function(zr,tn,Xr,bn){if(!zr)return[];for(var Jr=[],In=0;In<Xr;In++){var yn=(zr=new at.default(zr).toFirstOfMonth()).monthIndex,Tn=[];zr.toFirstOfWeek().add(bn,"day"),zr.monthIndex===yn&&zr.day>1&&zr.subtract(7,"days");for(var mn=0;mn<6;mn++){for(var xn=[],fn=0;fn<7;fn++)xn.push({date:new at.default(zr),day:zr.format("D"),current:zr.monthIndex===yn}),zr.day+=1;if(Tn.push(xn),mn>2&&zr.monthIndex!==yn)break}Jr.push(Tn)}return Jr}(mr.current.date,0,br,Tr):[]},[Or.monthIndex,Or.year,Or.calendar,Or.locale,Vr,or,br,Tr]);return Vr&&st.default.createElement("div",{ref:Sr,className:"rmdp-day-picker ".concat(Mr?"rmdp-full-year":""),style:{display:Mr?"grid":"flex"},onMouseLeave:function(){return Nr&&an()},"data-active":Vr&&!Dr&&!Br},wn.map(function(zr,tn){return st.default.createElement("div",{key:tn,style:ct({},xr?"marginLeft":"marginRight",tn+(Mr?0:1)<br?"10px":"")},Mr&&st.default.createElement("div",{className:"rmdp-month-name"},jr[tn]),!kr&&st.default.createElement(vt,{state:qt,customWeekDays:vr,weekStartDayIndex:Tr,displayWeekNumbers:Ir,weekNumber:Hr}),zr.map(function(Xr,bn){return st.default.createElement("div",{key:bn,className:"rmdp-week"},Ir&&st.default.createElement("div",{className:"rmdp-day rmdp-disabled"},st.default.createElement("span",null,Xr[0].date.format("WW"))),Xr.map(function(Jr,In){var yn=function(en){if(!en.current&&!or)return{};var rn={};return ur.forEach(function(un){var pn,dn=un({date:en.date,today:Lr,currentMonth:qt.date.month,selectedDate:qt.selectedDate,isSameDate:yt});((pn=dn)===null||pn===void 0?void 0:pn.constructor)!==Object&&(dn={}),(dn.disabled||dn.hidden)&&(en.disabled=!0),dn.hidden&&(en.hidden=!0),rn=lt(lt({},rn),dn)}),delete rn.disabled,delete rn.hidden,rn}(Jr={date:Jr.date,day:Jr.day,current:Jr.current}),Tn=gr(Jr)&&!Jr.disabled,mn="".concat(Tn?"sd":""),xn=yn.children;Tn&&(mn="".concat(mn," ").concat(yn.className||"")),delete yn.className,delete yn.children;var fn=function(en,rn){var un=["rmdp-day"],pn=en.date,dn=en.hidden,Mn=en.current;if(!gr(en)||dn)un.push("rmdp-day-hidden");else{(_r&&pn<_r||Cr&&pn>Cr||en.disabled)&&(un.push("rmdp-disabled"),en.disabled||(en.disabled=!0)),Mn||un.push("rmdp-deactive");var Dn=rn>1&&Mn||rn===1;en.disabled&&hr||(yt(pn,Lr)&&cr&&un.push("rmdp-today"),Ln=pn,[].concat(Ur).some(function(An){return yt(An,Ln)})&&Dn&&!wr&&un.push("rmdp-selected")),wr&&!en.disabled&&Dn&&(un.push(wt(pn,Ur,void 0,Ar)),un=un.concat($t(pn,Ur,cn,Nr,void 0,Ar)))}var Ln;return un.join(" ")}(Jr,br);return(Jr.hidden||Jr.disabled)&&(mn=mn.replace("sd","")),st.default.createElement("div",{key:In,tabIndex:-1,"aria-label":"Choose ".concat(Jr.date.format(Ct)),className:fn,onMouseEnter:function(){return Nr&&an(Jr.date)},onKeyDown:function(en){return At(en,Jr,{format:Ct})},onClick:function(){gr(Jr)&&!Jr.disabled&&function(en,rn,un){var pn,dn,Mn,Dn=en.date,Ln=en.current,An=qt.selectedDate,Wn=qt.focused,Cn=qt.date,Yn=Cn,Xn=Yn.hour,rs=Yn.minute,Qn=Yn.second;Dn.set({hour:((pn=An)===null||pn===void 0?void 0:pn.hour)||Xn,minute:((dn=An)===null||dn===void 0?void 0:dn.minute)||rs,second:((Mn=An)===null||Mn===void 0?void 0:Mn.second)||Qn}),un!==1||Ln?un>1&&!Ln&&(rn===0&&Dn<Cn&&(Cn=new at.default(Cn).toFirstOfMonth()),rn>0&&Dn.monthIndex>Cn.monthIndex+rn&&rn+1===un&&(Cn=new at.default(Cn).toFirstOfMonth().add(1,"month"))):Cn=new at.default(Cn).toFirstOfMonth();var qn=ft(Et(Dn,pr,qt),2);An=qn[0],Wn=qn[1],tr(An,lt(lt({},qt),{},{date:Cn,focused:Wn,selectedDate:An})),Er(Wn,Dn)}(Jr,tn,br)}},st.default.createElement("span",ut({className:mn},yn),gr(Jr)&&!Jr.hidden?xn??Jr.day:""))}))}))}));function gr(zr){return!!zr.current||or}}function Ft(Lt){var qt=Lt.direction,tr=Lt.onClick,ir=Lt.disabled,or=Lt.onKeyDown;return st.default.createElement("button",{type:"button",className:"rmdp-arrow-container ".concat(qt," ").concat(ir?"disabled":""),onClick:tr,onKeyDown:or,"aria-roledescription":"button to navigate ".concat(qt.replace("rmdp-",""))},st.default.createElement("i",{className:"rmdp-arrow"}))}function Mt(Lt){var qt=Lt.state,tr=Lt.setState,ir=Lt.disableYearPicker,or=Lt.disableMonthPicker,ur=Lt.buttons,hr=Lt.renderButton,vr=Lt.handleMonthChange,pr=Lt.disabled,br=Lt.hideMonth,xr=Lt.hideYear,Tr=Lt.isRTL,Er=Lt.fullYear,kr=ft(Lt.monthAndYears,2),Mr=kr[0],jr=kr[1],Ir=Lt.monthYearSeparator,Fr=Lt.formatMonth,Hr=Lt.formatYear,Nr=Lt.headerOrder,cr=Lt.onYearChange,mr={},Sr=qt.date,Lr=qt.onlyMonthPicker,_r=qt.onlyYearPicker,Cr=qt.mustShowYearPicker,wr=qt.minDate,Ar=qt.maxDate,Or=qt.year,Ur=qt.today,$r=wr&&Sr.year<=wr.year&&wr.monthIndex>Sr.monthIndex-1,Rr=Ar&&Sr.year>=Ar.year&&Ar.monthIndex<Sr.monthIndex+1,Dr=Ur.year+7;if(Dr-=12*Math.floor((Dr-Or)/12),(br||Er)&&xr&&!ur)return null;if((Lr||Er)&&(wr&&wr.year>=Sr.year&&($r=!0),Ar&&Ar.year<=Sr.year&&(Rr=!0)),Cr||_r){var Br=Dr-11;$r=wr&&wr.year>Br,Rr=Ar&&Ar.year<Dr}return pr&&($r=!0,Rr=!0),st.default.createElement("div",{className:"rmdp-header"},st.default.createElement("div",{style:{position:"relative",display:"flex",alignItems:"center"}},Array.from(new Set(Nr)).map(function(gr,zr){return st.default.createElement(_e.Fragment,{key:zr},function(tn){switch(tn){case"LEFT_BUTTON":return ur&&cn("left");case"RIGHT_BUTTON":return ur&&cn("right");case"MONTH_YEAR":case"YEAR_MONTH":if(Er)return st.default.createElement("div",{className:"rmdp-header-values",style:mr},!xr&&Sr.format("YYYY"));var Xr=tn.split("_").filter(function(bn){return bn==="MONTH"&&!br||bn==="YEAR"&&!xr});return Xr.length>1&&(Xr=[Xr[0],Kr(),Xr[1]]),Mr.map(function(bn,Jr){return st.default.createElement("div",{key:Jr,className:"rmdp-header-values",style:mr},Xr.map(function(In,yn){return st.default.createElement(_e.Fragment,{key:yn},function(Tn,mn,xn){switch(Tn){case"MONTH":return st.default.createElement("span",{tabIndex:0,onKeyDown:Vr,style:{cursor:pr||or||Lr?"default":"pointer"},onClick:function(fn){return!or&&wn("mustShowMonthPicker",fn)}},function(fn,en){return typeof Fr=="function"?Fr(fn,en):fn}(mn,jr[xn]));case"YEAR":return st.default.createElement("span",{tabIndex:0,onKeyDown:Vr,style:{cursor:pr||ir||_r?"default":"pointer"},onClick:function(fn){return!ir&&wn("mustShowYearPicker",fn)}},function(fn,en){return typeof Fr=="function"?Hr(fn,en):fn}(jr[xn],mn));default:return Tn}}(In,bn,Jr))}))});default:return}}(gr))})));function Vr(gr){var zr=gr.currentTarget,tn=gr.key,Xr=gr.code;Xr==="Space"||tn===" "?(gr.preventDefault(),zr.click()):Xr==="ArrowDown"&&(gr.preventDefault(),Rt(St(gr.target)))}function Kr(){return Ir?st.default.createElement("span",null,Ir):Tr?"":","}function cn(gr){var zr=function(Xr){Xr.preventDefault(),an(gr==="right"?1:-1,Xr)},tn=gr==="left"&&$r||gr==="right"&&Rr;return hr instanceof Function?hr(gr,zr,tn,Vr):_e.isValidElement(hr)?_e.cloneElement(hr,{direction:gr,handleClick:zr,disabled:tn,onKeyDown:Vr}):st.default.createElement(Ft,{direction:"rmdp-".concat(gr),onClick:zr,onKeyDown:Vr,disabled:tn})}function an(gr,zr){pr||gr<0&&$r||gr>0&&Rr||(Er?(Sr.year+=gr,cr==null||cr(new at.default(Sr))):Cr||_r?(Or+=12*gr,gr<0&&wr&&Or<wr.year&&(Or=wr.year),gr>0&&Ar&&Or>Ar.year&&(Or=Ar.year)):(Sr.toFirstOfMonth(),Lr?Sr.year+=gr:(Sr.month+=gr,vr(Sr))),tr(lt(lt({},qt),{},{date:Sr,year:Or})),Rt(St(zr.target),void 0,!1))}function wn(gr,zr){if(!pr){var tn={mustShowMonthPicker:!1,mustShowYearPicker:!1};tn[gr]=!qt[gr],tr(lt(lt({},qt),tn)),Rt(St(zr.target),void 0,!1)}}}function Ot(Lt){return bt(Lt)||(Lt=[]),JSON.stringify(Lt)}var jt="MMMM of YYYY";function Ut(Lt){var qt=Lt.state,tr=Lt.onChange,ir=Lt.customMonths,or=Lt.sort,ur=Lt.handleMonthChange,hr=Lt.handleFocusedDate,vr=Lt.rangeHover,pr=Lt.highlightToday,br=Lt.numberOfMonths,xr=qt.date,Tr=qt.today,Er=qt.minDate,kr=qt.maxDate,Mr=qt.calendar,jr=qt.locale,Ir=qt.onlyMonthPicker,Fr=qt.onlyYearPicker,Hr=qt.range,Nr=qt.onlyShowInRangeDates,cr=(qt.mustShowMonthPicker||Ir)&&!Fr,mr=ft(_e.useState(),2),Sr=mr[0],Lr=mr[1];ir=ir&&Ot(ir);var _r=_e.useMemo(function(){var Ar=[],Or=Ir?br:1,Ur=ir&&JSON.parse(ir),$r=new at.default({calendar:Mr,locale:jr,format:qt.date._format,year:qt.date.year,month:1,day:1});bt(Ur)&&Ur.length>=12?(Ur.length=12,Ur=Ur.map(function(an){return bt(an)?an[0]:an})):Ur=$r.locale.months.map(function(an){return ft(an,1)[0]});for(var Rr=0;Rr<Or;Rr++){for(var Dr=[],Br=0,Vr=0;Vr<4;Vr++){for(var Kr=[],cn=0;cn<3;cn++)Kr.push({date:new at.default($r),name:Ur[Br]}),Br++,$r.add(1,"month");Dr.push(Kr)}Ar.push(Dr)}return Ar},[Mr,jr,ir,qt.date.year,qt.date._format,br,Ir]);return st.default.createElement("div",{className:"".concat(Ir?"only ":"","rmdp-month-picker"),style:{display:cr?"flex":"none"},"data-active":cr,onMouseLeave:function(){return vr&&Lr()}},_r.map(function(Ar,Or){return st.default.createElement("div",{key:Or,style:{margin:"0 5px",flex:1}},Ar.map(function(Ur,$r){return st.default.createElement("div",{key:$r,className:"rmdp-ym"},Ur.map(function(Rr,Dr){var Br=Rr.date,Vr=Rr.name;return st.default.createElement("div",{key:Dr,"aria-label":"Select ".concat(Br.format(jt)),tabIndex:-1,onKeyDown:function(Kr){return At(Kr,{date:Br},{format:jt,type:"month"})},className:wr(Br),onClick:function(Kr){return Cr(Br,Kr)},onMouseEnter:function(){return vr&&Lr(Br)}},st.default.createElement("span",{className:Ir?"sd":""},Vr))}))}))}));function Cr(Ar,Or){var Ur=qt.selectedDate,$r=qt.focused,Rr=Ar.year,Dr=Ar.monthIndex;if(!(Er&&Rr<=Er.year&&Dr<Er.monthIndex||kr&&Rr>=kr.year&&Dr>kr.monthIndex)){if(xr.setMonth(Dr+1),Ir){var Br=ft(Et(Ar,or,qt),2);Ur=Br[0],$r=Br[1]}else ur(xr),Rt(St(Or.target));tr(Ir?Ur:void 0,lt(lt({},qt),{},{date:xr,focused:$r,selectedDate:Ur,mustShowMonthPicker:!1})),Ir&&hr($r,Ar)}}function wr(Ar){var Or=["rmdp-day"],Ur=Ar.year,$r=Ar.monthIndex,Rr=qt.selectedDate,Dr=qt.multiple;if((Er&&(Ur<Er.year||Ur===Er.year&&$r<Er.monthIndex)||kr&&(Ur>kr.year||Ur===kr.year&&$r>kr.monthIndex))&&Or.push("rmdp-disabled"),!Or.includes("rmdp-disabled")||!Nr)return yt(Tr,Ar,!0)&&pr&&Or.push("rmdp-today"),Ir?Hr?(Or.push(wt(Ar,Rr,!0,Dr)),Or=Or.concat($t(Ar,Rr,Sr,vr,"month",Dr))):[].concat(Rr).some(function(Br){return yt(Br,Ar,!0)})&&Or.push("rmdp-selected"):xr.monthIndex===$r&&Or.push("rmdp-selected"),Or.join(" ")}}function _t(Lt,qt){return Lt.replace(/[0-9]/g,function(tr){return qt[tr]})}var It="YYYY";function Wt(Lt){var qt=Lt.state,tr=Lt.onChange,ir=Lt.sort,or=Lt.handleFocusedDate,ur=Lt.onYearChange,hr=Lt.rangeHover,vr=Lt.highlightToday,pr=qt.date,br=qt.today,xr=qt.minDate,Tr=qt.maxDate,Er=qt.onlyYearPicker,kr=qt.range,Mr=qt.onlyShowInRangeDates,jr=qt.year,Ir=qt.mustShowYearPicker||Er,Fr=pr.digits,Hr=ft(_e.useState(),2),Nr=Hr[0],cr=Hr[1],mr=br.year-4;mr-=12*Math.ceil((mr-jr)/12);var Sr=_e.useMemo(function(){for(var Cr=[],wr=mr,Ar=0;Ar<4;Ar++){for(var Or=[],Ur=0;Ur<3;Ur++)Or.push(wr),wr++;Cr.push(Or)}return Cr},[mr]);return st.default.createElement("div",{className:"".concat(Er?"only ":"","rmdp-year-picker"),style:{display:Ir?"block":"none"},"data-active":Ir},Sr.map(function(Cr,wr){return st.default.createElement("div",{key:wr,className:"rmdp-ym",onMouseLeave:function(){return hr&&cr()}},Cr.map(function(Ar,Or){return st.default.createElement("div",{key:Or,"aria-label":"Select year ".concat(Ar),tabIndex:-1,onKeyDown:function(Ur){return At(Ur,{year:Ar,date:pr},{format:It,type:"year"})},className:Lr(Ar),onClick:function(Ur){return function($r,Rr){if(!_r($r)){var Dr=new at.default(qt.date).setYear($r),Br=qt.selectedDate,Vr=qt.focused;if(Er){var Kr=ft(Et(Dr,ir,qt),2);Br=Kr[0],Vr=Kr[1]}else xr&&Dr.monthIndex<xr.monthIndex?Dr=Dr.setMonth(xr.monthIndex+1):Tr&&Dr.monthIndex>Tr.monthIndex&&(Dr=Dr.setMonth(Tr.monthIndex+1)),ur==null||ur(Dr),Rt(St(Rr.target));tr(Er?Br:void 0,lt(lt({},qt),{},{date:Dr,focused:Vr,selectedDate:Br,mustShowYearPicker:!1})),Er&&or(Vr,Dr)}}(Ar,Ur)},onMouseEnter:function(){return hr&&cr(Ar)}},st.default.createElement("span",{className:Er?"sd":""},_t(Ar.toString(),Fr)))}))}));function Lr(Cr){var wr=["rmdp-day"],Ar=qt.date,Or=qt.selectedDate,Ur=qt.multiple;if(_r(Cr)&&wr.push("rmdp-disabled"),!wr.includes("rmdp-disabled")||!Mr){if(br.year===Cr&&vr&&wr.push("rmdp-today"),Er)if(kr){var $r=function(Rr){var Dr=Rr[0],Br=Rr[1];if(Rr.length===1){if(Cr===Dr.year&&wr.push("rmdp-range"),hr){var Vr=Rr[0].year;(Cr>Vr&&Cr<=Nr||Cr<Vr&&Cr>=Nr)&&(wr.push("rmdp-range-hover"),Cr===Nr&&wr.push(Nr>Vr?"end":"start"))}}else Rr.length===2&&(Cr>=Dr.year&&Cr<=Br.year&&wr.push("rmdp-range"),Cr===Dr.year&&wr.push("start"),Cr===Br.year&&wr.push("end"))};Ur?(bt(Or)?Or:[[Or]]).forEach(function(Rr){return $r(Rr)}):$r(Or)}else[].concat(Or).some(function(Rr){return Rr&&Rr.year===Cr})&&wr.push("rmdp-selected");else Cr===Ar.year&&wr.push("rmdp-selected");return wr.join(" ")}}function _r(Cr){return xr&&Cr<xr.year||Tr&&Cr>Tr.year}}function Kt(Lt,qt,tr){return tr||(Lt?"MM/YYYY":qt?"YYYY":"YYYY/MM/DD")}function Bt(Lt,qt){var tr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"YYYY/MM/DD";return Lt instanceof at.default?Lt.set({calendar:qt,format:tr}):Lt=new at.default({date:Lt,calendar:qt,format:tr}),Lt}function Qt(Lt){"_self"in st.default.createElement("div")&&console.warn(Lt.join(`
`))}var Nt=new at.default,Xt=Nt.calendar,Zt=Nt.locale;function Yt(Lt,qt){return Lt&&Lt.constructor!==Object&&(Qt(rr("calendar")),Lt=void 0),qt&&qt.constructor!==Object&&(Qt(rr("locale")),qt=void 0),[Lt||Xt,qt||Zt]}function rr(Lt){return["".concat(Lt," must be an object"),"https://shahabyazdi.github.io/react-multi-date-picker/calendars/"]}function ar(Lt){return Lt&&Lt.name?Lt.name.split("_")[1]:""}function sr(Lt){return["fa","ar"].includes(ar(Lt))}function kt(Lt,qt){qt===void 0&&(qt={});var tr=qt.insertAt;if(Lt&&typeof document<"u"){var ir=document.head||document.getElementsByTagName("head")[0],or=document.createElement("style");or.type="text/css",tr==="top"&&ir.firstChild?ir.insertBefore(or,ir.firstChild):ir.appendChild(or),or.styleSheet?or.styleSheet.cssText=Lt:or.appendChild(document.createTextNode(Lt))}}kt(".rmdp-wrapper{background-color:#fff;border-radius:5px;direction:ltr;text-align:center;width:max-content}.rmdp-shadow{box-shadow:0 0 5px #8798ad}.rmdp-border{border:1px solid #cfd8e2}.rmdp-calendar{height:max-content;padding:4px}.rmdp-border-top{border-top:1px solid #cfd8e2}.rmdp-border-bottom{border-bottom:1px solid #cfd8e2}.rmdp-border-left{border-left:1px solid #cfd8e2}.rmdp-border-right{border-right:1px solid #cfd8e2}.rmdp-week,.rmdp-ym{display:flex;justify-content:space-between}.rmdp-ym{height:25%}.rmdp-day,.rmdp-week-day{color:#000;cursor:pointer;height:34px;position:relative;width:34px}.rmdp-calendar :focus{outline-color:#00539c}.rmdp-day:not(.rmdp-range):focus{border-radius:50%}.rmdp-ym .rmdp-day:not(.rmdp-range):focus{border-radius:15px}.rmdp-week-day{color:#0074d9;cursor:default;font-size:13px;font-weight:500}.rmdp-day span,.rmdp-week-day{display:flex;flex-direction:column;justify-content:center}.rmdp-day span{border-radius:50%;bottom:3px;font-size:14px;left:3px;position:absolute;right:3px;top:3px}.rmdp-day.rmdp-today span{background-color:#7fdbff;color:#fff}.rmdp-day.rmdp-selected span:not(.highlight){background-color:#0074d9;box-shadow:0 0 3px #8798ad;color:#fff}.rmdp-day.rmdp-deactive,.rmdp-day.rmdp-disabled{color:#8798ad}.rmdp-day.rmdp-deactive.rmdp-selected span{background-color:#4ca6f5;box-shadow:0 0 3px #bac5d3}.rmdp-ym .rmdp-day{flex:1;margin:auto}.rmdp-ym .rmdp-day span{border-radius:12px;padding:2px 0}.rmdp-range{background-color:#0074d9;box-shadow:0 0 3px #8798ad;color:#fff}.rmdp-range-hover{background-color:#7ea6f0;color:#fff}.rmdp-range-hover.start:not(.force),.rmdp-range.start:not(.force){border-bottom-left-radius:50%;border-top-left-radius:50%}.rmdp-range-hover.end:not(.force),.rmdp-range.end:not(.force){border-bottom-right-radius:50%;border-top-right-radius:50%}.rmdp-ym .rmdp-range-hover.start:not(.force),.rmdp-ym .rmdp-range.start:not(.force){border-bottom-left-radius:15px;border-top-left-radius:15px}.rmdp-ym .rmdp-range-hover.end:not(.force),.rmdp-ym .rmdp-range.end:not(.force){border-bottom-right-radius:15px;border-top-right-radius:15px}@media (hover:hover){.rmdp-day:not(.rmdp-disabled,.rmdp-day-hidden) span:hover{background-color:#7ea6f0;color:#fff}}.rmdp-day-picker{padding:5px}.rmdp-header{font-size:14px;margin-top:5px;padding:9px 0}.rmdp-month-picker,.rmdp-year-picker{background-color:#fff;border-radius:0 0 5px 5px;bottom:2px;left:2px;position:absolute;right:2px;top:2px}.only.rmdp-month-picker,.only.rmdp-year-picker{height:240px;position:static;width:240px}.rmdp-header-values{color:#000;margin:auto}.rmdp-header-values span{padding:0 0 0 5px}.rmdp-arrow{border:solid #0074d9;border-width:0 2px 2px 0;display:inline-block;height:3px;margin-top:5px;padding:2px;width:3px}.rmdp-right i{margin-right:3px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}.rmdp-left i{margin-left:3px;transform:rotate(135deg);-webkit-transform:rotate(135deg)}.rmdp-left{left:0}.rmdp-right{right:0}.rmdp-arrow-container{background:transparent;border:none;border-radius:50%;cursor:pointer;display:flex;height:20px;justify-content:center;margin:0 5px;padding:0;width:20px}.rmdp-arrow-container:hover{background-color:#0074d9;box-shadow:0 0 3px #8798ad}.rmdp-arrow-container:hover .rmdp-arrow{border:solid #fff;border-width:0 2px 2px 0}.rmdp-arrow-container.disabled{cursor:default}.rmdp-arrow-container.disabled:hover{background-color:inherit;box-shadow:inherit}.rmdp-arrow-container.disabled .rmdp-arrow,.rmdp-arrow-container.disabled:hover .rmdp-arrow{border:solid gray;border-width:0 2px 2px 0}.rmdp-rtl{direction:rtl}.rmdp-rtl .rmdp-left i{margin-left:0;margin-right:3px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}.rmdp-rtl .rmdp-right i{margin-left:3px;margin-right:0;transform:rotate(135deg);-webkit-transform:rotate(135deg)}.rmdp-rtl .rmdp-right{left:0;right:auto}.rmdp-rtl .rmdp-left{left:auto;right:0}.rmdp-rtl .rmdp-range-hover.start:not(.force),.rmdp-rtl .rmdp-range.start:not(.force){border-bottom-left-radius:unset;border-bottom-right-radius:50%;border-top-left-radius:unset;border-top-right-radius:50%}.rmdp-rtl .rmdp-range-hover.end:not(.force),.rmdp-rtl .rmdp-range.end:not(.force){border-bottom-left-radius:50%;border-bottom-right-radius:unset;border-top-left-radius:50%;border-top-right-radius:unset}.rmdp-rtl .rmdp-range.start.end:not(.force){border-radius:50%}.rmdp-rtl .rmdp-ym .rmdp-range-hover.start:not(.force),.rmdp-rtl .rmdp-ym .rmdp-range.start:not(.force){border-bottom-right-radius:15px;border-top-right-radius:15px}.rmdp-rtl .rmdp-ym .rmdp-range-hover.end:not(.force),.rmdp-rtl .rmdp-ym .rmdp-range.end:not(.force){border-bottom-left-radius:15px;border-top-left-radius:15px}.rmdp-day-hidden,.rmdp-day.rmdp-disabled{cursor:default}.rmdp-selected .highlight{box-shadow:0 0 3px #8798ad}.rmdp-day:not(.rmdp-disabled):not(.rmdp-day-hidden) .highlight-red:hover{background-color:#ff6687}.rmdp-day:not(.rmdp-deactive) .highlight-red{color:#cc0303}.rmdp-day.rmdp-deactive .highlight-red{color:#e08e8e}.rmdp-day.rmdp-selected .highlight-red{background-color:#ea0034;color:#fff}.rmdp-day.rmdp-deactive.rmdp-selected .highlight-red{background-color:#e4b0ba;color:#fff}.rmdp-day:not(.rmdp-disabled):not(.rmdp-day-hidden) .highlight-green:hover{background-color:#4db6ac}.rmdp-day:not(.rmdp-deactive) .highlight-green{color:#00796b}.rmdp-day.rmdp-deactive .highlight-green{color:#7ab3ac}.rmdp-day.rmdp-selected .highlight-green{background-color:#009688;color:#fff}.rmdp-day.rmdp-deactive.rmdp-selected .highlight-green{background-color:#749c98;color:#fff}.rmdp-day-hidden,.rmdp-day-hidden:hover span{background-color:unset;color:transparent}.rmdp-month-name{cursor:default;font-size:14px;margin:3px 0}.rmdp-full-year{grid-template-columns:1fr 1fr 1fr}@media (max-height:450px),(max-width:450px){.rmdp-day,.rmdp-week-day{height:28px;width:28px}.rmdp-day span{font-size:12px;padding-left:.5px}.only.rmdp-month-picker,.only.rmdp-year-picker{height:200px;width:230px}.rmdp-header{padding:3px 0 0}.rmdp-header,.rmdp-month-name{font-size:12px}.rmdp-full-year{grid-template-columns:1fr 1fr}}");var er=["datePickerProps","DatePicker"];function Gt(Lt,qt){var tr,ir=Lt.value,or=Lt.calendar,ur=Lt.locale,hr=Lt.format,vr=Lt.onlyMonthPicker,pr=Lt.onlyYearPicker,br=Lt.range,xr=br!==void 0&&br,Tr=Lt.multiple,Er=Tr!==void 0&&Tr,kr=Lt.className,Mr=Lt.role,jr=Lt.weekDays,Ir=Lt.months,Fr=Lt.children,Hr=Lt.onChange,Nr=Lt.showOtherDays,cr=Lt.minDate,mr=Lt.maxDate,Sr=Lt.mapDays,Lr=Lt.disableMonthPicker,_r=Lt.disableYearPicker,Cr=Lt.formattingIgnoreList,wr=Lt.onReady,Ar=Lt.onlyShowInRangeDates,Or=Ar===void 0||Ar,Ur=Lt.zIndex,$r=Ur===void 0?100:Ur,Rr=Lt.plugins,Dr=Rr===void 0?[]:Rr,Br=Lt.sort,Vr=Lt.numberOfMonths,Kr=Vr===void 0?1:Vr,cn=Lt.currentDate,an=Lt.digits,wn=Lt.buttons,gr=wn===void 0||wn,zr=Lt.renderButton,tn=Lt.weekStartDayIndex,Xr=tn===void 0?0:tn,bn=Lt.disableDayPicker,Jr=Lt.onPropsChange,In=Lt.onMonthChange,yn=Lt.onYearChange,Tn=Lt.onFocusedDateChange,mn=Lt.readOnly,xn=Lt.disabled,fn=Lt.hideMonth,en=Lt.hideYear,rn=Lt.hideWeekDays,un=Lt.shadow,pn=un===void 0||un,dn=Lt.fullYear,Mn=Lt.displayWeekNumbers,Dn=Lt.weekNumber,Ln=Lt.weekPicker,An=Lt.rangeHover,Wn=Lt.monthYearSeparator,Cn=Lt.formatMonth,Yn=Lt.formatYear,Xn=Lt.highlightToday,rs=Xn===void 0||Xn,Qn=Lt.headerOrder,qn=Qn===void 0?["LEFT_BUTTON","MONTH_YEAR","RIGHT_BUTTON"]:Qn,ns=Lt.style,ms=ns===void 0?{}:ns,ss=Lt.autoFocus,is=ss!==void 0&&ss;!cn||cn instanceof at.default||(console.warn("currentDate must be instance of DateObject"),cn=void 0),(typeof Xr!="number"||Xr<0||Xr>6)&&(Xr=0),(typeof Kr!="number"||Kr<1||pr)&&(Kr=1),!(Er||xr||bt(ir))||xr||Er||(Er=!0),Ln&&(xr=!0,Er=!1),dn&&(Kr=12,vr=!1,pr=!1),pr&&!fn&&(fn=!0);var Zn=ft(Yt(or,ur),2);or=Zn[0],ur=Zn[1],hr=Kt(vr,pr,hr),Cr=Ot(Cr),Sr=[].concat(Sr).filter(Boolean),Dr=[].concat.apply([],Dr);var as=ft(_e.useState({}),2),_n=as[0],On=as[1],Un={},En=_e.useRef({mustCallOnReady:!0,currentDate:cn});_e.useEffect(function(){On(function(Pr){var qr=En.current.currentDate,Yr=Pr.date,Wr=Pr.selectedDate,hn=Pr.initialValue,ln=Pr.focused,nn=Pr.mustSortDates;function gn(yr){if(yr)return yr.calendar.name!==or.name&&yr.setCalendar(or),yr.locale.name!==ur.name&&yr.setLocale(ur),yr._format!==hr&&yr.setFormat(hr),yr.digits=an,yr.ignoreList=JSON.parse(Cr),yr}function Sn(yr){return new at.default(qr||yr)}if(ir)if(bt(Wr=Vt(ir,or,ur,hr)))Yr||(Yr=Sn(Wr.flat()[0]));else if(Yr&&Kr!==1){var jn=new at.default(Yr).toFirstOfMonth(),zn=new at.default(Yr).add(Kr-1,vr?"years":"months").toLastOfMonth();(Wr<jn||Wr>zn)&&(Yr=new at.default(Wr))}else Yr=Sn(Wr);else Yr||(Yr=Sn({calendar:or,locale:ur,format:hr})),hn&&(Wr=void 0);if([].concat(Wr).flat().forEach(gn),gn(Yr),Er||xr||bt(ir)){if(Wr||(Wr=[]),bt(Wr)||(Wr=Er&&xr?[[Wr]]:[Wr]),xr&&!Er&&Wr.length>2){var Bn=Wr[Wr.length-1];Wr=[Wr[0],Bn],ln=Bn}Er&&!xr&&Br&&!nn?(nn=!0,Wr.sort(function(yr,Gr){return yr-Gr})):xr&&!Er&&Wr.sort(function(yr,Gr){return yr-Gr})}else bt(Wr)&&(Wr=Wr.flat()[Wr.length-1]);return dn&&Yr.toFirstOfYear(),delete En.current.currentDate,lt(lt({},Pr),{},{date:Yr,selectedDate:Wr,multiple:Er,range:xr,onlyMonthPicker:vr,onlyYearPicker:pr,initialValue:Pr.initialValue||ir,value:ir,focused:ln,calendar:or,locale:ur,format:hr,mustSortDates:nn,year:Yr.year,today:gn(Pr.today)||new at.default({calendar:or}),weekPicker:Ln})})},[ir,or,ur,hr,vr,pr,xr,Er,Br,Kr,an,Cr,dn,Ln]),_e.useEffect(function(){(cr||mr)&&On(function(Pr){var qr=Pr.calendar,Yr=Pr.locale,Wr=Pr.format,hn=function(jn,zn,Bn,yr,Gr){return zn&&(zn=Bt(zn,yr,Gr).set({hour:0,minute:0,second:0,millisecond:0})),Bn&&(Bn=Bt(Bn,yr,Gr).set({hour:23,minute:59,second:59,millisecond:999})),bt(jn)&&(jn=jn.filter(function(Zr){return!(zn&&Zr<zn)&&!(Bn&&Zr>Bn)})),[jn,zn,Bn]}(Vt(ir,qr,Yr,Wr),cr,mr,qr,Wr),ln=ft(hn,3),nn=ln[0],gn=ln[1],Sn=ln[2];return lt(lt({},Pr),{},{inRangeDates:Or?nn:Pr.selectedDate,minDate:gn,maxDate:Sn})})},[cr,mr,Or,ir]),_n.today&&!En.current.isReady&&(En.current.isReady=!0),_e.useEffect(function(){En.current.isReady&&En.current.mustCallOnReady&&wr instanceof Function&&(En.current.mustCallOnReady=!1,wr())},[En.current.isReady,wr]);var Gn="rmdp-top-class "+Fn(["top","bottom"]),Rn={top:[],bottom:[],left:[],right:[]},os=sr((tr=_n.date)===null||tr===void 0?void 0:tr.locale),Nn={state:_n,setState:On,onChange:Kn,sort:Br,handleFocusedDate:Hn,isRTL:os,fullYear:dn,monthAndYears:function(){var Pr=_n.date;if(!Pr)return[];for(var qr=[],Yr=[],Wr=Pr.digits,hn=0;hn<Kr;hn++){var ln=void 0,nn=Pr.year,gn=Pr.monthIndex+hn;if(vr&&(nn+=hn),gn>11&&(gn-=12,vr||nn++),bt(Ir)&&Ir.length>=12){var Sn=Ir[gn];ln=bt(Sn)?Sn[0]:Sn}else ln=Pr.months[gn].name;nn=_t(nn.toString(),Wr),qr.push(ln),Yr.push(nn)}return[qr,Yr]}(),rangeHover:An,highlightToday:rs,numberOfMonths:Kr},Jn=arguments[0],ls=Jn.datePickerProps,es=Jn.DatePicker,cs=dt(Jn,er);return _e.useEffect(function(){var Pr=En.current.Calendar;Pr&&Rt(Pr,void 0,is&&!es)},[is,_n.today,es]),function(){if(!(!En.current.isReady||!bt(Dr))){var Pr={state:_n,setState:On,registerListener:us,calendarProps:cs,datePickerProps:ls,handleChange:Kn,Calendar:En.current.Calendar,DatePicker:es,handlePropsChange:Vn,handleFocusedDate:function(Yr){return Hn(Yr)},minDate:cr,maxDate:mr},qr=function(Yr){return bn?"bottom":Yr.props.position||"right"};Dr.forEach(function(Yr,Wr){if(typeof Yr.type!="string"){var hn={},ln=qr(Yr);if(Rn[ln]&&!Yr.props.disabled){for(var nn=0;nn<Dr.length;nn++)if(typeof Dr[nn].type!="string"&&!Dr[nn].props.disabled){if(Object.keys(hn).length===4)break;var gn=qr(Dr[nn]);["top","bottom"].includes(ln)?(gn===ln&&nn>Wr&&(hn.bottom=!0),gn===ln&&nn<Wr&&(hn.top=!0)):(Gn.includes("border-top")&&(hn.top=!0),Gn.includes("border-bottom")&&(hn.bottom=!0),gn===ln&&nn>Wr&&(hn.right=!0),gn===ln&&nn<Wr&&(hn.left=!0))}Rn[ln].push(_e.cloneElement(Yr,lt({key:Wr,position:ln,nodes:hn},Pr)))}}else Yr.type==="mapDays"&&Sr.push(Yr.fn(Pr))})}}(),_n.today?st.default.createElement("div",{ref:function(Pr){if(Pr&&(Pr.date=_n.date,Pr.set=function(qr,Yr){xn||On(lt(lt({},_n),{},{date:new at.default(_n.date.set(qr,Yr))}))}),En.current.Calendar=Pr,qt instanceof Function)return qt(Pr);qt&&(qt.current=Pr)},role:Mr||"dialog",className:"rmdp-wrapper rmdp-".concat(pn?"shadow":"border"," ").concat(kr||""),style:lt({zIndex:$r},ms)},Rn.top,st.default.createElement("div",{style:{display:"flex"},className:Gn},Rn.left,!bn&&st.default.createElement("div",{className:"rmdp-calendar ".concat(os?"rmdp-rtl":""," ").concat(Fn(["left","right"]))},st.default.createElement(Mt,lt(lt({},Nn),{},{disableYearPicker:_r,disableMonthPicker:Lr,buttons:gr,renderButton:zr,handleMonthChange:Qr,disabled:xn,hideMonth:fn,hideYear:en,monthYearSeparator:Wn,formatMonth:Cn,formatYear:Yn,headerOrder:qn,onYearChange:yn})),st.default.createElement("div",{style:{position:"relative"}},st.default.createElement(Dt,lt(lt({},Nn),{},{showOtherDays:Nr,mapDays:Sr,onlyShowInRangeDates:Or,customWeekDays:jr,weekStartDayIndex:Xr,hideWeekDays:rn,displayWeekNumbers:Mn,weekNumber:Dn})),!dn&&st.default.createElement(st.default.Fragment,null,!Lr&&st.default.createElement(Ut,ut({},Nn,{customMonths:Ir,handleMonthChange:Qr})),!_r&&st.default.createElement(Wt,ut({},Nn,{onYearChange:yn}))))),Rn.right),Rn.bottom,Fr):null;function Kn(Pr,qr){if(Pr instanceof at.default&&(Pr=new at.default(Pr)),!xn){if(Pr||Pr===null){if(mn)return;Un.change&&Un.change.forEach(function(Wr){return Wr(Pr)})}if(Pr||Pr===null){var Yr=Hr==null?void 0:Hr(Pr);qr&&Yr!==!1&&On(qr)}else qr&&On(qr);Vn({value:Pr})}}function Vn(){var Pr,qr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!mn&&!xn){var Yr=lt(lt(lt(lt({},cs),ls),qr),{},{value:(Pr=qr.value)!==null&&Pr!==void 0?Pr:_n.selectedDate});delete Yr.onPropsChange,Jr==null||Jr(Yr)}}function Hn(Pr,qr){mn||xn||Tn==null||Tn(Pr,qr)}function Qr(Pr){In==null||In(Pr)}function Fn(Pr){return bn||!bt(Dr)?"":Array.from(new Set(Dr.map(function(qr){if(!qr.props)return"";var Yr=qr.props.position||"right";return Pr.includes(Yr)&&!qr.props.disabled?"rmdp-border-"+Yr:""}))).join(" ")}function us(Pr,qr){Un[Pr]||(Un[Pr]=[]),Un[Pr].push(qr)}}var zt=_e.forwardRef(Gt);function Vt(Lt,qt,tr,ir){var or=[].concat(Lt).map(function(vr){return bt(vr)?vr.map(ur).filter(hr):ur(vr)}).filter(hr);return bt(Lt)?or:or.flat()[0];function ur(vr){return vr?vr instanceof at.default?vr:new at.default({date:vr,calendar:qt,locale:tr,format:ir}):{}}function hr(vr){return bt(vr)||vr.isValid}}kt('.rmdp-visible{visibility:visible}.rmdp-invisible{visibility:hidden}.rmdp-input{border:1px solid #c0c4d6;border-radius:5px;height:22px;margin:1px 0;padding:2px 5px}.rmdp-input:focus{border:1px solid #a4b3c5;box-shadow:0 0 2px #a4b3c5;outline:none!important}.rmdp-button{background-color:#0074d9;border:none;border-radius:5px;color:#fff;cursor:pointer;display:inline-block;padding:7px 16px;text-align:center;text-decoration:none;transition:.3s}.rmdp-button:hover{background-color:#143ac5;transition:.4s}.rmdp-button:disabled{background-color:#8798ad}.rmdp-action-button{border-radius:unset;color:#2682d3;float:right;font-weight:700;margin:15px 10px 15px 0}.rmdp-action-button,.rmdp-action-button:hover{background-color:transparent}.rmdp-ep-arrow{overflow:hidden;will-change:transform}.rmdp-ep-arrow:after{background-color:#fff;content:"";height:12px;position:absolute;transform:rotate(45deg);width:12px}.rmdp-ep-shadow:after{box-shadow:0 0 6px #8798ad}.rmdp-ep-border:after{border:1px solid #cfd8e2}.rmdp-ep-arrow[direction=top]{border-bottom:1px solid #fff}.rmdp-ep-arrow[direction=left]{border-right:1px solid #fff}.rmdp-ep-arrow[direction=right]{border-left:1px solid #fff;margin-left:-1px}.rmdp-ep-arrow[direction=bottom]{border-top:1px solid #fff;margin-top:-1.5px}.rmdp-ep-arrow[direction=top]:after{left:4px;top:5px}.rmdp-ep-arrow[direction=bottom]:after{left:4px;top:-6px}.rmdp-ep-arrow[direction=left]:after{left:5px;top:3px}.rmdp-ep-arrow[direction=right]:after{left:-6px;top:3px}');var Ht=["value","calendar","locale","format","onlyMonthPicker","onlyYearPicker","onChange","range","multiple","name","id","title","placeholder","required","style","className","inputClass","disabled","render","weekDays","months","children","inputMode","scrollSensitive","hideOnScroll","minDate","maxDate","formattingIgnoreList","containerClassName","calendarPosition","editable","onOpen","onClose","arrowClassName","zIndex","arrow","fixMainPosition","onPositionChange","onPropsChange","digits","readOnly","shadow","onFocusedDateChange","type","weekPicker","mobileLabels","onOpenPickNewDate","mobileButtons","dateSeparator","multipleRangeSeparator","typingTimeout"],lr=["label"];function dr(Lt,qt){var tr=Lt.value,ir=Lt.calendar,or=Lt.locale,ur=Lt.format,hr=Lt.onlyMonthPicker,vr=Lt.onlyYearPicker,pr=Lt.onChange,br=Lt.range,xr=br!==void 0&&br,Tr=Lt.multiple,Er=Tr!==void 0&&Tr,kr=Lt.name,Mr=Lt.id,jr=Lt.title,Ir=Lt.placeholder,Fr=Lt.required,Hr=Lt.style,Nr=Hr===void 0?{}:Hr,cr=Lt.className,mr=cr===void 0?"":cr,Sr=Lt.inputClass,Lr=Lt.disabled,_r=Lt.render,Cr=Lt.weekDays,wr=Lt.months,Ar=Lt.children,Or=Lt.inputMode,Ur=Lt.scrollSensitive,$r=Ur===void 0||Ur,Rr=Lt.hideOnScroll,Dr=Lt.minDate,Br=Lt.maxDate,Vr=Lt.formattingIgnoreList,Kr=Lt.containerClassName,cn=Kr===void 0?"":Kr,an=Lt.calendarPosition,wn=an===void 0?"bottom-left":an,gr=Lt.editable,zr=gr===void 0||gr,tn=Lt.onOpen,Xr=Lt.onClose,bn=Lt.arrowClassName,Jr=bn===void 0?"":bn,In=Lt.zIndex,yn=In===void 0?100:In,Tn=Lt.arrow,mn=Tn===void 0||Tn,xn=Lt.fixMainPosition,fn=Lt.onPositionChange,en=Lt.onPropsChange,rn=Lt.digits,un=Lt.readOnly,pn=Lt.shadow,dn=pn===void 0||pn,Mn=Lt.onFocusedDateChange,Dn=Lt.type,Ln=Lt.weekPicker,An=Lt.mobileLabels,Wn=Lt.onOpenPickNewDate,Cn=Wn===void 0||Wn,Yn=Lt.mobileButtons,Xn=Yn===void 0?[]:Yn,rs=Lt.dateSeparator,Qn=Lt.multipleRangeSeparator,qn=Qn===void 0?",":Qn,ns=Lt.typingTimeout,ms=ns===void 0?700:ns,ss=dt(Lt,Ht),is=ft(_e.useState(),2),Zn=is[0],as=is[1],_n=ft(_e.useState(),2),On=_n[0],Un=_n[1],En=ft(_e.useState(""),2),Gn=En[0],Rn=En[1],os=ft(_e.useState(!1),2),Nn=os[0],Jn=os[1],ls=ft(_e.useState(!1),2),es=ls[0],cs=ls[1],Kn=_e.useRef(),Vn=_e.useRef(),Hn=_e.useRef(),Qr=_e.useRef({isTyping:!1}),Fn=rs||(xr||Ln?" ~ ":", "),us=arguments[0],Pr=typeof mr=="string"&&mr.includes("rmdp-mobile"),qr=_e.useCallback(function(){if((Xr==null?void 0:Xr())!==!1){var yr=fr(Vn);if(yr&&yr.forEach(function(Zr){return Zr.blur()}),Qr.current.mobile){var Gr=Hn.current.parentNode.parentNode;Gr.classList.remove("rmdp-calendar-container-mobile"),Gr.style.position="absolute",Gr.style.visibility="hidden"}Qr.current.validInputValue!==void 0&&(Rn(Qr.current.validInputValue),Qr.current.validInputValue=void 0),Jn(!1),cs(!1)}},[Xr]),Yr=[{type:"button",className:"rmdp-button rmdp-action-button",onClick:function(){Un(void 0),qr()},label:ln("CANCEL")},{type:"button",className:"rmdp-button rmdp-action-button",onClick:function(){On&&(Sn(On,!0),Un(void 0)),qr()},label:ln("OK")}];Pr&&!Qr.current.mobile&&(Qr.current=lt(lt({},Qr.current),{},{mobile:!0})),!Pr&&Qr.current.mobile&&(Qr.current=lt(lt({},Qr.current),{},{mobile:!1})),Vr=Ot(Vr),ur=Kt(hr,vr,ur);var Wr,hn=ft(Yt(ir,or),2);return ir=hn[0],or=hn[1],_e.useEffect(function(){function yr(Zr){if(Nn&&!Qr.current.mobile){var $n=[];if([Vn.current,Hn.current].forEach(function(Pn){var vn,kn;!Pn||Pn.contains(Zr.target)||Zr.target.classList.contains("b-deselect")||(vn=Zr.target.parentNode)!==null&&vn!==void 0&&(vn=vn.classList)!==null&&vn!==void 0&&(kn=vn.contains)!==null&&kn!==void 0&&kn.call(vn,"b-deselect")||$n.push(Pn)}),$n.length===2)return qr();Hn.current&&Hn.current.contains(Zr.target)&&(Kn.current.removeTransition(),Kn.current.refreshPosition())}}function Gr(){Rr&&Nn&&qr()}return document.addEventListener("click",yr,!1),document.addEventListener("scroll",Gr,!0),function(){document.removeEventListener("click",yr,!1),document.removeEventListener("scroll",Gr,!0)}},[qr,qt,Nn,Rr]),_e.useEffect(function(){var yr=tr,Gr=Qr.current,Zr=Gr.date,$n=Gr.initialValue,Pn=function(){return yr[yr.length-1]};function vn(sn){if(sn)return sn instanceof at.default||(sn=new at.default({date:sn,calendar:ir,locale:or,format:ur})),sn.calendar!==ir&&sn.setCalendar(ir),sn.set({weekDays:Cr,months:wr,digits:rn,locale:or,format:ur,ignoreList:JSON.parse(Vr)}),sn}tr||$n||!Zr?$n&&!tr&&($n=void 0):yr=Zr;var kn="";if(xr||Er||bt(yr)){var ds=function(sn){return sn=sn.map(vn).filter(function(hs){return hs!==void 0}),xr&&sn.length>2&&(sn=[sn[0],Pn()]),[sn,nr(sn,Fn)]};if(bt(yr)||(yr=xr&&Er?yr?[[yr]]:[]:[yr]),Er&&xr)yr=yr.map(function(sn,hs){var vs=ft(ds(bt(sn)?sn:[sn]),2),ys=vs[0],xs=vs[1];return kn+=xs+(hs<yr.length-1?" ".concat(qn," "):""),ys});else{var fs=ft(ds(yr),2);yr=fs[0],kn=fs[1]}kn=kn.toString().replace(/\s,\s$/,"")}else bt(yr)&&(yr=Pn()),(yr=vn(yr))&&(kn=yr.format());Qr.current.isTyping||Rn(kn),Qr.current=lt(lt({},Qr.current),{},{date:yr,separator:Fn,initialValue:$n||tr}),Qr.current.mobile&&Kn.current.isOpen?Un(yr):(Qr.current.validInputValue=void 0,as(yr))},[tr,ir,or,ur,xr,Er,Fn,hr,vr,Cr,wr,rn,Vr]),_e.useEffect(function(){var yr=Qr.current.selection;if(yr){var Gr=fr(Vn);Gr.length!==0&&(Gr.forEach(function(Zr){document.activeElement===Zr&&(Zr.setSelectionRange(yr,yr),Qr.current.selection=void 0)}),Kn.current.refreshPosition())}},[Gn]),(Er||xr||bt(Zn)||!zr)&&(Or="none"),st.default.createElement(it.default,ut({ref:function(yr){if(yr&&(yr.openCalendar=function(){return setTimeout(function(){return nn()},10)},yr.closeCalendar=qr,yr.isOpen=Nn&&es),Kn.current=yr,qt instanceof Function)return qt(yr);qt&&(qt.current=yr)},element:_r?st.default.createElement("div",{ref:Vn},_e.isValidElement(_r)?_e.cloneElement(_r,{value:Gn,openCalendar:nn,onFocus:nn,handleValueChange:jn,onChange:jn,locale:or,separator:Fn}):_r instanceof Function?_r(Gn,nn,jn,or,Fn):null):st.default.createElement("input",{ref:Vn,type:Dn||"text",name:kr,id:Mr,title:jr,required:Fr,onFocus:nn,className:Sr||"rmdp-input",placeholder:Ir,value:Gn,onChange:jn,style:Nr,autoComplete:"off",disabled:!!Lr,inputMode:Or||(Pr?"none":void 0),readOnly:un}),popper:Nn&&st.default.createElement(zt,ut({ref:Hn,value:On||Zn,onChange:Sn,range:xr,multiple:Er,calendar:ir,locale:or,format:ur,onlyMonthPicker:hr,onlyYearPicker:vr,className:mr+(Pr?" rmdp-mobile":""),weekDays:Cr,months:wr,digits:rn,minDate:Dr,maxDate:Br,formattingIgnoreList:JSON.parse(Vr),onPropsChange:en,shadow:dn,onReady:zn,DatePicker:Kn.current,datePickerProps:us,onFocusedDateChange:Bn,weekPicker:Ln},ss),Ar,Pr&&(Wr=[].concat.apply([],us.plugins||[]).some(function(yr){var Gr=yr.props;return!(Gr===void 0?{}:Gr).disabled}),bt(Xn)&&st.default.createElement("div",{className:"rmdp-action-buttons ".concat(sr(or)?"rmdp-rtl":""," ").concat(Wr?"rmdp-border-top":"")},Xn.concat(Yr).map(function(yr,Gr){var Zr=yr.label,$n=dt(yr,lr);return st.default.createElement("button",ut({key:Gr},$n),Zr)})))),active:!Pr&&es,position:wn,arrow:!Pr&&mn,fixMainPosition:!$r||xn,zIndex:yn,onChange:!Pr&&fn,containerClassName:"rmdp-container ".concat(cn),arrowClassName:["rmdp-ep-arrow","rmdp-ep-".concat(dn?"shadow":"border"),mr,Jr].join(" ")},ss));function ln(yr){var Gr,Zr=or||new at.default().locale;return typeof Zr.name!="string"?yr:(An==null?void 0:An[yr])||((Gr={en:{OK:"OK",CANCEL:"CANCEL"},fa:{OK:"",CANCEL:""},ar:{OK:"",CANCEL:""},hi:{OK:"",CANCEL:" "}}[ar(Zr)])===null||Gr===void 0?void 0:Gr[yr])||yr}function nn(){if(!Lr&&!un&&(tn==null?void 0:tn())!==!1){if(Cn&&!tr&&!Qr.current.date&&!xr&&!Er&&!Pr){var yr=new at.default({calendar:ir,locale:or,format:ur,months:wr,weekDays:Cr,digits:rn,ignoreList:JSON.parse(Vr)});(!Dr||yr>Bt(Dr,ir,ur))&&(!Br||yr<Bt(Br,ir,ur))&&(Sn(yr),en==null||en(lt(lt({},us),{},{value:yr})),Qr.current.date=yr)}var Gr=fr(Vn);Pr&&Gr.length>0&&Gr.forEach(function(Zr){return Zr.blur()}),Gr.length>0||!Nn?Jn(!0):qr()}}function gn(yr){var Gr="";return yr&&(Gr=Er&&xr&&bt(yr)?yr.map(function(Zr){return nr(Zr,Fn)}).join(" ".concat(qn," ")):nr(yr,Fn)),Gr}function Sn(yr,Gr,Zr){if(Pr&&!Gr)return Un(yr);var $n=gn(yr),Pn=Zr||$n.toString().replace(/\s,\s$/,"");return yr&&[].concat(yr).flat().some(function(vn){return Dr&&vn<Bt(Dr,ir,ur)||Br&&vn>Bt(Br,ir,ur)})?(Qr.current.validInputValue=gn(tr||Qr.current.date),Rn(Pn)):(Qr.current.validInputValue=$n,(pr==null?void 0:pr(yr,{validatedValue:$n,input:Vn.current,isTyping:!!Zr}))===!1?(Rn(Gn),!1):(as(yr),Rn(Pn),void(Qr.current=lt(lt({},Qr.current),{},{date:yr}))))}function jn(yr){if(zr){Qr.current.isTyping=!0,setTimeout(function(){Qr.current.isTyping=!1},ms),Qr.current.selection=yr.target.selectionStart;var Gr=yr.target.value,Zr={calendar:ir,locale:or,format:ur,ignoreList:JSON.parse(Vr)};if(rn=bt(rn)?rn:or.digits,!Gr)return Rn(""),Sn(null);if(rn){var $n,Pn,vn=mt(rn);try{for(vn.s();!($n=vn.n()).done;){var kn=$n.value;Gr=Gr.replace(new RegExp(kn,"g"),rn.indexOf(kn))}}catch(sn){vn.e(sn)}finally{vn.f()}Pn=bt(Zn)?Er&&xr?(Gr||"").split(qn).filter(Boolean).map(fs):fs(Gr):ds(Gr),Sn(bt(Zn)||Pn.isValid?Pn:null,void 0,_t(Gr,rn))}}function ds(sn){return/(?=.*Y)(?=.*M)(?=.*D)/.test(ur)?new at.default(lt(lt({},Zr),{},{date:sn})):new at.default(Zr).parse(sn)}function fs(sn){return(sn||"").split(Fn).filter(Boolean).map(function(hs){return ds(hs.trim())})}}function zn(){if(cs(!0),Pr){var yr=Hn.current.parentNode.parentNode;yr.className="rmdp-calendar-container-mobile",yr.style.position="fixed",yr.style.transform="",setTimeout(function(){yr.style.visibility="visible"},50)}}function Bn(yr,Gr){bt(Qr.current.date)||!Gr||Pr||qr(),Mn==null||Mn(yr,Gr)}}var Jt=_e.forwardRef(dr);function nr(Lt,qt){var tr=[].concat(Lt).map(function(ir){return ir!=null&&ir.isValid?ir.format():""});return tr.toString=function(){return this.filter(Boolean).join(qt)},tr}function fr(Lt){return Lt.current?Lt.current.tagName==="INPUT"?[Lt.current]:Array.from(Lt.current.querySelectorAll("input")):[]}Object.defineProperty(et,"DateObject",{enumerable:!0,get:function(){return at.default}}),et.Calendar=zt,et.default=Jt,et.getAllDatesInRange=function(){var Lt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],qt=arguments.length>1?arguments[1]:void 0;if(!Array.isArray(Lt))return[];var tr=Lt[0],ir=Lt[Lt.length-1],or=[];if(!(tr instanceof at.default&&ir instanceof at.default&&tr.isValid&&ir.isValid&&!(tr>ir)))return[];for(tr=new at.default(tr),ir=new at.default(ir);tr<=ir;tr.day++)or.push(qt?tr.toDate():new at.default(tr));return or},et.toDateObject=Bt})(build);function e$2(et){return et&&et.__esModule&&Object.prototype.hasOwnProperty.call(et,"default")?et.default:et}e$2({name:"persian",startYear:1,yearLength:365,epoch:1948319,century:14,weekStartDayIndex:0,getMonthLengths:et=>[31,31,31,31,31,31,30,30,30,30,30,et?30:29],isLeap(et){return this.getLeaps(et).includes(et)},getLeaps(et){if(et===0)return;let _e=et>0?1:-1,tt=[],rt=.242362,nt=et>0?.2684:.7316,st={5:4,38:37,199:198,232:231,265:264,298:297,557:558,590:591,623:624,982:983,1015:1016,1048:1049,1081:1082,1114:1115,1242:1243,1374:1375,1407:1408,1440:1441,1506:1507,1539:1540,1572:1573,1605:1606,1931:1932,1964:1965,2063:2064,2096:2097,2687:2686,2720:2719,2753:2752,2819:2818,2852:2851,2885:2884,3017:3016,3112:3111,3145:3144,3178:3177,3211:3210,3244:3243,3277:3276,3310:3309,3343:3342,3376:3375,3409:3408,3442:3441,3508:3507,3541:3540,3574:3573,3603:3602,3607:3606,3636:3635,3669:3668,3702:3701,3706:3705,3735:3734,3768:3767,3801:3800,3834:3833,3867:3866,3900:3899,3933:3932,3966:3965,3999:3998,4065:4064,4094:4093,4098:4097,4127:4126,4131:4130,4160:4159,4193:4192,4226:4225,4259:4258,4292:4291,4325:4324,4358:4357,4391:4390,4585:4584,4618:4617,4651:4650,4750:4749,4943:4944,4976:4977,5009:5010,5170:5171,5203:5204,5236:5237,5265:5266,5269:5270,5298:5299,5302:5303,5331:5332,5335:5336,5364:5365,5368:5369,5393:5394,5397:5398,5401:5402,5426:5427,5430:5431,5434:5435,5459:5460,5463:5464,5467:5468,5492:5493,5496:5497,5500:5501,5521:5522,5525:5526,5529:5530,5554:5555,5558:5559,5562:5563,5587:5588,5591:5592,5595:5596,5616:5617,5620:5621,5624:5625,5628:5629,5649:5650,5653:5654,5657:5658,5661:5662,5682:5683,5686:5687,5690:5691,5694:5695,5715:5716,5719:5720,5723:5724,5727:5728,5744:5745,5748:5749,5752:5753,5756:5757,5760:5761,5777:5778,5781:5782,5785:5786,5789:5790,5793:5794,5810:5811,5814:5815,5818:5819,5822:5823,5826:5827,5839:5840,5843:5844,5847:5848,5851:5852,5855:5856,5859:5860,5872:5873,5876:5877,5880:5881,5884:5885,5888:5889,5892:5893,5901:5902,5905:5906,5909:5910,5913:5914,5917:5918,5921:5922,5925:5926,5934:5935,5938:5939,5942:5943,5946:5947,5950:5951,5954:5955,5958:5959,5967:5968,5971:5972,5975:5976,5979:5980,5983:5984,5987:5988,5991:5992,5996:5997,6e3:6001,6004:6005,6008:6009,6012:6013,6016:6017,6020:6021,6029:6030,6033:6034,6037:6038,6041:6042,6045:6046,6049:6050,6053:6054,6058:6059,6062:6063,6066:6067,6070:6071,6074:6075,6078:6079,6082:6083,6086:6087,6091:6092,6095:6096,6099:6100,6103:6104,6107:6108,6111:6112,6115:6116,6119:6120,6124:6125,6128:6129,6132:6133,6136:6137,6140:6141,6144:6145,6148:6149,6152:6154,6157:6158,6161:6162,6165:6166,6169:6170,6173:6174,6177:6178,6181:6182,6185:6187,6190:6191,6194:6195,6198:6199,6202:6203,6206:6207,6210:6211,6214:6215,6218:6220,6223:6224,6227:6228,6231:6232,6235:6236,6239:6240,6243:6244,6247:6249,6251:6253,6256:6257,6260:6261,6264:6265,6268:6269,6272:6273,6276:6277,6280:6282,6284:6286,6289:6290,6293:6294,6297:6298,6301:6302,6305:6306,6309:6310,6313:6315,6317:6319,6322:6323,6326:6327,6330:6331,6334:6335,6338:6339,6342:6344,6346:6348,6350:6352,6355:6356,6359:6360,6363:6364,6367:6368,6371:6372,6375:6377,6379:6381,6383:6385,6388:6389,6392:6393,6396:6397,6400:6401,6404:6406,6408:6410,6412:6414,6416:6418,6421:6422,6425:6426,6429:6430,6433:6434,6437:6439,6441:6443,6445:6447,6449:6451,6454:6455,6458:6459,6462:6463,6466:6468,6470:6472,6474:6476,6478:6480,6482:6484,6487:6488,6491:6492,6495:6496};for(;et>0?_e<=et:et<=_e;){if(nt+=et>0?rt:-1*rt,nt>1&&(nt-=1),nt<0&&(nt+=1),nt>=.257800926&&nt<=.5){let it=st[_e]||_e<-1?_e+1:_e;et>0&&it<=et&&tt.push(it),et<0&&tt.push(it)}et>0?_e++:_e--}return tt},getDayOfYear:({month:{index:et},day:_e})=>(et<=6?31*et:186+30*(et-6))+_e,getAllDays(et){const{year:_e}=et,tt=this.getLeaps(_e),rt=tt.includes(_e);return this.yearLength*(_e-1)+(rt?tt.length-1:tt.length)+this.getDayOfYear(et)},guessYear:(et,_e)=>~~((et+.5)/365.241)+(_e>0?1:-1)});function e$1(et){return et&&et.__esModule&&Object.prototype.hasOwnProperty.call(et,"default")?et.default:et}e$1({name:"persian_fa",months:[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],weekDays:[["",""],["",""],["",""],["",""],["",""],["",""],["",""]],digits:["","","","","","","","","",""],meridiems:[["  ","."],["  ","."]]});const ModalTimeLine=({darkMode:et,collectionScenes:_e,setCollections:tt,selectedCollection:rt,collections:nt,setSelectedCollection:st,collectionSelected:it})=>{const{isOpen:at,onOpen:ot,onOpenChange:lt}=useDisclosure(),[ct,ut]=reactExports.useState("");reactExports.useState(null),reactExports.useState(null),reactExports.useState(""),reactExports.useState("");const[dt,ft]=reactExports.useState(null),{setIsLoading:ht,scenes:pt,url:gt,setScenes:mt,setFlagReset:bt,flagReset:vt,socket:yt,setFilteredScenes:xt,setActiveProgram:Et,activeProgram:wt,timeLine:$t,setTimeLine:Tt}=useMyContext();reactExports.useEffect(()=>{var Mt,Ot;Tt(((Ot=(Mt=nt.find(jt=>jt.id===rt))==null?void 0:Mt.schedules)==null?void 0:Ot.map(jt=>({...jt,id:jt.id,scene_id:jt.scene_id,duration:jt.duration})))??[])},[at]);const St=async()=>{if(!ct||!dt){alert("     .");return}try{ht(!0);const Mt=await api.addSceneToProgram(gt,it.id,ct.currentKey,dt,!1);let Ot=null;Tt(jt=>{const Ut={...Mt,id:Mt.id,scene_id:Mt.scene_id,duration:Mt.duration,scene:pt.find(_t=>_t.id==ct.currentKey)};return Ot=[...jt,Ut],Ot}),tt(jt=>jt.map(Ut=>Ut.id===it.id?{...Ut,schedules:Ot}:Ut)),xt(Ot),bt(!vt)}catch(Mt){console.log(Mt)}finally{ht(!1)}Dt()},Pt=async(Mt,Ot,jt)=>{await api.deleteProgramSchedule(gt,Mt.id),Tt(_t=>_t.filter((It,Wt)=>Wt!==Ot));const Ut=nt.map(_t=>{if(_t.id===jt.id){const It=_t.schedules.filter(Wt=>Wt.id!==Mt.id);return{..._t,schedules:It}}return _t});tt(Ut)},At=async Mt=>{if(Mt===0)return;const Ot=jt=>{const Ut=[...jt];return[Ut[Mt],Ut[Mt-1]]=[Ut[Mt-1],Ut[Mt]],Ut};Tt(jt=>Ot(jt)),await api.updateProgramScheduleOrders(gt,it.id,{schedules:Ot($t)})},Rt=async Mt=>{if(Mt===$t.length-1)return;const Ot=jt=>{const Ut=[...jt];return[Ut[Mt],Ut[Mt+1]]=[Ut[Mt+1],Ut[Mt]],Ut};Tt(jt=>Ot(jt)),await api.updateProgramScheduleOrders(gt,it.id,{schedules:Ot($t)})},Ct=()=>{wt==rt&&(yt.emit("activate-program",rt),Et(rt)),lt(!1)},Dt=()=>{ft(0)},Ft=(Mt=null)=>{st(Mt?Mt.id:[]),ot()};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(tooltip_default,{content:"  ",placement:"top",children:jsxRuntimeExports.jsx(button_default,{className:`${et?"text-white":"text-black"} min-w-fit h-fit p-1`,size:"sm",variant:"flat",color:"default",onPress:Mt=>{Ft(it)},children:jsxRuntimeExports.jsx(PiTimerBold,{size:15})})}),jsxRuntimeExports.jsx(modal_default,{scrollBehavior:"outside",isOpen:at,onOpenChange:lt,className:"rounded-lg bg-white text-black",children:jsxRuntimeExports.jsx(modal_content_default,{children:Mt=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(modal_header_default,{className:"text-lg font-bold border-b pb-2",children:" "}),jsxRuntimeExports.jsxs(modal_body_default,{children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-4",children:[jsxRuntimeExports.jsx(select_default,{className:"w-full",placeholder:" ",selectedKeys:ct,defaultSelectedKeys:ct,onSelectionChange:ut,"aria-label":" ",children:pt.map(Ot=>jsxRuntimeExports.jsx(listbox_item_base_default,{value:Ot.id,children:Ot.name},Ot.id))}),jsxRuntimeExports.jsx("div",{className:"flex gap-4",children:jsxRuntimeExports.jsx(input_default,{className:"w-full",label:"   ",type:"number",value:dt,max:3e7,min:1,onChange:Ot=>{Ot.target.value<=3e7&&Ot.target.value>=1&&ft(Ot.target.value)}})}),jsxRuntimeExports.jsxs(button_default,{color:"primary",className:"flex items-center gap-2 justify-center w-full",onPress:St,children:[jsxRuntimeExports.jsx(FaPlus,{}),"    "]})]}),jsxRuntimeExports.jsxs("div",{dir:"rtl",className:"mt-4",children:[jsxRuntimeExports.jsx("div",{children:" :"}),($t==null?void 0:$t.length)>0?jsxRuntimeExports.jsx("ul",{className:"flex flex-col gap-2",children:$t==null?void 0:$t.map((Ot,jt)=>jsxRuntimeExports.jsxs("li",{className:"flex items-center justify-between p-3 shadow-md bg-gray-100 text-black rounded-md",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm",children:[jsxRuntimeExports.jsxs("strong",{dir:"rtl",children:[Ot.scene.name,":"]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:" :"})," ",Ot.duration]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(button_default,{size:"sm",variant:"flat",color:"primary",onPress:()=>At(jt),"aria-label":"   ",children:jsxRuntimeExports.jsx(FaArrowUp,{})}),jsxRuntimeExports.jsx(button_default,{size:"sm",variant:"flat",color:"primary",onPress:()=>Rt(jt),"aria-label":"   ",children:jsxRuntimeExports.jsx(FaArrowDown,{})}),jsxRuntimeExports.jsx(button_default,{size:"sm",variant:"flat",color:"danger",onPress:()=>Pt(Ot,jt,it),"aria-label":" ",children:jsxRuntimeExports.jsx(FaTrashAlt,{})})]})]},jt))}):jsxRuntimeExports.jsx("p",{className:"text-center text-gray-500",children:"   ."})]})]}),jsxRuntimeExports.jsxs(modal_footer_default,{className:"flex justify-between",children:[jsxRuntimeExports.jsx(button_default,{color:"danger",variant:"light",onPress:Mt,className:"w-1/3",children:""}),jsxRuntimeExports.jsx(button_default,{color:"primary",onPress:()=>{Ct(),Mt()},className:"w-2/3",children:""})]})]})})})]})};function GoBroadcast(et){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20.485 2.515a.75.75 0 0 0-1.06 1.06A10.465 10.465 0 0 1 22.5 11c0 2.9-1.174 5.523-3.075 7.424a.75.75 0 0 0 1.06 1.061A11.965 11.965 0 0 0 24 11c0-3.314-1.344-6.315-3.515-8.485Zm-15.91 1.06a.75.75 0 0 0-1.06-1.06A11.965 11.965 0 0 0 0 11c0 3.313 1.344 6.314 3.515 8.485a.75.75 0 0 0 1.06-1.06A10.465 10.465 0 0 1 1.5 11c0-2.9 1.174-5.524 3.075-7.425ZM8.11 7.11a.75.75 0 0 0-1.06-1.06A6.98 6.98 0 0 0 5 11a6.98 6.98 0 0 0 2.05 4.95.75.75 0 0 0 1.06-1.061 5.48 5.48 0 0 1-1.61-3.89 5.48 5.48 0 0 1 1.61-3.888Zm8.84-1.06a.75.75 0 1 0-1.06 1.06A5.48 5.48 0 0 1 17.5 11a5.48 5.48 0 0 1-1.61 3.889.75.75 0 1 0 1.06 1.06A6.98 6.98 0 0 0 19 11a6.98 6.98 0 0 0-2.05-4.949ZM14 11a2 2 0 0 1-1.25 1.855v8.395a.75.75 0 0 1-1.5 0v-8.395A2 2 0 1 1 14 11Z"},child:[]}]})(et)}const CollectionsSidebar=()=>{const{isOpen:et,onOpen:_e,onClose:tt}=useDisclosure(),[rt,nt]=reactExports.useState(""),[st,it]=reactExports.useState(!1),[at,ot]=reactExports.useState(null),{setIsLoading:lt,setSelectedScene:ct,collections:ut,setCollections:dt,selectedCollection:ft,setSelectedCollection:ht,filteredScenes:pt,url:gt,darkMode:mt,socket:bt,setActiveProgram:vt,activeProgram:yt,scenes:xt,editingSceneId:Et,setEditingSceneId:wt,addScene:$t,setScenes:Tt,deleteScene:St,handleEditSceneName:Pt,setSources:At,sources:Rt,selectedScene:Ct,generateScene:Dt,videoWalls:Ft,createNewStage:Mt}=useMyContext(),Ot=xt.filter(Bt=>pt==null?void 0:pt.some(Qt=>Qt.id===Bt.id));xt.filter(Bt=>!(pt!=null&&pt.some(Qt=>Qt.id===Bt.id)));const jt=Bt=>{var Qt,Nt,Xt,Zt;ht(Bt),localStorage.setItem("sceneId",((Nt=(Qt=ut.find(Yt=>Yt.id==Bt))==null?void 0:Qt.schedules[0])==null?void 0:Nt.scene_id)??null),ct(((Zt=(Xt=ut.find(Yt=>Yt.id==Bt))==null?void 0:Xt.schedules[0])==null?void 0:Zt.scene_id)??null)},Ut=(Bt=null)=>{Bt?(Bt.id,ot(Bt.id),nt(Bt.name)):(ot(null),nt("")),_e()},_t=async()=>{if(rt.length<=0){it(!0);return}if(it(!1),at){const Bt=ut.map(Qt=>{if(Qt.id===at){let Nt={...Qt,name:rt},Xt=[...Qt.schedules];for(const Zt of Ot){const Yt=api.addSceneToProgram(gt,Qt.id,Zt,60,!0);Xt.push(Yt)}return Nt.schedules=Xt,api.updateProgram(gt,Qt.id,{name:rt}),Nt}return Qt});dt(Bt)}else try{lt(!0);let Qt={id:(await api.createProgram(gt,{name:rt,metadata:{}})).id,name:rt,schedules:[]};dt(Nt=>[...Nt,Qt]),ht(Qt.id),localStorage.removeItem("sceneId"),ct(null)}catch(Bt){console.log(Bt)}finally{lt(!1)}tt()},It=Bt=>{ut.length<=1?Swal$1.fire({title:"      ",icon:"warning",confirmButtonColor:"limegreen",confirmButtonText:" "}):Swal$1.fire({title:"  ",icon:"warning",showCancelButton:!0,cancelButtonText:"",confirmButtonColor:"limegreen",cancelButtonColor:"#d33",confirmButtonText:""}).then(async Qt=>{Qt.isConfirmed&&(dt(Nt=>(Nt.find(Xt=>{if(Xt.id==Bt){let Zt=ut.indexOf(Xt);Zt==0&&ht(ut[Zt+1].id),Zt>=1&&ht(ut[Zt-1].id)}}),Nt.filter(Xt=>Xt.id!==Bt))),api.deleteProgram(gt,Bt))})},Wt=async Bt=>{if(Ct==Bt.id)return;localStorage.setItem("sceneId",Bt.id),ct(Bt.id);const Qt=xt.find(Yt=>Yt.id===Bt.id).layer;let Nt=xt.find(Yt=>Yt.id===Bt.id);const Xt=await api.getSceneById(gt,Bt.id);At(Xt.sources);let Zt=!0;Qt&&(Qt.getChildren().forEach(Yt=>{typeof Yt.getAttr("catFix")>"u"&&(Zt=!1)}),Qt.draw()),Xt.sources&&Xt.sources.length>0&&Qt&&Zt&&Dt(Xt.sources,Nt)},Kt=Bt=>{Swal$1.fire({title:"     ",icon:"warning",showCancelButton:!0,cancelButtonText:"",confirmButtonColor:"limegreen",cancelButtonColor:"#d33",confirmButtonText:""}).then(async Qt=>{Qt.isConfirmed&&(bt.emit("activate-program",Bt),vt(Bt))})};return jsxRuntimeExports.jsxs("div",{dir:"rtl",className:"p-2 rounded-lg h-full overflow-auto scrollbar-hide",style:{color:mt?"#ffffff":"#000000"},children:[jsxRuntimeExports.jsx("div",{className:"sticky top-[-10px] z-[50] px-3 py-[2px] bg-inherit",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-3",children:[jsxRuntimeExports.jsx("h2",{className:"text-md font-semibold",children:" "}),jsxRuntimeExports.jsx(button_default,{className:`${mt?"text-white":"text-black"} min-w-fit h-fit p-1 text-xl`,size:"lg",variant:"light",color:"default",onPress:()=>Ut(null),children:jsxRuntimeExports.jsx(MdAddBox,{})})]})}),jsxRuntimeExports.jsx(accordion_default,{variant:"splitted",isCompact:!0,children:ut==null?void 0:ut.map(Bt=>jsxRuntimeExports.jsx(accordion_item_base_default,{className:`  ${ft===Bt.id?mt?"bg-primary-700 ":"bg-primary-500 text-white":mt?"bg-gray-600":""} `,"aria-label":Bt.name,onPress:()=>jt(Bt.id),title:jsxRuntimeExports.jsxs("div",{className:`text-sm ${ft===Bt.id?"text-white":""} flex-col items-center justify-between w-full p-2  `,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[Bt.id==yt&&jsxRuntimeExports.jsx("video",{className:"ml-2",width:"50",height:"20",controls:!1,muted:!0,loop:!0,autoPlay:!0,children:jsxRuntimeExports.jsx("source",{src:"/pulseAnim.webm",type:"video/webm"})}),jsxRuntimeExports.jsx("span",{className:`truncate ${mt?"text-white":""}`,children:Bt.name})]}),jsxRuntimeExports.jsxs("div",{className:"flex mt-3 gap-1",children:[jsxRuntimeExports.jsx(tooltip_default,{content:" ",children:jsxRuntimeExports.jsx(button_default,{className:`${mt?"text-white":"text-black"} min-w-fit h-fit p-1`,size:"sm",variant:"flat",color:"default",onPress:Qt=>{Ut(Bt)},children:jsxRuntimeExports.jsx(MdEdit,{size:15})})}),jsxRuntimeExports.jsx(ModalTimeLine,{setCollections:dt,darkMode:mt,collectionScenes:pt,collections:ut,selectedCollection:ft,setSelectedCollection:ht,collectionSelected:Bt}),jsxRuntimeExports.jsx(tooltip_default,{content:" ",children:jsxRuntimeExports.jsx(button_default,{className:`${mt?"text-white":"text-black"} min-w-fit h-fit p-1`,size:"sm",variant:"flat",color:"default",onPress:Qt=>{It(Bt.id)},children:jsxRuntimeExports.jsx(FaTrashAlt,{size:15})})}),jsxRuntimeExports.jsx(tooltip_default,{content:"  ",children:jsxRuntimeExports.jsx(button_default,{className:`${mt?"text-white":"text-black"} min-w-fit h-fit p-1`,size:"sm",variant:"flat",color:"default",onPress:Qt=>{Kt(Bt.id)},children:jsxRuntimeExports.jsx(GoBroadcast,{size:15})})})]})]}),children:jsxRuntimeExports.jsx("ul",{className:"flex pb-4 flex-col gap-2",children:Ot.length>=1?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Ot==null?void 0:Ot.map(Qt=>jsxRuntimeExports.jsx("li",{className:"flex items-center justify-between",children:Et===Qt.id?jsxRuntimeExports.jsx("input",{type:"text",defaultValue:Qt.name,onBlur:Nt=>Pt({id:Qt.id,newName:Nt.target.value,setScenes:Tt,setIsLoading:lt,url:gt,setEditingSceneId:wt}),className:"p-1 rounded-md bg-gray-700 text-white w-full",autoFocus:!0}):jsxRuntimeExports.jsxs("div",{className:`p-1 px-2 cursor-pointer flex justify-between rounded-md transition-colors duration-200 w-full ${Ct===Qt.id?"bg-blue-500 text-white":mt?"bg-gray-800 hover:bg-gray-700":"bg-gray-400 hover:bg-gray-500"}`,onDoubleClick:()=>wt(Qt.id),onClick:()=>Wt(Qt),children:[jsxRuntimeExports.jsx("span",{className:"flex-grow font-semibold",children:Qt.name}),jsxRuntimeExports.jsx("div",{className:"flex gap-1",children:jsxRuntimeExports.jsx(tooltip_default,{content:" ",children:jsxRuntimeExports.jsx(button_default,{className:"min-w-fit h-fit p-1",size:"sm",variant:"flat",color:"default",onPress:()=>St({id:Qt.id,setIsLoading:lt,scenes:xt,sources:Rt,setScenes:Tt,setSources:At,selectedScene:Ct,setSelectedScene:ct,url:gt,collections:ut,setCollections:dt}),disabled:xt.length===1,children:jsxRuntimeExports.jsx(FaTrashAlt,{size:14})})})})]})},Qt.id))}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:"  ."})})},Bt.id))}),jsxRuntimeExports.jsx(modal_default,{scrollBehavior:"outside",dir:"rtl",isOpen:et,onClose:tt,children:jsxRuntimeExports.jsxs(modal_content_default,{children:[jsxRuntimeExports.jsx(modal_header_default,{className:"mt-5",children:jsxRuntimeExports.jsx(input_default,{placeholder:" ",value:rt,isInvalid:rt?!1:st,onChange:Bt=>nt(Bt.target.value)})}),jsxRuntimeExports.jsx(modal_footer_default,{children:jsxRuntimeExports.jsx(button_default,{className:"w-full",color:"primary",onPress:()=>_t(),children:""})})]})})]})};var toolbar={};Object.defineProperty(toolbar,"__esModule",{value:!0});var e=reactExports,t=require$$1;function r(et){return et&&typeof et=="object"&&"default"in et?et:{default:et}}var o=r(e),n=r(t);function a(et,_e){var tt=Object.keys(et);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(et);_e&&(rt=rt.filter(function(nt){return Object.getOwnPropertyDescriptor(et,nt).enumerable})),tt.push.apply(tt,rt)}return tt}function l(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e]!=null?arguments[_e]:{};_e%2?a(Object(tt),!0).forEach(function(rt){i(et,rt,tt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(tt)):a(Object(tt)).forEach(function(rt){Object.defineProperty(et,rt,Object.getOwnPropertyDescriptor(tt,rt))})}return et}function i(et,_e,tt){return(_e=function(rt){var nt=function(st,it){if(typeof st!="object"||st===null)return st;var at=st[Symbol.toPrimitive];if(at!==void 0){var ot=at.call(st,it||"default");if(typeof ot!="object")return ot;throw new TypeError("@@toPrimitive must return a primitive value.")}return(it==="string"?String:Number)(st)}(rt,"string");return typeof nt=="symbol"?nt:String(nt)}(_e))in et?Object.defineProperty(et,_e,{value:tt,enumerable:!0,configurable:!0,writable:!0}):et[_e]=tt,et}function d(){return d=Object.assign?Object.assign.bind():function(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(et[rt]=tt[rt])}return et},d.apply(this,arguments)}function c(et,_e){if(et==null)return{};var tt,rt,nt=function(it,at){if(it==null)return{};var ot,lt,ct={},ut=Object.keys(it);for(lt=0;lt<ut.length;lt++)ot=ut[lt],at.indexOf(ot)>=0||(ct[ot]=it[ot]);return ct}(et,_e);if(Object.getOwnPropertySymbols){var st=Object.getOwnPropertySymbols(et);for(rt=0;rt<st.length;rt++)tt=st[rt],_e.indexOf(tt)>=0||Object.prototype.propertyIsEnumerable.call(et,tt)&&(nt[tt]=et[tt])}return nt}function s(et,_e){var tt=[];return["left","right"].includes(et)?(_e.left&&tt.push("rmdp-border-left"),_e.right&&tt.push("rmdp-border-right")):(_e.top&&tt.push("rmdp-border-top"),_e.bottom&&tt.push("rmdp-border-bottom")),tt.join(" ")}var u=["state","setState","position","registerListener","calendarProps","datePickerProps","handleChange","nodes","Calendar","DatePicker","handlePropsChange","handleFocusedDate","minDate","maxDate"];(function(et,_e){_e===void 0&&(_e={});var tt=_e.insertAt;if(et&&typeof document<"u"){var rt=document.head||document.getElementsByTagName("head")[0],nt=document.createElement("style");nt.type="text/css",tt==="top"&&rt.firstChild?rt.insertBefore(nt,rt.firstChild):rt.appendChild(nt),nt.styleSheet?nt.styleSheet.cssText=et:nt.appendChild(document.createTextNode(et))}})(".rmdp-toolbar{display:flex;flex-wrap:wrap;justify-content:space-around}.rmdp-toolbar div{background-color:#0074d9;border-radius:3px;color:#fff;cursor:pointer;flex-basis:31%;font-size:12px;line-height:22px;margin:5px 0;padding:3px 0}.rmdp-toolbar div:hover{box-shadow:0 0 5px #8798ad;transition:.4s}.rmdp-toolbar.left,.rmdp-toolbar.right{display:grid}.rmdp-toolbar.left div,.rmdp-toolbar.right div{margin:5px 3px;padding:0 5px;text-orientation:mixed;writing-mode:vertical-rl}.green .rmdp-toolbar div{background-color:#3d9970}.purple .rmdp-toolbar div{background-color:#9c27b0}.red .rmdp-toolbar div{background-color:#ea0034}.teal .rmdp-toolbar div{background-color:#009688}.yellow .rmdp-toolbar div{background-color:#f7da37}");var p=["state","handleChange","position","calendarProps","nodes","className","names","sort","handleFocusedDate","DatePicker"];toolbar.default=function(et){var _e=et.state,tt=et.handleChange,rt=et.position;et.calendarProps;var nt=et.nodes,st=et.className,it=et.names,at=et.sort,ot=at===void 0?["today","deselect","close"]:at,lt=et.handleFocusedDate,ct=et.DatePicker,ut=c(et,p),dt=_e.range,ft=_e.multiple,ht=_e.date.locale,pt={fa:{today:"",deselect:"",close:""},en:{today:"Today",deselect:"Deselect",close:"Close"}},gt=it||pt[function(yt){return yt&&yt.name?yt.name.split("_")[1]:""}(ht)]||pt.en,mt=["rmdp-toolbar",rt,s(rt,nt)];return o.default.createElement("div",d({className:"".concat(mt.join(" ")," ").concat(st)},function(yt){return yt.state,yt.setState,yt.position,yt.registerListener,yt.calendarProps,yt.datePickerProps,yt.handleChange,yt.nodes,yt.Calendar,yt.DatePicker,yt.handlePropsChange,yt.handleFocusedDate,yt.minDate,yt.maxDate,c(yt,u)}(ut)),ot.map(function(yt,xt){return{today:o.default.createElement("div",{key:xt,onClick:bt},gt.today),deselect:o.default.createElement("div",{key:xt,onClick:vt},gt.deselect),close:ct&&o.default.createElement("div",{key:xt,onClick:function(){return ct.closeCalendar()}},gt.close)}[yt]}));function bt(){var yt=_e.calendar,xt=_e.format,Et=_e.selectedDate,wt=new n.default({calendar:yt,locale:ht,format:xt});dt?(Et||(Et=[]),Et.length===0?Et.push(wt):Et.length===2?Et=[wt]:Et.length===1&&(Et.push(wt),Et.sort(function($t,Tt){return $t-Tt}))):Et=ft?[wt]:wt,tt(Et,l(l({},_e),{},{selectedDate:Et})),lt(wt)}function vt(){var yt=dt||ft?[]:null;tt(yt,l(l({},_e),{},{selectedDate:yt})),lt()}};const ModalMonitorSelection=({videoName:et,monitors:_e,fitToMonitors:tt,darkMode:rt,item:nt,uniqId:st})=>{const{isOpen:it,onOpen:at,onOpenChange:ot,onClose:lt}=useDisclosure(),[ct,ut]=reactExports.useState([]),{getSelectedScene:dt,allDataMonitors:ft,sendOperation:ht}=useMyContext(),pt=mt=>{ut(bt=>bt.includes(mt)?bt.filter(vt=>vt!==mt):[...bt,mt])},gt=()=>{tt({uniqId:et,selectedMonitors:ct,getSelectedScene:dt,allDataMonitors:ft,sendOperation:ht,id:st}),lt(),location.reload()};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(tooltip_default,{content:"   ",children:jsxRuntimeExports.jsx(button_default,{className:`${rt?"text-white":"text-black"} min-w-fit h-fit p-1`,size:"md",variant:"light",color:"default",onPress:at,children:jsxRuntimeExports.jsx(MdWindow,{size:15})})}),jsxRuntimeExports.jsx(modal_default,{scrollBehavior:"outside",isOpen:it,onOpenChange:ot,children:jsxRuntimeExports.jsx(modal_content_default,{children:mt=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(modal_header_default,{children:" "}),jsxRuntimeExports.jsx(modal_body_default,{children:jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-2",children:_e.map((bt,vt)=>jsxRuntimeExports.jsx("div",{className:"flex items-center",children:jsxRuntimeExports.jsx(checkbox_default,{isSelected:ct.includes(vt),onChange:()=>pt(vt),children:`Monitor ${bt.name} (${bt.width}x${bt.height})`})},vt))})}),jsxRuntimeExports.jsxs(modal_footer_default,{children:[jsxRuntimeExports.jsx(button_default,{color:"danger",variant:"light",onPress:mt,children:""}),jsxRuntimeExports.jsx(button_default,{color:"primary",onPress:gt,children:""})]})]})})})]})},TYPE_ICON={IMAGE:FaImage,VIDEO:FaVideo,IFRAME:FaGlobe,TEXT:FaFont,INPUT:MdInput,STREAM:FaStream,RSS:FaRss},TYPE_COLOR={IMAGE:"success",VIDEO:"primary",IFRAME:"warning",TEXT:"secondary",STREAM:"danger",RSS:"warning"},UsageSidebar=()=>{const[et,_e]=reactExports.useState(null),[tt,rt]=reactExports.useState(""),{darkMode:nt,setScenes:st,selectedScene:it,sources:at,setSources:ot,allDataMonitors:lt,getSelectedScene:ct,deleteSourceFromScene:ut,fitToMonitors:dt,sendOperation:ft,selectedSource:ht,setSelectedSource:pt}=useMyContext(),gt=reactExports.useMemo(()=>{var St;const Tt=(St=ct())==null?void 0:St.id;return Tt?at.filter(Pt=>Pt.sceneId===Tt).slice().sort((Pt,At)=>{const Rt=Number(Pt.z??Pt.zIndex??0);return Number(At.z??At.zIndex??0)-Rt}):[]},[at,it]),mt=Tt=>Tt.type==="INPUT"?ht===Tt.uniqId:ht===Tt.externalId,bt=(Tt,St,Pt=!0)=>{ot(At=>At.map(Rt=>Rt.externalId===Tt?{...Rt,name:St}:Rt)),Pt?ft("source",{action:"resize",id:Tt,payload:{name:St}}):st(At=>At.map(Rt=>{if(Rt.id!==it)return Rt;const Ct=Rt.usageSources.map(Dt=>Dt.externalId===Tt?{...Dt,name:St,content:St}:Dt);return{...Rt,usageSources:Ct}}))},vt=Tt=>{_e(Tt.externalId),rt(Tt.name||"")},yt=Tt=>{bt(Tt,tt),_e(null),rt("")},xt=(Tt,St)=>{Tt.key==="Enter"&&yt(St),Tt.key==="Escape"&&(_e(null),rt(""))};let Et=1,wt=1;const $t=(Tt,St)=>{var Ft,Mt;const Pt=[...at],Rt=(Pt.find(Ot=>Ot.externalId===Tt).z??0)+-St;if(Rt<0||Rt>=Pt.length)return;let Ct;ot(Ot=>{let jt=[];for(let Ut=0;Ut<at.length;Ut++)at[Ut].externalId===Tt?St<0?(Et=at[Ut].z??Et,at[Ut].z=Et+1,Et=at[Ut].z,jt.push(at[Ut]),Ct=at[Ut]):(wt=at[Ut].z??wt,at[Ut].z=wt-1,wt=at[Ut].z,jt.push(at[Ut]),Ct=at[Ut]):jt.push(at[Ut]);return jt});const Dt=(Ft=ct())==null?void 0:Ft.layer.findOne(`#${Tt}`);Dt&&(St>0?Dt.moveDown():Dt.moveUp(),ft("source",{action:"move",id:Tt,payload:{z:Ct.z}}),(Mt=ct())==null||Mt.layer.draw())};return jsxRuntimeExports.jsxs("div",{dir:"rtl",className:"p-2 rounded-lg h-full overflow-auto flex flex-col",style:{color:nt?"#ffffff":"#000000"},children:[jsxRuntimeExports.jsx("div",{className:"sticky top-[-10px] z-[50] px-3 py-[6px] bg-inherit",children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsxs("h2",{className:"text-md font-semibold flex items-center gap-2",children:[" ",jsxRuntimeExports.jsx(chip_default,{size:"sm",color:"primary",variant:"flat",children:gt.length})]})})}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-hide",children:jsxRuntimeExports.jsx("ul",{className:"flex flex-col gap-2",children:gt.map(Tt=>{var At,Rt;const St=((At=Tt.media)==null?void 0:At.type)||Tt.type||"TEXT",Pt=TYPE_ICON[St]||FaFont;return mt(Tt),jsxRuntimeExports.jsxs("li",{onClick:()=>{var Mt;const Ct=(Mt=ct())==null?void 0:Mt.layer;if(!Ct)return;Ct.find("Transformer").forEach(Ot=>{Ot.attrs.id!==Tt.externalId&&Ot.detach()}),Ct.find("Group").forEach(Ot=>{Ot.attrs.id!==Tt.externalId&&Ot.draggable(!1)}),Ct.draw();const Dt=Ct.findOne(`#${Tt.externalId}`);if(!Dt)return;let Ft=Ct.findOne("Transformer");Ft?Ft.nodes([Dt]):(Ft=new Konva.Transformer({nodes:[Dt],enabledAnchors:["top-left","top-right","bottom-left","bottom-right"],rotateEnabled:!0}),Ct.add(Ft)),Dt.draggable(!0),Ct.batchDraw(),pt(Tt.externalId)},className:`text-sm  cursor-pointer flex flex-wrap items-center justify-between  ${St=="INPUT",ht==Tt.externalId?"bg-blue-500":nt?"bg-gray-700":"bg-gray-300"} p-2 rounded-md shadow-sm`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[jsxRuntimeExports.jsx(chip_default,{size:"sm",color:TYPE_COLOR[St]||"default",variant:"solid",className:"min-w-[56px] justify-center p-0",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("span",{children:Tt.z??1}),jsxRuntimeExports.jsx(Pt,{size:12}),jsxRuntimeExports.jsx("span",{className:"text-[10px]",children:St})]})}),et===Tt.externalId?jsxRuntimeExports.jsx("input",{className:"px-2 py-[2px] rounded bg-white text-black text-sm w-[180px] outline-none",value:tt,onChange:Ct=>rt(Ct.target.value),onBlur:()=>yt(Tt.externalId),onKeyDown:Ct=>xt(Ct,Tt.externalId),autoFocus:!0}):jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 min-w-0",children:[jsxRuntimeExports.jsx("span",{className:`truncate max-w-[180px] text-sm ${nt?"text-white":"text-black"}`,title:Tt.name,onDoubleClick:()=>vt(Tt),children:Tt.name}),jsxRuntimeExports.jsx(tooltip_default,{content:" ",children:jsxRuntimeExports.jsx("button",{className:"p-1 rounded hover:bg-black/10",onClick:Ct=>{vt(Tt)},"aria-label":"rename",children:jsxRuntimeExports.jsx(FaPen,{size:12})})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[jsxRuntimeExports.jsx(tooltip_default,{content:" ",children:jsxRuntimeExports.jsx(button_default,{size:"sm",variant:"light",className:`${nt?"text-white":"text-black"} min-w-fit h-fit p-1`,onPress:Ct=>{$t(Tt.externalId,-1)},children:jsxRuntimeExports.jsx(FaArrowUp,{size:14})})}),jsxRuntimeExports.jsx(tooltip_default,{content:" ",children:jsxRuntimeExports.jsx(button_default,{size:"sm",variant:"light",className:`${nt?"text-white":"text-black"} min-w-fit h-fit p-1`,onPress:Ct=>{$t(Tt.externalId,1)},children:jsxRuntimeExports.jsx(FaArrowDown,{size:14})})})]}),jsxRuntimeExports.jsx(ModalMonitorSelection,{item:Tt,darkMode:nt,videoName:Tt.externalId,uniqId:Tt.externalId,monitors:lt,fitToMonitors:dt}),(((Rt=Tt==null?void 0:Tt.media)==null?void 0:Rt.type)==="TEXT"||Tt.type==="TEXT"||St==="RSS"||St==="TEXT")&&jsxRuntimeExports.jsx(tooltip_default,{content:" ",children:jsxRuntimeExports.jsx(button_default,{size:"sm",variant:"light",className:`${nt?"text-white":"text-black"} min-w-fit h-fit p-1`,onPress:Ct=>{openTextContextMenuById(Tt.externalId,{getSelectedScene:ct,setSources:ot,sendOperation:ft})},children:jsxRuntimeExports.jsx(FaCog,{size:15})})}),jsxRuntimeExports.jsx(tooltip_default,{content:"  ",children:jsxRuntimeExports.jsx(button_default,{size:"sm",variant:"light",className:`${nt?"text-white":"text-black"} min-w-fit h-fit p-1`,onPress:Ct=>{ut({id:Tt.externalId,getSelectedScene:ct,setSources:ot,sendOperation:ft})},children:jsxRuntimeExports.jsx(MdDelete,{size:16})})})]})]},Tt.externalId)})})})]})},NvidiaMosaicSetup=()=>{const et=[{id:1,name:"Dell Alienware2310",width:1920,height:1080,output:"0,0",refreshRate:60,gpu:"Quadro K6000",gpuId:1},{id:2,name:"Dell Alienware2310",width:1920,height:1080,output:"0,1",refreshRate:60,gpu:"Quadro K6000",gpuId:1},{id:3,name:"Dell Alienware2310",width:1920,height:1080,output:"0,2",refreshRate:60,gpu:"Quadro K6000",gpuId:2},{id:4,name:"Dell Alienware2310",width:1920,height:1080,output:"0,3",refreshRate:60,gpu:"Quadro K6000",gpuId:2},{id:5,name:"Dell Alienware2310",width:1920,height:1080,output:"1,0",refreshRate:59.94,gpu:"RTX 3080",gpuId:1},{id:6,name:"Dell Alienware2310",width:1920,height:1080,output:"1,1",refreshRate:59.94,gpu:"RTX 3080",gpuId:1},{id:7,name:"Dell Alienware2310",width:1920,height:1080,output:"1,2",refreshRate:59.94,gpu:"RTX 3080",gpuId:2}],[_e,tt]=reactExports.useState(!0),[rt,nt]=reactExports.useState(1),[st,it]=reactExports.useState(" Mosaic"),[at,ot]=reactExports.useState("1x4"),[lt,ct]=reactExports.useState("landscape"),[ut,dt]=reactExports.useState(4),[ft,ht]=reactExports.useState([1,2,3,4]),[pt,gt]=reactExports.useState([]);reactExports.useState(0);const[mt,bt]=reactExports.useState(0),[vt,yt]=reactExports.useState(0),[xt,Et]=reactExports.useState("Bezel Correction");reactExports.useState(!1),reactExports.useState(null),reactExports.useState({x:0,y:0}),reactExports.useState({});const[wt,$t]=reactExports.useState([]);reactExports.useState(!1),reactExports.useState(0);const[Tt,St]=reactExports.useState(""),[Pt,At]=reactExports.useState("1920x1080"),[Rt,Ct]=reactExports.useState(60);reactExports.useState(60),reactExports.useRef(null);const Dt=(()=>{const Zt=[];for(let Yt=1;Yt<=4;Yt++)for(let rr=1;rr<=4;rr++)Yt*rr<=ut&&Yt*rr>0&&Zt.push(`${Yt}x${rr}`);return Zt})(),Ft=Zt=>{switch(Zt){case"portrait":return 90;case"landscape":default:return 0}},Mt=()=>{const[Zt,Yt]=at.split("x").map(Number),rr=Array(Zt).fill().map(()=>Array(Yt).fill(null));gt(rr)};reactExports.useEffect(()=>{if(at){Mt();const Zt={rows:parseInt(at.split("x")[0]),cols:parseInt(at.split("x")[1]),position:{x:0,y:0},monitors:[],resolution:"1920x1080",refreshRate:60,rotate:0,overlapCol:0,overlapRow:0};$t([Zt])}},[at]),reactExports.useEffect(()=>{if(at){Mt();const Zt={rows:parseInt(at.split("x")[0]),cols:parseInt(at.split("x")[1]),position:{x:0,y:0},monitors:[],resolution:"1920x1080",refreshRate:60,rotate:0,overlapCol:0,overlapRow:0};$t([Zt])}},[at]),reactExports.useEffect(()=>{rt===4&&wt.length>0&&Ot()},[rt,wt,mt,vt,pt]);const Ot=()=>{let Zt="";wt.forEach((Yt,rr)=>{rr>0&&(Zt+=" nextgrid ");const[ar,sr]=Pt.split("x").map(Number),kt=Ft(lt);Zt+=`rows=${Yt.rows} cols=${Yt.cols} res=${ar},${sr},${Rt} gridPos=${Yt.position.x},${Yt.position.y} `,Yt.monitors.map(Gt=>et.find(zt=>zt.id===Gt)).filter(Boolean).forEach(Gt=>{Gt&&(Zt+=`out=${Gt.output} `)}),Zt+=`rotate=${kt} overlapcol=${mt} overlaprow=${vt}`}),St(Zt)},jt=Zt=>{ot(Zt.target.value)},Ut=Zt=>{ht(Yt=>Yt.includes(Zt)?Yt.filter(rr=>rr!==Zt):[...Yt,Zt])},_t=()=>{rt<4&&nt(rt+1)},It=()=>{rt>1&&nt(rt-1)},Wt=()=>{const[Zt,Yt]=at.split("x").map(Number);return jsxRuntimeExports.jsxs("div",{className:"p-4",dir:"rtl",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold mb-4",children:".  "}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 text-sm font-medium",children:" :"}),jsxRuntimeExports.jsxs("select",{className:"w-32 border border-gray-300 rounded p-2",value:ut,onChange:rr=>dt(parseInt(rr.target.value)),children:[jsxRuntimeExports.jsx("option",{value:"4",children:"4"}),jsxRuntimeExports.jsx("option",{value:"6",children:"6"}),jsxRuntimeExports.jsx("option",{value:"7",children:"7"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 text-sm font-medium",children:" (  ):"}),jsxRuntimeExports.jsx("select",{className:"w-32 border border-gray-300 rounded p-2",value:at,onChange:jt,children:Dt.map(rr=>jsxRuntimeExports.jsx("option",{value:rr,children:rr},rr))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 text-sm font-medium",children:" :"}),jsxRuntimeExports.jsxs("select",{className:"w-32 border border-gray-300 rounded p-2",value:lt,onChange:rr=>ct(rr.target.value),children:[jsxRuntimeExports.jsx("option",{value:"landscape",children:""}),jsxRuntimeExports.jsx("option",{value:"portrait",children:""})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 text-sm font-medium",children:" :"}),jsxRuntimeExports.jsx("input",{type:"text",className:"w-64 border border-gray-300 rounded p-2",value:st,onChange:rr=>it(rr.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center mt-4",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"ml-2",id:"recommended"}),jsxRuntimeExports.jsxs("label",{htmlFor:"recommended",children:["  ",jsxRuntimeExports.jsx("span",{className:"text-blue-600 underline",children:"  "}),"     ."]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"mb-2 font-medium",children:"  :"}),jsxRuntimeExports.jsx("div",{className:"bg-gray-600 p-4 h-64 flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"grid gap-1 bg-white",style:{gridTemplateColumns:`repeat(${Yt}, 1fr)`,gridTemplateRows:`repeat(${Zt}, 1fr)`,width:`${Yt*80}px`,height:`${Zt*60}px`},children:Array.from({length:Zt*Yt}).map((rr,ar)=>jsxRuntimeExports.jsx("div",{className:"border border-gray-900 bg-white"},ar))})})]})]})]})},Kt=()=>{const Zt={};return et.forEach(Yt=>{const rr=`${Yt.gpu} (${Yt.gpuId})`;Zt[rr]||(Zt[rr]=[]),Zt[rr].push(Yt)}),jsxRuntimeExports.jsxs("div",{className:"p-4",dir:"rtl",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold mb-4",children:".  "}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"border border-gray-300 p-3 bg-white",children:[jsxRuntimeExports.jsxs("div",{className:"mb-2 font-medium",children:["  Mosaic: (",ft.length,"  )"]}),jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"border-b",children:[jsxRuntimeExports.jsx("th",{className:"py-1 text-right"}),jsxRuntimeExports.jsx("th",{className:"py-1 text-right",children:""}),jsxRuntimeExports.jsx("th",{className:"py-1 text-right",children:" "})]})}),jsxRuntimeExports.jsx("tbody",{children:Object.entries(Zt).map(([Yt,rr])=>jsxRuntimeExports.jsxs(React.Fragment,{children:[jsxRuntimeExports.jsx("tr",{className:"bg-gray-100",children:jsxRuntimeExports.jsx("td",{colSpan:"3",className:"py-2 px-1 font-medium text-blue-600",children:Yt})}),rr.map(ar=>jsxRuntimeExports.jsxs("tr",{className:"border-b",children:[jsxRuntimeExports.jsx("td",{className:"py-1",children:jsxRuntimeExports.jsx("input",{type:"checkbox",checked:ft.includes(ar.id),onChange:()=>Ut(ar.id)})}),jsxRuntimeExports.jsxs("td",{className:"py-1",children:[ar.id,". ",ar.name]}),jsxRuntimeExports.jsx("td",{className:"py-1",children:jsxRuntimeExports.jsx("span",{className:"bg-green-600 text-white px-1 rounded",children:""})})]},ar.id))]},Yt))})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-1",children:" :"}),jsxRuntimeExports.jsxs("select",{className:"border border-gray-300 rounded p-1 w-32",value:Rt,onChange:Yt=>Ct(parseFloat(Yt.target.value)),children:[jsxRuntimeExports.jsx("option",{value:"60",children:"60 "}),jsxRuntimeExports.jsx("option",{value:"59.94",children:"59.94 "})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-1",children:"  :"}),jsxRuntimeExports.jsxs("select",{className:"border border-gray-300 rounded p-1 w-40",value:Pt,onChange:Yt=>At(Yt.target.value),children:[jsxRuntimeExports.jsx("option",{value:"1920x1080",children:"1920  1080"}),jsxRuntimeExports.jsx("option",{value:"2560x1440",children:"2560  1440"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-1",children:" :"}),jsxRuntimeExports.jsx("div",{className:"text-sm p-1 border border-gray-200 bg-gray-50 w-40",children:at==="2x2"?"3840  2160 ":"7680  1080 "})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 p-3 border border-gray-200 bg-gray-50 rounded",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"bg-green-500 text-white rounded-full w-6 h-6 flex items-center justify-center ml-2",children:""}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{children:[ft.length,"     Mosaic  ."]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600",children:"             ."})]})]})})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6",children:[jsxRuntimeExports.jsx("div",{className:"mb-2 font-medium",children:"   :"}),jsxRuntimeExports.jsx("div",{className:"bg-gray-600 p-4 h-48 flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"flex flex-row gap-4",children:ft.map(Yt=>{const rr=et.find(ar=>ar.id===Yt);return jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-teal-400 to-green-400 w-24 h-16 border border-gray-700 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center text-white",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:Yt}),jsxRuntimeExports.jsx("div",{className:"text-xs",children:rr==null?void 0:rr.output})]})},Yt)})})})]})]})},Bt=()=>{const[Zt,Yt]=at.split("x").map(Number),rr=pt.flat().filter(Boolean).map(kt=>kt.id),ar=()=>{const kt=Array(Zt).fill().map(()=>Array(Yt).fill(null));gt(kt);const er={...wt[0],monitors:[]};$t([er]),setTimeout(()=>{Ot()},0)},sr=(kt,er,Gt)=>{var lr;const zt=[...pt];if(zt[kt][er]&&(zt[kt][er]=null),Gt){const dr=et.find(Jt=>Jt.id===parseInt(Gt));for(let Jt=0;Jt<zt.length;Jt++)for(let nr=0;nr<zt[Jt].length;nr++)((lr=zt[Jt][nr])==null?void 0:lr.id)===parseInt(Gt)&&(zt[Jt][nr]=null);dr&&(zt[kt][er]=dr)}gt(zt);const Vt=zt.flat().filter(Boolean).map(dr=>dr.id),Ht={...wt[0],monitors:Vt};$t([Ht]),setTimeout(()=>{Ot()},0)};return jsxRuntimeExports.jsxs("div",{className:"p-4",dir:"rtl",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold mb-4",children:".  "}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"font-medium",children:[": ",at]}),jsxRuntimeExports.jsx("button",{className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600",onClick:ar,children:"   "})]}),jsxRuntimeExports.jsx("div",{className:"bg-gray-600 p-4",children:jsxRuntimeExports.jsx("div",{className:"grid gap-2",style:{gridTemplateColumns:`repeat(${Yt}, 1fr)`,gridTemplateRows:`repeat(${Zt}, 1fr)`},children:[...Array(Zt)].map((kt,er)=>[...Array(Yt)].map((Gt,zt)=>{const Vt=pt[er]&&pt[er][zt];return jsxRuntimeExports.jsxs("div",{className:"bg-gray-700 border border-gray-500 p-2 h-full flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"text-white text-xs mb-2 text-right",children:[": ",er,",",zt]}),jsxRuntimeExports.jsxs("select",{className:"bg-gray-800 text-white border border-gray-600 p-2 mb-2 w-full text-right",value:Vt?Vt.id:"",onChange:Ht=>sr(er,zt,Ht.target.value),children:[jsxRuntimeExports.jsx("option",{value:"",children:"--   --"}),et.filter(Ht=>ft.includes(Ht.id)).map(Ht=>jsxRuntimeExports.jsxs("option",{value:Ht.id,disabled:rr.includes(Ht.id)&&(!Vt||Vt.id!==Ht.id),children:[Ht.name," (",Ht.output,")"]},Ht.id))]}),Vt&&jsxRuntimeExports.jsx("div",{className:"flex-grow bg-gradient-to-br from-teal-400 to-green-400 rounded p-2 flex flex-col items-center justify-center overflow-hidden",children:jsxRuntimeExports.jsxs("div",{className:"text-center text-white",children:[jsxRuntimeExports.jsx("div",{className:"text-xl font-bold",children:Vt.id}),jsxRuntimeExports.jsx("div",{className:"text-sm",children:Vt.name}),jsxRuntimeExports.jsx("div",{className:"text-xs mt-1",children:Vt.output}),jsxRuntimeExports.jsxs("div",{className:"text-xs mt-1",children:[Vt.width,"  ",Vt.height]})]})})]},`${er}-${zt}`)}))})}),jsxRuntimeExports.jsxs("div",{className:"font-medium mt-4",children:[" : ",at==="2x2"?"3840  2160":"7680  1080"," "]}),jsxRuntimeExports.jsxs("div",{className:"mt-4",children:[jsxRuntimeExports.jsx("div",{className:"font-medium mb-2",children:"  :"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2",children:[pt.flat().filter(Boolean).map(kt=>{const er=pt.findIndex(zt=>zt.includes(kt)),Gt=pt[er].indexOf(kt);return jsxRuntimeExports.jsxs("div",{className:"bg-blue-100 border border-blue-300 rounded px-3 py-1 text-sm",children:[kt.name," - : ",er,",",Gt]},kt.id)}),pt.flat().filter(Boolean).length===0&&jsxRuntimeExports.jsx("div",{className:"text-gray-500 italic",children:"    "})]})]})]})},Qt=()=>jsxRuntimeExports.jsxs("div",{className:"p-4",dir:"rtl",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold mb-4",children:".     "}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-2",children:"  /    :"}),jsxRuntimeExports.jsxs("select",{className:"border border-gray-300 rounded p-1 w-full mb-4",children:[jsxRuntimeExports.jsx("option",{children:"          "}),jsxRuntimeExports.jsx("option",{children:"       "})]}),jsxRuntimeExports.jsx("div",{className:"mb-4 font-medium",children:"   /   :"}),jsxRuntimeExports.jsx("div",{className:"bg-gray-600 p-4 h-48 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:`relative ${at==="2x2"?"w-48 h-32":"w-96 h-16"}`,children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 border-2 border-gray-300"}),jsxRuntimeExports.jsx("div",{className:`grid w-full h-full ${at.split("x")[1]==="4"?"grid-cols-4 grid-rows-1":at==="2x2"?"grid-cols-2 grid-rows-2":"grid-cols-3 grid-rows-1"}`,children:Array.from({length:ut}).map((Zt,Yt)=>{const rr=Math.floor(Yt/parseInt(at.split("x")[1])),ar=Yt%parseInt(at.split("x")[1]);return jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-teal-400 to-green-400 border border-gray-700 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center text-white",children:[jsxRuntimeExports.jsx("div",{className:"text-lg font-bold",children:Yt+1}),jsxRuntimeExports.jsxs("div",{className:"text-xs",children:[rr,",",ar]})]})},Yt)})}),at==="2x2"&&jsxRuntimeExports.jsx("div",{className:"absolute top-0 bottom-0 w-1 bg-yellow-300 left-1/2 -ml-0.5"})]})}),jsxRuntimeExports.jsxs("div",{className:"mt-4",children:[jsxRuntimeExports.jsxs("div",{className:"font-medium mb-2",children:[" : ",at==="2x2"?"3840  2160":"7680  1080"," "]}),jsxRuntimeExports.jsx("div",{className:"font-medium mb-2",children:" /        :"}),jsxRuntimeExports.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-100",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"border border-gray-300 p-2 text-right",children:""}),jsxRuntimeExports.jsx("th",{className:"border border-gray-300 p-2 text-right",children:" "}),jsxRuntimeExports.jsx("th",{className:"border border-gray-300 p-2 text-right",children:"  ()"})]})}),jsxRuntimeExports.jsxs("tbody",{children:[jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"border border-gray-300 p-2",children:"  "}),jsxRuntimeExports.jsx("td",{className:"border border-gray-300 p-2",children:jsxRuntimeExports.jsxs("select",{className:"w-full border border-gray-300 rounded p-1",value:xt,onChange:Zt=>Et(Zt.target.value),children:[jsxRuntimeExports.jsx("option",{children:" "}),jsxRuntimeExports.jsx("option",{children:""})]})}),jsxRuntimeExports.jsx("td",{className:"border border-gray-300 p-2",children:jsxRuntimeExports.jsx("div",{className:"flex items-center",children:jsxRuntimeExports.jsx("input",{type:"number",className:"w-16 border border-gray-300 rounded p-1 ml-2",value:mt,onChange:Zt=>bt(parseInt(Zt.target.value)||0),min:"0"})})})]}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"border border-gray-300 p-2",children:"  "}),jsxRuntimeExports.jsx("td",{className:"border border-gray-300 p-2",children:jsxRuntimeExports.jsxs("select",{className:"w-full border border-gray-300 rounded p-1",children:[jsxRuntimeExports.jsx("option",{children:" "}),jsxRuntimeExports.jsx("option",{children:""})]})}),jsxRuntimeExports.jsx("td",{className:"border border-gray-300 p-2",children:jsxRuntimeExports.jsx("div",{className:"flex items-center",children:jsxRuntimeExports.jsx("input",{type:"number",className:"w-16 border border-gray-300 rounded p-1 ml-2",value:vt,onChange:Zt=>yt(parseInt(Zt.target.value)||0),min:"0"})})})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6 p-4 bg-gray-800 text-green-300 font-mono text-xs rounded-md overflow-x-auto",children:[jsxRuntimeExports.jsx("div",{className:"mb-2 text-white",children:" NVIDIA Mosaic  :"}),jsxRuntimeExports.jsx("code",{children:Tt||"rows=2 cols=2 res=1920,1080,60.000 gridPos=0,0 out=0,0 out=0,1 out=0,2 out=0,3 rotate=0 overlapcol=0 overlaprow=0"})]})]})]}),Nt=()=>{switch(rt){case 1:return Wt();case 2:return Kt();case 3:return Bt();case 4:return Qt();default:return Wt()}},Xt=()=>tt(!1);return _e?jsxRuntimeExports.jsx("div",{onClick:Xt,className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{onClick:Zt=>Zt.stopPropagation(),className:"bg-white rounded-md shadow-xl w-11/12 max-w-6xl max-h-screen overflow-auto",children:[jsxRuntimeExports.jsxs("div",{className:"border-b border-gray-300 p-2 flex justify-between items-center bg-gradient-to-r from-gray-100 to-gray-200",dir:"rtl",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-6 h-6 bg-gray-300 ml-2 flex items-center justify-center rounded",children:jsxRuntimeExports.jsx("div",{className:"w-4 h-4 bg-gradient-to-br from-green-400 to-teal-500"})}),jsxRuntimeExports.jsx("span",{className:"font-bold",children:" "})]}),jsxRuntimeExports.jsx("div",{className:"flex",children:jsxRuntimeExports.jsx("button",{className:"w-6 h-6 border border-gray-400 flex items-center justify-center text-xs bg-gray-100 mr-1",onClick:Xt,children:"X"})})]}),jsxRuntimeExports.jsx("div",{className:"border-b border-gray-300 p-2 bg-gray-100",dir:"rtl",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsxs("div",{children:["Topology: ",at]})]})}),jsxRuntimeExports.jsx("div",{className:"p-2 bg-gray-200",dir:"rtl",children:jsxRuntimeExports.jsxs("div",{className:"flex border border-gray-300",children:[jsxRuntimeExports.jsx("button",{className:`py-1 px-3 ${rt===1?"bg-green-500 text-white":"bg-gray-100"}`,onClick:()=>nt(1),children:".  "}),jsxRuntimeExports.jsx("button",{className:`py-1 px-3 ${rt===2?"bg-green-500 text-white":"bg-gray-100"}`,onClick:()=>nt(2),children:".  "}),jsxRuntimeExports.jsx("button",{className:`py-1 px-3 ${rt===3?"bg-green-500 text-white":"bg-gray-100"}`,onClick:()=>nt(3),children:".  "}),jsxRuntimeExports.jsx("button",{className:`py-1 px-3 ${rt===4?"bg-green-500 text-white":"bg-gray-100"}`,onClick:()=>nt(4),children:".     "})]})}),Nt(),jsxRuntimeExports.jsxs("div",{className:"p-2 border-t border-gray-300 flex justify-end space-x-2 bg-gray-100",dir:"rtl",children:[rt>1&&jsxRuntimeExports.jsx("button",{className:"px-4 py-1 border border-gray-300 bg-gray-200 hover:bg-gray-300 rounded ml-2",onClick:It,children:""}),rt<4?jsxRuntimeExports.jsx("button",{className:"px-4 py-1 border border-gray-300 bg-blue-500 text-white hover:bg-blue-600 rounded",onClick:_t,children:""}):jsxRuntimeExports.jsx("button",{className:"px-4 py-1 border border-gray-300 bg-green-500 text-white hover:bg-green-600 rounded",children:""})]})]})}):jsxRuntimeExports.jsx("button",{className:"px-3 py-1 bg-green-500 text-white rounded hover:bg-green-600",onClick:()=>tt(!0),dir:"rtl",children:" "})};function getStageAndLayer(et){const _e=et==null?void 0:et();return _e!=null&&_e.stageData&&(_e!=null&&_e.layer)?{stage:_e.stageData,layer:_e.layer}:{}}function getBounds(et=[]){if(!(et!=null&&et.length))return null;let _e=1/0,tt=1/0,rt=-1/0,nt=-1/0;return et.forEach(st=>{if(!st)return;const it=st.x+st.width,at=st.y+st.height;st.x<_e&&(_e=st.x),st.y<tt&&(tt=st.y),it>rt&&(rt=it),at>nt&&(nt=at)}),Number.isFinite(_e)?{x:_e,y:tt,width:rt-_e,height:nt-tt}:null}function fitStageToMonitorsSmart(et,_e){if(!et||!(_e!=null&&_e.length))return;const tt=getBounds(_e);if(!tt)return;const rt=Math.max(1,tt.width),nt=Math.max(1,tt.height),st=et.width(),it=et.height(),at=_e.length,ot=Math.min(Math.max(Math.round(Math.min(st,it)*.06)+Math.ceil(Math.sqrt(at))*4,24),160),lt=(st-ot*2)/rt,ct=(it-ot*2)/nt,ut=Math.min(lt,ct,1);et.scale({x:ut,y:ut}),et.position({x:-tt.x*ut+ot,y:-tt.y*ut+ot}),et.batchDraw()}function centerStageOnMonitors(et,_e){if(!et||!(_e!=null&&_e.length))return;const tt=getBounds(_e);if(!tt)return;const rt=et.width(),nt=et.height(),st=et.scaleX()||1,it={x:(tt.x+tt.width/2)*st,y:(tt.y+tt.height/2)*st},at={x:rt/2,y:nt/2};et.position({x:at.x-it.x,y:at.y-it.y}),et.batchDraw()}function zoomAt(et,_e,tt=null){if(!et)return;const rt=et.scaleX()||1,nt=rt*_e,st=et.width(),it=et.height(),at=tt||{x:st/2,y:it/2},ot={x:(at.x-et.x())/rt,y:(at.y-et.y())/rt};et.scale({x:nt,y:nt});const lt={x:at.x-ot.x*nt,y:at.y-ot.y*nt};et.position(lt),et.batchDraw()}function drawVirtualGridOnMonitor(et,_e,tt,rt,nt=1){const st=et.findOne(`#monitor-group-${_e}`);if(!st)return;const it=st.findOne("Rect");if(!it)return;const at=st.findOne(".virtual-grid");at&&at.destroy();const ot=new Konva$1.Group({name:"virtual-grid",listening:!1}),lt=it.width(),ct=it.height();for(let ht=1;ht<rt;ht++){const pt=lt/rt*ht;ot.add(new Konva$1.Line({points:[pt,0,pt,ct],stroke:"rgba(255,255,255,0.35)",strokeWidth:1,dash:[6,6]}))}for(let ht=1;ht<tt;ht++){const pt=ct/tt*ht;ot.add(new Konva$1.Line({points:[0,pt,lt,pt],stroke:"rgba(255,255,255,0.35)",strokeWidth:1,dash:[6,6]}))}const ut=lt/rt,dt=ct/tt;let ft=nt;for(let ht=0;ht<tt;ht++)for(let pt=0;pt<rt;pt++)ot.add(new Konva$1.Text({x:pt*ut,y:ht*dt,width:ut,height:dt,align:"center",verticalAlign:"middle",text:String(ft++),fontSize:Math.max(12,Math.min(ut,dt)*.22),fontStyle:"bold",fill:"rgba(255,255,255,0.7)",listening:!1}));st.add(ot),st.setAttr("gridMeta",{rows:Number(tt),cols:Number(rt)}),st.setAttr("gridStartIndex",Number(nt)),et.batchDraw()}function getGridCells(et,_e,{debug:tt=!1,clearPrev:rt=!0}={}){const nt=et.findOne(`#monitor-group-${_e}`);if(!nt)return[];const st=nt.getAttr("gridMeta");if(!(st!=null&&st.rows)||!(st!=null&&st.cols))return[];const it=nt.findOne("Rect");if(!it)return[];const at=Number(st.rows),ot=Number(st.cols),lt=it.getClientRect({relativeTo:et}),ct=lt.width/ot,ut=lt.height/at;if(rt){const gt=et.findOne(`#grid-debug-${_e}`);gt&&gt.destroy()}const dt=tt?new Konva$1.Group({id:`grid-debug-${_e}`,name:"grid-debug",listening:!1}):null,ft=[];let pt=Number(nt.getAttr("gridStartIndex"))||1;for(let gt=0;gt<at;gt++)for(let mt=0;mt<ot;mt++){const bt=lt.x+mt*ct,vt=lt.y+gt*ut,yt={index:pt++,row:gt,col:mt,rect:{x:bt,y:vt,width:ct,height:ut}};ft.push(yt),dt&&(dt.add(new Konva$1.Rect({x:bt,y:vt,width:ct,height:ut,stroke:"rgba(255,0,0,0.8)",dash:[8,6],strokeWidth:1,fill:"rgba(255,0,0,0.08)"})),dt.add(new Konva$1.Text({x:bt,y:vt+ut/2-10,width:ct,height:20,align:"center",text:String(yt.index),fontSize:Math.max(12,Math.min(ct,ut)*.22),fontStyle:"bold",fill:"rgba(255,0,0,0.9)"})))}return dt&&(et.add(dt),et.batchDraw()),ft}function placeResourceInCell({type:et,resource:_e,cellRect:tt,ctx:rt}){const{addImage:nt,addVideo:st,addWeb:it,addInput:at,getSelectedScene:ot,setSources:lt,sendOperation:ct,url:ut,loopVideos:dt,generateBlobImageURL:ft,contentGenerator:ht}=rt,pt=ot();if(!pt)return;const gt={x:tt.x,y:tt.y,sceneId:pt.id};if(et==="IMAGE"&&_e){const mt={..._e,...gt};mt.imageElement&&(mt.imageElement.width=tt.width,mt.imageElement.height=tt.height),mt.width=tt.width,mt.height=tt.height,nt({img:mt,getSelectedScene:ot,setSources:lt,sendOperation:ct,url:ut,generateBlobImageURL:ft})}else if(et==="VIDEO"&&_e){const mt={..._e,...gt,width:tt.width,height:tt.height};mt.videoElement&&(mt.videoElement.width=tt.width,mt.videoElement.height=tt.height),st({videoElement:mt,getSelectedScene:ot,setSources:lt,sendOperation:ct,url:ut,loopVideos:dt})}else if(et==="IFRAME"&&_e){const mt={..._e,...gt};mt.iframeElement&&(mt.iframeElement.width=tt.width,mt.iframeElement.height=tt.height,mt.iframeElement.style&&(mt.iframeElement.style.width=`${tt.width}px`,mt.iframeElement.style.height=`${tt.height}px`)),mt.width=tt.width,mt.height=tt.height,it({webResource:mt,getSelectedScene:ot,setSources:lt,sendOperation:ct,url:ut})}else if(et==="INPUT"&&_e){const mt={..._e,...gt};mt.imageElement&&(mt.imageElement.width=tt.width,mt.imageElement.height=tt.height),mt.inputElement&&(mt.inputElement.style&&(mt.inputElement.style.width=`${tt.width}px`,mt.inputElement.style.height=`${tt.height}px`),mt.inputElement.width=tt.width,mt.inputElement.height=tt.height),mt.width=tt.width,mt.height=tt.height,at({input:mt,getSelectedScene:ot,setSources:lt,sendOperation:ct})}else console.warn("placeResourceInCell: unsupported type or empty resource",{type:et,resource:_e})}function drawGlobalGrid(et,_e,tt,rt,{showIndices:nt=!1}={}){if(!et||!(_e!=null&&_e.length)||tt<1||rt<1)return[];const st=et.findOne("#global-virtual-grid");st&&st.destroy();const it=getBounds(_e);if(!it)return[];const at=new Konva$1.Group({id:"global-virtual-grid",name:"global-virtual-grid",listening:!1}),{x:ot,y:lt,width:ct,height:ut}=it,dt=[];let ft=1;const ht=ct/rt,pt=ut/tt;for(let gt=1;gt<rt;gt++){const mt=ot+ht*gt;at.add(new Konva$1.Line({points:[mt,lt,mt,lt+ut],stroke:"rgba(0,200,255,0.9)",strokeWidth:1,dash:[10,6]}))}for(let gt=1;gt<tt;gt++){const mt=lt+pt*gt;at.add(new Konva$1.Line({points:[ot,mt,ot+ct,mt],stroke:"rgba(0,200,255,0.9)",strokeWidth:1,dash:[10,6]}))}for(let gt=0;gt<tt;gt++)for(let mt=0;mt<rt;mt++){const bt=ot+mt*ht,vt=lt+gt*pt,yt={index:ft++,rect:{x:bt,y:vt,width:ht,height:pt}};dt.push(yt),nt&&at.add(new Konva$1.Text({x:bt,y:vt,width:ht,height:pt,align:"center",verticalAlign:"middle",text:String(yt.index),fontSize:Math.max(12,Math.min(ht,pt)*.25),fontStyle:"bold",fill:"rgba(0,200,255,0.95)"}))}return at.setAttr("globalGridMeta",{rows:tt,cols:rt,cells:dt}),et.add(at),et.batchDraw(),dt}function clearGlobalGrid(et){if(!et)return;const _e=et.findOne("#global-virtual-grid");_e&&_e.destroy(),et.batchDraw()}function getGlobalGridCells(et,_e,tt,rt){const nt=getBounds(_e);if(!et||!nt||tt<1||rt<1)return[];const st=[],it=nt.width/rt,at=nt.height/tt;let ot=1;for(let lt=0;lt<tt;lt++)for(let ct=0;ct<rt;ct++){const ut=nt.x+ct*it,dt=nt.y+lt*at;st.push({index:ot++,row:lt,col:ct,rect:{x:ut,y:dt,width:it,height:at}})}return st}function getSpanRectForGlobalSelection(et=[],_e=[]){const tt=new Set(Array.from(et).map(String)),rt=_e.filter(ot=>tt.has(String(ot.index)));if(!rt.length)return null;const nt=Math.min(...rt.map(ot=>ot.rect.x)),st=Math.min(...rt.map(ot=>ot.rect.y)),it=Math.max(...rt.map(ot=>ot.rect.x+ot.rect.width)),at=Math.max(...rt.map(ot=>ot.rect.y+ot.rect.height));return{x:nt,y:st,width:it-nt,height:at-st}}function Canvas({title:et=" ",subtitle:_e="Drag & Drop   ",onFit:tt}){const{darkMode:rt,scenes:nt,selectedScene:st,handleDragOver:it,handleDrop:at,getSelectedScene:ot,videoWalls:lt,resources:ct,inputs:ut,addImage:dt,addVideo:ft,addWeb:ht,addInput:pt,setSources:gt,sendOperation:mt,url:bt,loopVideos:vt,generateBlobImageURL:yt,isToggleLayout:xt,isRealTime:Et,setIsRealTime:wt,contentGenerator:$t}=useMyContext(),[Tt,St]=reactExports.useState("global"),[Pt,At]=reactExports.useState(!0);reactExports.useState(1.1);const[Rt,Ct]=reactExports.useState(2),[Dt,Ft]=reactExports.useState(2),[Mt,Ot]=reactExports.useState(null),[jt,Ut]=reactExports.useState(3),[_t,It]=reactExports.useState(5),[Wt,Kt]=reactExports.useState(!1),[Bt,Qt]=reactExports.useState([]),[Nt,Xt]=reactExports.useState(new Set),[Zt,Yt]=reactExports.useState(null),[rr,ar]=reactExports.useState(null),[sr,kt]=reactExports.useState([]),[er,Gt]=reactExports.useState([]),[zt,Vt]=reactExports.useState(1),[Ht,lr]=reactExports.useState([]),[dr,Jt]=reactExports.useState(null),[nr,fr]=reactExports.useState(!1),[Lt,qt]=reactExports.useState([]),tr=reactExports.useRef(new Map),[ir,or]=reactExports.useState(null);reactExports.useEffect(()=>{lt!=null&&lt.length&&!ir&&or(lt[0].id)},[lt]),reactExports.useEffect(()=>{tr.current.clear()},[st]),reactExports.useEffect(()=>{const{layer:cr}=getStageAndLayer(ot);if(!cr||!Mt){qt([]);return}let mr=tr.current.get(Mt);mr||(mr=getGridCells(cr,Mt),tr.current.set(Mt,mr)),reactExports.startTransition(()=>{qt(mr.map(Sr=>({key:String(Sr.index),value:String(Sr.index),label:` ${Sr.index}`})))})},[Mt]),reactExports.useEffect(()=>{const{stage:cr}=getStageAndLayer(ot);cr&&At(cr.draggable())},[st,nt]),reactExports.useEffect(()=>{!Mt&&(lt!=null&&lt.length)&&Ot(lt[0].id)},[lt]),reactExports.useEffect(()=>{const{layer:cr}=getStageAndLayer(ot);if(!cr)return;const mr=getGlobalGridCells(cr,lt,parseInt(jt),parseInt(_t));Qt(Sr=>Sr.length?Sr:mr)},[jt,_t,st,nt,lt]),reactExports.useEffect(()=>{const{layer:cr}=getStageAndLayer(ot);if(!cr||!Mt){qt([]);return}const mr=getGridCells(cr,Mt);qt(mr.map(Sr=>({key:String(Sr.index),value:String(Sr.index),label:` ${Sr.index}`})))},[Mt,Rt,Dt,st,nt]),reactExports.useEffect(()=>{const{layer:cr}=getStageAndLayer(ot);cr&&(sr.forEach(mr=>{let Sr=cr.findOne(`#monitor-group-box-${mr.id}`);Sr&&Sr.destroy();const Lr=new Konva$1.Rect({id:`monitor-group-box-${mr.id}`,x:mr.rect.x,y:mr.rect.y,width:mr.rect.width,height:mr.rect.height,stroke:"red",dash:[10,5],strokeWidth:2,listening:!1});cr.add(Lr)}),cr.batchDraw())},[sr,st,nt]);const ur=cr=>{const{stage:mr}=getStageAndLayer(ot);if(!mr)return;const Sr=lt.find(Lr=>Number(Lr.id)===Number(cr));Sr&&fitStageToMonitorsSmart(mr,[Sr])},hr=()=>{const{stage:cr}=getStageAndLayer(ot);cr&&centerStageOnMonitors(cr,lt)},vr=()=>{const{stage:cr}=getStageAndLayer(ot);cr&&(cr.scale({x:1,y:1}),cr.position({x:0,y:0}),cr.batchDraw())},pr=()=>{const{stage:cr}=getStageAndLayer(ot);cr&&zoomAt(cr,1.1)},br=()=>{const{stage:cr}=getStageAndLayer(ot);cr&&zoomAt(cr,1/1.1)},xr=cr=>{const{stage:mr}=getStageAndLayer(ot);mr&&(mr.draggable(cr),mr.batchDraw(),At(cr))},Tr=()=>{const{layer:cr}=getStageAndLayer(ot);if(!cr||!Mt)return;const mr=lt.findIndex(_r=>_r.id===Mt);let Sr=1;for(let _r=0;_r<mr;_r++){const Cr=lt[_r].id,wr=cr.findOne(`#monitor-group-${Cr}`),Ar=wr==null?void 0:wr.getAttr("gridMeta");Ar!=null&&Ar.rows&&(Ar!=null&&Ar.cols)&&(Sr+=Ar.rows*Ar.cols)}drawVirtualGridOnMonitor(cr,Mt,parseInt(Rt),parseInt(Dt),Sr);const Lr=getGridCells(cr,Mt);tr.current.set(Mt,Lr),reactExports.startTransition(()=>{qt(Lr.map(_r=>({key:String(_r.index),value:String(_r.index),label:` ${_r.index}`})))})},Er=()=>{const{layer:cr}=getStageAndLayer(ot);if(!cr)return;const mr=drawGlobalGrid(cr,lt,parseInt(jt),parseInt(_t),{showIndices:Wt});Qt(mr)},kr=()=>{const{layer:cr}=getStageAndLayer(ot);cr&&(clearGlobalGrid(cr),Qt([]),Xt(new Set))},Mr=()=>{const{layer:cr}=getStageAndLayer(ot);if(!cr||!rr||!Nt||!Nt.size)return;const[mr,Sr]=rr.split(":");let Lr=null;if(["IMAGE","VIDEO","IFRAME"].includes(mr)?Lr=ct.find(Cr=>String(Cr.id)===Sr):mr==="INPUT"&&(Lr=ut.find(Cr=>String(Cr.id)===Sr)),!Lr)return;const _r=getSpanRectForGlobalSelection(Nt,Bt);_r&&placeResourceInCell({type:mr,resource:Lr,cellRect:_r,ctx:{addImage:dt,contentGenerator:$t,addVideo:ft,addWeb:ht,addInput:pt,getSelectedScene:ot,setSources:gt,sendOperation:mt,url:bt,loopVideos:vt,generateBlobImageURL:yt}})},jr=()=>{const{layer:cr}=getStageAndLayer(ot);if(!cr||!Mt||!Zt||!rr)return;const Sr=getGridCells(cr,Mt).find(wr=>String(wr.index)===String(Zt));if(!Sr)return;const[Lr,_r]=rr.split(":");let Cr=null;Lr==="IMAGE"||Lr==="VIDEO"||Lr==="IFRAME"?Cr=ct.find(wr=>String(wr.id)===_r):Lr==="INPUT"&&(Cr=ut.find(wr=>String(wr.id)===_r)),Cr&&placeResourceInCell({type:Lr,resource:Cr,cellRect:Sr.rect,ctx:{contentGenerator:$t,addImage:dt,addVideo:ft,addWeb:ht,addInput:pt,getSelectedScene:ot,setSources:gt,sendOperation:mt,url:bt,loopVideos:vt,generateBlobImageURL:yt}})},Ir=()=>{const{layer:cr}=getStageAndLayer(ot);if(!cr||dr==null||!rr)return;const mr=Ht[dr];if(!mr)return;const Sr=mr.findOne("Rect");if(!Sr)return;const Lr={x:Sr.x(),y:Sr.y(),width:Sr.width(),height:Sr.height()},[_r,Cr]=rr.split(":");let wr=null;_r==="IMAGE"||_r==="VIDEO"||_r==="IFRAME"?wr=ct.find(Ar=>String(Ar.id)===Cr):_r==="INPUT"&&(wr=ut.find(Ar=>String(Ar.id)===Cr)),wr&&placeResourceInCell({type:_r,resource:wr,cellRect:Lr,ctx:{addImage:dt,contentGenerator:$t,addVideo:ft,addWeb:ht,addInput:pt,getSelectedScene:ot,setSources:gt,sendOperation:mt,url:bt,loopVideos:vt,generateBlobImageURL:yt}})},Fr=()=>{const{layer:cr}=getStageAndLayer(ot);if(!cr||!er.length)return;const mr=`Group ${zt}`;let Sr=1/0,Lr=1/0,_r=-1/0,Cr=-1/0;if(er.forEach($r=>{const Rr=lt.find(Vr=>Number(Vr.id)===Number($r));if(!Rr)return;const Dr=Rr.x+Rr.width,Br=Rr.y+Rr.height;Rr.x<Sr&&(Sr=Rr.x),Rr.y<Lr&&(Lr=Rr.y),Dr>_r&&(_r=Dr),Br>Cr&&(Cr=Br)}),!Number.isFinite(Sr)||!Number.isFinite(Lr)||!Number.isFinite(_r)||!Number.isFinite(Cr))return;const wr=new Konva$1.Group({name:"monitor-grouping",listening:!1}),Ar=new Konva$1.Rect({x:Sr,y:Lr,width:_r-Sr,height:Cr-Lr,stroke:"red",strokeWidth:2,dash:[10,6],listening:!1}),Or=new Konva$1.Text({x:Sr,y:Lr+(Cr-Lr)/2-30,width:_r-Sr,align:"center",text:mr,fontSize:70,fontStyle:"bold",fill:"white",listening:!1});wr.add(Ar),wr.add(Or),wr.setAttr("groupName",mr),wr.setAttr("kind","monitor-grouping");const{layer:Ur}=getStageAndLayer(ot);Ur.add(wr),Ur.batchDraw(),lr($r=>[...$r,wr]),Vt($r=>$r+1),Gt([])},Hr=()=>{const{layer:cr}=getStageAndLayer(ot);if(!Ht.length||!cr)return;const mr=Ht[Ht.length-1];mr&&mr.destroy&&mr.destroy(),lr(Sr=>Sr.slice(0,-1)),cr.batchDraw()},Nr=reactExports.useMemo(()=>{const cr=rt?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.06)";return{backgroundImage:`
        linear-gradient(0deg, ${cr} 1px, transparent 1px),
        linear-gradient(90deg, ${cr} 1px, transparent 1px),
        radial-gradient(${rt?"rgba(255,255,255,0.08)":"rgba(0,0,0,0.08)"} 1px, transparent 1px)
      `,backgroundSize:"24px 24px, 24px 24px, 24px 24px",backgroundPosition:"0 0, 0 0, 12px 12px"}},[rt]);return jsxRuntimeExports.jsxs(card_default$1,{radius:"lg",shadow:"lg",className:`my-auto ${xt?" w-[98%]":" w-[58%]"} py-2 h-[85%] bottom-0 top-5 
        ${rt?"bg-[#171b22] border border-[#2a2f36]":"bg-white border border-gray-200"}
      `,children:[jsxRuntimeExports.jsxs(card_header_default,{className:"flex flex-wrap gap-3 justify-between items-center py-3 px-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("span",{className:`text-sm ${rt?"text-gray-300":"text-gray-500"}`,children:_e}),jsxRuntimeExports.jsx("h3",{className:`text-lg font-bold ${rt?"text-white":"text-gray-800"}`,children:et})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[jsxRuntimeExports.jsx(switch_default,{classNames:{label:`${rt?"dark":"light"}`},size:"sm",isSelected:nr,onValueChange:()=>fr(!nr),children:" "}),jsxRuntimeExports.jsx(switch_default,{classNames:{label:`${rt?"dark":"light"}`},size:"sm",isSelected:Pt,onValueChange:xr,className:"ml-1",children:" "}),jsxRuntimeExports.jsx(button_default,{size:"sm",variant:"flat",className:`${rt?"dark":"light"}`,onPress:tt,startContent:jsxRuntimeExports.jsx(TbMaximize,{}),children:" "}),jsxRuntimeExports.jsx(button_default,{size:"sm",className:`${rt?"dark":"light"}`,variant:"flat",onPress:hr,startContent:jsxRuntimeExports.jsx(TbFocusCentered,{}),children:" "}),jsxRuntimeExports.jsx(button_default,{size:"sm",variant:"flat",className:`${rt?"dark":"light"}`,onPress:vr,startContent:jsxRuntimeExports.jsx(TbZoomReset,{}),children:"100%"}),jsxRuntimeExports.jsx("div",{className:"h-6 w-px bg-gray-300/30 mx-1"}),jsxRuntimeExports.jsx(button_default,{size:"sm",variant:"flat",className:`${rt?"dark":"light"}`,onPress:br,startContent:jsxRuntimeExports.jsx(TbZoomOut,{}),children:"Zoom-"}),jsxRuntimeExports.jsx(button_default,{size:"sm",variant:"flat",className:`${rt?"dark":"light"}`,onPress:pr,startContent:jsxRuntimeExports.jsx(TbZoomIn,{}),children:"Zoom+"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(select_default,{size:"sm","aria-label":"  ",className:`${rt?"dark":"light"} min-w-[160px]`,selectedKeys:ir?[String(ir)]:[],onChange:cr=>or(Number(cr.target.value)),children:lt.map(cr=>jsxRuntimeExports.jsx(listbox_item_base_default,{value:String(cr.id),children:cr.name??`Monitor ${cr.id}`},cr.id))}),jsxRuntimeExports.jsx(button_default,{size:"sm",variant:"flat",className:`${rt?"dark":"light"}`,onPress:()=>ur(ir),startContent:jsxRuntimeExports.jsx(TbMaximize,{}),isDisabled:!ir,children:" "})]})]}),jsxRuntimeExports.jsx(card_body_default$1,{className:"px-0 pb-0",children:jsxRuntimeExports.jsxs("div",{className:`
            relative mx-auto
            w-[96%]
            h-[72vh]
            rounded-2xl overflow-hidden
            ${rt?"ring-1 ring-[#2a2f36]":"ring-1 ring-gray-200"}
          `,style:Nr,children:[jsxRuntimeExports.jsx("div",{className:`absolute inset-3 rounded-xl 
              ${rt?"border border-white/10":"border border-black/10"}
              pointer-events-none
            `}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0",children:jsxRuntimeExports.jsx("div",{id:"Video-Wall-Section",className:"w-full h-full",children:jsxRuntimeExports.jsx("div",{id:"Monitor",className:"block w-full h-full overflow-hidden relative active:cursor-grabbing",children:jsxRuntimeExports.jsx("div",{id:"infiniteDiv",style:{scale:1},className:"w-full h-full relative",children:jsxRuntimeExports.jsx("div",{id:"content",className:"absolute inset-0",children:nt.map(cr=>jsxRuntimeExports.jsx("div",{onDragOver:it,onDrop:at,id:`containerKonva-${cr.id}`,style:{display:st===cr.id?"block":"none"},className:"w-full h-full"},cr.id))})})})})}),nr&&jsxRuntimeExports.jsx("div",{className:`
                absolute left-3 right-3 bottom-2 rounded-2xl
                backdrop-blur-md shadow-lg border
                ${rt?"bg-white/5 border-white/10":"bg-black/5 border-black/10"}
              `,children:jsxRuntimeExports.jsx("div",{className:"px-3 pb-3",children:jsxRuntimeExports.jsxs("div",{className:`mt-2 rounded-xl overflow-hidden border ${rt?"border-white/10":"border-black/10"}`,children:[jsxRuntimeExports.jsxs("div",{className:`grid grid-cols-4 text-center text-sm font-medium ${rt?"bg-white/5 text-white/70":"bg-gray-400 text-black/70"}`,children:[jsxRuntimeExports.jsx("button",{className:`py-2 hover:opacity-80 ${Tt==="grid"?"bg-primary/20":""}`,onClick:()=>St("grid"),children:" "}),jsxRuntimeExports.jsx("button",{className:`py-2 hover:opacity-80 ${Tt==="global"?"bg-primary/20":""}`,onClick:()=>St("global"),children:" "}),jsxRuntimeExports.jsx("button",{className:`py-2 hover:opacity-80 ${Tt==="groups"?"bg-primary/20":""}`,onClick:()=>St("groups"),children:""}),jsxRuntimeExports.jsx("button",{className:`py-2 hover:opacity-80 ${Tt==="place"?"bg-primary/20":""}`,onClick:()=>St("place"),children:" "})]}),jsxRuntimeExports.jsxs("div",{className:`${rt?"bg-[#0f131a]":"bg-white"} p-3`,children:[jsxRuntimeExports.jsxs("div",{className:Tt==="grid"?"grid grid-cols-12 gap-2":"hidden",children:[jsxRuntimeExports.jsx("div",{className:"col-span-12 md:col-span-3",children:jsxRuntimeExports.jsx(select_default,{size:"sm",label:"",selectedKeys:Mt?[String(Mt)]:[],onChange:cr=>Ot(Number(cr.target.value)),children:lt.map(cr=>jsxRuntimeExports.jsx(listbox_item_base_default,{value:String(cr.id),children:cr.name??`Monitor ${cr.id}`},cr.id))})}),jsxRuntimeExports.jsx("div",{className:"col-span-6 md:col-span-2",children:jsxRuntimeExports.jsx(input_default,{size:"sm",type:"number",min:1,label:"",value:String(Rt),onChange:cr=>Ct(cr.target.value)})}),jsxRuntimeExports.jsx("div",{className:"col-span-6 md:col-span-2",children:jsxRuntimeExports.jsx(input_default,{size:"sm",type:"number",min:1,label:"",value:String(Dt),onChange:cr=>Ft(cr.target.value)})}),jsxRuntimeExports.jsx("div",{className:"col-span-12 md:col-span-2 flex items-end",children:jsxRuntimeExports.jsx(button_default,{size:"sm",color:"primary",className:"w-full",onPress:Tr,children:" "})})]}),jsxRuntimeExports.jsxs("div",{className:Tt==="global"?"grid grid-cols-12 gap-2":"hidden",children:[jsxRuntimeExports.jsx("div",{className:"col-span-6 md:col-span-2",children:jsxRuntimeExports.jsx(input_default,{size:"sm",type:"number",min:1,label:" ( )",value:String(jt),onChange:cr=>Ut(cr.target.value)})}),jsxRuntimeExports.jsx("div",{className:"col-span-6 md:col-span-2",children:jsxRuntimeExports.jsx(input_default,{size:"sm",type:"number",min:1,label:" ( )",value:String(_t),onChange:cr=>It(cr.target.value)})}),jsxRuntimeExports.jsx("div",{className:"col-span-12 md:col-span-3 flex items-center md:items-end",children:jsxRuntimeExports.jsx(checkbox_default,{isSelected:Wt,onValueChange:Kt,classNames:{label:`${rt?"text-white":"text-[#0f131a]"}`},className:`${rt?"text-white":"text-[#0f131a]"} p-3 col-span-12 text-xs opacity-70 mt-1 w-full`,size:"sm",children:" "})}),jsxRuntimeExports.jsx("div",{className:"col-span-6 md:col-span-2 flex items-end",children:jsxRuntimeExports.jsx(button_default,{size:"sm",color:"primary",className:"w-full",onPress:Er,children:"  "})}),jsxRuntimeExports.jsx("div",{className:"col-span-6 md:col-span-2 flex items-end",children:jsxRuntimeExports.jsx(button_default,{size:"sm",color:"danger",variant:"flat",onPress:kr,startContent:jsxRuntimeExports.jsx(TbTrash,{}),children:"  "})}),jsxRuntimeExports.jsx("div",{className:`${rt?"text-white":"text-[#0f131a]"} p-3 col-span-12 text-xs opacity-70 mt-1`,children:"         (    )."})]}),jsxRuntimeExports.jsxs("div",{className:Tt==="placeGlobal"?"grid grid-cols-12 gap-2":"hidden",children:[jsxRuntimeExports.jsxs("div",{className:"col-span-12 md:col-span-6",children:[jsxRuntimeExports.jsx(select_default,{size:"sm",selectionMode:"multiple",label:"  ",selectedKeys:Array.from(Nt),onSelectionChange:cr=>Xt(new Set(Array.isArray(cr)?cr:Array.from(cr??[]))),isDisabled:!Bt.length,children:Bt.length?Bt.map(cr=>jsxRuntimeExports.jsxs(listbox_item_base_default,{value:String(cr.index),children:[" ",cr.index]},String(cr.index))):jsxRuntimeExports.jsx(listbox_item_base_default,{isReadOnly:!0,children:"     "},"__empty")}),jsxRuntimeExports.jsxs(select_default,{size:"sm",label:"",selectedKeys:rr?[rr]:[],onChange:cr=>ar(cr.target.value),children:[ut.length>0&&jsxRuntimeExports.jsx(listbox_item_base_default,{isReadOnly:!0,children:"  "},"__group_inputs"),ut.map(cr=>jsxRuntimeExports.jsxs(listbox_item_base_default,{value:`INPUT:${cr.id}`,children:["[INPUT] ",cr.name]},`INPUT:${cr.id}`)),ct.length>0&&jsxRuntimeExports.jsx(listbox_item_base_default,{isReadOnly:!0,children:"  "},"__group_files"),ct.map(cr=>jsxRuntimeExports.jsxs(listbox_item_base_default,{value:`${cr.type}:${cr.id}`,children:["[",cr.type,"] ",cr.name]},`${cr.type}:${cr.id}`))]})]}),jsxRuntimeExports.jsx("div",{className:"col-span-12 md:col-span-3 flex items-end",children:jsxRuntimeExports.jsx(button_default,{size:"sm",color:"success",className:"w-full",onPress:Mr,isDisabled:!rr||!Nt.size,children:"  ()"})})]}),jsxRuntimeExports.jsxs("div",{className:Tt==="groups"?"grid grid-cols-12 gap-2":"hidden",children:[jsxRuntimeExports.jsx("div",{className:"col-span-12 md:col-span-5",children:jsxRuntimeExports.jsx(select_default,{size:"sm",selectionMode:"multiple",label:" ",selectedKeys:er.map(String),onSelectionChange:cr=>Gt([...cr].map(Number)),children:lt.map(cr=>jsxRuntimeExports.jsx(listbox_item_base_default,{value:String(cr.id),children:cr.name??`Monitor ${cr.id}`},cr.id))})}),jsxRuntimeExports.jsx("div",{className:"col-span-6 md:col-span-2 flex items-end",children:jsxRuntimeExports.jsx(button_default,{size:"sm",color:"danger",className:"w-full",isDisabled:!er.length,onPress:Fr,children:" "})}),jsxRuntimeExports.jsx("div",{className:"col-span-6 md:col-span-2 flex items-end",children:jsxRuntimeExports.jsx(button_default,{size:"sm",color:"warning",className:"w-full",isDisabled:!Ht.length,onPress:Hr,children:"  "})})]}),jsxRuntimeExports.jsxs("div",{className:Tt==="place"?"grid grid-cols-12 gap-2":"hidden",children:[jsxRuntimeExports.jsx("div",{className:"col-span-12 md:col-span-6",children:jsxRuntimeExports.jsxs("div",{className:"col-span-12 flex flex-col gap-2 md:col-span-3",children:[jsxRuntimeExports.jsxs("div",{className:"w-full flex items-center justify-center mx-auto gap-2",children:[jsxRuntimeExports.jsx(select_default,{size:"sm",label:"",selectedKeys:dr!=null?[String(dr)]:[],onChange:cr=>Jt(Number(cr.target.value)),isDisabled:!Ht.length,children:Ht.length===0?jsxRuntimeExports.jsx(listbox_item_base_default,{isReadOnly:!0,children:" "},"__ng"):Ht.map((cr,mr)=>jsxRuntimeExports.jsx(listbox_item_base_default,{value:String(mr),children:cr.getAttr("groupName")||`Group ${mr+1}`},mr))}),jsxRuntimeExports.jsx(select_default,{size:"sm",label:"",selectedKeys:Zt?[String(Zt)]:[],onChange:cr=>Yt(cr.target.value),isDisabled:!Lt.length,children:Lt.length===0?jsxRuntimeExports.jsx(listbox_item_base_default,{isReadOnly:!0,children:"    "},"__empty"):Lt.map(cr=>jsxRuntimeExports.jsx(listbox_item_base_default,{value:cr.value,children:cr.label},cr.key))})]}),jsxRuntimeExports.jsx(select_default,{size:"sm",label:"  ()",selectionMode:"multiple",selectedKeys:Array.from(Nt),onSelectionChange:cr=>Xt(new Set(Array.isArray(cr)?cr:Array.from(cr??[]))),isDisabled:!Bt.length,children:Bt.length?Bt.map(cr=>jsxRuntimeExports.jsxs(listbox_item_base_default,{value:String(cr.index),children:[" ",cr.index]},String(cr.index))):jsxRuntimeExports.jsx(listbox_item_base_default,{isReadOnly:!0,children:"     "},"__no_global")}),jsxRuntimeExports.jsxs(select_default,{size:"sm",label:"",selectedKeys:rr?[rr]:[],onChange:cr=>ar(cr.target.value),children:[ut.length>0&&jsxRuntimeExports.jsx(listbox_item_base_default,{isReadOnly:!0,children:"  "},"__group_inputs"),ut.map(cr=>jsxRuntimeExports.jsxs(listbox_item_base_default,{value:`INPUT:${cr.id}`,children:["[INPUT] ",cr.name]},`INPUT:${cr.id}`)),ct.length>0&&jsxRuntimeExports.jsx(listbox_item_base_default,{isReadOnly:!0,children:"  "},"__group_files"),ct.map(cr=>jsxRuntimeExports.jsxs(listbox_item_base_default,{value:`${cr.type}:${cr.id}`,children:["[",cr.type,"] ",cr.name]},`${cr.type}:${cr.id}`))]})]})}),jsxRuntimeExports.jsx("div",{className:"col-span-6 md:col-span-3 flex items-end",children:jsxRuntimeExports.jsx(button_default,{size:"sm",color:"success",className:"w-full",onPress:jr,isDisabled:!Zt||!rr,children:"  ()"})}),jsxRuntimeExports.jsx("div",{className:"col-span-6 md:col-span-3 flex items-end",children:jsxRuntimeExports.jsx(button_default,{size:"sm",color:"success",className:"w-full",onPress:Ir,isDisabled:!rr||dr===null||dr===void 0||!Ht.length,children:"  ()"})}),jsxRuntimeExports.jsx("div",{className:"col-span-6 md:col-span-3 flex items-end",children:jsxRuntimeExports.jsx(button_default,{size:"sm",color:"success",className:"w-full",onPress:Mr,isDisabled:!rr||!Nt.size,children:"  ( )"})})]})]})]})})})]})})]})}function App(){var dr,Jt,nr,fr;let{host:et,port:_e,videoWalls:tt,setVideoWalls:rt,activeModal:nt,openModal:st,closeModal:it,isToggleLayout:at,setIsToggleLayout:ot,isLoading:lt,setIsLoading:ct,miniLoad:ut,isToggleVideoWall:dt,loopVideos:ft,darkMode:ht,setConnecting:pt,connectionMode:gt,setInputs:mt,scenes:bt,setScenes:vt,scenesRef:yt,videoWallsRef:xt,connectionModeRef:Et,selectedScene:wt,isBottomControlsVisible:$t,setIsBottomControlsVisible:Tt,isRightControlsVisible:St,setIsRightControlsVisible:Pt,pendingOperations:At,setPendingOperation:Rt,flagOperations:Ct,setFlagOperation:Dt,getSelectedScene:Ft,MonitorPositionEditor:Mt,updateMonitorPosition:Ot,IconMenuSidebar:jt,fetchDataScene:Ut,socket:_t,connecting:It,trimPrefix:Wt,monitorConnection:Kt,setMonitorConnection:Bt,setSelectedSource:Qt,selectedSource:Nt,handleDragOver:Xt,handleDrop:Zt,fitStageToMonitors:Yt,selectedSceneRef:rr,isChangeRealTime:ar,setIsChangeRealTime:sr,collections:kt,isMonitorOff:er}=useMyContext();const[Gt,zt]=reactExports.useState("Sources");reactExports.useEffect(()=>{yt.current=bt},[bt]),reactExports.useEffect(()=>{Et.current=gt,gt&&Dt(!0)},[gt]),reactExports.useEffect(()=>{xt.current=tt},[tt]),reactExports.useEffect(()=>{let Lt=!1;const qt=bt.map(tr=>{const ir=tr.layer;return ir&&(ir.children.forEach(or=>{if(or.attrs.catFix==="monitor"){const ur=or.draggable(),hr=dt;ur!==hr&&(or.draggable(hr),Lt=!0)}}),ir.draw()),tr});Lt&&vt(qt)},[dt,bt]);function Vt(Lt){Et.current&&vt(qt=>qt.map(tr=>{const{layer:ir}=tr;return ir&&(Lt==null||Lt.forEach(or=>{const ur=ir.findOne(`#monitor-group-${or.id}`);if(ur){const hr=ur.findOne("Rect"),vr=ur.findOne(".monitorText");if(or.connected){tr.layer,hr&&hr.fill("#161616"),vr&&vr.setAttr("text",`Monitor ${or.name}`),Bt(!0);const pr=ur.findOne(".disconnectIcon");pr&&pr.destroy()}else if(Bt(!1),hr&&hr.fill("red"),vr&&vr.text(`Monitor ${or.name} (Disconnected)`),!ur.findOne(".disconnectIcon")){const pr=new Konva$1.Text({text:"",fontSize:30,fill:"white",x:hr.width()/2-15,y:hr.height()/2-15,name:"disconnectIcon"});ur.add(pr)}}}),rt(Lt),ir.draw()),tr}))}function Ht(){Bt(!1),vt(Lt=>Lt.map(qt=>{const{layer:tr}=qt;return tr&&(tt==null||tt.forEach(ir=>{const or=tr.findOne(`#monitor-group-${ir.id}`);if(or){const ur=or.findOne("Rect"),hr=or.findOne(".monitorText");if(ur&&ur.fill("red"),hr&&hr.text(`Monitor ${ir.id} (Disconnected)`),!or.findOne(".disconnectIcon")){const vr=new Konva$1.Text({text:"",fontSize:30,fill:"white",x:ur.width()/2-15,y:ur.height()/2-15,name:"disconnectIcon"});or.add(vr)}}}),tr.draw()),qt}))}reactExports.useEffect(()=>{_t&&It&&gt?(_t.on("displays-arranged",Lt=>{ct(!1)}),_t.on("display_error",Vt)):Ht()},[_t,It,gt]),reactExports.useEffect(()=>{var qt,tr,ir;const Lt=(qt=Ft())==null?void 0:qt.layer;(ir=(tr=Ft())==null?void 0:tr.stageData)==null||ir.on("click",or=>{var ur;Qt(or.target.attrs.uniqId),or.target===((ur=Ft())==null?void 0:ur.stageData)||or.target.attrs.catFix=="monitor"?(Lt.find("Transformer").forEach(hr=>hr.detach()),Qt(null),Lt.find("Group").forEach(hr=>{hr.draggable(!1)}),Lt.draw()):(Lt.find("Transformer").forEach(hr=>{hr.attrs.id!=or.target.attrs.uniqId&&hr.detach()}),Lt.find("Group").forEach(hr=>{hr.attrs.id!=or.target.attrs.uniqId&&hr.draggable(!1)}),Lt.draw())})},[(dr=Ft())==null?void 0:dr.stageData,(Jt=Ft())==null?void 0:Jt.layer,Nt]);function lr({stage:Lt,layer:qt,monitorSelector:tr=ir=>ir.getAttr("catFix")==="monitor"}){if(!Lt||!qt)return;const ir=qt.find(tr);if(!ir.length)return;const or={x:Lt.scaleX(),y:Lt.scaleY()};Lt.x(),Lt.y(),Lt.scale({x:1,y:1}),Lt.position({x:0,y:0});let ur=ir[0].getClientRect({skipShadow:!0,skipStroke:!1});for(let kr=1;kr<ir.length;kr++){const Mr=ir[kr].getClientRect({skipShadow:!0,skipStroke:!1}),jr=Math.min(ur.x,Mr.x),Ir=Math.min(ur.y,Mr.y),Fr=Math.max(ur.x+ur.width,Mr.x+Mr.width),Hr=Math.max(ur.y+ur.height,Mr.y+Mr.height);ur={x:jr,y:Ir,width:Fr-jr,height:Hr-Ir}}const hr=Lt.width(),vr=Lt.height(),pr=or.x||1,br=ur.x+ur.width/2,xr=ur.y+ur.height/2,Tr=hr/2,Er=vr/2;Lt.scale({x:pr,y:pr}),Lt.position({x:Tr-br*pr,y:Er-xr*pr}),Lt.batchDraw()}return jsxRuntimeExports.jsxs("main",{className:`${ht?"bg-[#1E232A]":"bg-[#e3e4e4]"}  h-screen w-full flex flex-col z-50  items-center `,children:[ut&&jsxRuntimeExports.jsx("div",{className:" z-[1000000] w-fit h-fit flex flex-col gap-3 justify-center items-center  m-auto",children:jsxRuntimeExports.jsx(circular_progress_default,{label:"    ..."})}),lt&&jsxRuntimeExports.jsxs("div",{className:"w-full z-[1000000] flex flex-col gap-3 justify-center items-center h-full backdrop-blur-[5px]",children:[jsxRuntimeExports.jsx(spinner_default,{size:"lg"}),jsxRuntimeExports.jsx("div",{className:`vazirblack  ${ht?"text-white":"text-black"}`,children:"       "})]}),jsxRuntimeExports.jsx(Canvas,{darkMode:ht,title:(nr=Ft())!=null&&nr.name?`${(fr=Ft())==null?void 0:fr.name}  `:"   ",subtitle:null,scenes:bt,selectedScene:wt,handleDragOver:Xt,handleDrop:Zt,onFit:()=>{const Lt=Ft();Lt!=null&&Lt.stageData&&tt!=null&&tt.length&&Yt({stage:Lt.stageData,monitors:tt})},onCenter:()=>{const Lt=Ft();!(Lt!=null&&Lt.stageData)||!(Lt!=null&&Lt.layer)||lr({stage:Lt.stageData,layer:Lt.layer})},onReset:()=>{const Lt=Ft();Lt!=null&&Lt.stageData&&(Lt.stageData.scale({x:1,y:1}),Lt.stageData.position({x:0,y:0}),Lt.stageData.batchDraw())},footerSlot:jsxRuntimeExports.jsx("div",{className:"rounded-xl px-3 py-2 backdrop-blur-sm bg-black/10 dark:bg-white/10 shadow-sm"})}),!at&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.aside,{className:`fixed left-0 top-0 z-[10] h-screen border-r ${ht?"bg-[#1b1f25] border-[#2a2f36]":"bg-white border-[#e5e7eb]"}`,style:{width:"20%"},initial:{x:-360},animate:{x:$t?0:-360},transition:{type:"spring",stiffness:280,damping:28},children:jsxRuntimeExports.jsxs("div",{className:"h-full overflow-auto scrollbar-hide flex flex-col",children:[jsxRuntimeExports.jsxs(tabs_default$1,{selectedKey:Gt,onSelectionChange:zt,"aria-label":" ",variant:"underlined",classNames:{base:"sticky w-full top-0 z-10 px-3 pt-3 bg-inherit",tabList:"gap-4",tab:"data-[hover=true]:opacity-80",tabContent:`
                    font-medium
                    ${ht?"text-gray-200 group-data-[selected=true]:text-blue-400":"text-gray-700 group-data-[selected=true]:text-blue-600"}
                  `,cursor:ht?"bg-blue-400":"bg-blue-600"},children:[jsxRuntimeExports.jsx(tab_item_base_default$1,{title:""},"resources"),jsxRuntimeExports.jsx(tab_item_base_default$1,{title:""},"scenes"),jsxRuntimeExports.jsx(tab_item_base_default$1,{title:""},"collections")]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 p-1",children:[Gt==="resources"&&jsxRuntimeExports.jsx("div",{className:`${ht?"bg-[#232933]":"bg-[#f8fafc]"} rounded-2xl h-full  p-2`,children:jsxRuntimeExports.jsx(ResourcesSidebar,{})}),Gt==="scenes"&&jsxRuntimeExports.jsx("div",{className:`${ht?"bg-[#232933]":"bg-[#f8fafc]"} rounded-2xl h-full  p-2`,children:jsxRuntimeExports.jsx(ScenesSidebar,{})}),Gt==="collections"&&jsxRuntimeExports.jsx("div",{className:`${ht?"bg-[#232933]":"bg-[#f8fafc]"} rounded-2xl h-full p-2`,children:jsxRuntimeExports.jsx(CollectionsSidebar,{})}),jsxRuntimeExports.jsx("div",{className:"h-16"})]})]})}),jsxRuntimeExports.jsx(button_default,{className:`fixed bottom-5 left-0 w-[30px] h-[30px] text-xl z-[10] min-w-fit p-2 rounded-r-2xl shadow-md
        ${ht?"bg-[#232933] text-white":"bg-white text-black"}
      `,style:{left:20},onPress:()=>Tt(!$t),"aria-label":"toggle-left-panel",children:$t?"":""}),jsxRuntimeExports.jsx(motion.div,{className:"pointer-events-none",style:{width:"20%"},initial:{width:0},animate:{width:$t?"20%":0},transition:{duration:.3}})]}),!at&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.aside,{className:`fixed right-0 top-0 z-[10]  h-full border-l ${ht?"bg-[#1b1f25] border-[#2a2f36]":"bg-white border-[#e5e7eb]"}`,style:{width:"20%"},initial:{x:360},animate:{x:St?0:360},transition:{type:"spring",stiffness:280,damping:28},children:jsxRuntimeExports.jsx("div",{className:"flex-1 h-full p-3",children:jsxRuntimeExports.jsx("div",{className:`${ht?"bg-[#232933]":"bg-[#f8fafc]"} rounded-2xl h-full   p-2`,children:jsxRuntimeExports.jsx(UsageSidebar,{})})})}),jsxRuntimeExports.jsx(button_default,{className:`fixed bottom-5 right-0 w-[30px] h-[30px] text-xl z-[10] min-w-fit p-2 rounded-l-2xl shadow-md
        ${ht?"bg-[#232933] text-white":"bg-white text-black"}
      `,style:{right:20},onPress:()=>Pt(!St),"aria-label":"toggle-right-panel",children:St?"":""}),jsxRuntimeExports.jsx(motion.div,{className:"pointer-events-none",style:{width:"20%"},initial:{width:0},animate:{width:St?"20%":0},transition:{duration:.3}})]}),jsxRuntimeExports.jsxs("div",{className:" overflow-auto h-[6%] scrollbar-hide flex top-0 absolute left-0  right-0 m-auto flex-col p-3 space-y-4",children:[jsxRuntimeExports.jsx(HeaderBar,{toggleLayout:()=>{localStorage.setItem("layout",!at),ot(!at);const Lt=Ft();Lt!=null&&Lt.stageData&&tt!=null&&tt.length&&setTimeout(()=>{Yt({stage:Lt.stageData,monitors:tt})},[10])}}),dt&&tt.length>0&&jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-3",children:jsxRuntimeExports.jsx(NvidiaMosaicSetup,{})})]}),jsxRuntimeExports.jsx("div",{className:`${at?"w-[98%]  justify-center":"w-[59%] justify-end"} ${ht?"text-white bg-gray-800":"text-black bg-gray-100"} z-[10] bottom-3 relative p-2 rounded-xl h-[5%] items-center flex left-0 right-0  `,children:jsxRuntimeExports.jsxs("div",{dir:"rtl",className:"flex gap-4",children:[jsxRuntimeExports.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-xl shadow-sm border
      ${It&&gt?ht?"bg-green-600/20 border-green-500 text-green-400":" border-green-500 bg-green-100 text-green-400":gt?ht?"bg-red-600/20 border-red-500 text-red-400":" border-red-500 bg-red-100 text-red-400":ht?"bg-orange-600/20 border-orange-500 text-orange-400":" border-orange-500 bg-orange-100 text-orange-400"}`,children:[jsxRuntimeExports.jsx(FaServer,{className:"text-lg"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:It&&gt?"  ":gt?"    ":" "})]}),jsxRuntimeExports.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-xl shadow-sm border
      ${Kt&&gt?ht?"bg-green-600/20 border-green-500 text-green-400":" border-green-500 bg-green-100 text-green-400":gt?ht?"bg-red-600/20 border-red-500 text-red-400":" border-red-500 bg-red-100 text-red-400":ht?"bg-orange-600/20 border-orange-500 text-orange-400":" border-orange-500 bg-orange-100 text-orange-400"}`,children:[jsxRuntimeExports.jsx(FaDesktop,{className:"text-lg"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:Kt&&gt?" ":gt?"  ":" "})]}),ar===ChangeRT.PENDING&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-xl shadow-sm border",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:" "}),jsxRuntimeExports.jsx(button_default,{onPress:()=>sr(ChangeRT.DONE),size:"sm",variant:"flat",children:""}),jsxRuntimeExports.jsx(button_default,{onPress:()=>sr(ChangeRT.CANCEL),size:"sm",variant:"flat",children:""})]})]})}),jsxRuntimeExports.jsx(modal_default,{scrollBehavior:"outside",isOpen:nt==="resources",onClose:it,children:jsxRuntimeExports.jsx(modal_content_default,{children:jsxRuntimeExports.jsx(modal_body_default,{className:"p-0 ",children:jsxRuntimeExports.jsx(ResourcesSidebar,{})})})}),jsxRuntimeExports.jsx(modal_default,{scrollBehavior:"outside",isOpen:nt==="UsageSidebar",onClose:it,children:jsxRuntimeExports.jsx(modal_content_default,{children:jsxRuntimeExports.jsx(modal_body_default,{className:"p-0",children:jsxRuntimeExports.jsx(UsageSidebar,{})})})}),jsxRuntimeExports.jsx(modal_default,{scrollBehavior:"outside",isOpen:nt==="scenes",onClose:it,children:jsxRuntimeExports.jsx(modal_content_default,{children:jsxRuntimeExports.jsx(modal_body_default,{className:"p-0",children:jsxRuntimeExports.jsx(ScenesSidebar,{})})})}),jsxRuntimeExports.jsx(modal_default,{scrollBehavior:"outside",isOpen:nt==="collections",onClose:it,children:jsxRuntimeExports.jsx(modal_content_default,{children:jsxRuntimeExports.jsx(modal_body_default,{className:"p-0",children:jsxRuntimeExports.jsx(CollectionsSidebar,{})})})})]})}const parseJwt=et=>{try{const _e=et.split(".")[1],tt=atob(_e.replace(/-/g,"+").replace(/_/g,"/"));return JSON.parse(decodeURIComponent(escape(tt)))}catch{return null}},AuthContext=reactExports.createContext(null),useAuth=()=>reactExports.useContext(AuthContext),API_ROOT=`http://${localStorage.getItem("host")}:4000/api/auth`,AuthProvider=({children:et})=>{const[_e,tt]=reactExports.useState(null),[rt,nt]=reactExports.useState(null),[st,it]=reactExports.useState(()=>localStorage.getItem("refreshToken")||null),[at,ot]=reactExports.useState(!0);reactExports.useEffect(()=>{if(rt){const gt=parseJwt(rt);gt&&tt({id:gt.userId,email:gt.email,username:gt.username})}else tt(null)},[rt]),reactExports.useEffect(()=>{(async()=>{if(st)try{await ft(st)}catch(mt){console.warn("refresh failed at init",mt),localStorage.removeItem("refreshToken"),it(null),nt(null)}ot(!1)})()},[]),reactExports.useEffect(()=>{if(!rt)return;const gt=parseJwt(rt);if(!gt||!gt.exp)return;const mt=gt.exp*1e3,bt=Date.now(),vt=mt-bt-2*60*1e3,yt=vt>0?setTimeout(()=>lt(),vt):lt();return()=>clearTimeout(yt)},[rt]);const lt=reactExports.useCallback(async()=>{if(st)try{await ft(st)}catch(gt){console.warn("refreshWithStoredToken failed",gt),await ht()}},[st]),ct=async(gt,mt,bt=!1)=>{const vt={"Content-Type":"application/json"};bt&&rt&&(vt.Authorization=`Bearer ${rt}`);const yt=await fetch(`${API_ROOT}${gt}`,{method:"POST",headers:vt,body:JSON.stringify(mt)}),xt=await yt.json().catch(()=>null);if(!yt.ok){const Et=new Error((xt==null?void 0:xt.message)||yt.statusText||"Network error");throw Et.status=yt.status,Et.payload=xt,Et}return xt},ut=async({email:gt,username:mt,password:bt,firstName:vt,lastName:yt})=>{var Et,wt;const xt=await ct("/signup",{email:gt,username:mt,password:bt,firstName:vt,lastName:yt},!1);return(Et=xt==null?void 0:xt.data)!=null&&Et.accessToken&&nt(xt.data.accessToken),(wt=xt==null?void 0:xt.data)!=null&&wt.refreshToken&&(it(xt.data.refreshToken),localStorage.setItem("refreshToken",xt.data.refreshToken),localStorage.setItem("userId",xt.data.user.id),localStorage.setItem("accessToken",xt.data.accessToken)),xt},dt=async({identifier:gt,password:mt})=>{var vt,yt,xt,Et,wt;const bt=await ct("/login",{identifier:gt,password:mt},!1);return(vt=bt==null?void 0:bt.data)!=null&&vt.accessToken&&nt(bt.data.accessToken),(yt=bt==null?void 0:bt.data)!=null&&yt.refreshToken&&(it(bt.data.refreshToken),localStorage.setItem("refreshToken",bt.data.refreshToken)),(xt=bt==null?void 0:bt.data)!=null&&xt.accessToken&&localStorage.setItem("accessToken",bt.data.accessToken),(Et=bt==null?void 0:bt.data)!=null&&Et.refreshToken&&localStorage.setItem("refreshToken",bt.data.refreshToken),(wt=bt==null?void 0:bt.data)!=null&&wt.user&&localStorage.setItem("userId",bt.data.user.id),bt},ft=async gt=>{var vt,yt;const mt=await fetch(`${API_ROOT}/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:gt})}),bt=await mt.json().catch(()=>null);if(!mt.ok){const xt=new Error((bt==null?void 0:bt.message)||mt.statusText||"Refresh failed");throw xt.status=mt.status,xt.payload=bt,xt}return(vt=bt==null?void 0:bt.data)!=null&&vt.accessToken&&nt(bt.data.accessToken),(yt=bt==null?void 0:bt.data)!=null&&yt.refreshToken&&(it(bt.data.refreshToken),localStorage.setItem("refreshToken",bt.data.refreshToken)),bt},ht=async()=>{try{await ct("/logout",{refreshToken:st},!0)}catch(gt){console.warn("logout request failed",gt)}nt(null),tt(null),it(null),localStorage.removeItem("refreshToken"),localStorage.removeItem("isLoggedIn")},pt={user:_e,loading:at,accessToken:rt,isAuthenticated:!!rt,login:dt,signup:ut,logout:ht,refreshAccessToken:ft};return jsxRuntimeExports.jsx(AuthContext.Provider,{value:pt,children:et})},Login=({onLoginSuccess:et,switchToSignup:_e})=>{const[tt,rt]=reactExports.useState(""),[nt,st]=reactExports.useState(""),[it,at]=reactExports.useState(!1),[ot,lt]=reactExports.useState(null),ct=useAuth();reactExports.useEffect(()=>{rt(config.username)},[]);const ut=async dt=>{var ft,ht;dt.preventDefault(),lt(null),at(!0);try{await ct.login({identifier:tt,password:nt}),localStorage.setItem("isLoggedIn","true"),et==null||et(),location.reload()}catch(pt){if(((ft=pt==null?void 0:pt.payload)==null?void 0:ft.error)==="INVALID_CREDENTIALS")lt("      .");else if(((ht=pt==null?void 0:pt.payload)==null?void 0:ht.error)==="VALIDATION_ERROR"){const gt=Object.values(pt.payload.errors||{}).join(" - ");lt(gt||" ")}else lt(pt.message||"  ")}finally{at(!1)}};return jsxRuntimeExports.jsxs("div",{dir:"rtl",className:"flex flex-col justify-center items-center h-screen bg-slate-200",children:[jsxRuntimeExports.jsxs("div",{className:"max-w-md mx-auto relative overflow-hidden z-10 bg-white p-8 rounded-lg shadow-md before:w-24 before:h-24 before:absolute before:bg-purple-500 before:rounded-full before:-z-10 before:blur-2xl after:w-32 after:h-32 after:absolute after:bg-sky-400 after:rounded-full after:-z-10 after:blur-xl after:top-24 after:-right-12",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl text-sky-900 font-bold mb-6",children:"  "}),jsxRuntimeExports.jsxs("form",{onSubmit:ut,children:[jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"   "}),jsxRuntimeExports.jsx("input",{dir:"ltr",name:"identifier",className:"mt-1 p-2 w-full border rounded-md",type:"text",required:!0,value:tt,onChange:dt=>rt(dt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-600",children:" "}),jsxRuntimeExports.jsx("input",{dir:"ltr",className:"mt-1 p-2 w-full border rounded-md",name:"password",id:"password",type:"password",required:!0,value:nt,onChange:dt=>st(dt.target.value)})]}),ot&&jsxRuntimeExports.jsx("div",{className:"text-red-600 text-sm mb-2",children:ot}),jsxRuntimeExports.jsx("div",{className:"flex justify-between items-center gap-3 mt-6",children:jsxRuntimeExports.jsx("button",{disabled:it,className:"[background:linear-gradient(144deg,#af40ff,#5b42f3_50%,#00ddeb)] text-white w-full px-4 py-2 font-bold rounded-md hover:opacity-80 disabled:opacity-50",type:"submit",children:it?"  ...":""})})]})]}),jsxRuntimeExports.jsx("div",{className:"text-slate-400 text-xs mt-3",children:"      "}),jsxRuntimeExports.jsx("div",{className:"text-slate-400 text-xs mt-3",children:" www.mrk.co.ir"})]})},Signup=({onSignupSuccess:et,switchToLogin:_e})=>{const[tt,rt]=reactExports.useState({email:"",username:"",password:"",firstName:"",lastName:""}),[nt,st]=reactExports.useState(!1),[it,at]=reactExports.useState(null),ot=useAuth(),lt=ut=>rt(dt=>({...dt,[ut.target.name]:ut.target.value})),ct=async ut=>{var dt;ut.preventDefault(),at(null),st(!0);try{await ot.signup(tt),localStorage.setItem("isLoggedIn","true"),et==null||et()}catch(ft){if(((dt=ft==null?void 0:ft.payload)==null?void 0:dt.error)==="VALIDATION_ERROR"){const ht=Object.values(ft.payload.errors||{}).join(" - ");at(ht||" ")}else at(ft.message||"  ")}finally{st(!1)}};return jsxRuntimeExports.jsxs("div",{dir:"rtl",className:"flex flex-col justify-center items-center h-screen bg-slate-200",children:[jsxRuntimeExports.jsxs("div",{className:"max-w-md mx-auto relative overflow-hidden z-10 bg-white p-8 rounded-lg shadow-md before:w-24 before:h-24 before:absolute before:bg-purple-500 before:rounded-full before:-z-10 before:blur-2xl after:w-32 after:h-32 after:absolute after:bg-sky-400 after:rounded-full after:-z-10 after:blur-xl after:top-24 after:-right-12",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl text-sky-900 font-bold mb-6",children:""}),jsxRuntimeExports.jsxs("form",{onSubmit:ct,children:[jsxRuntimeExports.jsxs("div",{className:"mb-3",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-600",children:""}),jsxRuntimeExports.jsx("input",{dir:"ltr",name:"email",className:"mt-1 p-2 w-full border rounded-md",type:"email",value:tt.email,onChange:lt,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"mb-3",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-600",children:" "}),jsxRuntimeExports.jsx("input",{dir:"ltr",name:"username",className:"mt-1 p-2 w-full border rounded-md",type:"text",value:tt.username,onChange:lt,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"mb-3",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-600",children:""}),jsxRuntimeExports.jsx("input",{dir:"ltr",name:"firstName",className:"mt-1 p-2 w-full border rounded-md",type:"text",value:tt.firstName,onChange:lt})]}),jsxRuntimeExports.jsxs("div",{className:"mb-3",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-600",children:" "}),jsxRuntimeExports.jsx("input",{dir:"ltr",name:"lastName",className:"mt-1 p-2 w-full border rounded-md",type:"text",value:tt.lastName,onChange:lt})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-600",children:" "}),jsxRuntimeExports.jsx("input",{dir:"ltr",name:"password",id:"password",className:"mt-1 p-2 w-full border rounded-md",type:"password",value:tt.password,onChange:lt,required:!0})]}),it&&jsxRuntimeExports.jsx("div",{className:"text-red-600 text-sm mb-2",children:it}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center gap-3 mt-6",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:_e,className:"text-sm underline text-sky-700",children:""}),jsxRuntimeExports.jsx("button",{disabled:nt,className:"[background:linear-gradient(144deg,#af40ff,#5b42f3_50%,#00ddeb)] text-white w-full px-4 py-2 font-bold rounded-md hover:opacity-80 disabled:opacity-50",type:"submit",children:nt?"  ...":""})]})]})]}),jsxRuntimeExports.jsx("div",{className:"text-slate-400 text-xs mt-3",children:"      "}),jsxRuntimeExports.jsx("div",{className:"text-slate-400 text-xs mt-3",children:" www.mrk.co.ir"})]})},AuthForm=({onAuthSuccess:et})=>{const[_e,tt]=reactExports.useState("login");return _e==="login"?jsxRuntimeExports.jsx(Login,{onLoginSuccess:et,switchToSignup:()=>tt("signup")}):jsxRuntimeExports.jsx(Signup,{onSignupSuccess:et,switchToLogin:()=>tt("login")})},root=client.createRoot(document.getElementById("root")),Main=()=>{const[et,_e]=reactExports.useState(()=>localStorage.getItem("isLoggedIn")==="true");return jsxRuntimeExports.jsx(AuthProvider,{children:jsxRuntimeExports.jsx(MyContextProvider,{children:jsxRuntimeExports.jsx(AppEntry,{checkLogin:et,setCheckLogin:_e})})})},AppEntry=({checkLogin:et,setCheckLogin:_e})=>{const tt=useAuth();return reactExports.useEffect(()=>{tt.isAuthenticated&&_e(!0)},[tt.isAuthenticated]),tt.loading?jsxRuntimeExports.jsx("div",{className:"h-screen flex items-center justify-center",children:"  ..."}):tt.isAuthenticated?jsxRuntimeExports.jsx(App,{}):jsxRuntimeExports.jsx(AuthForm,{onAuthSuccess:()=>{_e(!0)}})};root.render(jsxRuntimeExports.jsx(Main,{}));export{domAnimation$7 as d};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}